/*! For license information please see main.14dd74f8.js.LICENSE.txt */
!function(){var e={67228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},22858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},23646:function(e,t,n){var r=n(67228);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},43269:function(e,t,n){var r=n(60379);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},95318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},46860:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},13884:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},80521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},98206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},63038:function(e,t,n){var r=n(22858),i=n(13884),a=n(60379),o=n(80521);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},319:function(e,t,n){var r=n(23646),i=n(46860),a=n(60379),o=n(98206);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},60379:function(e,t,n){var r=n(67228);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},87757:function(e,t,n){e.exports=n(19727)},30076:function(e,t,n){"use strict";n.d(t,{Z:function(){return ie}});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,a=String.fromCharCode,o=Object.assign;function s(e){return e.trim()}function u(e,t,n){return e.replace(t,n)}function l(e,t){return e.indexOf(t)}function c(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function f(e){return e.length}function h(e){return e.length}function p(e,t){return t.push(e),e}var m=1,g=1,v=0,y=0,x=0,b="";function w(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:m,column:g,length:o,return:""}}function _(e,t){return o(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function S(){return x=y>0?c(b,--y):0,g--,10===x&&(g=1,m--),x}function C(){return x=y<v?c(b,y++):0,g++,10===x&&(g=1,m++),x}function k(){return c(b,y)}function D(){return y}function T(e,t){return d(b,e,t)}function I(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function A(e){return m=g=1,v=f(b=e),y=0,[]}function M(e){return b="",e}function E(e){return s(T(y-1,P(91===e?e+2:40===e?e+1:e)))}function N(e){for(;(x=k())&&x<33;)C();return I(e)>2||I(x)>3?"":" "}function R(e,t){for(;--t&&C()&&!(x<48||x>102||x>57&&x<65||x>70&&x<97););return T(e,D()+(t<6&&32==k()&&32==C()))}function P(e){for(;C();)switch(x){case e:return y;case 34:case 39:34!==e&&39!==e&&P(x);break;case 40:41===e&&P(e);break;case 92:C()}return y}function O(e,t){for(;C()&&e+x!==57&&(e+x!==84||47!==k()););return"/*"+T(t,y-1)+"*"+a(47===e?e:C())}function L(e){for(;!I(k());)C();return T(e,y)}var F="-ms-",Z="-moz-",B="-webkit-",z="comm",V="rule",j="decl",W="@keyframes";function U(e,t){for(var n="",r=h(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function H(e,t,n,r){switch(e.type){case"@import":case j:return e.return=e.return||e.value;case z:return"";case W:return e.return=e.value+"{"+U(e.children,r)+"}";case V:e.value=e.props.join(",")}return f(n=U(e.children,r))?e.return=e.value+"{"+n+"}":""}function G(e,t){switch(function(e,t){return(((t<<2^c(e,0))<<2^c(e,1))<<2^c(e,2))<<2^c(e,3)}(e,t)){case 5103:return B+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return B+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return B+e+Z+e+F+e+e;case 6828:case 4268:return B+e+F+e+e;case 6165:return B+e+F+"flex-"+e+e;case 5187:return B+e+u(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return B+e+F+"flex-item-"+u(e,/flex-|-self/,"")+e;case 4675:return B+e+F+"flex-line-pack"+u(e,/align-content|flex-|-self/,"")+e;case 5548:return B+e+F+u(e,"shrink","negative")+e;case 5292:return B+e+F+u(e,"basis","preferred-size")+e;case 6060:return B+"box-"+u(e,"-grow","")+B+e+F+u(e,"grow","positive")+e;case 4554:return B+u(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return u(u(u(e,/(zoom-|grab)/,B+"$1"),/(image-set)/,B+"$1"),e,"")+e;case 5495:case 3959:return u(e,/(image-set\([^]*)/,B+"$1$`$1");case 4968:return u(u(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+B+e+e;case 4095:case 3583:case 4068:case 2532:return u(e,/(.+)-inline(.+)/,B+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(f(e)-1-t>6)switch(c(e,t+1)){case 109:if(45!==c(e,t+4))break;case 102:return u(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+Z+(108==c(e,t+3)?"$3":"$2-$3"))+e;case 115:return~l(e,"stretch")?G(u(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==c(e,t+1))break;case 6444:switch(c(e,f(e)-3-(~l(e,"!important")&&10))){case 107:return u(e,":",":"+B)+e;case 101:return u(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+B+(45===c(e,14)?"inline-":"")+"box$3$1"+B+"$2$3$1"+F+"$2box$3")+e}break;case 5936:switch(c(e,t+11)){case 114:return B+e+F+u(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return B+e+F+u(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return B+e+F+u(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return B+e+F+e+e}return e}function X(e){return M(q("",null,null,null,[""],e=A(e),0,[0],e))}function q(e,t,n,r,i,o,s,c,d){for(var h=0,m=0,g=s,v=0,y=0,x=0,b=1,w=1,_=1,T=0,I="",A=i,M=o,P=r,F=I;w;)switch(x=T,T=C()){case 40:if(108!=x&&58==F.charCodeAt(g-1)){-1!=l(F+=u(E(T),"&","&\f"),"&\f")&&(_=-1);break}case 34:case 39:case 91:F+=E(T);break;case 9:case 10:case 13:case 32:F+=N(x);break;case 92:F+=R(D()-1,7);continue;case 47:switch(k()){case 42:case 47:p(K(O(C(),D()),t,n),d);break;default:F+="/"}break;case 123*b:c[h++]=f(F)*_;case 125*b:case 59:case 0:switch(T){case 0:case 125:w=0;case 59+m:y>0&&f(F)-g&&p(y>32?Q(F+";",r,n,g-1):Q(u(F," ","")+";",r,n,g-2),d);break;case 59:F+=";";default:if(p(P=Y(F,t,n,h,m,i,c,I,A=[],M=[],g),o),123===T)if(0===m)q(F,t,P,P,A,o,g,c,M);else switch(v){case 100:case 109:case 115:q(e,P,P,r&&p(Y(e,P,P,0,0,i,c,I,i,A=[],g),M),i,M,g,c,r?A:M);break;default:q(F,P,P,P,[""],M,0,c,M)}}h=m=y=0,b=_=1,I=F="",g=s;break;case 58:g=1+f(F),y=x;default:if(b<1)if(123==T)--b;else if(125==T&&0==b++&&125==S())continue;switch(F+=a(T),T*b){case 38:_=m>0?1:(F+="\f",-1);break;case 44:c[h++]=(f(F)-1)*_,_=1;break;case 64:45===k()&&(F+=E(C())),v=k(),m=g=f(I=F+=L(D())),T++;break;case 45:45===x&&2==f(F)&&(b=0)}}return o}function Y(e,t,n,r,a,o,l,c,f,p,m){for(var g=a-1,v=0===a?o:[""],y=h(v),x=0,b=0,_=0;x<r;++x)for(var S=0,C=d(e,g+1,g=i(b=l[x])),k=e;S<y;++S)(k=s(b>0?v[S]+" "+C:u(C,/&\f/g,v[S])))&&(f[_++]=k);return w(e,t,n,0===a?V:c,f,p,m)}function K(e,t,n){return w(e,t,n,z,a(x),d(e,2,-2),0)}function Q(e,t,n,r){return w(e,t,n,j,d(e,0,r),d(e,r+1,-1),r)}var J=function(e,t,n){for(var r=0,i=0;r=i,i=k(),38===r&&12===i&&(t[n]=1),!I(i);)C();return T(e,y)},$=function(e,t){return M(function(e,t){var n=-1,r=44;do{switch(I(r)){case 0:38===r&&12===k()&&(t[n]=1),e[n]+=J(y-1,t,n);break;case 2:e[n]+=E(r);break;case 4:if(44===r){e[++n]=58===k()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=a(r)}}while(r=C());return e}(A(e),t))},ee=new WeakMap,te=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ee.get(n))&&!r){ee.set(e,!0);for(var i=[],a=$(t,i),o=n.props,s=0,u=0;s<a.length;s++)for(var l=0;l<o.length;l++,u++)e.props[u]=i[s]?a[s].replace(/&\f/g,o[l]):o[l]+" "+a[s]}}},ne=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case j:e.return=G(e.value,e.length);break;case W:return U([_(e,{value:u(e.value,"@","@"+B)})],r);case V:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return U([_(e,{props:[u(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return U([_(e,{props:[u(t,/:(plac\w+)/,":-webkit-input-$1")]}),_(e,{props:[u(t,/:(plac\w+)/,":-moz-$1")]}),_(e,{props:[u(t,/:(plac\w+)/,F+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var a,o,s={},u=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;u.push(e)}));var l,c,d=[H,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=h(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}([te,ne].concat(i,d));o=function(e,t,n,r){l=n,U(X(e?e+"{"+t.styles+"}":t.styles),f),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:o};return p.sheet.hydrate(u),p}},93782:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},61688:function(e,t,n){"use strict";var r;n.d(t,{T:function(){return u},w:function(){return s}});var i=n(72791),a=n(30076),o=(n(51346),(0,i.createContext)("undefined"!==typeof HTMLElement?(0,a.Z)({key:"css"}):null));o.Provider;var s=function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(o);return e(t,r,n)}))},u=(0,i.createContext)({});(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect},51346:function(e,t,n){"use strict";n.d(t,{O:function(){return m}});var r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a=n(93782),o=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function(e){return 45===e.charCodeAt(1)},l=function(e){return null!=e&&"boolean"!==typeof e},c=(0,a.Z)((function(e){return u(e)?e:e.replace(o,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,n){return h={name:t,styles:n,next:h},t}))}return 1===i[e]||u(e)||"number"!==typeof t||0===t?t:t+"px"};function f(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return h={name:n.name,styles:n.styles,next:h},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)h={name:r.name,styles:r.styles,next:h},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=f(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":l(o)&&(r+=c(a)+":"+d(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=f(e,t,o);switch(a){case"animation":case"animationName":r+=c(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var u=0;u<o.length;u++)l(o[u])&&(r+=c(a)+":"+d(a,o[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=h,a=n(e);return h=i,f(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var h,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var m=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,a="";h=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,a+=f(n,t,o)):a+=o[0];for(var s=1;s<e.length;s++)a+=f(n,t,e[s]),i&&(a+=o[s]);p.lastIndex=0;for(var u,l="";null!==(u=p.exec(a));)l+="-"+u[1];return{name:r(a)+l,styles:a,next:h}}},95438:function(e,t,n){"use strict";n.d(t,{My:function(){return a},fp:function(){return r},hC:function(){return i}});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},a=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0);a=a.next}while(void 0!==a)}}},40478:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),a=n(80184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 12-4-4h8l-4 4z"}),"ArrowDropDownCircle");t.Z=o},15054:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),a=n(80184),o=(0,i.default)((0,a.jsx)("path",{d:"m22 2-2.5 1.4L17 2l1.4 2.5L17 7l2.5-1.4L22 7l-1.4-2.5zm-7.63 5.29a.9959.9959 0 0 0-1.41 0L1.29 18.96c-.39.39-.39 1.02 0 1.41l2.34 2.34c.39.39 1.02.39 1.41 0L16.7 11.05c.39-.39.39-1.02 0-1.41l-2.33-2.35zm-1.03 5.49-2.12-2.12 2.44-2.44 2.12 2.12-2.44 2.44z"}),"AutoFixNormal");t.Z=o},86711:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),a=n(80184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.Z=o},46928:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),a=n(80184),o=(0,i.default)((0,a.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"}),"CheckOutlined");t.Z=o},31009:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),a=n(80184),o=(0,i.default)((0,a.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");t.Z=o},38996:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),a=n(80184),o=(0,i.default)((0,a.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");t.Z=o},81131:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),a=n(80184),o=(0,i.default)((0,a.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=o},83940:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),a=n(80184),o=(0,i.default)((0,a.jsx)("path",{d:"M5 18h14v2H5v-2zm4.6-2.7L5 10.7l2-1.9 2.6 2.6L17 4l2 2-9.4 9.3z"}),"FileDownloadDone");t.Z=o},15423:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),a=n(80184),o=(0,i.default)((0,a.jsx)("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload");t.Z=o},31592:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),a=n(80184),o=(0,i.default)((0,a.jsx)("path",{d:"M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"}),"FindInPage");t.Z=o},89885:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),a=n(80184),o=(0,i.default)((0,a.jsx)("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"}),"InsertDriveFile");t.Z=o},85172:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),a=n(80184),o=(0,i.default)((0,a.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");t.Z=o},95678:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),a=n(80184),o=(0,i.default)((0,a.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");t.Z=o},75335:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),a=n(80184),o=(0,i.default)((0,a.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"}),"Mail");t.Z=o},98008:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),a=n(80184),o=(0,i.default)((0,a.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");t.Z=o},8698:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),a=n(80184),o=(0,i.default)((0,a.jsx)("path",{d:"M19 3H4.99c-1.11 0-1.98.9-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10zm-3-5h-2V7h-4v3H8l4 4 4-4z"}),"MoveToInbox");t.Z=o},59737:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),a=n(80184),o=(0,i.default)((0,a.jsx)("path",{d:"m3.5 18.49 6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"}),"ShowChart");t.Z=o},45649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(28610)},99259:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(87462),i=n(63366),a=n(72791),o=n(28182),s=n(94419),u=n(14036),l=n(61046),c=n(47630),d=n(21217);function f(e){return(0,d.Z)("MuiSvgIcon",e)}(0,n(75878).Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var h=n(80184),p=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=(0,c.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat((0,u.Z)(n.color))],t["fontSize".concat((0,u.Z)(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,s,u,l,c,d,f,h,p,m,g,v,y=e.theme,x=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=y.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=y.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=y.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(s=y.typography)||null==(u=s.pxToRem)?void 0:u.call(s,24))||"1.5rem",large:(null==(l=y.typography)||null==(c=l.pxToRem)?void 0:c.call(l,35))||"2.1875"}[x.fontSize],color:null!=(d=null==(f=(y.vars||y).palette)||null==(h=f[x.color])?void 0:h.main)?d:{action:null==(p=(y.vars||y).palette)||null==(m=p.action)?void 0:m.active,disabled:null==(g=(y.vars||y).palette)||null==(v=g.action)?void 0:v.disabled,inherit:void 0}[x.color]}})),g=a.forwardRef((function(e,t){var n=(0,l.Z)({props:e,name:"MuiSvgIcon"}),a=n.children,c=n.className,d=n.color,g=void 0===d?"inherit":d,v=n.component,y=void 0===v?"svg":v,x=n.fontSize,b=void 0===x?"medium":x,w=n.htmlColor,_=n.inheritViewBox,S=void 0!==_&&_,C=n.titleAccess,k=n.viewBox,D=void 0===k?"0 0 24 24":k,T=(0,i.Z)(n,p),I=(0,r.Z)({},n,{color:g,component:y,fontSize:b,instanceFontSize:e.fontSize,inheritViewBox:S,viewBox:D}),A={};S||(A.viewBox=D);var M=function(e){var t=e.color,n=e.fontSize,r=e.classes,i={root:["root","inherit"!==t&&"color".concat((0,u.Z)(t)),"fontSize".concat((0,u.Z)(n))]};return(0,s.Z)(i,f,r)}(I);return(0,h.jsxs)(m,(0,r.Z)({as:y,className:(0,o.Z)(M.root,c),ownerState:I,focusable:"false",color:w,"aria-hidden":!C||void 0,role:C?"img":void 0,ref:t},A,T,{children:[a,C?(0,h.jsx)("title",{children:C}):null]}))}));g.muiName="SvgIcon";var v=g},61979:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var r=n(87462),i=n(63366),a=n(82466),o=n(85080),s=n(4942);function u(e,t){var n;return(0,r.Z)({toolbar:(n={minHeight:56},(0,s.Z)(n,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,s.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}var l=n(46189),c=n(12065),d={black:"#000",white:"#fff"},f={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},h={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},v={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},x=["mode","contrastThreshold","tonalOffset"],b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function _(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,c.$n)(e.main,i):"dark"===t&&(e.dark=(0,c._j)(e.main,a)))}function S(e){var t=e.mode,n=void 0===t?"light":t,o=e.contrastThreshold,s=void 0===o?3:o,u=e.tonalOffset,S=void 0===u?.2:u,C=(0,i.Z)(e,x),k=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[200],light:g[50],dark:g[400]}:{main:g[700],light:g[400],dark:g[800]}}(n),D=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:h[200],light:h[50],dark:h[400]}:{main:h[500],light:h[300],dark:h[700]}}(n),T=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(n),I=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:v[700],light:v[500],dark:v[900]}}(n),A=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[800],light:y[500],dark:y[900]}}(n),M=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:"#ed6c02",light:m[500],dark:m[900]}}(n);function E(e){return(0,c.mi)(e,w.text.primary)>=s?w.text.primary:b.text.primary}var N=function(e){var t=e.color,n=e.name,i=e.mainShade,a=void 0===i?500:i,o=e.lightShade,s=void 0===o?300:o,u=e.darkShade,c=void 0===u?700:u;if(!(t=(0,r.Z)({},t)).main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error((0,l.Z)(11,n?" (".concat(n,")"):"",a));if("string"!==typeof t.main)throw new Error((0,l.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return _(t,"light",s,S),_(t,"dark",c,S),t.contrastText||(t.contrastText=E(t.main)),t},R={dark:w,light:b};return(0,a.Z)((0,r.Z)({common:(0,r.Z)({},d),mode:n,primary:N({color:k,name:"primary"}),secondary:N({color:D,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:N({color:T,name:"error"}),warning:N({color:M,name:"warning"}),info:N({color:I,name:"info"}),success:N({color:A,name:"success"}),grey:f,contrastThreshold:s,getContrastText:E,augmentColor:N,tonalOffset:S},R[n]),C)}var C=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var k={textTransform:"uppercase"},D='"Roboto", "Helvetica", "Arial", sans-serif';function T(e,t){var n="function"===typeof t?t(e):t,o=n.fontFamily,s=void 0===o?D:o,u=n.fontSize,l=void 0===u?14:u,c=n.fontWeightLight,d=void 0===c?300:c,f=n.fontWeightRegular,h=void 0===f?400:f,p=n.fontWeightMedium,m=void 0===p?500:p,g=n.fontWeightBold,v=void 0===g?700:g,y=n.htmlFontSize,x=void 0===y?16:y,b=n.allVariants,w=n.pxToRem,_=(0,i.Z)(n,C);var S=l/14,T=w||function(e){return"".concat(e/x*S,"rem")},I=function(e,t,n,i,a){return(0,r.Z)({fontFamily:s,fontWeight:e,fontSize:T(t),lineHeight:n},s===D?{letterSpacing:"".concat((o=i/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},A={h1:I(d,96,1.167,-1.5),h2:I(d,60,1.2,-.5),h3:I(h,48,1.167,0),h4:I(h,34,1.235,.25),h5:I(h,24,1.334,0),h6:I(m,20,1.6,.15),subtitle1:I(h,16,1.75,.15),subtitle2:I(m,14,1.57,.1),body1:I(h,16,1.5,.15),body2:I(h,14,1.43,.15),button:I(m,14,1.75,.4,k),caption:I(h,12,1.66,.4),overline:I(h,12,2.66,1,k)};return(0,a.Z)((0,r.Z)({htmlFontSize:x,pxToRem:T,fontFamily:s,fontSize:l,fontWeightLight:d,fontWeightRegular:h,fontWeightMedium:m,fontWeightBold:v},A),_,{clone:!1})}function I(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var A=["none",I(0,2,1,-1,0,1,1,0,0,1,3,0),I(0,3,1,-2,0,2,2,0,0,1,5,0),I(0,3,3,-2,0,3,4,0,0,1,8,0),I(0,2,4,-1,0,4,5,0,0,1,10,0),I(0,3,5,-1,0,5,8,0,0,1,14,0),I(0,3,5,-1,0,6,10,0,0,1,18,0),I(0,4,5,-2,0,7,10,1,0,2,16,1),I(0,5,5,-3,0,8,10,1,0,3,14,2),I(0,5,6,-3,0,9,12,1,0,3,16,2),I(0,6,6,-3,0,10,14,1,0,4,18,3),I(0,6,7,-4,0,11,15,1,0,4,20,3),I(0,7,8,-4,0,12,17,2,0,5,22,4),I(0,7,8,-4,0,13,19,2,0,5,24,4),I(0,7,9,-4,0,14,21,2,0,5,26,4),I(0,8,9,-5,0,15,22,2,0,6,28,5),I(0,8,10,-5,0,16,24,2,0,6,30,5),I(0,8,11,-5,0,17,26,2,0,6,32,5),I(0,9,11,-5,0,18,28,2,0,7,34,6),I(0,9,12,-6,0,19,29,2,0,7,36,6),I(0,10,13,-6,0,20,31,3,0,8,38,7),I(0,10,13,-6,0,21,33,3,0,8,40,7),I(0,10,14,-6,0,22,35,3,0,8,42,7),I(0,11,14,-7,0,23,36,3,0,9,44,8),I(0,11,15,-7,0,24,38,3,0,9,46,8)],M=n(81314),E={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},N=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,s=e.palette,l=void 0===s?{}:s,c=e.transitions,d=void 0===c?{}:c,f=e.typography,h=void 0===f?{}:f,p=(0,i.Z)(e,N),m=S(l),g=(0,o.Z)(e),v=(0,a.Z)(g,{mixins:u(g.breakpoints,n),palette:m,shadows:A.slice(),typography:T(m,h),transitions:(0,M.ZP)(d),zIndex:(0,r.Z)({},E)});v=(0,a.Z)(v,p);for(var y=arguments.length,x=new Array(y>1?y-1:0),b=1;b<y;b++)x[b-1]=arguments[b];return v=x.reduce((function(e,t){return(0,a.Z)(e,t)}),v)}var P=R},81314:function(e,t,n){"use strict";n.d(t,{ZP:function(){return c},x9:function(){return s}});var r=n(63366),i=n(87462),a=["duration","easing","delay"],o={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},s={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function u(e){return"".concat(Math.round(e),"ms")}function l(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function c(e){var t=(0,i.Z)({},o,e.easing),n=(0,i.Z)({},s,e.duration);return(0,i.Z)({getAutoHeightDuration:l,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.duration,s=void 0===o?n.standard:o,l=i.easing,c=void 0===l?t.easeInOut:l,d=i.delay,f=void 0===d?0:d;(0,r.Z)(i,a);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:u(s)," ").concat(c," ").concat("string"===typeof f?f:u(f))})).join(",")}},e,{easing:t,duration:n})}},36482:function(e,t,n){"use strict";var r=(0,n(61979).Z)();t.Z=r},47630:function(e,t,n){"use strict";n.d(t,{ZP:function(){return T},FO:function(){return C},Dz:function(){return k}});var r=n(93433),i=n(29439),a=n(87462),o=n(63366),s=n(80594),u=n(85080),l=n(27312),c=["variant"];function d(e){return 0===e.length}function f(e){var t=e.variant,n=(0,o.Z)(e,c),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?d(r)?e[t]:(0,l.Z)(e[t]):"".concat(d(r)?t:(0,l.Z)(t)).concat((0,l.Z)(e[t].toString()))})),r}var h=n(60104),p=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],m=["theme"],g=["theme"];function v(e){return 0===Object.keys(e).length}var y=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},x=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=f(e.props);r[t]=e.style})),r},b=function(e,t,n,r){var i,a,o=e.ownerState,s=void 0===o?{}:o,u=[],l=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return l&&l.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&u.push(t[f(n.props)])})),u};function w(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var _=(0,u.Z)();var S=n(36482),C=function(e){return w(e)&&"classes"!==e},k=w,D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?_:t,u=e.rootShouldForwardProp,l=void 0===u?w:u,c=e.slotShouldForwardProp,d=void 0===c?w:c,f=e.styleFunctionSx,S=void 0===f?h.Z:f;return function(e){var t,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=u.name,f=u.slot,h=u.skipVariantsResolver,_=u.skipSx,C=u.overridesResolver,k=(0,o.Z)(u,p),D=void 0!==h?h:f&&"Root"!==f||!1,T=_||!1;var I=w;"Root"===f?I=l:f&&(I=d);var A=(0,s.ZP)(e,(0,a.Z)({shouldForwardProp:I,label:t},k)),M=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),u=1;u<t;u++)s[u-1]=arguments[u];var l=s?s.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=(0,o.Z)(t,m);return e((0,a.Z)({theme:v(r)?n:r},i))}:e})):[],d=e;c&&C&&l.push((function(e){var t=v(e.theme)?n:e.theme,r=y(c,t);if(r){var o={};return Object.entries(r).forEach((function(n){var r=(0,i.Z)(n,2),s=r[0],u=r[1];o[s]="function"===typeof u?u((0,a.Z)({},e,{theme:t})):u})),C(e,o)}return null})),c&&!D&&l.push((function(e){var t=v(e.theme)?n:e.theme;return b(e,x(c,t),t,c)})),T||l.push((function(e){var t=v(e.theme)?n:e.theme;return S((0,a.Z)({},e,{theme:t}))}));var f=l.length-s.length;if(Array.isArray(e)&&f>0){var h=new Array(f).fill("");(d=[].concat((0,r.Z)(e),(0,r.Z)(h))).raw=[].concat((0,r.Z)(e.raw),(0,r.Z)(h))}else"function"===typeof e&&e.__emotion_real!==e&&(d=function(t){var r=t.theme,i=(0,o.Z)(t,g);return e((0,a.Z)({theme:v(r)?n:r},i))});var p=A.apply(void 0,[d].concat((0,r.Z)(l)));return p};return A.withConfig&&(M.withConfig=A.withConfig),M}}({defaultTheme:S.Z,rootShouldForwardProp:C}),T=D},61046:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(35735);var i=n(30418);function a(e){var t=e.props,n=e.name,a=e.defaultTheme,o=function(e){var t=e.theme,n=e.name,i=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.Z)(t.components[n].defaultProps,i):i}({theme:(0,i.Z)(a),name:n,props:t});return o}var o=n(36482);function s(e){return a({props:e.props,name:e.name,defaultTheme:o.Z})}},14036:function(e,t,n){"use strict";var r=n(27312);t.Z=r.Z},31260:function(e,t,n){"use strict";var r=n(78949);t.Z=r.Z},74223:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(87462),i=n(72791),a=n(99259),o=n(80184);function s(e,t){var n=function(n,i){return(0,o.jsx)(a.Z,(0,r.Z)({"data-testid":"".concat(t,"Icon"),ref:i},n,{children:e}))};return n.muiName=a.Z.muiName,i.memo(i.forwardRef(n))}},83199:function(e,t,n){"use strict";var r=n(93981);t.Z=r.Z},28610:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return i.Z},createChainedFunction:function(){return a.Z},createSvgIcon:function(){return o.Z},debounce:function(){return s.Z},deprecatedPropType:function(){return u},isMuiElement:function(){return l.Z},ownerDocument:function(){return c.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return f},setRef:function(){return h},unstable_ClassNameGenerator:function(){return w},unstable_useEnhancedEffect:function(){return p.Z},unstable_useId:function(){return m.Z},unsupportedProp:function(){return g},useControlled:function(){return v.Z},useEventCallback:function(){return y.Z},useForkRef:function(){return x.Z},useIsFocusVisible:function(){return b.Z}});var r=n(55902),i=n(14036),a=n(31260),o=n(74223),s=n(83199);var u=function(e,t){return function(){return null}},l=n(19103),c=n(98301),d=n(17602);n(87462);var f=function(e,t){return function(){return null}},h=n(62971).Z,p=n(40162),m=n(67384);var g=function(e,t,n,r,i){return null},v=n(98278),y=n(89683),x=n(42071),b=n(68221),w={configure:function(e){console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),r.Z.configure(e)}}},19103:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(72791);var i=function(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},98301:function(e,t,n){"use strict";var r=n(99723);t.Z=r.Z},17602:function(e,t,n){"use strict";var r=n(27979);t.Z=r.Z},98278:function(e,t,n){"use strict";var r=n(58959);t.Z=r.Z},40162:function(e,t,n){"use strict";var r=n(75721);t.Z=r.Z},89683:function(e,t,n){"use strict";var r=n(58956);t.Z=r.Z},42071:function(e,t,n){"use strict";var r=n(47563);t.Z=r.Z},67384:function(e,t,n){"use strict";var r=n(96248);t.Z=r.Z},68221:function(e,t,n){"use strict";var r=n(45372);t.Z=r.Z},68023:function(e,t,n){"use strict";var r=n(72791).createContext(null);t.Z=r},29598:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791),i=n(68023);function a(){return r.useContext(i.Z)}},80594:function(e,t,n){"use strict";n.d(t,{ZP:function(){return w}});var r=n(72791),i=n.t(r,2),a=n(87462),o=n(93782),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,u=(0,o.Z)((function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(61688),c=n(95438),d=n(51346),f=u,h=function(e){return"theme"!==e},p=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?f:h},m=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},g=i.useInsertionEffect?i.useInsertionEffect:function(e){e()};var v=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;(0,c.hC)(t,n,r);!function(e){g(e)}((function(){return(0,c.My)(t,n,r)}));return null},y=function e(t,n){var i,o,s=t.__emotion_real===t,u=s&&t.__emotion_base||t;void 0!==n&&(i=n.label,o=n.target);var f=m(t,n,s),h=f||p(u),g=!h("as");return function(){var y=arguments,x=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&x.push("label:"+i+";"),null==y[0]||void 0===y[0].raw)x.push.apply(x,y);else{0,x.push(y[0][0]);for(var b=y.length,w=1;w<b;w++)x.push(y[w],y[0][w])}var _=(0,l.w)((function(e,t,n){var i=g&&e.as||u,a="",s=[],m=e;if(null==e.theme){for(var y in m={},e)m[y]=e[y];m.theme=(0,r.useContext)(l.T)}"string"===typeof e.className?a=(0,c.fp)(t.registered,s,e.className):null!=e.className&&(a=e.className+" ");var b=(0,d.O)(x.concat(s),t.registered,m);a+=t.key+"-"+b.name,void 0!==o&&(a+=" "+o);var w=g&&void 0===f?p(i):h,_={};for(var S in e)g&&"as"===S||w(S)&&(_[S]=e[S]);return _.className=a,_.ref=n,(0,r.createElement)(r.Fragment,null,(0,r.createElement)(v,{cache:t,serialized:b,isStringTag:"string"===typeof i}),(0,r.createElement)(i,_))}));return _.displayName=void 0!==i?i:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=u,_.__emotion_styles=x,_.__emotion_forwardProp=f,Object.defineProperty(_,"toString",{value:function(){return"."+o}}),_.withComponent=function(t,r){return e(t,(0,a.Z)({},n,r,{shouldForwardProp:m(_,r,!0)})).apply(void 0,x)},_}},x=y.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){x[e]=x(e)}));var b=x;function w(e,t){return b(e,t)}},51184:function(e,t,n){"use strict";n.d(t,{L7:function(){return s},P$:function(){return u},VO:function(){return r},W8:function(){return o},k9:function(){return a}});var r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function a(e,t,n){var a=e.theme||{};if(Array.isArray(t)){var o=a.breakpoints||i;return t.reduce((function(e,r,i){return e[o.up(o.keys[i])]=n(t[i]),e}),{})}if("object"===typeof t){var s=a.breakpoints||i;return Object.keys(t).reduce((function(e,i){if(-1!==Object.keys(s.values||r).indexOf(i)){e[s.up(i)]=n(t[i],i)}else{var a=i;e[a]=t[a]}return e}),{})}return n(t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function s(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function u(e){var t,n=e.values,r=e.breakpoints,i=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((function(t,r){r<e.length&&(n[t]=!0)})):r.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,r),a=Object.keys(i);return 0===a.length?n:a.reduce((function(e,r,i){return Array.isArray(n)?(e[r]=null!=n[i]?n[i]:n[t],t=i):(e[r]=null!=n[r]?n[r]:n[t]||n,t=r),e}),{})}},12065:function(e,t,n){"use strict";n.d(t,{$n:function(){return d},Fq:function(){return l},_j:function(){return c},mi:function(){return u}});var r=n(46189);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));var i,o=e.substring(t+1,e.length-1);if("color"===n){if(i=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else o=o.split(",");return{type:n,values:o=o.map((function(e){return parseFloat(e)})),colorSpace:i}}function o(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function s(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},l="rgb",c=[Math.round(255*u(0)),Math.round(255*u(8)),Math.round(255*u(4))];return"hsla"===e.type&&(l+="a",c.push(t[3])),o({type:l,values:c})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u(e,t){var n=s(e),r=s(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function l(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,o(e)}function c(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function d(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return o(e)}},85080:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(87462),i=n(63366),a=n(82466),o=n(4942),s=["values","unit","step"];function u(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,a=e.unit,u=void 0===a?"px":a,l=e.step,c=void 0===l?5:l,d=(0,i.Z)(e,s),f=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,r.Z)({},e,(0,o.Z)({},t.key,t.val))}),{})}(n),h=Object.keys(f);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(u,")")}function m(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-c/100).concat(u,")")}function g(e,t){var r=h.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(u,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[h[r]]?n[h[r]]:t)-c/100).concat(u,")")}return(0,r.Z)({keys:h,values:f,up:p,down:m,between:g,only:function(e){return h.indexOf(e)+1<h.length?g(e,h[h.indexOf(e)+1]):p(e)},not:function(e){var t=h.indexOf(e);return 0===t?p(h[1]):t===h.length-1?m(h[t]):g(e,h[h.indexOf(e)+1]).replace("@media","@media not all and")},unit:u},d)}var l={borderRadius:4},c=n(45682);function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,c.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var f=["breakpoints","palette","spacing","shape"];var h=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.palette,s=void 0===o?{}:o,c=e.spacing,h=e.shape,p=void 0===h?{}:h,m=(0,i.Z)(e,f),g=u(n),v=d(c),y=(0,a.Z)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},s),spacing:v,shape:(0,r.Z)({},l,p)},m),x=arguments.length,b=new Array(x>1?x-1:0),w=1;w<x;w++)b[w-1]=arguments[w];return y=b.reduce((function(e,t){return(0,a.Z)(e,t)}),y)}},46001:function(e,t,n){"use strict";n.d(t,{Gc:function(){return Y},G$:function(){return q}});var r=n(18529),i=n(98247);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),a=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?(0,i.Z)(t,r[n](e)):t}),{})};return a.propTypes={},a.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),a},o=n(45682),s=n(51184);function u(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var l=(0,r.Z)({prop:"border",themeKey:"borders",transform:u}),c=(0,r.Z)({prop:"borderTop",themeKey:"borders",transform:u}),d=(0,r.Z)({prop:"borderRight",themeKey:"borders",transform:u}),f=(0,r.Z)({prop:"borderBottom",themeKey:"borders",transform:u}),h=(0,r.Z)({prop:"borderLeft",themeKey:"borders",transform:u}),p=(0,r.Z)({prop:"borderColor",themeKey:"palette"}),m=(0,r.Z)({prop:"borderTopColor",themeKey:"palette"}),g=(0,r.Z)({prop:"borderRightColor",themeKey:"palette"}),v=(0,r.Z)({prop:"borderBottomColor",themeKey:"palette"}),y=(0,r.Z)({prop:"borderLeftColor",themeKey:"palette"}),x=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,o.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,s.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,o.NA)(t,e)}}))}return null};x.propTypes={},x.filterProps=["borderRadius"];var b=a(l,c,d,f,h,p,m,g,v,y,x),w=a((0,r.Z)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),(0,r.Z)({prop:"display"}),(0,r.Z)({prop:"overflow"}),(0,r.Z)({prop:"textOverflow"}),(0,r.Z)({prop:"visibility"}),(0,r.Z)({prop:"whiteSpace"})),_=a((0,r.Z)({prop:"flexBasis"}),(0,r.Z)({prop:"flexDirection"}),(0,r.Z)({prop:"flexWrap"}),(0,r.Z)({prop:"justifyContent"}),(0,r.Z)({prop:"alignItems"}),(0,r.Z)({prop:"alignContent"}),(0,r.Z)({prop:"order"}),(0,r.Z)({prop:"flex"}),(0,r.Z)({prop:"flexGrow"}),(0,r.Z)({prop:"flexShrink"}),(0,r.Z)({prop:"alignSelf"}),(0,r.Z)({prop:"justifyItems"}),(0,r.Z)({prop:"justifySelf"})),S=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,o.eI)(e.theme,"spacing",8,"gap");return(0,s.k9)(e,e.gap,(function(e){return{gap:(0,o.NA)(t,e)}}))}return null};S.propTypes={},S.filterProps=["gap"];var C=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,o.eI)(e.theme,"spacing",8,"columnGap");return(0,s.k9)(e,e.columnGap,(function(e){return{columnGap:(0,o.NA)(t,e)}}))}return null};C.propTypes={},C.filterProps=["columnGap"];var k=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,o.eI)(e.theme,"spacing",8,"rowGap");return(0,s.k9)(e,e.rowGap,(function(e){return{rowGap:(0,o.NA)(t,e)}}))}return null};k.propTypes={},k.filterProps=["rowGap"];var D=a(S,C,k,(0,r.Z)({prop:"gridColumn"}),(0,r.Z)({prop:"gridRow"}),(0,r.Z)({prop:"gridAutoFlow"}),(0,r.Z)({prop:"gridAutoColumns"}),(0,r.Z)({prop:"gridAutoRows"}),(0,r.Z)({prop:"gridTemplateColumns"}),(0,r.Z)({prop:"gridTemplateRows"}),(0,r.Z)({prop:"gridTemplateAreas"}),(0,r.Z)({prop:"gridArea"})),T=a((0,r.Z)({prop:"position"}),(0,r.Z)({prop:"zIndex",themeKey:"zIndex"}),(0,r.Z)({prop:"top"}),(0,r.Z)({prop:"right"}),(0,r.Z)({prop:"bottom"}),(0,r.Z)({prop:"left"})),I=a((0,r.Z)({prop:"color",themeKey:"palette"}),(0,r.Z)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),(0,r.Z)({prop:"backgroundColor",themeKey:"palette"})),A=(0,r.Z)({prop:"boxShadow",themeKey:"shadows"});function M(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var E=(0,r.Z)({prop:"width",transform:M}),N=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,s.k9)(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||s.VO[t]||M(t)}}))}return null};N.filterProps=["maxWidth"];var R=(0,r.Z)({prop:"minWidth",transform:M}),P=(0,r.Z)({prop:"height",transform:M}),O=(0,r.Z)({prop:"maxHeight",transform:M}),L=(0,r.Z)({prop:"minHeight",transform:M}),F=((0,r.Z)({prop:"size",cssProperty:"width",transform:M}),(0,r.Z)({prop:"size",cssProperty:"height",transform:M}),a(E,N,R,P,O,L,(0,r.Z)({prop:"boxSizing"}))),Z=(0,r.Z)({prop:"fontFamily",themeKey:"typography"}),B=(0,r.Z)({prop:"fontSize",themeKey:"typography"}),z=(0,r.Z)({prop:"fontStyle",themeKey:"typography"}),V=(0,r.Z)({prop:"fontWeight",themeKey:"typography"}),j=(0,r.Z)({prop:"letterSpacing"}),W=(0,r.Z)({prop:"textTransform"}),U=(0,r.Z)({prop:"lineHeight"}),H=(0,r.Z)({prop:"textAlign"}),G=a((0,r.Z)({prop:"typography",cssProperty:!1,themeKey:"typography"}),Z,B,z,V,j,U,H,W),X={borders:b.filterProps,display:w.filterProps,flexbox:_.filterProps,grid:D.filterProps,positions:T.filterProps,palette:I.filterProps,shadows:A.filterProps,sizing:F.filterProps,spacing:o.ZP.filterProps,typography:G.filterProps},q={borders:b,display:w,flexbox:_,grid:D,positions:T,palette:I,shadows:A,sizing:F,spacing:o.ZP,typography:G},Y=Object.keys(X).reduce((function(e,t){return X[t].forEach((function(n){e[n]=q[t]})),e}),{})},98247:function(e,t,n){"use strict";var r=n(82466);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},45682:function(e,t,n){"use strict";n.d(t,{hB:function(){return m},eI:function(){return p},ZP:function(){return _},NA:function(){return g}});var r=n(29439),i=n(51184),a=n(18529),o=n(98247);var s={m:"margin",p:"padding"},u={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!l[e])return[e];e=l[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],a=n[1],o=s[i],c=u[a]||"";return Array.isArray(c)?c.map((function(e){return o+e})):[o+c]})),d=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],f=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[].concat(d,f);function p(e,t,n,r){var i,o=null!=(i=(0,a.D)(e,t))?i:n;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function m(e){return p(e,"spacing",8)}function g(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function v(e,t,n,r){if(-1===t.indexOf(n))return null;var a=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=g(t,n),e}),{})}}(c(n),r),o=e[n];return(0,i.k9)(e,o,a)}function y(e,t){var n=m(e.theme);return Object.keys(e).map((function(r){return v(e,t,r,n)})).reduce(o.Z,{})}function x(e){return y(e,d)}function b(e){return y(e,f)}function w(e){return y(e,h)}x.propTypes={},x.filterProps=d,b.propTypes={},b.filterProps=f,w.propTypes={},w.filterProps=h;var _=w},18529:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(4942),i=n(27312),a=n(51184);function o(e,t){if(!t||"string"!==typeof t)return null;if(e&&e.vars){var n="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=n)return n}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function s(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r)),r}t.Z=function(e){var t=e.prop,n=e.cssProperty,u=void 0===n?e.prop:n,l=e.themeKey,c=e.transform,d=function(e){if(null==e[t])return null;var n=e[t],d=o(e.theme,l)||{};return(0,a.k9)(e,n,(function(e){var n=s(d,c,e);return e===n&&"string"===typeof e&&(n=s(d,c,"".concat(t).concat("default"===e?"":(0,i.Z)(e)),e)),!1===u?n:(0,r.Z)({},u,n)}))};return d.propTypes={},d.filterProps=[t],d}},60104:function(e,t,n){"use strict";var r=n(4942),i=n(98247),a=n(46001),o=n(51184);function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function u(e,t){return"function"===typeof e?e(t):e}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.G$,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,i){var a,o=(a={},(0,r.Z)(a,e,n),(0,r.Z)(a,"theme",i),a),s=t[e];return s?s(o):(0,r.Z)({},e,n)}function l(e){var a=e||{},c=a.sx,d=a.theme,f=void 0===d?{}:d;if(!c)return null;function h(e){var a=e;if("function"===typeof e)a=e(f);else if("object"!==typeof e)return e;if(!a)return null;var c=(0,o.W8)(f.breakpoints),d=Object.keys(c),h=c;return Object.keys(a).forEach((function(e){var c=u(a[e],f);if(null!==c&&void 0!==c)if("object"===typeof c)if(t[e])h=(0,i.Z)(h,n(e,c,f));else{var d=(0,o.k9)({theme:f},c,(function(t){return(0,r.Z)({},e,t)}));s(d,c)?h[e]=l({sx:c,theme:f}):h=(0,i.Z)(h,d)}else h=(0,i.Z)(h,n(e,c,f))})),(0,o.L7)(d,h)}return Array.isArray(c)?c.map(h):h(c)}return l}();l.filterProps=["sx"],t.Z=l},30418:function(e,t,n){"use strict";var r=n(85080),i=n(69120),a=(0,r.Z)();t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return(0,i.Z)(e)}},69120:function(e,t,n){"use strict";var r=n(29598);function i(e){return 0===Object.keys(e).length}t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(0,r.Z)();return!t||i(t)?e:t}},55902:function(e,t){"use strict";var n=function(e){return e},r=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=r},27312:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(46189);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},94419:function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}n.d(t,{Z:function(){return r}})},78949:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{Z:function(){return r}})},93981:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{Z:function(){return r}})},82466:function(e,t,n){"use strict";n.d(t,{P:function(){return i},Z:function(){return a}});var r=n(87462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?o[r]=a(e[r],t[r],n):o[r]=t[r])})),o}},46189:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},21217:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(55902),i={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function a(e,t){return i[t]||"".concat(r.Z.generate(e),"-").concat(t)}},75878:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(21217);function i(e,t){var n={};return t.forEach((function(t){n[t]=(0,r.Z)(e,t)})),n}},99723:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return r}})},27979:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(99723);function i(e){return(0,r.Z)(e).defaultView||window}},35735:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(87462);function i(e,t){var n=(0,r.Z)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}},62971:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},58959:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(29439),i=n(72791);function a(e){var t=e.controlled,n=e.default,a=(e.name,e.state,i.useRef(void 0!==t).current),o=i.useState(n),s=(0,r.Z)(o,2),u=s[0],l=s[1];return[a?t:u,i.useCallback((function(e){a||l(e)}),[])]}},75721:function(e,t,n){"use strict";var r=n(72791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.Z=i},58956:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791),i=n(75721);function a(e){var t=r.useRef(e);return(0,i.Z)((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},47563:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791),i=n(62971);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,i.Z)(e,n),(0,i.Z)(t,n)}}),[e,t])}},96248:function(e,t,n){"use strict";var r;n.d(t,{Z:function(){return u}});var i=n(29439),a=n(72791),o=0;var s=(r||(r=n.t(a,2))).useId;function u(e){if(void 0!==s){var t=s();return null!=e?e:t}return function(e){var t=a.useState(e),n=(0,i.Z)(t,2),r=n[0],s=n[1],u=e||r;return a.useEffect((function(){null==r&&s("mui-".concat(o+=1))}),[r]),u}(e)}},45372:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r,i=n(72791),a=!0,o=!1,s={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function l(){a=!1}function c(){"hidden"===this.visibilityState&&o&&(a=!0)}function d(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!s[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function f(){var e=i.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",u,!0),t.addEventListener("mousedown",l,!0),t.addEventListener("pointerdown",l,!0),t.addEventListener("touchstart",l,!0),t.addEventListener("visibilitychange",c,!0))}),[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!d(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(o=!0,window.clearTimeout(r),r=window.setTimeout((function(){o=!1}),100),t.current=!1,!0)},ref:e}}},23193:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var r=n(43772);function i(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&r.D5U.assert("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors in the CPU backend.")}))}))}},96220:function(e,t,n){"use strict";n.d(t,{bk:function(){return a},fC:function(){return o}});var r=n(43772),i=n(23193);function a(e){for(var t=new Float32Array(e.length),n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}var o={kernelName:r.SYM,backendName:"cpu",kernelFunc:function(e){var t=e.inputs.x,n=e.backend;(0,i.H)(t,"abs");var o=new Float32Array(r.D5U.sizeFromShape(t.shape));return o=a(n.data.get(t.dataId).values),n.makeOutput(o,t.shape,t.dtype)}}},25589:function(e,t,n){"use strict";n.d(t,{EH:function(){return o},IH:function(){return u},j4:function(){return l}});var r=n(43772),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e+t})),s=(0,a.H)((function(e,t,n,r){return{real:e+n,imag:t+r}})),u=(0,a.j)(r.mm_,o,s),l={kernelName:r.mm_,backendName:"cpu",kernelFunc:u}},73737:function(e,t,n){"use strict";n.d(t,{W:function(){return i},i:function(){return a}});var r=n(43772);function i(e,t,n,i,a){for(var o=r.D5U.sizeFromShape(i),s=r.D5U.makeZerosTypedArray(a,n),u=0;u<e.length;u++){var l=e[u];if(l<0)throw new Error("Input x must be non-negative!");l>=a||(s[l]+=o>0?t[u]:1)}return s}function a(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.shape[0],o=e.shape[1],s=(0,r.f3b)([a,n],t.dtype),u=0;u<a;u++)for(var l=0;l<o;l++){var c=e.get(u,l);if(c<0)throw new Error("Input x must be non-negative!");c>=n||(i?s.set(1,u,c):t.size>0?s.set(s.get(u,c)+t.get(u,l),u,c):s.set(s.get(u,c)+1,u,c))}return s}},60570:function(e,t,n){"use strict";n.d(t,{M:function(){return d},p:function(){return c}});var r=n(29439),i=n(43772),a=n(69341),o=n(94842),s=n(36545),u=n(59090),l=n(36241);function c(e){var t=e.inputs,n=e.backend,d=e.attrs,f=t.x,h=d.dtype;if("complex64"===h){if("complex64"===f.dtype)return(0,u.y)({inputs:{x:f},backend:n});var p=(0,o.l)(n,f.shape,f.dtype),m=c({inputs:{x:f},backend:n,attrs:{dtype:"float32"}}),g=(0,s.P)({inputs:{real:m,imag:p},backend:n});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),g}if("complex64"===f.dtype){var v=(0,l.k)({inputs:{input:f},backend:n}),y=c({inputs:{x:v},backend:n,attrs:{dtype:h}});return n.disposeIntermediateTensorInfo(v),y}if(!i.D5U.hasEncodingLoss(f.dtype,h)){var x=(0,u.y)({inputs:{x:f},backend:n});return{dataId:x.dataId,shape:x.shape,dtype:h}}if("int32"===h){var b=n.data.get(f.dataId).values,w=Int32Array.from(b);return n.makeTensorInfo(f.shape,"int32",w)}if("bool"===h){var _=n.data.get(f.dataId).values,S=i.D5U.toTypedArray([0],f.dtype),C=(0,a.b)((function(e,t){return e!==t?1:0}))(f.shape,[],_,S,"bool"),k=(0,r.Z)(C,2),D=k[0],T=k[1];return n.makeTensorInfo(T,"bool",D)}throw new Error("Error in Cast: failed to cast ".concat(f.dtype," to ").concat(h))}var d={kernelName:i.RFZ,backendName:"cpu",kernelFunc:c}},94351:function(e,t,n){"use strict";n.d(t,{__:function(){return o},y2:function(){return u}});var r=n(43772),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.ceil(e)})),s=(0,a.O)(r.gJX,o),u={kernelName:r.gJX,backendName:"cpu",kernelFunc:s}},36545:function(e,t,n){"use strict";function r(e){var t=e.inputs,n=e.backend,r=t.real,i=t.imag,a=n.data.get(r.dataId).values,o=n.data.get(i.dataId).values,s=n.makeTensorInfo(r.shape,"complex64");return n.data.get(s.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",a),imag:n.makeTensorInfo(i.shape,"float32",o)},s}n.d(t,{P:function(){return r},z:function(){return i}});var i={kernelName:n(43772).Zz9,backendName:"cpu",kernelFunc:r}},46563:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});var r=n(43772);function i(e,t,n,i){var a=r.D5U.getArrayFromDType(n,r.D5U.sizeFromShape(t));if(i&&"string"!==n){var o=0;e.forEach((function(e){var t=r.D5U.sizeFromShape(e.shape);a.set(e.vals,o),o+=t}))}else{var s=0;e.forEach((function(e){for(var i="string"===n?r.Wap.fromUint8ToStringArray(e.vals):e.vals,o=0,u=0;u<e.shape[0];++u)for(var l=u*t[1]+s,c=0;c<e.shape[1];++c)a[l+c]=i[o++];s+=e.shape[1]}))}return a}},68116:function(e,t,n){"use strict";n.d(t,{Dg:function(){return s},Kx:function(){return u},tW:function(){return o}});var r=n(43772),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e===t?1:0})),s=(0,a.j)(r.hdR,o,null,"bool"),u={kernelName:r.hdR,backendName:"cpu",kernelFunc:s}},66880:function(e,t,n){"use strict";n.d(t,{Qq:function(){return s},Ro:function(){return o},SX:function(){return u}});var r=n(43772),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.exp(e)})),s=(0,a.O)(r.NEP,o,"float32"),u={kernelName:r.NEP,backendName:"cpu",kernelFunc:s}},21354:function(e,t,n){"use strict";n.d(t,{OF:function(){return o},Vu:function(){return u}});var r=n(43772),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.expm1(e)})),s=(0,a.O)(r.Y0y,o),u={kernelName:r.Y0y,backendName:"cpu",kernelFunc:s}},97224:function(e,t,n){"use strict";n.d(t,{Ao:function(){return u},r6:function(){return o}});var r=n(43772),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.floor(e)})),s=(0,a.O)(r.OR,o),u={kernelName:r.OR,backendName:"cpu",kernelFunc:s}},34351:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var r=n(93433),i=n(43772);function a(e,t,n,a,o,s,u,l,c){for(var d=(0,i.f3b)([a,s],n),f=0;f<a;f++){for(var h=[],p=0,m=0;m<o;m++){var g=e[f*o+m];p+=g*u[m],h.push(g)}if(p<0||p>=c/s)throw new Error("Invalid indices: ".concat(h," does not index into ").concat(l));for(var v=0;v<s;v++)d.values[f*s+v]=t.get.apply(t,(0,r.Z)(t.indexToLoc(p*s+v)))}return d}},82666:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});var r=n(43772);function i(e,t,n){for(var i=(0,r.f3b)(n,e.dtype),a=0;a<i.size;++a){var o=i.indexToLoc(a).slice(),s=o[0],u=o[2],l=t.locToIndex([s,u]);o[2]=t.values[l];var c=e.locToIndex(o);0<=c&&c<e.values.length&&(i.values[a]=e.values[c])}return i}},69075:function(e,t,n){"use strict";n.d(t,{Ce:function(){return u},o:function(){return o}});var r=n(43772),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e>t?1:0})),s=(0,a.j)(r.iZT,o,null,"bool"),u={kernelName:r.iZT,backendName:"cpu",kernelFunc:s}},26985:function(e,t,n){"use strict";n.d(t,{HL:function(){return o},V:function(){return u}});var r=n(43772),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e>=t?1:0})),s=(0,a.j)(r.Acj,o,null,"bool"),u={kernelName:r.Acj,backendName:"cpu",kernelFunc:s}},59090:function(e,t,n){"use strict";function r(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}n.d(t,{I:function(){return i},y:function(){return r}});var i={kernelName:n(43772).iJz,backendName:"cpu",kernelFunc:r}},39813:function(e,t,n){"use strict";n.d(t,{rO:function(){return o},zh:function(){return u}});var r=n(43772),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e<t?1:0})),s=(0,a.j)(r.vtC,o,null,"bool"),u={kernelName:r.vtC,backendName:"cpu",kernelFunc:s}},18734:function(e,t,n){"use strict";n.d(t,{lx:function(){return o},m3:function(){return u}});var r=n(43772),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e<=t?1:0})),s=(0,a.j)(r.CAk,o,null,"bool"),u={kernelName:r.CAk,backendName:"cpu",kernelFunc:s}},21491:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var r=n(43772);function i(e,t,n){var i=(t-e)/(n-1),a=r.D5U.makeZerosTypedArray(n,"float32");a[0]=e;for(var o=1;o<a.length;o++)a[o]=a[o-1]+i;return a}},68298:function(e,t,n){"use strict";n.d(t,{vX:function(){return o},xM:function(){return u}});var r=n(43772),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.log(e)})),s=(0,a.O)(r.ZbH,o),u={kernelName:r.ZbH,backendName:"cpu",kernelFunc:s}},4771:function(e,t,n){"use strict";n.d(t,{B:function(){return i}});var r=n(43772);function i(e,t,n,i){for(var a=r.D5U.getTypedArrayFromDType(i,r.D5U.sizeFromShape(n)),o=0;o<a.length;++o){for(var s=o*t,u=e[s],l=0;l<t;++l){var c=e[s+l];(Number.isNaN(c)||c>u)&&(u=c)}a[o]=u}return a}},89518:function(e,t,n){"use strict";n.d(t,{eJ:function(){return u},wS:function(){return o}});var r=n(43772),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return Math.max(e,t)})),s=(0,a.j)(r.BMI,o),u={kernelName:r.BMI,backendName:"cpu",kernelFunc:s}},38094:function(e,t,n){"use strict";n.d(t,{u0:function(){return u},vP:function(){return o}});var r=n(43772),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return Math.min(e,t)})),s=(0,a.j)(r.q8u,o),u={kernelName:r.q8u,backendName:"cpu",kernelFunc:s}},18244:function(e,t,n){"use strict";n.d(t,{$3:function(){return o},Jp:function(){return u},f$:function(){return l}});var r=n(43772),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e*t})),s=(0,a.H)((function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}})),u=(0,a.j)(r.wYn,o,s),l={kernelName:r.wYn,backendName:"cpu",kernelFunc:u}},54569:function(e,t,n){"use strict";n.d(t,{AF:function(){return u},uC:function(){return s}});var r=n(29439),i=n(43772),a=n(23193),o=n(18244);function s(e,t,n){var r=i.D5U.createScalarValue(-1,n);return(0,o.$3)([],t,r,e,n)}var u={kernelName:i.kuV,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=t.x;(0,a.H)(i,"neg");var o=s(n.data.get(i.dataId).values,i.shape,i.dtype),u=(0,r.Z)(o,2),l=u[0],c=u[1];return n.makeTensorInfo(c,i.dtype,l)}}},21566:function(e,t,n){"use strict";n.d(t,{Gj:function(){return o},nP:function(){return u}});var r=n(43772),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e!==t?1:0})),s=(0,a.j)(r.yQU,o,null,"bool"),u={kernelName:r.yQU,backendName:"cpu",kernelFunc:s}},89120:function(e,t,n){"use strict";n.d(t,{Iz:function(){return u},Qg:function(){return s}});var r=n(29439),i=n(43772),a=n(23193),o=n(65257);function s(e,t,n,a){for(var o=i.Wap.computeOutAndReduceShapes(e,a),s=(0,r.Z)(o,2),u=s[0],l=s[1],c=(0,i.x8V)(t,"int32"),d=i.D5U.makeZerosTypedArray(i.D5U.sizeFromShape(u),c),f=i.D5U.sizeFromShape(l),h=0;h<d.length;++h){for(var p=h*f,m=1,g=0;g<f;++g)m*=n[p+g];d[h]=m}return{outVals:d,outShape:u,outDtype:c}}var u={kernelName:i.DlI,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,u=t.x,l=r.axis,c=r.keepDims;(0,a.H)(u,"prod");var d=u.shape.length,f=i.D5U.parseAxisParam(l,u.shape),h=i.Wap.getAxesPermutation(f,d),p=f,m=u,g=[];null!=h&&(m=(0,o.p)({inputs:{x:u},backend:n,attrs:{perm:h}}),g.push(m),p=i.Wap.getInnerMostAxes(p.length,d));var v=n.data.get(m.dataId).values,y=s(m.shape,m.dtype,v,p),x=y.outVals,b=y.outShape,w=y.outDtype,_=b;return c&&(_=i.Wap.expandShapeToKeepDim(b,f)),g.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(_,w,x)}}},66284:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var r=n(43772);function i(e,t,n,i){if(e===t||e<t&&n<0||t<e&&n>1)return r.D5U.makeZerosTypedArray(0,i);var a=Math.abs(Math.ceil((t-e)/n)),o=r.D5U.makeZerosTypedArray(a,i);t<e&&1===n&&(n=-1),o[0]=e;for(var s=1;s<o.length;s++)o[s]=o[s-1]+n;return o}},36241:function(e,t,n){"use strict";function r(e){var t=e.inputs,n=e.backend,r=t.input,i=n.data.get(r.dataId).complexTensorInfos.real,a=n.data.get(i.dataId).values;return n.makeTensorInfo(i.shape,i.dtype,a)}n.d(t,{O:function(){return i},k:function(){return r}});var i={kernelName:n(43772).xJR,backendName:"cpu",kernelFunc:r}},78105:function(e,t,n){"use strict";n.d(t,{FY:function(){return u},zd:function(){return o}});var r=n(43772),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return 1/Math.sqrt(e)})),s=(0,a.O)(r.bV0,o),u={kernelName:r.bV0,backendName:"cpu",kernelFunc:s}},28567:function(e,t,n){"use strict";n.d(t,{N:function(){return i}});var r=n(43772);function i(e,t,n,i,a,o,s,u,l,c){var d=[i/a,a],f=e.values,h=t.values;if(0===i)return(0,r.f3b)(n,t.dtype);var p=(0,r.f3b)(d,t.dtype);"string"===typeof l||"number"===typeof l?p.values.fill(l):"boolean"===typeof l&&p.values.fill(+l);for(var m=0;m<o;m++){for(var g=[],v=0,y=0;y<s;y++){var x=f[m*s+y];g.push(x),v+=x*u[y]}if(v<0||v>=i/a)throw new Error("Invalid indices: ".concat(g," does not index into ").concat(n));for(var b=0;b<a;b++)c?p.values[v*a+b]+=h[m*a+b]:p.values[v*a+b]=0===t.rank?h[0]:h[m*a+b]}return p}},294:function(e,t,n){"use strict";n.d(t,{BP:function(){return u},VY:function(){return o},XD:function(){return s}});var r=n(43772),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return 1/(1+Math.exp(-e))})),s=(0,a.A)(r.a5O,(function(e){return 1/(1+Math.exp(-e))})),u={kernelName:r.a5O,backendName:"cpu",kernelFunc:s}},22126:function(e,t,n){"use strict";n.d(t,{C6:function(){return l},rT:function(){return s},tP:function(){return u}});var r=n(29439),i=n(93433),a=n(43772),o=n(23193);function s(e,t,n,r,o){var s=a.kuN.isSliceContinous(r,t,n),u=a.D5U.sizeFromShape(n),l=a.D5U.computeStrides(r);if(s){var c=a.kuN.computeFlatOffset(t,l);return"string"===o?e.slice(c,c+u):e.subarray(c,c+u)}for(var d="string"===o?a.Wap.fromUint8ToStringArray(e):e,f=(0,a.f3b)(r,o,d),h=(0,a.f3b)(n,o),p=0;p<h.size;++p){var m=h.indexToLoc(p),g=m.map((function(e,n){return e+t[n]}));h.set.apply(h,[f.get.apply(f,(0,i.Z)(g))].concat((0,i.Z)(m)))}return"string"===o?a.Wap.fromStringArrayToUint8(h.values):h.values}function u(e){var t=e.inputs,n=e.backend,i=e.attrs,u=t.x,l=i.begin,c=i.size;(0,o.H)(u,"slice");var d=a.kuN.parseSliceParams(u,l,c),f=(0,r.Z)(d,2),h=f[0],p=f[1];a.kuN.assertParamsValid(u,h,p);var m=s(n.data.get(u.dataId).values,h,p,u.shape,u.dtype);return n.makeTensorInfo(p,u.dtype,m)}var l={kernelName:a.p2w,backendName:"cpu",kernelFunc:u}},78337:function(e,t,n){"use strict";n.d(t,{c:function(){return i}});var r=n(43772);function i(e,t,n,i,a,o,s){var u=t[0],l=o[0],c=new Array(l),d=new Array(u),f=t[1];if(0===l){if(0!==u)throw new Error(r.Wap.getSparseFillEmptyRowsIndicesDenseShapeMismatch(u));return[r.D5U.getArrayFromDType(n,0),[0,f],r.D5U.getArrayFromDType(a,0),c,d]}for(var h=!0,p=0,m=new Array(l).fill(0),g=0;g<u;++g){var v=e[g*f];if(v<0)throw new Error(r.Wap.getSparseFillEmptyRowsNegativeIndexErrorMessage(g,v));if(v>=l)throw new Error(r.Wap.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(g,v,l));++m[v],h=h&&v>=p,p=v}for(var y=!0,x=0;x<l;++x){var b=0===m[x];c[x]=b,y=y&&!b,m[x]=Math.max(m[x],1),x>0&&(m[x]+=m[x-1])}if(y&&h){for(var w=e,_=i,S=0;S<u;++S)d[S]=S;return[w,[u,f],_,c,d]}for(var C=m[l-1],k=r.D5U.getArrayFromDType(n,C*f),D=r.D5U.getArrayFromDType(a,C),T=new Array(l).fill(0),I=0;I<u;++I){var A=e[I*f],M=T[A],E=(0===A?0:m[A-1])+M;T[A]++;for(var N=0;N<f;++N)k[E*f+N]=e[I*f+N];D[E]=i[I],d[I]=E}for(var R=0;R<l;++R){if(0===T[R]){var P=0===R?0:m[R-1];k[P*f+0]=R;for(var O=1;O<f;++O)k[P*f+O]=0;D[P]=s}}return[k,[C,f],D,c,d]}},63634:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(43772);function i(e,t,n,i,a){for(var o=r.D5U.sizeFromShape(i),s=t[0],u=a.length,l=[],c=1,d=-1,f=0;f<u;++f){var h=a[f];if(-1===h){if(-1!==d)throw new Error(r.Wap.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(d,f));d=f,l.push(1)}else{if(h<0)throw new Error(r.Wap.getSparseReshapeNegativeOutputDimErrorMessage(f,h));c*=h,l.push(h)}}if(-1!==d){if(c<=0)throw new Error(r.Wap.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage());var p=Math.trunc(o/c);if(c*p!==o)throw new Error(r.Wap.getSparseReshapeInputOutputMultipleErrorMessage(i,l));l[d]=p}if(r.D5U.sizeFromShape(l)!==o)throw new Error(r.Wap.getSparseReshapeInputOutputMismatchErrorMessage(i,l));var m=i.length,g=[];if(m>0){g[m-1]=1;for(var v=m-2;v>=0;--v)g[v]=g[v+1]*i[v+1]}var y=[];if(u>0){y[u-1]=1;for(var x=u-2;x>=0;--x)y[x]=y[x+1]*l[x+1]}for(var b=r.D5U.getArrayFromDType(n,s*u),w=0;w<s;++w){for(var _=0,S=0;S<m;++S)_+=e[w*m+S]*g[S];for(var C=0;C<u;++C)b[w*u+C]=Math.trunc(_/y[C]),_%=y[C]}return[b,[s,u],l]}},35440:function(e,t,n){"use strict";n.d(t,{V:function(){return i}});var r=n(43772);function i(e,t,n,i,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=i.length,l=[t[0],e.length/t[0]],c=l[1],d=u>0?a[u-1]+1:0,f=d;if(f<0)throw new Error(r.Wap.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());var h=t.slice();h[0]=f;var p=h.reduce((function(e,t){return e*t}),1),m=r.D5U.getArrayFromDType(n,p);if(0===u)return f>0&&m.fill(s),[m,h];if(f<=0)throw new Error(r.Wap.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());for(var g=0,v=1,y=0,x=a[g];;){var b=0;if(v<u){if(x===(b=a[v])){++v;continue}if(x>=b)throw new Error(r.Wap.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage())}if(x<0||x>=f)throw new Error(r.Wap.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(x,f));x>y&&m.fill(s,y*c,x*c);for(var w=g;w<v;++w){var _=i[w];if(_<0||_>=l[0])throw new Error(r.Wap.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(w,i[w],l[0]));for(var S=0;S<c;S++)m[x*c+S]+=e[_*c+S]}if(o)for(var C=0;C<c;C++)m[x*c+C]/=v-g;if(g=v,y=x+1,x=b,++v>u)break}return y<f&&m.fill(s,y*c,f*c),[m,h]}},4165:function(e,t,n){"use strict";n.d(t,{cz:function(){return u},zT:function(){return o}});var r=n(43772),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.sqrt(e)})),s=(0,a.A)(r.FKq,(function(e){return Math.sqrt(e)})),u={kernelName:r.FKq,backendName:"cpu",kernelFunc:s}},47497:function(e,t,n){"use strict";n.d(t,{t:function(){return a}});var r=n(93433),i=n(43772);function a(e,t,n,a){for(var o=(0,i.f3b)(e,t.dtype),s=0;s<o.size;s++){for(var u=o.indexToLoc(s),l=new Array(u.length),c=0;c<l.length;c++)l[c]=u[c]*n[c]+a[c];o.set.apply(o,[t.get.apply(t,l)].concat((0,r.Z)(u)))}return o}},18294:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var r=n(15671),i=n(43144),a=n(43772),o=function(){function e(t,n,i,o,s,u){(0,r.Z)(this,e),this.separator=a.D5U.encodeString(t),this.nGramWidths=n,this.leftPad=a.D5U.encodeString(i),this.rightPad=a.D5U.encodeString(o),this.padWidth=s,this.preserveShort=u}return(0,i.Z)(e,[{key:"getPadWidth",value:function(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}},{key:"getNumNGrams",value:function(e,t){var n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}},{key:"createNGrams",value:function(e,t,n,r,i,a){for(var o=this,s=function(s){var u=o.getPadWidth(a),l=Math.max(0,u-s),c=Math.max(0,u-(i-(s+1))),d=a-(l+c),f=t+(l>0?0:s-u),h=0;h+=l*o.leftPad.length;for(var p=0;p<d;++p)h+=e[f+p].length;h+=c*o.rightPad.length,h+=(l+c+d-1)*o.separator.length,n[r+s]=new Uint8Array(h);for(var m=n[r+s],g=0,v=function(e){return e.forEach((function(e){return m[g++]=e}))},y=0;y<l;++y)v(o.leftPad),v(o.separator);for(var x=0;x<d-1;++x)v(e[f+x]),v(o.separator);if(d>0){v(e[f+d-1]);for(var b=0;b<c;++b)v(o.separator),v(o.rightPad)}else{for(var w=0;w<c-1;++w)v(o.rightPad),v(o.separator);v(o.rightPad)}},u=0;u<i;++u)s(u)}},{key:"compute",value:function(e,t){var n=this,r=e.length,i=t.length;if(i>0){var o=t[0];if(0!==o)throw new Error("First split value must be 0, got ".concat(o));for(var s=1;s<i;++s){var u=t[s]>=o;if(!(u=u&&t[s]<=r))throw new Error("Invalid split value ".concat(t[s],", must be in [").concat(o,", ").concat(r,"]"));o=t[s]}if(o!==r)throw new Error("Last split value must be data size. Expected ".concat(r,", got ").concat(o))}var l=i-1,c=a.D5U.getArrayFromDType("int32",i);if(0===r||0===i){for(var d=new Array(r),f=0;f<=l;++f)c[f]=0;return[d,c]}c[0]=0;for(var h=function(e){var r=t[e]-t[e-1],i=0;n.nGramWidths.forEach((function(e){i+=n.getNumNGrams(r,e)})),n.preserveShort&&r>0&&0===i&&(i=1),c[e]=c[e-1]+i},p=1;p<=l;++p)h(p);for(var m=new Array(c[l]),g=function(r){var i=t[r],a=c[r];if(n.nGramWidths.forEach((function(o){var s=t[r+1]-t[r],u=n.getNumNGrams(s,o);n.createNGrams(e,i,m,a,u,o),a+=u})),n.preserveShort&&a===c[r]){var o=t[r+1]-t[r];if(0===o)return"continue";var s=o+2*n.padWidth;n.createNGrams(e,i,m,a,1,s)}},v=0;v<l;++v)g(v);return[m,c]}}]),e}();function s(e,t,n,r,i,a,s,u){return new o(n,r,i,a,s,u).compute(e,t)}},60998:function(e,t,n){"use strict";n.d(t,{Q:function(){return a}});var r=n(43772);function i(e,t,n,r){if(e.length)if(0!==t.length)if(1!==t.length){for(var i=0,a=0;a<e.length+1;a++)if(a===e.length||-1!==t.indexOf(e[a])){var o=e.subarray(i,a);n&&0===o.length||r.push(o),i=a+1}}else{for(var s=t[0],u=e.indexOf(s);-1!==u;){var l=e.subarray(0,u);n&&0===l.length||r.push(l),u=(e=e.subarray(u+1)).indexOf(s)}n&&0===e.length||r.push(e)}else for(var c=0;c<e.length;++c)r.push(e.subarray(c,c+1))}function a(e,t,n){for(var a=e.length,o=[],s=0,u=0,l=new Array(a),c=0;c<a;++c){var d=o.length;i(e[c],t,n,o);var f=o.length-d;l[c]=f,s+=f,u=Math.max(u,f)}for(var h=r.D5U.getArrayFromDType("int32",2*s),p=new Array(s),m=[a,u],g=0,v=0;v<a;++v)for(var y=0;y<l[v];++y)h[2*g]=v,h[2*g+1]=y,p[g]=o[g],++g;return[h,p,m]}},71489:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});var r=n(43772);function i(e,t){for(var n=r.D5U.getArrayFromDType("int32",e.length),i=0;i<e.length;++i)n[i]=r.D5U.fingerPrint64(e[i]).modulo(t).getLowBitsUnsigned();return n}},51802:function(e,t,n){"use strict";n.d(t,{GR:function(){return l},VY:function(){return o},lu:function(){return u}});var r=n(43772),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e-t})),s=(0,a.H)((function(e,t,n,r){return{real:e-n,imag:t-r}})),u=(0,a.j)(r.Tr8,o,s),l={kernelName:r.Tr8,backendName:"cpu",kernelFunc:u}},57129:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(43772);function i(e,t){for(var n=new Array(e.rank),i=0;i<n.length;i++)n[i]=e.shape[i]*t[i];for(var a=(0,r.f3b)(n,e.dtype),o=0;o<a.values.length;++o){for(var s=a.indexToLoc(o),u=new Array(e.rank),l=0;l<u.length;l++)u[l]=s[l]%e.shape[l];var c=e.locToIndex(u);a.values[o]=e.values[c]}return a}},79516:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(43772),i=function(e,t){var n=t.value-e.value;return 0===n?e.index-t.index:n};function a(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;o>n;){if(o-n>600){var s=o-n+1,u=t-n+1,l=Math.log(s),c=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*c*(s-c)/s)*Math.sign(u-s/2),f=Math.max(n,Math.floor(t-u*c/s+d)),h=Math.min(o,Math.floor(t+(s-u)*c/s+d));a(e,t,f,h)}var p=e[t],m=n,g=o;for(r.D5U.swap(e,n,t),i(e[o],p)>0&&r.D5U.swap(e,n,o);m<g;){for(r.D5U.swap(e,m,g),m++,g--;i(e[m],p)<0;)m+=1;for(;i(e[g],p)>0;)g-=1}0===i(e[n],p)?r.D5U.swap(e,n,g):(g+=1,r.D5U.swap(e,g,o)),g<=t&&(n=g+1),t<=g&&(o=g-1)}}function o(e,t,n,o,s){for(var u=t[t.length-1],l=e.length/u,c=u,d=r.D5U.getTypedArrayFromDType(n,l*o),f=r.D5U.getTypedArrayFromDType("int32",l*o),h=function(t){var n=t*c,r=e.subarray(n,n+c),u=new Array(r.length);r.forEach((function(e,t){return u[t]={value:e,index:t}})),o<u.length&&(a(u,o),u=u.slice(0,o)),s&&u.sort(i);for(var l=t*o,h=d.subarray(l,l+o),p=f.subarray(l,l+o),m=0;m<o;m++)h[m]=u[m].value,p[m]=u[m].index},p=0;p<l;p++)h(p);var m=t.slice();return m[m.length-1]=o,[(0,r.f3b)(m,n,d),(0,r.f3b)(m,"int32",f)]}},65257:function(e,t,n){"use strict";n.d(t,{b:function(){return s},p:function(){return o}});var r=n(43772),i=n(23193),a=n(31103);function o(e){var t=e.inputs,n=e.attrs,r=e.backend,o=t.x,s=n.perm;(0,i.H)(o,"transpose");for(var u=o.shape.length,l=new Array(u),c=0;c<l.length;c++)l[c]=o.shape[s[c]];var d=r.data.get(o.dataId).values,f=(0,a.H)(d,o.shape,o.dtype,s,l);return{dataId:r.write(f,l,o.dtype),shape:l,dtype:o.dtype}}var s={kernelName:r.G3Y,backendName:"cpu",kernelFunc:o}},31103:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var r=n(43772);function i(e,t,n,i,a){for(var o=t.length,s=r.D5U.sizeFromShape(t),u=r.D5U.computeStrides(t),l=r.D5U.computeStrides(a),c=r.D5U.getTypedArrayFromDType(n,r.D5U.sizeFromShape(a)),d=0;d<s;++d){for(var f=r.D5U.indexToLoc(d,o,u),h=new Array(f.length),p=0;p<h.length;p++)h[p]=f[i[p]];c[r.D5U.locToIndex(h,o,l)]=e[d]}return c}},24242:function(e,t,n){"use strict";n.d(t,{S:function(){return i}});var r=n(43772);function i(e,t,n,i){for(var a=r.D5U.parseAxisParam(t,n)[0],o=[1,n[0],1],s=0;s<a;s++)o[0]*=n[s];o[1]=n[a];for(var u=a+1;u<n.length;u++)o[2]*=n[u];for(var l={},c=new Int32Array(n[a]),d=new r.YDk(o,i,e),f=[],h=1===o[0]&&1===o[2],p=0;p<n[a];p++){var m=void 0;if(h)m=e[p].toString();else{for(var g=[],v=0;v<o[0];v++)for(var y=0;y<o[2];y++)g.push(d.get(v,p,y));m=g.join(",")}if(void 0!==l[m])c[p]=l[m];else{var x=Object.keys(l).length;l[m]=x,c[p]=x,f.push(p)}}var b=o.slice();b[1]=Object.keys(l).length;var w=new r.YDk(b,i);f.forEach((function(e,t){for(var n=0;n<o[0];n++)for(var r=0;r<o[2];r++)w.set(d.get(n,e,r),n,t,r)}));var _=n.slice();return _[a]=b[1],{outputValues:w.values,outputShape:_,indices:c}}},69341:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var r=n(43772);function i(e){return function(t,n,i,a,o){var s=r.Wap.assertAndGetBroadcastShape(t,n),u=s.length,l=r.D5U.computeStrides(s),c=r.D5U.sizeFromShape(s),d=r.D5U.getTypedArrayFromDType(o,c),f=t.length,h=n.length,p=r.D5U.computeStrides(t),m=r.D5U.computeStrides(n),g=r.Wap.getBroadcastDims(t,s),v=r.Wap.getBroadcastDims(n,s);if(g.length+v.length===0)for(var y=0;y<d.length;++y)d[y]=e(i[y%i.length],a[y%a.length]);else for(var x=function(t){var n=r.D5U.indexToLoc(t,u,l),o=n.slice(-f);g.forEach((function(e){return o[e]=0}));var s=r.D5U.locToIndex(o,f,p),c=n.slice(-h);v.forEach((function(e){return c[e]=0}));var y=r.D5U.locToIndex(c,h,m);d[t]=e(i[s],a[y])},b=0;b<d.length;++b)x(b);return[d,s]}}},69501:function(e,t,n){"use strict";n.d(t,{H:function(){return l},j:function(){return u}});var r=n(29439),i=n(43772),a=n(23193),o=n(60570),s=n(36545);function u(e,t,n,u){return null==n?function(n){var o=n.inputs,s=n.backend,l=o.a,c=o.b,d=s;(0,a.H)([l,c],e);var f=d.data.get(l.dataId).values,h=d.data.get(c.dataId).values,p="string"===l.dtype?i.Wap.fromUint8ToStringArray(f):f,m="string"===l.dtype?i.Wap.fromUint8ToStringArray(h):h,g=u||l.dtype,v=t(l.shape,c.shape,p,m,g),y=(0,r.Z)(v,2),x=y[0],b=y[1];return d.makeTensorInfo(b,g,x)}:function(e){var i=e.inputs,a=e.backend,l=i.a,c=i.b,d=a;if("complex64"===l.dtype||"complex64"===c.dtype){var f=(0,o.p)({inputs:{x:l},backend:d,attrs:{dtype:"complex64"}}),h=d.data.get(f.dataId),p=h.complexTensorInfos.real,m=h.complexTensorInfos.imag,g=d.data.get(p.dataId).values,v=d.data.get(m.dataId).values,y=(0,o.p)({inputs:{x:c},backend:d,attrs:{dtype:"complex64"}}),x=d.data.get(y.dataId),b=x.complexTensorInfos.real,w=x.complexTensorInfos.imag,_=d.data.get(b.dataId).values,S=d.data.get(w.dataId).values,C=n(l.shape,c.shape,g,v,_,S),k=(0,r.Z)(C,3),D=k[0],T=k[1],I=k[2],A=d.makeTensorInfo(I,"float32",D),M=d.makeTensorInfo(I,"float32",T),E=(0,s.P)({inputs:{real:A,imag:M},backend:d});return d.disposeIntermediateTensorInfo(f),d.disposeIntermediateTensorInfo(y),d.disposeIntermediateTensorInfo(A),d.disposeIntermediateTensorInfo(M),E}var N=d.data.get(l.dataId).values,R=d.data.get(c.dataId).values,P=u||l.dtype,O=t(l.shape,c.shape,N,R,P),L=(0,r.Z)(O,2),F=L[0],Z=L[1];return d.makeTensorInfo(Z,P,F)}}function l(e){return function(t,n,r,a,o,s){var u=i.Wap.assertAndGetBroadcastShape(t,n),l=i.D5U.sizeFromShape(u),c=u.length,d=i.D5U.computeStrides(u),f=i.D5U.getTypedArrayFromDType("float32",l),h=i.D5U.getTypedArrayFromDType("float32",l),p=i.Wap.getBroadcastDims(t,u),m=i.Wap.getBroadcastDims(n,u),g=i.Wap.mergeRealAndImagArrays(r,a),v=i.Wap.mergeRealAndImagArrays(o,s),y=t.length,x=i.D5U.computeStrides(t),b=n.length,w=i.D5U.computeStrides(n);if(p.length+m.length===0)for(var _=0;_<f.length;_++){var S=_%g.length,C=_%v.length,k=e(g[2*S],g[2*S+1],v[2*C],v[2*C+1]);f[_]=k.real,h[_]=k.imag}else for(var D=function(t){var n=i.D5U.indexToLoc(t,c,d),r=n.slice(-y);p.forEach((function(e){return r[e]=0}));var a=i.D5U.locToIndex(r,y,x),o=n.slice(-b);m.forEach((function(e){return o[e]=0}));var s=i.D5U.locToIndex(o,b,w),u=e(g[2*a],g[2*a+1],v[2*s],v[2*s+1]);f[t]=u.real,h[t]=u.imag},T=0;T<f.length;T++)D(T);return[f,h,u]}}},50422:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(43772);function i(e){return function(t,n,i){for(var a=r.D5U.getTypedArrayFromDType(n,t.length),o=0;o<t.length;++o)a[o]=e(t[o],i);return a}}},91844:function(e,t,n){"use strict";n.d(t,{A:function(){return a},O:function(){return o}});var r=n(43772),i=n(23193);function a(e,t,n){return function(a){var o=a.inputs,s=a.attrs,u=a.backend,l=o.x;if((0,i.H)(l,e),"string"===l.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");for(var c=u,d=c.data.get(l.dataId).values,f=r.D5U.sizeFromShape(l.shape),h=n||l.dtype,p=r.D5U.getArrayFromDType(h,f),m=0;m<f;++m)p[m]=t(d[m],s);return c.makeTensorInfo(l.shape,h,p)}}function o(e,t,n){return function(r){var a=r.inputs,o=r.attrs,s=r.backend,u=a.x;if((0,i.H)(u,e),"string"===u.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");var l=s,c=l.data.get(u.dataId).values,d=n||u.dtype,f=t(c,d,o);return l.makeTensorInfo(u.shape,d,f)}}},94842:function(e,t,n){"use strict";n.d(t,{l:function(){return a}});var r=n(43772),i=n(36545);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){var o=a(e,t,"float32"),s=a(e,t,"float32");return(0,i.P)({inputs:{real:o,imag:s},backend:e})}var u=r.D5U.makeZerosTypedArray(r.D5U.sizeFromShape(t),n);return e.makeTensorInfo(t,n,u)}},38598:function(e,t,n){var r=n(27401),i=n(33627),a=n(7320),o=n(7220),s=n(64972),u=n(33410),l=n(69638);l.alea=r,l.xor128=i,l.xorwow=a,l.xorshift7=o,l.xor4096=s,l.tychei=u,e.exports=l},27401:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n=function(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new o(e),r=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.alea=u}(0,e=n.nmd(e),n.amdD)},33410:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.tychei=u}(0,e=n.nmd(e),n.amdD)},33627:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xor128=u}(0,e=n.nmd(e),n.amdD)},64972:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,a=t.i;return t.w=r=r+1640531527|0,n=i[a+34&127],e=i[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,i,a,o,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),i=0,a=-32;a<u;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,i=0==(n=s[127&a]^=r+o)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=o,e.X=s,e.i=i}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.X&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xor4096=u}(0,e=n.nmd(e),n.amdD)},7220:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.x&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xorshift7=u}(0,e=n.nmd(e),n.amdD)},7320:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xorwow=u}(0,e=n.nmd(e),n.amdD)},69638:function(e,t,n){var r;!function(i,a){var o,s=this,u=256,l=a.pow(u,6),c=a.pow(2,52),d=2*c,f=255;function h(e,t,n){var r=[],f=v(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(i)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(u):(e=new Uint8Array(u),(s.crypto||s.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=s.navigator,n=t&&t.plugins;return[+new Date,s,n,s.screen,y(i)]}}():e,3),r),h=new p(r),x=function(){for(var e=h.g(6),t=l,n=0;e<c;)e=(e+n)*u,t*=u,n=h.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return x.int32=function(){return 0|h.g(4)},x.quick=function(){return h.g(4)/4294967296},x.double=x,v(y(h.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,h),e.state=function(){return m(h,{})}),n?(a.random=e,t):e})(x,f,"global"in t?t.global:this==a,t.state)}function p(e){var t,n=e.length,r=this,i=0,a=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);i<u;)o[i]=i++;for(i=0;i<u;i++)o[i]=o[a=f&a+e[i%n]+(t=o[i])],o[a]=t;(r.g=function(e){for(var t,n=0,i=r.i,a=r.j,o=r.S;e--;)t=o[i=f&i+1],n=n*u+o[f&(o[i]=o[a=f&a+t])+(o[a]=t)];return r.i=i,r.j=a,n})(u)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],i=typeof e;if(t&&"object"==i)for(n in e)try{r.push(g(e[n],t-1))}catch(a){}return r.length?r:"string"==i?e:e+"\0"}function v(e,t){for(var n,r=e+"",i=0;i<r.length;)t[f&i]=f&(n^=19*t[f&i])+r.charCodeAt(i++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(a.seedrandom=h,v(a.random(),i),e.exports){e.exports=h;try{o=n(50914)}catch(x){}}else void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}([],Math)},78832:function(e,t,n){"use strict";n.r(t),n.d(t,{GPGPUContext:function(){return Rt},MathBackendWebGL:function(){return Br},forceHalfFloat:function(){return Vr},gpgpu_util:function(){return i},setWebGLContext:function(){return w},version_webgl:function(){return zr},webgl:function(){return jr},webgl_util:function(){return r}});var r={};n.r(r),n.d(r,{assertNotComplex:function(){return _e},bindCanvasToFramebuffer:function(){return J},bindColorTextureToFramebuffer:function(){return $},bindTextureToProgramUniformSampler:function(){return Q},bindTextureUnit:function(){return X},bindVertexBufferToProgramAttribute:function(){return G},callAndCheck:function(){return T},canBeRepresented:function(){return I},createFragmentShader:function(){return N},createFramebuffer:function(){return H},createProgram:function(){return F},createStaticIndexBuffer:function(){return V},createStaticVertexBuffer:function(){return z},createTexture:function(){return W},createVertexShader:function(){return E},getBatchDim:function(){return ae},getExtensionOrThrow:function(){return M},getFramebufferErrorMessage:function(){return ne},getMaxTexturesInShader:function(){return pe},getNumChannels:function(){return j},getProgramUniformLocation:function(){return K},getProgramUniformLocationOrThrow:function(){return Y},getRowsCols:function(){return oe},getShapeAs3D:function(){return se},getTextureShapeFromLogicalShape:function(){return ue},getWebGLDisjointQueryTimerVersion:function(){return me},getWebGLErrorMessage:function(){return A},getWebGLMaxTextureSize:function(){return de},hasExtension:function(){return ge},isCapableOfRenderingToFloatTexture:function(){return ye},isDownloadFloatTextureEnabled:function(){return xe},isReshapeFree:function(){return ce},isWebGLFenceEnabled:function(){return we},isWebGLVersionEnabled:function(){return ve},linkProgram:function(){return Z},logShaderSourceAndInfoLog:function(){return L},resetMaxTextureSize:function(){return fe},resetMaxTexturesInShader:function(){return he},unbindColorTextureFromFramebuffer:function(){return ee},unbindTextureUnit:function(){return q},validateFramebuffer:function(){return te},validateProgram:function(){return B},validateTextureSize:function(){return U}});var i={};n.r(i),n.d(i,{bindVertexProgramAttributeStreams:function(){return kt},createBufferFromOutputTexture:function(){return It},createFloat16MatrixTexture:function(){return yt},createFloat16PackedMatrixTexture:function(){return Ct},createFloat32MatrixTexture:function(){return gt},createIndexBuffer:function(){return ht},createPackedMatrixTexture:function(){return _t},createUnsignedBytesMatrixTexture:function(){return bt},createVertexBuffer:function(){return ft},createVertexShader:function(){return dt},downloadByteEncodedFloatMatrixFromOutputTexture:function(){return Mt},downloadFloat32MatrixFromBuffer:function(){return At},downloadMatrixFromPackedOutputTexture:function(){return Nt},downloadPackedMatrixFromBuffer:function(){return Et},getInternalFormatForFloat16MatrixTexture:function(){return vt},getInternalFormatForFloat16PackedMatrixTexture:function(){return St},getInternalFormatForFloat32MatrixTexture:function(){return mt},getInternalFormatForPackedMatrixTexture:function(){return wt},getInternalFormatForUnsignedBytesMatrixTexture:function(){return xt},uploadDenseMatrixToTexture:function(){return Dt},uploadPixelDataToTexture:function(){return Tt}});var a,o,s,u=n(43772),l=n(29439),c=n(93433),d=n(15861),f=n(15671),h=n(43144),p=n(97326),m=n(60136),g=n(27277),v=n(87757),y=n.n(v),x={},b={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function w(e,t){x[e]=t}function _(e,t){if(!(e in x)||null!=t){var n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var n=null==t?function(e){if("undefined"!==typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e):t;if(n.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete x[e]}),!1),1===e)return n.getContext("webgl",b)||n.getContext("experimental-webgl",b);return n.getContext("webgl2",b)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;x[e]=n}var r=x[e];return null==r||r.isContextLost()?(delete x[e],_(e)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),x[e])}function S(e,t){return[t,e]}function C(e){var t=u.D5U.sizeFromShape(e),n=Math.ceil(t/4);return u.D5U.sizeToSquarishShape(n)}function k(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function D(e,t){var n,r,i,a,o,s,l,c,d,f,h=e;return 2===(0,u.OBj)().getNumber("WEBGL_VERSION")?(n=h.R32F,r=h.R16F,i=h.RGBA16F,a=h.RGBA32F,o=h.RED,l=4,c=1,d=h.HALF_FLOAT,f=h.FLOAT,s=h.RGBA8):(n=e.RGBA,r=e.RGBA,i=e.RGBA,a=h.RGBA,o=e.RGBA,l=4,c=4,d=null!=t?t.HALF_FLOAT_OES:null,f=e.FLOAT,s=e.RGBA),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:a,textureFormatFloat:o,downloadTextureFormat:s,downloadUnpackNumChannels:l,defaultNumChannels:c,textureTypeHalfFloat:d,textureTypeFloat:f}}function T(e,t){var n=t();return(0,u.OBj)().getBool("DEBUG")&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+A(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(a||(a={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(o||(o={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(s||(s={}));function I(e){return!!((0,u.OBj)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function A(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(t)}}function M(e,t){return re(e,(function(){return e.getExtension(t)}),'Extension "'+t+'" not supported on this browser.')}function E(e,t){var n=re(e,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(T(e,(function(){return e.shaderSource(n,t)})),T(e,(function(){return e.compileShader(n)})),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function N(e,t){var n=re(e,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(T(e,(function(){return e.shaderSource(n,t)})),T(e,(function(){return e.compileShader(n)})),(0,u.OBj)().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw L(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}var R,P,O=/ERROR: [0-9]+:([0-9]+):/g;function L(e,t){var n=O.exec(t);if(null==n)return console.log("Couldn't parse line number in error: ".concat(t)),void console.log(e);for(var r=+n[1],i=e.split("\n"),a=i.length.toString().length+2,o=i.map((function(e,t){return u.D5U.rightPad((t+1).toString(),a)+e})),s=0,l=0;l<o.length;l++)s=Math.max(o[l].length,s);var c=o.slice(0,r-1),d=o.slice(r-1,r),f=o.slice(r);console.log(c.join("\n")),console.log(t.split("\n")[0]),console.log("%c ".concat(u.D5U.rightPad(d[0],s)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(f.join("\n"))}function F(e){return re(e,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}function Z(e,t){if(T(e,(function(){return e.linkProgram(t)})),!(0,u.OBj)().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function B(e,t){if(T(e,(function(){return e.validateProgram(t)})),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function z(e,t){var n=re(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return T(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),T(e,(function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}function V(e,t){var n=re(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return T(e,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)})),T(e,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}function j(){return 2===(0,u.OBj)().getNumber("WEBGL_VERSION")?1:4}function W(e){return re(e,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}function U(e,t){var n=(0,u.OBj)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="[".concat(e,"x").concat(t,"]");throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n){var i="[".concat(e,"x").concat(t,"]"),a="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+i+" greater than WebGL maximum on this browser / GPU "+a+".")}}function H(e){return re(e,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}function G(e,t,n,r,i,a,o){var s=e.getAttribLocation(t,n);return-1!==s&&(T(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),T(e,(function(){return e.vertexAttribPointer(s,i,e.FLOAT,!1,a,o)})),T(e,(function(){return e.enableVertexAttribArray(s)})),!0)}function X(e,t,n){ie(e,n),T(e,(function(){return e.activeTexture(e.TEXTURE0+n)})),T(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)}))}function q(e,t){ie(e,t),T(e,(function(){return e.activeTexture(e.TEXTURE0+t)})),T(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function Y(e,t,n){return re(e,(function(){return e.getUniformLocation(t,n)}),'uniform "'+n+'" not present in program.')}function K(e,t,n){return e.getUniformLocation(t,n)}function Q(e,t,n,r){T(e,(function(){return X(e,t,r)})),T(e,(function(){return e.uniform1i(n,r)}))}function J(e){T(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)})),T(e,(function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)})),T(e,(function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)}))}function $(e,t,n){T(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),T(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}))}function ee(e,t){T(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)})),T(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function te(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+ne(e,t))}function ne(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(t)}}function re(e,t,n){var r=T(e,(function(){return t()}));if(null==r)throw new Error(n);return r}function ie(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){var i="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(i,"."))}}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return u.D5U.sizeFromShape(e.slice(0,e.length-t))}function oe(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function se(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[ae(e)].concat((0,c.Z)(oe(e)))),t}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,u.OBj)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(n*=2,1===(e=e.map((function(t,n){return n>=e.length-2?u.D5U.nearestLargerEven(e[n]):e[n]}))).length&&(e=[2,e[0]])),2!==e.length){var r=u.D5U.squeezeShape(e);e=r.newShape}var i=u.D5U.sizeFromShape(e);if(e.length<=1&&i<=n)return[1,i];if(2===e.length&&e[0]<=n&&e[1]<=n)return e;if(3===e.length&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(t){var a=ae(e),o=2,s=2;if(e.length){var c=oe(e),d=(0,l.Z)(c,2);o=d[0],s=d[1]}return i=a*(o/2)*(s/2),u.D5U.sizeToSquarishShape(i).map((function(e){return 2*e}))}return u.D5U.sizeToSquarishShape(i)}function le(e){return e%2===0}function ce(e,t){if(e=e.slice(-2),t=t.slice(-2),u.D5U.arraysEqual(e,t))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(le(n)&&le(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&le(e[0])&&le(t[0])}function de(e){if(null==R){var t=_(e);R=t.getParameter(t.MAX_TEXTURE_SIZE)}return R}function fe(){R=null}function he(){P=null}function pe(e){if(null==P){var t=_(e);P=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,P)}function me(e){if(0===e)return 0;var t=_(e);return ge(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:ge(t,"EXT_disjoint_timer_query")?1:0}function ge(e,t){return null!=e.getExtension(t)}function ve(e){try{if(null!=_(e))return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function ye(e){if(0===e)return!1;var t=_(e);if(1===e){if(!ge(t,"OES_texture_float"))return!1}else if(!ge(t,"EXT_color_buffer_float"))return!1;return be(t)}function xe(e){if(0===e)return!1;var t=_(e);if(1!==e){if(ge(t,"EXT_color_buffer_float"))return be(t);var n="EXT_color_buffer_half_float";if(ge(t,n)){var r=t.getExtension(n);return function(e,t){var n=D(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);var i=1,a=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,i,a,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(o),s}(t,r)}return!1}return!!ge(t,"OES_texture_float")&&(!!ge(t,"WEBGL_color_buffer_float")&&be(t))}function be(e){var t=D(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),i}function we(e){return 2===e&&null!=_(e).fenceSync}function _e(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&u.D5U.assert("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors ")+"in the WebGL backend."}))}))}var Se=(0,u.OBj)();function Ce(){var e,t,n,r,i,a,o,s,l,c;return 2===(0,u.OBj)().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",i="texture",a="outputColor",o="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",l="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",i="texture2D",a="gl_FragColor",o="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:i,output:a,defineOutput:o,defineSpecialNaN:s,defineSpecialInf:l,defineRound:c}}function ke(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=u.D5U.computeStrides(t);return r.map((function(t,i){var a="int ".concat(e[i]," = ").concat(n," / ").concat(t),o=i===r.length-1?"int ".concat(e[i+1]," = ").concat(n," - ").concat(e[i]," * ").concat(t):"index -= ".concat(e[i]," * ").concat(t);return"".concat(a,"; ").concat(o,";")})).join("")}function De(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=u.D5U.computeStrides(t);return r.map((function(t,i){var a="int ".concat(e[i]," = ").concat(n," / outShapeStrides[").concat(i,"]"),o=i===r.length-1?"int ".concat(e[i+1]," = ").concat(n," - ").concat(e[i]," * outShapeStrides[").concat(i,"]"):"index -= ".concat(e[i]," * outShapeStrides[").concat(i,"]");return"".concat(a,"; ").concat(o,";")})).join("")}function Te(e,t){var n=e.length,r=e.map((function(e){return"".concat(t,"[").concat(e,"]")})),i=new Array(n-1);i[n-2]=r[n-1];for(var a=n-3;a>=0;--a)i[a]="(".concat(i[a+1]," * ").concat(r[a+1],")");return i}function Ie(e){var t=u.D5U.computeStrides(e).map((function(e){return e.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(t[0]," + coords.y * ").concat(t[1]," + coords.z;\n  }\n")}Se.registerFlag("HAS_WEBGL",(function(){return Se.getNumber("WEBGL_VERSION")>0})),Se.registerFlag("WEBGL_VERSION",(function(){return ve(2)?2:ve(1)?1:0})),Se.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(function(){return!1})),Se.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===Se.get("WEBGL_VERSION")})),Se.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),Se.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),Se.registerFlag("WEBGL_PACK",(function(){return Se.getBool("HAS_WEBGL")})),Se.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return Se.getBool("WEBGL_PACK")})),Se.registerFlag("WEBGL_PACK_CLIP",(function(){return Se.getBool("WEBGL_PACK")})),Se.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return Se.getBool("WEBGL_PACK")})),Se.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return Se.getBool("WEBGL_PACK")})),Se.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return Se.getBool("WEBGL_PACK")})),Se.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return Se.getBool("WEBGL_PACK")})),Se.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return Se.getBool("WEBGL_PACK")})),Se.registerFlag("WEBGL_PACK_REDUCE",(function(){return Se.getBool("WEBGL_PACK")})),Se.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return Se.getBool("WEBGL_PACK")})),Se.registerFlag("WEBGL_CONV_IM2COL",(function(){return Se.getBool("WEBGL_PACK")})),Se.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return de(Se.getNumber("WEBGL_VERSION"))})),Se.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return pe(Se.getNumber("WEBGL_VERSION"))})),Se.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=Se.getNumber("WEBGL_VERSION");return 0===e?0:me(e)})),Se.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return Se.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!u.C2$.isMobile()})),Se.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return ye(Se.getNumber("WEBGL_VERSION"))})),Se.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!Se.getBool("WEBGL_FORCE_F16_TEXTURES")&&Se.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),Se.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return xe(Se.getNumber("WEBGL_VERSION"))})),Se.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return we(Se.getNumber("WEBGL_VERSION"))})),Se.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return Se.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),Se.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(function(){return-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(e,"."))})),Se.registerFlag("WEBGL_FLUSH_THRESHOLD",(function(){return u.C2$.isMobile()?1:-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(e,"."))})),Se.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 128})),Se.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(function(){return!1})),Se.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 1e5})),Se.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(function(){return 128}));var Ae="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",Me=u.Wap.getBroadcastDims;function Ee(e,t,n){var r=[];if(e.forEach((function(e){var t=u.D5U.sizeFromShape(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push("uniform float ".concat(e.name).concat(t>1?"[".concat(t,"]"):"",";")):(r.push("uniform sampler2D ".concat(e.name,";")),r.push("uniform int offset".concat(e.name,";"))),n.enableShapeUniforms){switch(Ke(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape).uniformShape.length){case 1:r.push("uniform int ".concat(e.name,"Shape;"));break;case 2:r.push("uniform ivec2 ".concat(e.name,"Shape;"));break;case 3:r.push("uniform ivec3 ".concat(e.name,"Shape;"));break;case 4:r.push("uniform ivec4 ".concat(e.name,"Shape;"))}r.push("uniform ivec2 ".concat(e.name,"TexShape;"))}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((function(e){r.push("uniform ".concat(e.type," ").concat(e.name).concat(e.arrayIndex?"[".concat(e.arrayIndex,"]"):"",";"))}));var i,a,o=r.join("\n"),s=e.map((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i="";i+=n?Re(e,r):Ne(e,r);var a=e.shapeInfo.logicalShape,o=t.logicalShape;a.length<=o.length&&(i+=n?Xe(e,t):qe(e,t));return i}(e,t,n.packedInputs,n.enableShapeUniforms)})).join("\n"),l=t.texShape,c=Ce(),d=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(e.texture2D,"(textureSampler, uv).r;\n    }\n  ")}(c),f=function(e){return"".concat(e.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(e.varyingFs," vec2 resultUV;\n    ").concat(e.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(e.defineSpecialNaN,"\n    ").concat(e.defineSpecialInf,"\n    ").concat(e.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat(Pe,"\n    ").concat(Oe,"\n    ").concat(Le,"\n  ")}(c);return t.isPacked?(i=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(r[1],".0);\n      }\n    ");if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(r[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      return 2 * (resTexRC.x * ").concat(r[1]," + resTexRC.y);\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(u.D5U.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(r[0],", ").concat(r[1],"));\n      }\n    ");var i=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(i,");\n      int c = imod(index, ").concat(i,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],i=Math.ceil(e[2]/2),a=i*Math.ceil(e[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      int b = index / ").concat(a,";\n      index -= b * ").concat(a,";\n\n      int r = 2 * (index / ").concat(i,");\n      int c = imod(index, ").concat(i,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";for(var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],i=Math.ceil(e[e.length-1]/2),a=i*Math.ceil(e[e.length-2]/2),o=a,s="",u="b, r, c",l=2;l<e.length-1;l++)o*=e[e.length-l-1],s="\n      int b".concat(l," = index / ").concat(o,";\n      index -= b").concat(l," * ").concat(o,";\n    ")+s,u="b".concat(l,", ")+u;return"\n    ivec".concat(e.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      ").concat(s,"\n\n      int b = index / ").concat(a,";\n      index -= b * ").concat(a,";\n\n      int r = 2 * (index / ").concat(i,");\n      int c = imod(index, ").concat(i,") * 2;\n\n      return ivec").concat(e.length,"(").concat(u,");\n    }\n  ")}(e,t,n)}}(t.logicalShape,l,n.enableShapeUniforms),a=function(e){return"\n    void setOutput(vec4 val) {\n      ".concat(e.output," = val;\n    }\n  ")}(c)):(i=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(t[1],".0);\n      }\n    ");if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(t[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      return resTexRC.x * ").concat(t[1]," + resTexRC.y;\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){if(u.D5U.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(t[0],", ").concat(t[1],"));\n      }\n    ");if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ");if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ");if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      int r = index / ").concat(e[1],";\n      int c = index - r * ").concat(e[1],";\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n){var r=De(["r","c","d"],e);return"\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ".concat(r,"\n    return ivec3(r, c, d);\n  }\n")}var i=ke(["r","c","d"],e);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(i,"\n      return ivec3(r, c, d);\n    }\n  ")}(e,t,n);case 4:return function(e,t,n){if(n){var r=De(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ".concat(r,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}var i=ke(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(i,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}(e,t,n);case 5:return function(e,t){var n=ke(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(t[0],",\n                             ").concat(t[1],"));\n\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}(e,t);case 6:return function(e,t){var n=ke(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}(e,t);default:throw new Error("".concat(e.length,"-D output sampling is not yet supported"))}}(t.logicalShape,l,n.enableShapeUniforms),a=function(e){return"\n    void setOutput(float val) {\n      ".concat(e.output," = vec4(val, 0, 0, 0);\n    }\n  ")}(c)),n.packedInputs&&(f+=Fe),[f,d,a,o,i,s,n.userCode].join("\n")}function Ne(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.shapeInfo.logicalShape;switch(n.length){case 0:return Be(e,t);case 1:return ze(e,t);case 2:return Ve(e,t);case 3:return je(e,t);case 4:return We(e,t);case 5:return Ue(e);case 6:return He(e);default:throw new Error("".concat(n.length,"-D input sampling")+" is not yet supported")}}function Re(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=Ce();return"\n    vec4 ".concat(n,"() {\n      return ").concat(r.texture2D,"(").concat(t,", halfCR);\n    }\n  ")}(e);case 1:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,a=Ce();if(t)return"\n    vec4 ".concat(r,"(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ");var o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];return"\n    vec4 ".concat(r,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(o[0],", ").concat(o[1],", index);\n      return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,o=a[0],s=a[1],l=Ce();if(null!=a&&u.D5U.arraysEqual(n,a))return t?"\n      vec4 ".concat(i,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n\n        return ").concat(l.texture2D,"(").concat(r,", uv);\n      }\n    "):"\n      vec4 ".concat(i,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(o,".0);\n\n        return ").concat(l.texture2D,"(").concat(r,", uv);\n      }\n    ");if(t)return"\n    vec4 ".concat(i,"(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ").concat(l.texture2D,"(").concat(r,", uv);\n    }\n  ");var c=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],d=Math.ceil(n[1]/2);return"\n    vec4 ".concat(i,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(d,", ").concat(c[0],", ").concat(c[1],", row, col);\n      return ").concat(l.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);case 3:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];if(1===n[0]){var s=[1,2],u=Qe(e,n.slice(1)),l=["b","row","col"];return"\n        ".concat(Re(u,t),"\n        vec4 ").concat(i,"(int b, int row, int col) {\n          return ").concat(i,"(").concat(Je(l,s),");\n        }\n      ")}var c=Ce();if(t)return"\n    vec4 ".concat(i,"(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ");var d=o[0],f=o[1],h=Math.ceil(n[2]/2),p=h*Math.ceil(n[1]/2);return"\n    vec4 ".concat(i,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(d,", ").concat(f,", ").concat(p,", ").concat(h,", b, row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);default:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=Ce();if(t)return"\n    vec4 ".concat(r,"(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(").concat(n,"Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(n,"Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ").concat(n,"Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ");for(var a=e.shapeInfo.logicalShape,o=a.length,s=e.shapeInfo.texShape,u=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],l=u[0],c=u[1],d=Math.ceil(a[o-1]/2),f=d*Math.ceil(a[o-2]/2),h="int b, int row, int col",p="b * ".concat(f," + (row / 2) * ").concat(d," + (col / 2)"),m=2;m<o-1;m++)h="int b".concat(m,", ")+h,f*=a[o-m-1],p="b".concat(m," * ").concat(f," + ")+p;return"\n    vec4 ".concat(r,"(").concat(h,") {\n      int index = ").concat(p,";\n      int texR = index / ").concat(c,";\n      int texC = index - texR * ").concat(c,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(c,", ").concat(l,");\n      return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t)}}var Pe="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Oe="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Le="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Fe="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Ze(e){return"offset".concat(e)}function Be(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"float ".concat(r,"() {return ").concat(n,";}");var i=(0,l.Z)(e.shapeInfo.texShape,2),a=i[0],o=i[1];if(1===a&&1===o)return"\n      float ".concat(r,"() {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var s=Ze(n);if(t)return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");var u=(0,l.Z)(e.shapeInfo.texShape,2),c=u[0],d=u[1];return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(c,", ").concat(d,", ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function ze(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int index) {\n        ").concat(Ge(e),"\n      }\n    ");var i=e.shapeInfo.texShape,a=i[0],o=i[1];if(1===o&&1===a)return"\n      float ".concat(r,"(int index) {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var s=Ze(n);return 1===o?t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[0]));\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / ").concat(a,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):1===a?t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / ").concat(o,".0, 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):t?"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  "):"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(a,", ").concat(o,", index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function Ve(e,t){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape;if(null!=a&&u.D5U.arraysEqual(n,a)){if(t)return"\n      float ".concat(i,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var o=a[0],s=a[1];return"\n    float ".concat(i,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(o,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}var l=u.D5U.squeezeShape(n),c=l.newShape,d=l.keptDims,f=c;if(f.length<n.length){var h=Qe(e,f);return"\n      ".concat(Ne(h,t),"\n      float ").concat(i,"(int row, int col) {\n        return ").concat(i,"(").concat(Je(["row","col"],d),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n        ").concat(Ge(e),"\n      }\n    ");var p=a[0],m=a[1],g=Ze(r);return 1===m?t?"\n      float ".concat(i,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(g,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(r,"TexShape[0]));\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(i,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(g,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(p,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):1===p?t?"\n      float ".concat(i,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(g,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(").concat(r,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(i,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(g,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(m,".0, 0.5);\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):t?"\n      float ".concat(i,"(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(r,"Shape[1] + col + ").concat(g,";\n        vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n  float ".concat(i,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(n[1]," + col + ").concat(g,";\n    vec2 uv = uvFromFlat(").concat(p,", ").concat(m,", index);\n    return sampleTexture(").concat(r,", uv);\n  }\n")}function je(e,t){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[1]*n[2],o=n[2],s=u.D5U.squeezeShape(n),l=s.newShape,c=s.keptDims,d=l;if(d.length<n.length){var f=Qe(e,d);return"\n        ".concat(Ne(f,t),"\n        float ").concat(i,"(int row, int col, int depth) {\n          return ").concat(i,"(").concat(Je(["row","col","depth"],c),");\n        }\n      ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(a,", ").concat(o,", 1)));\n        ").concat(Ge(e),"\n      }\n    ");var h=e.shapeInfo.texShape,p=h[0],m=h[1],g=e.shapeInfo.flatOffset;if(m===a&&null==g)return t?"\n      float ".concat(i,"(int row, int col, int depth) {\n        int stride1 = ").concat(r,"Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n        float ".concat(i,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(o,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(m,".0, ").concat(p,".0);\n          return sampleTexture(").concat(r,", uv);\n        }\n      ");if(m===o&&null==g)return t?"\n      float ".concat(i,"(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(").concat(r,"Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(i,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(m,".0, ").concat(p,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");var v=Ze(r);return t?"\n    float ".concat(i,"(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ").concat(r,"Shape[1] * ").concat(r,"Shape[2];\n      int stride1 = ").concat(r,"Shape[2];\n      int index = row * ").concat(a," + col * ").concat(o," + depth + ").concat(v,";\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n      return sampleTexture(").concat(r,", uv);\n    }\n    "):"\n      float ".concat(i,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(a," + col * ").concat(o," + depth + ").concat(v,";\n        vec2 uv = uvFromFlat(").concat(p,", ").concat(m,", index);\n        return sampleTexture(").concat(r,", uv);\n      }\n  ")}function We(e,t){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[3],o=n[2]*a,s=n[1]*o,l=u.D5U.squeezeShape(n),c=l.newShape,d=l.keptDims;if(c.length<n.length){var f=Qe(e,c);return"\n      ".concat(Ne(f,t),"\n      float ").concat(i,"(int row, int col, int depth, int depth2) {\n        return ").concat(i,"(").concat(Je(["row","col","depth","depth2"],d),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(s,", ").concat(o,", ").concat(a,", 1)));\n        ").concat(Ge(e),"\n      }\n    ");var h=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,m=p[0],g=p[1],v="int stride2 = ".concat(r,"Shape[3];"),y="int stride1 = ".concat(r,"Shape[2] * stride2;"),x="int stride0 = ".concat(r,"Shape[1] * stride1;");if(g===s&&null==h)return t?"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        ").concat(v,"\n        ").concat(y,"\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(o,", ").concat(a,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(g,".0, ").concat(m,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");if(g===a&&null==h)return t?"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(r,"Shape[1] * ").concat(r,"Shape[2], ").concat(r,"Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(g,".0, ").concat(m,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var b=Ze(r);return t?"\n    float ".concat(i,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ").concat(v,"\n      ").concat(y,"\n      ").concat(x,"\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index + ").concat(b,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):"\n    float ".concat(i,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(o," +\n          depth * ").concat(a," + depth2;\n      vec2 uv = uvFromFlat(").concat(m,", ").concat(g,", index + ").concat(b,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}function Ue(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[4],a=t[3]*i,o=t[2]*a,s=t[1]*o,l=u.D5U.squeezeShape(t),c=l.newShape,d=l.keptDims;if(c.length<t.length){var f=Qe(e,c);return"\n      ".concat(Ne(f),"\n      float ").concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(r,"(").concat(Je(["row","col","depth","depth2","depth3"],d),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(s,", ").concat(o,", ").concat(a,", ").concat(i,")) +\n          depth3;\n        ").concat(Ge(e),"\n      }\n    ");var h=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,m=p[0],g=p[1];if(g===s&&null==h)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(o,", ").concat(a,", ").concat(i,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(g,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(g===i&&null==h)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3],",\n               ").concat(t[2]*t[3],", ").concat(t[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(g,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var v=Ze(n);return"\n    float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(o," + depth * ").concat(a," +\n          depth2 * ").concat(i," + depth3 + ").concat(v,";\n      vec2 uv = uvFromFlat(").concat(m,", ").concat(g,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function He(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=u.D5U.squeezeShape(t),a=i.newShape,o=i.keptDims;if(a.length<t.length){var s=Qe(e,a);return"\n      ".concat(Ne(s),"\n      float ").concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(r,"(").concat(Je(["row","col","depth","depth2","depth3","depth4"],o),");\n      }\n    ")}var l=t[5],c=t[4]*l,d=t[3]*c,f=t[2]*d,h=t[1]*f;if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(h,", ").concat(f,", ").concat(d,", ").concat(c,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(l,", 1)));\n        ").concat(Ge(e),"\n      }\n    ");var p=e.shapeInfo.flatOffset,m=e.shapeInfo.texShape,g=m[0],v=m[1];if(v===h&&null==p)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(f,", ").concat(d,", ").concat(c,", ").concat(l,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(v,".0, ").concat(g,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(v===l&&null==p)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3]*t[4],",\n               ").concat(t[2]*t[3]*t[4],",\n               ").concat(t[3]*t[4],",\n               ").concat(t[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(v,".0, ").concat(g,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var y=Ze(n);return"\n    float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(h," + col * ").concat(f," + depth * ").concat(d," +\n          depth2 * ").concat(c," + depth3 * ").concat(l," + depth4 + ").concat(y,";\n      vec2 uv = uvFromFlat(").concat(g,", ").concat(v,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function Ge(e){var t=e.name,n=u.D5U.sizeFromShape(e.shapeInfo.logicalShape);return n<2?"return ".concat(t,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(t,"[i];\n      }\n    }\n  ")}function Xe(e,t){var n,r=e.name,i=r.charAt(0).toUpperCase()+r.slice(1),a="get"+i+"AtOutCoords",o=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,l=Me(e.shapeInfo.logicalShape,t.logicalShape),c=Ye(s),d=s-o,f=["x","y","z","w","u","v"];n=0===o?"":s<2&&l.length>=1?"coords = 0;":l.map((function(e){return"coords.".concat(f[e+d]," = 0;")})).join("\n");var h="";h=s<2&&o>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(f[t+d])})).join(", ");var p="return outputValue;",m=1===u.D5U.sizeFromShape(e.shapeInfo.logicalShape),g=1===u.D5U.sizeFromShape(t.logicalShape);if(1!==o||m||g){if(m&&!g)p=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(l.length){var v=o-2,y=o-1;l.indexOf(v)>-1&&l.indexOf(y)>-1?p="return vec4(outputValue.x);":l.indexOf(v)>-1?p="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":l.indexOf(y)>-1&&(p="return vec4(outputValue.xx, outputValue.zz);")}}else p="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 ".concat(a,"() {\n      ").concat(c," coords = getOutputCoords();\n      ").concat(n,"\n      vec4 outputValue = get").concat(i,"(").concat(h,");\n      ").concat(p,"\n    }\n  ")}function qe(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),i="get"+r+"AtOutCoords",a=t.texShape,o=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===l&&null==e.shapeInfo.flatOffset&&u.D5U.arraysEqual(o,a))return"\n      float ".concat(i,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");var c,d=Ye(l),f=Me(e.shapeInfo.logicalShape,t.logicalShape),h=l-s,p=["x","y","z","w","u","v"];c=0===s?"":l<2&&f.length>=1?"coords = 0;":f.map((function(e){return"coords.".concat(p[e+h]," = 0;")})).join("\n");var m="";return m=l<2&&s>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(p[t+h])})).join(", "),"\n    float ".concat(i,"() {\n      ").concat(d," coords = getOutputCoords();\n      ").concat(c,"\n      return get").concat(r,"(").concat(m,");\n    }\n  ")}function Ye(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))}function Ke(e,t,n){var r=u.D5U.squeezeShape(t),i=r.newShape,a=r.keptDims,o=t.length,s=e&&3===o&&1===t[0],l=s?t.slice(1):i,c=!e&&o>1&&!u.D5U.arraysEqual(t,n)&&i.length<o||s;return{useSqueezeShape:c,uniformShape:c?l:t,keptDims:a}}function Qe(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function Je(e,t){return t.map((function(t){return e[t]})).join(", ")}function $e(e,t,n,r){var i=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),a=i.map((function(e){return e.shapeInfo})),o={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},s=Ee(i,o,t),l=N(e.gl,s),c=e.createProgram(l);return(0,u.OBj)().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:s,webGLProgram:c,inShapeInfos:a,outShapeInfo:o,uniformLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,inShapesLocations:null,inTexShapesLocations:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:t,fragmentShader:l,source:s,webGLProgram:c,inShapeInfos:a,outShapeInfo:o},et(e,t,c))}function et(e,t,n){var r,i,a,o,s={},l={},c={},d=[],f=null;o=e.getUniformLocation(n,"NAN",!1),1===(0,u.OBj)().getNumber("WEBGL_VERSION")&&(f=e.getUniformLocation(n,"INFINITY",!1));for(var h=!1,p=0;p<t.variableNames.length;p++){var m=t.variableNames[p];s[m]=e.getUniformLocation(n,m,h),s["offset".concat(m)]=e.getUniformLocation(n,"offset".concat(m),h),t.enableShapeUniforms&&(l["".concat(m,"Shape")]=e.getUniformLocation(n,"".concat(m,"Shape"),h),c["".concat(m,"TexShape")]=e.getUniformLocation(n,"".concat(m,"TexShape"),h))}return t.enableShapeUniforms&&(r=e.getUniformLocation(n,"outShape",h),a=e.getUniformLocation(n,"outShapeStrides",h),i=e.getUniformLocation(n,"outTexShape",h)),t.customUniforms&&t.customUniforms.forEach((function(t,r){d[r]=e.getUniformLocation(n,t.name,h)})),{uniformLocations:s,customUniformLocations:d,infLoc:f,nanLoc:o,inShapesLocations:l,inTexShapesLocations:c,outShapeLocation:r,outShapeStridesLocation:a,outTexShapeLocation:i}}function tt(e,t){if(e.length!==t.length)throw Error("Binary was compiled with ".concat(e.length," inputs, but ")+"was executed with ".concat(t.length," inputs"));e.forEach((function(e,n){var r=e.logicalShape,i=t[n],a=i.shape;if(!u.D5U.arraysEqual(r,a))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(r," and ").concat(a," must match"));if(!e.isUniform||!i.isUniform){var o=e.texShape,s=i.isUniform?null:i.texData.texShape;if(!u.D5U.arraysEqual(o,s))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(o," and ").concat(s," must match"))}}))}function nt(e,t,n,r,i){t.program.enableShapeUniforms||(tt(t.inShapeInfos,n),tt([t.outShapeInfo],[r]));var a=r.texData.texture,o=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(a.texture,o[0],o[1]):e.setOutputMatrixTexture(a.texture,o[0],o[1]),e.setProgram(t.webGLProgram),1===(0,u.OBj)().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((function(n,r){var i=t.program.variableNames[r],a=t.uniformLocations[i],o=t.uniformLocations["offset".concat(i)],s=t.inShapesLocations["".concat(i,"Shape")],l=t.inTexShapesLocations["".concat(i,"TexShape")];if(s){var c=Ke(t.program.packedInputs,n.shape,n.texData.texShape).uniformShape;switch(c.length){case 1:e.gl.uniform1iv(s,new Int32Array(c));break;case 2:e.gl.uniform2iv(s,new Int32Array(c));break;case 3:e.gl.uniform3iv(s,new Int32Array(c));break;case 4:e.gl.uniform4iv(s,new Int32Array(c))}}if(l&&e.gl.uniform2i(l,n.texData.texShape[0],n.texData.texShape[1]),null!=a)if(n.isUniform)if(u.D5U.sizeFromShape(n.shape)<2)e.gl.uniform1f(a,n.uniformValues[0]);else{var d=n.uniformValues;d instanceof Float32Array||(d=new Float32Array(d)),e.gl.uniform1fv(a,d)}else null!=n.texData.slice&&null!=o&&e.gl.uniform1i(o,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture.texture,a,r)}));var s=t.outShapeLocation;if(s)switch(r.shape.length){case 1:e.gl.uniform1iv(s,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(s,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(s,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(s,new Int32Array(r.shape))}if(t.outShapeStridesLocation){var l=u.D5U.computeStrides(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(l));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(l));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(l))}}t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&i&&t.program.customUniforms.forEach((function(n,r){var a=t.customUniformLocations[r],o=i[r];if("float"===n.type)e.gl.uniform1fv(a,o);else if("vec2"===n.type)e.gl.uniform2fv(a,o);else if("vec3"===n.type)e.gl.uniform3fv(a,o);else if("vec4"===n.type)e.gl.uniform4fv(a,o);else if("int"===n.type)e.gl.uniform1iv(a,o);else if("ivec2"===n.type)e.gl.uniform2iv(a,o);else if("ivec3"===n.type)e.gl.uniform3iv(a,o);else{if("ivec4"!==n.type)throw Error("uniform type ".concat(n.type," is not supported yet."));e.gl.uniform4iv(a,o)}})),e.executeProgram()}function rt(e,t,n){var r="";t.concat(n).forEach((function(t){var i=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){var a=t.texData.texShape,o=Ke(e.packedInputs,t.shape,a),s=o.useSqueezeShape,l=o.uniformShape,c=o.keptDims,d="",f="",h="";if(1===l.length&&e.packedInputs){var p=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];d="".concat(p[0]>1,"_").concat(p[1]>1)}else if(2!==l.length||e.packedInputs){if(l.length>2&&!e.packedInputs){var m=u.D5U.computeStrides(l);h="".concat(m[0]===a[1],"_").concat(m[m.length-1]===a[1])}}else f="".concat(l[0]>1,"_").concat(l[1]>1);var g=t.shape.length,v=2===l.length&&u.D5U.arraysEqual(t.shape,a),y=1===u.D5U.sizeFromShape(t.shape),x=u.Wap.getBroadcastDims(t.shape,n.shape),b=!e.packedInputs&&g===n.shape.length&&u.D5U.arraysEqual(a,n.texData.texShape),w=e.packedInputs||l.length>2?"":"".concat(a[0]>1,"_").concat(a[1]>1);r+="".concat(g,"_").concat(b,"_").concat(s?c:"","_").concat(l.length,"_").concat(y,"_").concat(x,"_").concat(v,"_").concat(d,"_").concat(f,"_").concat(h,"_").concat(w,"_").concat(i)}else{var _=t.isUniform?"uniform":t.texData.texShape;r+="".concat(t.shape,"_").concat(_,"_").concat(i)}}));var i=e.userCode,a=e.constructor.name;return a+="_"+r+"_"+i+"".concat((0,u.OBj)().getNumber("WEBGL_VERSION"))}function it(e){return(0,u.OBj)().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}var at=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=a.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=Ce();this.outputShape=t,this.enableShapeUniforms=it(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?De(["r","c","d"],t):ke(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),ot=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=a.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=Ce();this.outputShape=t,this.enableShapeUniforms=it(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?De(["r","c","d"],t):ke(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),st=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["A"],this.outTexUsage=o.DOWNLOAD;var n=Ce();this.outputShape=t,this.userCode="\n      ".concat(Ae,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(n.output," = encode_float(x);\n      }\n    ")})),ut=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=o.DOWNLOAD;var n=Ce();this.outputShape=t,this.userCode="\n      ".concat(Ae,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(n.output," = encode_float(x);\n      }\n    ")})),lt=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,f.Z)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=Ce();this.outputShape=t,this.enableShapeUniforms=it(this.outputShape.length);var i="result";n&&(i="floor(result * 255. + 0.5)"),this.userCode="\n      ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Ie(t),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / texShape[1];\n        int c = imod(flatIndex, texShape[1]);\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n        vec4 values = ").concat(r.texture2D,"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ").concat(r.output," = vec4(").concat(i,", 0., 0., 0.);\n      }\n    ")})),ct=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,f.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=Ce();this.outputShape=t,this.enableShapeUniforms=it(this.outputShape.length);var i="",a="result";n&&(a="floor(result * 255. + 0.5)");for(var o=0;o<=1;o++)for(var s=0;s<=1;s++){var u=2*o+s;i+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(s," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(t[2]),") {\n          localCoords[2] += ").concat(s,";\n          if (localCoords[1] + ").concat(o," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(t[1]),") {\n            localCoords[1] += ").concat(o,";\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ").concat(r.texture2D,"(A, uv);\n\n            if (offset == 0) {\n              result[").concat(u,"] = values[0];\n            } else if (offset == 1) {\n              result[").concat(u,"] = values[1];\n            } else if (offset == 2) {\n              result[").concat(u,"] = values[2];\n            } else {\n              result[").concat(u,"] = values[3];\n            }\n          }\n        }\n        ")}this.userCode="\n        ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Ie(t),"\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ").concat(i,"\n\n          ").concat(r.output," = ").concat(a,";\n        }\n    ")}));function dt(e){var t=Ce();return E(e,"".concat(t.version,"\n    precision highp float;\n    ").concat(t.attribute," vec3 clipSpacePos;\n    ").concat(t.attribute," vec2 uv;\n    ").concat(t.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }"))}function ft(e){return z(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function ht(e){return V(e,new Uint16Array([0,1,2,2,1,3]))}function pt(e,t,n,r,i,a){U(t,n);var o=W(e),s=e.TEXTURE_2D;return T(e,(function(){return e.bindTexture(s,o)})),T(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),T(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),T(e,(function(){return e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST)})),T(e,(function(){return e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST)})),1===(0,u.OBj)().getNumber("WEBGL_VERSION")?T(e,(function(){return e.texImage2D(s,0,r,t,n,0,i,a,null)})):T(e,(function(){return e.texStorage2D(s,1,r,t,n)})),T(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),{texture:o,texShape:[n,t]}}function mt(e){return e.internalFormatFloat}function gt(e,t,n,r){var i=S(t,n),a=(0,l.Z)(i,2);return pt(e,a[0],a[1],mt(r),r.textureFormatFloat,e.FLOAT)}function vt(e){return e.internalFormatHalfFloat}function yt(e,t,n,r){var i=S(t,n),a=(0,l.Z)(i,2);return pt(e,a[0],a[1],vt(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function xt(e){return e.downloadTextureFormat}function bt(e,t,n,r){var i=S(t,n),a=(0,l.Z)(i,2);return pt(e,a[0],a[1],xt(r),e.RGBA,e.UNSIGNED_BYTE)}function wt(e){return e.internalFormatPackedFloat}function _t(e,t,n,r){var i=k(t,n),a=(0,l.Z)(i,2);return pt(e,a[0],a[1],wt(r),e.RGBA,e.FLOAT)}function St(e){return e.internalFormatPackedHalfFloat}function Ct(e,t,n,r){var i=k(t,n),a=(0,l.Z)(i,2);return pt(e,a[0],a[1],St(r),e.RGBA,r.textureTypeHalfFloat)}function kt(e,t,n){return T(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),G(e,t,"clipSpacePos",n,3,20,0)&&G(e,t,"uv",n,2,20,12)}function Dt(e,t,n,r,i,a){var o,s,l;T(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),i instanceof Uint8Array?(o=new Uint8Array(n*r*4),s=e.UNSIGNED_BYTE,l=e.RGBA):(o=new Float32Array(n*r*4),s=e.FLOAT,l=a.internalFormatPackedFloat),o.set(i),2===(0,u.OBj)().getNumber("WEBGL_VERSION")?T(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,s,o)})):T(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,l,n,r,0,e.RGBA,s,o)})),T(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function Tt(e,t,n){T(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),n.data instanceof Uint8Array?2===(0,u.OBj)().getNumber("WEBGL_VERSION")?T(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data)})):T(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)})):2===(0,u.OBj)().getNumber("WEBGL_VERSION")?T(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n)})):T(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)})),T(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function It(e,t,n,r){var i=e.createBuffer();T(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,i)}));var a=16*t*n;return T(e,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,a,e.STREAM_READ)})),T(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)})),T(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),i}function At(e,t,n){var r=e,i=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,i),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),i}function Mt(e,t,n,r){var i=S(t,n),a=(0,l.Z)(i,2),o=a[0],s=a[1],u=new Uint8Array(t*n*4);return T(e,(function(){return e.readPixels(0,0,o,s,r.downloadTextureFormat,e.UNSIGNED_BYTE,u)})),new Float32Array(u.buffer)}function Et(e,t,n,r,i,a,o,s){var u=e,c=new Float32Array(function(e,t){var n=k(e,t),r=(0,l.Z)(n,2);return r[0]*r[1]*4}(a,o));return u.bindBuffer(u.PIXEL_PACK_BUFFER,t),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,c),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),c}function Nt(e,t,n){var r=new Float32Array(t*n*4);return T(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r)})),r}var Rt=function(){function e(t){(0,f.Z)(this,e),this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var n=(0,u.OBj)().getNumber("WEBGL_VERSION");null!=t?(this.gl=t,w(n,t)):this.gl=_(n);var r="WEBGL_color_buffer_float",i="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===(0,u.OBj)().getNumber("WEBGL_VERSION")){var a="OES_texture_half_float";if(this.textureFloatExtension=M(this.gl,"OES_texture_float"),ge(this.gl,a))this.textureHalfFloatExtension=M(this.gl,a);else if((0,u.OBj)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),ge(this.gl,i))this.colorBufferHalfFloatExtension=M(this.gl,i);else if((0,u.OBj)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",ge(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!ge(this.gl,i))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(i)}this.vertexBuffer=ft(this.gl),this.indexBuffer=ht(this.gl),this.framebuffer=H(this.gl),this.textureConfig=D(this.gl,this.textureHalfFloatExtension)}return(0,h.Z)(e,[{key:"debug",get:function(){return(0,u.OBj)().getBool("DEBUG")}},{key:"dispose",value:function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;T(t,(function(){return t.finish()})),T(t,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),T(t,(function(){return t.deleteFramebuffer(e.framebuffer)})),T(t,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),T(t,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),T(t,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}}},{key:"createFloat32MatrixTexture",value:function(e,t){return this.throwIfDisposed(),gt(this.gl,e,t,this.textureConfig)}},{key:"createFloat16MatrixTexture",value:function(e,t){return this.throwIfDisposed(),yt(this.gl,e,t,this.textureConfig)}},{key:"createUnsignedBytesMatrixTexture",value:function(e,t){return this.throwIfDisposed(),bt(this.gl,e,t,this.textureConfig)}},{key:"uploadPixelDataToTexture",value:function(e,t){this.throwIfDisposed(),Tt(this.gl,e,t)}},{key:"uploadDenseMatrixToTexture",value:function(e,t,n,r){this.throwIfDisposed(),Dt(this.gl,e,t,n,r,this.textureConfig)}},{key:"createFloat16PackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),Ct(this.gl,e,t,this.textureConfig)}},{key:"createPackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),_t(this.gl,e,t,this.textureConfig)}},{key:"deleteMatrixTexture",value:function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(ee(this.gl,this.framebuffer),this.outputTexture=null),T(this.gl,(function(){return t.gl.deleteTexture(e)}))}},{key:"downloadByteEncodedFloatMatrixFromOutputTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return Mt(r.gl,t,n,r.textureConfig)}))}},{key:"downloadPackedMatrixFromBuffer",value:function(e,t,n,r,i,a){return Et(this.gl,e,0,0,0,i,a,this.textureConfig)}},{key:"downloadFloat32MatrixFromBuffer",value:function(e,t){return At(this.gl,e,t)}},{key:"createBufferFromTexture",value:function(e,t,n){this.bindTextureToFrameBuffer(e);var r=It(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}},{key:"createAndWaitForFence",value:function(){var e=this.createFence(this.gl);return this.pollFence(e)}},{key:"createFence",value:function(e){var t,n,r=this;if((0,u.OBj)().getBool("WEBGL_FENCE_API_ENABLED")){var i=e,a=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=i.clientWaitSync(a,0,0);return e===i.ALREADY_SIGNALED||e===i.CONDITION_SATISFIED},t=a}else(0,u.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,(0,u.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}}},{key:"downloadMatrixFromPackedTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return Nt(r.gl,t,n)}))}},{key:"createProgram",value:function(e){var t=this;this.throwIfDisposed();var n=this.gl;null==this.vertexShader&&(this.vertexShader=dt(n));var r=F(n);return T(n,(function(){return n.attachShader(r,t.vertexShader)})),T(n,(function(){return n.attachShader(r,e)})),Z(n,r),this.debug&&B(n,r),this.vertexAttrsAreBound||(this.setProgram(r),this.vertexAttrsAreBound=kt(n,this.program,this.vertexBuffer)),r}},{key:"deleteProgram",value:function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&T(this.gl,(function(){return t.gl.deleteProgram(e)}))}},{key:"setProgram",value:function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&B(this.gl,this.program),T(this.gl,(function(){return t.gl.useProgram(e)}))}},{key:"getUniformLocation",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?Y(this.gl,e,t):K(this.gl,e,t)}},{key:"getAttributeLocation",value:function(e,t){var n=this;return this.throwIfDisposed(),T(this.gl,(function(){return n.gl.getAttribLocation(e,t)}))}},{key:"getUniformLocationNoThrow",value:function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}},{key:"setInputMatrixTexture",value:function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),Q(this.gl,e,t,n)}},{key:"setOutputMatrixTexture",value:function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}},{key:"setOutputPackedMatrixTexture",value:function(e,t,n){this.throwIfDisposed();var r=k(t,n),i=(0,l.Z)(r,2),a=i[0],o=i[1];this.setOutputMatrixTextureDriver(e,a,o)}},{key:"setOutputMatrixWriteRegion",value:function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}},{key:"setOutputPackedMatrixWriteRegion",value:function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}},{key:"debugValidate",value:function(){null!=this.program&&B(this.gl,this.program),te(this.gl)}},{key:"executeProgram",value:function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),T(e,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))}},{key:"blockUntilAllProgramsCompleted",value:function(){var e=this;this.throwIfDisposed(),T(this.gl,(function(){return e.gl.finish()}))}},{key:"getQueryTimerExtension",value:function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=M(this.gl,2===(0,u.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}},{key:"getQueryTimerExtensionWebGL2",value:function(){return this.getQueryTimerExtension()}},{key:"getQueryTimerExtensionWebGL1",value:function(){return this.getQueryTimerExtension()}},{key:"beginQuery",value:function(){if(2===(0,u.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),i=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,i),i}},{key:"endQuery",value:function(){if(2!==(0,u.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}}},{key:"waitForQueryAndGetTime",value:function(){var e=(0,d.Z)(y().mark((function e(t){var n=this;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.D5U.repeatedTry((function(){return n.disposed||n.isQueryAvailable(t,(0,u.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}));case 2:return e.abrupt("return",this.getQueryTime(t,(0,u.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getQueryTime",value:function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}},{key:"isQueryAvailable",value:function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),i=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint}var a=this.getQueryTimerExtensionWebGL1(),o=a.getQueryObjectEXT(e,a.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),o&&!this.disjoint}},{key:"pollFence",value:function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))}},{key:"pollItems",value:function(){for(var e=function(e){for(var t=0;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t){(0,this.itemsToPoll[t].resolveFn)()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}},{key:"addItemToPoll",value:function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||u.D5U.repeatedTry((function(){return n.pollItems(),0===n.itemsToPoll.length}))}},{key:"bindTextureToFrameBuffer",value:function(e){this.throwIfDisposed(),$(this.gl,e,this.framebuffer),this.debug&&te(this.gl)}},{key:"unbindTextureToFrameBuffer",value:function(){null!=this.outputTexture?($(this.gl,this.outputTexture,this.framebuffer),this.debug&&te(this.gl)):ee(this.gl,this.framebuffer)}},{key:"downloadMatrixDriver",value:function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n}},{key:"setOutputMatrixTextureDriver",value:function(e,t,n){this.throwIfDisposed();var r=this.gl;$(r,e,this.framebuffer),this.debug&&te(r),this.outputTexture=e,T(r,(function(){return r.viewport(0,0,t,n)})),T(r,(function(){return r.scissor(0,0,t,n)}))}},{key:"setOutputMatrixWriteRegionDriver",value:function(e,t,n,r){var i=this;this.throwIfDisposed(),T(this.gl,(function(){return i.gl.scissor(e,t,n,r)}))}},{key:"throwIfDisposed",value:function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}},{key:"throwIfNoProgram",value:function(){if(null==this.program)throw new Error("No GPU program is currently set.")}}]),e}();var Pt=n(25589),Ot=n(73737),Lt=n(94351),Ft=n(46563),Zt=n(68116),Bt=n(66880),zt=n(21354),Vt=n(97224),jt=n(34351),Wt=n(82666),Ut=n(69075),Ht=n(26985),Gt=n(39813),Xt=n(18734),qt=n(21491),Yt=n(68298),Kt=n(4771),Qt=n(89518),Jt=n(38094),$t=n(18244),en=n(54569),tn=n(21566),nn=n(89120),rn=n(66284),an=n(78105),on=n(28567),sn=n(294),un=n(96220),ln=n(22126),cn=n(78337),dn=n(63634),fn=n(35440),hn=n(4165),pn=n(47497),mn=n(18294),gn=n(60998),vn=n(71489),yn=n(51802),xn=n(57129),bn=n(79516),wn=n(31103),_n=n(24242),Sn=Pt.EH,Cn=Ot.W,kn=Ot.i,Dn=Lt.__,Tn=Ft.j,In=Zt.tW,An=Bt.Ro,Mn=zt.OF,En=Vt.r6,Nn=jt.m,Rn=Wt.i,Pn=Ut.o,On=Ht.HL,Ln=Gt.rO,Fn=Xt.lx,Zn=qt.b,Bn=Yt.vX,zn=Kt.B,Vn=Qt.wS,jn=Jt.vP,Wn=$t.$3,Un=en.uC,Hn=tn.Gj,Gn=nn.Qg,Xn=rn.b,qn=an.zd,Yn=on.N,Kn=sn.VY,Qn=un.bk,Jn=ln.rT,$n=cn.c,er=dn.U,tr=fn.V,nr=hn.zT,rr=pn.t,ir=mn.A,ar=gn.Q,or=vn.h,sr=yn.VY,ur=xn.R,lr=bn.W,cr=wn.H,dr=_n.S;function fr(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return"".concat(e,".").concat(t)}))}function hr(e,t){return 1===t?[e]:fr(e,t)}var pr=function(){function e(t){if((0,f.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=it(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=hr("rc",this.rank),r=Ye(this.rank),i=this.getOutOfBoundsCondition(n),a=this.getSetup(n),o=this.getOutput(n);this.userCode="\n        void main() {\n          ".concat(r," rc = getOutputCoords();\n\n          if(").concat(i,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(a,"\n\n            setOutput(vec4(").concat(o,"));\n          }\n        }\n      ")}}return(0,h.Z)(e,[{key:"getSourceCoordsArr",value:function(e){for(var t=[],n=0;n<=1;n++)for(var r=0;r<=1;r++){for(var i="".concat(0===n?"r":"rp1",", ").concat(0===r?"c":"cp1"),a=2;a<this.rank;a++)i="".concat(e[e.length-1-a],",")+i;t.push(i)}return t}},{key:"getOutOfBoundsCondition",value:function(e){if(1===this.rank)return"rc > ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);for(var t="",n=this.rank-2;n<this.rank;n++)t+="".concat(e[n]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(n,"]"):this.outputShape[n]),n<this.rank-1&&(t+="||");return t}},{key:"getSetup",value:function(e){if(1===this.rank)return"";var t=e.slice(-2),n=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],r=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n      int r = ".concat(t[0],";\n      int c = ").concat(t[1],";\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ").concat(n,";\n      bool rEdge = rp1 >= ").concat(r,";\n    ")}},{key:"getOutput",value:function(e){var t=this.getSourceCoordsArr(e);if(1===this.rank){var n=this.enableShapeUniforms?"outShape":this.outputShape[0];return"getA(rc), (rc + 1 >= ".concat(n," ? 0. : getA(rc + 1)), 0, 0")}return"getA(".concat(t[0],"),\n            cEdge ? 0. : getA(").concat(t[1],"),\n            rEdge ? 0. : getA(").concat(t[2],"),\n            rEdge || cEdge ? 0. : getA(").concat(t[3],")")}}]),e}(),mr=(0,h.Z)((function e(t,n){(0,f.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=it(this.outputShape.length);for(var r="",i=0;i<4;i++){var a="thisRC = rc;";i%2===1&&(a+="thisRC.z += 1;"),i>1&&(a+="thisRC.y += 1;"),r+="\n        ".concat(a,"\n        ").concat(i>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(i,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(i>0?"}":"","\n      ")}this.userCode="\n      ".concat(function(e,t){var n=t?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=e.map((function(e,t){return t})),i=Te(r,t);return i.map((function(t,r){var a="int ".concat(e[r]," = ").concat(n," / ").concat(i[r]),o=r===i.length-1?"int ".concat(e[r+1]," = ").concat(n," - ").concat(e[r]," * ").concat(i[r]):"index -= ".concat(e[r]," * ").concat(i[r]);return"".concat(a,"; ").concat(o,";")})).join("")}(["r","c","d"],"inputShape"):ke(["r","c","d"],e);return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(n,"\n      return ivec3(r, c, d);\n    }\n  ")}(n,this.enableShapeUniforms),"\n      ").concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Ie(t),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(this.enableShapeUniforms?"outShape[1]":t[1],";\n        int cols = ").concat(this.enableShapeUniforms?"outShape[2]":t[2],";\n\n        ").concat(r,"\n\n        setOutput(result);\n      }\n    ")}));var gr=function(){function e(t){(0,f.Z)(this,e),this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return(0,h.Z)(e,[{key:"acquireTexture",value:function(e,t,n){var r=yr(t,n),i=xr(e,r,n);i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]);var a,o=vr(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();var u=this.freeTextures[i].shift();return this.usedTextures[i].push(u),u}return r===s.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===s.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===s.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===s.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===s.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(a),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),a}},{key:"releaseTexture",value:function(e,t,n,r){if(null!=this.freeTextures){var i=yr(n,r),a=xr(t,i,r);a in this.freeTextures||(this.freeTextures[a]=[]);var o=vr(t,i,this.gpgpu.gl,this.gpgpu.textureConfig,r),s=(0,u.OBj)().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==s&&this._numBytesAllocated>s?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=o):(this.freeTextures[a].push(e),this.numFreeTextures++,this._numBytesFree+=o),this.numUsedTextures--;var l=this.usedTextures[a],c=l.indexOf(e);if(c<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l.splice(c,1),this.log()}}},{key:"log",value:function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));var t=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*t),"%)"))}}},{key:"numBytesAllocated",get:function(){return this._numBytesAllocated}},{key:"numBytesFree",get:function(){return this._numBytesFree}},{key:"getNumUsedTextures",value:function(){return this.numUsedTextures}},{key:"getNumFreeTextures",value:function(){return this.numFreeTextures}},{key:"dispose",value:function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));for(var n in this.usedTextures)this.usedTextures[n].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}]),e}();function vr(e,t,n,r,i){var a,o=function(e,t){switch(e){case s.PACKED_2X2_FLOAT32:return wt(t);case s.PACKED_2X2_FLOAT16:return St(t);case s.UNPACKED_FLOAT32:return mt(t);case s.UNPACKED_FLOAT16:return vt(t);case s.PACKED_4X1_UNSIGNED_BYTE:return xt(t);default:throw new Error("Unknown physical texture type ".concat(e))}}(t,r);if(i){var u=k(e[0],e[1]),c=(0,l.Z)(u,2);a=c[0]*c[1]}else{var d=S(e[0],e[1]),f=(0,l.Z)(d,2);a=f[0]*f[1]}var h=function(e,t){var n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error("Unknown internal format ".concat(t))}(n,o);return a*h}function yr(e,t){if(e===o.UPLOAD)return s.PACKED_2X2_FLOAT32;if(e===o.RENDER||null==e)return function(e){return(0,u.OBj)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?s.PACKED_2X2_FLOAT32:s.UNPACKED_FLOAT32:e?s.PACKED_2X2_FLOAT16:s.UNPACKED_FLOAT16}(t);if(e===o.DOWNLOAD||e===o.PIXELS)return s.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type ".concat(e))}function xr(e,t,n){return"".concat(e[0],"_").concat(e[1],"_").concat(t,"_").concat(n)}var br=(0,h.Z)((function e(t,n){(0,f.Z)(this,e),this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=it(this.outputShape.length),this.userCode="\n      float unaryOperation(float x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")})),wr="if (isnan(x)) return x;",_r="return x;",Sr="return abs(x);";var Cr="return (x >= 0.0) ? x : (exp(x) - 1.0);",kr=wr+"\n  return (x < 0.0) ? 0.0 : x;\n",Dr=wr+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",Tr="return x;",Ir="return 1.0 / (1.0 + exp(-1.0 * x));",Ar="return x;",Mr="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",Er="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Nr="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Rr="return 1.0 / (1.0 + exp(-1.0 * x));",Pr=(0,h.Z)((function e(t,n){(0,f.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=it(this.outputShape.length),this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")})),Or=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=it(this.outputShape.length);var n=t.length,r=hr("rc",n),i=Ye(n),a=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(n,r),o=r.slice(-2),s=n<=1?"rc":"vec2(".concat(o.join(","),")");this.userCode="\n      void main() {\n        ".concat(i," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(a,");\n\n        setOutput(getChannel(packedInput, ").concat(s,"));\n      }\n    ")})),Lr=u.GDt.whereImpl,Fr={};var Zr=(0,u.OBj)().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");var Br=function(e){(0,m.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r,i,a;if((0,f.Z)(this,n),(r=t.call(this)).pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.lastGlFlushTime=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!(0,u.OBj)().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null!=e){if(e instanceof Rt)i=e;else{var o=_((0,u.OBj)().getNumber("WEBGL_VERSION"),e);i=new Rt(o)}r.binaryCache={},r.gpgpuCreatedLocally=!1}else{var s=_((0,u.OBj)().getNumber("WEBGL_VERSION"));i=new Rt(s),r.binaryCache=((a=(0,u.OBj)().getNumber("WEBGL_VERSION"))in Fr||(Fr[a]={}),Fr[a]),r.gpgpuCreatedLocally=!0}return r.gpgpu=i,r.canvas=r.gpgpu.gl.canvas,r.textureManager=new gr(r.gpgpu),r.numMBBeforeWarning=null==(0,u.OBj)().global.screen?1024:(0,u.OBj)().global.screen.height*(0,u.OBj)().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new u.JLz((0,p.Z)(r),(0,u.SRH)()),r}return(0,h.Z)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"numDataIds",value:function(){return this.texData.numDataIds()-this.pendingDeletes}},{key:"write",value:function(e,t,n){if(((0,u.OBj)().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||(0,u.OBj)().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:o.UPLOAD,refCount:1}),r}},{key:"refCount",value:function(e){return this.texData.has(e)?this.texData.get(e).refCount:0}},{key:"incRef",value:function(e){this.texData.get(e).refCount++}},{key:"decRef",value:function(e){this.texData.has(e)&&this.texData.get(e).refCount--}},{key:"move",value:function(e,t,n,r,i){if((0,u.OBj)().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:o.UPLOAD,refCount:i})}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"readSync",value:function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,i=t.complexTensorInfos,a=t.slice,o=t.shape,s=t.isPacked;if(null!=a){var l;l=s?new Pr(o,Tr):new br(o,Tr);var c=this.runWebGLProgram(l,[{dataId:e,shape:o,dtype:r}],r),d=this.readSync(c.dataId);return this.disposeIntermediateTensorInfo(c),d}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var f,h,p=null!=this.activeTimers;if(p&&(f=u.D5U.now()),"complex64"===r){var m=this.readSync(i.real.dataId),g=this.readSync(i.imag.dataId);h=u.Wap.mergeRealAndImagArrays(m,g)}else h=this.getValuesFromTexture(e);return p&&(this.downloadWaitMs+=u.D5U.now()-f),this.convertAndCacheOnCPU(e,h)}},{key:"read",value:function(){var e=(0,d.Z)(y().mark((function e(t){var n,r,i,a,o,s,l,d,f,h,p,m,g,v,x,b,w,_,S,k,D,I,A;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pendingRead.has(t)){e.next=3;break}return n=this.pendingRead.get(t),e.abrupt("return",new Promise((function(e){return n.push(e)})));case 3:if(r=this.texData.get(t),i=r.values,a=r.shape,o=r.slice,s=r.dtype,l=r.complexTensorInfos,d=r.isPacked,null==o){e.next=11;break}return f=d?new Pr(a,Tr):new br(a,Tr),h=this.runWebGLProgram(f,[{dataId:t,shape:a,dtype:s}],s),p=this.read(h.dataId),this.disposeIntermediateTensorInfo(h),e.abrupt("return",p);case 11:if(null==i){e.next=13;break}return e.abrupt("return",this.convertAndCacheOnCPU(t));case 13:if(!(0,u.OBj)().getBool("DEBUG")){e.next=16;break}if((0,u.OBj)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")||2!==(0,u.OBj)().getNumber("WEBGL_VERSION")){e.next=16;break}throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");case 16:if(m=null,"complex64"!==s&&(0,u.OBj)().get("WEBGL_BUFFER_SUPPORTED")&&(g=this.decode(t),x=this.texData.get(g.dataId),m=(v=this.gpgpu).createBufferFromTexture.apply(v,[x.texture.texture].concat((0,c.Z)(C(a))))),this.pendingRead.set(t,[]),"complex64"===s){e.next=22;break}return e.next=22,this.gpgpu.createAndWaitForFence();case 22:if("complex64"!==s){e.next=31;break}return e.next=25,Promise.all([this.read(l.real.dataId),this.read(l.imag.dataId)]);case 25:w=e.sent,_=w[0],S=w[1],b=u.Wap.mergeRealAndImagArrays(_,S),e.next=32;break;case 31:null==m?b=this.getValuesFromTexture(t):(k=u.D5U.sizeFromShape(a),b=this.gpgpu.downloadFloat32MatrixFromBuffer(m,k));case 32:return null!=g&&this.disposeIntermediateTensorInfo(g),null!=m&&T(D=this.gpgpu.gl,(function(){return D.deleteBuffer(m)})),I=this.convertAndCacheOnCPU(t,b),A=this.pendingRead.get(t),this.pendingRead.delete(t),A.forEach((function(e){return e(I)})),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)&&(0,u.SRH)().removeDataId(t,this),this.pendingDeletes--),e.abrupt("return",I);case 40:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readToGPU",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.texData.get(e),r=n.values,i=n.shape,a=n.slice,o=n.dtype,s=n.isPacked,l=n.texture;if("complex64"===o)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=a){var c;c=s?new Pr(i,Tr):new br(i,Tr);var d=this.runWebGLProgram(c,[{dataId:e,shape:i,dtype:o}],o),f=this.readToGPU(d,t);return this.disposeIntermediateTensorInfo(d),f}if(null==l)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");var h=this.decode(e,t.customTexShape),p=(0,u.SRH)().makeTensorFromTensorInfo(h),m=this.texData.get(h.dataId);return Object.assign({tensorRef:p},m.texture)}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var n=t.map((function(e){return u.D5U.decodeString(e)}));return(0,u.f3b)(e.shape,e.dtype,n)}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return(0,u.f3b)(e.shape,e.dtype,t)}},{key:"checkNumericalProblems",value:function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!I(n)){if((0,u.OBj)().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value ".concat(n," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value ".concat(n," cannot be represented on this device."))}}}},{key:"getValuesFromTexture",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,i=t.isPacked,a=u.D5U.sizeFromShape(n);if((0,u.OBj)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var o,s=this.decode(e),l=this.texData.get(s.dataId),d=(o=this.gpgpu).downloadMatrixFromPackedTexture.apply(o,[l.texture.texture].concat((0,c.Z)(C(n)))).subarray(0,a);return this.disposeIntermediateTensorInfo(s),d}var f=(0,u.OBj)().getBool("WEBGL_PACK")&&!0===i,h=f?se(n):n,p=f?new ut(h):new st(h),m=this.runWebGLProgram(p,[{shape:h,dtype:r,dataId:e}],"float32"),g=this.texData.get(m.dataId),v=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(g.texture.texture,g.texShape[0],g.texShape[1]).subarray(0,a);return this.disposeIntermediateTensorInfo(m),v}},{key:"timerAvailable",value:function(){return(0,u.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}},{key:"time",value:function(e){var t=this,n=this.activeTimers,r=[],i=!1;null==this.programTimersStack?(this.programTimersStack=r,i=!0):this.activeTimers.push(r),this.activeTimers=r,e();var a=u.D5U.flatten(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),o=u.D5U.flatten(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e}));this.activeTimers=n,i&&(this.programTimersStack=null);var s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(0,d.Z)(y().mark((function e(){var n;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((0,u.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=8;break}return e.next=3,Promise.all(a);case 3:n=e.sent,s.kernelMs=u.D5U.sum(n),s.getExtraProfileInfo=function(){return n.map((function(e,t){return{name:o[t],ms:e}})).map((function(e){return"".concat(e.name,": ").concat(e.ms)})).join(", ")},e.next=9;break;case 8:s.kernelMs={error:"WebGL query timers are not supported in this environment."};case 9:return t.uploadWaitMs=0,t.downloadWaitMs=0,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))()}},{key:"memory",value:function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}},{key:"startTimer",value:function(){return(0,u.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:u.D5U.now(),endMs:null}}},{key:"endTimer",value:function(e){return(0,u.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=u.D5U.now(),e)}},{key:"getQueryTime",value:function(){var e=(0,d.Z)(y().mark((function e(t){var n;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((0,u.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=2;break}return e.abrupt("return",this.gpgpu.waitForQueryAndGetTime(t));case 2:return n=t,e.abrupt("return",n.endMs-n.startMs);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);var n=this.texData.get(e),r=n.complexTensorInfos;return null!=r&&(this.disposeData(r.real.dataId,t),this.disposeData(r.imag.dataId,t)),this.texData.delete(e),!0}},{key:"releaseGPUData",value:function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,i=t.texShape,a=t.usage,o=t.isPacked,s=t.slice,u=s&&s.origDataId||e,l=this.dataRefCount.get(u);l>1?this.dataRefCount.set(u,l-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(i,r),this.textureManager.releaseTexture(n,i,a,o)));var c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}},{key:"getTexture",value:function(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}},{key:"getDataInfo",value:function(e){return this.texData.get(e)}},{key:"shouldExecuteOnCPU",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zr;return(0,u.OBj)().getBool("WEBGL_CPU_FORWARD")&&e.every((function(e){return null==t.texData.get(e.dataId).texture&&u.D5U.sizeFromShape(e.shape)<n}))}},{key:"getGPGPUContext",value:function(){return this.gpgpu}},{key:"where",value:function(e){u.Wap.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return Lr(e.shape,t)}},{key:"packedUnaryOp",value:function(e,t,n){var r=new Pr(e.shape,t),i=this.compileAndRun(r,[e],n);return(0,u.SRH)().makeTensorFromTensorInfo(i)}},{key:"abs",value:function(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){var t=Qn(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if((0,u.OBj)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Sr,e.dtype);var n=new br(e.shape,Sr),r=this.compileAndRun(n,[e]);return(0,u.SRH)().makeTensorFromTensorInfo(r)}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&u.D5U.isString(n[0])){var i=n.map((function(e){return u.D5U.encodeString(e)}));r=this.write(i,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}},{key:"makeOutput",value:function(e,t,n){return(0,u.SRH)().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}},{key:"unpackTensor",value:function(e){var t=new Or(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}},{key:"packTensor",value:function(e){var t=new pr(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}},{key:"packedReshape",value:function(e,t){var n=[ae(e.shape)].concat((0,c.Z)(oe(e.shape))),r={dtype:e.dtype,shape:n,dataId:e.dataId},i=[ae(t)].concat((0,c.Z)(oe(t))),a=new mr(i,n),o=[n],s=this.runWebGLProgram(a,[r],e.dtype,o,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}},{key:"decode",value:function(e,t){var n=this.texData.get(e),r=n.isPacked,i=n.shape,a=n.dtype;if(null!=t){var o=u.D5U.sizeFromShape(i),s=t[0]*t[1]*4;u.D5U.assert(o<=s,(function(){return"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."}))}var l,c=se(i);l=r?new ot(c):new at(c);var d=[null!=t?t:C(c)];return{dtype:a,shape:i,dataId:this.runWebGLProgram(l,[{shape:c,dtype:a,dataId:e}],a,d,!0,t).dataId}}},{key:"runWebGLProgram",value:function(e,t,n,r){var i=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5?arguments[5]:void 0,l=this.makeTensorInfo(e.outputShape,n),c=this.texData.get(l.dataId);if(e.packedOutput&&(c.isPacked=!0),e.outPackingScheme===a.DENSE){var d=null!=s?s:C(e.outputShape);c.texShape=d.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(c.usage=e.outTexUsage),0===u.D5U.sizeFromShape(l.shape))return c.values=u.D5U.getTypedArrayFromDType(l.dtype,0),l;var f=[],h=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=i.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&u.D5U.sizeFromShape(t.shape)<=(0,u.OBj)().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(i.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?i.unpackTensor(t):i.packTensor(t),f.push(t),n=i.texData.get(t.dataId);else if(n.isPacked&&!ce(n.shape,t.shape)){var r=t,a=t.shape;t.shape=n.shape,t=i.packedReshape(t,a),f.push(t),n=i.texData.get(t.dataId),r.shape=a}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(l.dataId);var p,m={shape:l.shape,texData:c,isUniform:!1},g=rt(e,h,m),v=this.getAndSaveBinary(g,(function(){return $e(i.gpgpu,e,h,m)})),y=null!=this.activeTimers;y&&(p=this.startTimer()),(0,u.OBj)().get("ENGINE_COMPILE_ONLY")||nt(this.gpgpu,v,h,m,r),f.forEach((function(e){return i.disposeIntermediateTensorInfo(e)})),y&&(p=this.endTimer(p),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(p)}));var x=(0,u.OBj)().get("WEBGL_FLUSH_THRESHOLD");if(x>0){var b=u.D5U.now();b-this.lastGlFlushTime>x&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=b)}if(!(0,u.OBj)().getBool("WEBGL_LAZILY_UNPACK")&&c.isPacked&&!1===o){var w=this.unpackTensor(l);return this.disposeIntermediateTensorInfo(l),w}return l}},{key:"compileAndRun",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n=n||t[0].dtype;var a=this.runWebGLProgram(e,t,n,r,i);return a}},{key:"getAndSaveBinary",value:function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}},{key:"getTextureManager",value:function(){return this.textureManager}},{key:"dispose",value:function(){var e=this;if(!this.disposed){if(!(0,u.OBj)().getBool("IS_TEST"))Object.keys(this.binaryCache).forEach((function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]}));this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}},{key:"floatPrecision",value:function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=(0,u.lub)((function(){if(!(0,u.OBj)().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=(0,u.OBj)().getBool("DEBUG");(0,u.OBj)().set("DEBUG",!1);var n=e.abs((0,u.iD$)(1e-8)).dataSync()[0];if((0,u.OBj)().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"uploadToGPU",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,i=t.values,a=t.texture,s=t.usage,c=t.isPacked;if(null==a){var d,f=null!=this.activeTimers;f&&(d=u.D5U.now());var h=t.texShape;if(null==h&&(h=ue(n,c),t.texShape=h),null!=i){var p,m=se(n),g=h[1],v=h[0],y=i instanceof Uint8Array||i instanceof Uint8ClampedArray;if(c||!y){var x=k(h[0],h[1]),b=(0,l.Z)(x,2);g=b[0],v=b[1]}p=c?new ct(m,y):new lt(m,y);var w=y?[v,g]:h,_=this.makeTensorInfo(w,r),S=this.texData.get(_.dataId);S.usage=y?o.PIXELS:o.UPLOAD,S.texShape=w,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(_.dataId),g,v,i);var C=[[v,g]],D=this.runWebGLProgram(p,[_],r,C,!0),T=this.texData.get(D.dataId);t.texShape=T.texShape,t.isPacked=T.isPacked,t.usage=T.usage,(0,u.OBj)().get("ENGINE_COMPILE_ONLY")?this.disposeData(D.dataId):(t.texture=T.texture,t.values=null,this.texData.delete(D.dataId)),this.disposeIntermediateTensorInfo(_),f&&(this.uploadWaitMs+=u.D5U.now()-d)}else{var I=this.acquireTexture(h,s,r,c);t.texture=I}}}},{key:"convertAndCacheOnCPU",value:function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype ".concat(t))}(t,r)),n.values}},{key:"acquireTexture",value:function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(i," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)}},{key:"computeBytes",value:function(e,t){return e[0]*e[1]*u.D5U.bytesPerElement(t)}},{key:"checkCompileCompletion",value:function(){for(var e=0,t=Object.entries(this.binaryCache);e<t.length;e++){var n=(0,l.Z)(t[e],2)[1];this.checkCompletion_(n)}}},{key:"checkCompileCompletionAsync",value:function(){var e=(0,d.Z)(y().mark((function e(){var t,n,r,i,a,o,s,u,c=this;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!this.gpgpu.parallelCompilationExtension){e.next=6;break}for(n=0,r=Object.entries(this.binaryCache);n<r.length;n++)i=(0,l.Z)(r[n],2),a=i[1],t.push(this.checkCompletionAsync_(a));return e.abrupt("return",Promise.all(t));case 6:for(o=function(){var e=(0,l.Z)(u[s],2)[1],n=new Promise((function(t){try{c.checkCompletion_(e),t(!0)}catch(n){throw n}}));t.push(n)},s=0,u=Object.entries(this.binaryCache);s<u.length;s++)o();return e.abrupt("return",Promise.all(t));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkCompletionAsync_",value:function(){var e=(0,d.Z)(y().mark((function e(t){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.gpgpu.gl.getProgramParameter(t.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)){e.next=4;break}return e.abrupt("return",this.checkCompletion_(t));case 4:return e.next=6,(0,u.glt)();case 6:return e.abrupt("return",this.checkCompletionAsync_(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkCompletion_",value:function(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw L(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}},{key:"getUniformLocations",value:function(){for(var e=0,t=Object.entries(this.binaryCache);e<t.length;e++){var n=(0,l.Z)(t[e],2)[1],r=et(this.gpgpu,n.program,n.webGLProgram),i=r.uniformLocations,a=r.customUniformLocations,o=r.infLoc,s=r.nanLoc,u=r.inShapesLocations,c=r.inTexShapesLocations,d=r.outShapeLocation,f=r.outShapeStridesLocation,h=r.outTexShapeLocation;n.uniformLocations=i,n.customUniformLocations=a,n.infLoc=o,n.nanLoc=s,n.inShapesLocations=u,n.inTexShapesLocations=c,n.outShapeLocation=d,n.outShapeStridesLocation=f,n.outTexShapeLocation=h}}}]),n}(u.Zuw);Br.nextDataId=0;var zr="3.18.0";function Vr(){(0,u.OBj)().set("WEBGL_FORCE_F16_TEXTURES",!0)}u.C2$.isBrowser()&&(0,u.jqO)("webgl",(function(){return new Br}),2);var jr={forceHalfFloat:Vr},Wr=(0,h.Z)((function e(t,n,r){(0,f.Z)(this,e),this.variableNames=["A","B"],this.outputShape=u.Wap.assertAndGetBroadcastShape(n,r),this.enableShapeUniforms=it(this.outputShape.length),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")})),Ur=(0,h.Z)((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,f.Z)(this,e),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=u.Wap.assertAndGetBroadcastShape(n,r);var a=this.outputShape.length;this.enableShapeUniforms=it(a);var o="";if(i)if(0===a||1===u.D5U.sizeFromShape(this.outputShape))o="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{var s=Ye(a);if(o="\n          ".concat(s," coords = getOutputCoords();\n        "),1===a)this.enableShapeUniforms?o+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":o+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{var l=hr("coords",a);this.enableShapeUniforms?o+="\n            bool nextRowOutOfBounds =\n              (".concat(l[a-2]," + 1) >= outShape[").concat(a," - 2];\n            bool nextColOutOfBounds =\n              (").concat(l[a-1]," + 1) >= outShape[").concat(a," - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "):o+="\n            bool nextRowOutOfBounds =\n              (".concat(l[a-2]," + 1) >= ").concat(this.outputShape[a-2],";\n            bool nextColOutOfBounds =\n              (").concat(l[a-1]," + 1) >= ").concat(this.outputShape[a-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(o,"\n\n        setOutput(result);\n      }\n    ")}));function Hr(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var Gr={kernelName:u.iJz,backendName:"webgl",kernelFunc:Hr};function Xr(e){var t=e.inputs,n=e.backend,r=t.real,i=t.imag,a=n.makeTensorInfo(r.shape,"complex64"),o=n.texData.get(a.dataId),s=Hr({inputs:{x:r},backend:n}),u=Hr({inputs:{x:i},backend:n});return o.complexTensorInfos={real:s,imag:u},a}var qr={kernelName:u.Zz9,backendName:"webgl",kernelFunc:Xr},Yr="return (a < 0.) ? b * a : a;",Kr="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var Qr={kernelName:u.J$2,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.alpha,o=n.makeTensorInfo([],"float32",u.D5U.createScalarValue(a,"float32")),s=(0,u.OBj)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ur(Kr,i.shape,o.shape):new Wr(Yr,i.shape,o.shape),l=n.runWebGLProgram(s,[i,o],"float32");return n.disposeIntermediateTensorInfo(o),l}},Jr="return (a < 0.) ? b * a : a;",$r="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var ei={kernelName:u.o0g,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=t.alpha,a=(0,u.OBj)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ur($r,r.shape,i.shape):new Wr(Jr,r.shape,i.shape);return n.runWebGLProgram(a,[r,i],"float32")}};function ti(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.cpuKernelImpl,i=e.dtype;return function(e){var a,o=e.inputs,s=e.backend,l=o.x,c=s,d=i||l.dtype;if(c.shouldExecuteOnCPU([l])&&null!=r){var f=c.texData.get(l.dataId),h=r(f.values,d);return c.makeTensorInfo(l.shape,d,h)}return a=(0,u.OBj)().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new Pr(l.shape,n):new br(l.shape,t),c.runWebGLProgram(a,[l],d)}}function ni(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.checkOutOfBounds,i=void 0!==r&&r,a=e.supportsComplex,o=void 0!==a&&a,s=e.cpuKernelImpl,c=e.dtype;return function(e){var r=e.inputs,a=e.backend,d=r.a,f=r.b,h=a;if(o&&"complex64"===d.dtype){var p=h.texData.get(d.dataId),m=h.texData.get(f.dataId),g=[[p.complexTensorInfos.real,m.complexTensorInfos.real],[p.complexTensorInfos.imag,m.complexTensorInfos.imag]].map((function(e){var n=(0,l.Z)(e,2),r=n[0],i=n[1],a={dataId:r.dataId,dtype:r.dtype,shape:d.shape},o={dataId:i.dataId,dtype:i.dtype,shape:f.shape},s=new Wr(t,d.shape,f.shape);return h.runWebGLProgram(s,[a,o],(0,u.x8V)(r.dtype,i.dtype))})),v=(0,l.Z)(g,2),y=v[0],x=v[1],b=Xr({inputs:{real:y,imag:x},backend:h});return h.disposeIntermediateTensorInfo(y),h.disposeIntermediateTensorInfo(x),b}var w,_=c||(0,u.x8V)(d.dtype,f.dtype);if(("string"===d.dtype||"string"===f.dtype||h.shouldExecuteOnCPU([d,f]))&&null!=s){var S=h.texData.get(d.dataId).values,C=h.texData.get(f.dataId).values,k="string"===d.dtype?u.Wap.fromUint8ToStringArray(S):S,D="string"===d.dtype?u.Wap.fromUint8ToStringArray(C):C,T=s(d.shape,f.shape,k,D,_),I=(0,l.Z)(T,2),A=I[0],M=I[1],E=h.makeTensorInfo(M,_);return h.texData.get(E.dataId).values=A,E}return w=(0,u.OBj)().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new Ur(n,d.shape,f.shape,i):new Wr(t,d.shape,f.shape),h.runWebGLProgram(w,[d,f],_)}}function ri(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?Ar:_r;if("relu"===e)return t?Er:kr;if("elu"===e)return t?Mr:Cr;if("relu6"===e)return t?Nr:Dr;if("prelu"===e)return t?$r:Jr;if("leakyrelu"===e)return t?Kr:Yr;if("sigmoid"===e)return t?Rr:Ir;throw new Error("Activation ".concat(e," has not been implemented for the WebGL backend."))}var ii=(0,h.Z)((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];(0,f.Z)(this,e),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=it(this.outputShape.length);var c=i?t[1]:t[2],d=Math.ceil(c/2),h=i?"i * 2, rc.y":"rc.y, i * 2",p=a?"rc.z, i * 2":"i * 2, rc.z",m=i?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],g=a?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],v="",y="";s&&(v=u?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(s,"\n        }"):l?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(s,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(s,"\n        }"),y="result = activation(result);");var x=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),u&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");var b="rc.x",w="rc.x";t[0]<n[0]?b="int(min(float(rc.x), ".concat(t[0]-1,".))"):n[0]<t[0]&&(w="int(min(float(rc.x), ".concat(n[0]-1,".))")),this.userCode="\n      ".concat(v,"\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ").concat(d,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ").concat(d,"; i++) {\n          int batchA = ").concat(b,";\n          int batchB = ").concat(w,";\n          vec4 a = getMatrixA(batchA, ").concat(h,");\n          vec4 b = getMatrixB(batchB, ").concat(p,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(m[0]," * ").concat(g[0],");\n          result += (").concat(m[1]," * ").concat(g[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(x,"\n\n        ").concat(y,"\n\n        setOutput(result);\n      }\n    ")})),ai="return areal * breal - aimag * bimag;",oi="return areal * bimag + aimag * breal;",si=(0,h.Z)((function e(t,n,r){(0,f.Z)(this,e),this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=u.Wap.assertAndGetBroadcastShape(n,r),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")})),ui="return a * b;";function li(e){var t,n=e.inputs,r=e.backend,i=n.a,a=n.b,o=u.Wap.upcastType(i.dtype,a.dtype);if("complex64"===i.dtype){var s=r.texData.get(i.dataId),c=r.texData.get(a.dataId),d=new si(ai,i.shape,a.shape),f=new si(oi,i.shape,a.shape),h=[{dataId:s.complexTensorInfos.real.dataId,dtype:s.complexTensorInfos.real.dtype,shape:i.shape},{dataId:s.complexTensorInfos.imag.dataId,dtype:s.complexTensorInfos.imag.dtype,shape:i.shape},{dataId:c.complexTensorInfos.real.dataId,dtype:c.complexTensorInfos.real.dtype,shape:a.shape},{dataId:c.complexTensorInfos.imag.dataId,dtype:c.complexTensorInfos.imag.dtype,shape:a.shape}],p=r.runWebGLProgram(d,h,"float32"),m=r.runWebGLProgram(f,h,"float32"),g=Xr({inputs:{real:p,imag:m},backend:r});return r.disposeIntermediateTensorInfo(p),r.disposeIntermediateTensorInfo(m),g}if(r.shouldExecuteOnCPU([i,a])){var v=r.texData.get(i.dataId),y=r.texData.get(a.dataId),x=Wn(i.shape,a.shape,v.values,y.values,o),b=(0,l.Z)(x,2),w=b[0],_=b[1],S=r.makeTensorInfo(_,o);return r.texData.get(S.dataId).values=w,S}return t=(0,u.OBj)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ur(ui,i.shape,a.shape):new Wr(ui,i.shape,a.shape),r.runWebGLProgram(t,[i,a],o)}var ci={kernelName:u.wYn,backendName:"webgl",kernelFunc:li};function di(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.shape,o=n,s=u.D5U.sizeFromShape(i.shape),l=u.D5U.inferFromImplicitShape(a,s),d=u.D5U.sizeFromShape(l);u.D5U.assert(s===d,(function(){return"The new shape (".concat(l,") has ").concat(d," elements and the old ")+"shape (".concat(i.shape,") has ").concat(s," elements. The new shape and old ")+"shape must have the same number of elements."}));var f=o.texData.get(i.dataId);return!f.isPacked||ce(i.shape,l)||null!==f.texture&&ce(f.shape,l)?(o.incRef(i.dataId),{dataId:i.dataId,shape:l,dtype:i.dtype}):function(e,t,n){var r=[ae(e.shape)].concat((0,c.Z)(oe(e.shape))),i={dtype:e.dtype,shape:r,dataId:e.dataId},a=[ae(t)].concat((0,c.Z)(oe(t))),o=new mr(a,r),s=[r],u=n.runWebGLProgram(o,[i],e.dtype,s,!0);return{dataId:u.dataId,shape:t,dtype:u.dtype}}(i,l,o)}var fi={kernelName:u.HZH,backendName:"webgl",kernelFunc:di},hi=(0,h.Z)((function e(t,n){(0,f.Z)(this,e),this.variableNames=["x"];var r=t.windowSize,i=t.batchSize,a=t.inSize,o=t.outSize;this.outputShape=[i,o];var s=4*Math.floor(r/4),l=r%4,c="sumValue += dot(values, ones);";if(null!=n){var d=1/n;c="sumValue += dot(values * ".concat(u.D5U.isInt(d)?d.toPrecision(2):d,", ones);")}var h="";a%r>0&&(h="\n        if (inIdx < 0 || inIdx >= ".concat(a,") {\n          return 0.0;\n        }\n      ")),this.userCode="\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ".concat(h,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(s,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(c,"\n        }\n\n        int inIdx = inOffset + ").concat(s,";\n        if (").concat(1===l,") {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ").concat(c,"\n        } else if (").concat(2===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ").concat(c,"\n        } else if (").concat(3===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ").concat(c,"\n        }\n        setOutput(sumValue);\n      }\n    ")})),pi=(0,h.Z)((function e(t,n){(0,f.Z)(this,e),this.variableNames=["x"];var r=t.windowSize,i=t.batchSize,a=t.inSize,o=t.outSize;this.outputShape=[i,o];var s="0.0",u="";"prod"===n?s="1.0":"min"===n?(s="1.0 / 1e-20",u="min"):"max"===n&&(s="-1.0 / 1e-20",u="max");var l="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===n?l="sumValue":"prod"===n?l="prodValue":"all"===n?l="allValue":"any"===n&&(l="anyValue");var c=4*Math.floor(r/4),d=r%4,h="\n      if (".concat("sum"===n,") {\n        sumValue += dot(values, ones);\n      } else if (").concat("prod"===n,") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(u,"(values, minMaxValue);\n        if (").concat("min"===n," || ").concat("max"===n,") {\n          minMaxValue = ").concat(u,"(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    "),p="vec4";"all"===n?(s="1.0",h="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",p="bvec4"):"any"===n&&(s="0.0",h="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",p="bvec4");var m="";a%r>0&&(m="\n        if (inIdx < 0 || inIdx >= ".concat(a,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(s,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(m,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        vec4 minMaxValue = vec4(").concat(s,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(c,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(h,"\n        }\n\n        int inIdx = inOffset + ").concat(c,";\n        if (").concat(1===d,") {\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(h,"\n        } else if (").concat(2===d,") {\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(h,"\n        } else if (").concat(3===d,") {\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(h,"\n        }\n        setOutput(").concat(l,");\n      }\n    ")}));function mi(e,t,n,r){for(var i=function(e){for(var t=[];0===t.length||1!==t[t.length-1].outSize;){var n=t.length?t[t.length-1].outSize:e[1],r=u.Wap.computeOptimalWindowSize(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape),a=e,o=0;o<i.length;o++){var s,l=i[o],c=l.inSize,d=l.windowSize,f=l.outSize,h=void 0;h="mean"===n?0===o?new hi({windowSize:d,inSize:c,batchSize:e.shape[0],outSize:f},c):new hi({windowSize:d,inSize:c,batchSize:e.shape[0],outSize:f}):new pi({windowSize:d,inSize:c,batchSize:e.shape[0],outSize:f},n),s=a,a=r.runWebGLProgram(h,[a],t),s.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(s)}return a}var gi=(0,h.Z)((function e(t,n){(0,f.Z)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),i=0;i<r.length;i++)r[i]=t[n[i]];this.outputShape=r,this.rank=r.length;var a=Ye(this.rank),o=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank ".concat(t," is not yet supported"));for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),i=0;i<e.length;i++)r[e[i]]=n[i];return r.join()}(n);this.userCode="\n    void main() {\n      ".concat(a," resRC = getOutputCoords();\n      setOutput(getA(").concat(o,"));\n    }\n    ")}));var vi=(0,h.Z)((function e(t,n){(0,f.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var r=new Array(t.length),i=0;i<r.length;i++)r[i]=t[n[i]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));for(var a=Ye(this.rank),o=fr("rc",this.rank),s=new Array(this.rank),u=0;u<n.length;u++)s[n[u]]=o[u];var l="vec2(".concat(s.slice(-2).join(),")"),c="++".concat(o[this.rank-1]," < ").concat(r[this.rank-1]),d="getChannel(getA(".concat(s.join(),"), ").concat(l,")");this.userCode="\n    void main() {\n      ".concat(a," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(d,";\n      if(").concat(c,") {\n        result[1] = ").concat(d,";\n      }\n      --").concat(o[this.rank-1],";\n      if(++").concat(o[this.rank-2]," < ").concat(r[this.rank-2],") {\n        result[2] = ").concat(d,";\n        if(").concat(c,") {\n          result[3] = ").concat(d,";\n        }\n      }\n      setOutput(result);\n    }\n    ")}));function yi(e,t,n){var r=(0,u.OBj)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new vi(e.shape,t):new gi(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function xi(e){var t=e.inputs,n=e.backend,r=e.attrs;return function(e,t,n,r){var i=t,a=e.shape.length,o=u.D5U.parseAxisParam(i,e.shape),s=o,c=u.Wap.getAxesPermutation(s,a),d=null!=c,f=e;d&&(f=yi(e,c,r),s=u.Wap.getInnerMostAxes(s.length,a)),u.Wap.assertAxesAreInnerMostDims("sum",s,a);var h=u.Wap.computeOutAndReduceShapes(f.shape,s),p=(0,l.Z)(h,2),m=p[0],g=p[1],v=m;n&&(v=u.Wap.expandShapeToKeepDim(m,o));var y=u.D5U.sizeFromShape(g),x=di({inputs:{x:f},attrs:{shape:[u.D5U.sizeFromShape(e.shape)/y,y]},backend:r}),b=mi(x,(0,u.z4k)(e.dtype),"sum",r),w=di({inputs:{x:b},attrs:{shape:v},backend:r});return r.disposeIntermediateTensorInfo(x),r.disposeIntermediateTensorInfo(b),d&&r.disposeIntermediateTensorInfo(f),w}(t.x,r.axis,r.keepDims,n)}var bi={kernelName:u.GBy,backendName:"webgl",kernelFunc:xi};function wi(e){for(var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=i.perm,s=r,u=a.shape.length,l=new Array(u),c=0;c<l.length;c++)l[c]=a.shape[o[c]];if(s.shouldExecuteOnCPU([a])){var d=s.texData.get(a.dataId).values,f=cr(d,a.shape,a.dtype,o,l);t=s.makeTensorInfo(l,a.dtype),s.texData.get(t.dataId).values=f}else t=yi(a,o,s);return t}var _i={kernelName:u.G3Y,backendName:"webgl",kernelFunc:wi};function Si(e){var t=e.a,n=e.b,r=e.transposeA,i=e.transposeB,a=e.backend,o=e.bias,s=void 0===o?null:o,l=e.preluActivationWeights,c=void 0===l?null:l,d=e.leakyreluAlpha,f=void 0===d?0:d,h=e.activation,p=void 0===h?null:h,m=t.shape.length,g=n.shape.length,v=r?t.shape[m-2]:t.shape[m-1],y=i?n.shape[g-1]:n.shape[g-2],x=r?t.shape[m-1]:t.shape[m-2],b=i?n.shape[g-2]:n.shape[g-1],w=t.shape.slice(0,-2),_=n.shape.slice(0,-2),S=u.D5U.sizeFromShape(w),C=u.D5U.sizeFromShape(_),k=u.Jyw.assertAndGetBroadcastShape(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([x,b]);u.D5U.assert(v===y,(function(){return"Error in matMul: inner shapes (".concat(v,") and (")+"".concat(y,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(n.shape," and transposeA=").concat(r)+" and transposeB=".concat(i," must match.")}));var D,T=r?[S,v,x]:[S,x,v],I=i?[C,b,y]:[C,y,b],A=di({inputs:{x:t},backend:a,attrs:{shape:T}}),M=di({inputs:{x:n},backend:a,attrs:{shape:I}}),E=[A,M],N=Math.max(S,C),R=r?A.shape[1]:A.shape[2],P=null!=s,O=null!=c,L="leakyrelu"===p,F=null!=p?ri(p,!0):null;if((1===x||1===b)&&R>1e3&&!1===(P||O||L||null!=F)){var Z=A,B=M;r&&(Z=wi({inputs:{x:A},backend:a,attrs:{perm:[0,2,1]}}),E.push(Z)),i&&(B=wi({inputs:{x:M},backend:a,attrs:{perm:[0,2,1]}}),E.push(B));var z=1===b,V=Z;1!==b&&(V=di({inputs:{x:Z},backend:a,attrs:{shape:[N,R,1]}}),E.push(V));var j=1===b?2:1,W=B;z&&(W=di({inputs:{x:B},backend:a,attrs:{shape:[N,1,R]}}),E.push(W));var U=li({inputs:{a:V,b:W},backend:a});D=xi({inputs:{x:U},backend:a,attrs:{axis:j,keepDims:!0}}),E.push(U)}else{var H=(0,u.x8V)(t.dtype,n.dtype),G=new ii(T,I,[N,x,b],r,i,P,F,O,L),X=[A,M];if(null!=s&&X.push(s),O&&X.push(c),L){var q=a.makeTensorInfo([],"float32",u.D5U.createScalarValue(f,"float32"));X.push(q),E.push(q)}D=a.runWebGLProgram(G,X,H)}var Y=di({inputs:{x:D},backend:a,attrs:{shape:k}});E.push(D);for(var K=0,Q=E;K<Q.length;K++){var J=Q[K];a.disposeIntermediateTensorInfo(J)}return Y}var Ci={kernelName:u.usg,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.a,a=t.b,o=t.bias,s=t.preluActivationWeights,u=r.transposeA,l=r.transposeB,c=r.activation;return Si({a:i,b:a,transposeA:u,transposeB:l,backend:n,bias:o,preluActivationWeights:s,leakyreluAlpha:r.leakyreluAlpha,activation:c})}},ki="return abs(x);";var Di={kernelName:u.SYM,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=n.x;if(r.shouldExecuteOnCPU([i])&&"complex64"!==i.dtype){var a=r.texData.get(i.dataId),o=Qn(a.values);return r.makeTensorInfo(i.shape,i.dtype,o)}return t=(0,u.OBj)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Pr(i.shape,ki):new br(i.shape,ki),r.runWebGLProgram(t,[i],i.dtype)}},Ti=ti({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),Ii={kernelName:u.VGw,backendName:"webgl",kernelFunc:Ti},Ai=ti({opSnippet:"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),Mi={kernelName:u.SpW,backendName:"webgl",kernelFunc:Ai},Ei="return a + b;",Ni=ni({opSnippet:Ei,packedOpSnippet:Ei,supportsComplex:!0,cpuKernelImpl:Sn}),Ri={kernelName:u.mm_,backendName:"webgl",kernelFunc:Ni},Pi=(0,h.Z)((function e(t,n){(0,f.Z)(this,e),this.outputShape=[],this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("float v".concat(e," = get").concat(e,"AtOutCoords();"))}));var i=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        float result = ").concat(i,";\n        setOutput(result);\n      }\n    ")})),Oi=(0,h.Z)((function e(t,n){(0,f.Z)(this,e),this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("vec4 v".concat(e," = get").concat(e,"AtOutCoords();"))}));var i=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        vec4 result = ").concat(i,";\n        setOutput(result);\n      }\n    ")}));var Li={kernelName:u.Xze,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,i=n;if(1===i.length)return Hr({inputs:{x:i[0]},backend:r});if(i.length>(0,u.OBj)().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var a=Math.floor(i.length/2),o=e({inputs:i.slice(0,a),backend:r}),s=e({inputs:i.slice(a),backend:r});return e({inputs:[o,s],backend:r})}var l=i.map((function(e){return e.dtype})).reduce((function(e,t){return(0,u.x8V)(e,t)})),c=i.map((function(e){return e.shape})),d=(0,u.OBj)().getBool("WEBGL_PACK")?new Oi(i[0].shape,c):new Pi(i[0].shape,c);return r.runWebGLProgram(d,i,l)}};var Fi={kernelName:u.oT6,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.keepDims,s=i.shape.length,c=u.D5U.parseAxisParam(a,i.shape),d=c,f=u.Wap.getAxesPermutation(d,s),h=i;null!=f&&(h=wi({inputs:{x:i},backend:n,attrs:{perm:f}}),d=u.Wap.getInnerMostAxes(d.length,s)),u.Wap.assertAxesAreInnerMostDims("all",d,s);var p,m=u.Wap.computeOutAndReduceShapes(h.shape,d),g=(0,l.Z)(m,2),v=g[0],y=g[1],x=di({inputs:{x:h},backend:n,attrs:{shape:[-1,u.D5U.sizeFromShape(y)]}}),b=mi(x,x.dtype,"all",n);return p=di(o?{inputs:{x:b},backend:n,attrs:{shape:u.Wap.expandShapeToKeepDim(v,c)}}:{inputs:{x:b},backend:n,attrs:{shape:v}}),n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(b),null!=f&&n.disposeIntermediateTensorInfo(h),p}};var Zi={kernelName:u.IKK,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.keepDims,s=i.shape.length,c=u.D5U.parseAxisParam(a,i.shape),d=c,f=u.Wap.getAxesPermutation(d,s),h=i;null!=f&&(h=wi({inputs:{x:i},backend:n,attrs:{perm:f}}),d=u.Wap.getInnerMostAxes(d.length,s)),u.Wap.assertAxesAreInnerMostDims("any",d,s);var p,m=u.Wap.computeOutAndReduceShapes(h.shape,d),g=(0,l.Z)(m,2),v=g[0],y=g[1],x=di({inputs:{x:h},backend:n,attrs:{shape:[-1,u.D5U.sizeFromShape(y)]}}),b=mi(x,x.dtype,"any",n);return p=di(o?{inputs:{x:b},backend:n,attrs:{shape:u.Wap.expandShapeToKeepDim(v,c)}}:{inputs:{x:b},backend:n,attrs:{shape:v}}),n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(b),null!=f&&n.disposeIntermediateTensorInfo(h),p}},Bi=(0,h.Z)((function e(t,n,r){(0,f.Z)(this,e),this.variableNames=["A"];var i=t.windowSize,a=t.batchSize,o=t.outSize;r||this.variableNames.push("bestIndicesA"),this.outputShape=[a,o];var s="max"===n?">":"<",u=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(i,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(i,"; i++) {\n          int inIdx = ").concat(u,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(s," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")})),zi=(0,h.Z)((function e(t,n,r,i){(0,f.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,u.D5U.assert(t.length>2,(function(){return"Packed arg".concat(r.charAt(0).toUpperCase()+r.slice(1)," supports only inputs with rank above 2.")}));var a=t[t.length-1],o=Math.ceil(a/n);this.outputShape=t.slice(0,-1),o>1&&this.outputShape.push(o),i||this.variableNames.push("bestIndicesA");var s,l,c=this.outputShape,d=c.length,h=Ye(d),p=hr("coords",d);if(1===o){var m=Ye(l=d+1);s="\n        ".concat(m," sourceLocR = ").concat(m,"(").concat(p.join(),", 0);\n        ++").concat(p[d-1],";\n        ").concat(m," sourceLocG = ").concat(m,"(").concat(p.join(),", 0);\n        ++").concat(p[d-2],";\n        ").concat(m," sourceLocA = ").concat(m,"(").concat(p.join(),", 0);\n        --").concat(p[d-1],";\n        ").concat(m," sourceLocB = ").concat(m,"(").concat(p.join(),", 0);\n        --").concat(p[d-2],";")}else l=d,s="\n        ".concat(h," sourceLocR = coords;\n        ++").concat(p[d-1],";\n        ").concat(h," sourceLocG = coords;\n        ++").concat(p[d-2],";\n        ").concat(h," sourceLocA = coords;\n        --").concat(p[d-1],";\n        ").concat(h," sourceLocB = coords;\n        --").concat(p[d-2],";");var g=["x","y","z","w","u","v"].slice(0,l),v="."+g[l-1],y=g.map((function(e){return"int "+e})),x=hr("sourceLocR",l-1).concat("inIdx.r"),b=hr("sourceLocG",l-1).concat("inIdx.g"),w=hr("sourceLocB",l-1).concat("inIdx.b"),_=hr("sourceLocA",l-1).concat("inIdx.a"),S="max"===r?"greaterThan":"lessThan",C=i?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(x.join(),"),\n                             getBestIndicesAChannel(").concat(b.join(),"),\n                             getBestIndicesAChannel(").concat(w.join(),"),\n                             getBestIndicesAChannel(").concat(_.join(),")));"),k="vec4(\n            getAChannel(".concat(x.join(),"),\n            hasNextCol ? getAChannel(").concat(b.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(w.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(_.join(),") : 0.)"),D=i?"":"\n      float getBestIndicesAChannel(".concat(y.join(),") {\n        return getChannel(getBestIndicesA(").concat(g.join(),"),\n                                          vec2(").concat(g.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(y.join(),") {\n        return getChannel(getA(").concat(g.join(),"),\n                               vec2(").concat(g.slice(-2).join(),"));\n      }\n      ").concat(D,"\n      void main() {\n        ").concat(h," coords = getOutputCoords();\n        bool hasNextCol = ").concat(p[d-1]," < ").concat(c[d-1]-1,";\n        bool hasNextRow = ").concat(p[d-2]," < ").concat(c[d-2]-1,";\n        ").concat(s,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(v,", sourceLocG").concat(v,",\n          sourceLocB").concat(v,", sourceLocA").concat(v,") * ").concat(n,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(k,";\n\n        for (int i = 0; i < ").concat(n,"; i++) {\n          inIdx = srcIdx;\n          ").concat(C,"\n          vec4 candidate = ").concat(k,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(S,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")}));function Vi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=t.shape[0],a=t.shape[1];null!=r&&(i=r.shape[0],a=r.shape[1]);var o=u.Wap.computeOptimalWindowSize(a),s={windowSize:o,inSize:a,batchSize:i,outSize:Math.ceil(a/o)},l=new Bi(s,n,null==r),c=[t];null!=r&&c.push(r);var d=e.runWebGLProgram(l,c,"int32");if(1===d.shape[1])return d;var f=Vi(e,t,n,d);return e.disposeIntermediateTensorInfo(d),f}function ji(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=null!=r?r.shape:t.shape,a=i[i.length-1],o=u.Wap.computeOptimalWindowSize(a),s=new zi(i,o,n,null==r),l=null==r?[t]:[t,r],c=e.runWebGLProgram(s,l,"int32");if(c.shape.length===t.shape.length){var d=ji(e,t,n,c);return e.disposeIntermediateTensorInfo(c),d}return c}function Wi(e,t,n,r){var i=[n];if(u.Wap.assertAxesAreInnerMostDims("arg"+r.charAt(0).toUpperCase()+r.slice(1),i,t.shape.length),!(0,u.OBj)().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){var a=[],o=e.texData.get(t.dataId),s=t;null!==o&&o.isPacked&&(s=e.unpackTensor(t),a.push(s));var c=u.Wap.computeOutAndReduceShapes(s.shape,i),d=(0,l.Z)(c,2),f=d[0],h=d[1],p=u.D5U.sizeFromShape(h),m=di({inputs:{x:s},backend:e,attrs:{shape:[-1,p]}});a.push(m);var g=Vi(e,m,r);a.push(g);var v=di({inputs:{x:g},backend:e,attrs:{shape:f}});return a.forEach((function(t){return e.disposeIntermediateTensorInfo(t)})),v}return ji(e,t,r)}var Ui={kernelName:u.sJF,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=u.D5U.parseAxisParam(a,i.shape),s=u.Wap.getAxesPermutation(o,i.shape.length),l=i,c=[];null!=s&&(l=wi({inputs:{x:i},backend:n,attrs:{perm:s}}),c.push(l),o=u.Wap.getInnerMostAxes(o.length,l.shape.length)),u.Wap.assertAxesAreInnerMostDims("argMax",[o[0]],l.shape.length);var d=Wi(n,l,o[0],"max");return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),d}};var Hi={kernelName:u.aJk,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=u.D5U.parseAxisParam(a,i.shape),s=u.Wap.getAxesPermutation(o,i.shape.length),l=i,c=[];null!=s&&(l=wi({inputs:{x:i},backend:n,attrs:{perm:s}}),c.push(l),o=u.Wap.getInnerMostAxes(o.length,l.shape.length)),u.Wap.assertAxesAreInnerMostDims("argMin",[o[0]],l.shape.length);var d=Wi(n,l,o[0],"min");return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),d}},Gi=ti({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),Xi={kernelName:u.M2y,backendName:"webgl",kernelFunc:Gi},qi=ti({opSnippet:"if (isnan(x)) return x;return log(x + sqrt(x * x + 1.0));"}),Yi={kernelName:u.qw7,backendName:"webgl",kernelFunc:qi},Ki=ti({opSnippet:"if (isnan(x)) return x;\n  return atan(x);\n"}),Qi={kernelName:u.jMg,backendName:"webgl",kernelFunc:Ki},Ji=ni({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),$i={kernelName:u.QCc,backendName:"webgl",kernelFunc:Ji},ea=ti({opSnippet:"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),ta={kernelName:u.Oyi,backendName:"webgl",kernelFunc:ea},na=(0,h.Z)((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,f.Z)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,s=t.strideHeight,u=t.strideWidth,l=t.dilationHeight,c=t.dilationWidth,d=t.effectiveFilterHeight,h=t.effectiveFilterWidth,p=t.padInfo.top,m=t.padInfo.left;this.outputShape=t.outShape;var g="avg"===n,v="((batch  * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),y="(xR * ".concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),x="0.0";if(g||(x="-1.0 / 1e-20"),r){var b=">=";this.userCode="\n        const ivec2 strides = ivec2(".concat(s,", ").concat(u,");\n        const ivec2 pads = ivec2(").concat(p,", ").concat(m,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(d,";\n              wR += ").concat(l,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(h,";\n                wC += ").concat(c,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(b," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(i?a?v:y:"wR * ".concat(h," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var w="max",_="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(_="avgValue / count");var S=4*Math.floor(o/4),C=o%4,k="\n      if (".concat(g,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(w,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(s,", ").concat(u,");\n      const ivec2 pads = ivec2(").concat(p,", ").concat(m,");\n      const float initializationValue = ").concat(x,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(x,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(d,";\n            wR += ").concat(l,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(S,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(c,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(c,", d),\n              getValue(batch, xR, xC + 2 * ").concat(c,", d),\n              getValue(batch, xR, xC + 3 * ").concat(c,", d)\n            );\n\n            ").concat(k,"\n          }\n\n          int xC = xCCorner + ").concat(S,";\n          if (").concat(1===C,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(k,"\n          } else if (").concat(2===C,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(c,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(k,"\n          } else if (").concat(3===C,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(c,", d),\n              getValue(batch, xR, xC + 2 * ").concat(c,", d),\n              initializationValue\n            );\n\n            ").concat(k,"\n          }\n        }\n        setOutput(").concat(_,");\n      }\n    ")}})),ra=(0,h.Z)((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,f.Z)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,s=t.strideDepth,u=t.strideHeight,l=t.strideWidth,c=t.dilationDepth,d=t.dilationHeight,h=t.dilationWidth,p=t.effectiveFilterDepth,m=t.effectiveFilterHeight,g=t.effectiveFilterWidth,v=t.padInfo.front,y=t.padInfo.top,x=t.padInfo.left;this.outputShape=t.outShape;var b="avg"===n,w="0.0";if(b||(w="-1.0 / 1e-20"),r){var _=">=";this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(s,", ").concat(u,", ").concat(l,");\n        const ivec3 pads = ivec3(").concat(v,", ").concat(y,", ").concat(x,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(p,";\n              wD += ").concat(c,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(m,";\n                wR += ").concat(d,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(g,";\n                  wC += ").concat(h,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(_," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(i?a?"(((batch * ".concat(t.inDepth," + xD) * ").concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"((xD * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"wD * ".concat(m," * ").concat(g," +\n                      wR * ").concat(g," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var S="max",C="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(C="avgValue / count");var k=4*Math.floor(o/4),D=o%4,T="\n      if (".concat(b,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(S,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(s,", ").concat(u,", ").concat(l,");\n      const ivec3 pads = ivec3(").concat(v,", ").concat(y,", ").concat(x,");\n      const float initializationValue = ").concat(w,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(w,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(p,";\n            wD += ").concat(c,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(m,";\n            wR += ").concat(d,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(k,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(h,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(h,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(h,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(h,", ch)\n              );\n\n              ").concat(T,"\n            }\n\n            int xC = xCCorner + ").concat(k,";\n            if (").concat(1===D,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(T,"\n            } else if (").concat(2===D,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(h,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(T,"\n            } else if (").concat(3===D,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(h,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(h,", ch),\n                initializationValue\n              );\n\n              ").concat(T,"\n            }\n          }\n          setOutput(").concat(C,");\n        }\n      }\n    ")}}));var ia={kernelName:u.JhU,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x;_e(i,"avgPool");var a=r.filterSize,o=r.strides,s=r.pad,l=r.dimRoundingMode;u.D5U.assert(u.Wap.eitherStridesOrDilationsAreOne(o,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")}));var c=u.Wap.computePool2DInfo(i.shape,a,o,1,s,l);if(1===c.filterWidth&&1===c.filterHeight&&u.D5U.arraysEqual(c.inShape,c.outShape))return Hr({inputs:{x:i},backend:n});var d=new na(c,"avg",!1);return n.runWebGLProgram(d,[i],"float32")}};var aa={kernelName:u._k9,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.filterSize,o=r.strides,s=r.pad,l=r.dimRoundingMode,c=r.dataFormat,d=u.Wap.computePool3DInfo(i.shape,a,o,[1,1,1],s,l,c),f=new ra(d,"avg",!1);return n.runWebGLProgram(f,[i],"float32")}},oa=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,i=t.strideHeight,a=t.strideWidth,o=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterHeight,l=t.effectiveFilterWidth,c=u-1-t.padInfo.top,d=l-1-t.padInfo.left,h=1/(n*r);this.userCode="\n      const ivec2 pads = ivec2(".concat(c,", ").concat(d,");\n      const float avgMultiplier = float(").concat(h,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(u,";\n            wR += ").concat(o,") {\n          float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(l,";\n            wC+= ").concat(s,") {\n            float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),sa=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,i=t.filterWidth,a=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,l=t.dilationHeight,c=t.dilationWidth,d=t.effectiveFilterDepth,h=t.effectiveFilterHeight,p=t.effectiveFilterWidth,m=d-1-t.padInfo.front,g=h-1-t.padInfo.top,v=p-1-t.padInfo.left,y=1/(n*r*i);this.userCode="\n      const ivec3 pads = ivec3(".concat(m,", ").concat(g,", ").concat(v,");\n      const float avgMultiplier = float(").concat(y,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(d,";\n            wD += ").concat(u,") {\n          float dyD = float(dyDCorner + wD) / ").concat(a,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(h,";\n              wR += ").concat(l,") {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(p,";\n                wC += ").concat(c,") {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var ua={kernelName:u.IMb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.input,o=r.filterSize,s=r.strides,l=r.pad,c=r.dimRoundingMode,d=u.Wap.computePool3DInfo(a.shape,o,s,[1,1,1],l,c),f=new sa(d);return n.runWebGLProgram(f,[i],a.dtype)}};var la={kernelName:u.ROF,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.input,o=a;_e([i,a],"avgPoolGrad");var s=r.filterSize,l=r.strides,c=r.pad,d=u.Wap.computePool2DInfo(o.shape,s,l,1,c),f=new oa(d);return n.runWebGLProgram(f,[i],o.dtype)}};var ca={kernelName:u.XLW,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;return Si({a:t.a,b:t.b,transposeA:r.transposeA,transposeB:r.transposeB,backend:n})}},da=(0,h.Z)((function e(t,n,r,i,a,o){(0,f.Z)(this,e),this.outputShape=[],this.variableNames=["x","mean","variance"],u.Wap.assertAndGetBroadcastShape(t,n),u.Wap.assertAndGetBroadcastShape(t,r);var s="0.0";null!=i&&(u.Wap.assertAndGetBroadcastShape(t,i),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var l="1.0";null!=a&&(u.Wap.assertAndGetBroadcastShape(t,a),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(s,";\n        float scale = ").concat(l,";\n        float inv = scale * inversesqrt(variance + float(").concat(o,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")})),fa=(0,h.Z)((function e(t,n,r,i,a,o){(0,f.Z)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],u.Wap.assertAndGetBroadcastShape(t,n),u.Wap.assertAndGetBroadcastShape(t,r);var s="vec4(0.0)";null!=i&&(u.Wap.assertAndGetBroadcastShape(t,i),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var l="vec4(1.0)";null!=a&&(u.Wap.assertAndGetBroadcastShape(t,a),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        vec4 offset = ".concat(s,";\n        vec4 scale = ").concat(l,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(o,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")})),ha={kernelName:u.sHE,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.mean,o=t.variance,s=t.offset,l=t.scale;u.D5U.assert(a.shape.length===o.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),u.D5U.assert(null==s||a.shape.length===s.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),u.D5U.assert(null==l||a.shape.length===l.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var c=r.varianceEpsilon;null==c&&(c=.001);var d=[i,a,o],f=null;null!=s&&(f=s.shape,d.push(s));var h=null;null!=l&&(h=l.shape,d.push(l));var p=(0,u.OBj)().getBool("WEBGL_PACK_NORMALIZATION")?new fa(i.shape,a.shape,o.shape,f,h,c):new da(i.shape,a.shape,o.shape,f,h,c);return n.runWebGLProgram(p,d,d[0].dtype)}},pa=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var n=Ye(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var r,i=function(e){if(1===e)return"sourceLoc";if(e<=6)return ma.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error("Slicing for rank ".concat(e," is not yet supported"))}(this.rank),a=t.map((function(e,t){return"sourceLoc.".concat(ma[t]," = start[").concat(t,"] + coords.").concat(ma[t],";")}));r="\n        ".concat(n," sourceLoc;\n        ").concat(n," coords = getOutputCoords();\n        ").concat(a.join("\n"),"\n      "),this.userCode="\n      void main() {\n        ".concat(r,"\n        setOutput(getSource(").concat(i,"));\n      }\n    ")})),ma=["x","y","z","w","u","v"];var ga=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var n=Ye(this.rank),r=hr("coords",this.rank),i=hr("sourceLoc",this.rank),a=1===this.rank?"sourceLoc":"vec2(".concat(i.slice(-2).join(),")"),o="getChannel(getSource(".concat(i.join(),"), ").concat(a,")"),s="\n      result.x = ".concat(o,";\n      if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n        ++").concat(i[this.rank-1],";\n        result.y = ").concat(o,";\n        --").concat(i[this.rank-1],";\n      }\n    "),u=1===this.rank?"":"\n      --".concat(r[this.rank-1],";\n      if (++").concat(r[this.rank-2]," < ").concat(t[this.rank-2],") {\n        ++").concat(i[this.rank-2],";\n        result.z = ").concat(o,";\n        if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n          ++").concat(i[this.rank-1],";\n          result.w = ").concat(o,";\n        }\n      }\n    "),l=this.rank<=4?"sourceLoc = coords +\n            ".concat(n,"(").concat(t.map((function(e,t){return"start[".concat(t,"]")})).join(),");"):t.map((function(e,t){return"".concat(i[t]," = ").concat(r[t]," + start[").concat(t,"];")})).join("\n");this.userCode="\n      void main() {\n        ".concat(n," coords = getOutputCoords();\n        ").concat(n," sourceLoc;\n        ").concat(l,"\n        vec4 result = vec4(0.);\n        ").concat(s,"\n        ").concat(u,"\n        setOutput(result);\n      }\n    ")}));function va(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.begin,o=r.size,s=u.kuN.parseSliceParams(i,a,o),c=(0,l.Z)(s,2),d=c[0],f=c[1];if(u.kuN.assertParamsValid(i,d,f),0===u.D5U.sizeFromShape(f))return n.makeTensorInfo(f,i.dtype,[]);if(n.shouldExecuteOnCPU([i])||"string"===i.dtype){var h=n.texData.get(i.dataId),p=Jn(h.values,d,f,i.shape,i.dtype);return n.makeTensorInfo(f,i.dtype,p)}var m=n.texData.get(i.dataId).isPacked,g=u.kuN.isSliceContinous(i.shape,d,f);if(m||!g){var v=(0,u.OBj)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ga(f):new pa(f),y=[d];return n.runWebGLProgram(v,[i],i.dtype,y)}return n.uploadToGPU(i.dataId),function(e,t,n,r){var i=r.texData.get(e.dataId),a=r.makeTensorInfo(n,e.dtype),o=r.texData.get(a.dataId);Object.assign(o,i),o.refCount=1,o.shape=n,o.dtype=e.dtype;var s=u.kuN.computeFlatOffset(t,u.D5U.computeStrides(e.shape));i.slice&&(s+=i.slice.flatOffset),o.slice={flatOffset:s,origDataId:i.slice&&i.slice.origDataId||e.dataId};var l=r.dataRefCount.get(o.slice.origDataId)||1;return r.dataRefCount.set(o.slice.origDataId,l+1),a}(i,d,f,n)}var ya={kernelName:u.p2w,backendName:"webgl",kernelFunc:va},xa={kernelName:u.zws,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.blockShape,o=r.crops;u.D5U.assert(i.shape.length<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var s=a.reduce((function(e,t){return e*t})),l=u.Wap.getReshaped(i.shape,a,s),c=u.Wap.getPermuted(l.length,a.length),d=u.Wap.getReshapedPermuted(i.shape,a,s),f=u.Wap.getSliceBeginCoords(o,a.length),h=u.Wap.getSliceSize(d,o,a.length),p=[],m=di({inputs:{x:i},backend:n,attrs:{shape:l}}),g=wi({inputs:{x:m},backend:n,attrs:{perm:c}}),v=di({inputs:{x:g},backend:n,attrs:{shape:d}}),y=va({inputs:{x:v},backend:n,attrs:{begin:f,size:h}});return p.push(m),p.push(g),p.push(v),p.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),y}};var ba={kernelName:u.zvY,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.weights,o=r.size,s=n.readSync(i.dataId),u=n.readSync(a.dataId),l=Cn(s,u,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,l)}};var wa={kernelName:u.eEB,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,i=t.s1,a=n.readSync(r.dataId),o=n.readSync(i.dataId),s=u.Wap.assertAndGetBroadcastShape(Array.from(a),Array.from(o));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},_a=ni({opSnippet:"return float(a != b);",cpuKernelImpl:Hn,dtype:"bool"}),Sa={kernelName:u.yQU,backendName:"webgl",kernelFunc:_a};function Ca(e){var t=e.inputs,n=e.backend,r=t.input;return Hr({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}var ka={kernelName:u.xJR,backendName:"webgl",kernelFunc:Ca};var Da={kernelName:u.RFZ,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,i=t.attrs,a=n.x,o=i.dtype;if("complex64"===o){if("complex64"===a.dtype)return Hr({inputs:{x:a},backend:r});var s=u.lls(a.shape),l=e({inputs:{x:a},backend:r,attrs:{dtype:"float32"}}),c=Xr({inputs:{real:l,imag:s},backend:r});return s.dispose(),r.disposeIntermediateTensorInfo(l),c}if("complex64"===a.dtype){var d=Ca({inputs:{input:a},backend:r}),f=e({inputs:{x:d},backend:r,attrs:{dtype:o}});return r.disposeIntermediateTensorInfo(d),f}if(!u.D5U.hasEncodingLoss(a.dtype,o)){var h=Hr({inputs:{x:a},backend:r});return{dataId:h.dataId,shape:h.shape,dtype:o}}if("int32"===o)return function(e,t){var n=new br(e.shape,"return float(int(x));"),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(a,r);if("bool"===o){var p=r.makeTensorInfo([],"bool",u.D5U.getTypedArrayFromDType("bool",1)),m=_a({inputs:{a:a,b:p},backend:r});return r.disposeIntermediateTensorInfo(p),m}throw new Error("Error in Cast: failed to cast ".concat(a.dtype," to ").concat(o))}},Ta="return ceil(x);",Ia=ti({opSnippet:Ta,packedOpSnippet:Ta,cpuKernelImpl:Dn}),Aa={kernelName:u.gJX,backendName:"webgl",kernelFunc:Ia},Ma=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "})),Ea=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}));var Na={kernelName:u.xnO,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=i.clipValueMin,s=i.clipValueMax;t=(0,u.OBj)().getBool("WEBGL_PACK_CLIP")?new Ea(a.shape):new Ma(a.shape);var l=[[o],[s]];return r.runWebGLProgram(t,[a],a.dtype,l)}},Ra=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}));function Pa(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}var Oa={kernelName:u.yj2,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=n.texData.get(r.dataId),a=new Ra(r.shape),o=[Pa(r,i.complexTensorInfos.real),Pa(r,i.complexTensorInfos.imag)];return n.runWebGLProgram(a,o,o[0].dtype)}},La=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.outputShape=[],this.outputShape=u.Wap.computeOutShape(t,1),this.variableNames=t.map((function(e,t){return"T".concat(t)}));var n=new Array(t.length-1);n[0]=t[0][1];for(var r=1;r<n.length;r++)n[r]=n[r-1]+t[r][1];for(var i=["if (yC < ".concat(n[0],") setOutput(getT0(yR, yC));")],a=1;a<n.length;a++){var o=n[a-1];i.push("else if (yC < ".concat(n[a],") ")+"setOutput(getT".concat(a,"(yR, yC-").concat(o,"));"))}var s=n.length,l=n[n.length-1];i.push("else setOutput(getT".concat(s,"(yR, yC-").concat(l,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(i.join("\n        "),"\n      }\n    ")})),Fa=(0,h.Z)((function e(t,n){(0,f.Z)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=u.Wap.computeOutShape(t,n);var r=this.outputShape,i=r.length,a=Ye(i),o=hr("coords",i),s=["x","y","z","w","u","v"].slice(0,i);this.variableNames=t.map((function(e,t){return"T".concat(t)}));var l=new Array(t.length-1);l[0]=t[0][n];for(var c=1;c<l.length;c++)l[c]=l[c-1]+t[c][n];for(var d=s[n],h=s.slice(-2),p=s.join(),m="if (".concat(d," < ").concat(l[0],") {\n        return getChannel(\n            getT0(").concat(p,"), vec2(").concat(h.join(),"));\n        }"),g=1;g<l.length;g++){var v=l[g-1];m+="\n        if (".concat(d," < ").concat(l[g],"  && ").concat(d," >= ").concat(l[g-1],") {\n          return getChannel(\n            getT").concat(g,"(").concat(Za(s,d,v),"),\n            vec2(").concat(Za(h,d,v),"));\n        }")}var y=l.length,x=l[l.length-1];m+="\n        return getChannel(\n          getT".concat(y,"(").concat(Za(s,d,x),"),\n          vec2(").concat(Za(h,d,x),"));"),this.userCode="\n      float getValue(".concat(s.map((function(e){return"int "+e})),") {\n        ").concat(m,"\n      }\n\n      void main() {\n        ").concat(a," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(o,"), 0., 0., 0.);\n\n        ").concat(o[i-1]," = ").concat(o[i-1]," + 1;\n        if (").concat(o[i-1]," < ").concat(r[i-1],") {\n          result.g = getValue(").concat(o,");\n        }\n\n        ").concat(o[i-2]," = ").concat(o[i-2]," + 1;\n        if (").concat(o[i-2]," < ").concat(r[i-2],") {\n          result.a = getValue(").concat(o,");\n        }\n\n        ").concat(o[i-1]," = ").concat(o[i-1]," - 1;\n        if (").concat(o[i-2]," < ").concat(r[i-2]," &&\n            ").concat(o[i-1]," < ").concat(r[i-1],") {\n          result.b = getValue(").concat(o,");\n        }\n        setOutput(result);\n      }\n    ")}));function Za(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?"".concat(e," - ").concat(n):e})).join()}function Ba(e){var t=e.inputs,n=e.backend,r=t.input;return Hr({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}var za={kernelName:u.J_u,backendName:"webgl",kernelFunc:Ba};function Va(e,t,n){var r=e[0].dtype;if("complex64"===r){var i=e.map((function(e){return Ca({inputs:{input:e},backend:n})})),a=e.map((function(e){return Ba({inputs:{input:e},backend:n})})),o=Va(i,t,n),s=Va(a,t,n),l=Xr({inputs:{real:o,imag:s},backend:n});return i.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),a.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),l}var c=n.shouldExecuteOnCPU(e);if("string"===r&&(c=!0),c){var d=e.map((function(e){var r=u.D5U.sizeFromShape(e.shape.slice(t));return di({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),f=d.map((function(e){return{vals:n.readSync(e.dataId),shape:e.shape}})),h=u.Wap.computeOutShape(d.map((function(e){return e.shape})),1),p=1===d[0].shape[0],m=Tn(f,h,r,p),g=u.Wap.computeOutShape(e.map((function(e){return e.shape})),t),v=n.makeTensorInfo(g,r,m);return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),v}if(e.length>(0,u.OBj)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var y=Math.floor(e.length/2),x=Va(e.slice(0,y),t,n),b=Va(e.slice(y),t,n),w=Va([x,b],t,n);return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(b),w}if((0,u.OBj)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].shape.length>1){var _=new Fa(e.map((function(e){return e.shape})),t);return n.runWebGLProgram(_,e,r)}var S=function(e,t,n){var r=u.Wap.computeOutShape(e.map((function(e){return e.shape})),t);return{tensors2D:e.map((function(e){return di({inputs:{x:e},attrs:{shape:[-1,u.D5U.sizeFromShape(e.shape.slice(t))]},backend:n})})),outShape:r}}(e,t,n),C=S.tensors2D,k=S.outShape,D=new La(C.map((function(e){return e.shape}))),T=n.runWebGLProgram(D,C,r);C.forEach((function(e){return n.disposeIntermediateTensorInfo(e)}));var I=di({inputs:{x:T},attrs:{shape:k},backend:n});return n.disposeIntermediateTensorInfo(T),I}function ja(e){var t=e.inputs,n=e.backend,r=e.attrs.axis,i=u.D5U.parseAxisParam(r,t[0].shape)[0],a=u.Wap.computeOutShape(t.map((function(e){return e.shape})),i);if(0===u.D5U.sizeFromShape(a))return n.makeTensorInfo(a,t[0].dtype,[]);var o=t.filter((function(e){return u.D5U.sizeFromShape(e.shape)>0}));if(1===o.length)return Hr({inputs:{x:o[0]},backend:n});var s=o.map((function(e){return e.shape}));return u.Wap.assertParamsConsistent(s,i),Va(o,i,n)}var Wa={kernelName:u.Eh3,backendName:"webgl",kernelFunc:ja},Ua=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,f.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var o=t.padInfo.top,s=t.padInfo.left,u=t.strideHeight,l=t.strideWidth,c=t.dilationHeight,d=t.dilationWidth,h=t.filterHeight,p=t.filterWidth,m=4*Math.floor(t.inChannels/4),g=t.inChannels%4,v="channelsLast"===t.dataFormat,y=v?1:2,x=v?2:3,b=v?3:1,w="",_="";r&&(w=i?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):a?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),_="result = activation(result);");var S=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(w,"\n\n      const ivec2 strides = ivec2(").concat(u,", ").concat(l,");\n      const ivec2 pads = ivec2(").concat(o,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(b,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(y,"], coords[").concat(x,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(h,"; wR++) {\n          int xR = xRCorner + wR * ").concat(c,";\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(p,"; wC++) {\n            int xC = xCCorner + wC * ").concat(d,";\n\n            if (xC < 0 || xC >= ").concat(t.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(m,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(v,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(1===g,") {\n\n              if (").concat(v,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(m,") *\n                    getW(wR, wC, ").concat(m,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(m,", xR, xC) *\n                    getW(wR, wC, ").concat(m,", d2);\n              }\n\n            } else if (").concat(2===g,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(m,", d2),\n                getW(wR, wC, ").concat(m," + 1, d2)\n              );\n\n              if (").concat(v,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(m,"),\n                  getX(batch, xR, xC, ").concat(m," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(m,", xR, xC),\n                  getX(batch, ").concat(m," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(3===g,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(m,", d2),\n                getW(wR, wC, ").concat(m," + 1, d2),\n                getW(wR, wC, ").concat(m," + 2, d2)\n              );\n\n              if (").concat(v,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(m,"),\n                  getX(batch, xR, xC, ").concat(m," + 1),\n                  getX(batch, xR, xC, ").concat(m," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(m,", xR, xC),\n                  getX(batch, ").concat(m," + 1, xR, xC),\n                  getX(batch, ").concat(m," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(S,"\n        ").concat(_,"\n        setOutput(result);\n      }\n    ")})),Ha=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.padInfo.front,r=t.padInfo.top,i=t.padInfo.left,a=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,l=t.dilationHeight,c=t.dilationWidth,d=t.filterDepth,h=t.filterHeight,p=t.filterWidth,m=4*Math.floor(t.inChannels/4),g=t.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(a,", ").concat(o,", ").concat(s,");\n      const ivec3 pads = ivec3(").concat(n,", ").concat(r,", ").concat(i,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(d,"; wF++) {\n          int xF = xFCorner + wF * ").concat(u,";\n\n          if (xF < 0 || xF >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(h,"; wR++) {\n            int xR = xRCorner + wR * ").concat(l,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(p,"; wC++) {\n              int xC = xCCorner + wC * ").concat(c,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(m,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(1===g,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(m,") *\n                  getW(wF, wR, wC, ").concat(m,", d2);\n              } else if (").concat(2===g,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(m,"),\n                  getX(batch, xF, xR, xC, ").concat(m," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(m,", d2),\n                  getW(wF, wR, wC, ").concat(m," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(3===g,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(m,"),\n                  getX(batch, xF, xR, xC, ").concat(m," + 1),\n                  getX(batch, xF, xR, xC, ").concat(m," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(m,", d2),\n                  getW(wF, wR, wC, ").concat(m," + 1, d2),\n                  getW(wF, wR, wC, ").concat(m," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),Ga=(0,h.Z)((function e(t,n){(0,f.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=it(this.outputShape.length);for(var r=n.dataFormat,i=Ce(),a="channelsLast"===r,o=a?0:1,s=a?1:2,u=this.enableShapeUniforms?"if(blockIndex < outShape[1] && pos < outShape[0]) {":"if(blockIndex < ".concat(t[1]," && pos < ").concat(t[0],") {"),l="",c=0;c<=1;c++)for(var d=0;d<=1;d++)l+="\n          blockIndex = rc.y + ".concat(d,";\n          pos = rc.x + ").concat(c,";\n\n          ").concat(u,"\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[").concat(o,"] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[").concat(s,"] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (").concat(a,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(2*c+d,"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(2*c+d,"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(l,"\n\n        ").concat(i.output," = result;\n      }\n    ")}));function Xa(e){var t,n=e.x,r=e.filter,i=e.convInfo,a=e.backend,o=e.bias,s=void 0===o?null:o,l=e.preluActivationWeights,c=void 0===l?null:l,d=e.leakyreluAlpha,f=void 0===d?0:d,h=e.activation,p=void 0===h?null:h,m=n.shape,g=a.texData.get(n.dataId),v=i.inChannels,y=m[0]*m[1]*m[2],x=i.outChannels,b="channelsLast"===i.dataFormat,w=[];if(null!=c&&!b&&3===c.shape.length){var _=wi({inputs:{x:c},backend:a,attrs:{perm:[1,2,0]}});w.push(_),c=_}if(!((1===y||1===x)&&v>1e3)&&g.isPacked&&b&&null!=g.texture&&m[2]%2!==0&&u.D5U.arraysEqual(g.shape.slice(-3),m.slice(-3))){var S=m[0]*m[1]*(m[2]+1),C={dataId:n.dataId,shape:[1,S,i.inChannels],dtype:n.dtype},k=g.shape;g.shape=g.shape.slice(),g.shape[g.shape.length-2]++,u.D5U.assert(ce(g.shape,C.shape),(function(){return"packed reshape ".concat(g.shape," to ").concat(C.shape," isn't free")}));var D=di({inputs:{x:r},backend:a,attrs:{shape:[1,i.inChannels,i.outChannels]}});w.push(D);var T=Si({a:C,b:D,backend:a,transposeA:false,transposeB:false,bias:s,activation:p,preluActivationWeights:c,leakyreluAlpha:f}),I=a.texData.get(T.dataId);u.D5U.assert(I.isPacked,(function(){return"batchMatMul result is expected to be packed"})),g.shape=k,I.shape=i.outShape,(t=Hr({inputs:{x:T},backend:a})).shape=i.outShape,w.push(T)}else{var A=b?n:wi({inputs:{x:n},backend:a,attrs:{perm:[0,2,3,1]}}),M=A.shape,E=di({inputs:{x:A},backend:a,attrs:{shape:[1,M[0]*M[1]*M[2],i.inChannels]}}),N=di({inputs:{x:r},backend:a,attrs:{shape:[1,i.inChannels,i.outChannels]}}),R=Si({a:E,b:N,transposeA:false,transposeB:false,backend:a,bias:s,activation:p,preluActivationWeights:c,leakyreluAlpha:f}),P=di({inputs:{x:R},backend:a,attrs:{shape:[i.batchSize,i.outHeight,i.outWidth,i.outChannels]}});t=b?P:wi({inputs:{x:P},backend:a,attrs:{perm:[0,3,1,2]}}),b||(w.push(A),w.push(P)),w.push(E),w.push(N),w.push(R)}for(var O=0,L=w;O<L.length;O++){var F=L[O];a.disposeIntermediateTensorInfo(F)}return t}function qa(e){var t=e.x,n=e.filter,r=e.convInfo,i=e.backend,a=e.bias,o=void 0===a?null:a,s=e.preluActivationWeights,l=void 0===s?null:s,c=e.leakyreluAlpha,d=void 0===c?0:c,f=e.activation,h=void 0===f?null:f,p=r.filterWidth,m=r.filterHeight,g=r.inChannels,v=r.outWidth,y=r.outHeight,x="channelsLast"===r.dataFormat,b=p*m*g,w=y*v,_=[b,w],S=[];if(null!=l&&!x&&3===l.shape.length){var C=wi({inputs:{x:l},backend:i,attrs:{perm:[1,2,0]}});S.push(C),l=C}var k=di({inputs:{x:t},backend:i,attrs:{shape:t.shape.slice(1)}}),D=di({inputs:{x:n},backend:i,attrs:{shape:[1,b,u.D5U.sizeFromShape(n.shape)/b]}});S.push(k),S.push(D);var T=new Ga(_,r),I=[k.shape,[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inChannels],[r.filterWidth*r.inChannels],[r.outWidth]],A=i.runWebGLProgram(T,[k],"float32",I),M=di({inputs:{x:A},backend:i,attrs:{shape:[1,_[0],_[1]]}});S.push(A),S.push(M);var E=null!=o,N=null!=l,R="leakyrelu"===h,P=h?ri(h,!0):null,O=new ii(M.shape,D.shape,[1,w,r.outChannels],!0,!1,E,P,N,R),L=[M,D];if(o&&L.push(o),N&&L.push(l),R){var F=i.makeTensorInfo([],"float32",u.D5U.createScalarValue(d,"float32"));L.push(F),S.push(F)}var Z=i.runWebGLProgram(O,L,"float32"),B=di({inputs:{x:Z},backend:i,attrs:{shape:[1,y,v,r.outChannels]}}),z=x?B:wi({inputs:{x:B},backend:i,attrs:{perm:[0,3,1,2]}});x||S.push(B),S.push(Z);for(var V=0,j=S;V<j.length;V++){var W=j[V];i.disposeIntermediateTensorInfo(W)}return z}var Ya={kernelName:u.mhS,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=n.filter,s=i.strides,l=i.pad,c=i.dataFormat,d=i.dilations,f=i.dimRoundingMode,h=u.Wap.convertConv2DDataFormat(c),p=u.Wap.computeConv2DInfo(a.shape,o.shape,s,d,l,f,!1,h);if(1!==p.filterHeight||1!==p.filterWidth||1!==p.dilationHeight||1!==p.dilationWidth||1!==p.strideHeight||1!==p.strideWidth||"SAME"!==p.padInfo.type&&"VALID"!==p.padInfo.type)if((0,u.OBj)().getBool("WEBGL_CONV_IM2COL")&&1===a.shape[0])t=qa({x:a,filter:o,convInfo:p,backend:r});else{var m=new Ua(p);t=r.runWebGLProgram(m,[a,o],"float32")}else t=Xa({x:a,filter:o,convInfo:p,backend:r});var g=di({inputs:{x:t},backend:r,attrs:{shape:p.outShape}});return r.disposeIntermediateTensorInfo(t),g}},Ka=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,i=t.padInfo.top,a=t.padInfo.left,o="channelsLast"===t.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(i,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(a,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              if (").concat(o,") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),Qa=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,i=t.strideHeight,a=t.strideWidth,o="channelsLast"===t.dataFormat,s=n-1-t.padInfo.top,u=r-1-t.padInfo.left,l=o?1:2,c=o?2:3,d=o?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(d,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(l,"], coords[").concat(c,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n\n              if (").concat(o,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),Ja=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideDepth,r=t.strideHeight,i=t.strideWidth,a=t.padInfo.front,o=t.padInfo.top,s=t.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(t.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(n," - ").concat(a,";\n\n            if (xF < 0 || xF >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(r," - ").concat(o,";\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(i," - ").concat(s,";\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),$a=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,i=t.filterWidth,a=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=n-1-t.padInfo.front,l=r-1-t.padInfo.top,c=i-1-t.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(u,", ").concat(l,", ").concat(c,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(n,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(a,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(t.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(n," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(r,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(r," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(i,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(i," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var eo={kernelName:u.wUP,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.dy,o=r.strides,s=r.pad,l=r.dataFormat,c=r.dimRoundingMode,d=r.filterShape,f=u.Wap.convertConv2DDataFormat(l),h=u.Wap.computeConv2DInfo(i.shape,d,o,1,s,c,!1,f),p=new Ka(h);return n.runWebGLProgram(p,[i,a],"float32")}};var to={kernelName:u.wm,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.filter,o=r.inputShape,s=r.strides,l=r.pad,c=r.dataFormat,d=r.dimRoundingMode,f=u.Wap.convertConv2DDataFormat(c),h=u.Wap.computeConv2DInfo(o,a.shape,s,1,l,d,!1,f),p=new Qa(h);return n.runWebGLProgram(p,[i,a],"float32")}};var no={kernelName:u.x12,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=r.strides,s=r.pad,l=r.dilations,c=u.Wap.computeConv3DInfo(i.shape,a.shape,o,l,s),d=new Ha(c);return n.runWebGLProgram(d,[i,a],"float32")}};var ro={kernelName:u.o2y,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.dy,o=r.strides,s=r.pad,l=r.filterShape,c=u.Wap.computeConv3DInfo(i.shape,l,o,1,s),d=new Ja(c);return n.runWebGLProgram(d,[i,a],"float32")}};var io,ao={kernelName:u.ik2,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.filter,o=r.pad,s=r.strides,l=r.inputShape,c=u.Wap.computeConv3DInfo(l,a.shape,s,1,o),d=new $a(c);return n.runWebGLProgram(d,[i,a],"float32")}},oo=ti({opSnippet:"if (isnan(x)) return x;\n  return cos(x);\n"}),so={kernelName:u.mc4,backendName:"webgl",kernelFunc:oo},uo=ti({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),lo={kernelName:u.TR1,backendName:"webgl",kernelFunc:uo},co=(0,h.Z)((function e(t,n,r,i,a){(0,f.Z)(this,e),this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var o=(0,l.Z)(t,4),s=o[0],u=o[1],c=o[2],d=o[3],h=(0,l.Z)(n,1)[0],p=(0,l.Z)(r,2),m=p[0],g=p[1];this.outputShape=[h,m,g,d];var v="bilinear"===i?1:0,y="".concat(u-1,".0"),x="".concat(c-1,".0"),b=m>1?["".concat((u-1)/(m-1)),"(y2-y1) * height_ratio","y1*".concat(y," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(y)],w=(0,l.Z)(b,3),_=w[0],S=w[1],C=w[2],k=g>1?["".concat((c-1)/(g-1)),"(x2-x1) * width_ratio","x1*".concat(x," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(x)],D=(0,l.Z)(k,3),T=D[0],I=D[1],A=D[2];this.userCode="\n      const float height_ratio = float(".concat(_,");\n      const float width_ratio = float(").concat(T,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(s,") {\n          return;\n        }\n\n        float height_scale = ").concat(S,";\n        float width_scale = ").concat(I,";\n\n        float in_y = ").concat(C,";\n        if( in_y < 0.0 || in_y > ").concat(y," ) {\n          setOutput(float(").concat(a,"));\n          return;\n        }\n        float in_x = ").concat(A,";\n        if( in_x < 0.0 || in_x > ").concat(x," ) {\n          setOutput(float(").concat(a,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(v," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")})),fo={kernelName:u.VcC,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.image,a=t.boxes,o=t.boxInd,s=r.cropSize,u=r.method,l=r.extrapolationValue,c=new co(i.shape,a.shape,s,u,l);return n.runWebGLProgram(c,[i,a,o],"float32")}};!function(e){e.Prod="*",e.Sum="+"}(io||(io={}));var ho=(0,h.Z)((function e(t,n,r,i){(0,f.Z)(this,e),this.op=t,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];var a=this.outputShape.length,o=this.op===io.Prod?"1.0":"0.0",s=r?o:"getX(".concat(po(a,"coords",this.op),")"),u=this.outputShape[this.outputShape.length-1],l="",c="";r?(l=i?"end != ".concat(u-1):"end != 0",c=i?"end + 1":"end - 1"):(l=i?"end + pow2 < ".concat(u):"end >= pow2",c=i?"end + pow2":"end - pow2"),this.userCode="\n      void main() {\n        ".concat(Ye(a)," coords = getOutputCoords();\n        int end = ").concat(mo(a,"coords",this.op),";\n        float val = ").concat(s,";\n        int pow2 = int(pow(2.0, index));\n        if (").concat(l,") {\n          int idx = ").concat(c,";\n          ").concat(mo(a,"coords",this.op)," = idx;\n          val ").concat(this.op,"= getX(").concat(po(a,"coords",this.op),");\n        }\n        setOutput(val);\n      }\n    ")}));function po(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".x, ").concat(t,".y");if(3===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z");if(4===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z, ").concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function mo(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".y");if(3===e)return"".concat(t,".z");if(4===e)return"".concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function go(e,t,n,r,i,a){var o=t.shape.length,s=u.Wap.getAxesPermutation([r],o),l=t;null!=s&&(l=wi({inputs:{x:t},backend:n,attrs:{perm:s}}));var c=u.Wap.getInnerMostAxes(1,o)[0];if(c!==o-1)throw new Error("WebGL cumprod shader expects an inner-most axis=".concat(t.shape.length-1," ")+"but got axis=".concat(r));for(var d=l.shape[c],f=Hr({inputs:{x:l},backend:n}),h=0;h<=Math.ceil(Math.log2(d))-1;h++){var p=new ho(e,l.shape,!1,a),m=[[h]],g=f;f=n.runWebGLProgram(p,[f],f.dtype,m),n.disposeIntermediateTensorInfo(g)}if(i){var v=new ho(e,l.shape,i,a),y=f;f=n.runWebGLProgram(v,[f],f.dtype),n.disposeIntermediateTensorInfo(y)}if(null!=s){var x=wi({inputs:{x:f},backend:n,attrs:{perm:u.Wap.getUndoAxesPermutation(s)}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(l),x}return f}var vo={kernelName:u.Byc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.exclusive,s=r.reverse;return go(io.Prod,i,n,a,o,s)}};var yo={kernelName:u.iHb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.exclusive,s=r.reverse;return go(io.Sum,i,n,a,o,s)}};var xo={kernelName:u.QRR,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.weights,o=r.size,s=r.binaryOutput;if(1===i.shape.length){var u=n.readSync(i.dataId),l=n.readSync(a.dataId),c=Cn(u,l,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,c)}if(2===i.shape.length){var d=n.bufferSync(i),f=n.bufferSync(a),h=kn(d,f,o,s);return n.makeTensorInfo(h.shape,a.dtype,h.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(i.shape.length,"."))}},bo=function(){function e(t,n,r){(0,f.Z)(this,e),this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(n,";\n      int offset_h = imod(h, ").concat(n,");\n      int in_w = w / ").concat(n,";\n      int offset_w = imod(w, ").concat(n,");\n      int offset_d = (offset_h * ").concat(n," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}return(0,h.Z)(e,[{key:"getHeightCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}},{key:"getWidthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}},{key:"getDepthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}},{key:"getOutputDepthSize",value:function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}},{key:"getInputSamplingString",value:function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}]),e}();var wo={kernelName:u.T0n,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.blockSize,o=r.dataFormat,s=i.shape[0],u=("NHWC"===o?i.shape[1]:i.shape[2])*a,l=("NHWC"===o?i.shape[2]:i.shape[3])*a,c=("NHWC"===o?i.shape[3]:i.shape[1])/(a*a),d=new bo("NHWC"===o?[s,u,l,c]:[s,c,u,l],a,o);return n.runWebGLProgram(d,[i],i.dtype)}},_o=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,f.Z)(this,e),this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=it(this.outputShape.length);var o=t.filterHeight,s=t.filterWidth,u=t.outChannels/t.inChannels,l="",c="";r&&(l=i?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):a?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),c="result = activation(result);");var d=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(l,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(u,";\n        int q = d2 - d1 * ").concat(u,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(o,"; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(s,"; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(d,"\n        ").concat(c,"\n        setOutput(result);\n      }\n    ")})),So=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,f.Z)(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=it(this.outputShape.length);for(var o=t.outChannels/t.inChannels,s=t.padInfo.left,l=t.strideWidth,c=t.dilationWidth,d=t.filterHeight,h=t.filterWidth,p=h,m="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;",g=0;g<h;g++)m+="\n          vec4 xTexelC".concat(2*g,";\n          int xTexelC").concat(2*g,"Ready;\n          vec4 xTexelC").concat(2*g+1,";\n          int xTexelC").concat(2*g+1,"Ready;\n          vec4 xC").concat(g,";");m+="\n    for (int r = 0; r < ".concat(d,"; r++) {\n      ");for(var v=0;v<h;v++)m+="\n          xTexelC".concat(2*v," = vec4(0.0);\n          xTexelC").concat(2*v,"Ready = 0;\n          xTexelC").concat(2*v+1," = vec4(0.0);\n          xTexelC").concat(2*v+1,"Ready = 0;\n          xC").concat(v," = vec4(0.0);");m+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(var y=0;y<(p+1)/2;y++){var x=2*y;if(m+="\n          xC = xCCorner + ".concat(x*c,";\n          "),1===l){if(x<h&&(s%2===1?(m+="\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(x,"Ready == 0) {\n                  xTexelC").concat(x," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(x,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(x,"Ready = 1;\n                }\n              "),m+=1===c&&x>0?"\n                xC".concat(x," = vec4(xTexelC").concat(x-2,".zw, xTexelC").concat(x,".xy);\n                "):"\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC".concat(x," = vec4(previous.zw, xTexelC").concat(x,".xy);\n                  } else {\n                    xC").concat(x," = vec4(0.0, 0.0, xTexelC").concat(x,".xy);\n                  }\n                  ")):m+="\n                if (xC >= 0 && xC < inDims[1] && xTexelC".concat(x,"Ready == 0) {\n                  xTexelC").concat(x," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(x,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(x,"Ready = 1;\n                }\n\n                xC").concat(x," = xTexelC").concat(x,";\n                "),x+1<h)){var b=s%2===0?u.D5U.nearestLargerEven(c):c;c%2===0&&s%2===1||c%2!==0&&s%2!==1?(m+="\n                  xCOffset = xC + imod(pads[1], 2) + ".concat(b,";\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n                    xTexelC").concat(x+1," = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC").concat(x+1,".zw = vec2(0.0);\n                    }\n                    xTexelC").concat(x+1,"Ready = 1;\n                  }\n                  "),c>1&&(m+="\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(x,"Ready == 0) {\n                      xTexelC").concat(x," = getX(batch, xR, xCOffset, d1);\n                      xTexelC").concat(x,"Ready = 1;\n                    }\n                    ")),m+="\n                  xC".concat(x+1," = vec4(xTexelC").concat(x,".zw, xTexelC").concat(x+1,".xy);\n                  ")):m+=1===b?"\n                    xC".concat(x+1," = xTexelC").concat(x,";\n                    "):"\n                    xCOffset = xC + ".concat(b,";\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n                      xTexelC").concat(x+1," = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC").concat(x+1,".zw = vec2(0.0);\n                      }\n                      xTexelC").concat(x+1,"Ready = 1;\n                    }\n\n                    xC").concat(x+1," = xTexelC").concat(x+1,";\n                    ")}}else x<h&&(s%2===1?(m+="\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(x,"Ready == 0) {\n                  xTexelC").concat(x," = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(x,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(x,"Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n                  xTexelC").concat(x+1," = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC").concat(x+1,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(x+1,"Ready = 1;\n                }\n\n                xC").concat(x," = vec4(xTexelC").concat(x,".zw, xTexelC").concat(x+1,".zw);\n              "),x+1<h&&(m+="\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC".concat(x+1," = vec4(xTexelC").concat(x+1,".xy, final.xy);\n                "))):(m+="\n                if(xC >= 0 && xC < inDims[1] && xTexelC".concat(x,"Ready == 0) {\n                  xTexelC").concat(x," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(x,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(x,"Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n                  xTexelC").concat(x+1," = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(x+1,".zw = vec2(0.);\n                  }\n                  xTexelC").concat(x+1,"Ready = 1;\n                }\n\n                xC").concat(x," = vec4(\n                  xTexelC").concat(x,".xy, xTexelC").concat(x+1,".xy);\n              "),x+1<h&&(m+="\n                  xC".concat(x+1," = vec4(xTexelC").concat(x,".zw, xTexelC").concat(x+1,".zw);\n                "))));x<h&&(m+="\n            wTexel = getW(r, ".concat(x,", d1, q);\n            dotProd += xC").concat(x," * vec4(wTexel.xz, wTexel.xz);\n          "),x+1<h&&(m+="\n              wTexel = getW(r, ".concat(x+1,", d1, q);\n              dotProd += xC").concat(x+1," * vec4(wTexel.xz, wTexel.xz);\n            ")))}m+="\n    }\n  ",m+="\n      }\n    ";var w="",_="";r&&(w=i?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):a?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(r,"\n        }"),_="result = activation(result);");var S=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(w,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(o,";\n        int q = d2 - d1 * ").concat(o,";\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ").concat(m,"\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ").concat(S,"\n        ").concat(_,"\n        setOutput(result);\n      }\n    ")}));var Co={kernelName:u.cie,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=r.strides,s=r.pad,l=r.dilations,c=r.dimRoundingMode,d=l;null==d&&(d=[1,1]),u.D5U.assert(u.Wap.eitherStridesOrDilationsAreOne(o,d),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(o," and dilations '").concat(d,"'")}));var f,h=u.Wap.computeConv2DInfo(i.shape,a.shape,o,d,s,c,!0);f=(0,u.OBj)().getBool("WEBGL_PACK_DEPTHWISECONV")&&h.strideWidth<=2&&h.outChannels/h.inChannels===1?new So(h):new _o(h);var p=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];return n.runWebGLProgram(f,[i,a],"float32",p)}},ko=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,i=t.padInfo.top,a=t.padInfo.left,o=t.outChannels/t.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(o," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(i,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(a,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),Do=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,i=t.strideHeight,a=t.strideWidth,o=n-1-t.padInfo.top,s=r-1-t.padInfo.left,u=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(o,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(u,"; dm++) {\n              int d2 = d1 * ").concat(u," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var To={kernelName:u.sL$,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.dy,o=r.strides,s=r.dilations,l=r.pad,c=r.dimRoundingMode,d=r.filterShape,f=u.Wap.computeConv2DInfo(i.shape,d,o,s,l,c,!0),h=new ko(f);return n.runWebGLProgram(h,[i,a],"float32")}};var Io={kernelName:u.y7R,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.filter,o=r.strides,s=r.dilations,l=r.pad,c=r.dimRoundingMode,d=r.inputShape,f=u.Wap.computeConv2DInfo(d,a.shape,o,s,l,c,!0),h=new Do(f);return n.runWebGLProgram(h,[i,a],"float32")}},Ao=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["X"],this.outputShape=[t,t],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}));var Mo={kernelName:u.$w,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=[].concat((0,c.Z)(r.shape),(0,c.Z)(r.shape)),a=u.D5U.sizeFromShape(r.shape),o=di({inputs:{x:r},backend:n,attrs:{shape:[a]}}),s=new Ao(a),l=n.runWebGLProgram(s,[o],o.dtype),d=di({inputs:{x:l},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),d}},Eo=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.inHeight,r=t.inWidth,i=t.padInfo,a=t.strideHeight,o=t.strideWidth,s=t.filterHeight,u=t.filterWidth,l=t.dilationHeight,c=t.dilationWidth,d=i.top,h=i.left;this.userCode="\n      const ivec2 strides = ivec2(".concat(a,", ").concat(o,");\n      const ivec2 pads = ivec2(").concat(d,", ").concat(h,");\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ").concat(s,"; h++) {\n          int hIn = hBeg + h * ").concat(l,";\n\n          if (hIn >= 0 && hIn < ").concat(n,") {\n            for (int w = 0; w < ").concat(u,"; w++) {\n              int wIn = wBeg + w * ").concat(c,";\n\n              if (wIn >= 0 && wIn < ").concat(r,") {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    ")}));var No={kernelName:u.p4S,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=n.filter,s=i.strides,l=i.pad,c=i.dilations,d=u.Wap.computeDilation2DInfo(a.shape,o.shape,s,l,"NHWC",c),f=new Eo(d),h=di({inputs:{x:t=r.runWebGLProgram(f,[a,o],"float32")},backend:r,attrs:{shape:d.outShape}});return r.disposeIntermediateTensorInfo(t),h}},Ro=n(37762);var Po={kernelName:u.$g6,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.equation,i=t,a=u.Wap.decodeEinsumEquation(r,i.length),o=a.allDims,s=a.summedDims,l=a.idDims;u.Wap.checkEinsumDimSizes(o.length,l,i);for(var c=u.Wap.getEinsumComputePath(s,l),d=c.path,f=c.steps,h=f.length,p=null,m=o.length,g=[],v=0;v<h;++v){var y,x=(0,Ro.Z)(f[v]);try{for(x.s();!(y=x.n()).done;){var b=y.value,w=u.Wap.getEinsumPermutation(m,l[b]),_=w.permutationIndices,S=w.expandDims,C=void 0;u.Wap.isIdentityPermutation(_)?C=i[b]:(C=wi({inputs:{x:i[b]},backend:n,attrs:{perm:_}}),g.push(C));for(var k=C.shape.slice(),D=0;D<S.length;++D)k.splice(S[D],0,1);u.D5U.arraysEqual(C.shape,k)||(C=di({inputs:{x:C},backend:n,attrs:{shape:k}}),g.push(C)),null===p?p=C:(p=li({inputs:{a:C,b:p},backend:n}),g.push(p))}}catch(M){x.e(M)}finally{x.f()}v<h-1&&(d[v]>=0&&(p=xi({inputs:{x:p},backend:n,attrs:{axis:d[v]-(o.length-m),keepDims:!1}}),g.push(p)),m--)}for(var T=0,I=g;T<I.length;T++){var A=I[T];A!==p&&n.disposeIntermediateTensorInfo(A)}return p}},Oo=ti({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),Lo={kernelName:u.SX0,backendName:"webgl",kernelFunc:Oo},Fo={kernelName:u.HEU,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,i=t.y,a=(0,u.OBj)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ur("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,i.shape):new Wr("return (b >= 1.0) ? a : a * (b + 1.0);",r.shape,i.shape);return n.runWebGLProgram(a,[r,i],r.dtype)}},Zo=ni({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:In}),Bo={kernelName:u.hdR,backendName:"webgl",kernelFunc:Zo},zo=ti({opSnippet:'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(u.Wap.ERF_P,";\n  float a1 = ").concat(u.Wap.ERF_A1,";\n  float a2 = ").concat(u.Wap.ERF_A2,";\n  float a3 = ").concat(u.Wap.ERF_A3,";\n  float a4 = ").concat(u.Wap.ERF_A4,";\n  float a5 = ").concat(u.Wap.ERF_A5,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n")}),Vo={kernelName:u.Omj,backendName:"webgl",kernelFunc:zo},jo=ti({opSnippet:"if (isnan(x)) return x;\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:An,dtype:"float32"}),Wo={kernelName:u.NEP,backendName:"webgl",kernelFunc:jo};function Uo(e){var t=e.inputs,n=e.attrs,r=e.backend,i=n.dim,a=t.input,o=a.shape.length,s=a.shape.slice(),l=i;return i<0&&(u.D5U.assert(-(o+1)<=i,(function(){return"Axis must be in the interval [".concat(-(o+1),", ").concat(o,"]")})),l=o+i+1),s.splice(l,0,1),di({inputs:{x:a},backend:r,attrs:{shape:s}})}var Ho={kernelName:u.YFo,backendName:"webgl",kernelFunc:Uo},Go="return exp(x) - 1.0;",Xo=ti({opSnippet:Go,packedOpSnippet:Go,cpuKernelImpl:Mn}),qo={kernelName:u.Y0y,backendName:"webgl",kernelFunc:Xo},Yo=(0,h.Z)((function e(t,n,r){(0,f.Z)(this,e),this.variableNames=["real","imag"];var i=n[1];this.outputShape=n;var a,o=r?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),s=r?"".concat(i,".0"):"1.0";if("real"===t)a="return real * expR - imag * expI;";else{if("imag"!==t)throw new Error('FFT component must be either "real" or "imag", got '.concat(t,"."));a="return real * expI + imag * expR;"}this.userCode="\n      const float exponentMultiplier = ".concat(o,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(a,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(i,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(i,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(s,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")}));function Ko(e,t,n){var r=n.texData.get(e.dataId),i=u.D5U.sizeFromShape(e.shape),a=e.shape[e.shape.length-1],o=di({inputs:{x:e},backend:n,attrs:{shape:[i/a,a]}}),s=o.shape,l=new Yo("real",s,t),c=new Yo("imag",s,t),d=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:s},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:s}],f=n.runWebGLProgram(l,d,"float32"),h=n.runWebGLProgram(c,d,"float32"),p=Xr({inputs:{real:f,imag:h},backend:n});n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h);var m=di({inputs:{x:p},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(p),m}var Qo={kernelName:u.vwp,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return Ko(t.input,!1,n)}},Jo=(0,h.Z)((function e(t,n){(0,f.Z)(this,e),this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}));function $o(e){var t=e.backend,n=e.attrs,r=n.shape,i=n.value,a=n.dtype;if("string"===(a=a||u.D5U.inferDtype(i))){var o=u.D5U.getArrayFromDType(a,u.D5U.sizeFromShape(r));return o.fill(i),t.makeTensorInfo(r,a,o)}var s=new Jo(r,i),l=[[i]];return t.runWebGLProgram(s,[],a,l)}var es,ts={kernelName:u.deh,backendName:"webgl",kernelFunc:$o},ns=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["Image"],this.outputShape=[];var n=t[2];this.outputShape=t,this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ".concat(n," - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ").concat(n,") {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")})),rs={kernelName:u.Uyb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.image,i=n,a=new ns(r.shape);return i.runWebGLProgram(a,[r],r.dtype)}},is="return floor(x);",as=ti({opSnippet:is,packedOpSnippet:is,cpuKernelImpl:En}),os={kernelName:u.OR,backendName:"webgl",kernelFunc:as},ss=ni({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),us={kernelName:u.jeX,backendName:"webgl",kernelFunc:ss},ls=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["A"];var n=Ce(),r=(0,l.Z)(t,2),i=r[0],a=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(a,".0, ").concat(i,".0);\n\n        vec4 values = ").concat(n.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")})),cs=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=Ce(),r=(0,l.Z)(t,2),i=r[0],a=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(a,".0, ").concat(i,".0);\n            vec4 values = ").concat(n.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),ds={kernelName:u.eBW,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.pixels,a=r.numChannels,s="undefined"!==typeof HTMLVideoElement&&i instanceof HTMLVideoElement,c="undefined"!==typeof HTMLImageElement&&i instanceof HTMLImageElement,d=s?[i.videoWidth,i.videoHeight]:[i.width,i.height],f=(0,l.Z)(d,2),h=f[0],p=f[1],m=[p,h],g=[p,h,a];(c||s)&&(null==es&&(es=document.createElement("canvas").getContext("2d")),es.canvas.width=h,es.canvas.height=p,es.drawImage(i,0,0,h,p),i=es.canvas);var v=n.makeTensorInfo(m,"int32");n.texData.get(v.dataId).usage=o.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(v.dataId),i);var y=(0,u.OBj)().getBool("WEBGL_PACK")?new cs(g):new ls(g),x=n.runWebGLProgram(y,[v],"int32");return n.disposeData(v.dataId),x}};var fs={kernelName:u._V0,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=n.filter,s=n.bias,l=n.preluActivationWeights,c=i.strides,d=i.pad,f=i.dataFormat,h=i.dilations,p=i.dimRoundingMode,m=i.activation,g=i.leakyreluAlpha,v=u.Wap.convertConv2DDataFormat(f),y=u.Wap.computeConv2DInfo(a.shape,o.shape,c,h,d,p,!1,v),x=[];if(1!==y.filterHeight||1!==y.filterWidth||1!==y.dilationHeight||1!==y.dilationWidth||1!==y.strideHeight||1!==y.strideWidth||"SAME"!==y.padInfo.type&&"VALID"!==y.padInfo.type)if((0,u.OBj)().getBool("WEBGL_CONV_IM2COL")&&1===a.shape[0])t=qa({x:a,filter:o,convInfo:y,backend:r,bias:s,activation:m,preluActivationWeights:l,leakyreluAlpha:g});else{var b=null!=s,w=null!=l,_="leakyrelu"===m,S=m?ri(m,!1):null,C=new Ua(y,b,S,w,_),k=[a,o],D=function(e,t){if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){var n=di({inputs:{x:e},backend:r,attrs:{shape:[e.shape[0],1,1]}});return x.push(n),n}return e};if(b&&k.push(D(s,f)),w&&k.push(D(l,f)),_){var T=r.makeTensorInfo([],"float32",u.D5U.createScalarValue(g,"float32"));k.push(T),x.push(T)}t=r.runWebGLProgram(C,k,"float32")}else t=Xa({x:a,filter:o,convInfo:y,backend:r,bias:s,activation:m,preluActivationWeights:l,leakyreluAlpha:g});var I=di({inputs:{x:t},backend:r,attrs:{shape:y.outShape}});return x.push(t),x.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),I}};var hs={kernelName:u.luS,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=t.bias,s=t.preluActivationWeights,l=r.strides,c=r.pad,d=r.dilations,f=r.dimRoundingMode,h=r.activation,p=r.leakyreluAlpha,m=[],g=d;null==g&&(g=[1,1]),u.D5U.assert(u.Wap.eitherStridesOrDilationsAreOne(l,g),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(l," and dilations '").concat(g,"'")}));var v,y=u.Wap.computeConv2DInfo(i.shape,a.shape,l,g,c,f,!0),x=(0,u.OBj)().getBool("WEBGL_PACK_DEPTHWISECONV")&&y.strideWidth<=2&&y.outChannels/y.inChannels===1,b=h?ri(h,x):null,w=[i,a],_=null!=o,S=null!=s,C="leakyrelu"===h;if(_&&w.push(o),S&&w.push(s),C){var k=n.makeTensorInfo([],"float32",u.D5U.createScalarValue(p,"float32"));w.push(k),m.push(k)}v=x?new So(y,_,b,S,C):new _o(y,_,b,S,C);var D=[[y.padInfo.top,y.padInfo.left],[y.strideHeight,y.strideWidth],[y.dilationHeight,y.dilationWidth],[y.inHeight,y.inWidth]],T=n.runWebGLProgram(v,w,"float32",D);return m.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),T}},ps=(0,h.Z)((function e(t,n,r){(0,f.Z)(this,e),this.sliceDim=t,this.strides=n,this.variableNames=["x","indices"],this.outputShape=r;var i=Ye(n.length),a=Ye(r.length),o=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        ".concat(i," strides = ").concat(i,"(").concat(this.strides,");\n         void main() {\n          ").concat(a," coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < ").concat(this.sliceDim,"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * ").concat(o,";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      ")}));var ms={kernelName:u.q1x,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,i=t.indices,a=i.shape,o=a[a.length-1],s=u.D5U.sizeFromShape(r.shape),c=u.Wap.prepareAndValidate(r,i),d=(0,l.Z)(c,4),f=d[0],h=d[1],p=d[2],m=d[3],g=di({inputs:{x:i},backend:n,attrs:{shape:[h,o]}}),v=di({inputs:{x:r},backend:n,attrs:{shape:[u.D5U.sizeFromShape(r.shape)/p,p]}});if(n.shouldExecuteOnCPU([r,i])||"string"===r.dtype){var y=n.readSync(i.dataId),x=n.bufferSync(r),b=Nn(y,x,r.dtype,h,o,p,m,r.shape,s);return n.makeTensorInfo(f,r.dtype,b.values)}var w=new ps(o,m,[h,p]),_=n.runWebGLProgram(w,[v,g],v.dtype),S=di({inputs:{x:_},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(_),S}},gs=(0,h.Z)((function e(t,n){(0,f.Z)(this,e),this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;var r=Ye(this.rank),i=function(e,t){for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[],i=0;i<e.length;i++)2===i?r.push("index"):r.push("".concat(n[i]));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(r," resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ").concat(t[2],") ? 1.0 : 0.0;\n        setOutput(inBounds * getA(").concat(i,"));\n      }\n    ")}));function vs(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.indices,o=r.axis,s=r.batchDims,l=u.D5U.parseAxisParam(o,i.shape)[0];(0,u.OBj)().get("DEBUG")&&function(){for(var e=n.readSync(a.dataId),t=i.shape[l],r=function(n){var r=e[n];u.D5U.assert(r<=t-1&&r>=0,(function(){return"GatherV2: the index value ".concat(r," is not in [0, ").concat(t-1,"]")}))},o=0;o<e.length;++o)r(o)}();var c=u.Wap.segment_util.collectGatherOpShapeInfo(i,a,l,s),d=u.D5U.sizeFromShape(a.shape),f=[],h=di({inputs:{x:i},backend:n,attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]}}),p=di({inputs:{x:a},backend:n,attrs:{shape:[c.batchSize,d/c.batchSize]}});f.push(h),f.push(p);var m=[c.batchSize,c.outerSize,d/c.batchSize,c.sliceSize];if(n.shouldExecuteOnCPU([i,a])||"string"===i.dtype){var g=n.bufferSync(p),v=n.bufferSync(h),y=Rn(v,g,m);return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(c.outputShape,y.dtype,y.values)}var x=new gs(h.shape,m),b=n.runWebGLProgram(x,[h,p],h.dtype);f.push(b);var w=di({inputs:{x:b},backend:n,attrs:{shape:c.outputShape}});return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),w}var ys={kernelName:u.qi_,backendName:"webgl",kernelFunc:vs},xs=ni({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:Pn,dtype:"bool"}),bs={kernelName:u.iZT,backendName:"webgl",kernelFunc:xs},ws=ni({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:On}),_s={kernelName:u.Acj,backendName:"webgl",kernelFunc:ws};var Ss={kernelName:u.Qg5,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return Ko(t.input,!0,n)}},Cs=ti({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),ks={kernelName:u.avt,backendName:"webgl",kernelFunc:Cs},Ds=ti({opSnippet:"return float(isinf(x));",dtype:"bool"}),Ts={kernelName:u.iWB,backendName:"webgl",kernelFunc:Ds},Is=ti({opSnippet:"return float(isnan(x));",dtype:"bool"}),As={kernelName:u.r7n,backendName:"webgl",kernelFunc:Is},Ms=ni({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:Ln,dtype:"bool"}),Es={kernelName:u.vtC,backendName:"webgl",kernelFunc:Ms},Ns=ni({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:Fn,dtype:"bool"}),Rs={kernelName:u.CAk,backendName:"webgl",kernelFunc:Ns};var Ps={kernelName:u.e7N,backendName:"webgl",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,i=n.stop,a=n.num,o=Zn(r,i,a);return t.makeTensorInfo([o.length],"float32",o)}},Os=ti({opSnippet:"if (isnan(x)) return x;\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:Bn}),Ls={kernelName:u.ZbH,backendName:"webgl",kernelFunc:Os},Fs=ti({opSnippet:"if (isnan(x)) return x;\n  return log(1.0 + x);\n"}),Zs={kernelName:u.kU,backendName:"webgl",kernelFunc:Fs},Bs=ni({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),zs={kernelName:u.PYm,backendName:"webgl",kernelFunc:Bs},Vs=ti({opSnippet:"return float(!(x >= 1.0));"}),js={kernelName:u.VfG,backendName:"webgl",kernelFunc:Vs},Ws=ni({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),Us={kernelName:u.MZg,backendName:"webgl",kernelFunc:Ws},Hs=(0,h.Z)((function e(t,n,r,i,a){(0,f.Z)(this,e),this.variableNames=["x"],this.outputShape=[];var o,s=n,u=t[3]-1;this.outputShape=t;var l="float(".concat(r,") + float(").concat(i,") * sum");o=.5===a?"inversesqrt(".concat(l,")"):1===a?"1.0/(".concat(l,")"):"exp(log(".concat(l,") * float(-").concat(a,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(s,"; j <= ").concat(s,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(u,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(o,";\n        setOutput(val);\n      }\n    ")})),Gs=(0,h.Z)((function e(t,n,r,i,a){(0,f.Z)(this,e),this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var o,s=n,u=t[3]-1;this.outputShape=t;var l="float(".concat(r,") + float(").concat(i,") * sum");o=.5===a?"inversesqrt(".concat(l,")"):1===a?"1.0/(".concat(l,")"):"exp(log(".concat(l,") * float(-").concat(a,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(s,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(s,"; j <= ").concat(s,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(u,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(o,";\n        setOutput(result);\n      }\n    ")})),Xs={kernelName:u.eZ0,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.depthRadius,o=r.bias,s=r.alpha,l=r.beta,c=(0,u.OBj)().getBool("WEBGL_PACK_NORMALIZATION")?new Gs(i.shape,a,o,s,l):new Hs(i.shape,a,o,s,l);return n.runWebGLProgram(c,[i],i.dtype)}},qs=(0,h.Z)((function e(t,n,r,i,a){(0,f.Z)(this,e),this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=n,this.bias=r,this.alpha=i,this.beta=a,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(n,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(n," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(i,") * norm + float(").concat(r,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(i,")\n                * float(").concat(a,")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(a,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")})),Ys={kernelName:u.Hhh,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.y,o=t.dy,s=r.depthRadius,u=r.bias,l=r.alpha,c=r.beta,d=new qs(i.shape,s,u,l,c);return n.runWebGLProgram(d,[i,a,o],i.dtype)}};function Ks(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.reductionIndices,o=r.keepDims,s=i.shape.length,c=u.D5U.parseAxisParam(a,i.shape),d=c,f=u.Wap.getAxesPermutation(d,s),h=null!=f,p=n.shouldExecuteOnCPU([i]),m=i;if(h){if(p){for(var g=n.texData.get(m.dataId).values,v=new Array(s),y=0;y<v.length;y++)v[y]=i.shape[f[y]];var x=cr(g,i.shape,i.dtype,f,v);m=n.makeTensorInfo(v,i.dtype),n.texData.get(m.dataId).values=x}else m=yi(i,f,n);d=u.Wap.getInnerMostAxes(d.length,s)}u.Wap.assertAxesAreInnerMostDims("max",d,s);var b,w=u.Wap.computeOutAndReduceShapes(m.shape,d),_=(0,l.Z)(w,2),S=_[0],C=_[1],k=S;if(o&&(k=u.Wap.expandShapeToKeepDim(S,c)),p){g=n.texData.get(m.dataId).values;var D=zn(g,u.D5U.sizeFromShape(C),k,i.dtype);b=n.makeTensorInfo(k,i.dtype),n.texData.get(b.dataId).values=D}else b=function(e,t,n,r){var i=u.D5U.sizeFromShape(t),a=di({inputs:{x:e},attrs:{shape:[u.D5U.sizeFromShape(e.shape)/i,i]},backend:r}),o=mi(a,e.dtype,"max",r),s=di({inputs:{x:o},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),s}(m,C,k,n);return h&&n.disposeIntermediateTensorInfo(m),b}var Qs={kernelName:u.YoZ,backendName:"webgl",kernelFunc:Ks},Js=ni({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:Vn}),$s={kernelName:u.BMI,backendName:"webgl",kernelFunc:Js};var eu={kernelName:u.mTV,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x;_e(i,"maxPool");var a=r.filterSize,o=r.strides,s=r.pad,l=r.dimRoundingMode;u.D5U.assert(u.Wap.eitherStridesOrDilationsAreOne(o,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")}));var c=u.Wap.computePool2DInfo(i.shape,a,o,1,s,l);if(1===c.filterWidth&&1===c.filterHeight&&u.D5U.arraysEqual(c.inShape,c.outShape))return Hr({inputs:{x:i},backend:n});var d=new na(c,"max",!1);return n.runWebGLProgram(d,[i],i.dtype)}};var tu={kernelName:u.OAf,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.filterSize,o=r.strides,s=r.pad,l=r.dataFormat,c=r.dimRoundingMode,d=u.Wap.computePool3DInfo(i.shape,a,o,[1,1,1],s,c,l),f=new ra(d,"max",!1);return n.runWebGLProgram(f,[i],i.dtype)}},nu=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideHeight,r=t.strideWidth,i=t.dilationHeight,a=t.effectiveFilterHeight,o=t.effectiveFilterWidth,s=a-1-t.padInfo.top,u=o-1-t.padInfo.left,l=a*o-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(a,";\n          wR += ").concat(i,") {\n          float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(o,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(l," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(o," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),ru=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideDepth,r=t.strideHeight,i=t.strideWidth,a=t.dilationDepth,o=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterDepth,l=t.effectiveFilterHeight,c=t.effectiveFilterWidth,d=u-1-t.padInfo.front,h=l-1-t.padInfo.top,p=c-1-t.padInfo.left,m=u*l*c-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(d,", ").concat(h,", ").concat(p,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(u,";\n           wD += ").concat(a,") {\n          float dyD = float(dyDCorner + wD) / ").concat(n,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(l,";\n              wR += ").concat(o,") {\n            float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(c,";\n                wC += ").concat(s,") {\n              float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(m," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(l," * ").concat(c," +\n                  wR * ").concat(c," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var iu={kernelName:u.OU7,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.input,o=r.filterSize,s=r.strides,l=r.pad,c=r.dimRoundingMode,d=u.Wap.computePool3DInfo(a.shape,o,s,[1,1,1],l,c),f=new ra(d,"max",!0),h=n.runWebGLProgram(f,[a],a.dtype),p=new ru(d),m=n.runWebGLProgram(p,[i,h],a.dtype);return n.disposeIntermediateTensorInfo(h),m}};var au={kernelName:u.OV7,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.input,o=a;_e([a,t.output],"maxPoolGrad");var s=r.filterSize,l=r.strides,c=r.pad,d=r.dimRoundingMode,f=u.Wap.computePool2DInfo(o.shape,s,l,1,c,d),h=new na(f,"max",!0),p=n.runWebGLProgram(h,[o],o.dtype),m=new nu(f),g=n.runWebGLProgram(m,[i,p],o.dtype);return n.disposeIntermediateTensorInfo(p),g}};var ou={kernelName:u.vFR,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.x,a=n.filterSize,o=n.strides,s=n.pad,c=n.includeBatchInIndex,d=r;u.D5U.assert(4===i.shape.length,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(i.shape.length,".")}));var f=[1,1];u.D5U.assert(u.Wap.eitherStridesOrDilationsAreOne(o,f),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(f,"'")}));var h=u.Wap.computePool2DInfo(i.shape,a,o,f,s),p=function(e,t,n,r){var i=new na(n,"max",!1),a=r.runWebGLProgram(i,[e],"float32");return i=new na(n,"max",!0,!0,t),[a,r.runWebGLProgram(i,[e],"float32")]}(i,c,h,d),m=(0,l.Z)(p,2);return[m[0],m[1]]}};var su={kernelName:u.q2K,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.x,a=n.keepDims,o=n.axis,s=r,c=i.shape.length,d=u.D5U.parseAxisParam(o,i.shape),f=d,h=u.Wap.getAxesPermutation(f,c),p=null!=h,m=s.shouldExecuteOnCPU([i]),g=[],v=i;if(p){if(m){for(var y=s.texData.get(v.dataId).values,x=new Array(c),b=0;b<x.length;b++)x[b]=i.shape[h[b]];var w=cr(y,i.shape,i.dtype,h,x);v=s.makeTensorInfo(x,i.dtype),s.texData.get(v.dataId).values=w}else v=yi(i,h,s);g.push(v),f=u.Wap.getInnerMostAxes(f.length,c)}u.Wap.assertAxesAreInnerMostDims("sum",f,c);var _=u.Wap.computeOutAndReduceShapes(v.shape,f),S=(0,l.Z)(_,2),C=S[0],k=S[1],D=C;a&&(D=u.Wap.expandShapeToKeepDim(C,d));for(var T=function(e,t,n,r){var i=u.D5U.sizeFromShape(t),a=di({inputs:{x:e},attrs:{shape:[u.D5U.sizeFromShape(e.shape)/i,i]},backend:r}),o=mi(a,"float32","mean",r),s=di({inputs:{x:o},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),s}(v,k,D,s),I=0,A=g;I<A.length;I++){b=A[I];s.disposeIntermediateTensorInfo(b)}return T}};var uu={kernelName:u.c17,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.keepDims,s=i.shape.length,c=u.D5U.parseAxisParam(a,i.shape),d=c,f=u.Wap.getAxesPermutation(d,s),h=i;null!=f&&(h=wi({inputs:{x:i},backend:n,attrs:{perm:f}}),d=u.Wap.getInnerMostAxes(d.length,i.shape.length)),u.Wap.assertAxesAreInnerMostDims("min",d,s);var p,m=u.Wap.computeOutAndReduceShapes(h.shape,d),g=(0,l.Z)(m,2),v=g[0],y=g[1],x=di({inputs:{x:h},backend:n,attrs:{shape:[-1,u.D5U.sizeFromShape(y)]}}),b=mi(x,x.dtype,"min",n);return p=di(o?{inputs:{x:b},backend:n,attrs:{shape:u.Wap.expandShapeToKeepDim(v,c)}}:{inputs:{x:b},backend:n,attrs:{shape:v}}),n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(b),null!=f&&n.disposeIntermediateTensorInfo(h),p}},lu=ni({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:jn}),cu={kernelName:u.q8u,backendName:"webgl",kernelFunc:lu},du=(0,h.Z)((function e(t,n,r){(0,f.Z)(this,e),this.variableNames=["x"],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var i=t.length,a=Ye(i),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,i),l="reflect"===r?0:1;this.userCode=1!==i?"\n      ".concat(a," start = ").concat(a,"(").concat(o,");\n      ").concat(a," end = ").concat(a,"(").concat(s,");\n\n      void main() {\n        ").concat(a," outC = getOutputCoords();\n        for (int i = 0; i < ").concat(i,"; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ").concat(l,";\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(l,";\n          }\n        }\n        ").concat(a," coords = outC - start;\n        setOutput(getX(").concat(u,"));\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ").concat(l,";\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ").concat(l,";\n          }\n          setOutput(getX(outC - start));\n        }\n      ")})),fu=(0,h.Z)((function e(t,n,r){(0,f.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var i=t.length,a=Ye(i),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=hr("rc",i),l=hr("source",i),c="".concat(u[i-1]," < ").concat(this.outputShape[i-1]),d=1===i?"source":"vec2(".concat(l.slice(-2).join(),")"),h="reflect"===r?0:1,p="";if(1===i){var m="\n        ".concat(a," source = rc;\n        if (source < start) {\n          source = start * 2 - source - ").concat(h,";\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ").concat(h,";\n        }\n        source -= start;\n      ");p="\n        ".concat(a," rc = outputLoc;\n        ").concat(m,"\n        result[0] = getChannel(getX(").concat(l.join(),"), ").concat(d,");\n        ").concat(u[i-1]," += 1;\n        if(").concat(c,") {\n          ").concat(m,"\n          result[1] = getChannel(getX(").concat(l.join(),"), ").concat(d,");\n        }\n      ")}else{var g="\n        ".concat(a," source = rc;\n        ").concat(a," lt = ").concat(a,"(lessThan(source, start));\n        ").concat(a," gte = ").concat(a,"(greaterThanEqual(source, end));\n        ").concat(a," orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ").concat(h,") +\n                gte * ((end - 1) * 2 - source + ").concat(h,");\n        source -= start;\n      ");p="\n        ".concat(a," rc = outputLoc;\n        ").concat(g,"\n        result[0] = getChannel(getX(").concat(l.join(),"), ").concat(d,");\n        ").concat(u[i-1]," += 1;\n        if(").concat(c,") {\n          ").concat(g,"\n          result[1] = getChannel(getX(").concat(l.join(),"), ").concat(d,");\n        }\n        rc = outputLoc;\n        ").concat(u[i-2]," += 1;\n        if(").concat(u[i-2]," < ").concat(this.outputShape[i-2],") {\n          ").concat(g,"\n          result[2] = getChannel(getX(").concat(l.join(),"), ").concat(d,");\n          ").concat(u[i-1]," += 1;\n          if(").concat(c,") {\n            ").concat(g,"\n            result[3] = getChannel(getX(").concat(l.join(),"), ").concat(d,");\n          }\n        }\n      ")}this.userCode="\n      const ".concat(a," start = ").concat(a,"(").concat(o,");\n      const ").concat(a," end = ").concat(a,"(").concat(s,");\n\n      void main() {\n        ").concat(a," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(p,"\n        setOutput(result);\n      }\n    ")})),hu={kernelName:u.jQs,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.paddings,o=r.mode,s=(0,u.OBj)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new fu(i.shape,a,o):new du(i.shape,a,o);return n.runWebGLProgram(s,[i],i.dtype)}},pu=ni({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),mu={kernelName:u.Vbg,backendName:"webgl",kernelFunc:pu},gu=(0,h.Z)((function e(t,n,r){(0,f.Z)(this,e),this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,r],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(n-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(n-1,"));\n      }\n    ")})),vu=ni({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),yu={kernelName:u.oHH,backendName:"webgl",kernelFunc:vu},xu="return a - b;",bu=ni({opSnippet:xu,packedOpSnippet:xu,supportsComplex:!0,cpuKernelImpl:sr}),wu={kernelName:u.Tr8,backendName:"webgl",kernelFunc:bu};function _u(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.logits,a=r.dim,o=u.D5U.parseAxisParam([a],i.shape),s=Ks({inputs:{x:i},backend:n,attrs:{reductionIndices:o,keepDims:!1}}),l=u.Wap.expandShapeToKeepDim(s.shape,o),c=di({inputs:{x:s},backend:n,attrs:{shape:l}}),d=bu({inputs:{a:i,b:c},backend:n}),f=jo({inputs:{x:d},backend:n}),h=xi({inputs:{x:f},backend:n,attrs:{axis:o,keepDims:!1}}),p=di({inputs:{x:h},backend:n,attrs:{shape:l}}),m=vu({inputs:{a:f,b:p},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),m}var Su={kernelName:u.Gcp,backendName:"webgl",kernelFunc:_u};var Cu={kernelName:u.NZg,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.logits,a=r.numSamples,o=r.seed,s=r.normalized,u=s?i:_u({inputs:{logits:i},backend:n,attrs:{dim:i.shape.length-1}}),l=u.shape[0],c=u.shape[1],d=new gu(l,c,a),f=[[o]],h=n.runWebGLProgram(d,[u],"int32",f);return s||n.disposeIntermediateTensorInfo(u),h}};var ku={kernelName:u.kuV,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=n.x;if(r.shouldExecuteOnCPU([i])){var a=r.texData.get(i.dataId),o=Un(a.values,i.shape,i.dtype),s=(0,l.Z)(o,2),c=s[0],d=s[1];return r.makeTensorInfo(d,i.dtype,c)}return t=(0,u.OBj)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Pr(i.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new br(i.shape,"if (isnan(x)) return x;\n  return -x;\n"),r.runWebGLProgram(t,[i],i.dtype)}},Du=u.GDt.nonMaxSuppressionV3Impl;var Tu={kernelName:u.uv1,backendName:"webgl",kernelFunc:function(e){u.Wap.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,l=r.scoreThreshold,c=n.readSync(i.dataId),d=n.readSync(a.dataId),f=Du(c,d,o,s,l).selectedIndices;return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}},Iu=u.GDt.nonMaxSuppressionV4Impl;var Au={kernelName:u.cye,backendName:"webgl",kernelFunc:function(e){u.Wap.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,l=r.scoreThreshold,c=r.padToMaxOutputSize,d=n.readSync(i.dataId),f=n.readSync(a.dataId),h=Iu(d,f,o,s,l,c),p=h.selectedIndices,m=h.validOutputs;return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([m]))]}},Mu=u.GDt.nonMaxSuppressionV5Impl;var Eu={kernelName:u.W0H,backendName:"webgl",kernelFunc:function(e){u.Wap.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,l=r.scoreThreshold,c=r.softNmsSigma,d=n.readSync(i.dataId),f=n.readSync(a.dataId),h=Mu(d,f,o,s,l,c),p=h.selectedIndices,m=h.selectedScores;return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([m.length],"float32",new Float32Array(m))]}},Nu=(0,h.Z)((function e(t,n,r,i){(0,f.Z)(this,e),this.variableNames=["indices"],this.outputShape=[t,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(i,"), float(").concat(r,"),\n                      float(index == coords.y)));\n      }\n    ")})),Ru={kernelName:u.we_,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.indices,a=r.depth,o=r.onValue,s=r.offValue,l=u.D5U.sizeFromShape(i.shape),d=new Nu(l,a,o,s),f=di({inputs:{x:i},backend:n,attrs:{shape:[l]}}),h=n.runWebGLProgram(d,[f],i.dtype);n.disposeIntermediateTensorInfo(f);var p=di({inputs:{x:h},backend:n,attrs:{shape:[].concat((0,c.Z)(i.shape),[a])}});return n.disposeIntermediateTensorInfo(h),p}};function Pu(e){var t=e.inputs,n=e.backend,r=t.x;if("complex64"===r.dtype){var i=Ca({inputs:{input:r},backend:n}),a=Pu({inputs:{x:i},backend:n}),o=Ba({inputs:{input:r},backend:n}),s=Pu({inputs:{x:o},backend:n}),u=Xr({inputs:{real:a,imag:s},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),u}return $o({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}var Ou={kernelName:u.RuY,backendName:"webgl",kernelFunc:Pu};var Lu={kernelName:u.qWM,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,i=n.x;if("string"===i.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===i.dtype){var a=Ca({inputs:{input:i},backend:r}),o=e({inputs:{x:a},backend:r}),s=Ba({inputs:{input:i},backend:r}),u=Pu({inputs:{x:s},backend:r}),l=Xr({inputs:{real:o,imag:u},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(u),l}return $o({attrs:{shape:i.shape,dtype:i.dtype,value:1},backend:r})}};var Fu={kernelName:u.QiL,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return Uo({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var i=t[0].shape,a=t[0].dtype;t.forEach((function(e){u.D5U.assertShapesMatch(i,e.shape,"All tensors passed to stack must have matching shapes"),u.D5U.assert(a===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var o=[],s=ja({inputs:t.map((function(e){var t=Uo({inputs:{input:e},backend:n,attrs:{dim:r}});return o.push(t),t})),backend:n,attrs:{axis:r}});return o.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),s}},Zu=(0,h.Z)((function e(t,n,r){(0,f.Z)(this,e),this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var i=t.length,a=Ye(i),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,i);this.userCode=1!==i?"\n      ".concat(a," start = ").concat(a,"(").concat(o,");\n      ").concat(a," end = ").concat(a,"(").concat(s,");\n\n      void main() {\n        ").concat(a," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ").concat(a," coords = outC - start;\n          setOutput(getX(").concat(u,"));\n        }\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ")})),Bu=(0,h.Z)((function e(t,n,r){(0,f.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));for(var i=t.length,a=Ye(i),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=hr("rc",i),l=hr("source",i),c="".concat(u[i-1]," < ").concat(this.outputShape[i-1]),d=1===i?"source":"vec2(".concat(l.slice(-2).join(),")"),h=["".concat(a," rc = outputLoc;"),"".concat(u[i-1]," += 1;\n       if(").concat(c,") {\n      "),1===i?"":"}\n       rc = outputLoc;\n       ".concat(u[i-2]," += 1;\n       if(").concat(u[i-2]," < ").concat(this.outputShape[i-2],") {"),1===i?"":"  ".concat(u[i-1]," += 1;\n         if(").concat(c,") {")],p=1===i?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",m="",g=0,v=1===i?2:4;g<v;g++)m+="\n        ".concat(h[g],"\n        if (").concat(p,") {\n          result[").concat(g,"] = float(value);\n        } else {\n          ").concat(a," source = rc - start;\n          result[").concat(g,"] = getChannel(getX(").concat(l.join(),"), ").concat(d,");\n        }\n      ");m+=1===i?"} ":"}}",this.userCode="\n      const ".concat(a," start = ").concat(a,"(").concat(o,");\n      const ").concat(a," end = ").concat(a,"(").concat(s,");\n\n      void main() {\n        ").concat(a," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(m,"\n        setOutput(result);\n      }\n    ")})),zu=function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.paddings,o=r.constantValue;if(0===u.D5U.sizeFromShape(i.shape))return $o({backend:n,attrs:{shape:a.map((function(e,t){return e[0]+i.shape[t]+e[1]})),value:o,dtype:i.dtype}});var s=(0,u.OBj)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Bu(i.shape,a,o):new Zu(i.shape,a,o),l=[[o]];return n.runWebGLProgram(s,[i],i.dtype,l)},Vu={kernelName:u.lyA,backendName:"webgl",kernelFunc:zu},ju=ni({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),Wu={kernelName:u.pe_,backendName:"webgl",kernelFunc:ju};var Uu={kernelName:u.DlI,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=i.axis,s=i.keepDims,c=a.shape.length,d=[],f=u.D5U.parseAxisParam(o,a.shape),h=f,p=u.Wap.getAxesPermutation(h,c),m=a;if(null!=p&&(m=wi({inputs:{x:a},backend:r,attrs:{perm:p}}),h=u.Wap.getInnerMostAxes(h.length,c),d.push(m)),u.Wap.assertAxesAreInnerMostDims("prod",h,c),r.shouldExecuteOnCPU([m])){var g=r.texData.get(m.dataId).values,v=Gn(m.shape,m.dtype,g,h),y=v.outVals,x=v.outShape,b=v.outDtype;t=r.makeTensorInfo(x,b,y)}else{var w=u.Wap.computeOutAndReduceShapes(m.shape,h),_=(0,l.Z)(w,2),S=_[0],C=_[1],k=u.D5U.sizeFromShape(C),D=di({inputs:{x:m},backend:r,attrs:{shape:[-1,k]}}),T=mi(D,(0,u.z4k)(a.dtype),"prod",r);t=di({inputs:{x:T},backend:r,attrs:{shape:S}}),d.push(D),d.push(T)}if(s){d.push(t);var I=u.Wap.expandShapeToKeepDim(t.shape,f);t=di({inputs:{x:t},backend:r,attrs:{shape:I}})}return d.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),t}},Hu=function(e){var t=e.backend,n=e.attrs,r=n.start,i=n.stop,a=n.step,o=n.dtype,s=Xn(r,i,a,o);return t.makeTensorInfo([s.length],o,s)},Gu={kernelName:u.e6w,backendName:"webgl",kernelFunc:Hu},Xu=ti({opSnippet:"return 1.0 / x;"}),qu={kernelName:u.$HU,backendName:"webgl",kernelFunc:Xu},Yu=ti({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),Ku={kernelName:u.qkr,backendName:"webgl",kernelFunc:Yu},Qu=ti({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),Ju={kernelName:u.SbG,backendName:"webgl",kernelFunc:Qu},$u=(0,h.Z)((function e(t,n,r,i,a){(0,f.Z)(this,e),this.variableNames=["A"],this.outputShape=[];var o=(0,l.Z)(t,4),s=o[0],u=o[1],c=o[2],d=o[3];this.outputShape=[s,n,r,d];var h,p=[i&&n>1?u-1:u,i&&r>1?c-1:c],m=[i&&n>1?n-1:n,i&&r>1?r-1:r];h=a?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(p[0]/m[0],",\n          ").concat(p[1]/m[1],");\n      const vec2 inputShapeRC = vec2(").concat(u,".0, ").concat(c,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(h,";\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")})),el=(0,h.Z)((function e(t,n,r,i,a){(0,f.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=(0,l.Z)(t,4),s=o[0],u=o[1],c=o[2],d=o[3];this.outputShape=[s,n,r,d];var h,p=[i&&n>1?u-1:u,i&&r>1?c-1:c],m=[i&&n>1?n-1:n,i&&r>1?r-1:r];h=a?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(p[0]/m[0],",\n          ").concat(p[1]/m[1],",\n          ").concat(p[1]/m[1],");\n      const vec3 inputShapeRC = vec3(").concat(u,".0, ").concat(c,".0,\n                                     ").concat(c,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(h,";\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(d-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")}));var tl={kernelName:u._Yw,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,a=r.alignCorners,o=r.halfPixelCenters,s=r.size,c=(0,l.Z)(s,2),d=c[0],f=c[1],h=(0,u.OBj)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new el(i.shape,d,f,a,o):new $u(i.shape,d,f,a,o);return n.runWebGLProgram(h,[i],"float32")}},nl=(0,h.Z)((function e(t,n,r){(0,f.Z)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var i=(0,l.Z)(n,3),a=i[1],o=i[2],s=(0,l.Z)(t,3),u=s[1],c=s[2],d=[r&&u>1?a-1:a,r&&c>1?o-1:o],h=[r&&u>1?u-1:u,r&&c>1?c-1:c],p=d[0]/h[0],m=d[1]/h[1],g=1/p,v=1/m,y=2*Math.ceil(g)+2,x=2*Math.ceil(v)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(p,");\n        const float widthScale = float(").concat(m,");\n\n        const float invHeightScale = float(").concat(g,");\n        const float invWidthScale = float(").concat(v,");\n\n        const int winHeight = int(").concat(y,");\n        const int winWidth = int(").concat(x,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(u,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(c,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(a-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(o-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}));var rl={kernelName:u.zbQ,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,a=t.dy,o=r.alignCorners,s=new nl(a.shape,i.shape,o);return n.runWebGLProgram(s,[a],a.dtype)}},il=(0,h.Z)((function e(t,n,r,i,a){(0,f.Z)(this,e),this.variableNames=["A"],this.outputShape=[];var o=(0,l.Z)(t,4),s=o[0],u=o[1],c=o[2],d=o[3];this.outputShape=[s,n,r,d];var h,p=[i&&n>1?u-1:u,i&&r>1?c-1:c],m=[i&&n>1?n-1:n,i&&r>1?r-1:r],g=i?"0.5":"0.0";h=a?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(p[0]/m[0],",\n          ").concat(p[1]/m[1],");\n      const vec2 inputShapeRC = vec2(").concat(u,".0, ").concat(c,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(h,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(g,")));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")})),al=(0,h.Z)((function e(t,n,r,i,a){(0,f.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=(0,l.Z)(t,4),s=o[0],u=o[1],c=o[2],d=o[3];this.outputShape=[s,n,r,d];var h,p=[i&&n>1?u-1:u,i&&r>1?c-1:c],m=[i&&n>1?n-1:n,i&&r>1?r-1:r],g=i?"0.5":"0.0";h=a?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(p[0]/m[0],",\n          ").concat(p[1]/m[1],",\n          ").concat(p[1]/m[1],");\n      const vec3 inputShapeRC = vec3(").concat(u,".0, ").concat(c,".0,\n                                     ").concat(c,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(h,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(g,")));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(d-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    ")}));var ol={kernelName:u.dpD,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,a=r.alignCorners,o=r.halfPixelCenters,s=r.size,c=(0,l.Z)(s,2),d=c[0],f=c[1],h=(0,u.OBj)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new al(i.shape,d,f,a,o):new il(i.shape,d,f,a,o);return n.runWebGLProgram(h,[i],i.dtype)}},sl=(0,h.Z)((function e(t,n,r){(0,f.Z)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var i=(0,l.Z)(n,3),a=i[1],o=i[2],s=(0,l.Z)(t,3),u=s[1],c=s[2],d=[r&&u>1?a-1:a,r&&c>1?o-1:o],h=[r&&u>1?u-1:u,r&&c>1?c-1:c],p=d[0]/h[0],m=d[1]/h[1],g=1/p,v=1/m,y=2*Math.ceil(g)+2,x=2*Math.ceil(v)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(p,");\n        const float widthScale = float(").concat(m,");\n\n        const float invHeightScale = float(").concat(g,");\n        const float invWidthScale = float(").concat(v,");\n\n        const int winHeight = int(").concat(y,");\n        const int winWidth = int(").concat(x,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(u,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(c,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(d[0],") *\n                (float(dyR) / float(").concat(h[0],"));\n\n            float sourceFracCol =\n                float(").concat(d[1],") *\n                  (float(dyC) / float(").concat(h[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(a,") - 1),\n                ").concat(r," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(o,") - 1),\n                ").concat(r," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}));var ul={kernelName:u.Hmb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,a=t.dy,o=r.alignCorners,s=new sl(a.shape,i.shape,o);return n.runWebGLProgram(s,[a],a.dtype)}},ll=(0,h.Z)((function e(t,n){(0,f.Z)(this,e),this.variableNames=["x"];var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));if(this.outputShape=t,1!==r){var i=t.map((function(e,r){return function(e){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - coords[").concat(e,"] - 1"):"coords[".concat(e,"]")}(r)})).join(","),a=Ye(r);this.userCode="\n      void main() {\n        ".concat(a," coords = getOutputCoords();\n        setOutput(getX(").concat(i,"));\n      }\n    ")}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(t[0]," - coord - 1));\n        }\n      ")})),cl=(0,h.Z)((function e(t,n){(0,f.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));this.outputShape=t;var i=hr("rc",r),a="".concat(i[r-1]," + 1 < ").concat(this.outputShape[r-1]),o="".concat(i[r-2]," + 1 < ").concat(this.outputShape[r-2]),s=Ye(r);function u(e){var r=t.map((function(r,i){return function(e,r){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - ").concat(r[e]," - 1"):"".concat(r[e])}(i,e)})),i=r.join(","),a=r.slice(-2).join(",");return"getChannel(getX(".concat(i,"), vec2(").concat(a,"))")}this.userCode=1===r?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(t[0]," - rc - 1),\n            ").concat(t[0]," - rc - 1);\n          if(").concat(a,"){\n              result.g = getChannel(getX(").concat(t[0]," - (rc  + 1) - 1),\n                ").concat(t[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):"\n        void main() {\n          ".concat(s," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(function(e){return u(e)}(i.slice()),";\n          if(").concat(a,"){\n            result.g = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",u(e)}(i.slice()),";\n          }\n          if(").concat(o,") {\n            result.b = ").concat(function(e){return e[r-2]="("+e[r-2]+" + 1)",u(e)}(i.slice()),";\n            if(").concat(a,") {\n              result.a = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",e[r-2]="("+e[r-2]+" + 1)",u(e)}(i.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ")}));var dl={kernelName:u.mKl,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.dims,o=i.shape.length,s=u.D5U.parseAxisParam(a,i.shape);if(0===o)return Hr({inputs:{x:i},backend:n});var l=(0,u.OBj)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new cl(i.shape,s):new ll(i.shape,s);return n.runWebGLProgram(l,[i],i.dtype)}},fl=(0,h.Z)((function e(t,n){(0,f.Z)(this,e),this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];var r=t[1],i=t[2];this.outputShape=t;var a="";a="number"===typeof n?"float outputValue = ".concat(n.toFixed(2),";"):"\n        vec3 fill = vec3(".concat(n.join(","),");\n        float outputValue = fill[coords[3]];"),this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ".concat(a,"\n          if(coordX >= 0 && coordX < ").concat(i," && coordY >= 0 && coordY < ").concat(r,") {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")})),hl={kernelName:u.b9H,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.image,a=n.radians,o=n.fillValue,s=n.center,c=r,d=new fl(i.shape,o),f=u.Wap.getImageCenter(s,i.shape[1],i.shape[2]),h=(0,l.Z)(f,2),p=[[h[0],h[1],Math.sin(a),Math.cos(a)]];return c.runWebGLProgram(d,[i],i.dtype,p)}},pl=ti({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),ml={kernelName:u.e07,backendName:"webgl",kernelFunc:pl},gl=ti({opSnippet:"return inversesqrt(x);",cpuKernelImpl:qn}),vl={kernelName:u.bV0,backendName:"webgl",kernelFunc:gl},yl=(0,h.Z)((function e(t,n,r,i,a,o){(0,f.Z)(this,e),this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var s=Ye(a.length),u=Ye(o.length),l="";1===r?l="i":2===r&&(l="i, j");var c="getIndices(".concat(l,")"),d="";1===i?d="i":2===i&&(d="i, coords[1]");var h="getUpdates(".concat(d,")"),p=n>1?"strides[j]":"strides";this.userCode="\n        ".concat(s," strides = ").concat(s,"(").concat(a,");\n\n        void main() {\n          ").concat(u," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(t,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(n,"; j++) {\n              int index = round(").concat(c,");\n              flattenedIndex += index * ").concat(p,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(h,";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      ")}));var xl={kernelName:u.xQA,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.indices,a=t.updates,o=r.shape,s=u.Wap.calculateShapes(a,i,o),l=s.sliceRank,c=s.numUpdates,d=s.sliceSize,f=s.strides,h=s.outputSize,p=[h/d,d];if(0===h)return n.makeTensorInfo(o,i.dtype);var m=di({inputs:{x:i},backend:n,attrs:{shape:[c,l]}}),g=di({inputs:{x:a},backend:n,attrs:{shape:[c,d]}}),v=n.makeTensorInfo([],"float32",new Float32Array([0])),y=new yl(c,l,m.shape.length,g.shape.length,f,p),x=n.runWebGLProgram(y,[g,m,v],g.dtype),b=di({inputs:{x:x},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(v),b}},bl=(0,h.Z)((function e(t,n,r,i){(0,f.Z)(this,e),this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[t,r];var a="for (int i = 0; i < ".concat(Math.ceil(Math.log2(n+1)),"; ++i) { if (left >= right) break;"),o=2===(0,u.OBj)().getNumber("WEBGL_VERSION")?"while (left < right) {":a,s="left"===i?"<":"<=";this.userCode="\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ".concat(o,"\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ").concat(s," value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     ")}));var wl={kernelName:u.nr8,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.sortedSequence,a=t.values,o=r.side,s=new bl(i.shape[0],i.shape[1],a.shape[1],o),u=[[i.shape[1]]];return n.runWebGLProgram(s,[i,a],"int32",u)}},_l=(0,h.Z)((function e(t,n,r){var i,a;if((0,f.Z)(this,e),this.variableNames=["c","a","b"],this.outputShape=n,r>4)throw Error("Where for rank ".concat(r," is not yet supported"));if(1===r)a="resRC",i="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[],u=[],l=0;l<n.length;l++)u.push("".concat(o[l])),l<t&&s.push("".concat(o[l]));i=s.join(),a=u.join()}var c=Ye(r);this.userCode="\n      void main() {\n        ".concat(c," resRC = getOutputCoords();\n        float cVal = getC(").concat(i,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(a,"));\n        } else {\n          setOutput(getB(").concat(a,"));\n        }\n      }\n    ")}));var Sl={kernelName:u.PhF,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,i=t.t,a=t.e,o=new _l(r.shape.length,i.shape,i.shape.length);return n.runWebGLProgram(o,[r,i,a],(0,u.x8V)(i.dtype,a.dtype))}},Cl=ti({opSnippet:"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(u.Wap.SELU_SCALEALPHA,";\n  float scale = ").concat(u.Wap.SELU_SCALE,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n")}),kl={kernelName:u.oFR,backendName:"webgl",kernelFunc:Cl},Dl=ti({opSnippet:"if (isnan(x)) return x;\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:Kn}),Tl={kernelName:u.a5O,backendName:"webgl",kernelFunc:Dl},Il=ti({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),Al={kernelName:u.i5y,backendName:"webgl",kernelFunc:Il},Ml=ti({opSnippet:"if (isnan(x)) return x;\n  return sin(x);\n"}),El={kernelName:u.RQH,backendName:"webgl",kernelFunc:Ml},Nl=ti({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),Rl={kernelName:u.wYB,backendName:"webgl",kernelFunc:Nl},Pl=ti({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),Ol={kernelName:u.MRv,backendName:"webgl",kernelFunc:Pl},Ll={kernelName:u.TQc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.blockShape,o=r.paddings;u.D5U.assert(i.shape.length<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var s=a.reduce((function(e,t){return e*t})),l=[[0,0]];l.push.apply(l,(0,c.Z)(o));for(var d=1+a.length;d<i.shape.length;++d)l.push([0,0]);var f=[],h=zu({inputs:{x:i},backend:n,attrs:{paddings:l,constantValue:0}}),p=u.Wap.getReshaped(h.shape,a,s,!1),m=u.Wap.getPermuted(p.length,a.length,!1),g=u.Wap.getReshapedPermuted(h.shape,a,s,!1),v=di({inputs:{x:h},backend:n,attrs:{shape:p}}),y=wi({inputs:{x:v},backend:n,attrs:{perm:m}}),x=di({inputs:{x:y},backend:n,attrs:{shape:g}});return f.push(h),f.push(v),f.push(y),f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),x}};var Fl={kernelName:u.O3z,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,i=t.values,a=t.denseShape,o=t.defaultValue;if(1!==a.shape.length)throw new Error("Dense shape must be a vector, saw:\n         ".concat(a.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n         ".concat(r.shape));if(1!==i.shape.length)throw new Error("Values must be a vector, saw:\n         ".concat(i.shape));if(0!==o.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(o.shape));var s=n.readSync(r.dataId),u=n.readSync(i.dataId),c=n.readSync(a.dataId),d=n.readSync(o.dataId)[0],f=$n(s,r.shape,r.dtype,u,i.dtype,c,d),h=(0,l.Z)(f,5),p=h[0],m=h[1],g=h[2],v=h[3],y=h[4];return[n.makeTensorInfo(m,r.dtype,p),n.makeTensorInfo([m[0]],i.dtype,g),n.makeTensorInfo([v.length],"bool",new Uint8Array(v.map((function(e){return Number(e)})))),n.makeTensorInfo([y.length],r.dtype,new Int32Array(y))]}};var Zl={kernelName:u.nhH,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,i=t.inputShape,a=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape ".concat(r.shape));if(1!==i.shape.length)throw new Error("Input shape should be a vector but received shape ".concat(i.shape));if(1!==a.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(a.shape));var o=Array.from(n.readSync(i.dataId)),s=n.readSync(r.dataId),u=Array.from(n.readSync(a.dataId)),c=er(s,r.shape,r.dtype,o,u),d=(0,l.Z)(c,3),f=d[0],h=d[1],p=d[2];return[n.makeTensorInfo(h,r.dtype,f),n.makeTensorInfo([p.length],a.dtype,new Int32Array(p))]}};var Bl={kernelName:u.w3H,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,i=t.indices,a=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n              ".concat(i.shape));if(1!==a.shape.length)throw new Error("Segment ids should be a vector but received shape\n              ".concat(a.shape));var o=n.readSync(r.dataId),s=n.readSync(i.dataId),u=n.readSync(a.dataId),c=tr(o,r.shape,r.dtype,s,u,!0),d=(0,l.Z)(c,2),f=d[0],h=d[1];return n.makeTensorInfo(h,r.dtype,f)}};var zl={kernelName:u.ZjV,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,i=t.indices,a=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n             ".concat(i.shape));if(1!==a.shape.length)throw new Error("Segment ids should be a vector but received shape\n             ".concat(a.shape));var o=n.readSync(r.dataId),s=n.readSync(i.dataId),u=n.readSync(a.dataId),c=tr(o,r.shape,r.dtype,s,u),d=(0,l.Z)(c,2),f=d[0],h=d[1];return n.makeTensorInfo(h,r.dtype,f)}};var Vl={kernelName:u.D2d,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.sparseIndices,a=t.sparseValues,o=t.defaultValue,s=r.outputShape,l=u.Wap.calculateShapes(a,i,s),c=l.sliceRank,d=l.numUpdates,f=l.sliceSize,h=l.strides,p=l.outputSize;if("string"===a.dtype){var m=n.bufferSync(i),g=n.bufferSync(a),v=u.D5U.decodeString(n.readSync(o.dataId)[0]),y=Yn(m,g,s,p,f,d,c,h,v,false);return n.makeTensorInfo(s,y.dtype,y.values)}var x=new yl(d,c,i.shape.length,a.shape.length,h,[p,1],false),b=n.runWebGLProgram(x,[a,i,o],a.dtype),w=di({inputs:{x:b},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(b),w}};var jl={kernelName:u.L8s,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.numOrSizeSplits,o=r.axis,s=u.D5U.parseAxisParam(o,i.shape)[0],l=u.Wap.prepareSplitSize(i,a,s),d=i.shape.length,f=new Array(d).fill(0),h=i.shape.slice();return l.map((function(e){var t=(0,c.Z)(h);t[s]=e;var r=va({inputs:{x:i},backend:n,attrs:{begin:f,size:t}});return f[s]+=e,r}))}},Wl="return sqrt(x);",Ul=ti({opSnippet:Wl,packedOpSnippet:Wl,cpuKernelImpl:nr}),Hl={kernelName:u.FKq,backendName:"webgl",kernelFunc:Ul},Gl=ti({opSnippet:"return x * x;"}),Xl={kernelName:u.bK0,backendName:"webgl",kernelFunc:Gl},ql="return (a - b) * (a - b);",Yl=ni({opSnippet:ql,packedOpSnippet:ql}),Kl={kernelName:u._tC,backendName:"webgl",kernelFunc:Yl};var Ql={kernelName:u.h8e,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.x,a=wr+"\n    return x > 0.0 ? 1.0 : float(".concat(n.alpha,");\n  "),o=new br(i.shape,a);return r.runWebGLProgram(o,[i],i.dtype)}},Jl=(0,h.Z)((function e(t,n,r){(0,f.Z)(this,e),this.variableNames=["x"],this.outputShape=r;var i=r.length,a=Ye(r.length),o=Ye(r.length),s="";if(1===i)s="coords * strides + begin";else{var u=0;s=r.map((function(e,t){return u++,1===r.length?"coords * strides[".concat(t,"] + begin[").concat(t,"]"):"coords[".concat(u-1,"] * strides[").concat(t,"] + begin[").concat(t,"]")})).join(",")}this.userCode="\n      ".concat(a," begin = ").concat(a,"(").concat(t,");\n      ").concat(a," strides = ").concat(a,"(").concat(n,");\n\n      void main() {\n        ").concat(o," coords = getOutputCoords();\n        setOutput(getX(").concat(s,"));\n      }\n    ")}));var $l={kernelName:u.jQk,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=i.begin,s=i.end,l=i.strides,c=i.beginMask,d=i.endMask,f=i.ellipsisMask,h=i.newAxisMask,p=i.shrinkAxisMask,m=u.kuN.sliceInfo(a.shape,o,s,l,c,d,f,h,p),g=m.finalShapeSparse,v=m.finalShape,y=m.isIdentity,x=m.sliceDim0,b=m.isSimpleSlice,w=m.begin,_=m.end,S=m.strides;if(y)t=di({inputs:{x:a},backend:r,attrs:{shape:v}});else if(x||b){u.D5U.assert(a.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(a.shape.length)}));var C=u.kuN.computeOutShape(w,_,S),k=va({inputs:{x:a},backend:r,attrs:{begin:w,size:C}});t=di({inputs:{x:k},backend:r,attrs:{shape:v}}),r.disposeIntermediateTensorInfo(k)}else{if(r.shouldExecuteOnCPU([a])){var D=r.readSync(a.dataId),T=(0,u.f3b)(a.shape,a.dtype,D),I=rr(g,T,S,w);t=r.makeTensorInfo(v,a.dtype,I.values)}else{var A=new Jl(w,S,g);t=r.runWebGLProgram(A,[a],a.dtype)}}var M=di({inputs:{x:t},backend:r,attrs:{shape:v}});return r.disposeIntermediateTensorInfo(t),M}};var ec={kernelName:u._JP,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=r.separator,a=r.nGramWidths,o=r.leftPad,s=r.rightPad,u=r.padWidth,c=r.preserveShortSequences,d=t.data,f=t.dataSplits,h=n.readSync(d.dataId),p=n.readSync(f.dataId),m=ir(h,p,i,a,o,s,u,c),g=(0,l.Z)(m,2),v=g[0],y=g[1];return[n.makeTensorInfo([v.length],"string",v),n.makeTensorInfo(f.shape,"int32",y)]}};var tc={kernelName:u.s1s,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,i=t.input,a=t.delimiter;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(1!==i.shape.length)throw new Error("Input must be a vector, got shape: ".concat(i.shape));if(0!==a.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(a.shape));var o=n.readSync(i.dataId),s=n.readSync(a.dataId)[0],u=ar(o,s,r),c=(0,l.Z)(u,3),d=c[0],f=c[1],h=c[2],p=f.length;return[n.makeTensorInfo([p,2],"int32",d),n.makeTensorInfo([p],"string",f),n.makeTensorInfo([2],"int32",new Int32Array(h))]}};var nc={kernelName:u.XkS,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,i=t.input;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var a=n.readSync(i.dataId),o=or(a,r);return n.makeTensorInfo(i.shape,"int32",o)}},rc=ti({opSnippet:"return tan(x);"}),ic={kernelName:u.sEM,backendName:"webgl",kernelFunc:rc},ac=ti({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),oc={kernelName:u.MIZ,backendName:"webgl",kernelFunc:ac},sc=(0,h.Z)((function e(t,n){(0,f.Z)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),i=0;i<r.length;i++)r[i]=t[i]*n[i];this.outputShape=r,this.rank=r.length;var a=Ye(this.rank),o=function(e){var t=e.length;if(t>5)throw Error("Tile for rank ".concat(t," is not yet supported"));if(1===t)return"imod(resRC, ".concat(e[0],")");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],i=0;i<e.length;i++)r.push("imod(".concat(n[i],", ").concat(e[i],")"));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(a," resRC = getOutputCoords();\n        setOutput(getA(").concat(o,"));\n      }\n    ")}));function uc(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.reps;if("string"===i.dtype||i.shape.length>5){var o=n.readSync(i.dataId),s="string"===i.dtype?o.map((function(e){return u.D5U.decodeString(e)})):o,l=(0,u.f3b)(i.shape,i.dtype,s),c=ur(l,a);return n.makeTensorInfo(c.shape,c.dtype,c.values)}var d=new sc(i.shape,a);return n.runWebGLProgram(d,[i],i.dtype)}var lc={kernelName:u.n9L,backendName:"webgl",kernelFunc:uc},cc=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "})),dc=(0,h.Z)((function e(t){(0,f.Z)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}));function fc(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function hc(e){for(var t=1;t<e;)t*=2;return t}var pc={kernelName:u.cWu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.k,o=r.sorted,s=(0,u.OBj)().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),c=(0,u.OBj)().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),d=i.shape,f=d[d.length-1];if(n.shouldExecuteOnCPU([i])||f<s||a>c){var h=n.readSync(i.dataId),p=lr(h,d,i.dtype,a,o),m=(0,l.Z)(p,2),g=m[0],v=m[1];return[n.makeTensorInfo(g.shape,g.dtype,g.values),n.makeTensorInfo(v.shape,v.dtype,v.values)]}if(0===a)return d[d.length-1]=0,[n.makeTensorInfo(d,i.dtype,[]),n.makeTensorInfo(d,"int32",[])];if(1===f)return[i,$o({attrs:{shape:d,dtype:"int32",value:0},backend:n})];var y=n.texData.get(i.dataId),x=null!==y&&y.isPacked,b=x?n.unpackTensor(i):i,w=u.D5U.sizeFromShape(d)/f,_=di({inputs:{x:b},attrs:{shape:[w,f]},backend:n});x&&fc(n,b);for(var S=hc(a),C=hc(f),k=null,D=function(){return null===k?[_,_]:[_,k]},T=function(e,t,r){var i=D(),a=new cc(r),o=[[f],[null===k?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],s=k;k=n.runWebGLProgram(a,i,"int32",o),fc(n,s)},I=1;I<S;I*=2)for(var A=2*I,M=I;M>=1;M/=2)T(A,M,[w,C]);for(var E=C;E>S;E/=2){var N=D(),R=new dc([w,E/2]),P=[[f],[null===k?1:0],[S]],O=k;k=n.runWebGLProgram(R,N,"int32",P),fc(n,O);for(var L=S/2,F=2*L,Z=L;Z>=1;Z/=2)T(F,Z,k.shape)}var B=k;k=va({inputs:{x:k},backend:n,attrs:{begin:0,size:[w,a]}}),fc(n,B);var z=vs({inputs:{x:_,indices:k},backend:n,attrs:{axis:1,batchDims:1}});fc(n,_);var V=d.slice(0,-1);V.push(a),B=k,k=di({inputs:{x:k},attrs:{shape:V},backend:n}),fc(n,B);var j=z;return z=di({inputs:{x:z},attrs:{shape:V},backend:n}),fc(n,j),[z,k]}},mc=(0,h.Z)((function e(t,n,r,i,a,o){(0,f.Z)(this,e),this.variableNames=["Image","Transforms"],this.outputShape=o;var s,u="nearest"===r?1:2;switch(i){case"constant":default:s=1;break;case"reflect":s=2;break;case"wrap":s=3;break;case"nearest":s=4}this.userCode="\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(".concat(s," == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ").concat(t," && 0 <= coordX && coordX < ").concat(n,") {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(").concat(a,");\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(").concat(a,");\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(").concat(n,"));\n                float mapY = mapCoord(inY, float(").concat(t,"));\n\n                if (").concat(u," == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        ")}));var gc={kernelName:u.wx7,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.image,a=t.transforms,o=r.interpolation,s=r.fillMode,u=r.fillValue,c=r.outputShape,d=(0,l.Z)(i.shape,4),f=d[0],h=d[1],p=d[2],m=d[3],g=null!=c?c:[h,p],v=(0,l.Z)(g,2),y=v[0],x=v[1],b=new mc(h,p,o,s,u,[f,y,x,m]);return n.runWebGLProgram(b,[i,a],"float32")}};var vc={kernelName:u.kpP,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=n.axis,a=t.x;_e(a,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");var o=r.readSync(a.dataId),s=dr(o,i,a.shape,a.dtype),u=s.outputValues,l=s.outputShape,c=s.indices;return[r.makeTensorInfo(l,a.dtype,u),r.makeTensorInfo([c.length],"int32",c)]}};var yc={kernelName:u.ToN,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.value,a=r.axis;a<0&&(a+=i.shape.length);for(var o=i,s=o.shape.length,u=i.shape[a],l=new Array(s-1),c=0,d=0;d<s;d++)d!==a&&(l[c++]=o.shape[d]);var f=[],h=new Array(s).fill(0),p=o.shape.slice();p[a]=1;for(var m=new Array(u),g=0;g<m.length;g++){h[a]=g;var v=va({inputs:{x:o},backend:n,attrs:{begin:h,size:p}}),y=di({inputs:{x:v},backend:n,attrs:{shape:l}});m[g]=y,f.push(v)}return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),m}},xc=(0,h.Z)((function e(t,n){(0,f.Z)(this,e),this.variableNames=["x","segmentIds"];var r=t.windowSize,i=t.batchSize,a=t.inSize,o=t.numSegments,s=o*Math.ceil(a/r);this.outputShape=[i,s];var u=4*Math.floor(r/4),l=r%4,c="\n        sumValue += dot(values, segFilter);\n    ",d="";a%r>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(a,") {\n          return initializationValue;\n        }\n      "));var h="";a%r>0&&(h="\n        if (inIdx < 0 || inIdx >= ".concat(a,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat("0.0",";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(d,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(h,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(o,")) * float(").concat(r,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(o,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(u,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(c,"\n        }\n\n        int inIdx = inOffset + ").concat(u,";\n        if (").concat(1===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(c,"\n        } else if (").concat(2===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(c,"\n        } else if (").concat(3===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(c,"\n        }\n        setOutput(").concat("sumValue",");\n      }\n    ")}));for(var bc=0,wc=[Ci,Di,Ii,Mi,Ri,Li,Fi,Zi,Ui,Hi,Xi,Yi,Qi,$i,ta,ia,aa,ua,la,ca,ha,xa,ba,wa,Da,Aa,Na,qr,Oa,Wa,Ya,eo,to,no,ro,ao,so,lo,fo,vo,yo,xo,wo,Co,To,Io,Mo,No,Po,Lo,Fo,Bo,Vo,Wo,Ho,qo,Qo,ts,rs,os,us,ds,fs,hs,ms,ys,bs,_s,Gr,Ss,za,ks,Ts,As,Qr,Es,Rs,Ps,Ls,Zs,zs,js,Us,Xs,Ys,Qs,$s,eu,tu,iu,au,ou,su,uu,cu,hu,mu,Cu,ci,ku,Tu,Au,Eu,Sa,Ru,Lu,Fu,Vu,Wu,ei,Uu,Gu,ka,yu,qu,Ku,Ju,fi,tl,rl,ol,ul,dl,hl,ml,vl,xl,wl,Sl,kl,Tl,Al,El,Rl,ya,Su,Ol,Ll,Fl,Zl,Bl,zl,Vl,jl,Hl,Xl,Kl,Ql,$l,ec,tc,nc,wu,bi,ic,oc,lc,pc,gc,_i,vc,yc,{kernelName:u.Qvg,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.segmentIds,o=r.numSegments,s=i.shape.length,l=[],c=0,d=u.Wap.getAxesPermutation([c],s),f=i;null!=d&&(f=wi({inputs:{x:i},backend:n,attrs:{perm:d}}),l.push(f),c=u.Wap.getInnerMostAxes(1,s)[0]);var h=u.Wap.segment_util.computeOutShape(f.shape,c,o),p=u.D5U.sizeFromShape([f.shape[c]]),m=di({inputs:{x:f},backend:n,attrs:{shape:[-1,p]}});l.push(m);var g=function e(t,r,i,a,o){var s=t.shape[0],c=t.shape[1],d=u.Wap.segment_util.segOpComputeOptimalWindowSize(c,o),f=new xc({windowSize:d,inSize:c,batchSize:s,numSegments:o},r),h=n.compileAndRun(f,[t,i],a);if(l.push(h),h.shape[1]===o)return h;var p=Hu({backend:n,attrs:{start:0,stop:o,step:1,dtype:"float32"}}),m=uc({inputs:{x:p},backend:n,attrs:{reps:[c/d]}});return l.push(p),l.push(m),e(h,r,m,a,o)}(m,"unsortedSegmentSum",a,(0,u.z4k)(i.dtype),o),v=di({inputs:{x:g},backend:n,attrs:{shape:h}}),y=v;if(null!=d){l.push(v);var x=u.Wap.getUndoAxesPermutation(d);y=wi({inputs:{x:y},backend:n,attrs:{perm:x}})}return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),y}},Ou];bc<wc.length;bc++){var _c=wc[bc];(0,u.wCN)(_c)}},54679:function(e,t,n){"use strict";n.d(t,{JL:function(){return a},Zu:function(){return o}});var r=n(15671),i=n(43144),a=function(){function e(t,n){(0,r.Z)(this,e),this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return(0,i.Z)(e,[{key:"get",value:function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}},{key:"set",value:function(e,t){this.dataIdsCount++,this.data.set(e,t)}},{key:"has",value:function(e){return this.data.has(e)}},{key:"delete",value:function(e){return this.dataIdsCount--,this.data.delete(e)}},{key:"numDataIds",value:function(){return this.dataIdsCount}}]),e}(),o=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"refCount",value:function(e){return s("refCount")}},{key:"incRef",value:function(e){return s("incRef")}},{key:"timerAvailable",value:function(){return!0}},{key:"time",value:function(e){return s("time")}},{key:"read",value:function(e){return s("read")}},{key:"readSync",value:function(e){return s("readSync")}},{key:"readToGPU",value:function(e,t){return s("readToGPU")}},{key:"numDataIds",value:function(){return s("numDataIds")}},{key:"disposeData",value:function(e,t){return s("disposeData")}},{key:"write",value:function(e,t,n){return s("write")}},{key:"move",value:function(e,t,n,r,i){return s("move")}},{key:"memory",value:function(){return s("memory")}},{key:"floatPrecision",value:function(){return s("floatPrecision")}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"dispose",value:function(){return s("dispose")}}]),e}();function s(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}},60745:function(e,t,n){"use strict";n.d(t,{GP:function(){return o},qP:function(){return s},pA:function(){return u}});var r=n(93433);function i(e,t,n){var r=function(e,t,n){return function(e,t,n){var r=0,i=e.length,a=0,o=!1;for(;r<i;){var s=n(t,e[a=r+(i-r>>>1)]);s>0?r=a+1:(i=a,o=!s)}return o?r:-r-1}(e,t,n||a)}(e,t,n),i=r<0?-(r+1):r;e.splice(i,0,t)}function a(e,t){return e>t?1:e<t?-1:0}function o(e,t,n,r,i){return l(e,t,n,r,i,0)}function s(e,t,n,r,i,a){return l(e,t,n,r,i,0,!1,a,!0)}function u(e,t,n,r,i,a){return l(e,t,n,r,i,a,!0)}function l(e,t,n,a,o,s){for(var u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],h=arguments.length>8&&void 0!==arguments[8]&&arguments[8],p=[],m=0;m<t.length;m++)t[m]>o&&p.push({score:t[m],boxIndex:m,suppressBeginIndex:0});p.sort(f);for(var g=s>0?-.5/s:0,v=[],y=[];v.length<n&&p.length>0;){var x=p.pop(),b=x.score,w=x.boxIndex,_=x.suppressBeginIndex;if(b<o)break;for(var S=!1,C=v.length-1;C>=_;--C){var k=c(e,w,v[C]);if(k>=a){S=!0;break}if(x.score=x.score*d(a,g,k),x.score<=o)break}x.suppressBeginIndex=v.length,S||(x.score===b?(v.push(w),y.push(x.score)):x.score>o&&i(p,x,f))}var D=v.length,T=n-D;l&&T>0&&(v.push.apply(v,(0,r.Z)(new Array(T).fill(0))),y.push.apply(y,(0,r.Z)(new Array(T).fill(0))));var I={selectedIndices:v};return u&&(I.selectedScores=y),h&&(I.validOutputs=D),I}function c(e,t,n){var r=e.subarray(4*t,4*t+4),i=e.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),l=Math.min(i[0],i[2]),c=Math.min(i[1],i[3]),d=Math.max(i[0],i[2]),f=Math.max(i[1],i[3]),h=(s-a)*(u-o),p=(d-l)*(f-c);if(h<=0||p<=0)return 0;var m=Math.max(a,l),g=Math.max(o,c),v=Math.min(s,d),y=Math.min(u,f),x=Math.max(v-m,0)*Math.max(y-g,0);return x/(h+p-x)}function d(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function f(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}},24189:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(77039);function i(e,t){for(var n=[],i=0;i<t.length;i++)t[i]&&n.push(i);for(var a=(0,r.f)(e,"int32"),o=(0,r.f)([n.length,e.length],"int32"),s=0;s<n.length;s++){var u=a.indexToLoc(n[s]),l=s*e.length;o.values.set(u,l)}return o.toTensor()}},70318:function(e,t,n){"use strict";n.d(t,{BV:function(){return A},wv:function(){return I}});var r=n(37762),i=n(93433),a=n(15861),o=n(15671),s=n(43144),u=n(87757),l=n.n(u),c=n(54679),d=n(35050),f=n(96581),h=n(32145),p=n(78864),m=n(17269),g=n(70115),v=n(36147),y=function(){function e(t,n){(0,o.Z)(this,e),this.backendTimer=t,this.logger=n,null==n&&(this.logger=new x)}return(0,s.Z)(e,[{key:"profileKernel",value:function(e,t,n){var i,a,o=function(){i=n()},s=g.now();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(o);else{o();var u,l=(0,r.Z)(i);try{for(l.s();!(u=l.n()).done;){u.value.dataSync()}}catch(h){l.e(h)}finally{l.f()}a=Promise.resolve({kernelMs:g.now()-s})}if((0,d.OB)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var c=function(t){var n=i[t];n.data().then((function(t){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var i=e[r];if(isNaN(i)||!isFinite(i))return console.warn("Found ".concat(i," in the result of '").concat(n,"'")),!0}}(t,n.dtype,e)}))},f=0;f<i.length;f++)c(f);return{kernelName:e,outputs:i,inputs:t,timeMs:a.then((function(e){return e.kernelMs})),extraInfo:a.then((function(e){return null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""}))}}},{key:"logKernelProfile",value:function(e){var t=this,n=e.kernelName,r=e.outputs,i=e.timeMs,a=e.inputs,o=e.extraInfo;r.forEach((function(e){Promise.all([e.data(),i,o]).then((function(r){t.logger.logKernelProfile(n,e,r[0],r[1],a,r[2])}))}))}}]),e}();var x=function(){function e(){(0,o.Z)(this,e)}return(0,s.Z)(e,[{key:"logKernelProfile",value:function(e,t,n,r,i,a){var o="number"===typeof r?v.oj("".concat(r,"ms"),9):r.error,s=v.oj(e,25),u=t.rank,l=t.size,c=v.oj(t.shape.toString(),14),d="";for(var f in i){var h=i[f];if(null!=h){var p=h.shape||t.shape,m=p.length;d+="".concat(f,": ").concat(m,"D ").concat(m>0?p:""," ")}}console.log("%c".concat(s,"\t%c").concat(o,"\t%c").concat(u,"D ").concat(c,"\t%c").concat(l,"\t%c").concat(d,"\t%c").concat(a),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}]),e}();function b(e,t,n){for(var r={},i={},a=0;a<t.length;a++)r[t[a].id]=!0;for(var o=0;o<e.length;o++){var s=e[o],u=s.inputs;for(var l in u){for(var c=u[l],d=!1,f=0;f<t.length;f++)if(r[c.id]){s.outputs.forEach((function(e){return r[e.id]=!0})),d=!0,i[s.id]=!0;break}if(d)break}}var h={};h[n.id]=!0;for(var p={},m=e.length-1;m>=0;m--)for(var g=e[m],v=g.inputs,y=0;y<g.outputs.length;y++)if(h[g.outputs[y].id]){for(var x in v)h[v[x].id]=!0,p[g.id]=!0;break}for(var b=[],w=0;w<e.length;w++){var _=e[w];if(i[_.id]&&p[_.id]){var S={};for(var C in _.inputs){var k=_.inputs[C];r[k.id]&&(S[C]=k)}var D=Object.assign({},_);D.inputs=S,D.outputs=_.outputs,b.push(D)}}return b}function w(e,t,n,r){for(var i=function(i){var a=t[i],o=[];if(a.outputs.forEach((function(t){var n=e[t.id];null!=n?o.push(n):o.push(null)})),null==a.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(a.kernelName,"."));var s=a.gradient(o),u=function(t){if(!(t in s))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(s),"."));var i=n((function(){return s[t]()}));if("float32"!==i.dtype)throw new Error("Error in gradient for op ".concat(a.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(i.dtype,"'"));var o=a.inputs[t];if(!v.cO(i.shape,o.shape))throw new Error("Error in gradient for op ".concat(a.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(i.shape,"', which does not match ")+"the shape of the input '".concat(o.shape,"'"));if(null==e[o.id])e[o.id]=i;else{var u=e[o.id];e[o.id]=r(u,i),u.dispose()}};for(var l in a.inputs)u(l)},a=t.length-1;a>=0;a--)i(a)}var _=n(4376),S=n(99064);function C(e){return null!=e.kernelName}var k=function(){function e(){(0,o.Z)(this,e),this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((function(e){return e.name}))))}}}return(0,s.Z)(e,[{key:"dispose",value:function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()}}]),e}(),D=function(){function e(t){(0,o.Z)(this,e),this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new k}return(0,s.Z)(e,[{key:"ready",value:function(){var e=(0,a.Z)(l().mark((function e(){var t,n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.pendingBackendInit){e.next=2;break}return e.abrupt("return",this.pendingBackendInit.then((function(){})));case 2:if(null==this.backendInstance){e.next=4;break}return e.abrupt("return");case 4:t=this.getSortedBackends(),n=0;case 6:if(!(n<t.length)){e.next=18;break}return r=t[n],e.next=10,this.initializeBackend(r).success;case 10:if(!e.sent){e.next=15;break}return e.next=14,this.setBackend(r);case 14:return e.abrupt("return");case 15:n++,e.next=6;break;case 18:throw new Error("Could not initialize any backends, all backend initializations failed.");case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"backend",get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '".concat(t,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance}},{key:"backendNames",value:function(){return Object.keys(this.registryFactory)}},{key:"findBackend",value:function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]}},{key:"findBackendFactory",value:function(e){return e in this.registryFactory?this.registryFactory[e].factory:null}},{key:"registerBackend",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(m.Z("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}},{key:"setBackend",value:function(){var e=(0,a.Z)(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.registryFactory[t]){e.next=2;break}throw new Error("Backend name '".concat(t,"' not found in registry"));case 2:if(this.backendName=t,null!=this.registry[t]){e.next=16;break}if(this.backendInstance=null,n=this.initializeBackend(t),r=n.success,!n.asyncInit){e.next=12;break}return e.next=9,r;case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=r;case 13:if(e.t0){e.next=16;break}return e.abrupt("return",!1);case 16:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new y(this.backendInstance),e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupRegisteredKernels",value:function(){var e=this;(0,p.tr)(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))}},{key:"disposeRegisteredKernels",value:function(e){var t=this;(0,p.tr)(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))}},{key:"initializeBackend",value:function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{var r=n.factory();if(!r||r instanceof c.Zu||"function"!==typeof r.then)return this.registry[e]=r,{success:!0,asyncInit:!1};var i=++this.pendingBackendInitId,a=r.then((function(n){return!(i<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)})).catch((function(n){return i<t.pendingBackendInitId||(t.pendingBackendInit=null,m.Z("Initialization of backend ".concat(e," failed")),m.Z(n.stack||n.message)),!1}));return this.pendingBackendInit=a,{success:a,asyncInit:!0}}catch(o){return m.Z("Initialization of backend ".concat(e," failed")),m.Z(o.stack||o.message),{success:!1,asyncInit:!1}}}},{key:"removeBackend",value:function(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}},{key:"getSortedBackends",value:function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))}},{key:"initializeBackendsAndReturnBest",value:function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),i=r.success,a=r.asyncInit;if(a||i)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")}},{key:"moveData",value:function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,i=this.readSync(t),a=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,i,n.shape,n.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}},{key:"tidy",value:function(e,t){var n,r=this,i=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=e}return this.scopedRun((function(){return r.startScope(i)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))}},{key:"scopedRun",value:function(e,t,n){e();try{var r=n();return t(),r}catch(i){throw t(),i}}},{key:"nextTensorId",value:function(){return e.nextTensorId++}},{key:"nextVariableId",value:function(){return e.nextVariableId++}},{key:"clone",value:function(e){var t=A.runKernel(h.iJ,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){var t={x:e},n={dtype:"float32"};return A.runKernel(h.RF,t,n)}}}),[],{}),t}},{key:"runKernel",value:function(e,t,n){if(null==this.backendName&&this.backend,!(null!=(0,p.pI)(e,this.backendName)))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}},{key:"shouldCheckForMemLeaks",value:function(){return this.ENV.getBool("IS_TEST")}},{key:"checkKernelForMemLeak",value:function(e,t,n){var r=this.backend.numDataIds(),i=0;n.forEach((function(e){i+="complex64"===e.dtype?3:1}));var a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-i-a;if(o>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(o," data ids) after running '").concat(e,"'"))}},{key:"runKernelFunc",value:function(e){var t,n,r,i=this,a=[],o=this.isTapeOn(),s=this.state.numBytes,u=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;var l=C(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(C(e)){var c=e.kernelName,d=e.inputs,f=e.attrs;null==this.backendName&&this.backend;var h=(0,p.pI)(c,this.backendName);v.hu(null!=h,(function(){return"Cannot find registered kernel '".concat(c,"' for backend '").concat(i.backendName,"'")})),n=function(){var e=i.backend.numDataIds();r=h.kernelFunc({inputs:d,attrs:f,backend:i.backend});var t=Array.isArray(r)?r:[r];i.shouldCheckForMemLeaks()&&i.checkKernelForMemLeak(c,e,t);var n=t.map((function(e){return null!=e.rank?e:i.makeTensorFromTensorInfo(e)}));if(o){var s=i.getTensorsForGradient(c,d,n);a=i.saveTensorsForBackwardMode(s)}return n}}else{var m=e.forwardFunc,g=function(e){o&&(a=e.map((function(e){return i.keep(i.clone(e))})))};n=function(){var e=i.backend.numDataIds();r=i.tidy((function(){return m(i.backend,g)}));var t=Array.isArray(r)?r:[r];return i.shouldCheckForMemLeaks()&&i.checkKernelForMemLeak(l,e,t),t}}var y,x=e.inputs,b=e.attrs,w=C(e)?null:e.backwardsFunc;return this.scopedRun((function(){return i.state.kernelDepth++}),(function(){return i.state.kernelDepth--}),(function(){i.ENV.getBool("DEBUG")||i.state.profiling?(y=i.profiler.profileKernel(l,x,(function(){return n()})),i.ENV.getBool("DEBUG")&&i.profiler.logKernelProfile(y),t=y.outputs):t=n()})),o&&this.addTapeNode(l,x,t,w,a,b),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-u,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(x).map((function(e){return null!=x[e]?x[e].shape:null})),outputShapes:t.map((function(e){return e.shape})),kernelTimeMs:y.timeMs,extraInfo:y.extraInfo}),Array.isArray(r)?t:t[0]}},{key:"saveTensorsForBackwardMode",value:function(e){var t=this,n=e.map((function(e){return t.keep(t.clone(e))}));return n}},{key:"getTensorsForGradient",value:function(e,t,n){var r=(0,p.uk)(e);if(null!=r){var i,a=r.inputsToSave||[],o=r.outputsToSave||[];r.saveAllInputs?(v.hu(Array.isArray(t),(function(){return"saveAllInputs is true, expected inputs to be an array."})),i=Object.keys(t).map((function(e){return t[e]}))):i=a.map((function(e){return t[e]}));var s=n.filter((function(e,t){return o[t]}));return i.concat(s)}return[]}},{key:"makeTensor",value:function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var i=e;"string"===n&&v.HD(e[0])&&(i=e.map((function(e){return g.encodeString(e)})));var a=r.write(i,t,n),o=new _.es(t,n,a,this.nextTensorId());if(this.trackTensor(o,r),"string"===n){var s=this.state.tensorInfo.get(a),u=(0,v.Ub)(i);this.state.numBytes+=u-s.bytes,s.bytes=u}return o}},{key:"makeTensorFromDataId",value:function(e,t,n,r){var i={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(i,r)}},{key:"makeTensorFromTensorInfo",value:function(e,t){var n=e.dataId,r=e.shape,i=e.dtype,a=new _.es(r,i,n,this.nextTensorId());return this.trackTensor(a,t),a}},{key:"makeVariable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));var i=new _._w(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[i.name])throw new Error("Variable with name ".concat(i.name," was already registered"));return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}},{key:"trackTensor",value:function(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;var n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*v.bT(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof _._w||this.track(e)}},{key:"incRef",value:function(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}},{key:"removeDataId",value:function(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}},{key:"disposeTensor",value:function(e){if(this.state.tensorInfo.has(e.dataId)){var t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){var n=e.size*v.bT(e.dtype);this.state.numBytes-=n}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}}},{key:"disposeVariables",value:function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}}},{key:"disposeVariable",value:function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}},{key:"memory",value:function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}},{key:"profile",value:function(){var e=(0,a.Z)(l().mark((function e(t){var n,a,o,s,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.profiling=!0,n=this.state.numBytes,a=this.state.numTensors,this.state.activeProfile.kernels=[],e.next=6,t();case 6:this.state.activeProfile.result=e.sent,this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,(0,i.Z)(this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot})))),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-a,o=(0,r.Z)(this.state.activeProfile.kernels),e.prev=12,o.s();case 14:if((s=o.n()).done){e.next=24;break}return u=s.value,e.next=18,u.kernelTimeMs;case 18:return u.kernelTimeMs=e.sent,e.next=21,u.extraInfo;case 21:u.extraInfo=e.sent;case 22:e.next=14;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(12),o.e(e.t0);case 29:return e.prev=29,o.f(),e.finish(29);case 32:return e.abrupt("return",this.state.activeProfile);case 33:case"end":return e.stop()}}),e,this,[[12,26,29,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isTapeOn",value:function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}},{key:"addTapeNode",value:function(e,t,n,r,i,a){var o=this,s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:i},u=(0,p.uk)(e);null!=u&&(r=u.gradFunc),null!=r&&(s.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],i=v.wT(r.size,r.dtype);return o.makeTensor(i,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],i,a)}),this.state.activeTape.push(s)}},{key:"keep",value:function(e){return e.kept=!0,e}},{key:"startTape",value:function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}},{key:"endTape",value:function(){this.state.gradientDepth--}},{key:"startScope",value:function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}},{key:"endScope",value:function(e){for(var t=this,n=(0,S.getTensorsInContainer)(e),r=new Set(n.map((function(e){return e.id}))),i=0;i<this.state.activeScope.track.length;i++){var a=this.state.activeScope.track[i];a.kept||r.has(a.id)||a.dispose()}var o=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==o.id||t.track(e)}))}},{key:"gradients",value:function(e,t,n){var i=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(v.hu(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));var o=this.scopedRun((function(){return i.startTape()}),(function(){return i.endTape()}),(function(){return i.tidy("forward",e)}));v.hu(o instanceof _.es,(function(){return"The result y returned by f() must be a tensor."}));var s=b(this.state.activeTape,t,o);if(!a&&0===s.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e={};e[o.id]=null==n?T(o.shape):n,w(e,s,(function(e){return i.tidy(e)}),M);var a=t.map((function(t){return e[t.id]}));return 0===i.state.gradientDepth&&(i.state.activeTape.forEach((function(e){var t,n=(0,r.Z)(e.saved);try{for(n.s();!(t=n.n()).done;){t.value.dispose()}}catch(i){n.e(i)}finally{n.f()}})),i.state.activeTape=null),{value:o,grads:a}}))}},{key:"customGrad",value:function(e){var t=this;return v.hu(v.mf(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a;v.hu(r.every((function(e){return e instanceof _.es})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var o={};r.forEach((function(e,t){o[t]=e}));var s=function(t,n){return a=e.apply(void 0,[].concat(r,[n])),v.hu(a.value instanceof _.es,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),v.hu(v.mf(a.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),a.value},u=function(e,t){var n=a.gradFunc(e,t),i=Array.isArray(n)?n:[n];v.hu(i.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),v.hu(i.every((function(e){return e instanceof _.es})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var o={};return i.forEach((function(e,t){o[t]=function(){return e}})),o};return t.runKernelFunc({forwardFunc:s,backwardsFunc:u,inputs:o})}}},{key:"readSync",value:function(e){return this.state.tensorInfo.get(e).backend.readSync(e)}},{key:"read",value:function(e){return this.state.tensorInfo.get(e).backend.read(e)}},{key:"readToGPU",value:function(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}},{key:"time",value:function(){var e=(0,a.Z)(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,g.now)(),e.next=3,this.backend.time(t);case 3:return(r=e.sent).wallMs=(0,g.now)()-n,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"track",value:function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}},{key:"registeredVariables",get:function(){return this.state.registeredVariables}},{key:"reset",value:function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new k,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}]),e}();function T(e){var t=(0,v.p8)((0,v.NA)(e),"float32");return A.makeTensor(t,e,"float32")}function I(){var e=(0,f.D)();if(null==e._tfengine){var t=new d.qA(e);e._tfengine=new D(t)}return(0,d.iG)(e._tfengine.ENV),(0,_.Vi)((function(){return e._tfengine})),e._tfengine}D.nextTensorId=0,D.nextVariableId=0;var A=I();function M(e,t){var n={a:e,b:t};return A.runKernel(h.mm,n)}},35050:function(e,t,n){"use strict";n.d(t,{OB:function(){return p},Vi:function(){return m},iG:function(){return g},qA:function(){return d}});var r=n(29439),i=n(15861),a=n(15671),o=n(43144),s=n(87757),u=n.n(s),l=n(36147),c="tfjsflags",d=function(){function e(t){(0,a.Z)(this,e),this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=f,this.populateURLFlags()}return(0,o.Z)(e,[{key:"setPlatform",value:function(e,t){null!=this.platform&&(p().getBool("IS_TEST")||p().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,"."))),this.platformName=e,this.platform=t}},{key:"registerFlag",value:function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];p().getBool("IS_TEST")||p().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(r,".")),this.set(e,r)}}},{key:"getAsync",value:function(){var e=(0,i.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.flags)){e.next=2;break}return e.abrupt("return",this.flags[t]);case 2:return e.next=4,this.evaluateFlag(t);case 4:return this.flags[t]=e.sent,e.abrupt("return",this.flags[t]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(e){if(e in this.flags)return this.flags[e];var t=this.evaluateFlag(e);if((0,l.tI)(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}},{key:"getNumber",value:function(e){return this.get(e)}},{key:"getBool",value:function(e){return this.get(e)}},{key:"getFlags",value:function(){return this.flags}},{key:"features",get:function(){return this.flags}},{key:"set",value:function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}},{key:"evaluateFlag",value:function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}},{key:"setFlags",value:function(e){this.flags=Object.assign({},e)}},{key:"reset",value:function(){this.flags={},this.urlFlags={},this.populateURLFlags()}},{key:"populateURLFlags",value:function(){var e=this;if("undefined"!==typeof this.global&&"undefined"!==typeof this.global.location&&"undefined"!==typeof this.global.location.search){var t=this.getQueryParams(this.global.location.search);if(c in t)t.tfjsflags.split(",").forEach((function(t){var n=t.split(":"),i=(0,r.Z)(n,2),a=i[0],o=i[1];e.urlFlags[a]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if("".concat(+t)===t)return+t;throw new Error("Could not parse value flag value ".concat(t," for flag ").concat(e,"."))}(a,o)}))}}}]),e}();function f(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return h(t,r[0],r[1]),r.join("=")})),t}function h(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function p(){return m}var m=null;function g(e){m=e}},96581:function(e,t,n){"use strict";var r;function i(){if(null==r){var e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}r=e}return r}function a(e,t){var n=function(){var e=i();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);var r=t();return n.set(e,r),n.get(e)}n.d(t,{D:function(){return i},R:function(){return a}})},35875:function(e,t,n){"use strict";n.d(t,{B9:function(){return g},CQ:function(){return x},Cd:function(){return b},Cn:function(){return v},G4:function(){return s},MX:function(){return c},N5:function(){return p},N8:function(){return d},N_:function(){return w},R:function(){return u},SR:function(){return f},VY:function(){return T},XV:function(){return y},cF:function(){return l},cj:function(){return _},jq:function(){return k},lu:function(){return m},sq:function(){return h},x3:function(){return S},y3:function(){return D},ze:function(){return C}});var r=n(70318),i=n(35050),a=n(4376),o=n(99064);function s(){(0,i.OB)().set("PROD",!0)}function u(){(0,i.OB)().set("DEBUG",!0)}function l(){(0,i.OB)().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function c(e){(0,i.OB)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function d(){r.BV.disposeVariables()}function f(){return r.BV}function h(){return r.BV.memory()}function p(e){return r.BV.profile(e)}function m(e,t){return r.BV.tidy(e,t)}function g(e){(0,o.getTensorsInContainer)(e).forEach((function(e){return e.dispose()}))}function v(e){return r.BV.keep(e)}function y(e){return r.BV.time(e)}function x(e){return r.BV.setBackend(e)}function b(){return r.BV.ready()}function w(){return r.BV.backendName}function _(e){r.BV.removeBackend(e)}function S(e){return r.BV.findBackend(e)}function C(e){return r.BV.findBackendFactory(e)}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return r.BV.registerBackend(e,t,n)}function D(){return r.BV.backend}function T(e,t){(0,i.OB)().setPlatform(e,t)}(0,a.FZ)(c)},66450:function(e,t,n){"use strict";n.d(t,{UQ:function(){return u},cb:function(){return h},fN:function(){return d},h7:function(){return c},pn:function(){return f},ti:function(){return l}});var r=n(93433),i=n(70318),a=n(4376),o=n(48354),s=n(36147);function u(e){return s.hu(s.mf(e),(function(){return"The f passed in grad(f) must be a function"})),function(t,n){var r=(0,o._1)(t,"x","tf.grad","string_or_numeric"),a=null!=n?(0,o._1)(n,"dy","tf.grad"):null;return i.BV.tidy((function(){var t=i.BV.gradients((function(){return e(r)}),[r],a),n=t.value,o=t.grads;return null!=a&&s.k5(n.shape,a.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),p(o),o[0]}))}}function l(e){return s.hu(s.mf(e),(function(){return"The f passed in grads(f) must be a function"})),function(t,n){s.hu(Array.isArray(t),(function(){return"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"}));var a=(0,o.sI)(t,"args","tf.grads","string_or_numeric"),u=null!=n?(0,o._1)(n,"dy","tf.grads"):null;return i.BV.tidy((function(){var t=i.BV.gradients((function(){return e.apply(void 0,(0,r.Z)(a))}),a,u),n=t.value,o=t.grads;return null!=u&&s.k5(n.shape,u.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),p(o),o}))}}function c(e){return s.hu(s.mf(e),(function(){return"The f passed in valueAndGrad(f) must be a function"})),function(t,n){s.hu(t instanceof a.es,(function(){return"The x passed in valueAndGrad(f)(x) must be a tensor"})),s.hu(null==n||n instanceof a.es,(function(){return"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"}));var r=i.BV.gradients((function(){return e(t)}),[t],n),o=r.grads,u=r.value;return p(o),{grad:o[0],value:u}}}function d(e){return s.hu(s.mf(e),(function(){return"The f passed in valueAndGrads(f) must be a function"})),function(t,n){s.hu(Array.isArray(t)&&t.every((function(e){return e instanceof a.es})),(function(){return"The args passed in valueAndGrads(f)(args) must be array of tensors"})),s.hu(null==n||n instanceof a.es,(function(){return"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"}));var o=i.BV.gradients((function(){return e.apply(void 0,(0,r.Z)(t))}),t,n);return null!=n&&s.k5(o.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),p(o.grads),o}}function f(e,t){s.hu(s.mf(e),(function(){return"The f passed in variableGrads(f) must be a function"})),s.hu(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof a._w})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],i.BV.registeredVariables)t.push(i.BV.registeredVariables[r]);var o=n?t.filter((function(e){return!e.trainable})):null,u=t.length;t=t.filter((function(e){return e.trainable})),s.hu(t.length>0,(function(){return"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(u," variables is ")+"trainable."}));var l=i.BV.gradients(e,t,null,!0),c=l.value,d=l.grads;s.hu(d.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),s.hu(0===c.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(c.rank," tensor")}));var f={};return t.forEach((function(e,t){null!=d[t]&&(f[e.name]=d[t])})),null!=o&&o.forEach((function(e){return f[e.name]=null})),{value:c,grads:f}}function h(e){return i.BV.customGrad(e)}function p(e){if(e.filter((function(e){return null==e})).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}},43772:function(e,t,n){"use strict";n.d(t,{SYM:function(){return xt.SY},VGw:function(){return xt.VG},SpW:function(){return xt.Sp},zJI:function(){return un},HeW:function(){return cn},a4z:function(){return hn},DBS:function(){return gn},mm_:function(){return xt.mm},Xze:function(){return xt.Xz},oT6:function(){return xt.oT},IKK:function(){return xt.IK},sJF:function(){return xt.sJ},aJk:function(){return xt.aJ},M2y:function(){return xt.M2},qw7:function(){return xt.qw},jMg:function(){return xt.jM},QCc:function(){return xt.QC},Oyi:function(){return xt.Oy},JhU:function(){return xt.Jh},_k9:function(){return xt._k},IMb:function(){return xt.IM},ROF:function(){return xt.RO},XLW:function(){return xt.XL},zws:function(){return xt.zw},zvY:function(){return xt.zv},eEB:function(){return xt.eE},Ly9:function(){return xt.Ly},RFZ:function(){return xt.RF},gJX:function(){return xt.gJ},xnO:function(){return xt.xn},Zz9:function(){return xt.Zz},yj2:function(){return xt.yj},Eh3:function(){return xt.Eh},mhS:function(){return xt.mh},wUP:function(){return xt.wU},wm:function(){return xt.wm},x12:function(){return xt.x1},o2y:function(){return xt.o2},ik2:function(){return xt.ik},mc4:function(){return xt.mc},TR1:function(){return xt.TR},VcC:function(){return xt.Vc},Byc:function(){return xt.By},iHb:function(){return xt.iH},JLz:function(){return Mr.JL},QRR:function(){return xt.QR},T0n:function(){return xt.T0},cie:function(){return xt.ci},sL$:function(){return xt.sL},y7R:function(){return xt.y7},$w:function(){return xt.$w},p4S:function(){return xt.p4},Vn9:function(){return xt.Vn},ekb:function(){return xt.ek},ViN:function(){return y.Vi},$g6:function(){return xt.$g},SX0:function(){return xt.SX},HEU:function(){return xt.HE},qAh:function(){return y.qA},hdR:function(){return xt.hd},Omj:function(){return xt.Om},NEP:function(){return xt.NE},YFo:function(){return xt.YF},Y0y:function(){return xt.Y0},vwp:function(){return xt.vw},deh:function(){return xt.de},Uyb:function(){return xt.Uy},OR:function(){return xt.OR},jeX:function(){return xt.je},eBW:function(){return xt.eB},sHE:function(){return xt.sH},_V0:function(){return xt._V},luS:function(){return xt.lu},q1x:function(){return xt.q1},qi_:function(){return xt.qi},iZT:function(){return xt.iZ},Acj:function(){return xt.Ac},Qg5:function(){return xt.Qg},iJz:function(){return xt.iJ},J_u:function(){return xt.J_},avt:function(){return xt.av},iWB:function(){return xt.iW},r7n:function(){return xt.r7},Zuw:function(){return Mr.Zu},eZ0:function(){return xt.eZ},Hhh:function(){return xt.Hh},J$2:function(){return xt.J$},vtC:function(){return xt.vt},CAk:function(){return xt.CA},e7N:function(){return xt.e7},ZbH:function(){return xt.Zb},kU:function(){return xt.kU},qCd:function(){return xt.qC},PYm:function(){return xt.PY},VfG:function(){return xt.Vf},MZg:function(){return xt.MZ},qIC:function(){return xt.qI},YoZ:function(){return xt.Yo},mTV:function(){return xt.mT},OAf:function(){return xt.OA},OU7:function(){return xt.OU},OV7:function(){return xt.OV},vFR:function(){return xt.vF},BMI:function(){return xt.BM},q2K:function(){return xt.q2},c17:function(){return xt.c1},q8u:function(){return xt.q8},jQs:function(){return xt.jQ},Vbg:function(){return xt.Vb},rIn:function(){return yn},NZg:function(){return xt.NZ},wYn:function(){return xt.wY},kuV:function(){return xt.ku},uv1:function(){return xt.uv},cye:function(){return xt.cy},W0H:function(){return xt.W0},yQU:function(){return xt.yQ},zvA:function(){return _n.zvA},we_:function(){return xt.we},qWM:function(){return xt.qW},gaJ:function(){return sn},eEe:function(){return bn},QiL:function(){return xt.Qi},lyA:function(){return xt.ly},Kgp:function(){return xt.Kg},pe_:function(){return xt.pe},o0g:function(){return xt.o0},DlI:function(){return xt.Dl},gVI:function(){return xn},e6w:function(){return xt.e6},yw1:function(){return wn.yw},xJR:function(){return xt.xJ},oHH:function(){return xt.oH},$HU:function(){return xt.$H},IH3:function(){return Sn.I},qkr:function(){return xt.qk},SbG:function(){return xt.Sb},HZH:function(){return xt.HZ},_Yw:function(){return xt._Y},zbQ:function(){return xt.zb},dpD:function(){return xt.dp},Hmb:function(){return xt.Hm},mKl:function(){return xt.mK},b9H:function(){return xt.b9},e07:function(){return xt.e0},bV0:function(){return xt.bV},DYp:function(){return vn},xQA:function(){return xt.xQ},nr8:function(){return xt.nr},PhF:function(){return xt.Ph},oFR:function(){return xt.oF},a5O:function(){return xt.a5},i5y:function(){return xt.i5},RQH:function(){return xt.RQ},wYB:function(){return xt.w3},p2w:function(){return xt.p2},Gcp:function(){return xt.Gc},MRv:function(){return xt.MR},TQc:function(){return xt.TQ},O3z:function(){return xt.O3},nhH:function(){return xt.nh},w3H:function(){return xt.YW},ZjV:function(){return xt.Zj},D2d:function(){return xt.D2},L8s:function(){return xt.L8},FKq:function(){return xt.FK},bK0:function(){return xt.bK},_tC:function(){return xt._t},h8e:function(){return xt.h8},jQk:function(){return xt.m2},_JP:function(){return xt._J},s1s:function(){return xt.s1},XkS:function(){return xt.Xk},Tr8:function(){return xt.Tr},GBy:function(){return xt.GB},sEM:function(){return xt.sE},MIZ:function(){return xt.MI},esB:function(){return Be.es},YDk:function(){return Be.YD},n9L:function(){return xt.n9},cWu:function(){return xt.cW},wx7:function(){return xt.wx},G3Y:function(){return xt.G3},kpP:function(){return xt.kp},ToN:function(){return xt.To},Qvg:function(){return xt.Qv},XDQ:function(){return xt.XD},_wD:function(){return Be._w},RuY:function(){return xt.Ru},usg:function(){return xt.us},WnP:function(){return _n.WnP},Khb:function(){return _n.Khb},__u:function(){return _n.__u},IHx:function(){return _n.IHx},QBD:function(){return _n.QBD},$6P:function(){return _n.$6P},YjB:function(){return _n.YjB},NqF:function(){return _n.NqF},vHJ:function(){return _n.vHJ},ZRM:function(){return _n.ZRM},VfV:function(){return _n.VfV},z4N:function(){return _n.z4N},fvJ:function(){return _n.fvJ},C80:function(){return _n.C80},wS1:function(){return _n.wS1},uR5:function(){return _n.uR5},y3$:function(){return Qt.y3},Wap:function(){return d},zEQ:function(){return _n.zEQ},tgs:function(){return _n.tgs},Dxk:function(){return _n.Dxk},JY5:function(){return _n.JY5},p3b:function(){return _n.p3b},E4h:function(){return _n.E4h},yE8:function(){return _n.yE8},anm:function(){return _n.anm},XsQ:function(){return _n.XsQ},UFq:function(){return _n.UFq},Jyw:function(){return yt},Xhn:function(){return o},f3b:function(){return _n.f3b},pju:function(){return _n.pju},mDi:function(){return _n.mDi},iUl:function(){return _n.iUl},d9v:function(){return _n.d9v},PYB:function(){return _n.PYB},zoF:function(){return _n.zoF},gME:function(){return _n.gME},Izb:function(){return _n.Izb},MNy:function(){return _n.MNy},ZaL:function(){return _n.ZaL},PAt:function(){return _n.PAt},Tek:function(){return _n.Tek},bc:function(){return _n.bc},pdZ:function(){return _n.pdZ},$QV:function(){return _n.$QV},T3b:function(){return bt.T3},mCk:function(){return _n.mCk},f9Y:function(){return _n.f9Y},mew:function(){return _n.mew},$Gn:function(){return _n.$Gn},zbp:function(){return _n.zbp},cbc:function(){return an.cb},ppE:function(){return _n.ppE},MXe:function(){return Qt.MX},nTT:function(){return _n.nTT},B10:function(){return _n.B10},C2$:function(){return r},Ka3:function(){return _n.Ka3},WmZ:function(){return _n.WmZ},cFr:function(){return Qt.cF},B90:function(){return Qt.B9},N8o:function(){return Qt.N8},hiC:function(){return _n.hiC},NTj:function(){return _n.NTj},AKD:function(){return _n.AKD},rvX:function(){return _n.rvX},WYO:function(){return _n.WYO},pyx:function(){return _n.pyx},Ra$:function(){return Qt.R},G48:function(){return Qt.G4},GRh:function(){return _n.GRh},SRH:function(){return Qt.SR},OBj:function(){return y.OB},DgJ:function(){return _n.DgJ},qNN:function(){return _n.qNN},d2q:function(){return _n.d2q},Qqt:function(){return _n.Qqt},dt4:function(){return _n.dt4},t$B:function(){return _n.t$B},iyy:function(){return _n.iyy},kp_:function(){return _n.kp_},hlL:function(){return _n.hlL},x3e:function(){return Qt.x3},zel:function(){return Qt.ze},GWj:function(){return _n.GWj},qPi:function(){return _n.qPi},imm:function(){return _n.imm},Iqj:function(){return _n.Iqj},dbB:function(){return _n.dbB},DaI:function(){return s},N_N:function(){return Qt.N_},ukX:function(){return bt.uk},pIF:function(){return bt.pI},trD:function(){return bt.tr},UQy:function(){return an.UQ},tiA:function(){return an.ti},pjt:function(){return _n.pjt},brS:function(){return _n.brS},Sxn:function(){return _n.Sxn},asL:function(){return _n.asL},BHj:function(){return _n.BHj},V3u:function(){return _n.V3u},io:function(){return i},wx0:function(){return _n.wx0},xVT:function(){return _n.xVT},UWc:function(){return _n.UWc},i2d:function(){return _n.i2d},CnY:function(){return Qt.Cn},GDt:function(){return f},hi7:function(){return _n.hi7},d9m:function(){return _n.d9m},zN1:function(){return _n.zN1},$r2:function(){return _n.$r2},SX3:function(){return _n.SX3},G9k:function(){return _n.G9k},cM7:function(){return _n.cM7},Krr:function(){return _n.Krr},e_t:function(){return _n.e_t},CmS:function(){return _n.CmS},l_t:function(){return _n.l_t},HvI:function(){return _n.HvI},hJK:function(){return _n.hJK},K5V:function(){return _n.K5V},egP:function(){return _n.egP},MB5:function(){return _n.MB5},eab:function(){return _n.eab},OI3:function(){return _n.OI3},mAU:function(){return a},Fp7:function(){return _n.Fp7},_sB:function(){return _n._sB},YQQ:function(){return _n.YQQ},Ip$:function(){return _n.Ip$},gWQ:function(){return _n.gWQ},J69:function(){return _n.J69},sq6:function(){return Qt.sq},ry_:function(){return _n.ry_},VV$:function(){return _n.VV$},LTh:function(){return _n.LTh},VdP:function(){return _n.VdP},wQq:function(){return _n.wQq},Gi7:function(){return _n.Gi7},p_:function(){return _n.p_},dC7:function(){return _n.dC7},rq4:function(){return _n.rq4},SJ_:function(){return _n.SJ_},W76:function(){return _n.W76},glt:function(){return Dn},KOy:function(){return _n.KOy},Quu:function(){return _n.Quu},lfX:function(){return _n.lfX},iUs:function(){return _n.iUs},JpU:function(){return _n.JpU},op:function(){return _n.op},N2O:function(){return _n.N2O},vku:function(){return _n.vku},pNR:function(){return _n.pNR},koy:function(){return _n.koy},t1L:function(){return _n.t1L},lGY:function(){return _n.lGY},d_R:function(){return _n.d_R},sQ3:function(){return _n.sQ3},AL3:function(){return _n.AL3},S0v:function(){return _n.S0v},WVs:function(){return _n.WVs},N5s:function(){return Qt.N5},TN_:function(){return _n.TN_},wzB:function(){return _n.wzB},nGf:function(){return _n.nGf},LGj:function(){return _n.LGj},w6H:function(){return _n.w6H},Cd_:function(){return Qt.Cd},kwC:function(){return _n.kwC},M25:function(){return _n.M25},jqO:function(){return Qt.jq},LiG:function(){return bt.Li},wCN:function(){return bt.wC},UYe:function(){return _n.UYe},btT:function(){return _n.btT},cjG:function(){return Qt.cj},XLQ:function(){return _n.XLQ},GYS:function(){return _n.GYS},SDf:function(){return _n.SDf},diP:function(){return _n.diP},sx7:function(){return _n.sx7},mG2:function(){return _n.mG2},QEs:function(){return _n.QEs},NMM:function(){return _n.NMM},bp0:function(){return _n.bp0},iD$:function(){return _n.iD$},snQ:function(){return _n.snQ},yV1:function(){return Mt},zcT:function(){return _n.zcT},U8D:function(){return _n.U8D},U_I:function(){return _n.U_I},m7h:function(){return u},CQI:function(){return Qt.CQ},VYu:function(){return Qt.VY},ODp:function(){return _n.ODp},XD2:function(){return _n.XD2},Xxe:function(){return _n.Xxe},tdS:function(){return _n.tdS},O$l:function(){return _n.O$l},R_K:function(){return _n.R_K},tPi:function(){return _n.tPi},jZU:function(){return _n.jZU},SmN:function(){return _n.SmN},CnO:function(){return _n.CnO},p0P:function(){return _n.p0P},kuN:function(){return Et},XAC:function(){return _n.XAC},Wvh:function(){return _n.Wvh},fBT:function(){return _n.fBT},rVs:function(){return _n.rVs},ers:function(){return _n.ers},uN7:function(){return _n.uN7},Vl2:function(){return _n.Vl2},_b3:function(){return _n._b3},h62:function(){return _n.h62},$i:function(){return _n.$i},L9e:function(){return _n.L9e},knu:function(){return _n.knu},Nbs:function(){return _n.Nbs},NXj:function(){return _n.NXj},Z_8:function(){return _n.Z_8},luU:function(){return _n.luU},Smz:function(){return _n.Smz},z4k:function(){return wn.z4},ORZ:function(){return _n.ORZ},AEp:function(){return _n.AEp},XeE:function(){return _n.XeE},RRF:function(){return _n.RRF},odF:function(){return _n.odF},wOQ:function(){return _n.wOQ},yXz:function(){return _n.yXz},Bfx:function(){return _n.Bfx},xZs:function(){return _n.xZs},piX:function(){return Ot},p3L:function(){return l},lub:function(){return Qt.lu},Gg6:function(){return _n.Gg6},XVJ:function(){return Qt.XV},hg7:function(){return _n.hg7},p_j:function(){return Cn},p4s:function(){return _n.p4s},Xu6:function(){return _n.Xu6},Two:function(){return _n.Two},bt3:function(){return bt.bt},nEe:function(){return bt.nE},pUJ:function(){return _n.pUJ},HHK:function(){return _n.HHK},x8V:function(){return wn.x8},GaM:function(){return _n.GaM},D5U:function(){return Lt},h76:function(){return an.h7},fNQ:function(){return an.fN},VD$:function(){return _n.VD$},pnJ:function(){return an.pn},jTM:function(){return qt},arb:function(){return _n.arb},itS:function(){return _n.itS},lls:function(){return _n.lls},P84:function(){return _n.P84}});var r={};n.r(r),n.d(r,{isBrowser:function(){return v},isMobile:function(){return g},mockIsMobile:function(){return m}});var i={};n.r(i),n.d(i,{browserFiles:function(){return He},browserHTTPRequest:function(){return rt},concatenateArrayBuffers:function(){return B},copyModel:function(){return Te},decodeWeights:function(){return R},encodeWeights:function(){return E},fromMemory:function(){return st},fromMemorySync:function(){return ut},getLoadHandlers:function(){return K},getModelArtifactsForJSON:function(){return j},getModelArtifactsInfoForJSON:function(){return U},getSaveHandlers:function(){return Y},http:function(){return nt},isHTTPScheme:function(){return et},listModels:function(){return Se},loadWeights:function(){return Ye},moveModel:function(){return Ae},registerLoadRouter:function(){return q},registerSaveRouter:function(){return X},removeModel:function(){return ke},weightsLoaderFactory:function(){return Qe},withSaveHandler:function(){return lt},withSaveHandlerSync:function(){return ct}});var a={};n.r(a),n.d(a,{confusionMatrix:function(){return vt}});var o={};n.r(o),n.d(o,{fromPixels:function(){return It},fromPixelsAsync:function(){return Ct},toPixels:function(){return Dt}});var s={};n.r(s),n.d(s,{prepareAndValidate:function(){return At}});var u={};n.r(u),n.d(u,{Serializable:function(){return Nt},SerializationMap:function(){return Rt},registerClass:function(){return Pt}});var l={};n.r(l),n.d(l,{TEST_EPSILON_FLOAT16:function(){return Ft},encodeStrings:function(){return Xt},expectArrayBuffersEqual:function(){return Gt},expectArraysClose:function(){return Zt},expectArraysEqual:function(){return jt},expectNumbersClose:function(){return Wt},expectPromiseToFail:function(){return Vt},expectValuesInRange:function(){return Ht},testEpsilon:function(){return Bt}});var c={};n.r(c),n.d(c,{collectGatherOpShapeInfo:function(){return kr},computeOutShape:function(){return Cr},segOpComputeOptimalWindowSize:function(){return Sr}});var d={};n.r(d),n.d(d,{ERF_A1:function(){return jn},ERF_A2:function(){return Wn},ERF_A3:function(){return Un},ERF_A4:function(){return Hn},ERF_A5:function(){return Gn},ERF_P:function(){return Vn},PARALLELIZE_THRESHOLD:function(){return Nn},SELU_SCALE:function(){return zn.$},SELU_SCALEALPHA:function(){return zn.y},applyActivation:function(){return En.QH},assertAndGetBroadcastShape:function(){return yt.assertAndGetBroadcastShape},assertAxesAreInnerMostDims:function(){return Tn.lB},assertParamsConsistent:function(){return In},assignToTypedArray:function(){return $n},axesAreInnerMostDims:function(){return Tn.YB},calculateShapes:function(){return Mt.calculateShapes},checkEinsumDimSizes:function(){return or},checkPadOnDimRoundingMode:function(){return Mn.m},combineLocations:function(){return Tn.Vh},complexWithEvenIndex:function(){return Kn},complexWithOddIndex:function(){return Qn},computeConv2DInfo:function(){return Mn.Ix},computeConv3DInfo:function(){return Mn.jw},computeDefaultPad:function(){return Mn.aO},computeDilation2DInfo:function(){return Mn.Rf},computeOptimalWindowSize:function(){return Rn},computeOutAndReduceShapes:function(){return Tn.kz},computeOutShape:function(){return An},computePool2DInfo:function(){return Mn.Xw},computePool3DInfo:function(){return Mn.pl},convertConv2DDataFormat:function(){return Mn.sl},decodeEinsumEquation:function(){return ir},eitherStridesOrDilationsAreOne:function(){return Mn.jT},expandShapeToKeepDim:function(){return Tn.rv},exponent:function(){return tr},exponents:function(){return er},fromStringArrayToUint8:function(){return Tr},fromUint8ToStringArray:function(){return Dr},getAxesPermutation:function(){return Tn.Q3},getBroadcastDims:function(){return yt.getBroadcastDims},getComplexWithIndex:function(){return Jn},getEinsumComputePath:function(){return sr},getEinsumPermutation:function(){return ar},getFusedBiasGradient:function(){return En.pf},getFusedDyActivation:function(){return En.Fr},getImageCenter:function(){return Pn},getInnerMostAxes:function(){return Tn.sY},getPermuted:function(){return Ln},getReductionAxes:function(){return yt.getReductionAxes},getReshaped:function(){return On},getReshapedPermuted:function(){return Fn},getSliceBeginCoords:function(){return Zn},getSliceSize:function(){return Bn},getSparseFillEmptyRowsIndicesDenseShapeMismatch:function(){return dr},getSparseFillEmptyRowsNegativeIndexErrorMessage:function(){return fr},getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:function(){return hr},getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:function(){return gr},getSparseReshapeInputOutputMismatchErrorMessage:function(){return yr},getSparseReshapeInputOutputMultipleErrorMessage:function(){return vr},getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:function(){return pr},getSparseReshapeNegativeOutputDimErrorMessage:function(){return mr},getSparseSegmentReductionIndicesOutOfRangeErrorMessage:function(){return _r},getSparseSegmentReductionNegativeSegmentIdsErrorMessage:function(){return xr},getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:function(){return br},getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:function(){return wr},getUndoAxesPermutation:function(){return Tn.LJ},isIdentityPermutation:function(){return ur},log:function(){return Xn.c},mergeRealAndImagArrays:function(){return qn},prepareAndValidate:function(){return At},prepareSplitSize:function(){return cr},segment_util:function(){return c},shouldFuse:function(){return En.uy},slice_util:function(){return Et},splitRealAndImagArrays:function(){return Yn},tupleValuesAreOne:function(){return Mn.I0},upcastType:function(){return wn.x8},validateInput:function(){return Mt.validateInput},validateUpdateShape:function(){return Mt.validateUpdateShape},warn:function(){return Xn.Z}});var f={};n.r(f),n.d(f,{nonMaxSuppressionV3Impl:function(){return Ir.GP},nonMaxSuppressionV4Impl:function(){return Ir.qP},nonMaxSuppressionV5Impl:function(){return Ir.pA},whereImpl:function(){return Ar.Z}});var h,p=n(70318);function m(e){h=e}function g(e){if(void 0!==h)return h;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;var t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){var n=e;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function v(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}var y=n(35050),x=(0,y.OB)();x.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),x.registerFlag("IS_BROWSER",(function(){return v()})),x.registerFlag("IS_NODE",(function(){return"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node})),x.registerFlag("IS_CHROME",(function(){return"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),x.registerFlag("PROD",(function(){return!1})),x.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return x.getBool("DEBUG")})),x.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),x.registerFlag("IS_TEST",(function(){return!1})),x.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(function(){return!0})),x.registerFlag("WRAP_TO_IMAGEBITMAP",(function(){return!1})),x.registerFlag("ENGINE_COMPILE_ONLY",(function(){return!1}));var b=n(15671),w=n(43144),_=n(37762),S=n(15861),C=n(87757),k=n.n(C),D=n(29439),T=n(59253),I=n(72442),A=n(36147),M={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};function E(e,t){return N.apply(this,arguments)}function N(){return N=(0,S.Z)(k().mark((function e(t,n){var r,i,a,o,s,u;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=[],i=[],a=Array.isArray(t)?t.map((function(e){return e.name})):Object.keys(t),o=function(e){var o=a[e],s=Array.isArray(t)?t[e].tensor:t[o];if("float32"!==s.dtype&&"int32"!==s.dtype&&"bool"!==s.dtype&&"string"!==s.dtype&&"complex64"!==s.dtype)throw new Error("Unsupported dtype in weight '".concat(o,"': ").concat(s.dtype));var u={name:o,shape:s.shape,dtype:s.dtype};if("string"===s.dtype){var l=new Promise(function(){var e=(0,S.Z)(k().mark((function e(t){var n,r,i,a,o,u,l;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.bytes();case 2:for(n=e.sent,r=n.reduce((function(e,t){return e+t.length}),0)+4*n.length,i=new Uint8Array(r),a=0,o=0;o<n.length;o++)u=n[o],l=new Uint8Array(new Uint32Array([u.length]).buffer),i.set(l,a),a+=4,i.set(u,a),a+=u.length;t(i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());i.push(l)}else i.push(s.data());null!=n&&(u.group=n),r.push(u)},s=0;s<a.length;++s)o(s);return e.next=7,Promise.all(i);case 7:return u=e.sent,e.abrupt("return",{data:P(u),specs:r});case 9:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function R(e,t){var n,r,i={},a=0,o=(0,_.Z)(t);try{for(o.s();!(r=o.n()).done;){var s=r.value,u=s.name,l=s.dtype,c=s.shape,d=(0,A.NA)(c),f=void 0;if("quantization"in s){var h=s.quantization;if("uint8"===h.dtype||"uint16"===h.dtype){if(!("min"in h)||!("scale"in h))throw new Error("Weight ".concat(s.name," with quantization ").concat(h.dtype," ")+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==h.dtype)throw new Error("Weight ".concat(s.name," has unknown ")+"quantization dtype ".concat(h.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==l)throw new Error("Weight ".concat(s.name," is quantized with ").concat(h.dtype," ")+"which only supports weights of type float32 not ".concat(l,"."))}var p=M[h.dtype],m=e.slice(a,a+d*p),g="uint8"===h.dtype?new Uint8Array(m):new Uint16Array(m);if("float32"===l)if("uint8"===h.dtype||"uint16"===h.dtype){f=new Float32Array(g.length);for(var v=0;v<g.length;v++){var y=g[v];f[v]=y*h.scale+h.min}}else{if("float16"!==h.dtype)throw new Error("Unsupported quantization type ".concat(h.dtype," ")+"for weight type float32.");void 0===n&&(n=H()),f=n(g)}else{if("int32"!==l)throw new Error("Unsupported dtype in weight '".concat(u,"': ").concat(l));if("uint8"!==h.dtype&&"uint16"!==h.dtype)throw new Error("Unsupported quantization type ".concat(h.dtype," ")+"for weight type int32.");f=new Int32Array(g.length);for(var x=0;x<g.length;x++){var b=g[x];f[x]=Math.round(b*h.scale+h.min)}}a+=d*p}else if("string"===l){var w=(0,A.NA)(s.shape);f=[];for(var S=0;S<w;S++){var C=new Uint32Array(e.slice(a,a+4))[0];a+=4;var k=new Uint8Array(e.slice(a,a+C));f.push(k),a+=C}}else{var D=M[l],E=e.slice(a,a+d*D);if("float32"===l)f=new Float32Array(E);else if("int32"===l)f=new Int32Array(E);else if("bool"===l)f=new Uint8Array(E);else{if("complex64"!==l)throw new Error("Unsupported dtype in weight '".concat(u,"': ").concat(l));f=new Float32Array(E);for(var N=new Float32Array(f.length/2),R=new Float32Array(f.length/2),P=0;P<N.length;P++)N[P]=f[2*P],R[P]=f[2*P+1];var O=(0,I.X)(N,c,"float32"),L=(0,I.X)(R,c,"float32");i[u]=(0,T.P)(O,L),O.dispose(),L.dispose()}a+=d*D}"complex64"!==l&&(i[u]=(0,I.X)(f,c,l))}}catch(F){o.e(F)}finally{o.f()}return i}function P(e){if(null===e)throw new Error("Invalid input value: ".concat(JSON.stringify(e)));var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))}));var r=new Uint8Array(t),i=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),i),i+=e.byteLength})),r.buffer}var O="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function L(e){return O?Buffer.byteLength(e):new Blob([e]).size}function F(e){if(O)return Buffer.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,i=t.length;r<i;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function Z(e){if(O){var t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r.set([n.charCodeAt(i)],i);return r.buffer}function B(e){if(1===e.length)return e[0];var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function z(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function V(e,t){var n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function j(e,t){return W.apply(this,arguments)}function W(){return W=(0,S.Z)(k().mark((function e(t,n){var r,i,a,o,s;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy},null!=t.trainingConfig&&(r.trainingConfig=t.trainingConfig),null==t.weightsManifest){e.next=11;break}return e.next=5,n(t.weightsManifest);case 5:i=e.sent,a=(0,D.Z)(i,2),o=a[0],s=a[1],r.weightSpecs=o,r.weightData=s;case 11:return null!=t.signature&&(r.signature=t.signature),null!=t.userDefinedMetadata&&(r.userDefinedMetadata=t.userDefinedMetadata),null!=t.modelInitializer&&(r.modelInitializer=t.modelInitializer),e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}function U(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:L(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:L(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function H(){var e=function(){var e=function(e){for(var t=e<<13,n=0;0===(8388608&t);)n-=8388608,t<<=1;return(t&=-8388609)|n+947912704},t=new Uint32Array(2048);t[0]=0;for(var n=1;n<1024;n++)t[n]=e(n);for(var r=1024;r<2048;r++)t[r]=939524096+(r-1024<<13);return t}(),t=function(){var e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(var t=1;t<31;t++)e[t]=t<<23;for(var n=33;n<63;n++)e[n]=2147483648+(n-32<<23);return e}(),n=function(){for(var e=new Uint32Array(64),t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return function(r){for(var i=new ArrayBuffer(4*r.length),a=new Uint32Array(i),o=0;o<r.length;o++){var s=r[o],u=e[n[s>>10]+(1023&s)]+t[s>>10];a[o]=u}return new Float32Array(i)}}var G=function(){function e(){(0,b.Z)(this,e),this.saveRouters=[],this.loadRouters=[]}return(0,w.Z)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerSaveRouter",value:function(t){e.getInstance().saveRouters.push(t)}},{key:"registerLoadRouter",value:function(t){e.getInstance().loadRouters.push(t)}},{key:"getSaveHandlers",value:function(t){return e.getHandlers(t,"save")}},{key:"getLoadHandlers",value:function(t,n){return e.getHandlers(t,"load",n)}},{key:"getHandlers",value:function(t,n,r){var i=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&i.push(n)})),i}}]),e}(),X=function(e){return G.registerSaveRouter(e)},q=function(e){return G.registerLoadRouter(e)},Y=function(e){return G.getSaveHandlers(e)},K=function(e,t){return G.getLoadHandlers(e,t)},Q="tensorflowjs",J="models_store",$="model_info_store";function ee(){if(!(0,y.OB)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function te(e){var t=e.result;t.createObjectStore(J,{keyPath:"modelPath"}),t.createObjectStore($,{keyPath:"modelPath"})}var ne=function(){function e(t){if((0,b.Z)(this,e),this.indexedDB=ee(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return(0,w.Z)(e,[{key:"save",value:function(){var e=(0,S.Z)(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 2:return e.abrupt("return",this.databaseAction(this.modelPath,t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,S.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.databaseAction(this.modelPath));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"databaseAction",value:function(e,t){var n=this;return new Promise((function(e,r){var i=n.indexedDB.open(Q,1);i.onupgradeneeded=function(){return te(i)},i.onsuccess=function(){var a=i.result;if(null==t){var o=a.transaction(J,"readonly"),s=o.objectStore(J).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return a.close(),r(new Error("Cannot find model with path '".concat(n.modelPath,"' ")+"in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return a.close(),r(s.error)},o.oncomplete=function(){return a.close()}}else{var u,l=U(t),c=a.transaction($,"readwrite"),d=c.objectStore($),f=d.put({modelPath:n.modelPath,modelArtifactsInfo:l});f.onsuccess=function(){var i=(u=a.transaction(J,"readwrite")).objectStore(J).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:l});i.onsuccess=function(){return e({modelArtifactsInfo:l})},i.onerror=function(e){var t=(d=c.objectStore($)).delete(n.modelPath);t.onsuccess=function(){return a.close(),r(i.error)},t.onerror=function(e){return a.close(),r(i.error)}}},f.onerror=function(e){return a.close(),r(f.error)},c.oncomplete=function(){null==u?a.close():u.oncomplete=function(){return a.close()}}}},i.onerror=function(e){return r(i.error)}}))}}]),e}();ne.URL_SCHEME="indexeddb://";var re=function(e){return(0,y.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(ne.URL_SCHEME)?(t=e.slice(ne.URL_SCHEME.length),new ne(t)):null;var t};G.registerSaveRouter(re),G.registerLoadRouter(re);var ie=function(){function e(){(0,b.Z)(this,e),this.indexedDB=ee()}return(0,w.Z)(e,[{key:"listModels",value:function(){var e=(0,S.Z)(k().mark((function e(){var t=this;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=t.indexedDB.open(Q,1);r.onupgradeneeded=function(){return te(r)},r.onsuccess=function(){var t=r.result,i=t.transaction($,"readonly"),a=i.objectStore($).getAll();a.onsuccess=function(){var t,n={},r=(0,_.Z)(a.result);try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i.modelPath]=i.modelArtifactsInfo}}catch(o){r.e(o)}finally{r.f()}e(n)},a.onerror=function(e){return t.close(),n(a.error)},i.oncomplete=function(){return t.close()}},r.onerror=function(e){return n(r.error)}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=(0,S.Z)(k().mark((function e(t){var n=this;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(r=t).startsWith(ne.URL_SCHEME)?r.slice(ne.URL_SCHEME.length):r,e.abrupt("return",new Promise((function(e,r){var i=n.indexedDB.open(Q,1);i.onupgradeneeded=function(){return te(i)},i.onsuccess=function(){var n,a=i.result,o=a.transaction($,"readwrite"),s=o.objectStore($),u=s.get(t);u.onsuccess=function(){if(null==u.result)return a.close(),r(new Error("Cannot find model with path '".concat(t,"' ")+"in IndexedDB."));var i=s.delete(t),o=function(){var i=(n=a.transaction(J,"readwrite")).objectStore(J).delete(t);i.onsuccess=function(){return e(u.result.modelArtifactsInfo)},i.onerror=function(e){return r(u.error)}};i.onsuccess=o,i.onerror=function(e){return o(),a.close(),r(u.error)}},u.onerror=function(e){return a.close(),r(u.error)},o.oncomplete=function(){null==n?a.close():n.oncomplete=function(){return a.close()}}},i.onerror=function(e){return r(i.error)}})));case 2:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ae="/",oe="tensorflowjs_models",se="info",ue="model_topology",le="weight_specs",ce="weight_data",de="model_metadata";function fe(e){return{info:[oe,e,se].join(ae),topology:[oe,e,ue].join(ae),weightSpecs:[oe,e,le].join(ae),weightData:[oe,e,ce].join(ae),modelMetadata:[oe,e,de].join(ae)}}function he(e){for(var t=0,n=Object.values(e);t<n.length;t++){var r=n[t];window.localStorage.removeItem(r)}}function pe(e){var t=e.split(ae);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(ae)}var me=function(){function e(t){if((0,b.Z)(this,e),!(0,y.OB)().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=fe(this.modelPath)}return(0,w.Z)(e,[{key:"save",value:function(){var e=(0,S.Z)(k().mark((function e(t){var n,r,i,a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=4;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 4:return n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),i=U(t),e.prev=7,this.LS.setItem(this.keys.info,JSON.stringify(i)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,F(t.weightData)),a={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,signature:null!=t.signature?t.signature:void 0,userDefinedMetadata:null!=t.userDefinedMetadata?t.userDefinedMetadata:void 0,modelInitializer:null!=t.modelInitializer?t.modelInitializer:void 0,trainingConfig:null!=t.trainingConfig?t.trainingConfig:void 0},this.LS.setItem(this.keys.modelMetadata,JSON.stringify(a)),e.abrupt("return",{modelArtifactsInfo:i});case 17:throw e.prev=17,e.t0=e.catch(7),he(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(i.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(i.weightSpecsBytes,", ")+"weightDataBytes=".concat(i.weightDataBytes,"."));case 21:case"end":return e.stop()}}),e,this,[[7,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,S.Z)(k().mark((function e(){var t,n,r,i,a,o,s;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=JSON.parse(this.LS.getItem(this.keys.info)))){e.next=3;break}throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));case 3:if("JSON"===t.modelTopologyType){e.next=5;break}throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");case 5:if(n={},null!=(r=JSON.parse(this.LS.getItem(this.keys.topology)))){e.next=9;break}throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");case 9:if(n.modelTopology=r,null!=(i=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))){e.next=13;break}throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");case 13:if(n.weightSpecs=i,null!=(a=this.LS.getItem(this.keys.modelMetadata))&&(o=JSON.parse(a),n.format=o.format,n.generatedBy=o.generatedBy,n.convertedBy=o.convertedBy,null!=o.signature&&(n.signature=o.signature),null!=o.userDefinedMetadata&&(n.userDefinedMetadata=o.userDefinedMetadata),null!=o.modelInitializer&&(n.modelInitializer=o.modelInitializer),null!=o.trainingConfig&&(n.trainingConfig=o.trainingConfig)),null!=(s=this.LS.getItem(this.keys.weightData))){e.next=19;break}throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));case 19:return n.weightData=Z(s),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();me.URL_SCHEME="localstorage://";var ge=function(e){return(0,y.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(me.URL_SCHEME)?(t=e.slice(me.URL_SCHEME.length),new me(t)):null;var t};G.registerSaveRouter(ge),G.registerLoadRouter(ge);var ve=function(){function e(){(0,b.Z)(this,e),(0,A.hu)((0,y.OB)().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),(0,A.hu)("undefined"===typeof window||"undefined"!==typeof window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return(0,w.Z)(e,[{key:"listModels",value:function(){var e=(0,S.Z)(k().mark((function e(){var t,n,r,i,a,o;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t={},n=oe+ae,r=ae+se,i=0;i<this.LS.length;++i)(a=this.LS.key(i)).startsWith(n)&&a.endsWith(r)&&(o=pe(a),t[o]=JSON.parse(this.LS.getItem(a)));return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=(0,S.Z)(k().mark((function e(t){var n,r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(i=t).startsWith(me.URL_SCHEME)?i.slice(me.URL_SCHEME.length):i,n=fe(t),null!=this.LS.getItem(n.info)){e.next=4;break}throw new Error("Cannot find model at path '".concat(t,"'"));case 4:return r=JSON.parse(this.LS.getItem(n.info)),he(n),e.abrupt("return",r);case 7:case"end":return e.stop()}var i}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ye="://",xe=function(){function e(){(0,b.Z)(this,e),this.managers={}}return(0,w.Z)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerManager",value:function(t,n){(0,A.hu)(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(ye)&&(t=t.slice(0,t.indexOf(ye))),(0,A.hu)(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();(0,A.hu)(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '".concat(t,"'.")})),r.managers[t]=n}},{key:"getManager",value:function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '".concat(e,"'"));return t}},{key:"getSchemes",value:function(){return Object.keys(this.getInstance().managers)}}]),e}();function be(e){if(-1===e.indexOf(ye))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(xe.getSchemes().join(",")));return{scheme:e.split(ye)[0],path:e.split(ye)[1]}}function we(e,t){return _e.apply(this,arguments)}function _e(){return _e=(0,S.Z)(k().mark((function e(t,n){var r,i,a,o,s,u,l,c,d,f,h=arguments;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>2&&void 0!==h[2]&&h[2],(0,A.hu)(t!==n,(function(){return"Old path and new path are the same: '".concat(t,"'")})),i=G.getLoadHandlers(t),(0,A.hu)(i.length>0,(function(){return"Copying failed because no load handler is found for source URL ".concat(t,".")})),(0,A.hu)(i.length<2,(function(){return"Copying failed because more than one (".concat(i.length,") ")+"load handlers for source URL ".concat(t,".")})),a=i[0],o=G.getSaveHandlers(n),(0,A.hu)(o.length>0,(function(){return"Copying failed because no save handler is found for destination "+"URL ".concat(n,".")})),(0,A.hu)(o.length<2,(function(){return"Copying failed because more than one (".concat(i.length,") ")+"save handlers for destination URL ".concat(n,".")})),s=o[0],u=be(t).scheme,l=be(t).path,c=u===be(t).scheme,e.next=15,a.load();case 15:if(d=e.sent,!r||!c){e.next=19;break}return e.next=19,xe.getManager(u).removeModel(l);case 19:return e.next=21,s.save(d);case 21:if(f=e.sent,!r||c){e.next=25;break}return e.next=25,xe.getManager(u).removeModel(l);case 25:return e.abrupt("return",f.modelArtifactsInfo);case 26:case"end":return e.stop()}}),e)}))),_e.apply(this,arguments)}function Se(){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,S.Z)(k().mark((function e(){var t,n,r,i,a,o,s;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=xe.getSchemes(),n={},r=(0,_.Z)(t),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=9,xe.getManager(a).listModels();case 9:for(s in o=e.sent)n[a+ye+s]=o[s];case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})))).apply(this,arguments)}function ke(e){return De.apply(this,arguments)}function De(){return(De=(0,S.Z)(k().mark((function e(t){var n,r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=be(t),r=xe.getManager(n.scheme),e.abrupt("return",r.removeModel(n.path));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e,t){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,S.Z)(k().mark((function e(t,n){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,e.abrupt("return",we(t,n,false));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e,t){return Me.apply(this,arguments)}function Me(){return(Me=(0,S.Z)(k().mark((function e(t,n){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,e.abrupt("return",we(t,n,true));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ee=function(){function e(){(0,b.Z)(this,e)}return(0,w.Z)(e,[{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return fetch(e,t)}))},{key:"now",value:function(){return performance.now()}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return new TextDecoder(t).decode(e)}}]),e}();if((0,y.OB)().get("IS_BROWSER")){(0,y.OB)().setPlatform("browser",new Ee);try{xe.registerManager(me.URL_SCHEME,new ve)}catch(Er){}try{xe.registerManager(ne.URL_SCHEME,new ie)}catch(Er){}}var Ne,Re=function(){return n(75410)};var Pe=function(){function e(){(0,b.Z)(this,e),this.util=n(48628),this.textEncoder=new this.util.TextEncoder}return(0,w.Z)(e,[{key:"fetch",value:function(e,t){return null!=(0,y.OB)().global.fetch?(0,y.OB)().global.fetch(e,t):(null==Ne&&(Ne=Re()),Ne(e,t))}},{key:"now",value:function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}]),e}();(0,y.OB)().get("IS_NODE")&&!(0,y.OB)().get("IS_BROWSER")&&(0,y.OB)().setPlatform("node",new Pe);var Oe=n(77039),Le=n(99118),Fe=n(10672),Ze=n(64600),Be=n(4376);(0,p.wv)();var ze={buffer:Oe.f,cast:Le.p,clone:Fe.d,print:Ze.S};(0,Be.Vp)(ze);var Ve=n(93433);function je(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var We=function(){function e(t){if((0,b.Z)(this,e),!(0,y.OB)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelJsonFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return(0,w.Z)(e,[{key:"save",value:function(){var e=(0,S.Z)(k().mark((function e(t){var n,r,i,a,o,s;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof document){e.next=2;break}throw new Error("Browser downloads are not supported in this environment since `document` is not present");case 2:if(n=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer)){e.next=7;break}throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 7:return r=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],i=V(t,r),a=window.URL.createObjectURL(new Blob([JSON.stringify(i)],{type:"application/json"})),(o=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor).download=this.modelJsonFileName,o.href=a,e.next=15,je((function(){return o.dispatchEvent(new MouseEvent("click"))}));case 15:if(null==t.weightData){e.next=21;break}return(s=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=n,e.next=21,je((function(){return s.dispatchEvent(new MouseEvent("click"))}));case 21:return e.abrupt("return",{modelArtifactsInfo:U(t)});case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();We.URL_SCHEME="downloads://";var Ue=function(){function e(t){if((0,b.Z)(this,e),null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(t));this.jsonFile=t[0],this.weightsFiles=t.slice(1)}return(0,w.Z)(e,[{key:"load",value:function(){var e=(0,S.Z)(k().mark((function e(){var t=this;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(r){var i=JSON.parse(r.target.result),a=i.modelTopology;if(null!=a)if(null!=i.weightsManifest)if(0!==t.weightsFiles.length){var o=j(i,(function(e){return t.loadWeights(e)}));e(o)}else e({modelTopology:a});else n(new Error("weightManifest field is missing from file ".concat(t.jsonFile.name)));else n(new Error("modelTopology field is missing from file ".concat(t.jsonFile.name)))},r.onerror=function(e){return n("Failed to read model topology and weights manifest JSON "+"from file '".concat(t.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},r.readAsText(t.jsonFile)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(e){var t,n=this,r=[],i=[],a=(0,_.Z)(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;r.push.apply(r,(0,Ve.Z)(o.weights)),i.push.apply(i,(0,Ve.Z)(o.paths))}}catch(Er){a.e(Er)}finally{a.f()}var s=this.checkManifestAndWeightFiles(e),u=i.map((function(e){return n.loadWeightsFile(e,s[e])}));return Promise.all(u).then((function(e){return[r,B(e)]}))}},{key:"loadWeightsFile",value:function(e,t){return new Promise((function(n,r){var i=new FileReader;i.onload=function(e){var t=e.target.result;n(t)},i.onerror=function(t){return r("Failed to weights data from file of path '".concat(e,"'."))},i.readAsArrayBuffer(t)}))}},{key:"checkManifestAndWeightFiles",value:function(e){var t,n=this,r=[],i=this.weightsFiles.map((function(e){return z(e.name)})),a={},o=(0,_.Z)(e);try{for(o.s();!(t=o.n()).done;){t.value.paths.forEach((function(e){var t=z(e);if(-1!==r.indexOf(t))throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(t,"'"));if(r.push(t),-1===i.indexOf(t))throw new Error("Weight file with basename '".concat(t,"' is not provided."));a[e]=n.weightsFiles[i.indexOf(t)]}))}}catch(Er){o.e(Er)}finally{o.f()}if(r.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(r.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return a}}]),e}();function He(e){return new Ue(e)}function Ge(e,t,n,r){!function(e){(0,A.hu)(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){(0,A.hu)(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(e)})),(0,A.hu)(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t)})),(0,A.hu)(t>=e,(function(){return"startFraction must be no more than endFraction, but "+"got startFraction ".concat(e," and endFraction ")+"".concat(t)}))}(n=null==n?0:n,r=null==r?1:r);var i=0;return Promise.all(e.map((function(a){return a.then((function(a){var o=n+ ++i/e.length*(r-n);return t(o),a})),a})))}function Xe(e,t){return qe.apply(this,arguments)}function qe(){return(qe=(0,S.Z)(k().mark((function e(t,n){var r,i,a,o,s,u,l,c,d;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&(n={}),r=null==n.fetchFunc?(0,y.OB)().platform.fetch:n.fetchFunc,i=t.map((function(e){return r(e,n.requestInit,{isBinary:!0})})),a=0,o=.5,null!=n.onProgress){e.next=11;break}return e.next=8,Promise.all(i);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,Ge(i,n.onProgress,a,o);case 13:e.t0=e.sent;case 14:if(s=e.t0,u=s.map((function(e){return e.arrayBuffer()})),l=.5,c=1,null!=n.onProgress){e.next=24;break}return e.next=21,Promise.all(u);case 21:e.t1=e.sent,e.next=27;break;case 24:return e.next=26,Ge(u,n.onProgress,l,c);case 26:e.t1=e.sent;case 27:return d=e.t1,e.abrupt("return",d);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(e){return Ke.apply(this,arguments)}function Ke(){return Ke=(0,S.Z)(k().mark((function e(t){var n,r,i,a,o=arguments;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"",r=o.length>2?o[2]:void 0,i=o.length>3?o[3]:void 0,a=Qe((function(e){return Xe(e,{requestInit:i})})),e.abrupt("return",a(t,n,r));case 6:case"end":return e.stop()}}),e)}))),Ke.apply(this,arguments)}function Qe(e){return function(){var t=(0,S.Z)(k().mark((function t(n){var r,i,a,o,s,u,l,c,d,f,h,p,m=arguments;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=m.length>1&&void 0!==m[1]?m[1]:"",i=m.length>2?m[2]:void 0,a=n.map((function(){return!1})),o={},s=null!=i?i.map((function(){return!1})):[],u=[],n.forEach((function(e,t){var n=0;e.weights.forEach((function(e){var r="quantization"in e?e.quantization.dtype:e.dtype,l=M[r]*A.NA(e.shape),c=function(){a[t]=!0,null==o[t]&&(o[t]=[]),o[t].push({manifestEntry:e,groupOffset:n,sizeBytes:l})};null!=i?i.forEach((function(t,n){t===e.name&&(c(),s[n]=!0)})):c(),u.push(e.name),n+=l}))})),s.every((function(e){return e}))){t.next=10;break}throw l=i.filter((function(e,t){return!s[t]})),new Error("Could not find weights in manifest with names: "+"".concat(l.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(u.join(", "),"."));case 10:return c=a.reduce((function(e,t,n){return t&&e.push(n),e}),[]),d=[],c.forEach((function(e){n[e].paths.forEach((function(e){var t=r+(r.endsWith("/")?"":"/")+e;d.push(t)}))})),t.next=15,e(d);case 15:return f=t.sent,h={},p=0,c.forEach((function(e){for(var t=n[e].paths.length,r=0,i=0;i<t;i++)r+=f[p+i].byteLength;for(var a=new ArrayBuffer(r),s=new Uint8Array(a),u=0,l=0;l<t;l++){var c=new Uint8Array(f[p+l]);s.set(c,u),u+=c.byteLength}o[e].forEach((function(e){var t=R(a.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)h[n]=t[n]})),p+=t})),t.abrupt("return",h);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}G.registerSaveRouter((function(e){return(0,y.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(We.URL_SCHEME)?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new We(e)}(e.slice(We.URL_SCHEME.length)):null}));var Je=function(){function e(t,n){if((0,b.Z)(this,e),this.DEFAULT_METHOD="POST",null==n&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,null!=n.fetchFunc?((0,A.hu)("function"===typeof n.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=n.fetchFunc):this.fetch=(0,y.OB)().platform.fetch,(0,A.hu)(null!=t&&t.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(t)&&(0,A.hu)(2===t.length,(function(){return"URL paths for http must have a length of 2, "+"(actual length is ".concat(t.length,").")})),this.path=t,null!=n.requestInit&&null!=n.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return(0,w.Z)(e,[{key:"save",value:function(){var e=(0,S.Z)(k().mark((function e(t){var n,r,i,a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");case 2:return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],i=V(t,r),n.body.append("model.json",new Blob([JSON.stringify(i)],{type:"application/json"}),"model.json"),null!=t.weightData&&n.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),e.next=10,this.fetch(this.path,n);case 10:if(!(a=e.sent).ok){e.next=15;break}return e.abrupt("return",{modelArtifactsInfo:U(t),responses:[a]});case 15:throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(a.status,"."));case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,S.Z)(k().mark((function e(){var t,n,r,i,a,o=this;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch(this.path,this.requestInit);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(t.status,". Please verify this URL points to ")+"the model JSON of the model to load.");case 5:return e.prev=5,e.next=8,t.json();case 8:n=e.sent,e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(5),r="Failed to parse model JSON of response from ".concat(this.path,"."),this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 16:if(i=n.modelTopology,a=n.weightsManifest,null!=i||null!=a){e.next=20;break}throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");case 20:return e.abrupt("return",j(n,(function(e){return o.loadWeights(e)})));case 21:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(){var e=(0,S.Z)(k().mark((function e(t){var n,r,i,a,o,s,u,l,c,d,f,h,p,m,g,v,y,x,b;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Array.isArray(this.path)?this.path[1]:this.path,r=$e(n),i=(0,D.Z)(r,2),a=i[0],o=i[1],s=this.weightPathPrefix||a,u=[],l=(0,_.Z)(t);try{for(l.s();!(c=l.n()).done;)d=c.value,u.push.apply(u,(0,Ve.Z)(d.weights))}catch(Er){l.e(Er)}finally{l.f()}f=[],h=[],p=(0,_.Z)(t);try{for(p.s();!(m=p.n()).done;){g=m.value,v=(0,_.Z)(g.paths);try{for(v.s();!(y=v.n()).done;)x=y.value,null!=this.weightUrlConverter?h.push(this.weightUrlConverter(x)):f.push(s+x+o)}catch(Er){v.e(Er)}finally{v.f()}}}catch(Er){p.e(Er)}finally{p.f()}if(!this.weightUrlConverter){e.next=19;break}return e.t0=f.push,e.t1=f,e.t2=Ve.Z,e.next=16,Promise.all(h);case 16:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 19:return e.next=21,Xe(f,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});case 21:return b=e.sent,e.abrupt("return",[u,B(b)]);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function $e(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}function et(e){return null!=e.match(Je.URL_SCHEME_REGEX)}Je.URL_SCHEME_REGEX=/^https?:\/\//;var tt=function(e,t){if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;return(Array.isArray(e)?e.every((function(e){return et(e)})):et(e))?nt(e,t):null};function nt(e,t){return new Je(e,t)}function rt(e,t){return nt(e,t)}G.registerSaveRouter(tt),G.registerLoadRouter(tt);var it=function(){function e(t){(0,b.Z)(this,e),this.modelArtifacts=t}return(0,w.Z)(e,[{key:"load",value:function(){return this.modelArtifacts}}]),e}(),at=function(){function e(t){(0,b.Z)(this,e),this.saveHandler=t}return(0,w.Z)(e,[{key:"save",value:function(e){return this.saveHandler(e)}}]),e}(),ot=(0,w.Z)((function e(t){(0,b.Z)(this,e),t.load&&(this.load=function(){return Promise.resolve(t.load())}),t.save&&(this.save=function(e){return Promise.resolve(t.save(e))})}));function st(e,t,n,r){var i=arguments;return new ot(ut.apply(void 0,(0,Ve.Z)(i)))}function ut(e,t,n,r){if(1===arguments.length){var i=null!=e.modelTopology||null!=e.weightSpecs;return i?new it(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new it({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new it({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}function lt(e){return new at(e)}function ct(e){return new at(e)}var dt=n(48354),ft=n(57221),ht=n(34326),pt=n(38640),mt=n(61240);var gt,vt=(0,pt.op)({confusionMatrix_:function(e,t,n){var r=(0,dt._1)(e,"labels","confusionMatrix"),i=(0,dt._1)(t,"predictions","confusionMatrix");A.hu(null==n||n>0&&Number.isInteger(n),(function(){return"If provided, numClasses must be a positive integer, "+"but got ".concat(n)})),A.hu(1===r.rank,(function(){return"Expected the rank of labels to be 1, but got ".concat(r.rank)})),A.hu(1===i.rank,(function(){return"Expected the rank of predictions to be 1, "+"but got ".concat(i.rank)})),A.hu(r.shape[0]===i.shape[0],(function(){return"Mismatch in the number of examples: "+"".concat(r.shape[0]," vs. ").concat(i.shape[0],". ")+"Labels and predictions should have the same number of elements."})),A.hu(n>0&&Number.isInteger(n),(function(){return"numClasses is required to be a positive integer, but got "+"".concat(n)}));var a=(0,ht.l)((0,Le.p)(r,"int32"),n),o=(0,ht.l)((0,Le.p)(i,"int32"),n),s=(0,mt.p)(a),u=(0,ft.O)(s,o);return(0,Le.p)(u,"int32")}}),yt=n(45774),xt=n(32145),bt=n(78864),wt=n(73123);function _t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,i=!1,a=!1,o=!1,s=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)i=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)a=!0;else if(null!=e.getContext)o=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(e.constructor.name));s=!0}if(i){var u=2;if(i&&e.readyState<u)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}var l=(0,bt.pI)(xt.eB,p.BV.backendName);if(null!=l){var c={pixels:e},d={numChannels:t};return p.BV.runKernel(xt.eB,c,d)}var f,h,m=i?[e.videoWidth,e.videoHeight]:[e.width,e.height],g=(0,D.Z)(m,2),v=g[0],y=g[1];if(o)f=e.getContext("2d").getImageData(0,0,v,y).data;else if(r||n)f=e.data;else if(a||i||s){if(null==gt)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");gt=new OffscreenCanvas(1,1).getContext("2d")}else gt=document.createElement("canvas").getContext("2d");gt.canvas.width=v,gt.canvas.height=y,gt.drawImage(e,0,0,v,y),f=gt.getImageData(0,0,v,y).data}if(4===t)h=new Int32Array(f);else{var x=v*y;h=new Int32Array(x*t);for(var b=0;b<x;b++)for(var w=0;w<t;++w)h[b*t+w]=f[4*b+w]}var _=[y,v,t];return(0,wt.w)(h,_,"int32")}function St(e){return"undefined"!==typeof window&&"undefined"!==typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&function(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function(e){return null!=e&&e.data instanceof Uint8Array}(e)}function Ct(e){return kt.apply(this,arguments)}function kt(){return kt=(0,S.Z)(k().mark((function e(t){var n,r,i,a=arguments;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:3,r=null,!(0,y.OB)().getBool("WRAP_TO_IMAGEBITMAP")||!St(t)){e.next=15;break}return e.prev=3,e.next=6,createImageBitmap(t,{premultiplyAlpha:"none"});case 6:i=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),i=null;case 12:r=null!=i&&i.width===t.width&&i.height===t.height?i:t,e.next=16;break;case 15:r=t;case 16:return e.abrupt("return",_t(r,n));case 17:case"end":return e.stop()}}),e,null,[[3,9]])}))),kt.apply(this,arguments)}function Dt(e,t){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,S.Z)(k().mark((function e(t,n){var r,i,a,o,s,u,l,c,d,f,h,p,m,g,v,y,x;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,dt._1)(t,"img","toPixels"),t instanceof Be.es||(i=r,r=(0,Le.p)(i,"int32"),i.dispose()),2===r.rank||3===r.rank){e.next=4;break}throw new Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(r.rank,"."));case 4:if(a=r.shape.slice(0,2),o=(0,D.Z)(a,2),s=o[0],u=o[1],!((l=2===r.rank?1:r.shape[2])>4||2===l)){e.next=8;break}throw new Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(l));case 8:if("float32"===r.dtype||"int32"===r.dtype){e.next=10;break}throw new Error("Unsupported type for toPixels: ".concat(r.dtype,".")+" Please use float32 or int32 tensors.");case 10:return e.next=12,r.data();case 12:c=e.sent,d="float32"===r.dtype?255:1,f=new Uint8ClampedArray(u*s*4),h=0;case 16:if(!(h<s*u)){e.next=41;break}p=[0,0,0,255],m=0;case 19:if(!(m<l)){e.next=33;break}if(g=c[h*l+m],"float32"!==r.dtype){e.next=26;break}if(!(g<0||g>1)){e.next=24;break}throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(g,"."));case 24:e.next=29;break;case 26:if("int32"!==r.dtype){e.next=29;break}if(!(g<0||g>255)){e.next=29;break}throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(g,"."));case 29:1===l?(p[0]=g*d,p[1]=g*d,p[2]=g*d):p[m]=g*d;case 30:m++,e.next=19;break;case 33:f[(v=4*h)+0]=Math.round(p[0]),f[v+1]=Math.round(p[1]),f[v+2]=Math.round(p[2]),f[v+3]=Math.round(p[3]);case 38:++h,e.next=16;break;case 41:return null!=n&&(n.width=u,n.height=s,y=n.getContext("2d"),x=new ImageData(f,u,s),y.putImageData(x,0,0)),r!==t&&r.dispose(),e.abrupt("return",f);case 44:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var It=(0,pt.op)({fromPixels_:_t});function At(e,t){var n=e.shape.length,r=t.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(r<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(r,"."));if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[r-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(t.shape[r-1]," vs. ").concat(n));if(0===(0,A.NA)(e.shape))throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(e.shape,"."));for(var i=t.shape,a=i[i.length-1],o=1,s=0;s<i.length-1;++s)o*=i[s];var u=e.shape,l=i.slice();l.pop();for(var c=1,d=a;d<n;++d)c*=u[d],l.push(u[d]);var f=[].concat((0,Ve.Z)((0,A.e3)(e.shape).map((function(e){return e/c}))),[1]).slice(0,a);return[l,o,c,f]}var Mt=n(48604),Et=n(52875),Nt=function(){function e(){(0,b.Z)(this,e)}return(0,w.Z)(e,[{key:"getClassName",value:function(){return this.constructor.className}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),e}(),Rt=function(){function e(){(0,b.Z)(this,e),this.classNameMap={}}return(0,w.Z)(e,null,[{key:"getMap",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"register",value:function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]}}]),e}();function Pt(e){(0,A.hu)(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),(0,A.hu)("string"===typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),(0,A.hu)(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),Rt.register(e)}var Ot=n(99064),Lt=n(70115),Ft=.1;function Zt(e,t,n){return null==n&&(n=Bt()),zt(e,t,(function(e,t){return Ut(e,t,n)}))}function Bt(){return 32===p.BV.backend.floatPrecision()?.001:Ft}function zt(e,t,n){var r=!0;if(((0,A.fU)(e)||(0,A.fU)(t))&&(r=!1),(0,A.fU)(e)&&(0,A.fU)(t)&&(r=!0),r){var i=e.constructor.name,a=t.constructor.name;if(i!==a)throw new Error("Arrays are of different type. Actual: ".concat(i,". ")+"Expected: ".concat(a))}if(Array.isArray(e)&&Array.isArray(t)){var o=(0,dt.C)(e),s=(0,dt.C)(t);if(!(0,A.cO)(o,s))throw new Error("Arrays have different shapes. "+"Actual: [".concat(o,"]. Expected: [").concat(s,"]"))}var u=(0,A.fU)(e)?e:(0,A.xH)(e),l=(0,A.fU)(t)?t:(0,A.xH)(t);if(u.length!==l.length)throw new Error("Arrays have different lengths actual: ".concat(u.length," vs ")+"expected: ".concat(l.length,".\n")+"Actual:   ".concat(u,".\n")+"Expected: ".concat(l,"."));for(var c=0;c<l.length;++c){var d=u[c],f=l[c];if(!n(d,f))throw new Error("Arrays differ: actual[".concat(c,"] = ").concat(d,", expected[").concat(c,"] = ").concat(f,".\n")+"Actual:   ".concat(u,".\n")+"Expected: ".concat(l,"."))}}function Vt(e,t){e().then((function(){return t.fail()}),(function(){return t()}))}function jt(e,t){var n="string"===typeof t||"number"===typeof t||"boolean"===typeof t?[t]:t;return(0,A.HD)(e)||(0,A.HD)(e[0])||(0,A.HD)(t)||(0,A.HD)(t[0])?zt(e,n,(function(e,t){return e==t})):zt(e,t,(function(e,t){return Ut(e,t,0)}))}function Wt(e,t,n){if(null==n&&(n=Bt()),!Ut(e,t,n))throw new Error("Numbers differ: actual === ".concat(e,", expected === ").concat(t))}function Ut(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function Ht(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:".concat(e[r]," low: ").concat(t,", high: ").concat(n))}function Gt(e,t){var n=new Float32Array(e),r=new Float32Array(t);if(n.length!==r.length)throw new Error("Expected ArrayBuffer to be of length "+"".concat(r.length,", but it was ").concat(n.length));for(var i=0;i<r.length;i++)if(n[i]!==r[i])throw new Error("Expected ArrayBuffer value at ".concat(i," to be ")+"".concat(r[i]," but got ").concat(n[i]," instead"))}function Xt(e){for(var t=0;t<e.length;t++){var n=e[t];Array.isArray(n)?Xt(n):e[t]=(0,Lt.encodeString)(n)}return e}var qt="3.18.0",Yt=n(60136),Kt=n(27277),Qt=n(35875),Jt=n(43312),$t=n(15750),en=n(30651),tn=n(46902),nn=n(7391),rn=n(87293),an=n(66450),on=n(27067),sn=function(e){(0,Yt.Z)(n,e);var t=(0,Kt.Z)(n);function n(){return(0,b.Z)(this,n),t.apply(this,arguments)}return(0,w.Z)(n,[{key:"minimize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.computeGradients(e,n),i=r.value,a=r.grads;if(null!=n){var o=n.map((function(e){return{name:e.name,tensor:a[e.name]}}));this.applyGradients(o)}else this.applyGradients(a);return(0,Qt.B9)(a),t?i:(i.dispose(),null)}},{key:"iterations",get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}},{key:"incrementIterations",value:function(){this.iterations_=this.iterations+1}},{key:"computeGradients",value:function(e,t){return(0,an.pn)(e,t)}},{key:"dispose",value:function(){null!=this.iterations_&&(0,Qt.B9)(this.iterations_)}},{key:"saveIterations",value:function(){var e=(0,S.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==this.iterations_&&(this.iterations_=0),e.abrupt("return",{name:"iter",tensor:(0,on.i)(this.iterations_,"int32")});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWeights",value:function(){var e=(0,S.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for this optimizer yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,S.Z)(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"extractIterations",value:function(){var e=(0,S.Z)(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t[0].tensor.data();case 2:return this.iterations_=e.sent[0],e.abrupt("return",t.slice(1));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Nt);Object.defineProperty(sn,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var un=function(e){(0,Yt.Z)(n,e);var t=(0,Kt.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,b.Z)(this,n),(i=t.call(this)).learningRate=e,i.rho=r,i.epsilon=a,i.accumulatedGrads=[],i.accumulatedUpdates=[],null==a&&(i.epsilon=p.BV.backend.epsilon()),i}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=p.BV.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:"".concat(n,"/accum_grad"),variable:(0,Qt.lu)((function(){return(0,rn.P)(i).variable(false)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:"".concat(n,"/accum_var"),variable:(0,Qt.lu)((function(){return(0,rn.P)(i).variable(false)}))});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;(0,Qt.lu)((function(){var e=(0,Jt.I)((0,en.d)(o,t.rho),(0,en.d)((0,nn.h)(a),1-t.rho)),n=(0,en.d)((0,$t.h)((0,tn._)((0,Jt.I)(s,t.epsilon)),(0,tn._)((0,Jt.I)(o,t.epsilon))),a),r=(0,Jt.I)((0,en.d)(s,t.rho),(0,en.d)((0,nn.h)(n),1-t.rho));o.assign(e),s.assign(r);var u=(0,Jt.I)((0,en.d)(n,-t.learningRate),i);i.assign(u)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedUpdates&&((0,Qt.B9)(this.accumulatedGrads.map((function(e){return e.variable}))),(0,Qt.B9)(this.accumulatedUpdates.map((function(e){return e.variable}))))}},{key:"getWeights",value:function(){var e=(0,S.Z)(k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,Ve.Z)(this.accumulatedGrads),(0,Ve.Z)(this.accumulatedUpdates)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,S.Z)(k().mark((function e(t){var n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=t.length/2,!1,this.accumulatedGrads=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedUpdates=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}]),n}(sn);un.className="Adadelta",Pt(un);var ln=n(8582),cn=function(e){(0,Yt.Z)(n,e);var t=(0,Kt.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return(0,b.Z)(this,n),(r=t.call(this)).learningRate=e,r.initialAccumulatorValue=i,r.accumulatedGrads=[],r}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=p.BV.registeredVariables[n];if(null==t.accumulatedGrads[r]){t.accumulatedGrads[r]={originalName:"".concat(n,"/accumulator"),variable:(0,Qt.lu)((function(){return(0,ln.h)(i.shape,t.initialAccumulatorValue).variable(false)}))}}var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedGrads[r].variable;(0,Qt.lu)((function(){var e=(0,Jt.I)(o,(0,nn.h)(a));o.assign(e);var n=(0,Jt.I)((0,en.d)((0,$t.h)(a,(0,tn._)((0,Jt.I)(e,p.BV.backend.epsilon()))),-t.learningRate),i);i.assign(n)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedGrads&&(0,Qt.B9)(this.accumulatedGrads.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,S.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,S.Z)(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulatedGrads=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}]),n}(sn);cn.className="Adagrad",Pt(cn);var dn=n(44334),fn=n(84774),hn=function(e){(0,Yt.Z)(n,e);var t=(0,Kt.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,b.Z)(this,n),(a=t.call(this)).learningRate=e,a.beta1=r,a.beta2=i,a.epsilon=o,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],(0,Qt.lu)((function(){a.accBeta1=(0,on.i)(r).variable(),a.accBeta2=(0,on.i)(i).variable()})),null==o&&(a.epsilon=p.BV.backend.epsilon()),a}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);(0,Qt.lu)((function(){var r=(0,fn.l)(1,t.accBeta1),i=(0,fn.l)(1,t.accBeta2);n.forEach((function(n,a){var o=p.BV.registeredVariables[n];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:"".concat(n,"/m"),variable:(0,Qt.lu)((function(){return(0,rn.P)(o).variable(false)}))}),null==t.accumulatedSecondMoment[a]&&(t.accumulatedSecondMoment[a]={originalName:"".concat(n,"/v"),variable:(0,Qt.lu)((function(){return(0,rn.P)(o).variable(false)}))});var s=Array.isArray(e)?e[a].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[a].variable,l=t.accumulatedSecondMoment[a].variable,c=(0,Jt.I)((0,en.d)(u,t.beta1),(0,en.d)(s,1-t.beta1)),d=(0,Jt.I)((0,en.d)(l,t.beta2),(0,en.d)((0,nn.h)(s),1-t.beta2)),f=(0,$t.h)(c,r),h=(0,$t.h)(d,i);u.assign(c),l.assign(d);var m=(0,Jt.I)((0,en.d)((0,$t.h)(f,(0,Jt.I)((0,tn._)(h),t.epsilon)),-t.learningRate),o);o.assign(m)}})),t.accBeta1.assign((0,en.d)(t.accBeta1,t.beta1)),t.accBeta2.assign((0,en.d)(t.accBeta2,t.beta2))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&(0,Qt.B9)(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&(0,Qt.B9)(this.accumulatedSecondMoment.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,S.Z)(k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,Ve.Z)(this.accumulatedFirstMoment),(0,Ve.Z)(this.accumulatedSecondMoment)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,S.Z)(k().mark((function e(t){var n,r=this;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,(0,Qt.lu)((function(){r.accBeta1.assign((0,dn.s)(r.beta1,r.iterations_+1)),r.accBeta2.assign((0,dn.s)(r.beta2,r.iterations_+1))})),n=t.length/2,!1,this.accumulatedFirstMoment=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedSecondMoment=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}]),n}(sn);hn.className="Adam",Pt(hn);var pn=n(7613),mn=n(70705),gn=function(e){(0,Yt.Z)(n,e);var t=(0,Kt.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return(0,b.Z)(this,n),(a=t.call(this)).learningRate=e,a.beta1=r,a.beta2=i,a.epsilon=o,a.decay=s,a.accumulatedFirstMoment=[],a.accumulatedWeightedInfNorm=[],(0,Qt.lu)((function(){a.iteration=(0,on.i)(0).variable(),a.accBeta1=(0,on.i)(r).variable()})),null==o&&(a.epsilon=p.BV.backend.epsilon()),a}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);(0,Qt.lu)((function(){var r=(0,fn.l)(1,t.accBeta1),i=(0,$t.h)(-t.learningRate,(0,Jt.I)((0,en.d)(t.iteration,t.decay),1));n.forEach((function(n,a){var o=p.BV.registeredVariables[n];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:"".concat(n,"/m"),variable:(0,rn.P)(o).variable(false)}),null==t.accumulatedWeightedInfNorm[a]&&(t.accumulatedWeightedInfNorm[a]={originalName:"".concat(n,"/v"),variable:(0,rn.P)(o).variable(false)});var s=Array.isArray(e)?e[a].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[a].variable,l=t.accumulatedWeightedInfNorm[a].variable,c=(0,Jt.I)((0,en.d)(u,t.beta1),(0,en.d)(s,1-t.beta1)),d=(0,en.d)(l,t.beta2),f=(0,pn.W)(s),h=(0,mn.g)(d,f);u.assign(c),l.assign(h);var m=(0,Jt.I)((0,en.d)((0,$t.h)(i,r),(0,$t.h)(c,(0,Jt.I)(h,t.epsilon))),o);o.assign(m)}})),t.iteration.assign((0,Jt.I)(t.iteration,1)),t.accBeta1.assign((0,en.d)(t.accBeta1,t.beta1))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&(0,Qt.B9)(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&(0,Qt.B9)(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,S.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,S.Z)(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}]),n}(sn);gn.className="Adamax",Pt(gn);var vn=function(e){(0,Yt.Z)(n,e);var t=(0,Kt.Z)(n);function n(e){var r;return(0,b.Z)(this,n),(r=t.call(this)).learningRate=e,r.setLearningRate(e),r}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=p.BV.registeredVariables[n];(0,Qt.lu)((function(){var e=(0,Jt.I)((0,en.d)(t.c,i),a);a.assign(e)}))}})),this.incrementIterations()}},{key:"setLearningRate",value:function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=(0,Qt.Cn)((0,on.i)(-e))}},{key:"dispose",value:function(){this.c.dispose()}},{key:"getWeights",value:function(){var e=(0,S.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,S.Z)(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:if(0===(t=e.sent).length){e.next=5;break}throw new Error("SGD optimizer does not have settable weights.");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate)}}]),n}(sn);vn.className="SGD",Pt(vn);var yn=function(e){(0,Yt.Z)(n,e);var t=(0,Kt.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,b.Z)(this,n),(i=t.call(this,e)).learningRate=e,i.momentum=r,i.useNesterov=a,i.accumulations=[],i.m=(0,on.i)(i.momentum),i}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=p.BV.registeredVariables[n];if(null==t.accumulations[r]){t.accumulations[r]={originalName:"".concat(n,"/momentum"),variable:(0,Qt.lu)((function(){return(0,rn.P)(i).variable(false)}))}}var a=t.accumulations[r].variable,o=Array.isArray(e)?e[r].tensor:e[n];null!=o&&(0,Qt.lu)((function(){var e,n=(0,Jt.I)((0,en.d)(t.m,a),o);e=t.useNesterov?(0,Jt.I)((0,en.d)(t.c,(0,Jt.I)(o,(0,en.d)(n,t.m))),i):(0,Jt.I)((0,en.d)(t.c,n),i),a.assign(n),i.assign(e)}))})),this.incrementIterations()}},{key:"dispose",value:function(){this.m.dispose(),null!=this.accumulations&&(0,Qt.B9)(this.accumulations.map((function(e){return e.variable})))}},{key:"setMomentum",value:function(e){this.momentum=e}},{key:"getWeights",value:function(){var e=(0,S.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,S.Z)(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulations=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}]),n}(vn);yn.className="Momentum",Pt(yn);var xn=function(e){(0,Yt.Z)(n,e);var t=(0,Kt.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,b.Z)(this,n),(r=t.call(this)).learningRate=e,r.decay=i,r.momentum=a,r.epsilon=o,r.accumulatedMeanSquares=[],r.accumulatedMoments=[],r.accumulatedMeanGrads=[],r.centered=s,null==o&&(r.epsilon=p.BV.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.");return r}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=p.BV.registeredVariables[n],a=!1;null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:"".concat(n,"/rms"),variable:(0,Qt.lu)((function(){return(0,rn.P)(i).variable(a)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:"".concat(n,"/momentum"),variable:(0,Qt.lu)((function(){return(0,rn.P)(i).variable(a)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:"".concat(n,"/mg"),variable:(0,Qt.lu)((function(){return(0,rn.P)(i).variable(a)}))});var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var s=t.accumulatedMeanSquares[r].variable,u=t.accumulatedMoments[r].variable;(0,Qt.lu)((function(){var e=(0,Jt.I)((0,en.d)(s,t.decay),(0,en.d)((0,nn.h)(o),1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,a=(0,Jt.I)((0,en.d)(n,t.decay),(0,en.d)(o,1-t.decay)),l=(0,$t.h)((0,en.d)(o,t.learningRate),(0,tn._)((0,fn.l)(e,(0,Jt.I)((0,nn.h)(a),t.epsilon)))),c=(0,Jt.I)((0,en.d)(u,t.momentum),l);s.assign(e),n.assign(a),u.assign(c);var d=(0,fn.l)(i,c);i.assign(d)}else{var f=(0,Jt.I)((0,en.d)(s,t.decay),(0,en.d)((0,nn.h)(o),1-t.decay)),h=(0,Jt.I)((0,en.d)(u,t.momentum),(0,$t.h)((0,en.d)(o,t.learningRate),(0,tn._)((0,Jt.I)(f,t.epsilon))));s.assign(f),u.assign(h);var p=(0,fn.l)(i,h);i.assign(p)}}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedMeanSquares&&(0,Qt.B9)(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&(0,Qt.B9)(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&(0,Qt.B9)(this.accumulatedMoments.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,S.Z)(k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,Ve.Z)(this.accumulatedMeanSquares),(0,Ve.Z)(this.accumulatedMoments)),this.centered&&t.push.apply(t,(0,Ve.Z)(this.accumulatedMeanGrads)),e.next=4,this.saveIterations();case 4:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,S.Z)(k().mark((function e(t){var n,r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=this.centered?t.length/3:t.length/2,r=!1,this.accumulatedMeanSquares=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.accumulatedMoments=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.centered&&(this.accumulatedMeanGrads=t.slice(2*n,3*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}]),n}(sn);xn.className="RMSProp",Pt(xn);var bn=function(){function e(){(0,b.Z)(this,e)}return(0,w.Z)(e,null,[{key:"sgd",value:function(e){return new vn(e)}},{key:"momentum",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new yn(e,t,n)}},{key:"rmsprop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new xn(e,t,n,r,i)}},{key:"adam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new hn(e,t,n,r)}},{key:"adadelta",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new un(e,t,n)}},{key:"adamax",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return new gn(e,t,n,r,i)}},{key:"adagrad",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return new cn(e,t)}}]),e}(),wn=n(3525),_n=n(5317),Sn=n(47627),Cn={sgd:bn.sgd,momentum:bn.momentum,adadelta:bn.adadelta,adagrad:bn.adagrad,rmsprop:bn.rmsprop,adamax:bn.adamax,adam:bn.adam},kn="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof setImmediate?setImmediate:function(e){return e()};function Dn(){return new Promise((function(e){return kn((function(){return e()}))}))}var Tn=n(88473);function In(e,t){var n=e[0].length;e.forEach((function(e,t){A.hu(e.length===n,(function(){return"Error in concat".concat(n,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(n,")")}))})),A.hu(t>=0&&t<n,(function(){return"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,".")}));var r=e[0];e.forEach((function(e,i){for(var a=0;a<n;a++)A.hu(a===t||e[a]===r[a],(function(){return"Error in concat".concat(n,"D: Shape of tensors[").concat(i,"] (").concat(e,") ")+"does not match the shape of the rest (".concat(r,") ")+"along the non-concatenated axis ".concat(i,".")}))}))}function An(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}var Mn=n(39151),En=n(5171),Nn=30;function Rn(e){return e<=Nn?e:(0,A.jP)(e,Math.floor(Math.sqrt(e)))}function Pn(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function On(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=[];if(r)(i=i.concat(t.slice(0))).push(e[0]/n),i=i.concat(e.slice(1));else{i=i.concat(e[0]);for(var a=t.length,o=0;o<a;++o)i=i.concat([e[o+1]/t[o],t[o]]);i=i.concat(e.slice(a+1))}return i}function Ln(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[];if(n){r.push(t);for(var i=t+1;i<e;++i)i<=2*t?(r.push(i),r.push(i-(t+1))):r.push(i)}else{for(var a=[],o=[],s=1;s<e;++s)s>=2*t+1||s%2===1?o.push(s):a.push(s);r.push.apply(r,a),r.push(0),r.push.apply(r,o)}return r}function Fn(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=[];r?i.push(e[0]/n):i.push(e[0]*n);for(var a=1;a<e.length;++a)a<=t.length?r?i.push(t[a-1]*e[a]):i.push(e[a]/t[a-1]):i.push(e[a]);return i}function Zn(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function Bn(e,t,n){for(var r=e.slice(0,1),i=0;i<n;++i)r.push(e[i+1]-t[i][0]-t[i][1]);return r}var zn=n(20349),Vn=.3275911,jn=.254829592,Wn=-.284496736,Un=1.421413741,Hn=-1.453152027,Gn=1.061405429,Xn=n(17269);function qn(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(e.length,", imag: ").concat(t.length,"."));for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Yn(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function Kn(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),i=0;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}function Qn(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),i=2;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}function Jn(e,t){return{real:e[2*t],imag:e[2*t+1]}}function $n(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function er(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),i=0;i<Math.ceil(e/2);i++){var a=(t?2:-2)*Math.PI*(i/e);n[i]=Math.cos(a),r[i]=Math.sin(a)}return{real:n,imag:r}}function tr(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}var nr="->",rr=/->/g;function ir(e,t){var n=((e=e.replace(/\s/g,"")).length-e.replace(rr,"").length)/nr.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(nr,'").'));var r=e.split(nr),i=(0,D.Z)(r,2),a=i[0],o=i[1];(0,A.hu)(-1===a.indexOf("..."),(function(){return'The ellipsis notation ("'.concat("...",'") is not supported yet.')}));var s=a.split(","),u=s.length;if(t!==u)throw new Error("Expected ".concat(u," input tensors, received ").concat(t));if(u>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");for(var l=[],c=function(e){var t=o[e];if(!s.some((function(e){return-1!==e.indexOf(t)})))throw new Error("Output subscripts contain the label ".concat(t," ")+"not present in the input subscripts.");-1===l.indexOf(t)&&l.push(t)},d=0;d<o.length;++d)c(d);for(var f=0;f<a.length;++f){var h=a[f];-1===l.indexOf(h)&&","!==h&&l.push(h)}for(var p=new Array(s.length),m=0;m<u;++m){if(new Set(s[m].split("")).size!==s[m].length)throw new Error("Found duplicate axes in input component ".concat(s[m],". ")+"Support for duplicate axes in input is not implemented yet.");p[m]=[];for(var g=0;g<s[m].length;++g)p[m].push(l.indexOf(s[m][g]))}for(var v=l.length,y=[],x=o.length;x<v;++x)y.push(x);return{allDims:l,summedDims:y,idDims:p}}function ar(e,t){var n=new Array(e);n.fill(-1);for(var r=0;r<t.length;++r)n[t[r]]=r;for(var i=[],a=0;a<e;++a)-1===n[a]&&i.push(a);return{permutationIndices:n=n.filter((function(e){return-1!==e})),expandDims:i}}function or(e,t,n){for(var r=new Array(e),i=function(e){for(var i=n[e].shape,a=function(n){void 0===r[t[e][n]]?r[t[e][n]]=i[n]:(0,A.hu)(r[t[e][n]]===i[n],(function(){return"Expected dimension ".concat(r[t[e][n]]," at axis ").concat(n," ")+"of input shaped ".concat(JSON.stringify(i),", ")+"but got dimension ".concat(i[n])}))},o=0;o<t[e].length;++o)a(o)},a=0;a<n.length;++a)i(a)}function sr(e,t){var n,r=e,i=[];0===e.length&&r.push(-1),n=e.length+1;for(var a=0;a<n;++a)i.push([]);for(var o=[],s=0;s<r.length;++s){var u,l=lr(t,r[s]),c=(0,_.Z)(l);try{for(c.s();!(u=c.n()).done;){var d=u.value;-1===o.indexOf(d)&&(i[s].push(d),o.push(d))}}catch(Er){c.e(Er)}finally{c.f()}}return{path:r,steps:i}}function ur(e){return e.every((function(e,t){return e===t}))}function lr(e,t){for(var n=[],r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function cr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)(0,A.hu)(e.shape[n]%t===0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(e.shape[n]/t);else{var i=t.reduce((function(e,t){return-1===t&&(e+=1),e}),0);(0,A.hu)(i<=1,(function(){return"There should be only one negative value in split array."}));var a=t.indexOf(-1);if(-1!==a){var o=t.reduce((function(e,t){return t>0?e+t:e}));t[a]=e.shape[n]-o}(0,A.hu)(e.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t}return r}function dr(e){return"Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(e)}function fr(e,t){return"indices(".concat(e,", 0) is invalid: ").concat(t," < 0")}function hr(e,t,n){return"indices(".concat(e,", 0) is invalid: ").concat(t," >= ").concat(n)}function pr(e,t){return"only one output dimension may be -1, not both ".concat(e," and ").concat(t)}function mr(e,t){return"size ".concat(e," must be non-negative, not ").concat(t)}function gr(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function vr(e,t){var n=(0,A.NA)(e),r=(0,A.NA)(t);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(r,". inputShape=").concat(e," outputShape= ").concat(t)}function yr(e,t){var n=(0,A.NA)(e),r=(0,A.NA)(t);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(r,". inputShape=").concat(e," outputShape=").concat(t)}function xr(){return"segment ids must be >= 0"}function br(){return"segment ids are not increasing"}function wr(e,t){return"Segment id ".concat(e," out of range [0, ").concat(t,"), possibly because segmentIds input is not sorted.")}function _r(e,t,n){return"Bad: indices[".concat(e,"] == ").concat(t," out of range [0, ").concat(n,")")}function Sr(e,t){var n,r=!1;for(e<=Nn?(n=e,r=!0):n=(0,A.jP)(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=(0,A.jP)(e,n+1);return n}function Cr(e,t,n){for(var r=[],i=e.length,a=0;a<i;a++)a!==t?r.push(e[a]):r.push(n);return r}function kr(e,t,n,r){var i=t.shape.length,a=e.shape.length;if(0!==r&&(r<-i||r>i))throw new Error("Expect batchDims in the range of [-".concat(i,", ").concat(i,"], but got ").concat(r));if(r<0&&(r+=i),r>a)throw new Error("batchDims (".concat(r,") must be less than rank(x) (\n    ").concat(a,")."));if(n<r)throw new Error("batchDims (".concat(r,") must be less than or equal to axis (").concat(n,")."));for(var o=0;o<r;++o)if(e.shape[o]!==t.shape[o])throw new Error("x.shape[".concat(o,"]: ").concat(e.shape[o]," should be equal to indices.shape[").concat(o,"]: ").concat(t.shape[o],"."));for(var s=e.shape[n],u=[],l=1,c=1,d=1,f=0;f<r;++f)u.push(e.shape[f]),l*=e.shape[f];for(var h=r;h<n;h++)u.push(e.shape[h]),c*=e.shape[h];for(var p=r;p<i;p++)u.push(t.shape[p]);for(var m=n+1;m<a;m++)u.push(e.shape[m]),d*=e.shape[m];return{batchSize:l,sliceSize:d,outerSize:c,dimSize:s,outputShape:u}}function Dr(e){try{return e.map((function(e){return(0,Lt.decodeString)(e)}))}catch(Er){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(Er))}}function Tr(e){return e.map((function(e){return(0,Lt.encodeString)(e)}))}var Ir=n(60745),Ar=n(24189),Mr=n(54679)},32145:function(e,t,n){"use strict";n.d(t,{$H:function(){return dt},$g:function(){return $},$w:function(){return q},Ac:function(){return ge},BM:function(){return Fe},By:function(){return z},CA:function(){return ke},D2:function(){return Vt},Dl:function(){return ut},Eh:function(){return E},FK:function(){return Nt},G3:function(){return en},GB:function(){return Rt},Gc:function(){return Lt},HE:function(){return te},HZ:function(){return ht},Hh:function(){return Oe},Hm:function(){return mt},IK:function(){return l},IM:function(){return b},J$:function(){return Se},J_:function(){return xe},Jh:function(){return v},Kg:function(){return at},L8:function(){return Ot},Ly:function(){return C},M2:function(){return f},MI:function(){return Kt},MR:function(){return Et},MZ:function(){return Ee},NE:function(){return ie},NZ:function(){return qe},O3:function(){return Ft},OA:function(){return ze},OR:function(){return ce},OU:function(){return Ve},OV:function(){return Be},Om:function(){return ne},Oy:function(){return m},PY:function(){return Ae},Ph:function(){return Ct},QC:function(){return g},QR:function(){return W},Qg:function(){return ye},Qi:function(){return rt},Qv:function(){return rn},RF:function(){return D},RO:function(){return y},RQ:function(){return Tt},Ru:function(){return on},SX:function(){return ee},SY:function(){return r},Sb:function(){return yt},Sp:function(){return a},T0:function(){return U},TQ:function(){return Pt},TR:function(){return B},To:function(){return nn},Tr:function(){return qt},Uy:function(){return le},VG:function(){return i},Vb:function(){return Xe},Vc:function(){return j},Vf:function(){return Me},Vn:function(){return Q},W0:function(){return et},XD:function(){return an},XL:function(){return w},Xk:function(){return Xt},Xz:function(){return s},Y0:function(){return oe},YF:function(){return ae},YW:function(){return Bt},Yo:function(){return Le},Zb:function(){return Te},Zj:function(){return zt},Zz:function(){return A},_J:function(){return Ht},_V:function(){return dn},_Y:function(){return gt},_k:function(){return x},_t:function(){return jt},a5:function(){return Mt},aJ:function(){return d},av:function(){return be},b9:function(){return ln},bK:function(){return Wt},bV:function(){return wt},c1:function(){return Ue},cW:function(){return Jt},ci:function(){return H},cy:function(){return $e},de:function(){return ue},dp:function(){return pt},e0:function(){return bt},e6:function(){return lt},e7:function(){return De},eB:function(){return un},eE:function(){return k},eZ:function(){return Pe},ek:function(){return K},gJ:function(){return T},h8:function(){return sn},hd:function(){return re},i5:function(){return At},iH:function(){return V},iJ:function(){return ve},iW:function(){return we},iZ:function(){return me},ik:function(){return F},jM:function(){return p},jQ:function(){return Ge},je:function(){return de},kU:function(){return Ie},kp:function(){return tn},ku:function(){return Ke},lu:function(){return fn},ly:function(){return it},m2:function(){return Ut},mK:function(){return xt},mT:function(){return Ze},mc:function(){return Z},mh:function(){return N},mm:function(){return o},n9:function(){return Qt},nh:function(){return Zt},nr:function(){return St},o0:function(){return st},o2:function(){return L},oF:function(){return kt},oH:function(){return J},oT:function(){return u},p2:function(){return Dt},p4:function(){return Y},pe:function(){return ot},q1:function(){return pe},q2:function(){return We},q8:function(){return He},qC:function(){return Ne},qI:function(){return Re},qW:function(){return tt},qi:function(){return he},qk:function(){return ft},qw:function(){return h},r7:function(){return _e},s1:function(){return Gt},sE:function(){return Yt},sH:function(){return fe},sJ:function(){return c},sL:function(){return G},us:function(){return cn},uv:function(){return Je},vF:function(){return je},vt:function(){return Ce},vw:function(){return se},w3:function(){return It},wU:function(){return R},wY:function(){return Ye},we:function(){return nt},wm:function(){return P},wx:function(){return $t},x1:function(){return O},xJ:function(){return ct},xQ:function(){return _t},xn:function(){return I},y7:function(){return X},yQ:function(){return Qe},yj:function(){return M},zb:function(){return vt},zv:function(){return S},zw:function(){return _}});var r="Abs",i="Acos",a="Acosh",o="Add",s="AddN",u="All",l="Any",c="ArgMax",d="ArgMin",f="Asin",h="Asinh",p="Atan",m="Atanh",g="Atan2",v="AvgPool",y="AvgPoolGrad",x="AvgPool3D",b="AvgPool3DGrad",w="BatchMatMul",_="BatchToSpaceND",S="Bincount",C="BroadcastTo",k="BroadcastArgs",D="Cast",T="Ceil",I="ClipByValue",A="Complex",M="ComplexAbs",E="Concat",N="Conv2D",R="Conv2DBackpropFilter",P="Conv2DBackpropInput",O="Conv3D",L="Conv3DBackpropFilterV2",F="Conv3DBackpropInputV2",Z="Cos",B="Cosh",z="Cumprod",V="Cumsum",j="CropAndResize",W="DenseBincount",U="DepthToSpace",H="DepthwiseConv2dNative",G="DepthwiseConv2dNativeBackpropFilter",X="DepthwiseConv2dNativeBackpropInput",q="Diag",Y="Dilation2D",K="Dilation2DBackpropInput",Q="Dilation2DBackpropFilter",J="RealDiv",$="Einsum",ee="Elu",te="EluGrad",ne="Erf",re="Equal",ie="Exp",ae="ExpandDims",oe="Expm1",se="FFT",ue="Fill",le="FlipLeftRight",ce="Floor",de="FloorDiv",fe="FusedBatchNorm",he="GatherV2",pe="GatherNd",me="Greater",ge="GreaterEqual",ve="Identity",ye="IFFT",xe="Imag",be="IsFinite",we="IsInf",_e="IsNan",Se="LeakyRelu",Ce="Less",ke="LessEqual",De="LinSpace",Te="Log",Ie="Log1p",Ae="LogicalAnd",Me="LogicalNot",Ee="LogicalOr",Ne="LogSoftmax",Re="LowerBound",Pe="LRN",Oe="LRNGrad",Le="Max",Fe="Maximum",Ze="MaxPool",Be="MaxPoolGrad",ze="MaxPool3D",Ve="MaxPool3DGrad",je="MaxPoolWithArgmax",We="Mean",Ue="Min",He="Minimum",Ge="MirrorPad",Xe="Mod",qe="Multinomial",Ye="Multiply",Ke="Neg",Qe="NotEqual",Je="NonMaxSuppressionV3",$e="NonMaxSuppressionV4",et="NonMaxSuppressionV5",tt="OnesLike",nt="OneHot",rt="Pack",it="PadV2",at="Pool",ot="Pow",st="Prelu",ut="Prod",lt="Range",ct="Real",dt="Reciprocal",ft="Relu",ht="Reshape",pt="ResizeNearestNeighbor",mt="ResizeNearestNeighborGrad",gt="ResizeBilinear",vt="ResizeBilinearGrad",yt="Relu6",xt="Reverse",bt="Round",wt="Rsqrt",_t="ScatterNd",St="SearchSorted",Ct="Select",kt="Selu",Dt="Slice",Tt="Sin",It="Sinh",At="Sign",Mt="Sigmoid",Et="Softplus",Nt="Sqrt",Rt="Sum",Pt="SpaceToBatchND",Ot="SplitV",Lt="Softmax",Ft="SparseFillEmptyRows",Zt="SparseReshape",Bt="SparseSegmentMean",zt="SparseSegmentSum",Vt="SparseToDense",jt="SquaredDifference",Wt="Square",Ut="StridedSlice",Ht="StringNGrams",Gt="StringSplit",Xt="StringToHashBucketFast",qt="Sub",Yt="Tan",Kt="Tanh",Qt="Tile",Jt="TopK",$t="Transform",en="Transpose",tn="Unique",nn="Unpack",rn="UnsortedSegmentSum",an="UpperBound",on="ZerosLike",sn="Step",un="FromPixels",ln="RotateWithOffset",cn="_FusedMatMul",dn="FusedConv2D",fn="FusedDepthwiseConv2D"},78864:function(e,t,n){"use strict";n.d(t,{Li:function(){return h},T3:function(){return g},bt:function(){return m},nE:function(){return p},pI:function(){return l},tr:function(){return d},uk:function(){return c},wC:function(){return f}});var r=n(29439),i=n(35050),a=n(96581),o=n(17269),s=(0,a.R)("kernelRegistry",(function(){return new Map})),u=(0,a.R)("gradRegistry",(function(){return new Map}));function l(e,t){var n=v(e,t);return s.get(n)}function c(e){return u.get(e)}function d(e){for(var t=s.entries(),n=[];;){var i=t.next(),a=i.done,o=i.value;if(a)break;var u=(0,r.Z)(o,2),l=u[0],c=u[1],d=l.split("_");(0,r.Z)(d,1)[0]===e&&n.push(c)}return n}function f(e){var t=e.kernelName,n=e.backendName,r=v(t,n);s.has(r)&&o.Z("The kernel '".concat(t,"' for backend ")+"'".concat(n,"' is already registered")),s.set(r,e)}function h(e){var t=e.kernelName;u.has(t)&&(0,i.OB)().getBool("DEBUG")&&o.Z("Overriding the gradient for '".concat(t,"'")),u.set(t,e)}function p(e,t){var n=v(e,t);if(!s.has(n))throw new Error("The kernel '".concat(e,"' for backend ")+"'".concat(t,"' is not registered"));s.delete(n)}function m(e){if(!u.has(e))throw new Error("The gradient '".concat(e,"' for backend is not registered"));u.delete(e)}function g(e,t){d(e).forEach((function(e){f(Object.assign({},e,{backendName:t}))}))}function v(e,t){return"".concat(t,"_").concat(e)}},17269:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},c:function(){return a}});var r=n(35050);function i(){var e;(0,r.OB)().getBool("IS_TEST")||(0,r.OB)().getBool("PROD")||(e=console).warn.apply(e,arguments)}function a(){var e;(0,r.OB)().getBool("IS_TEST")||(0,r.OB)().getBool("PROD")||(e=console).log.apply(e,arguments)}},7613:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({abs_:function(e){var t=(0,a._1)(e,"x","abs");if("complex64"===t.dtype){var n={x:t};return r.BV.runKernel(i.yj,n)}var o={x:t};return r.BV.runKernel(i.SY,o)}})},1719:function(e,t,n){"use strict";n.d(t,{K:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({acos_:function(e){var t={x:(0,a._1)(e,"x","acos")};return r.BV.runKernel(i.VG,t)}})},24502:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({acosh_:function(e){var t={x:(0,a._1)(e,"x","acosh")};return r.BV.runKernel(i.Sp,t)}})},43312:function(e,t,n){"use strict";n.d(t,{I:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({add_:function(e,t){var n=(0,s._1)(e,"a","add"),u=(0,s._1)(t,"b","add"),l=(0,o.makeTypesMatch)(n,u),c=(0,r.Z)(l,2),d={a:n=c[0],b:u=c[1]};return i.BV.runKernel(a.mm,d)}})},15506:function(e,t,n){"use strict";n.d(t,{Q:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({addN_:function(e){o.hu(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),o.hu(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length)}));var t=e.map((function(e,t){return(0,a._1)(e,"tensors".concat(t),"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!o.cO(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var s=t;return r.BV.runKernel(i.Xz,s)}})},14108:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({all_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,a._1)(e,"x","all","bool"),s={x:o},u={axis:t,keepDims:n};return r.BV.runKernel(i.oT,s,u)}})},58543:function(e,t,n){"use strict";n.d(t,{Y:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({any_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,a._1)(e,"x","any","bool"),s={x:o},u={axis:t,keepDims:n};return r.BV.runKernel(i.IK,s,u)}})},29995:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({argMax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,a._1)(e,"x","argMax"),o={x:n},s={axis:t};return r.BV.runKernel(i.sJ,o,s)}})},95157:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({argMin_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,a._1)(e,"x","argMin"),o={x:n},s={axis:t};return r.BV.runKernel(i.aJ,o,s)}})},33053:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({asin_:function(e){var t={x:(0,a._1)(e,"x","asin")};return r.BV.runKernel(i.M2,t)}})},30054:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({asinh_:function(e){var t={x:(0,a._1)(e,"x","asinh")};return r.BV.runKernel(i.qw,t)}})},64778:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({atan_:function(e){var t={x:(0,a._1)(e,"x","atan")};return r.BV.runKernel(i.jM,t)}})},32227:function(e,t,n){"use strict";n.d(t,{f:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({atan2_:function(e,t){var n=(0,s._1)(e,"a","atan2"),u=(0,s._1)(t,"b","atan2"),l=(0,o.makeTypesMatch)(n,u),c=(0,r.Z)(l,2),d={a:n=c[0],b:u=c[1]};return i.BV.runKernel(a.QC,d)}})},47897:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({atanh_:function(e){var t={x:(0,a._1)(e,"x","atanh")};return r.BV.runKernel(i.Oy,t)}})},49204:function(e,t,n){"use strict";n.d(t,{w:function(){return d}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(99118),u=n(39151),l=n(38640),c=n(75561);var d=(0,l.op)({avgPool_:function(e,t,n,l,d){var f=(0,a._1)(e,"x","avgPool","float32");o.hu(u.jT(n,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")}));var h=f,p=!1;3===f.rank&&(p=!0,h=(0,c.X)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),o.hu(4===h.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank ".concat(h.rank,".")})),u.m("avgPool",l,d);var m={x:h},g={filterSize:t,strides:n,pad:l,dimRoundingMode:d},v=r.BV.runKernel(i.Jh,m,g);return v=(0,s.p)(v,f.dtype),p?(0,c.X)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},65840:function(e,t,n){"use strict";n.d(t,{u:function(){return d}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(39151),u=n(99118),l=n(38640),c=n(75561);var d=(0,l.op)({avgPool3d_:function(e,t,n,l,d){var f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",h=(0,a._1)(e,"x","avgPool3d","float32"),p=h,m=!1;4===h.rank&&(m=!0,p=(0,c.X)(h,[1,h.shape[0],h.shape[1],h.shape[2],h.shape[3]])),o.hu(5===p.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank ".concat(p.rank,".")})),o.hu("NDHWC"===f,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(f)})),(0,s.m)("avgPool3d",l,d);var g={x:p},v={filterSize:t,strides:n,pad:l,dimRoundingMode:d,dataFormat:f},y=r.BV.runKernel(i._k,g,v);return y=(0,u.p)(y,p.dtype),m?(0,c.X)(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}})},88473:function(e,t,n){"use strict";n.d(t,{LJ:function(){return c},Q3:function(){return l},Vh:function(){return a},YB:function(){return i},kz:function(){return o},lB:function(){return u},rv:function(){return s},sY:function(){return d}});var r=n(36147);function i(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function a(e,t,n){for(var r=e.length+t.length,i=[],a=0,o=0,s=0;s<r;s++)-1===n.indexOf(s)?i.push(e[a++]):i.push(t[o++]);return i}function o(e,t){for(var n=[],r=e.length,i=0;i<r;i++)-1===t.indexOf(i)&&n.push(e[i]);var a=t.map((function(t){return e[t]}));return[n,a]}function s(e,t){return a(e,t.map((function(e){return 1})),t)}function u(e,t,n){r.hu(i(t,n),(function(){return"".concat(e," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(n," input.")}))}function l(e,t){if(i(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function c(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function d(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}},36994:function(e,t,n){"use strict";n.d(t,{E:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({batchToSpaceND_:function(e,t,n){var s=(0,a._1)(e,"x","batchToSpaceND"),u=t.reduce((function(e,t){return e*t}));o.hu(s.rank>=1+t.length,(function(){return"input rank is ".concat(s.rank," but should be > than blockShape.length ").concat(t.length)})),o.hu(n.length===t.length,(function(){return"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length)})),o.hu(s.shape[0]%u===0,(function(){return"input tensor batch is ".concat(s.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(u)}));var l={x:s},c={blockShape:t,crops:n};return r.BV.runKernel(i.zw,l,c)}})},63700:function(e,t,n){"use strict";n.d(t,{t:function(){return u}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(75561);var u=(0,n(38640).op)({batchNorm_:function(e,t,n,u,l,c){null==c&&(c=.001);var d,f,h=(0,a._1)(e,"x","batchNorm"),p=(0,a._1)(t,"mean","batchNorm"),m=(0,a._1)(n,"variance","batchNorm");null!=l&&(d=(0,a._1)(l,"scale","batchNorm")),null!=u&&(f=(0,a._1)(u,"offset","batchNorm")),o.hu(p.rank===m.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),o.hu(null==f||p.rank===f.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),o.hu(null==d||p.rank===d.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var g=function(e){return 0===e.rank||1===e.rank?(0,s.X)(e,[1,1,1,e.size]):2===e.rank?(0,s.X)(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?(0,s.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e}(h),v={x:g,scale:d,offset:f,mean:p,variance:m},y={varianceEpsilon:c},x=r.BV.runKernel(i.sH,v,y);return(0,s.X)(x,h.shape)}})},77531:function(e,t,n){"use strict";n.d(t,{y:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({bincount_:function(e,t,n){var s=(0,a._1)(e,"x","bincount"),u=(0,a._1)(t,"weights","bincount");o.hu("int32"===s.dtype,(function(){return"Error in bincount: input "+"dtype must be int32, but got ".concat(s.dtype)})),o.hu(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),o.hu(u.size===s.size||0===u.size,(function(){return"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(s.shape,", weights shape: ")+"".concat(u.shape,".")}));var l={x:s,weights:u},c={size:n};return r.BV.runKernel(i.zv,l,c)}})},80238:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({broadcastArgs_:function(e,t){var n=(0,a._1)(e,"s0","broadcastArgs","int32"),o=(0,a._1)(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(1!==o.rank)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(o.rank));var s={s0:n,s1:o};return r.BV.runKernel(i.eE,s)}})},49742:function(e,t,n){"use strict";n.d(t,{U:function(){return l}});var r=n(70318),i=n(32145),a=n(48354),o=n(10672),s=n(38640),u=n(75561);var l=(0,s.op)({broadcastTo_:function(e,t){var n=(0,a._1)(e,"broadcastTo","x"),s=n.shape;if(t.some((function(e){return!(e>0)||e%1!==0})))throw new Error("broadcastTo(): Invalid broadcast shape [".concat(t,"]."));if(t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){for(var l=n.shape.slice();l.length<t.length;)l.unshift(1);n=(0,u.X)(n,l)}for(var c=n.shape,d=Array.from(t),f=t.length-1;f>=0;f--)if(c[f]===t[f])d[f]=1;else if(1!==n.shape[f])throw new Error("broadcastTo(): [".concat(s,"] cannot be broadcast to [").concat(t,"]."));var h=d.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0}));if(0===h.length)return(0,o.d)(n);var p={x:n},m={reps:d};return r.BV.runKernel(i.n9,p,m)}})},45774:function(e,t,n){"use strict";function r(e,t){for(var n=e.length,r=[],i=0;i<n;i++){var a=n-1-i,o=e[a]||1;(t[t.length-1-i]||1)>1&&1===o&&r.unshift(a)}return r}function i(e,t){for(var n=[],r=0;r<t.length;r++){var i=e[e.length-r-1],a=t.length-r-1,o=t[a];(null==i||1===i&&o>1)&&n.unshift(a)}return n}function a(e,t){for(var n=[],r=Math.max(e.length,t.length),i=0;i<r;i++){var a=e[e.length-i-1];null==a&&(a=1);var o=t[t.length-i-1];if(null==o&&(o=1),1===a)n.unshift(o);else if(1===o)n.unshift(a);else{if(a!==o){var s="Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,".");throw Error(s)}n.unshift(a)}}return n}n.r(t),n.d(t,{assertAndGetBroadcastShape:function(){return a},getBroadcastDims:function(){return r},getReductionAxes:function(){return i}})},77039:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});var r=n(4376),i=n(36147);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",i.Mu(e),new r.YD(e,t,n)}},99118:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({cast_:function(e,t){var n=(0,a._1)(e,"x","cast");if(!o.LP(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var s={x:n},u={dtype:t};return r.BV.runKernel(i.RF,s,u)}})},31396:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({ceil_:function(e){var t={x:(0,a._1)(e,"x","ceil","float32")};return r.BV.runKernel(i.gJ,t)}})},89836:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({clipByValue_:function(e,t,n){var s=(0,a._1)(e,"x","clipByValue");o.hu(t<=n,(function(){return"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(n,").")}));var u={x:s},l={clipValueMin:t,clipValueMax:n};return r.BV.runKernel(i.xn,u,l)}})},10672:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({clone_:function(e){var t={x:(0,a._1)(e,"x","clone","string_or_numeric")};return r.BV.runKernel(i.iJ,t)}})},59253:function(e,t,n){"use strict";n.d(t,{P:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({complex_:function(e,t){var n=(0,a._1)(e,"real","complex"),s=(0,a._1)(t,"imag","complex");o.k5(n.shape,s.shape,"real and imag shapes, ".concat(n.shape," and ").concat(s.shape,", ")+"must match in call to tf.complex().");var u={real:n,imag:s};return r.BV.runKernel(i.Zz,u)}})},34836:function(e,t,n){"use strict";n.d(t,{z:function(){return u}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(10672);var u=(0,n(38640).op)({concat_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,o.hu)(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=(0,a.sI)(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))})),1===n.length)return(0,s.d)(n[0]);var u=n,l={axis:t};return r.BV.runKernel(i.Eh,u,l)}})},44918:function(e,t,n){"use strict";n.d(t,{P:function(){return l}});var r=n(48354),i=n(36147),a=n(93457),o=n(39151),s=n(38640),u=n(75561);var l=(0,s.op)({conv1d_:function(e,t,n,s){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,d=arguments.length>6?arguments[6]:void 0,f=(0,r._1)(e,"x","conv1d"),h=(0,r._1)(t,"filter","conv1d"),p=f,m=!1;2===f.rank&&(m=!0,p=(0,u.X)(f,[1,f.shape[0],f.shape[1]])),i.hu(3===p.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank ".concat(p.rank,".")})),i.hu(3===h.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+"".concat(h.rank,".")})),o.m("conv1d",s,d),i.hu(p.shape[2]===h.shape[1],(function(){return"Error in conv1d: depth of input (".concat(p.shape[2],") must match ")+"input depth for filter ".concat(h.shape[1],".")})),i.hu(o.jT(n,c),(function(){return"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(c,"'")})),i.hu("NWC"===l,(function(){return"Error in conv1d: got dataFormat of ".concat(l," but only NWC is currently supported.")}));var g=(0,u.X)(h,[1,h.shape[0],h.shape[1],h.shape[2]]),v=(0,u.X)(p,[p.shape[0],1,p.shape[1],p.shape[2]]),y=[1,n],x=[1,c],b="NHWC",w=(0,a.T)(v,g,y,s,b,x,d);return m?(0,u.X)(w,[w.shape[2],w.shape[3]]):(0,u.X)(w,[w.shape[0],w.shape[2],w.shape[3]])}})},93457:function(e,t,n){"use strict";n.d(t,{T:function(){return c}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(39151),u=n(38640),l=n(75561);var c=(0,u.op)({conv2d_:function(e,t,n,u){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],f=arguments.length>6?arguments[6]:void 0,h=(0,a._1)(e,"x","conv2d","float32"),p=(0,a._1)(t,"filter","conv2d","float32"),m=h,g=!1;3===h.rank&&(g=!0,m=(0,l.X)(h,[1,h.shape[0],h.shape[1],h.shape[2]])),o.hu(4===m.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank ".concat(m.rank,".")})),o.hu(4===p.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+"".concat(p.rank,".")})),s.m("conv2d",u,f);var v="NHWC"===c?m.shape[3]:m.shape[1];o.hu(v===p.shape[2],(function(){return"Error in conv2d: depth of input (".concat(v,") must match ")+"input depth for filter ".concat(p.shape[2],".")})),o.hu(s.jT(n,d),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(d,"'")}));var y={x:m,filter:p},x={strides:n,pad:u,dataFormat:c,dilations:d,dimRoundingMode:f},b=r.BV.runKernel(i.mh,y,x);return g?(0,l.X)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},8744:function(e,t,n){"use strict";n.d(t,{p:function(){return l}});var r=n(70318),i=n(32145),a=n(36147),o=n(39151),s=n(38640),u=n(75561);var l=(0,s.op)({conv2DBackpropFilter_:function(e,t,n,s,l){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",d=arguments.length>6?arguments[6]:void 0,f=e;3===e.rank&&(f=(0,u.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var h=t;3===h.rank&&(h=(0,u.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]])),a.hu(4===f.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(f.shape,".")})),a.hu(4===h.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(h.shape,".")})),a.hu(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,".")}));var p="NHWC"===c?f.shape[3]:f.shape[1],m="NHWC"===c?h.shape[3]:h.shape[1];a.hu(p===n[2],(function(){return"Error in conv2dDerFilter: depth of input ".concat(p,") must ")+"match input depth in filter (".concat(n[2],".")})),a.hu(m===n[3],(function(){return"Error in conv2dDerFilter: depth of dy (".concat(m,") must ")+"match output depth for filter (".concat(n[3],").")})),o.m("conv2dDerFilter",l,d);var g={x:f,dy:h},v={strides:s,pad:l,dataFormat:c,dimRoundingMode:d,filterShape:n};return r.BV.runKernel(i.wU,g,v)}})},21045:function(e,t,n){"use strict";n.d(t,{_:function(){return l}});var r=n(70318),i=n(32145),a=n(36147),o=n(39151),s=n(38640),u=n(75561);var l=(0,s.op)({conv2DBackpropInput_:function(e,t,n,s,l){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",d=arguments.length>6?arguments[6]:void 0;a.hu(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var f=e,h=t,p=!1;3===t.rank&&(p=!0,h=(0,u.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]),f=[1,e[0],e[1],e[2]]),a.hu(4===f.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(f.length,".")})),a.hu(4===h.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(h.rank)})),a.hu(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank)}));var m="NHWC"===c?f[3]:f[1],g="NHWC"===c?h.shape[3]:h.shape[1];a.hu(m===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input (".concat(m,") must ")+"match input depth for filter ".concat(n.shape[2],".")})),a.hu(g===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output (".concat(g,") must ")+"match output depth for filter ".concat(n.shape[3],".")})),o.m("conv2dDerInput",l,d);var v={dy:h,filter:n},y={strides:s,pad:l,dataFormat:c,dimRoundingMode:d,inputShape:f},x=r.BV.runKernel(i.wm,v,y);return p?(0,u.X)(x,[x.shape[1],x.shape[2],x.shape[3]]):x}})},71732:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});var r=n(48354),i=n(21045);var a=(0,n(38640).op)({conv2dTranspose_:function(e,t,n,a,o,s){var u=(0,r._1)(e,"x","conv2dTranspose"),l=(0,r._1)(t,"filter","conv2dTranspose");return(0,i._)(n,u,l,a,o,"NHWC",s)}})},48113:function(e,t,n){"use strict";n.d(t,{p:function(){return c}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(39151),u=n(38640),l=n(75561);var c=(0,u.op)({conv3d_:function(e,t,n,u){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1],f=(0,a._1)(e,"x","conv3d"),h=(0,a._1)(t,"filter","conv3d"),p=f,m=!1;4===f.rank&&(m=!0,p=(0,l.X)(f,[1,f.shape[0],f.shape[1],f.shape[2],f.shape[3]])),o.hu(5===p.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank ".concat(p.rank,".")})),o.hu(5===h.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+"".concat(h.rank,".")})),o.hu(p.shape[4]===h.shape[3],(function(){return"Error in conv3d: depth of input (".concat(p.shape[4],") must match ")+"input depth for filter ".concat(h.shape[3],".")})),o.hu((0,s.jT)(n,d),(function(){return"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(d,"'")})),o.hu("NDHWC"===c,(function(){return"Error in conv3d: got dataFormat of ".concat(c," but only NDHWC is currently supported.")}));var g={x:p,filter:h},v={strides:n,pad:u,dataFormat:c,dilations:d},y=r.BV.runKernel(i.x1,g,v);return m?(0,l.X)(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}})},61873:function(e,t,n){"use strict";n.d(t,{_:function(){return u}});var r=n(70318),i=n(32145),a=n(36147),o=n(38640),s=n(75561);var u=(0,o.op)({conv3DBackpropInput_:function(e,t,n,o,u){a.hu(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var l=e,c=t,d=!1;4===t.rank&&(d=!0,c=(0,s.X)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),l=[1,e[0],e[1],e[2],e[3]]);var f=l[4],h=c.shape[4];a.hu(5===l.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(l.length,".")})),a.hu(5===c.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(c.rank)})),a.hu(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank)})),a.hu(f===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input (".concat(f,") must ")+"match input depth for filter ".concat(n.shape[3],".")})),a.hu(h===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output (".concat(h,") must ")+"match output depth for filter ".concat(n.shape[4],".")}));var p={dy:c,filter:n},m={pad:u,strides:o,inputShape:l},g=r.BV.runKernel(i.ik,p,m);return d?(0,s.X)(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}})},39151:function(e,t,n){"use strict";n.d(t,{I0:function(){return y},Ix:function(){return l},Rf:function(){return o},Xw:function(){return s},aO:function(){return d},jT:function(){return x},jw:function(){return c},m:function(){return w},pl:function(){return u},sl:function(){return b}});var r=n(29439),i=n(93433),a=n(36147);function o(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5?arguments[5]:void 0,s=e[3],u=[].concat((0,i.Z)(t),[s]),c=b(a);return l(e,u,n,o,r,null,null,c)}function s(e,t,n,i,a,o){var s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",c=f(t),d=(0,r.Z)(c,2),h=d[0],p=d[1];if("channelsLast"===u)s=[h,p,e[3],e[3]];else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat ".concat(u));s=[h,p,e[1],e[1]]}return l(e,s,n,i,a,o,!1,u)}function u(e,t,n,i,a,o){var s,u,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC",d=h(t),f=(0,r.Z)(d,3),p=f[0],m=f[1],g=f[2];if("NDHWC"===l)u="channelsLast",s=[p,m,g,e[4],e[4]];else{if("NCDHW"!==l)throw new Error("Unknown dataFormat ".concat(l));u="channelsFirst",s=[p,m,g,e[1],e[1]]}return c(e,s,n,i,a,!1,u,o)}function l(e,t,n,i,a,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",l=-1,c=-1,d=-1,h=-1;if("channelsLast"===u){var g=(0,r.Z)(e,4);l=g[0],c=g[1],d=g[2],h=g[3]}else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat ".concat(u));var v=(0,r.Z)(e,4);l=v[0],h=v[1],c=v[2],d=v[3]}var y,x=(0,r.Z)(t,4),b=x[0],w=x[1],_=x[3],S=f(n),C=(0,r.Z)(S,2),k=C[0],D=C[1],T=f(i),I=(0,r.Z)(T,2),A=I[0],M=I[1],E=p(b,A),N=p(w,M),R=m(a,c,d,k,D,E,N,o,u),P=R.padInfo,O=R.outHeight,L=R.outWidth,F=s?_*h:_;return"channelsFirst"===u?y=[l,F,O,L]:"channelsLast"===u&&(y=[l,O,L,F]),{batchSize:l,dataFormat:u,inHeight:c,inWidth:d,inChannels:h,outHeight:O,outWidth:L,outChannels:F,padInfo:P,strideHeight:k,strideWidth:D,filterHeight:b,filterWidth:w,effectiveFilterHeight:E,effectiveFilterWidth:N,dilationHeight:A,dilationWidth:M,inShape:e,outShape:y,filterShape:t}}function c(e,t,n,i,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",u=arguments.length>7?arguments[7]:void 0,l=-1,c=-1,d=-1,f=-1,m=-1;if("channelsLast"===s){var v=(0,r.Z)(e,5);l=v[0],c=v[1],d=v[2],f=v[3],m=v[4]}else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));var y=(0,r.Z)(e,5);l=y[0],m=y[1],c=y[2],d=y[3],f=y[4]}var x,b=(0,r.Z)(t,5),w=b[0],_=b[1],S=b[2],C=b[4],k=h(n),D=(0,r.Z)(k,3),T=D[0],I=D[1],A=D[2],M=h(i),E=(0,r.Z)(M,3),N=E[0],R=E[1],P=E[2],O=p(w,N),L=p(_,R),F=p(S,P),Z=g(a,c,d,f,T,I,A,O,L,F,u),B=Z.padInfo,z=Z.outDepth,V=Z.outHeight,j=Z.outWidth,W=o?C*m:C;return"channelsFirst"===s?x=[l,W,z,V,j]:"channelsLast"===s&&(x=[l,z,V,j,W]),{batchSize:l,dataFormat:s,inDepth:c,inHeight:d,inWidth:f,inChannels:m,outDepth:z,outHeight:V,outWidth:j,outChannels:W,padInfo:B,strideDepth:T,strideHeight:I,strideWidth:A,filterDepth:w,filterHeight:_,filterWidth:S,effectiveFilterDepth:O,effectiveFilterHeight:L,effectiveFilterWidth:F,dilationDepth:N,dilationHeight:R,dilationWidth:P,inShape:e,outShape:x,filterShape:t}}function d(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=p(t,r);return Math.floor((e[0]*(n-1)-n+i)/2)}function f(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function h(e){return"number"===typeof e?[e,e,e]:e}function p(e,t){return t<=1?e:e+(e-1)*(t-1)}function m(e,t,n,r,i,a,o,s,u){var l,c,f;if("number"===typeof e){l={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var h=function(e,t,n,r,i){null==r&&(r=d(e,t,n));var a=e[0],o=e[1];return[v((a-t+2*r)/n+1,i),v((o-t+2*r)/n+1,i)]}([t,n],a,r,e,s);c=h[0],f=h[1]}else if("same"===e){c=Math.ceil(t/r),f=Math.ceil(n/i);var p=Math.max(0,(c-1)*r+a-t),m=Math.max(0,(f-1)*i+o-n),g=Math.floor(p/2),y=p-g,x=Math.floor(m/2);l={top:g,bottom:y,left:x,right:m-x,type:"SAME"}}else if("valid"===e)l={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-a+1)/r),f=Math.ceil((n-o+1)/i);else{if("object"!==typeof e)throw Error("Unknown padding parameter: ".concat(e));var b="channelsLast"===u?e[1][0]:e[2][0],w="channelsLast"===u?e[1][1]:e[2][1],_="channelsLast"===u?e[2][0]:e[3][0],S="channelsLast"===u?e[2][1]:e[3][1];l={top:b,bottom:w,left:_,right:S,type:0===b&&0===w&&0===_&&0===S?"VALID":"EXPLICIT"},c=v((t-a+b+w)/r+1,s),f=v((n-o+_+S)/i+1,s)}return{padInfo:l,outHeight:c,outWidth:f}}function g(e,t,n,r,i,a,o,s,u,l,c){var f,h,p,m;if("number"===typeof e){f={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var g=function(e,t,n,r,i,a){null==i&&(i=d(e,t,r));var o=e[0],s=e[1],u=e[2];return[v((o-t+2*i)/r+1,a),v((s-t+2*i)/r+1,a),v((u-t+2*i)/r+1,a),n]}([t,n,r,1],s,1,i,e,c);h=g[0],p=g[1],m=g[2]}else if("same"===e){var y=((h=Math.ceil(t/i))-1)*i+s-t,x=((p=Math.ceil(n/a))-1)*a+u-n,b=((m=Math.ceil(r/o))-1)*o+l-r,w=Math.floor(y/2),_=y-w,S=Math.floor(x/2),C=x-S,k=Math.floor(b/2);f={top:S,bottom:C,left:k,right:b-k,front:w,back:_,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: ".concat(e));f={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},h=Math.ceil((t-s+1)/i),p=Math.ceil((n-u+1)/a),m=Math.ceil((r-l+1)/o)}return{padInfo:f,outDepth:h,outHeight:p,outWidth:m}}function v(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function y(e){var t=f(e),n=(0,r.Z)(t,3),i=n[0],a=n[1],o=n[2];return 1===i&&1===a&&1===o}function x(e,t){return y(e)||y(t)}function b(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(e))}function w(e,t,n){if(null!=n){if("string"===typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."));if("number"===typeof t)a.hu(a.GN(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}));else{if("object"!==typeof t)throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t));t.forEach((function(t){t.forEach((function(t){a.hu(a.GN(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}))}))}))}}}},21227:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({cos_:function(e){var t={x:(0,a._1)(e,"x","cos","float32")};return r.BV.runKernel(i.mc,t)}})},46679:function(e,t,n){"use strict";n.d(t,{f:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({cosh_:function(e){var t={x:(0,a._1)(e,"x","cosh","float32")};return r.BV.runKernel(i.TR,t)}})},69457:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({cumprod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=(0,a._1)(e,"x","cumprod"),u={x:s},l={axis:t,exclusive:n,reverse:o};return r.BV.runKernel(i.By,u,l)}})},58862:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({cumsum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=(0,a._1)(e,"x","cumsum"),u={x:s},l={axis:t,exclusive:n,reverse:o};return r.BV.runKernel(i.iH,u,l)}})},57419:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({denseBincount_:function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=(0,a._1)(e,"x","denseBincount"),l=(0,a._1)(t,"weights","denseBincount");o.hu("int32"===u.dtype,(function(){return"Error in denseBincount: input "+"dtype must be int32, but got ".concat(u.dtype)})),o.hu(u.rank<=2,(function(){return"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(u.rank,".")})),o.hu(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),o.hu(l.size===u.size||0===l.size,(function(){return"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(u.shape,", weights shape: ")+"".concat(l.shape,".")}));var c={x:u,weights:l},d={size:n,binaryOutput:s};return r.BV.runKernel(i.QR,c,d)}})},91878:function(e,t,n){"use strict";n.d(t,{n:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({depthToSpace_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC",s=(0,a._1)(e,"x","depthToSpace","float32"),u="NHWC"===n?s.shape[1]:s.shape[2],l="NHWC"===n?s.shape[2]:s.shape[3],c="NHWC"===n?s.shape[3]:s.shape[1];o.hu(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: ".concat(t)})),o.hu(u*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(u," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(s.shape)})),o.hu(l*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(l," and ").concat(t," for depthToSpace with input shape\n        ").concat(s.shape)})),o.hu(c%(t*t)===0,(function(){return"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(c," for depthToSpace with input shape ").concat(s.shape)}));var d={x:s},f={blockSize:t,dataFormat:n};return r.BV.runKernel(i.T0,d,f)}})},61147:function(e,t,n){"use strict";n.d(t,{B:function(){return c}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(39151),u=n(38640),l=n(75561);var c=(0,u.op)({depthwiseConv2d_:function(e,t,n,u){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],f=arguments.length>6?arguments[6]:void 0,h=(0,a._1)(e,"x","depthwiseConv2d","float32"),p=(0,a._1)(t,"filter","depthwiseConv2d","float32"),m=h,g=!1;3===h.rank&&(g=!0,m=(0,l.X)(h,[1,h.shape[0],h.shape[1],h.shape[2]])),o.hu(4===m.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(m.rank,".")})),o.hu(4===p.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(p.rank,".")})),o.hu(m.shape[3]===p.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels "+"(".concat(m.shape[3],") must match the inChannels dimension in ")+"filter ".concat(p.shape[2],".")})),s.m("depthwiseConv2d",u,f);var v={x:m,filter:p},y={strides:n,pad:u,dataFormat:c,dilations:d,dimRoundingMode:f},x=r.BV.runKernel(i.ci,v,y);return g?(0,l.X)(x,[x.shape[1],x.shape[2],x.shape[3]]):x}})},60288:function(e,t,n){"use strict";n.d(t,{z:function(){return s}});var r=n(70318),i=n(32145),a=n(38640),o=n(75561);var s=(0,a.op)({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,a,s){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],l=arguments.length>6?arguments[6]:void 0,c=e;3===e.rank&&(c=(0,o.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var d=t;3===d.rank&&(d=(0,o.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var f={x:c,dy:d},h={strides:a,pad:s,dimRoundingMode:l,dilations:u,filterShape:n};return r.BV.runKernel(i.sL,f,h)}})},96939:function(e,t,n){"use strict";n.d(t,{v:function(){return s}});var r=n(70318),i=n(32145),a=n(38640),o=n(75561);var s=(0,a.op)({depthwiseConv2dNativeBackpropInput_:function(e,t,n,a,s){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],l=arguments.length>6?arguments[6]:void 0,c=t,d=!1;3===t.rank&&(d=!0,c=(0,o.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var f={dy:c,filter:n},h={strides:a,pad:s,dimRoundingMode:l,dilations:u,inputShape:e},p=r.BV.runKernel(i.y7,f,h);return d?(0,o.X)(p,[p.shape[1],p.shape[2],p.shape[3]]):p}})},57580:function(e,t,n){"use strict";n.d(t,{W:function(){return l}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(38640),u=n(75561);var l=(0,s.op)({dilation2d_:function(e,t,n,s){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",d=(0,a._1)(e,"x","dilation2d"),f=(0,a._1)(t,"filter","dilation2d");o.hu(3===d.rank||4===d.rank,(function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(d.rank,".")})),o.hu(3===f.rank,(function(){return"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(f.rank,".")})),o.hu("NHWC"===c,(function(){return"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(c)}));var h=d,p=!1;3===d.rank&&(h=(0,u.X)(d,[1,d.shape[0],d.shape[1],d.shape[2]]),p=!0);var m={x:h,filter:f},g={strides:n,pad:s,dilations:l},v=r.BV.runKernel(i.p4,m,g);return p?(0,u.X)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},15750:function(e,t,n){"use strict";n.d(t,{h:function(){return l}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(67145);var l=(0,n(38640).op)({div_:function(e,t){var n=(0,s._1)(e,"a","div"),l=(0,s._1)(t,"b","div"),c=(0,o.makeTypesMatch)(n,l),d=(0,r.Z)(c,2);if(n=d[0],l=d[1],"int32"===n.dtype&&"int32"===l.dtype)return(0,u.q)(n,l);var f={a:n,b:l};return i.BV.runKernel(a.oH,f,{})}})},75923:function(e,t,n){"use strict";n.d(t,{N:function(){return d}});var r=n(29439),i=n(99064),a=n(48354),o=n(15750),s=n(63254),u=n(38640),l=n(10329),c=n(87293);var d=(0,u.op)({divNoNan_:function(e,t){var n=(0,a._1)(e,"a","div"),u=(0,a._1)(t,"b","div"),d=(0,i.makeTypesMatch)(n,u),f=(0,r.Z)(d,2);n=f[0],u=f[1];var h=(0,o.h)(n,u),p=(0,c.P)(h),m=(0,s.D)(u,p);return(0,l.a)(m,p,h)}})},45043:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(48354),i=n(36147),a=n(57221),o=n(38640),s=n(75561);var u=(0,o.op)({dot_:function(e,t){var n=(0,r._1)(e,"t1","dot"),o=(0,r._1)(t,"t2","dot");i.hu((1===n.rank||2===n.rank)&&(1===o.rank||2===o.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(o.rank,".")}));var u=1===n.rank?n.size:n.shape[1],l=1===o.rank?o.size:o.shape[0];if(i.hu(u===l,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+"".concat(u," and ").concat(l,".")})),1===n.rank&&1===o.rank){var c=(0,s.X)(n,[1,-1]),d=(0,s.X)(o,[-1,1]),f=(0,a.O)(c,d);return(0,s.X)(f,[])}if(1===n.rank&&2===o.rank){var h=(0,s.X)(n,[1,-1]),p=(0,s.X)(o,[o.shape[0],o.shape[1]]),m=(0,a.O)(h,p);return(0,s.X)(m,[m.size])}if(2===n.rank&&1===o.rank){var g=(0,s.X)(o,[-1,1]),v=(0,a.O)(n,g);return(0,s.X)(v,[v.size])}var y=(0,s.X)(o,[o.shape[0],o.shape[1]]);return(0,a.O)(n,y)}})},58060:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var s=n.map((function(e,t){return(0,a._1)(e,"tensors".concat(t),"einsum")})),u={equation:e};return r.BV.runKernel(i.$g,s,u)}})},52353:function(e,t,n){"use strict";n.d(t,{p:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({elu_:function(e){var t={x:(0,a._1)(e,"x","elu","float32")};return r.BV.runKernel(i.SX,t)}})},63254:function(e,t,n){"use strict";n.d(t,{D:function(){return l}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774);var l=(0,n(38640).op)({equal_:function(e,t){var n=(0,s._1)(e,"a","equal","string_or_numeric"),l=(0,s._1)(t,"b","equal","string_or_numeric"),c=(0,o.makeTypesMatch)(n,l),d=(0,r.Z)(c,2);n=d[0],l=d[1],(0,u.assertAndGetBroadcastShape)(n.shape,l.shape);var f={a:n,b:l};return i.BV.runKernel(a.hd,f)}})},93891:function(e,t,n){"use strict";n.d(t,{q:function(){return u}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(99118);var u=(0,n(38640).op)({erf_:function(e){var t=(0,a._1)(e,"x","erf");o.hu("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=(0,s.p)(t,"float32"));var n={x:t};return r.BV.runKernel(i.Om,n)}})},13313:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var r=n(56662);var i=(0,n(38640).op)({euclideanNorm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.K)(e,"euclidean",t,n)}})},411:function(e,t,n){"use strict";n.d(t,{Q:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({exp_:function(e){var t={x:(0,a._1)(e,"x","exp")};return r.BV.runKernel(i.NE,t)}})},72975:function(e,t,n){"use strict";n.d(t,{d:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({expandDims_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,a._1)(e,"x","expandDims","string_or_numeric");o.hu(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var s={input:n},u={dim:t};return r.BV.runKernel(i.YF,s,u)}})},15682:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({expm1_:function(e){var t={x:(0,a._1)(e,"x","expm1")};return r.BV.runKernel(i.Y0,t)}})},8582:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(70318),i=n(32145);function a(e,t,n){var a={shape:e,value:t,dtype:n};return r.BV.runKernel(i.de,{},a)}},22628:function(e,t,n){"use strict";n.d(t,{G:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({floor_:function(e){var t={x:(0,a._1)(e,"x","floor","float32")};return r.BV.runKernel(i.OR,t)}})},67145:function(e,t,n){"use strict";n.d(t,{q:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({floorDiv_:function(e,t){var n=(0,s._1)(e,"a","floorDiv"),u=(0,s._1)(t,"b","floorDiv"),l=(0,o.makeTypesMatch)(n,u),c=(0,r.Z)(l,2),d={a:n=c[0],b:u=c[1]};return i.BV.runKernel(a.je,d)}})},6947:function(e,t,n){"use strict";n.r(t),n.d(t,{conv2d:function(){return x},depthwiseConv2d:function(){return S},matMul:function(){return k}});var r=n(29439),i=n(70318),a=n(66450),o=n(32145),s=n(99064),u=n(48354),l=n(36147),c=n(43312),d=n(45774),f=n(93457),h=n(8744),p=n(21045),m=n(39151),g=n(5171),v=n(38640),y=n(75561);var x=(0,v.op)({fusedConv2d_:function(e){var t=e.x,n=e.filter,v=e.strides,x=e.pad,b=e.dataFormat,w=void 0===b?"NHWC":b,_=e.dilations,S=void 0===_?[1,1]:_,C=e.dimRoundingMode,k=e.bias,D=e.activation,T=void 0===D?"linear":D,I=e.preluActivationWeights,A=e.leakyreluAlpha;if(T=T||"linear",!1===(0,g.uy)(i.BV.state.gradientDepth,T)){l.hu("NHWC"===w,(function(){return"Error in fused conv2d: got dataFormat of ".concat(w," but ")+"only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear."}));var M=(0,f.T)(t,n,v,x,w,S,C);return null!=k&&(M=(0,c.I)(M,k)),(0,g.QH)(M,T,I,A)}var E=(0,u._1)(t,"x","conv2d","float32"),N=(0,u._1)(n,"filter","conv2d","float32"),R=E,P=!1;3===E.rank&&(P=!0,R=(0,y.X)(E,[1,E.shape[0],E.shape[1],E.shape[2]])),l.hu(4===R.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(R.rank,".")})),l.hu(4===N.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(N.rank,".")})),m.m("fused conv2d",x,C);var O="NHWC"===w?R.shape[3]:R.shape[1];l.hu(N.shape[2]===O,(function(){return"Error in conv2d: depth of input (".concat(O,") must match ")+"input depth for filter ".concat(N.shape[2],".")})),l.hu(m.jT(v,S),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(v," and dilations '").concat(S,"'")}));var L,F,Z=m.Ix(R.shape,N.shape,v,S,x,C);if(null!=k){L=(0,u._1)(k,"bias","fused conv2d");var B=(0,s.makeTypesMatch)(L,E),z=(0,r.Z)(B,1);L=z[0],"NHWC"===w?d.assertAndGetBroadcastShape(Z.outShape,L.shape):(l.hu(L.shape.length<=1,(function(){return"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+"rank-".concat(L.shape.length,".")})),l.hu(0===L.shape.length||L.shape[0]===Z.outChannels||1===L.shape[0],(function(){return"Error in fused conv2d: bias shape (".concat(L.shape,") is not ")+"compatible with the number of output channels "+"(".concat(Z.outChannels,")")})))}if(null!=I){var V=I.shape;if(l.hu(V.length<=1||3===V.length,(function(){return"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+"rank-".concat(V.length,".")})),1===V.length)l.hu(1===V[0]||V[0]===Z.outChannels,(function(){return"Error in fused conv2d: PReLU activation weights "+"(".concat(V,") is not compatible with the number of output ")+"channels (".concat(Z.outChannels,").")}));else if(3===V.length)try{d.assertAndGetBroadcastShape(V,Z.outShape)}catch(q){var j="Error in fused conv2d: PReLU activation weights (".concat(V,") ")+"is not compatible with the output shape of the conv2d "+"(".concat(Z.outShape,").");throw Error(j)}F=(0,u._1)(I,"prelu weights","fused conv2d")}var W=function(e,t){l.hu("NHWC"===w,(function(){return"Error in gradient of fused conv2D: got dataFormat of ".concat(w," but only NHWC is currently supported.")}));var n=(0,r.Z)(t,4),i=n[0],a=n[1],o=n[2],s=n[3],u=(0,g.Fr)(e,o,T);l.hu(m.I0(S),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(S,"'")}));var c=[(0,p._)(a.shape,u,i,v,x),(0,h.p)(a,u,i.shape,v,x)];if(null!=s){var d=(0,g.pf)(s,u);c.push(d)}return c},U={x:R,filter:N,bias:L,preluActivationWeights:F},H={strides:v,pad:x,dataFormat:w,dilations:S,dimRoundingMode:C,activation:T,leakyreluAlpha:A};if(null==k){var G=(0,a.cb)((function(e,t,n){var r=i.BV.runKernel(o._V,U,H);return n([t,e,r]),P&&(r=(0,y.X)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:W}}));return G(R,N)}var X=(0,a.cb)((function(e,t,n,r){var a=i.BV.runKernel(o._V,U,H);return r([t,e,a,n]),P&&(a=(0,y.X)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:W}}));return X(R,N,L)}}),b=n(61147),w=n(60288),_=n(96939);var S=(0,v.op)({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,f=e.strides,h=e.pad,p=e.dataFormat,v=void 0===p?"NHWC":p,x=e.dilations,S=void 0===x?[1,1]:x,C=e.dimRoundingMode,k=e.bias,D=e.activation,T=void 0===D?"linear":D,I=e.preluActivationWeights,A=e.leakyreluAlpha;if(!1===(0,g.uy)(i.BV.state.gradientDepth,T)){var M=(0,b.B)(t,n,f,h,v,S,C);return null!=k&&(M=(0,c.I)(M,k)),(0,g.QH)(M,T,I,A)}var E=(0,u._1)(t,"x","depthwiseConv2d","float32"),N=(0,u._1)(n,"filter","depthwiseConv2d","float32"),R=E,P=!1;3===E.rank&&(P=!0,R=(0,y.X)(E,[1,E.shape[0],E.shape[1],E.shape[2]])),l.hu(4===R.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(R.rank,".")})),l.hu(4===N.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(N.rank,".")})),l.hu(R.shape[3]===N.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels "+"(".concat(R.shape[3],") must match the inChannels dimension in ")+"filter ".concat(N.shape[2],".")})),null==S&&(S=[1,1]),l.hu(m.jT(f,S),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(f," and dilations '").concat(S,"'")})),m.m("fused depthwiseConv2d",h,C);var O,L,F=m.Ix(R.shape,N.shape,f,S,h,C,!0);if(null!=k){O=(0,u._1)(k,"bias","fused conv2d");var Z=(0,s.makeTypesMatch)(O,E),B=(0,r.Z)(Z,1);O=B[0],d.assertAndGetBroadcastShape(F.outShape,O.shape)}null!=I&&(L=(0,u._1)(I,"prelu weights","fused depthwiseConv2d"));var z=function(e,t){l.hu(m.I0(S),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(S,"'")}));var n=(0,r.Z)(t,4),i=n[0],a=n[1],o=n[2],s=n[3],u=(0,g.Fr)(e,o,T),c=(0,_.v)(a.shape,u,i,f,h,S,C),d=(0,w.z)(a,u,i.shape,f,h,S,C);return null!=s?[c,d,(0,g.pf)(O,u)]:[c,d]},V={x:R,filter:N,bias:O,preluActivationWeights:L},j={strides:f,pad:h,dataFormat:v,dilations:S,dimRoundingMode:C,activation:T,leakyreluAlpha:A};if(null==k){var W=(0,a.cb)((function(e,t,n){var r=i.BV.runKernel(o.lu,V,j);return n([t,e,r]),P&&(r=(0,y.X)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:z}}));return W(R,N)}var U=(0,a.cb)((function(e,t,n,r){var a=i.BV.runKernel(o.lu,V,j);return r([t,e,a,n]),P&&(a=(0,y.X)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:z}}));return U(R,N,O)}}),C=n(57221);var k=(0,v.op)({fusedMatMul_:function(e){var t=e.a,n=e.b,f=e.transposeA,h=void 0!==f&&f,p=e.transposeB,m=void 0!==p&&p,v=e.bias,x=e.activation,b=void 0===x?"linear":x,w=e.preluActivationWeights,_=e.leakyreluAlpha;if(!1===(0,g.uy)(i.BV.state.gradientDepth,b)){var S=(0,C.O)(t,n,h,m);return null!=v&&(S=(0,c.I)(S,v)),(0,g.QH)(S,b,w,_)}var k=(0,u._1)(t,"a","fused matMul"),D=(0,u._1)(n,"b","fused matMul"),T=(0,s.makeTypesMatch)(k,D),I=(0,r.Z)(T,2);k=I[0],D=I[1];var A=h?k.shape[k.rank-2]:k.shape[k.rank-1],M=m?D.shape[D.rank-1]:D.shape[D.rank-2],E=h?k.shape[k.rank-1]:k.shape[k.rank-2],N=m?D.shape[D.rank-2]:D.shape[D.rank-1],R=k.shape.slice(0,-2),P=D.shape.slice(0,-2),O=l.NA(R),L=l.NA(P);l.hu(A===M,(function(){return"Error in fused matMul: inner shapes (".concat(A,") and (")+"".concat(M,") of Tensors with shapes ").concat(k.shape," and ")+"".concat(D.shape," and transposeA=").concat(h)+" and transposeB=".concat(m," must match.")}));var F,Z,B=d.assertAndGetBroadcastShape(k.shape.slice(0,-2),D.shape.slice(0,-2)).concat([E,N]),z=h?(0,y.X)(k,[O,A,E]):(0,y.X)(k,[O,E,A]),V=m?(0,y.X)(D,[L,N,M]):(0,y.X)(D,[L,M,N]);if(null!=v){F=(0,u._1)(v,"bias","fused matMul");var j=(0,s.makeTypesMatch)(F,k);F=(0,r.Z)(j,1)[0],d.assertAndGetBroadcastShape(B,F.shape)}null!=w&&(Z=(0,u._1)(w,"prelu weights","fused matMul"));var W=function(e,t){var n,i,a=(0,r.Z)(t,4),o=a[0],s=a[1],u=a[2],l=a[3],c=(0,g.Fr)((0,y.X)(e,u.shape),u,b);return h||m?!h&&m?(n=(0,C.O)(c,s,!1,!1),i=(0,C.O)(c,o,!0,!1)):h&&!m?(n=(0,C.O)(s,c,!1,!0),i=(0,C.O)(o,c,!1,!1)):(n=(0,C.O)(s,c,!0,!0),i=(0,C.O)(c,o,!0,!0)):(n=(0,C.O)(c,s,!1,!0),i=(0,C.O)(o,c,!0,!1)),null!=v?[n,i,(0,g.pf)(l,c)]:[n,i]},U={a:z,b:V,bias:F,preluActivationWeights:Z},H={transposeA:h,transposeB:m,activation:b,leakyreluAlpha:_};if(null==v){var G=(0,a.cb)((function(e,t,n){var r=i.BV.runKernel(o.us,U,H);return n([e,t,r]),{value:(0,y.X)(r,B),gradFunc:W}}));return G(z,V)}var X=(0,a.cb)((function(e,t,n,r){var a=i.BV.runKernel(o.us,U,H);return r([e,t,a,n]),{value:(0,y.X)(a,B),gradFunc:W}}));return X(z,V,F)}})},5171:function(e,t,n){"use strict";n.d(t,{Fr:function(){return p},QH:function(){return g},pf:function(){return m},uy:function(){return v}});var r=n(45774),i=n(52353),a=n(74419),o=n(30651),s=n(96859),u=n(17539),l=n(65900),c=n(75561),d=n(77643),f=n(94031),h=n(40227);function p(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return(0,o.d)(e,(0,f.N)(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function m(e,t){var n=t,i=r.getReductionAxes(e.shape,t.shape);return i.length>0&&(n=(0,h.S)(n,i)),(0,c.X)(n,e.shape)}function g(e,t,n,r){if("linear"===t)return e;if("relu"===t)return(0,u.U)(e);if("elu"===t)return(0,i.p)(e);if("relu6"===t)return(0,l.b)(e);if("prelu"===t)return(0,s.A)(e,n);if("leakyrelu"===t)return(0,a.h)(e,r);if("sigmoid"===t)return(0,d.X)(e);throw new Error("Unknown fused activation ".concat(t,"."))}var v=function(e,t){return!(e>0)||"linear"===t}},49498:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({gather_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=(0,a._1)(e,"x","gather"),u=(0,a._1)(t,"indices","gather","int32"),l={x:s,indices:u},c={axis:n,batchDims:o};return r.BV.runKernel(i.qi,l,c)}})},53357:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({gatherND_:function(e,t){var n=(0,a._1)(t,"indices","gatherND","int32"),o={params:(0,a._1)(e,"x","gatherND","string_or_numeric"),indices:n};return r.BV.runKernel(i.q1,o)}})},35014:function(e,t,n){"use strict";n.d(t,{p:function(){return l}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774);var l=(0,n(38640).op)({greater_:function(e,t){var n=(0,s._1)(e,"a","greater","string_or_numeric"),l=(0,s._1)(t,"b","greater","string_or_numeric"),c=(0,o.makeTypesMatch)(n,l),d=(0,r.Z)(c,2);n=d[0],l=d[1],(0,u.assertAndGetBroadcastShape)(n.shape,l.shape);var f={a:n,b:l};return i.BV.runKernel(a.iZ,f)}})},18327:function(e,t,n){"use strict";n.d(t,{b:function(){return l}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774);var l=(0,n(38640).op)({greaterEqual_:function(e,t){var n=(0,s._1)(e,"a","greaterEqual","string_or_numeric"),l=(0,s._1)(t,"b","greaterEqual","string_or_numeric"),c=(0,o.makeTypesMatch)(n,l),d=(0,r.Z)(c,2);n=d[0],l=d[1],(0,u.assertAndGetBroadcastShape)(n.shape,l.shape);var f={a:n,b:l};return i.BV.runKernel(a.Ac,f)}})},76996:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({imag_:function(e){var t={input:(0,a._1)(e,"input","imag")};return r.BV.runKernel(i.J_,t)}})},90464:function(e,t,n){"use strict";n.d(t,{I:function(){return c}});var r=n(84506),i=n(70318),a=n(32145),o=n(48354),s=n(36147),u=n(38640),l=n(75561);var c=(0,u.op)({resizeBilinear_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=(0,o._1)(e,"images","resizeBilinear");s.hu(3===c.rank||4===c.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(c.rank,".")})),s.hu(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,".")})),s.hu(!1===u||!1===n,(function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."}));var d=c,f=!1;3===c.rank&&(f=!0,d=(0,l.X)(c,[1,c.shape[0],c.shape[1],c.shape[2]])),(0,r.Z)(t);var h={images:d},p={alignCorners:n,halfPixelCenters:u,size:t},m=i.BV.runKernel(a._Y,h,p);return f?(0,l.X)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},28600:function(e,t,n){"use strict";n.d(t,{j:function(){return c}});var r=n(84506),i=n(70318),a=n(32145),o=n(48354),s=n(36147),u=n(38640),l=n(75561);var c=(0,u.op)({resizeNearestNeighbor_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=(0,o._1)(e,"images","resizeNearestNeighbor");s.hu(3===c.rank||4===c.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(c.rank,".")})),s.hu(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,".")})),s.hu("float32"===c.dtype||"int32"===c.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"})),s.hu(!1===u||!1===n,(function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."}));var d=c,f=!1;3===c.rank&&(f=!0,d=(0,l.X)(c,[1,c.shape[0],c.shape[1],c.shape[2]])),(0,r.Z)(t);var h={images:d},p={alignCorners:n,halfPixelCenters:u,size:t},m=i.BV.runKernel(a.dp,h,p);return f?(0,l.X)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},10300:function(e,t,n){"use strict";n.d(t,{x:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({isFinite_:function(e){var t={x:(0,a._1)(e,"x","isFinite")};return r.BV.runKernel(i.av,t)}})},74652:function(e,t,n){"use strict";n.d(t,{U:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({isInf_:function(e){var t={x:(0,a._1)(e,"x","isInf")};return r.BV.runKernel(i.iW,t)}})},37005:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({isNaN_:function(e){var t={x:(0,a._1)(e,"x","isNaN")};return r.BV.runKernel(i.r7,t)}})},74419:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({leakyRelu_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=(0,a._1)(e,"x","leakyRelu"),o={x:n},s={alpha:t};return r.BV.runKernel(i.J$,o,s)}})},44920:function(e,t,n){"use strict";n.d(t,{d:function(){return l}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774);var l=(0,n(38640).op)({less_:function(e,t){var n=(0,s._1)(e,"a","less","string_or_numeric"),l=(0,s._1)(t,"b","less","string_or_numeric"),c=(0,o.makeTypesMatch)(n,l),d=(0,r.Z)(c,2);n=d[0],l=d[1],(0,u.assertAndGetBroadcastShape)(n.shape,l.shape);var f={a:n,b:l};return i.BV.runKernel(a.vt,f)}})},12642:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774);var l=(0,n(38640).op)({lessEqual_:function(e,t){var n=(0,s._1)(e,"a","lessEqual","string_or_numeric"),l=(0,s._1)(t,"b","lessEqual","string_or_numeric"),c=(0,o.makeTypesMatch)(n,l),d=(0,r.Z)(c,2);n=d[0],l=d[1],(0,u.assertAndGetBroadcastShape)(n.shape,l.shape);var f={a:n,b:l};return i.BV.runKernel(a.CA,f)}})},62453:function(e,t,n){"use strict";n.d(t,{S:function(){return a}});var r=n(70318),i=n(32145);function a(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");var a={start:e,stop:t,num:n};return r.BV.runKernel(i.e7,{},a)}},40936:function(e,t,n){"use strict";n.d(t,{G:function(){return l}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(38640),u=n(75561);var l=(0,s.op)({localResponseNormalization_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,c=(0,a._1)(e,"x","localResponseNormalization");o.hu(4===c.rank||3===c.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(c.rank,".")})),o.hu(o.GN(t),(function(){return"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")}));var d=c,f=!1;3===c.rank&&(f=!0,d=(0,u.X)(c,[1,c.shape[0],c.shape[1],c.shape[2]]));var h={x:d},p={depthRadius:t,bias:n,alpha:s,beta:l},m=r.BV.runKernel(i.eZ,h,p);return f?(0,u.X)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},40378:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({log_:function(e){var t={x:(0,a._1)(e,"x","log","float32")};return r.BV.runKernel(i.Zb,t)}})},95341:function(e,t,n){"use strict";n.d(t,{K:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({log1p_:function(e){var t={x:(0,a._1)(e,"x","log1p")};return r.BV.runKernel(i.kU,t)}})},25113:function(e,t,n){"use strict";n.d(t,{e:function(){return c}});var r=n(66450),i=n(48354),a=n(30651),o=n(4362),s=n(38640),u=n(77643),l=n(54626);var c=(0,s.op)({logSigmoid_:function(e){var t=(0,i._1)(e,"x","logSigmoid"),n=(0,r.cb)((function(e){return{value:(0,o.W)((0,l.W)((0,o.W)(e))),gradFunc:function(t){return(0,a.d)(t,(0,u.X)((0,o.W)(e)))}}}));return n(t)}})},54561:function(e,t,n){"use strict";n.d(t,{C:function(){return p}});var r=n(29439),i=n(66450),a=n(48354),o=n(99118),s=n(411),u=n(40378),l=n(56176),c=n(30651),d=n(38640),f=n(84774),h=n(40227);var p=(0,d.op)({logSoftmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=(0,a._1)(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(t));var d=(0,i.cb)((function(e,n){var i=(0,l.F)(e,t,!0),a=(0,f.l)(e,i),d=(0,f.l)((0,o.p)(a,"float32"),(0,u.c)((0,h.S)((0,s.Q)(a),t,!0)));n([d]);return{value:d,gradFunc:function(e,n){var i=(0,r.Z)(n,1)[0],a=(0,s.Q)(i);return(0,f.l)(e,(0,c.d)((0,h.S)(e,t,!0),a))}}}));return d(n)}})},15530:function(e,t,n){"use strict";n.d(t,{l:function(){return p}});var r=n(48354),i=n(36147),a=n(43312),o=n(88473),s=n(411),u=n(40378),l=n(56176),c=n(38640),d=n(75561),f=n(84774),h=n(40227);var p=(0,c.op)({logSumExp_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=(0,r._1)(e,"x","logSumExp"),p=(0,i.EC)(t,c.shape),m=(0,l.F)(c,p,!0),g=(0,f.l)(c,m),v=(0,s.Q)(g),y=(0,h.S)(v,p),x=(0,u.c)(y),b=(0,a.I)((0,d.X)(m,x.shape),x);if(n){var w=(0,o.rv)(b.shape,p);return(0,d.X)(b,w)}return b}})},2177:function(e,t,n){"use strict";n.d(t,{H:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(45774);var s=(0,n(38640).op)({logicalAnd_:function(e,t){var n=(0,a._1)(e,"a","logicalAnd","bool"),s=(0,a._1)(t,"b","logicalAnd","bool");(0,o.assertAndGetBroadcastShape)(n.shape,s.shape);var u={a:n,b:s};return r.BV.runKernel(i.PY,u)}})},30875:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({logicalNot_:function(e){var t={x:(0,a._1)(e,"x","logicalNot","bool")};return r.BV.runKernel(i.Vf,t)}})},15117:function(e,t,n){"use strict";n.d(t,{K:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(45774);var s=(0,n(38640).op)({logicalOr_:function(e,t){var n=(0,a._1)(e,"a","logicalOr","bool"),s=(0,a._1)(t,"b","logicalOr","bool");(0,o.assertAndGetBroadcastShape)(n.shape,s.shape);var u={a:n,b:s};return r.BV.runKernel(i.MZ,u)}})},11712:function(e,t,n){"use strict";n.d(t,{e:function(){return u}});var r=n(48354),i=n(45774),a=n(2177),o=n(30875),s=n(15117);var u=(0,n(38640).op)({logicalXor_:function(e,t){var n=(0,r._1)(e,"a","logicalXor","bool"),u=(0,r._1)(t,"b","logicalXor","bool");return(0,i.assertAndGetBroadcastShape)(n.shape,u.shape),(0,a.H)((0,s.K)(e,t),(0,o.h)((0,a.H)(e,t)))}})},47627:function(e,t,n){"use strict";var r;n.d(t,{I:function(){return r}}),function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(r||(r={}))},94255:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});var r=n(9028);function i(e,t){return(0,r.z)(e,t,"left")}},57221:function(e,t,n){"use strict";n.d(t,{O:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({matMul_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=(0,s._1)(e,"a","matMul"),c=(0,s._1)(t,"b","matMul"),d=(0,o.makeTypesMatch)(l,c),f=(0,r.Z)(d,2),h={a:l=f[0],b:c=f[1]},p={transposeA:n,transposeB:u};return i.BV.runKernel(a.XL,h,p)}})},56176:function(e,t,n){"use strict";n.d(t,{F:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({max_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,a._1)(e,"x","max"),s={x:o},u={reductionIndices:t,keepDims:n};return r.BV.runKernel(i.Yo,s,u)}})},85777:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(39151),u=n(38640),l=n(75561);var c=(0,u.op)({maxPool_:function(e,t,n,u,c){var d=(0,a._1)(e,"x","maxPool"),f=d,h=!1;3===d.rank&&(h=!0,f=(0,l.X)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),o.hu(4===f.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(f.rank,".")})),o.hu(s.jT(n,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")})),s.m("maxPool",u,c);var p={x:f},m={filterSize:t,strides:n,pad:u,dimRoundingMode:c},g=r.BV.runKernel(i.mT,p,m);return h?(0,l.X)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},39185:function(e,t,n){"use strict";n.d(t,{Y:function(){return c}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(39151),u=n(38640),l=n(75561);var c=(0,u.op)({maxPool3d_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",f=(0,a._1)(e,"x","maxPool3d"),h=f,p=!1;4===f.rank&&(p=!0,h=(0,l.X)(f,[1,f.shape[0],f.shape[1],f.shape[2],f.shape[3]])),o.hu(5===h.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank ".concat(h.rank,".")})),o.hu("NDHWC"===d,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(d)})),(0,s.m)("maxPool3d",u,c);var m={x:h},g={filterSize:t,strides:n,pad:u,dimRoundingMode:c,dataFormat:d},v=r.BV.runKernel(i.OA,m,g);return p?(0,l.X)(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}})},78811:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({maxPoolWithArgmax_:function(e,t,n,o){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=(0,a._1)(e,"x","maxPoolWithArgmax"),l={x:u},c={filterSize:t,strides:n,pad:o,includeBatchInIndex:s},d=r.BV.runKernel(i.vF,l,c);return{result:d[0],indexes:d[1]}}})},70705:function(e,t,n){"use strict";n.d(t,{g:function(){return c}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774),l=n(99118);var c=(0,n(38640).op)({maximum_:function(e,t){var n=(0,s._1)(e,"a","maximum"),c=(0,s._1)(t,"b","maximum"),d=(0,o.makeTypesMatch)(n,c),f=(0,r.Z)(d,2);n=f[0],c=f[1],"bool"===n.dtype&&(n=(0,l.p)(n,"int32"),c=(0,l.p)(c,"int32")),(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var h={a:n,b:c};return i.BV.runKernel(a.BM,h)}})},6568:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({mean_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,a._1)(e,"x","mean"),s={x:o},u={axis:t,keepDims:n};return r.BV.runKernel(i.q2,s,u)}})},77891:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({min_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,a._1)(e,"x","min"),s={x:o},u={axis:t,keepDims:n};return r.BV.runKernel(i.c1,s,u)}})},82273:function(e,t,n){"use strict";n.d(t,{L:function(){return c}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774),l=n(99118);var c=(0,n(38640).op)({minimum_:function(e,t){var n=(0,s._1)(e,"a","minimum"),c=(0,s._1)(t,"b","minimum"),d=(0,o.makeTypesMatch)(n,c),f=(0,r.Z)(d,2);n=f[0],c=f[1],"bool"===n.dtype&&(n=(0,l.p)(n,"int32"),c=(0,l.p)(c,"int32")),(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var h={a:n,b:c};return i.BV.runKernel(a.q8,h)}})},27613:function(e,t,n){"use strict";n.d(t,{V:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({mirrorPad_:function(e,t,n){o.hu("reflect"===n||"symmetric"===n,(function(){return"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,".")}));var s=(0,a._1)(e,"x","mirrorPad");if(0===s.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");o.hu(t.length===s.rank,(function(){return"Padding doesn't match input. Must be ".concat(s.rank,". ")+"Got ".concat(t.length,".")}));for(var u="reflect"===n?1:0,l=function(e){o.hu(2===t[e].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),o.hu(t[e][0]>=0&&t[e][0]<=s.shape[e]-u&&t[e][1]>=0&&t[e][1]<=s.shape[e]-u,(function(){return"Padding in dimension ".concat(e," cannot be greater than or equal ")+"to ".concat(s.shape[e]-u," or less than 0 for input of ")+"shape ".concat(s.shape)}))},c=0;c<s.rank;c++)l(c);var d={paddings:t,mode:n},f={x:s};return r.BV.runKernel(i.jQ,f,d)}})},84645:function(e,t,n){"use strict";n.d(t,{w:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({mod_:function(e,t){var n=(0,s._1)(e,"a","mod"),u=(0,s._1)(t,"b","mod"),l=(0,o.makeTypesMatch)(n,u),c=(0,r.Z)(l,2),d={a:n=c[0],b:u=c[1]};return i.BV.runKernel(a.Vb,d)}})},30651:function(e,t,n){"use strict";n.d(t,{d:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({mul_:function(e,t){var n=(0,s._1)(e,"a","mul"),u=(0,s._1)(t,"b","mul"),l=(0,o.makeTypesMatch)(n,u),c=(0,r.Z)(l,2),d={a:n=c[0],b:u=c[1]};return i.BV.runKernel(a.wY,d)}})},4660:function(e,t,n){"use strict";n.d(t,{S:function(){return u}});var r=n(70318),i=n(32145),a=n(48354),o=n(38640),s=n(75561);var u=(0,o.op)({multinomial_:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=(0,a._1)(e,"logits","multinomial"),l=u.size,c=u.rank;if(l<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(l,"."));if(c>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(c));n=n||Math.random();var d=1===c?(0,s.X)(u,[1,-1]):u,f={logits:d},h={numSamples:t,seed:n,normalized:o},p=r.BV.runKernel(i.NZ,f,h);return 1===c?(0,s.X)(p,[p.size]):p}})},4362:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({neg_:function(e){var t={x:(0,a._1)(e,"x","neg")};return r.BV.runKernel(i.ku,t)}})},56662:function(e,t,n){"use strict";n.d(t,{K:function(){return v}});var r=n(48354),i=n(36147),a=n(7613),o=n(88473),s=n(56176),u=n(77891),l=n(38640),c=n(44334),d=n(75561),f=n(27067),h=n(46902),p=n(7391),m=n(40227);function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return(0,a.W)(e);if(1!==e.rank&&null===n)return g((0,d.X)(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return(0,m.S)((0,a.W)(e),n);if(t===1/0)return(0,s.F)((0,a.W)(e),n);if(t===-1/0)return(0,u.V)((0,a.W)(e),n);if("euclidean"===t||2===t)return(0,h._)((0,m.S)((0,c.s)((0,a.W)(e),(0,f.i)(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}if(Array.isArray(n)&&2===n.length){if(1===t)return(0,s.F)((0,m.S)((0,a.W)(e),n[0]),n[1]-1);if(t===1/0)return(0,s.F)((0,m.S)((0,a.W)(e),n[1]),n[0]);if(t===-1/0)return(0,u.V)((0,m.S)((0,a.W)(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return(0,h._)((0,m.S)((0,p.h)(e),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}throw new Error("Error in norm: invalid axis: ".concat(n))}var v=(0,l.op)({norm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=g(e=(0,r._1)(e,"x","norm"),t,n),u=s.shape;if(a){var l=(0,i.EC)(n,e.shape);u=o.rv(s.shape,l)}return(0,d.X)(s,u)}})},15549:function(e,t,n){"use strict";n.d(t,{Q:function(){return l}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774);var l=(0,n(38640).op)({notEqual_:function(e,t){var n=(0,s._1)(e,"a","notEqual","string_or_numeric"),l=(0,s._1)(t,"b","notEqual","string_or_numeric"),c=(0,o.makeTypesMatch)(n,l),d=(0,r.Z)(c,2);n=d[0],l=d[1],(0,u.assertAndGetBroadcastShape)(n.shape,l.shape);var f={a:n,b:l};return i.BV.runKernel(a.yQ,f)}})},34326:function(e,t,n){"use strict";n.d(t,{l:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({oneHot_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));var s=(0,a._1)(e,"indices","oneHot","int32"),u={indices:s},l={depth:t,onValue:n,offValue:o};return r.BV.runKernel(i.we,u,l)}})},86100:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var r=n(70318),i=n(36147),a=n(59253),o=n(87742);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=s(e,"float32"),u=(0,o.l)(e,"float32");return(0,a.P)(n,u)}var l=(0,i.p8)((0,i.NA)(e),t);return r.BV.makeTensor(l,e,t)}},20773:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({onesLike_:function(e){var t={x:(0,a._1)(e,"x","onesLike")};return r.BV.runKernel(i.qW,t)}})},38640:function(e,t,n){"use strict";n.d(t,{op:function(){return o},z:function(){return a}});var r=n(70318),i=n(36147),a="__op";function o(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));var n=t[0],o=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=a;var s=function(){r.BV.startScope(n);try{var e=o.apply(void 0,arguments);return(0,i.tI)(e)&&console.error("Cannot return a Promise inside of tidy."),r.BV.endScope(e),e}catch(t){throw r.BV.endScope(null),t}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}},5317:function(e,t,n){"use strict";n.d(t,{zvA:function(){return S.z},WnP:function(){return r.W},Khb:function(){return i.K},__u:function(){return a._},IHx:function(){return o.I},QBD:function(){return s.Q},$6P:function(){return u.$},YjB:function(){return l.Y},NqF:function(){return c.N},vHJ:function(){return d.v},ZRM:function(){return f.Z},VfV:function(){return h.V},z4N:function(){return p.z},fvJ:function(){return m.f},C80:function(){return g.C},wS1:function(){return v.w},uR5:function(){return y.u},zEQ:function(){return T},tgs:function(){return A.t},Dxk:function(){return E},JY5:function(){return N},p3b:function(){return R},E4h:function(){return I.E},yE8:function(){return P.y},anm:function(){return Wn},XsQ:function(){return O.X},UFq:function(){return L.U},f3b:function(){return F.f},pju:function(){return Z.p},mDi:function(){return B.m},iUl:function(){return z.i},d9v:function(){return V.d},PYB:function(){return j.P},zoF:function(){return b.z},gME:function(){return W},Izb:function(){return U},MNy:function(){return H},ZaL:function(){return G},PAt:function(){return X.P},Tek:function(){return q.T},bc:function(){return Y.b},pdZ:function(){return K.p},$QV:function(){return J},mCk:function(){return $.m},f9Y:function(){return ee.f},mew:function(){return er},$Gn:function(){return te.$},zbp:function(){return ne.z},ppE:function(){return re.p},nTT:function(){return ie.n},B10:function(){return ae.B},Ka3:function(){return ue},WmZ:function(){return le.W},hiC:function(){return ce.h},NTj:function(){return de.N},AKD:function(){return fe.A},rvX:function(){return Jn},WYO:function(){return he.W},pyx:function(){return pe.p},GRh:function(){return $n},DgJ:function(){return me.D},qNN:function(){return ge.q},d2q:function(){return ve.d},Qqt:function(){return ye.Q},dt4:function(){return xe.d},t$B:function(){return be.t},iyy:function(){return Se},kp_:function(){return sn.k},hlL:function(){return Ce.h},GWj:function(){return ke.G},qPi:function(){return De.q},imm:function(){return rr},Iqj:function(){return Te.I},dbB:function(){return Qn.d},pjt:function(){return Ie.p},brS:function(){return Ae.b},Sxn:function(){return un.S},asL:function(){return Me.a},BHj:function(){return ni},V3u:function(){return nr},wx0:function(){return ln.w},xVT:function(){return Ee.x},UWc:function(){return Ne.U},i2d:function(){return Re.i},hi7:function(){return Pe.h},d9m:function(){return Oe.d},zN1:function(){return Le.z},$r2:function(){return ri},SX3:function(){return Fe.S},G9k:function(){return Ze.G},cM7:function(){return Be.c},Krr:function(){return ze.K},e_t:function(){return Ve.e},CmS:function(){return je.C},l_t:function(){return We.l},HvI:function(){return Ue.H},hJK:function(){return He.h},K5V:function(){return Ge.K},egP:function(){return Xe.e},MB5:function(){return ii},eab:function(){return qe.e},OI3:function(){return w.O},Fp7:function(){return Ye.F},_sB:function(){return Ke._},YQQ:function(){return Qe.Y},Ip$:function(){return Je.I},gWQ:function(){return $e.g},J69:function(){return et.J},ry_:function(){return rt},VV$:function(){return it.V},LTh:function(){return at.L},VdP:function(){return ot.V},wQq:function(){return st.w},Gi7:function(){return dt},p_:function(){return Xn},dC7:function(){return _.d},rq4:function(){return ft},SJ_:function(){return ht.S},W76:function(){return pt.W},KOy:function(){return Hn.K},Quu:function(){return mt.Q},lfX:function(){return gt.l},iUs:function(){return tt.i},JpU:function(){return vt.J},op:function(){return S.op},N2O:function(){return yt},vku:function(){return xt.v},pNR:function(){return bt},koy:function(){return wt},t1L:function(){return _t},lGY:function(){return St},d_R:function(){return Ct.d},sQ3:function(){return kt.s},AL3:function(){return Dt.A},S0v:function(){return Tt.S},WVs:function(){return It.W},TN_:function(){return At},wzB:function(){return Et},nGf:function(){return Nt},LGj:function(){return Rt.L},w6H:function(){return Pt.w},kwC:function(){return Ot.k},M25:function(){return Lt.M},UYe:function(){return Ft.U},btT:function(){return Zt.b},XLQ:function(){return we.X},GYS:function(){return Bt.G},SDf:function(){return zt},diP:function(){return Vt},sx7:function(){return jt},mG2:function(){return Wt},QEs:function(){return cn.Q},NMM:function(){return Ut.N},bp0:function(){return Ht.b},iD$:function(){return Gt.i},snQ:function(){return qn.s},zcT:function(){return Yn.z},U8D:function(){return Xt.U},U_I:function(){return qt.U},ODp:function(){return Yt.O},XD2:function(){return C.X},Xxe:function(){return Kt.X},tdS:function(){return ti},O$l:function(){return Qt.O},R_K:function(){return Jt.R},tPi:function(){return k.t},jZU:function(){return $t},SmN:function(){return en},CnO:function(){return tn},p0P:function(){return nn},XAC:function(){return rn.X},Wvh:function(){return an.W},fBT:function(){return on.f},rVs:function(){return ai},ers:function(){return Kn.e},uN7:function(){return ei},Vl2:function(){return dn.V},_b3:function(){return fn._},h62:function(){return lt.h},$i:function(){return hn.$},L9e:function(){return pn.L},knu:function(){return mn.k},Nbs:function(){return gn.N},NXj:function(){return vn.N},Z_8:function(){return oi},luU:function(){return ct.l},Smz:function(){return yn.S},ORZ:function(){return xn.O},AEp:function(){return D.A},XeE:function(){return bn.X},RRF:function(){return wn.R},odF:function(){return Sn},wOQ:function(){return Cn.w},yXz:function(){return kn},Bfx:function(){return Dn},xZs:function(){return Tn},Gg6:function(){return _e.G},hg7:function(){return In.h},p4s:function(){return Un.p},Xu6:function(){return An.X},Two:function(){return Mn.T},pUJ:function(){return En.p},HHK:function(){return Nn.H},GaM:function(){return Rn.G},VD$:function(){return Pn},arb:function(){return On.a},itS:function(){return Ln.i},lls:function(){return Fn.l},P84:function(){return Zn.P}});var r=n(7613),i=n(1719),a=n(24502),o=n(43312),s=n(15506),u=n(14108),l=n(58543),c=n(29995),d=n(95157),f=n(33053),h=n(30054),p=n(64778),m=n(32227),g=n(47897),v=n(49204),y=n(65840),x=n(48354),b=n(34836),w=n(57221),_=n(30651),S=n(38640),C=n(77643),k=n(59238),D=n(11744);var T=(0,S.op)({basicLSTMCell_:function(e,t,n,r,i,a){var s=(0,x._1)(e,"forgetBias","basicLSTMCell"),u=(0,x._1)(t,"lstmKernel","basicLSTMCell"),l=(0,x._1)(n,"lstmBias","basicLSTMCell"),c=(0,x._1)(r,"data","basicLSTMCell"),d=(0,x._1)(i,"c","basicLSTMCell"),f=(0,x._1)(a,"h","basicLSTMCell"),h=(0,b.z)([c,f],1),p=(0,w.O)(h,u),m=(0,o.I)(p,l),g=m.shape[0],v=m.shape[1]/4,y=[g,v],S=(0,k.t)(m,[0,0],y),T=(0,k.t)(m,[0,v],y),I=(0,k.t)(m,[0,2*v],y),A=(0,k.t)(m,[0,3*v],y),M=(0,o.I)((0,_.d)((0,C.X)(S),(0,D.A)(T)),(0,_.d)(d,(0,C.X)((0,o.I)(s,I))));return[M,(0,_.d)((0,D.A)(M),(0,C.X)(A))]}}),I=n(36994),A=n(63700),M=n(36147);var E=(0,S.op)({batchNorm2d_:function(e,t,n,r,i,a){var o,s,u=(0,x._1)(e,"x","batchNorm"),l=(0,x._1)(t,"mean","batchNorm"),c=(0,x._1)(n,"variance","batchNorm");return null!=i&&(o=(0,x._1)(i,"scale","batchNorm")),null!=r&&(s=(0,x._1)(r,"offset","batchNorm")),M.hu(2===u.rank,(function(){return"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(u.rank,".")})),M.hu(2===l.rank||1===l.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(l.rank,".")})),M.hu(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(c.rank,".")})),null!=o&&M.hu(2===o.rank||1===o.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=s&&M.hu(2===s.rank||1===s.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(s.rank,".")})),(0,A.t)(u,l,c,s,o,a)}});var N=(0,S.op)({batchNorm3d_:function(e,t,n,r,i,a){var o,s,u=(0,x._1)(e,"x","batchNorm"),l=(0,x._1)(t,"mean","batchNorm"),c=(0,x._1)(n,"variance","batchNorm");return null!=i&&(o=(0,x._1)(i,"scale","batchNorm")),null!=r&&(s=(0,x._1)(r,"offset","batchNorm")),M.hu(3===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(u.rank,".")})),M.hu(3===l.rank||1===l.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(l.rank,".")})),M.hu(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(c.rank,".")})),null!=o&&M.hu(3===o.rank||1===o.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=s&&M.hu(3===s.rank||1===s.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(s.rank,".")})),(0,A.t)(u,l,c,s,o,a)}});var R=(0,S.op)({batchNorm4d_:function(e,t,n,r,i,a){var o,s,u=(0,x._1)(e,"x","batchNorm"),l=(0,x._1)(t,"mean","batchNorm"),c=(0,x._1)(n,"variance","batchNorm");return null!=i&&(o=(0,x._1)(i,"scale","batchNorm")),null!=r&&(s=(0,x._1)(r,"offset","batchNorm")),M.hu(4===u.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(u.rank,".")})),M.hu(4===l.rank||1===l.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(l.rank,".")})),M.hu(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(c.rank,".")})),null!=o&&M.hu(4===o.rank||1===o.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=s&&M.hu(4===s.rank||1===s.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(s.rank,".")})),(0,A.t)(u,l,c,s,o,a)}}),P=n(77531),O=n(80238),L=n(49742),F=n(77039),Z=n(99118),B=n(31396),z=n(89836),V=n(10672),j=n(59253);var W=(0,S.op)({concat1d_:function(e){return(0,b.z)(e,0)}});var U=(0,S.op)({concat2d_:function(e,t){return(0,b.z)(e,t)}});var H=(0,S.op)({concat3d_:function(e,t){return(0,b.z)(e,t)}});var G=(0,S.op)({concat4d_:function(e,t){return(0,b.z)(e,t)}}),X=n(44918),q=n(93457),Y=n(71732),K=n(48113),Q=n(61873);var J=(0,S.op)({conv3dTranspose_:function(e,t,n,r,i){var a=(0,x._1)(e,"x","conv3dTranspose"),o=(0,x._1)(t,"filter","conv3dTranspose");return(0,Q._)(n,a,o,r,i)}}),$=n(21227),ee=n(46679),te=n(69457),ne=n(58862),re=n(57419),ie=n(91878),ae=n(61147),oe=n(70318),se=n(32145);var ue=(0,S.op)({diag_:function(e){var t={x:(0,x._1)(e,"x","diag")};return oe.BV.runKernel(se.$w,t)}}),le=n(57580),ce=n(15750),de=n(75923),fe=n(45043),he=n(58060),pe=n(52353),me=n(63254),ge=n(93891),ve=n(13313),ye=n(411),xe=n(72975),be=n(15682),we=n(75561),_e=n(42343);var Se=(0,S.op)({eye_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";null==t&&(t=e);for(var i=(0,F.f)([e,t],r),a=e<=t?e:t,o=0;o<a;++o)i.set(1,o,o);var s=(0,we.X)(i.toTensor(),[e,t]);if(null==n)return s;if(1===n.length)return(0,_e.G)((0,xe.d)(s,0),[n[0],1,1]);if(2===n.length)return(0,_e.G)((0,xe.d)((0,xe.d)(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return(0,_e.G)((0,xe.d)((0,xe.d)((0,xe.d)(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}}),Ce=n(8582),ke=n(22628),De=n(67145),Te=n(49498),Ie=n(35014),Ae=n(18327),Me=n(76996),Ee=n(10300),Ne=n(74652),Re=n(37005),Pe=n(74419),Oe=n(44920),Le=n(12642),Fe=n(62453),Ze=n(40936),Be=n(40378),ze=n(95341),Ve=n(25113),je=n(54561),We=n(15530),Ue=n(2177),He=n(30875),Ge=n(15117),Xe=n(11712),qe=n(94255),Ye=n(56176),Ke=n(85777),Qe=n(39185),Je=n(78811),$e=n(70705),et=n(6568),tt=n(86100),nt=n(4376);function rt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.indexing,i=void 0===r?"xy":r;if("xy"!==i&&"ij"!==i)throw new TypeError("".concat(i," is not a valid third argument to meshgrid"));if(void 0===e)return[];var a=(0,x._1)(e,"x","meshgrid",e instanceof nt.es?e.dtype:"float32");if(void 0===t)return[a];var o=(0,x._1)(t,"y","meshgrid",t instanceof nt.es?t.dtype:"float32"),s=(0,M.NA)(a.shape),u=(0,M.NA)(o.shape);return"xy"===i?(a=(0,we.X)(a,[1,-1]),o=(0,we.X)(o,[-1,1]),[(0,w.O)((0,tt.i)([u,1],a.dtype),a),(0,w.O)(o,(0,tt.i)([1,s],o.dtype))]):(a=(0,we.X)(a,[-1,1]),o=(0,we.X)(o,[1,-1]),[(0,w.O)(a,(0,tt.i)([1,u],a.dtype)),(0,w.O)((0,tt.i)([s,1],o.dtype),o)])}var it=n(77891),at=n(82273),ot=n(27613),st=n(84645),ut=n(88473),lt=n(7391),ct=n(84774);var dt=(0,S.op)({moments_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=(0,x._1)(e,"x","moments");var r=(0,M.EC)(t,e.shape),i=(0,et.J)(e,r,n),a=i.shape;n||(a=(0,ut.rv)(i.shape,r));var o=(0,lt.h)((0,ct.l)((0,Z.p)(e,"float32"),(0,we.X)(i,a))),s=(0,et.J)(o,r,n);return{mean:i,variance:s}}});var ft=(0,S.op)({multiRNNCell_:function(e,t,n,r){for(var i=(0,x._1)(t,"data","multiRNNCell"),a=(0,x.sI)(n,"c","multiRNNCell"),o=(0,x.sI)(r,"h","multiRNNCell"),s=i,u=[],l=0;l<e.length;l++){var c=e[l](s,a[l],o[l]);u.push(c[0]),u.push(c[1]),s=c[1]}for(var d=[],f=[],h=0;h<u.length;h+=2)d.push(u[h]),f.push(u[h+1]);return[d,f]}}),ht=n(4660),pt=n(4362),mt=n(15549),gt=n(34326),vt=n(20773);var yt=(0,S.op)({outerProduct_:function(e,t){var n=(0,x._1)(e,"v1","outerProduct"),r=(0,x._1)(t,"v2","outerProduct");M.hu(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")}));var i=(0,we.X)(n,[-1,1]),a=(0,we.X)(r,[1,-1]);return(0,w.O)(i,a)}}),xt=n(71970);var bt=(0,S.op)({pad1d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,M.hu)(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),(0,xt.v)(e,[t],n)}});var wt=(0,S.op)({pad2d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,M.hu)(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),(0,xt.v)(e,t,n)}});var _t=(0,S.op)({pad3d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,M.hu)(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),(0,xt.v)(e,t,n)}});var St=(0,S.op)({pad4d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,M.hu)(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),(0,xt.v)(e,t,n)}}),Ct=n(57226),kt=n(44334),Dt=n(96859),Tt=n(64600),It=n(67722);var At=(0,S.op)({rand_:function(e,t,n){var r=(0,M.NA)(e),i=null;if(null==n||"float32"===n)i=new Float32Array(r);else if("int32"===n)i=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));i=new Uint8Array(r)}for(var a=0;a<r;a++)i[a]=t();return oe.BV.makeTensor(i,e,n)}}),Mt=n(14466);var Et=(0,S.op)({randomGamma_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",i=arguments.length>4?arguments[4]:void 0;if(null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type ".concat(r));for(var a=new Mt.T9(t,n,r,i),o=(0,F.f)(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}});var Nt=(0,S.op)({randomNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(null!=r&&"bool"===r)throw new Error("Unsupported data type ".concat(r));for(var a=new Mt.Yi(t,n,r,!1,i),o=(0,F.f)(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),Rt=n(16407),Pt=n(422),Ot=n(26972),Lt=n(12209),Ft=n(17539),Zt=n(65900),Bt=n(34933);var zt=(0,S.op)({reverse1d_:function(e){var t=(0,x._1)(e,"x","reverse");return M.hu(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,".")})),(0,Bt.G)(t,0)}});var Vt=(0,S.op)({reverse2d_:function(e,t){var n=(0,x._1)(e,"x","reverse");return M.hu(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,".")})),(0,Bt.G)(n,t)}});var jt=(0,S.op)({reverse3d_:function(e,t){var n=(0,x._1)(e,"x","reverse");return M.hu(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,".")})),(0,Bt.G)(n,t)}});var Wt=(0,S.op)({reverse4d_:function(e,t){var n=(0,x._1)(e,"x","reverse");return M.hu(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,".")})),(0,Bt.G)(n,t)}}),Ut=n(60766),Ht=n(65115),Gt=n(27067),Xt=n(20413),qt=n(90119),Yt=n(24438),Kt=n(2070),Qt=n(87254),Jt=n(57657);var $t=(0,S.op)({slice1d_:function(e,t,n){var r=(0,x._1)(e,"x","slice1d");return M.hu(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-".concat(r.rank," tensor")})),(0,k.t)(r,[t],[n])}});var en=(0,S.op)({slice2d_:function(e,t,n){var r=(0,x._1)(e,"x","slice2d");return M.hu(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-".concat(r.rank," tensor")})),(0,k.t)(r,t,n)}});var tn=(0,S.op)({slice3d_:function(e,t,n){var r=(0,x._1)(e,"x","slice3d");return M.hu(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-".concat(r.rank," tensor")})),(0,k.t)(r,t,n)}});var nn=(0,S.op)({slice4d_:function(e,t,n){var r=(0,x._1)(e,"x","slice4d");return M.hu(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-".concat(r.rank," tensor")})),(0,k.t)(r,t,n)}}),rn=n(74910),an=n(54626),on=n(65696),sn=n(37635),un=n(50530),ln=n(774),cn=n(64617),dn=n(82588),fn=n(46902),hn=n(7993),pn=n(83931),mn=n(18306),gn=n(94031),vn=n(39017),yn=n(40227),xn=n(66999),bn=n(72442),wn=n(92894),_n=n(77960);function Sn(e,t,n){if((0,M.Cq)(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=(0,x.C)(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return(0,_n.H)(e,t,r,n)}var Cn=n(73123);function kn(e,t,n){if((0,M.Cq)(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=(0,x.C)(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return(0,_n.H)(e,t,r,n)}function Dn(e,t,n){if((0,M.Cq)(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=(0,x.C)(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return(0,_n.H)(e,t,r,n)}function Tn(e,t,n){if((0,M.Cq)(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=(0,x.C)(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||r,(0,_n.H)(e,t,r,n)}var In=n(29085),An=n(52453),Mn=n(74860),En=n(46918),Nn=n(54566),Rn=n(16035);function Pn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return oe.BV.makeVariable(e,t,n,r)}var On=n(10329),Ln=n(41867),Fn=n(87742),Zn=n(87293),Bn=n(15861),zn=n(87757),Vn=n.n(zn);function jn(){return jn=(0,Bn.Z)(Vn().mark((function e(t,n,r){var i,a,o,s,u,l,c,d,f,h,p,m,g;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=(0,x._1)(t,"tensor","boolMask"),a=(0,x._1)(n,"mask","boolMask","bool"),o=null==r?0:r,s=a.rank,u=i.shape,M.hu(s>0,(function(){return"mask cannot be scalar"})),M.k5(u.slice(o,o+s),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),l=1,c=o;c<o+s;c++)l*=u[c];return d=u.slice(0,o).concat([l],u.slice(o+s)),f=(0,we.X)(i,d),h=(0,we.X)(a,[-1]),e.next=14,(0,Ln.i)(h);case 14:return p=e.sent,m=(0,pn.L)(p,[1]),g=(0,Te.I)(f,m,o),t!==i&&i.dispose(),n!==a&&a.dispose(),m.dispose(),f.dispose(),h.dispose(),p.dispose(),e.abrupt("return",g);case 24:case"end":return e.stop()}}),e)}))),jn.apply(this,arguments)}var Wn=function(e,t,n){return jn.apply(this,arguments)},Un=n(61240),Hn=n(56662),Gn=n(99064);var Xn=(0,S.op)({movingAverage_:function(e,t,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=(0,x._1)(e,"v","movingAverage"),s=(0,x._1)(t,"x","movingAverage"),u=(0,x._1)(n,"decay","movingAverage");(0,Gn.assertTypesMatch)(a,s),M.hu(M.cO(a.shape,s.shape),(function(){return"Shape mismatch in v and x"}));var l=(0,Gt.i)(1),c=(0,ct.l)(l,u),d=(0,_.d)((0,ct.l)(s,a),c);if(i){M.hu(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var f=(0,x._1)(r,"step","movingAverage");d=(0,ce.h)(d,(0,ct.l)(l,(0,kt.s)(u,f)))}return(0,o.I)(a,d)}}),qn=n(23522),Yn=n(9028),Kn=n(49991),Qn=n(53357);var Jn=(0,S.op)({dropout_:function(e,t,n,r){var i=(0,x._1)(e,"x","dropout");if(M.hu("float32"===i.dtype,(function(){return"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(i.dtype," tensor instead.")})),M.hu(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got ".concat(t,".")})),0===t)return e instanceof nt.es?i.clone():i;var a=function(e,t){if(null==t)return e.shape.slice();if(M.cO(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(i,n),s=1-t,u=(0,ce.h)((0,ke.G)((0,o.I)((0,Rt.L)(a,0,1,"float32",r),s)),s);return(0,_.d)(i,u)}});function $n(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function er(e,t,n){for(var r=1-e%2,i=new Float32Array(e),a=0;a<e;++a){var o=2*Math.PI*a/(e+r-1);i[a]=t-n*Math.cos(o)}return(0,wn.R)(i,"float32")}function tr(){return tr=(0,Bn.Z)(Vn().mark((function e(t,n){var r,i,a,o,s,u,l,c,d,f,h,p,m,g,v,y=arguments;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.length>2&&void 0!==y[2]?y[2]:1,i=(0,x._1)(t,"predictions","inTopK"),a=(0,x._1)(n,"targets","inTopK"),(0,M.hu)(i.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(i.rank)})),(0,M.hu)(i.rank-1===a.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(i.rank," and targets rank ").concat(a.rank)})),(0,M.k5)(i.shape.slice(0,i.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=i.shape[i.shape.length-1],(0,M.hu)(r>0&&r<=o,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(o,"), but got ").concat(r)})),e.next=10,i.data();case 10:return s=e.sent,e.next=13,a.data();case 13:u=e.sent,l=s.length/o,c=o,d=(0,M.WP)("bool",l),f=0;case 17:if(!(f<l)){e.next=35;break}for(h=f*c,p=s.subarray(h,h+c),m=[],g=0;g<p.length;g++)m.push({value:p[g],index:g});m.sort((function(e,t){return t.value-e.value})),d[f]=0,v=0;case 25:if(!(v<r)){e.next=32;break}if(m[v].index!==u[f]){e.next=29;break}return d[f]=1,e.abrupt("break",32);case 29:v++,e.next=25;break;case 32:f++,e.next=17;break;case 35:return t!==i&&i.dispose(),n!==a&&a.dispose(),e.abrupt("return",(0,bn.X)(d,a.shape,"bool"));case 38:case"end":return e.stop()}}),e)}))),tr.apply(this,arguments)}var nr=function(e,t){return tr.apply(this,arguments)},rr=n(6947);var ir=(0,S.op)({hammingWindow_:function(e){return er(e,.54,.46)}});var ar=(0,S.op)({hannWindow_:function(e){return er(e,.5,.5)}});var or=(0,S.op)({frame_:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=0,o=[];a+t<=e.size;)o.push((0,k.t)(e,a,t)),a+=n;if(r)for(;a<e.size;){var s=a+t-e.size,u=(0,b.z)([(0,k.t)(e,a,t-s),(0,Ce.h)([s],i)]);o.push(u),a+=n}return 0===o.length?Sn([],[0,t]):(0,we.X)((0,b.z)(o),[o.length,t])}});var sr=(0,S.op)({stft_:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ar;null==r&&(r=$n(t));var a=or(e,t,n),o=(0,_.d)(a,i(t));return(0,cn.Q)(o,r)}});var ur=(0,S.op)({cropAndResize_:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=(0,x._1)(e,"image","cropAndResize"),s=(0,x._1)(t,"boxes","cropAndResize","float32"),u=(0,x._1)(n,"boxInd","cropAndResize","int32"),l=s.shape[0];M.hu(4===o.rank,(function(){return"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(o.rank,".")})),M.hu(2===s.rank&&4===s.shape[1],(function(){return"Error in cropAndResize: boxes must be have size [".concat(l,",4] ")+"but had shape ".concat(s.shape,".")})),M.hu(1===u.rank&&u.shape[0]===l,(function(){return"Error in cropAndResize: boxInd must be have size [".concat(l,"] ")+"but had shape ".concat(s.shape,".")})),M.hu(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(r.length,".")})),M.hu(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was ".concat(r)})),M.hu("bilinear"===i||"nearest"===i,(function(){return"method must be bilinear or nearest, but was ".concat(i)}));var c={image:o,boxes:s,boxInd:u},d={method:i,extrapolationValue:a,cropSize:r},f=oe.BV.runKernel(se.Vc,c,d);return f}});var lr=(0,S.op)({flipLeftRight_:function(e){var t=(0,x._1)(e,"image","flipLeftRight","float32");M.hu(4===t.rank,(function(){return"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")}));var n={image:t};return oe.BV.runKernel(se.Uy,n,{})}});var cr=(0,S.op)({grayscaleToRGB_:function(e){var t=(0,x._1)(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];M.hu(t.rank>=2,(function(){return"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,".")})),M.hu(1===r,(function(){return"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(r,".")}));var i=new Array(t.rank);return i.fill(1,0,n),i[n]=3,(0,_e.G)(t,i)}});var dr=(0,S.op)({rotateWithOffset_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=(0,x._1)(e,"image","rotateWithOffset","float32");M.hu(4===i.rank,(function(){return"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(i.rank,".")}));var a={image:i},o={radians:t,fillValue:n,center:r},s=oe.BV.runKernel(se.b9,a,o);return s}});function fr(e,t,n,r,i,a){null==r&&(r=.5),null==i&&(i=Number.NEGATIVE_INFINITY),null==a&&(a=0);var o=e.shape[0];return n=Math.min(n,o),M.hu(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '".concat(r,"'")})),M.hu(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'")})),M.hu(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1])})),M.hu(1===t.rank,(function(){return"scores must be a 1D tensor"})),M.hu(t.shape[0]===o,(function(){return"scores has incompatible shape with boxes. Expected ".concat(o,", ")+"but was ".concat(t.shape[0])})),M.hu(0<=a&&a<=1,(function(){return"softNmsSigma must be in [0, 1], but was '".concat(a,"'")})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:a}}var hr=(0,S.op)({nonMaxSuppression_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=(0,x._1)(e,"boxes","nonMaxSuppression","float32"),o=(0,x._1)(t,"scores","nonMaxSuppression","float32"),s=fr(a,o,n,r,i),u={maxOutputSize:n=s.maxOutputSize,iouThreshold:r=s.iouThreshold,scoreThreshold:i=s.scoreThreshold};return oe.BV.runKernel(se.uv,{boxes:a,scores:o},u)}}),pr=n(60745);function mr(){return mr=(0,Bn.Z)(Vn().mark((function e(t,n,r){var i,a,o,s,u,l,c,d,f,h,p=arguments;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=p.length>3&&void 0!==p[3]?p[3]:.5,a=p.length>4&&void 0!==p[4]?p[4]:Number.NEGATIVE_INFINITY,o=(0,x._1)(t,"boxes","nonMaxSuppressionAsync"),s=(0,x._1)(n,"scores","nonMaxSuppressionAsync"),u=fr(o,s,r,i,a),r=u.maxOutputSize,i=u.iouThreshold,a=u.scoreThreshold,e.next=10,Promise.all([o.data(),s.data()]);case 10:return l=e.sent,c=l[0],d=l[1],f=(0,pr.GP)(c,d,r,i,a),h=f.selectedIndices,o!==t&&o.dispose(),s!==n&&s.dispose(),e.abrupt("return",(0,wn.R)(h,"int32"));case 17:case"end":return e.stop()}}),e)}))),mr.apply(this,arguments)}var gr=function(e,t,n){return mr.apply(this,arguments)};var vr=(0,S.op)({nonMaxSuppressionWithScore_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=(0,x._1)(e,"boxes","nonMaxSuppression"),s=(0,x._1)(t,"scores","nonMaxSuppression"),u=fr(o,s,n,r,i,a),l={boxes:o,scores:s},c={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:i=u.scoreThreshold,softNmsSigma:a=u.softNmsSigma},d=oe.BV.runKernel(se.W0,l,c);return{selectedIndices:d[0],selectedScores:d[1]}}});function yr(){return yr=(0,Bn.Z)(Vn().mark((function e(t,n,r){var i,a,o,s,u,l,c,d,f,h,p,m,g=arguments;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=g.length>3&&void 0!==g[3]?g[3]:.5,a=g.length>4&&void 0!==g[4]?g[4]:Number.NEGATIVE_INFINITY,o=g.length>5&&void 0!==g[5]?g[5]:0,s=(0,x._1)(t,"boxes","nonMaxSuppressionAsync"),u=(0,x._1)(n,"scores","nonMaxSuppressionAsync"),l=fr(s,u,r,i,a,o),r=l.maxOutputSize,i=l.iouThreshold,a=l.scoreThreshold,o=l.softNmsSigma,e.next=12,Promise.all([s.data(),u.data()]);case 12:return c=e.sent,d=c[0],f=c[1],h=(0,pr.pA)(d,f,r,i,a,o),p=h.selectedIndices,m=h.selectedScores,s!==t&&s.dispose(),u!==n&&u.dispose(),e.abrupt("return",{selectedIndices:(0,wn.R)(p,"int32"),selectedScores:(0,wn.R)(m)});case 19:case"end":return e.stop()}}),e)}))),yr.apply(this,arguments)}var xr=function(e,t,n){return yr.apply(this,arguments)};var br=(0,S.op)({nonMaxSuppressionPadded_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=(0,x._1)(e,"boxes","nonMaxSuppression"),s=(0,x._1)(t,"scores","nonMaxSuppression"),u=fr(o,s,n,r,i,null),l=u.maxOutputSize,c=u.iouThreshold,d=u.scoreThreshold,f={boxes:o,scores:s},h={maxOutputSize:l,iouThreshold:c,scoreThreshold:d,padToMaxOutputSize:a},p=oe.BV.runKernel(se.cy,f,h);return{selectedIndices:p[0],validOutputs:p[1]}}}),wr=n(29439);function _r(){return _r=(0,Bn.Z)(Vn().mark((function e(t,n,r){var i,a,o,s,u,l,c,d,f,h,p,m,g,v,y,b,w=arguments;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=w.length>3&&void 0!==w[3]?w[3]:.5,a=w.length>4&&void 0!==w[4]?w[4]:Number.NEGATIVE_INFINITY,o=w.length>5&&void 0!==w[5]&&w[5],s=(0,x._1)(t,"boxes","nonMaxSuppressionAsync"),u=(0,x._1)(n,"scores","nonMaxSuppressionAsync"),l=fr(s,u,r,i,a,null),c=l.maxOutputSize,d=l.iouThreshold,f=l.scoreThreshold,e.next=11,Promise.all([s.data(),u.data()]);case 11:return h=e.sent,p=(0,wr.Z)(h,2),m=p[0],g=p[1],v=(0,pr.qP)(m,g,c,d,f,o),y=v.selectedIndices,b=v.validOutputs,s!==t&&s.dispose(),u!==n&&u.dispose(),e.abrupt("return",{selectedIndices:(0,wn.R)(y,"int32"),validOutputs:(0,Gt.i)(b,"int32")});case 19:case"end":return e.stop()}}),e)}))),_r.apply(this,arguments)}var Sr=function(e,t,n){return _r.apply(this,arguments)},Cr=n(90464),kr=n(28600);function Dr(e,t){for(var n,r,i,a,s,u,l=(0,wn.R)([-1]),c=(0,wn.R)([0]),d=(0,wn.R)([0]),f=0;f<e.size-1;f++){n=(0,k.t)(e,0,f+1),r=(0,k.t)(e,f+1),s=(0,ce.h)((0,yn.S)(n),t),u=(0,ce.h)((0,yn.S)(r),t);var h=(0,yn.S)((0,_.d)(n,(0,Pt.w)(0,n.size)));i=(0,ce.h)(h,(0,yn.S)(n));var p=(0,Ce.h)(r.shape,n.size),m=(0,o.I)((0,Pt.w)(0,r.size),p),g=(0,_.d)(r,m);a=(0,ce.h)((0,yn.S)(g),(0,yn.S)(r));var v=(0,ct.l)(i,a),y=(0,ct.l)(i,a),x=(0,_.d)(s,u);d=(0,_.d)((0,_.d)(x,v),y);var b=(0,Ie.p)(d,c);c=(0,On.a)(b,d,c),l=(0,On.a)(b,(0,wn.R)([f]),l)}return l}var Tr=(0,S.op)({threshold_:function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,l=(0,x._1)(e,"image","threshold"),c=.2989,d=.587,f=.114,h=l.shape[0]*l.shape[1],p=(0,_.d)((0,wn.R)([u]),255);if(M.hu(3===l.rank,(function(){return"Error in threshold: image must be rank 3,"+"but got rank ".concat(l.rank,".")})),M.hu(3===l.shape[2]||1===l.shape[2],(function(){return"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(l.shape[2],".")})),M.hu("int32"===l.dtype||"float32"===l.dtype,(function(){return"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(l.dtype,".")})),M.hu("otsu"===a||"binary"===a,(function(){return"Method must be binary or otsu, but was ".concat(a)})),3===l.shape[2]){var m=(0,dn.V)(l,[1,1,1],-1),g=(0,wr.Z)(m,3);t=g[0],n=g[1],r=g[2];var v=(0,_.d)(t,c),y=(0,_.d)(n,d),b=(0,_.d)(r,f);i=(0,o.I)((0,o.I)(v,y),b)}else i=e;if("otsu"===a){var w=(0,P.y)((0,Z.p)((0,Ut.N)(i),"int32"),(0,bn.X)([]),256);p=Dr(w,h)}var S=s?(0,Le.z)(i,p):(0,Ie.p)(i,p),C=(0,Z.p)((0,_.d)(S,255),"int32");return C}});var Ir=(0,S.op)({transform_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5?arguments[5]:void 0,o=(0,x._1)(e,"image","transform","float32"),s=(0,x._1)(t,"transforms","transform","float32");M.hu(4===o.rank,(function(){return"Error in transform: image must be rank 4,"+"but got rank ".concat(o.rank,".")})),M.hu(2===s.rank&&(s.shape[0]===o.shape[0]||1===s.shape[0])&&8===s.shape[1],(function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"})),M.hu(null==a||2===a.length,(function(){return"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(a,".")}));var u={image:o,transforms:s},l={interpolation:n,fillMode:r,fillValue:i,outputShape:a};return oe.BV.runKernel(se.wx,u,l)}});var Ar=(0,S.op)({bandPart_:function(e,t,n){(0,M.hu)(t%1===0,(function(){return"bandPart(): numLower must be an integer, got ".concat(t,".")})),(0,M.hu)(n%1===0,(function(){return"bandPart(): numUpper must be an integer, got ".concat(n,".")}));var r=(0,x._1)(e,"a","bandPart");(0,M.hu)(r.rank>=2,(function(){return"bandPart(): Rank must be at least 2, got ".concat(r.rank,".")}));var i=r.shape,a=r.shape.slice(-2),o=(0,wr.Z)(a,2),s=o[0],u=o[1];if(!(t<=s))throw new Error("bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(s,")."));if(!(n<=u))throw new Error("bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(u,")."));t<0&&(t=s),n<0&&(n=u);var l=(0,we.X)((0,Pt.w)(0,s,1,"int32"),[-1,1]),c=(0,Pt.w)(0,u,1,"int32"),d=(0,ct.l)(l,c),f=(0,Ue.H)((0,Le.z)(d,(0,Gt.i)(+t,"int32")),(0,Ae.b)(d,(0,Gt.i)(-n,"int32"))),h=(0,Fn.l)([s,u],r.dtype);return(0,we.X)((0,mn.k)((0,Nn.H)((0,we.X)(r,[-1,s,u])).map((function(e){return(0,On.a)(f,e,h)}))),i)}});var Mr=(0,S.op)({gramSchmidt_:function(e){var t;Array.isArray(e)?function(){t=!1,(0,M.hu)(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){(0,M.hu)(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(n,")")}))},i=1;i<e.length;++i)r(i)}():(t=!0,e=(0,dn.V)(e,e.shape[0],0).map((function(e){return(0,pn.L)(e,[0])}))),(0,M.hu)(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")}));for(var n=[],r=e,i=function(e){n.push(oe.BV.tidy((function(){var t=r[e];if(e>0)for(var i=0;i<e;++i){var a=(0,_.d)((0,yn.S)((0,_.d)(n[i],t)),n[i]);t=(0,ct.l)(t,a)}return(0,ce.h)(t,(0,Hn.K)(t,"euclidean"))})))},a=0;a<e.length;++a)i(a);return t?(0,mn.k)(n,0):n}}),Er=n(35875);function Nr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return oe.BV.tidy((function(){(0,M.hu)(2===e.shape.length,(function(){return"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")}));for(var n=e.shape[0],r=e.shape[1],i=Se(n),a=(0,V.d)(e),o=Sn([[1]],[1,1]),s=(0,V.d)(o),u=n>=r?r:n,l=function(e){var t=a,u=s,l=i,c=oe.BV.tidy((function(){var t=(0,k.t)(a,[e,e],[n-e,1]),u=(0,Hn.K)(t),l=(0,k.t)(a,[e,e],[1,1]),c=(0,On.a)((0,Ie.p)(l,0),Sn([[-1]]),Sn([[1]])),d=(0,ct.l)(l,(0,_.d)(c,u)),f=(0,ce.h)(t,d);s=1===f.shape[0]?(0,V.d)(o):(0,b.z)([o,(0,k.t)(f,[1,0],[f.shape[0]-1,f.shape[1]])],0);var h=(0,pt.W)((0,ce.h)((0,w.O)(c,d),u)),p=(0,k.t)(a,[e,0],[n-e,r]),m=(0,_.d)(h,s),g=(0,Un.p)(s);if(0===e)a=(0,ct.l)(p,(0,w.O)(m,(0,w.O)(g,p)));else{var v=(0,ct.l)(p,(0,w.O)(m,(0,w.O)(g,p)));a=(0,b.z)([(0,k.t)(a,[0,0],[e,r]),v],0)}var y=(0,Un.p)(m),x=(0,k.t)(i,[0,e],[n,i.shape[1]-e]);if(0===e)i=(0,ct.l)(x,(0,w.O)((0,w.O)(x,s),y));else{var S=(0,ct.l)(x,(0,w.O)((0,w.O)(x,s),y));i=(0,b.z)([(0,k.t)(i,[0,0],[n,e]),S],1)}return[s,a,i]})),d=(0,wr.Z)(c,3);s=d[0],a=d[1],i=d[2],(0,Er.B9)([t,u,l])},c=0;c<u;++c)l(c);return!t&&n>r&&(i=(0,k.t)(i,[0,0],[n,r]),a=(0,k.t)(a,[0,0],[r,r])),[i,a]}))}var Rr=(0,S.op)({qr_:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,M.hu)(e.rank>=2,(function(){return"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank)})),2===e.rank)return Nr(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=(0,Nn.H)((0,we.X)(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),i=[],a=[];r.forEach((function(e){var n=Nr(e,t),r=(0,wr.Z)(n,2),o=r[0],s=r[1];i.push(o),a.push(s)}));var o=(0,we.X)((0,mn.k)(i,0),e.shape),s=(0,we.X)((0,mn.k)(a,0),e.shape);return[o,s]}}),Pr=n(47627);var Or=(0,S.op)({computeWeightedLoss_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pr.I.SUM_BY_NONZERO_WEIGHTS,r=(0,x._1)(e,"losses","computeWeightedLoss"),i=null;null!=t&&(i=(0,x._1)(t,"weights","computeWeightedLoss"));var a=null==i?r:(0,_.d)(r,i);if(n===Pr.I.NONE)return a;if(n===Pr.I.SUM)return(0,yn.S)(a);if(n===Pr.I.MEAN){if(null==i)return(0,et.J)(a);var o=r.size/i.size,s=(0,ce.h)((0,yn.S)(a),(0,yn.S)(i));return o>1?(0,ce.h)(s,(0,Gt.i)(o)):s}if(n===Pr.I.SUM_BY_NONZERO_WEIGHTS){if(null==i)return(0,ce.h)((0,yn.S)(a),(0,Gt.i)(r.size));var u=(0,_.d)(i,(0,tt.i)(r.shape)),l=(0,Z.p)((0,yn.S)((0,mt.Q)(u,(0,Gt.i)(0))),"float32");return(0,ce.h)((0,yn.S)(a),l)}throw Error("Unknown reduction: ".concat(n))}});var Lr=(0,S.op)({absoluteDifference_:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Pr.I.SUM_BY_NONZERO_WEIGHTS,a=(0,x._1)(e,"labels","absoluteDifference"),o=(0,x._1)(t,"predictions","absoluteDifference"),s=null;null!=n&&(s=(0,x._1)(n,"weights","absoluteDifference")),(0,M.k5)(a.shape,o.shape,"Error in absoluteDifference: ");var u=(0,r.W)((0,ct.l)(a,o));return Or(u,s,i)}});var Fr=(0,S.op)({cosineDistance_:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pr.I.SUM_BY_NONZERO_WEIGHTS,a=(0,x._1)(e,"labels","cosineDistance"),o=(0,x._1)(t,"predictions","cosineDistance"),s=null;null!=r&&(s=(0,x._1)(r,"weights","cosineDistance")),(0,M.k5)(a.shape,o.shape,"Error in cosineDistance: ");var u=(0,Gt.i)(1),l=(0,ct.l)(u,(0,yn.S)((0,_.d)(a,o),n,!0));return Or(l,s,i)}});var Zr=(0,S.op)({hingeLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Pr.I.SUM_BY_NONZERO_WEIGHTS,i=(0,x._1)(e,"labels","hingeLoss"),a=(0,x._1)(t,"predictions","hingeLoss"),o=null;null!=n&&(o=(0,x._1)(n,"weights","hingeLoss")),(0,M.k5)(i.shape,a.shape,"Error in hingeLoss: ");var s=(0,Gt.i)(1);i=(0,ct.l)((0,_.d)((0,Gt.i)(2),i),s);var u=(0,Ft.U)((0,ct.l)(s,(0,_.d)(i,a)));return Or(u,o,r)}});var Br=(0,S.op)({huberLoss_:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pr.I.SUM_BY_NONZERO_WEIGHTS,s=(0,x._1)(e,"labels","huberLoss"),u=(0,x._1)(t,"predictions","huberLoss"),l=null;null!=n&&(l=(0,x._1)(n,"weights","huberLoss")),(0,M.k5)(s.shape,u.shape,"Error in huberLoss: ");var c=(0,Gt.i)(i),d=(0,r.W)((0,ct.l)(u,s)),f=(0,at.L)(d,c),h=(0,ct.l)(d,f),p=(0,o.I)((0,_.d)((0,Gt.i)(.5),(0,lt.h)(f)),(0,_.d)(c,h));return Or(p,l,a)}});var zr=(0,S.op)({logLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pr.I.SUM_BY_NONZERO_WEIGHTS,a=(0,x._1)(e,"labels","logLoss"),s=(0,x._1)(t,"predictions","logLoss"),u=null;null!=n&&(u=(0,x._1)(n,"weights","logLoss")),(0,M.k5)(a.shape,s.shape,"Error in logLoss: ");var l=(0,Gt.i)(1),c=(0,Gt.i)(r),d=(0,pt.W)((0,_.d)(a,(0,Be.c)((0,o.I)(s,c)))),f=(0,_.d)((0,ct.l)(l,a),(0,Be.c)((0,o.I)((0,ct.l)(l,s),c))),h=(0,ct.l)(d,f);return Or(h,u,i)}});var Vr=(0,S.op)({meanSquaredError_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Pr.I.SUM_BY_NONZERO_WEIGHTS,i=(0,x._1)(e,"labels","meanSquaredError"),a=(0,x._1)(t,"predictions","meanSquaredError"),o=null;null!=n&&(o=(0,x._1)(n,"weights","meanSquaredError")),(0,M.k5)(i.shape,a.shape,"Error in meanSquaredError: ");var s=(0,hn.$)(i,a);return Or(s,o,r)}});function jr(e,t){var n=(0,x._1)(e,"labels","sigmoidCrossEntropyWithLogits"),i=(0,x._1)(t,"logits","sigmoidCrossEntropyWithLogits");(0,M.k5)(n.shape,i.shape,"Error in sigmoidCrossEntropyWithLogits: ");var a=(0,Ft.U)(i),s=(0,_.d)(i,n),u=(0,ze.K)((0,ye.Q)((0,pt.W)((0,r.W)(i))));return(0,o.I)((0,ct.l)(a,s),u)}var Wr=(0,S.op)({sigmoidCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pr.I.SUM_BY_NONZERO_WEIGHTS,a=(0,x._1)(e,"multiClassLabels","sigmoidCrossEntropy"),s=(0,x._1)(t,"logits","sigmoidCrossEntropy"),u=null;if(null!=n&&(u=(0,x._1)(n,"weights","sigmoidCrossEntropy")),(0,M.k5)(a.shape,s.shape,"Error in sigmoidCrossEntropy: "),r>0){var l=(0,Gt.i)(r),c=(0,Gt.i)(1),d=(0,Gt.i)(.5);a=(0,o.I)((0,_.d)(a,(0,ct.l)(c,l)),(0,_.d)(d,l))}var f=jr(a,s);return Or(f,u,i)}}),Ur=n(66450);function Hr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(n));var r=(0,Ur.cb)((function(e,t,r){var i=(0,We.l)(t,[n],!0),a=(0,ct.l)((0,Z.p)(t,"float32"),i);r([e,a]);var o=(0,pt.W)((0,_.d)(a,e));return{value:(0,yn.S)(o,[n]),gradFunc:function(e,t){var r=(0,wr.Z)(t,2),i=r[0],a=r[1],o=(0,ut.rv)(e.shape,[n]);return[(0,_.d)((0,we.X)(e,o),(0,ct.l)((0,Z.p)(i,"float32"),(0,ye.Q)(a))),(0,_.d)((0,we.X)(e,o),(0,ct.l)((0,ye.Q)(a),(0,Z.p)(i,"float32")))]}}}));return r(e,t)}var Gr=(0,S.op)({softmaxCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pr.I.SUM_BY_NONZERO_WEIGHTS,a=(0,x._1)(e,"onehotLabels","softmaxCrossEntropy"),s=(0,x._1)(t,"logits","softmaxCrossEntropy"),u=null;if(null!=n&&(u=(0,x._1)(n,"weights","softmaxCrossEntropy")),(0,M.k5)(a.shape,s.shape,"Error in softmaxCrossEntropy: "),r>0){var l=(0,Gt.i)(r),c=(0,Gt.i)(1),d=(0,Gt.i)(a.shape[1]);a=(0,o.I)((0,_.d)(a,(0,ct.l)(c,l)),(0,ce.h)(l,d))}var f=Hr(a,s);return Or(f,u,i)}});var Xr=(0,S.op)({sparseFillEmptyRows_:function(e,t,n,r){var i=(0,x._1)(e,"indices","sparseFillEmptyRows","int32"),a=(0,x._1)(t,"values","sparseFillEmptyRows"),o=(0,x._1)(n,"denseShape","sparseFillEmptyRows","int32"),s=(0,x._1)(r,"defaultValue","sparseFillEmptyRows",a.dtype);if(2!==i.rank)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(i.shape));if(1!==a.rank)throw new Error("Values should be Tensor1D but received shape ".concat(a.shape));if(1!==o.rank)throw new Error("Dense shape should be Tensor1D but received shape ".concat(o.shape));if(0!==s.rank)throw new Error("Default value should be a scalar but received shape ".concat(s.shape));var u={indices:i,values:a,denseShape:o,defaultValue:s},l=oe.BV.runKernel(se.O3,u);return{outputIndices:l[0],outputValues:l[1],emptyRowIndicator:l[2],reverseIndexMap:l[3]}}});var qr=(0,S.op)({sparseReshape_:function(e,t,n){var r=(0,x._1)(e,"inputIndices","sparseReshape","int32"),i=(0,x._1)(t,"inputShape","sparseReshape","int32"),a=(0,x._1)(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(r.shape));if(1!==i.rank)throw new Error("Input shape should be Tensor1D but received shape ".concat(i.shape));if(1!==a.rank)throw new Error("New shape should be Tensor1D but received shape ".concat(a.shape));var o={inputIndices:r,inputShape:i,newShape:a},s=oe.BV.runKernel(se.nh,o);return{outputIndices:s[0],outputShape:s[1]}}});var Yr=(0,S.op)({sparseSegmentMean_:function(e,t,n){var r=(0,x._1)(e,"data","sparseSegmentMean"),i=(0,x._1)(t,"indices","sparseSegmentMean","int32"),a=(0,x._1)(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.rank)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(i.shape));if(1!==a.rank)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(a.shape));var o={data:r,indices:i,segmentIds:a};return oe.BV.runKernel(se.YW,o)}});var Kr=(0,S.op)({sparseSegmentSum_:function(e,t,n){var r=(0,x._1)(e,"data","sparseSegmentSum"),i=(0,x._1)(t,"indices","sparseSegmentSum","int32"),a=(0,x._1)(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.rank)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(i.shape));if(1!==a.rank)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(a.shape));var o={data:r,indices:i,segmentIds:a};return oe.BV.runKernel(se.Zj,o)}});var Qr=(0,S.op)({stringNGrams_:function(e,t,n,r,i,a,o,s){var u=(0,x._1)(e,"data","stringNGrams","string");if("string"!==u.dtype)throw new Error("Data must be of datatype string");if(1!==u.shape.length)throw new Error("Data must be a vector, saw: ".concat(u.shape));var l=(0,x._1)(t,"dataSplits","stringNGrams");if("int32"!==l.dtype)throw new Error("Data splits must be of datatype int32");var c={separator:n,nGramWidths:r,leftPad:i,rightPad:a,padWidth:o,preserveShortSequences:s},d={data:u,dataSplits:l},f=oe.BV.runKernel(se._J,d,c);return{nGrams:f[0],nGramsSplits:f[1]}}});var Jr=(0,S.op)({stringSplit_:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(0,x._1)(e,"input","stringSplit","string"),i=(0,x._1)(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error("Input should be Tensor1D but received shape ".concat(r.shape));if(0!==i.rank)throw new Error("Delimiter should be a scalar but received shape ".concat(i.shape));var a={skipEmpty:n},o={input:r,delimiter:i},s=oe.BV.runKernel(se.s1,o,a);return{indices:s[0],values:s[1],shape:s[2]}}});var $r=(0,S.op)({stringToHashBucketFast_:function(e,t){var n=(0,x._1)(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");var i={input:n};return oe.BV.runKernel(se.Xk,i,r)}}),ei={fft:sn.k,ifft:un.S,rfft:cn.Q,irfft:ln.w},ti={hammingWindow:ir,hannWindow:ar,frame:or,stft:sr},ni={flipLeftRight:lr,grayscaleToRGB:cr,resizeNearestNeighbor:kr.j,resizeBilinear:Cr.I,rotateWithOffset:dr,cropAndResize:ur,nonMaxSuppression:hr,nonMaxSuppressionAsync:gr,nonMaxSuppressionWithScore:vr,nonMaxSuppressionWithScoreAsync:xr,nonMaxSuppressionPadded:br,nonMaxSuppressionPaddedAsync:Sr,threshold:Tr,transform:Ir},ri={bandPart:Ar,gramSchmidt:Mr,qr:Rr},ii={absoluteDifference:Lr,computeWeightedLoss:Or,cosineDistance:Fr,hingeLoss:Zr,huberLoss:Br,logLoss:zr,meanSquaredError:Vr,sigmoidCrossEntropy:Wr,softmaxCrossEntropy:Gr},ai={sparseFillEmptyRows:Xr,sparseReshape:qr,sparseSegmentMean:Yr,sparseSegmentSum:Kr},oi={stringNGrams:Qr,stringSplit:Jr,stringToHashBucketFast:$r}},71970:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({pad_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=(0,a._1)(e,"x","pad");if(0===o.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var s={paddings:t,constantValue:n},u={x:o};return r.BV.runKernel(i.ly,u,s)}})},57226:function(e,t,n){"use strict";n.d(t,{d:function(){return h}});var r=n(29439),i=n(48354),a=n(36147),o=n(49204),s=n(36994),u=n(39151),l=n(85777),c=n(38640),d=n(75561),f=n(65696);var h=(0,c.op)({pool_:function(e,t,n,c,h,p,m){null==h&&(h=[1,1]),null==p&&(p=1),0===c&&(c="valid");var g=(0,i._1)(e,"x","maxPool"),v=g,y=!1;3===g.rank&&(y=!0,v=(0,d.X)(g,[1,g.shape[0],g.shape[1],g.shape[2]])),a.hu(u.jT(p,h),(function(){return"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(p," and dilations '").concat(h,"'")}));var x,b=u.Xw(v.shape,t,p,h,c),w=[b.dilationHeight,b.dilationWidth];x="same"===c?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})).map((function(e){return e-1})),r=n.map((function(e){return Math.floor(e/2)})),i=n.map((function(e,t){return e-r[t]}));return n.map((function(e,t){return[r[t],i[t]]}))}([b.filterHeight,b.filterWidth],w):[[0,0],[0,0]];var _=1===w[0]&&1===w[1],S=function(e,t,n){var r=n.map((function(e){return e[0]})),i=n.map((function(e){return e[1]})),a=e.concat(r,i),o=t.map((function(e,t){return(e-a[t]%e)%e})),s=i.map((function(e,t){return e+o[t]})),u=t.map((function(e,t){return[r[t],s[t]]})),l=t.map((function(e,t){return[0,o[t]]}));return[u,l]}([b.inHeight,b.inWidth],w,x),C=(0,r.Z)(S,2),k=C[0],D=C[1],T=_?c:"valid",I=_?v:(0,f.f)(v,w,k),A=("avg"===n?function(){return(0,o.w)(I,t,p,T,m)}:function(){return(0,l._)(I,t,p,T,m)})(),M=_?A:(0,s.E)(A,w,D);return y?(0,d.X)(M,[M.shape[1],M.shape[2],M.shape[3]]):M}})},44334:function(e,t,n){"use strict";n.d(t,{s:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({pow_:function(e,t){var n=(0,s._1)(e,"base","pow"),u=(0,s._1)(t,"exp","pow"),l=(0,o.makeTypesMatch)(n,u),c=(0,r.Z)(l,2),d={a:n=c[0],b:u=c[1]};return i.BV.runKernel(a.pe,d)}})},96859:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({prelu_:function(e,t){var n={x:(0,a._1)(e,"x","prelu"),alpha:(0,a._1)(t,"alpha","prelu")};return r.BV.runKernel(i.o0,n)}})},64600:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}n.d(t,{S:function(){return r}})},67722:function(e,t,n){"use strict";n.d(t,{W:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(99118);var s=(0,n(38640).op)({prod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=(0,a._1)(e,"x","prod");"bool"===s.dtype&&(s=(0,o.p)(s,"int32"));var u={x:s},l={axis:t,keepDims:n};return r.BV.runKernel(i.Dl,u,l)}})},14466:function(e,t,n){"use strict";n.d(t,{T9:function(){return s},Yi:function(){return o},wv:function(){return u}});var r=n(15671),i=n(43144),a=n(10282),o=function(){function e(t,n,i,o,s){(0,r.Z)(this,e),this.mean=t,this.stdDev=n,this.dtype=i,this.nextVal=NaN,this.truncated=o,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var u=s||Math.random();this.random=a.alea(u.toString())}return(0,i.Z)(e,[{key:"nextValue",value:function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var i=void 0,a=void 0,o=void 0;do{o=(i=2*this.random()-1)*i+(a=2*this.random()-1)*a}while(o>=1||0===o);var s=Math.sqrt(-2*Math.log(o)/o);t=this.mean+this.stdDev*i*s,n=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)}},{key:"convertValue",value:function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}},{key:"isValidTruncated",value:function(e){return e<=this.upper&&e>=this.lower}}]),e}(),s=function(){function e(t,n,i,s){(0,r.Z)(this,e),this.alpha=t,this.beta=1/n,this.dtype=i;var u=s||Math.random();this.randu=a.alea(u.toString()),this.randn=new o(0,1,i,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return(0,i.Z)(e,[{key:"nextValue",value:function(){for(var e,t,n,r,i,a;;){do{r=this.randn.nextValue(),a=1+this.c*r}while(a<=0);if(a*=a*a,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-a+Math.log(a)),(i=this.randu())<t||Math.log(i)<n)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)}},{key:"convertValue",value:function(e){return"float32"===this.dtype?e:Math.round(e)}}]),e}(),u=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;if((0,r.Z)(this,e),this.canReturnFloat=function(){return null==t.dtype||"float32"===t.dtype},this.min=n,this.range=i-n,this.dtype=o,null==s&&(s=Math.random()),"number"===typeof s&&(s=s.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(n," - ").concat(i," <= 1 and dtype is not float"));this.random=a.alea(s)}return(0,i.Z)(e,[{key:"convertValue",value:function(e){return this.canReturnFloat()?e:Math.round(e)}},{key:"nextValue",value:function(){return this.convertValue(this.min+this.range*this.random())}}]),e}()},16407:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var r=n(77039),i=n(38640),a=n(14466);var o=(0,i.op)({randomUniform_:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",o=arguments.length>4?arguments[4]:void 0,s=(0,r.f)(e,i),u=new a.wv(t,n,null,o),l=0;l<s.values.length;l++)s.values[l]=u.nextValue();return s.toTensor()}})},422:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var r=n(70318),i=n(32145);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");var o={start:e,stop:t,step:n,dtype:a};return r.BV.runKernel(i.e6,{},o)}},26972:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({real_:function(e){var t={input:(0,a._1)(e,"input","real")};return r.BV.runKernel(i.xJ,t)}})},12209:function(e,t,n){"use strict";n.d(t,{M:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({reciprocal_:function(e){var t={x:(0,a._1)(e,"x","reciprocal")};return r.BV.runKernel(i.$H,t)}})},17539:function(e,t,n){"use strict";n.d(t,{U:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({relu_:function(e){var t={x:(0,a._1)(e,"x","relu")};return r.BV.runKernel(i.qk,t)}})},65900:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({relu6_:function(e){var t={x:(0,a._1)(e,"x","relu6")};return r.BV.runKernel(i.Sb,t)}})},75561:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({reshape_:function(e,t){var n={x:(0,a._1)(e,"x","reshape","string_or_numeric")},o={shape:t};return r.BV.runKernel(i.HZ,n,o)}})},34933:function(e,t,n){"use strict";n.d(t,{G:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({reverse_:function(e,t){var n={x:(0,a._1)(e,"x","reverse")},o={dims:t};return r.BV.runKernel(i.mK,n,o)}})},60766:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({round_:function(e){var t={x:(0,a._1)(e,"x","round")};return r.BV.runKernel(i.e0,t)}})},65115:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({rsqrt_:function(e){var t={x:(0,a._1)(e,"x","rsqrt","float32")};return r.BV.runKernel(i.bV,t)}})},27067:function(e,t,n){"use strict";n.d(t,{i:function(){return a}});var r=n(36147),i=n(77960);function a(e,t){if(((0,r.fU)(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&(0,r.fU)(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return(0,i.H)(e,[],[],t)}},23522:function(e,t,n){"use strict";n.d(t,{s:function(){return u}});var r=n(70318),i=n(32145),a=n(48354),o=n(38640),s=n(48604);var u=(0,o.op)({scatterND_:function(e,t,n){var o=(0,a._1)(e,"indices","scatterND","int32"),u=(0,a._1)(t,"updates","scatterND");s.validateInput(u,o,n);var l={indices:o,updates:u},c={shape:n};return r.BV.runKernel(i.xQ,l,c)}})},48604:function(e,t,n){"use strict";n.r(t),n.d(t,{calculateShapes:function(){return s},validateInput:function(){return o},validateUpdateShape:function(){return a}});var r=n(93433),i=n(36147);function a(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,i=t.rank>1?t.rank-1:1,a="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(r,", and batchDim: ").concat(i,".");if(n.rank<i)throw new Error(a+" update.rank < ".concat(i,". "));if(e.length<r+(n.rank-i))throw new Error(a+" Output shape length < ".concat(r+(n.rank-i)));if(n.rank!==i+e.length-r)throw new Error(a+" update.rank != ".concat(i+e.length-r));for(var o=0;o<i;++o)if(n.shape[o]!==t.shape[o])throw new Error(a+" updates.shape[".concat(o,"] (").concat(n.shape[o],") != indices.shape[").concat(o,"] (").concat(t.shape[o],")."));for(var s=0;s<n.rank-i;++s)if(n.shape[s+i]!==e[s+r])throw new Error(a+" updates.shape[".concat(s+i,"] (").concat(n.shape[s+i],") != shape[").concat(s+i,"] (").concat(e[s+i],")"))}function o(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}a(n,t,e)}function s(e,t,n){for(var a=t.shape.length,o=a>1?t.shape[a-1]:1,s=n.length,u=1,l=o;l<s;++l)u*=n[l];var c=o<1?1:o;return{sliceRank:o,numUpdates:(0,i.NA)(t.shape)/c,sliceSize:u,strides:[].concat((0,r.Z)((0,i.e3)(n.slice(0,o))),[1]),outputSize:(0,i.NA)(n)}}},9028:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(38640),u=n(75561),l=2147483648;var c=(0,s.op)({searchSorted_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left",s=(0,a._1)(e,"sortedSequence","searchSorted"),c=(0,a._1)(t,"values","searchSorted"),d=s.shape[s.shape.length-1],f=c.shape[c.shape.length-1],h=(0,u.X)(s,[-1,d]),p=(0,u.X)(c,[-1,f]);if(h.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(h.shape[0]!==p.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if((0,o.NA)(p.shape)>=l)throw new Error("values tensor size must less than ".concat(l));if(h.shape[1]>=l)throw new Error("trailing dim_size must less than ".concat(l," for int32 output type, was ").concat(h.shape[1]));var m={sortedSequence:h,values:p},g={side:n};return r.BV.runKernel(i.nr,m,g)}})},20413:function(e,t,n){"use strict";n.d(t,{U:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({selu_:function(e){var t={x:(0,a._1)(e,"x","selu")};return r.BV.runKernel(i.oF,t)}})},20349:function(e,t,n){"use strict";n.d(t,{$:function(){return i},y:function(){return r}});var r=1.7580993408473768,i=1.0507009873554805},90119:function(e,t,n){"use strict";n.d(t,{U:function(){return l}});var r=n(48354),i=n(36147),a=n(93457),o=n(61147),s=n(38640),u=n(75561);var l=(0,s.op)({separableConv2d_:function(e,t,n,s,l){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC",f=(0,r._1)(e,"x","separableConv2d"),h=(0,r._1)(t,"depthwiseFilter","separableConv2d"),p=(0,r._1)(n,"pointwiseFilter","separableConv2d"),m=f,g=!1;if(3===f.rank&&(g=!0,m=(0,u.X)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),"NCHW"===d)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");i.hu(4===m.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(m.rank,".")})),i.hu(4===h.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(h.rank,".")})),i.hu(4===p.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(h.rank,".")})),i.hu(1===p.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(p.shape[0],".")})),i.hu(1===p.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(p.shape[1],".")}));var v=h.shape[2],y=h.shape[3];i.hu(p.shape[2]===v*y,(function(){return"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(v*y,", ")+"but got ".concat(p.shape[2],".")}));var x=(0,o.B)(m,h,s,l,d,c),b=1,w=(0,a.T)(x,p,b,"valid",d);return g?(0,u.X)(w,[w.shape[1],w.shape[2],w.shape[3]]):w}})},24438:function(e,t,n){"use strict";n.d(t,{O:function(){return c}});var r=n(15861),i=n(87757),a=n.n(i),o=n(4376),s=n(48354),u=n(36147);function l(){return(l=(0,r.Z)(a().mark((function e(t,n){var r,i,l,c,d,f,h,p,m,g,v;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,s._1)(t,"x","setdiff1d"),i=(0,s._1)(n,"y","setdiff1d"),u.hu(r.dtype===i.dtype,(function(){return"x and y should have the same dtype, but got x (".concat(r.dtype,") and y (").concat(i.dtype,").")})),u.hu(1===r.rank,(function(){return"x should be 1D tensor, but got x (".concat(r.shape,").")})),u.hu(1===i.rank,(function(){return"y should be 1D tensor, but got y (".concat(i.shape,").")})),e.next=7,r.data();case 7:return l=e.sent,e.next=10,i.data();case 10:for(c=e.sent,d=new Set(c),f=0,h=0;h<l.length;h++)d.has(l[h])||f++;for(p=new o.YD([f],r.dtype),m=new o.YD([f],"int32"),g=0,v=0;g<l.length;g++)d.has(l[g])||(p.values[v]=l[g],m.values[v]=g,v++);return e.abrupt("return",[p.toTensor(),m.toTensor()]);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c=function(e,t){return l.apply(this,arguments)}},77643:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({sigmoid_:function(e){var t={x:(0,a._1)(e,"x","sigmoid","float32")};return r.BV.runKernel(i.a5,t)}})},2070:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({sign_:function(e){var t={x:(0,a._1)(e,"x","sign")};return r.BV.runKernel(i.i5,t)}})},87254:function(e,t,n){"use strict";n.d(t,{O:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({sin_:function(e){var t={x:(0,a._1)(e,"x","sin","float32")};return r.BV.runKernel(i.RQ,t)}})},57657:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({sinh_:function(e){var t={x:(0,a._1)(e,"x","sinh")};return r.BV.runKernel(i.w3,t)}})},59238:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({slice_:function(e,t,n){var o=(0,a._1)(e,"x","slice","string_or_numeric");if(0===o.rank)throw new Error("Slicing scalar is not possible");var s={x:o},u={begin:t,size:n};return r.BV.runKernel(i.p2,s,u)}})},52875:function(e,t,n){"use strict";n.r(t),n.d(t,{assertParamsValid:function(){return a},computeFlatOffset:function(){return y},computeOutShape:function(){return s},getNormalizedAxes:function(){return d},isSliceContinous:function(){return v},maskToAxes:function(){return o},parseSliceParams:function(){return x},sliceInfo:function(){return b},startForAxis:function(){return m},startIndicesWithElidedDims:function(){return f},stopForAxis:function(){return g},stopIndicesWithElidedDims:function(){return h},stridesForAxis:function(){return p},stridesWithElidedDims:function(){return u}});var r=n(93433),i=n(36147);function a(e,t,n){var r=e.shape.length;i.hu(r===t.length,(function(){return"Error in slice".concat(r,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(r,").")})),i.hu(r===n.length,(function(){return"Error in slice".concat(r,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(r,").")}));for(var a=function(a){i.hu(t[a]+n[a]<=e.shape[a],(function(){return"Error in slice".concat(r,"D: begin[").concat(a,"] + size[").concat(a,"] ")+"(".concat(t[a]+n[a],") would overflow input.shape[").concat(a,"] (").concat(e.shape[a],")")}))},o=0;o<r;++o)a(o)}function o(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function s(e,t,n){for(var r=[],i=0;i<e.length;i++)r[i]=Math.ceil((t[i]-e[i])/n[i]);return r}function u(e,t,n,i){for(var a=(0,r.Z)(e),o=a.length;o<i.length;o++)a.push(1);for(var s=0;s<n;s++)0===s?a[t]=1:(a.splice(t,0,1),a.pop());return a}function l(e,t,n){return n<=e?n:n-(t-1)}function c(e,t){for(var n=[],r=0;r<e;r++)n.push(t+r);return n}function d(e,t,n,r,i,a,o,s,l){var c=e.length,d=new Array(c),v=new Array(c),y=new Array(c);if(t.length&&n>0){var x=t[0],b=n+1;d=f(o,x,b,r,e),v=h(s,x,b,i,e),y=u(a,x,b,e)}else for(var w=0;w<c;w++)d[w]=m(o,r,a,e,w,l),v[w]=g(s,i,a,e,w,l),y[w]=p(a,w,l);return{begin:d,end:v,strides:y}}function f(e,t,n,i,a){for(var o=(0,r.Z)(a),s=c(n,t),u=0;u<o.length;u++)if(s.indexOf(u)>-1)o[u]=0;else{var d=l(t,n,u),f=i[d];e&1<<d&&(f=0),o[u]=f}return o}function h(e,t,n,a,o){for(var s=(0,r.Z)(o),u=c(n,t),d=0;d<s.length;d++)if(u.indexOf(d)>-1)s[d]=Number.MAX_SAFE_INTEGER;else{var f=l(t,n,d),h=a[f];e&1<<f&&(h=Number.MAX_SAFE_INTEGER),s[d]=h}for(var p=0;p<s.length;p++){var m=o[p];s[p]<0&&(s[p]+=m),s[p]=i.uZ(0,s[p],o[p])}return s}function p(e,t,n){var r=e[t];return(n&1<<t||null==r)&&(r=1),r}function m(e,t,n,r,a,o){var s=t[a],u=n[a]||1;(e&1<<a||o&1<<a||null==s)&&(s=u>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var l=r[a];return s<0&&(s+=l),s=i.uZ(0,s,l-1)}function g(e,t,n,r,a,o){var s=t[a],u=n[a]||1;(e&1<<a||o&1<<a||null==s)&&(s=u>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var l=r[a];return s<0&&(s+=l),s=u>0?i.uZ(0,s,l):i.uZ(-1,s,l-1)}function v(e,t,n){for(var r=n.length,i=0;i<n.length;i++)if(n[i]>1){r=i;break}for(var a=r+1;a<n.length;a++)if(t[a]>0||n[a]!==e[a])return!1;return!0}function y(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function x(e,t,n){var a,o,s=e.shape.length;return(a="number"===typeof t?[t].concat((0,r.Z)(new Array(s-1).fill(0))):t.length<s?t.concat(new Array(s-t.length).fill(0)):t.slice()).forEach((function(e){i.hu(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),o=(o=null==n?new Array(s).fill(-1):"number"===typeof n?[n].concat((0,r.Z)(new Array(s-1).fill(-1))):n.length<s?n.concat(new Array(s-n.length).fill(-1)):n).map((function(t,n){return t>=0?t:(i.hu(-1===t,(function(){return"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(n,".")})),e.shape[n]-a[n])})),[a,o]}function b(e,t,n,r,i,a,o,s,u){var l;if(null==r?(l=new Array(t.length)).fill(1):l=r,null!=o&&0!==(o&o-1))throw new Error("Multiple ellipses in slice is not allowed.");for(var c=!1,d={dims:l.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:l.slice(),beginMask:i,endMask:a,ellipsisMask:o,newAxisMask:s,shrinkAxisMask:u},f=0;f<d.dims;f++)c&&0!==(1<<f&s)&&d.numAddAxisAfterEllipsis++,1<<f&o&&(c=!0);c||(d.ellipsisMask|=1<<d.dims,d.dims++);var h={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;var n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(var r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask)for(var i=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);n<i;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r;else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input ")+"has only ".concat(t.dims," dims, ").concat(t.begin.length,"."));null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(d,h);for(var p=!0,m=!0,g=!0,v=[],y=[],x=0;x<e.length;++x){if(0===h.strides[x])throw Error("strides[".concat(x,"] must be non-zero"));var b=!!(h.shrinkAxisMask&1<<x),_=e[x];if(-1!==_){var S=[h.beginMask&1<<x,h.endMask&1<<x],C=[h.strides[x]>0?0:-1,h.strides[x]>0?_:_-1];if(b&&h.strides[x]<=0)throw Error("only stride 1 allowed on non-range indexing.");g=g&&1===h.strides[x];var k=!!(h.beginMask&1<<x&&h.endMask&1<<x);if(h.beginValid&&h.endValid){if(b){var D=h.begin[x]<0?_+h.begin[x]:h.begin[x];if(h.begin[x]=D,h.end[x]=h.begin[x]+1,D<0||D>=_)throw Error("slice index ".concat(h.begin[x]," of dimension ").concat(x," out of bounds."))}else h.begin[x]=w(h.begin[x],0,h.strides[x],_,S,C),h.end[x]=w(h.end[x],1,h.strides[x],_,S,C);var T=1===h.strides[x]&&0===h.begin[x]&&h.end[x]===_;p=p&&T,m=m&&(0===x&&1===h.strides[x]||T)}else p=p&&1===h.strides[x]&&k,m=m&&(0===x&&1===h.strides[x]||k);var I=void 0,A=!1;if(h.beginValid&&h.endValid?(I=h.end[x]-h.begin[x],A=!0):b?(I=1,A=!0):k&&_>=0&&(I=h.strides[x]<0?-_:_,A=!0),A){var M=void 0;M=0===I||I<0!==h.strides[x]<0?0:Math.trunc(I/h.strides[x])+(I%h.strides[x]!==0?1:0),v.push(M)}else v.push(-1)}else v.push(b?1:-1)}for(var E=0;E<h.finalShapeGatherIndices.length;++E){var N=h.finalShapeGatherIndices[E];N>=0?y.push(v[N]):-2===N&&y.push(1)}var R=y.filter((function(e,t){return-2!==h.finalShapeGatherIndices[t]}));return{finalShapeSparse:R,finalShape:y,isIdentity:p,sliceDim0:m,isSimpleSlice:g,begin:h.begin,end:h.end,strides:h.strides}}function w(e,t,n,r,i,a){if(i[t])return n>0?a[t]:a[t+1&1];var o=e<0?r+e:e;return o<a[0]?a[0]:o>a[1]?a[1]:o}},74910:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({softmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=(0,a._1)(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(t));var o={logits:n},s={dim:t};return r.BV.runKernel(i.Gc,o,s)}})},54626:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({softplus_:function(e){var t={x:(0,a._1)(e,"x","softplus")};return r.BV.runKernel(i.MR,t)}})},65696:function(e,t,n){"use strict";n.d(t,{f:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({spaceToBatchND_:function(e,t,n){var s=(0,a._1)(e,"x","spaceToBatchND");o.hu(s.rank>=1+t.length,(function(){return"input rank ".concat(s.rank," should be > than [blockShape] ").concat(t.length)})),o.hu(n.length===t.length,(function(){return"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length)})),o.hu(s.shape.reduce((function(e,r,i){return i>0&&i<=t.length?e&&(r+n[i-1][0]+n[i-1][1])%t[i-1]===0:e}),!0),(function(){return"input spatial dimensions ".concat(s.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString())}));var u={x:s},l={blockShape:t,paddings:n};return r.BV.runKernel(i.TQ,u,l)}})},49991:function(e,t,n){"use strict";n.d(t,{e:function(){return s}});var r=n(70318),i=n(32145);function a(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));var i=e.rank>0?e.shape[0]:1,a=e.rank>1?e.shape[1]:1;if(n.length!==a)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(a,"."));var o=t.size;if(0!==t.rank&&(1!==t.rank||o!==i))throw new Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(i,"]"));if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}var o=n(48354);var s=(0,n(38640).op)({sparseToDense_:function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=(0,o._1)(e,"sparseIndices","sparseToDense","int32"),l=(0,o._1)(t,"sparseValues","sparseToDense","string_or_numeric"),c=(0,o._1)(s,"defaultValue","sparseToDense",l.dtype);a(u,l,n,c);var d={sparseIndices:u,sparseValues:l,defaultValue:c},f={outputShape:n};return r.BV.runKernel(i.D2,d,f)}})},37635:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var r=n(70318),i=n(32145),a=n(36147);var o=(0,n(38640).op)({fft_:function(e){(0,a.hu)("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return r.BV.runKernel(i.vw,t)}})},50530:function(e,t,n){"use strict";n.d(t,{S:function(){return o}});var r=n(70318),i=n(32145),a=n(36147);var o=(0,n(38640).op)({ifft_:function(e){(0,a.hu)("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return r.BV.runKernel(i.Qg,t)}})},774:function(e,t,n){"use strict";n.d(t,{w:function(){return p}});var r=n(59253),i=n(34836),a=n(76996),o=n(30651),s=n(38640),u=n(26972),l=n(75561),c=n(34933),d=n(27067),f=n(59238),h=n(50530);var p=(0,s.op)({irfft_:function(e){var t,n=e.shape[e.shape.length-1],s=e.size/n;if(n<=2){var p=(0,l.X)(e,[s,n]);t=(0,h.S)(p)}else{var m=[s,2*(n-1)],g=(0,l.X)((0,u.k)(e),[s,n]),v=(0,l.X)((0,a.a)(e),[s,n]),y=(0,c.G)((0,f.t)(g,[0,1],[s,n-2]),1),x=(0,o.d)((0,c.G)((0,f.t)(v,[0,1],[s,n-2]),1),(0,d.i)(-1)),b=(0,i.z)([g,y],1),w=(0,i.z)([v,x],1),_=(0,l.X)((0,r.P)(b,w),[m[0],m[1]]);t=(0,h.S)(_)}if(t=(0,u.k)(t),3===e.rank&&0!==e.shape[0]){var S=t,C=e.shape[0];t=(0,l.X)(t,[C,t.shape[0]/C,t.shape[1]]),S.dispose()}return t}})},64617:function(e,t,n){"use strict";n.d(t,{Q:function(){return m}});var r=n(36147),i=n(59253),a=n(34836),o=n(76996),s=n(38640),u=n(26972),l=n(75561),c=n(59238),d=n(82588),f=n(87742),h=n(87293),p=n(37635);var m=(0,s.op)({rfft_:function(e,t){(0,r.hu)("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got ".concat(e.dtype)}));var n,s=e.shape[e.shape.length-1],m=e.size/s;if(null!=t&&t<s){var g=e.shape.map((function(e){return 0})),v=e.shape.map((function(e){return e}));v[e.shape.length-1]=t,n=(0,c.t)(e,g,v),s=t}else if(null!=t&&t>s){var y=e.shape.map((function(e){return e}));y[e.shape.length-1]=t-s,n=(0,a.z)([e,(0,f.l)(y)],e.shape.length-1),s=t}else n=e;var x=(0,h.P)(n),b=(0,l.X)((0,i.P)(n,x),[m,s]),w=(0,p.k)(b),_=Math.floor(s/2)+1,S=(0,u.k)(w),C=(0,o.a)(w),k=(0,d.V)(S,[_,s-_],S.shape.length-1),D=(0,d.V)(C,[_,s-_],C.shape.length-1),T=n.shape.slice();return T[n.shape.length-1]=_,(0,l.X)((0,i.P)(k[0],D[0]),T)}})},82588:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({split_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=(0,a._1)(e,"x","split"),s={x:o},u={numOrSizeSplits:t,axis:n};return r.BV.runKernel(i.L8,s,u)}})},46902:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({sqrt_:function(e){var t={x:(0,a._1)(e,"x","sqrt","float32")};return r.BV.runKernel(i.FK,t)}})},7391:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(70318),i=n(48354);var a=(0,n(38640).op)({square_:function(e){var t=(0,i._1)(e,"x","square");return r.BV.runKernel("Square",{x:t},{})}})},7993:function(e,t,n){"use strict";n.d(t,{$:function(){return l}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774);var l=(0,n(38640).op)({squaredDifference_:function(e,t){var n=(0,s._1)(e,"a","squaredDifference"),l=(0,s._1)(t,"b","squaredDifference"),c=(0,o.makeTypesMatch)(n,l),d=(0,r.Z)(c,2);n=d[0],l=d[1],(0,u.assertAndGetBroadcastShape)(n.shape,l.shape);var f={a:n,b:l};return i.BV.runKernel(a._t,f,{})}})},83931:function(e,t,n){"use strict";n.d(t,{L:function(){return s}});var r=n(48354),i=n(36147),a=n(38640),o=n(75561);var s=(0,a.op)({squeeze_:function(e,t){var n=(0,r._1)(e,"x","squeeze");return(0,o.X)(n,(0,i.bp)(n.shape,t).newShape)}})},18306:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({stack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,a.sI)(e,"tensors","stack","string_or_numeric");o.hu(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),n.length>0&&o.hu(t<=n[0].rank,(function(){return"Axis must be <= rank of the tensor"}));var s=n,u={axis:t};return r.BV.runKernel(i.Qi,s,u)}})},94031:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({step_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,a._1)(e,"x","step"),o={x:n},s={alpha:t};return r.BV.runKernel(i.h8,o,s)}})},39017:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({stridedSlice_:function(e,t,n,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,f=(0,a._1)(e,"x","stridedSlice","string_or_numeric"),h={x:f},p={begin:t,end:n,strides:o,beginMask:s,endMask:u,ellipsisMask:l,newAxisMask:c,shrinkAxisMask:d};return r.BV.runKernel(i.m2,h,p)}})},84774:function(e,t,n){"use strict";n.d(t,{l:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({sub_:function(e,t){var n=(0,s._1)(e,"a","sub"),u=(0,s._1)(t,"b","sub"),l=(0,o.makeTypesMatch)(n,u),c=(0,r.Z)(l,2),d={a:n=c[0],b:u=c[1]};return i.BV.runKernel(a.Tr,d)}})},40227:function(e,t,n){"use strict";n.d(t,{S:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(99118);var s=(0,n(38640).op)({sum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=(0,a._1)(e,"x","sum");"bool"===s.dtype&&(s=(0,o.p)(s,"int32"));var u={x:s},l={axis:t,keepDims:n};return r.BV.runKernel(i.GB,u,l)}})},66999:function(e,t,n){"use strict";n.d(t,{O:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({tan_:function(e){var t={x:(0,a._1)(e,"x","tan","float32")};return r.BV.runKernel(i.sE,t)}})},11744:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({tanh_:function(e){var t={x:(0,a._1)(e,"x","tanh","float32")};return r.BV.runKernel(i.MI,t)}})},72442:function(e,t,n){"use strict";n.d(t,{X:function(){return a}});var r=n(48354),i=n(77960);function a(e,t,n){var a=(0,r.C)(e,n);return(0,i.H)(e,t,a,n)}},92894:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var r=n(48354),i=n(36147),a=n(77960);function o(e,t){(0,i.Cq)(e);var n=(0,r.C)(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return(0,a.H)(e,null,n,t)}},73123:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});var r=n(48354),i=n(36147),a=n(77960);function o(e,t,n){if((0,i.Cq)(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var o=(0,r.C)(e,n);if(3!==o.length&&1!==o.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return(0,a.H)(e,t,o,n)}},77960:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(70318),i=n(36147),a=n(70115);function o(e,t,n,o){if(null==o&&(o=(0,i.D2)(e)),"complex64"===o)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!(0,i.fU)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){(0,i.Mu)(t);var s=(0,i.NA)(t),u=(0,i.NA)(n);(0,i.hu)(s===u,(function(){return"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(s," values but has ").concat(u)}));for(var l=0;l<n.length;++l){var c=n[l],d=l!==n.length-1||c!==(0,i.NA)(t.slice(l));(0,i.hu)(n[l]===t[l]||!d,(function(){return"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(t,"). ")}))}}return(0,i.fU)(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==o?(0,a.toTypedArray)(e,o):(0,i.xH)(e,[],!0),r.BV.makeTensor(e,t,o)}},42343:function(e,t,n){"use strict";n.d(t,{G:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({tile_:function(e,t){var n=(0,a._1)(e,"x","tile","string_or_numeric");o.hu(n.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(t,".")}));var s={x:n},u={reps:t};return r.BV.runKernel(i.n9,s,u)}})},29085:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var r=n(29439),i=n(70318),a=n(32145),o=n(48354);var s=(0,n(38640).op)({topk_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=(0,o._1)(e,"x","topk");if(0===s.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var u=s.shape[s.shape.length-1];if(t<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>u)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(u,") ")+"but got ".concat(t));var l={x:s},c={k:t,sorted:n},d=i.BV.runKernel(a.cW,l,c),f=(0,r.Z)(d,2),h=f[0],p=f[1];return{values:h,indices:p}}})},61240:function(e,t,n){"use strict";n.d(t,{p:function(){return h}});var r=n(70318),i=n(35875),a=n(32145),o=n(48354),s=n(36147),u=n(59253),l=n(76996),c=n(4362),d=n(38640),f=n(26972);var h=(0,d.op)({transpose_:function(e,t,n){var d=(0,o._1)(e,"x","transpose");if(null==t&&(t=d.shape.map((function(e,t){return t})).reverse()),s.hu(d.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(d.rank," ")+"must match length of perm ".concat(t,".")})),t.forEach((function(e){s.hu(e>=0&&e<d.rank,(function(){return"All entries in 'perm' must be between 0 and ".concat(d.rank-1)+" but got ".concat(t)}))})),d.rank<=1)return d.clone();var h={x:d},p={perm:t};return"complex64"===d.dtype?(0,i.lu)((function(){var e=(0,f.k)(d),t=(0,l.a)(d);return e=r.BV.runKernel(a.G3,{x:e},p),t=r.BV.runKernel(a.G3,{x:t},p),n&&(t=(0,c.W)(t)),(0,u.P)(e,t)})):r.BV.runKernel(a.G3,h,p)}})},52453:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(77039),i=n(38640),a=n(14466);var o=(0,i.op)({truncatedNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(null!=i&&"bool"===i)throw new Error("Unsupported data type $ { dtype }");for(var s=new a.Yi(t,n,i,!0,o),u=(0,r.f)(e,i),l=0;l<u.values.length;l++)u.values[l]=s.nextValue();return u.toTensor()}})},74860:function(e,t,n){"use strict";n.d(t,{T:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(48354),s=n(36147);var u=(0,n(38640).op)({unique_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,o._1)(e,"x","unique","string_or_numeric");(0,s.hu)(n.rank>0,(function(){return"The input tensor must be at least 1D"}));var u={x:n},l={axis:t},c=i.BV.runKernel(a.kp,u,l),d=(0,r.Z)(c,2),f=d[0],h=d[1];return{values:f,indices:h}}})},46918:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({unsortedSegmentSum_:function(e,t,n){var s=(0,a._1)(e,"x","unsortedSegmentSum"),u=(0,a._1)(t,"segmentIds","unsortedSegmentSum","int32");(0,o.hu)((0,o.GN)(n),(function(){return"numSegments must be of dtype int"}));var l={x:s,segmentIds:u},c={numSegments:n};return r.BV.runKernel(i.Qv,l,c)}})},54566:function(e,t,n){"use strict";n.d(t,{H:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({unstack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,a._1)(e,"x","unstack","string_or_numeric");o.hu(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")}));var s={value:n},u={axis:t};return r.BV.runKernel(i.To,s,u)}})},16035:function(e,t,n){"use strict";n.d(t,{G:function(){return i}});var r=n(9028);function i(e,t){return(0,r.z)(e,t,"right")}},10329:function(e,t,n){"use strict";n.d(t,{a:function(){return u}});var r=n(70318),i=n(32145),a=n(48354),o=n(49742),s=n(45774);var u=(0,n(38640).op)({where_:function(e,t,n){var u=(0,a._1)(t,"a","where"),l=(0,a._1)(n,"b","where"),c=(0,a._1)(e,"condition","where","bool"),d=(0,s.assertAndGetBroadcastShape)((0,s.assertAndGetBroadcastShape)(c.shape,u.shape),l.shape),f={condition:(0,o.U)(c,d),t:(0,o.U)(u,d),e:(0,o.U)(l,d)};return r.BV.runKernel(i.Ph,f)}})},41867:function(e,t,n){"use strict";n.d(t,{i:function(){return l}});var r=n(15861),i=n(87757),a=n.n(i),o=n(24189),s=n(48354);function u(){return(u=(0,r.Z)(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,s._1)(t,"condition","whereAsync","bool"),e.next=3,n.data();case 3:return r=e.sent,i=(0,o.Z)(n.shape,r),t!==n&&n.dispose(),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l=function(e){return u.apply(this,arguments)}},87742:function(e,t,n){"use strict";n.d(t,{l:function(){return o}});var r=n(70318),i=n(36147),a=n(59253);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=o(e,"float32"),s=o(e,"float32");return(0,a.P)(n,s)}var u=(0,i.wT)((0,i.NA)(e),t);return r.BV.makeTensor(u,e,t)}},87293:function(e,t,n){"use strict";n.d(t,{P:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({zerosLike_:function(e){var t={x:(0,a._1)(e,"x","zerosLike")};return r.BV.runKernel(i.Ru,t)}})},4376:function(e,t,n){"use strict";n.d(t,{es:function(){return k},YD:function(){return x},_w:function(){return T},t3:function(){return D},FZ:function(){return C},Vp:function(){return S},Vi:function(){return _}});var r=n(60136),i=n(27277),a=n(15861),o=n(15671),s=n(43144),u=n(87757),l=n.n(u),c=n(96581),d=n(93433),f=n(36147);function h(e,t,n,r){var i=(0,f.e3)(t),a=function(e,t,n,r){var i=(0,f.NA)(t),a=r[r.length-1],o=new Array(a).fill(0),s=t.length,u="complex64"===n?v(e):e;if(s>1)for(var l=0;l<i/a;l++)for(var c=l*a,d=0;d<a;d++)o[d]=Math.max(o[d],p(u[c+d],0,n).length);return o}(e,t,n,i),o=t.length,s=g(e,t,n,i,a),u=["Tensor"];return r&&(u.push("  dtype: ".concat(n)),u.push("  rank: ".concat(o)),u.push("  shape: [".concat(t,"]")),u.push("  values:")),u.push(s.map((function(e){return"    "+e})).join("\n")),u.join("\n")}function p(e,t,n){var r;return r=Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(7))," + ")+"".concat(parseFloat(e[1].toFixed(7)),"j"):(0,f.HD)(e)?"'".concat(e,"'"):"bool"===n?m(e):parseFloat(e.toFixed(7)).toString(),(0,f.oj)(r,t)}function m(e){return 0===e?"false":"true"}function g(e,t,n,r,i){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o="complex64"===n?2:1,s=t[0],u=t.length;if(0===u){if("complex64"===n){var l=v(e);return[p(l[0],0,n)]}return"bool"===n?[m(e[0])]:[e[0].toString()]}if(1===u){if(s>20){var c=3*o,f=Array.from(e.slice(0,c)),h=Array.from(e.slice((s-3)*o,s*o));return"complex64"===n&&(f=v(f),h=v(h)),["["+f.map((function(e,t){return p(e,i[t],n)})).join(", ")+", ..., "+h.map((function(e,t){return p(e,i[s-3+t],n)})).join(", ")+"]"]}var y="complex64"===n?v(e):Array.from(e);return["["+y.map((function(e,t){return p(e,i[t],n)})).join(", ")+"]"]}var x=t.slice(1),b=r.slice(1),w=r[0]*o,_=[];if(s>20){for(var S=0;S<3;S++){var C=S*w,k=C+w;_.push.apply(_,(0,d.Z)(g(e.slice(C,k),x,n,b,i,!1)))}_.push("...");for(var D=s-3;D<s;D++){var T=D*w,I=T+w;_.push.apply(_,(0,d.Z)(g(e.slice(T,I),x,n,b,i,D===s-1)))}}else for(var A=0;A<s;A++){var M=A*w,E=M+w;_.push.apply(_,(0,d.Z)(g(e.slice(M,E),x,n,b,i,A===s-1)))}var N=2===u?",":"";_[0]="["+_[0]+N;for(var R=1;R<_.length-1;R++)_[R]=" "+_[R]+N;for(var P=",\n",O=2;O<u;O++)P+="\n";return _[_.length-1]=" "+_[_.length-1]+"]"+(a?"":P),_}function v(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var y=n(70115),x=function(){function e(t,n,r){var i=this;if((0,o.Z)(this,e),this.dtype=n,this.shape=t.slice(),this.size=f.NA(t),null!=r){var a=r.length;f.hu(a===this.size,(function(){return"Length of values '".concat(a,"' does not match the size ")+"inferred by the shape '".concat(i.size,"'.")}))}if("complex64"===n)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||f.rQ(n,this.size),this.strides=(0,f.e3)(t)}return(0,s.Z)(e,[{key:"set",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];0===r.length&&(r=[0]),f.hu(r.length===this.rank,(function(){return"The number of provided coordinates (".concat(r.length,") must ")+"match the rank (".concat(t.rank,")")}));var a=this.locToIndex(r);this.values[a]=e}},{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);for(var r=0,i=0,a=t;i<a.length;i++){var o=a[i];if(o<0||o>=this.shape[r]){var s="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(s)}r++}for(var u=t[t.length-1],l=0;l<t.length-1;++l)u+=this.strides[l]*t[l];return this.values[u]}},{key:"locToIndex",value:function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}},{key:"indexToLoc",value:function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}},{key:"rank",get:function(){return this.shape.length}},{key:"toTensor",value:function(){return b().makeTensor(this.values,this.shape,this.dtype)}}]),e}(),b=null,w=null;function _(e){b=e}function S(e){w=e}function C(e){e}var k=function(){function e(t,n,r,i){(0,o.Z)(this,e),this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=f.NA(t),this.strides=(0,f.e3)(t),this.dataId=r,this.id=i,this.rankType=this.rank<5?this.rank.toString():"higher"}return(0,s.Z)(e,[{key:"rank",get:function(){return this.shape.length}},{key:"buffer",value:function(){var e=(0,a.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",w.buffer(this.shape,this.dtype,t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bufferSync",value:function(){return w.buffer(this.shape,this.dtype,this.dataSync())}},{key:"array",value:function(){var e=(0,a.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",(0,f.GX)(this.shape,t,"complex64"===this.dtype));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"arraySync",value:function(){return(0,f.GX)(this.shape,this.dataSync(),"complex64"===this.dtype)}},{key:"data",value:function(){var e=(0,a.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.throwIfDisposed(),t=b().read(this.dataId),"string"!==this.dtype){e.next=13;break}return e.next=5,t;case 5:return n=e.sent,e.prev=6,e.abrupt("return",n.map((function(e){return y.decodeString(e)})));case 10:throw e.prev=10,e.t0=e.catch(6),new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().");case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this,[[6,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"dataToGPU",value:function(e){return this.throwIfDisposed(),b().readToGPU(this.dataId,e)}},{key:"dataSync",value:function(){this.throwIfDisposed();var e=b().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return y.decodeString(e)}))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}},{key:"bytes",value:function(){var e=(0,a.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.throwIfDisposed(),e.next=3,b().read(this.dataId);case 3:if(t=e.sent,"string"!==this.dtype){e.next=8;break}return e.abrupt("return",t);case 8:return e.abrupt("return",new Uint8Array(t.buffer));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){this.isDisposed||(b().disposeTensor(this),this.isDisposedInternal=!0)}},{key:"isDisposed",get:function(){return this.isDisposedInternal}},{key:"throwIfDisposed",value:function(){if(this.isDisposed)throw new Error("Tensor is disposed.")}},{key:"print",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return w.print(this,e)}},{key:"clone",value:function(){return this.throwIfDisposed(),w.clone(this)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.dataSync();return h(t,this.shape,this.dtype,e)}},{key:"cast",value:function(e){return this.throwIfDisposed(),w.cast(this,e)}},{key:"variable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),b().makeVariable(this,e,t,n)}}]),e}();function D(){return(0,c.R)("Tensor",(function(){return k}))}Object.defineProperty(k,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}}),D();var T=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(e,r,i,a){var s;return(0,o.Z)(this,n),(s=t.call(this,e.shape,e.dtype,e.dataId,a)).trainable=r,s.name=i,s}return(0,s.Z)(n,[{key:"assign",value:function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!f.cO(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));b().disposeTensor(this),this.dataId=e.dataId,b().incRef(this,null)}},{key:"dispose",value:function(){b().disposeVariable(this),this.isDisposedInternal=!0}}]),n}(k);Object.defineProperty(T,Symbol.hasInstance,{value:function(e){return e instanceof k&&null!=e.assign&&e.assign instanceof Function}})},99064:function(e,t,n){"use strict";n.r(t),n.d(t,{assertTypesMatch:function(){return s},getTensorsInContainer:function(){return l},isTensorInList:function(){return u},makeTypesMatch:function(){return o}});var r=n(4376),i=n(3525),a=n(36147);function o(e,t){if(e.dtype===t.dtype)return[e,t];var n=(0,i.x8)(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function s(e,t){(0,a.hu)(e.dtype===t.dtype,(function(){return"The dtypes of the first(".concat(e.dtype,") and")+" second(".concat(t.dtype,") input must match")}))}function u(e,t){return t.some((function(t){return t.id===e.id}))}function l(e){var t=[];return c(e,t,new Set),t}function c(e,t,n){if(null!=e)if(e instanceof r.es)t.push(e);else if(i=e,Array.isArray(i)||"object"===typeof i){var i,a=e;for(var o in a){var s=a[o];n.has(s)||(n.add(s),c(s,t,n))}}}},48354:function(e,t,n){"use strict";n.d(t,{C:function(){return u},_1:function(){return d},sI:function(){return f}});var r=n(70318),i=n(35050),a=n(4376),o=n(36147),s=n(70115);function u(e,t){var n=e;if((0,o.fU)(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||(0,o.fU)(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&(0,i.OB)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&l(e,r,[]),r}function l(e,t,n){if(n=n||[],Array.isArray(e)||(0,o.fU)(e)){(0,o.hu)(t.length>0,(function(){return"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(e.length," elements")})),(0,o.hu)(e.length===t[0],(function(){return"Element arr[".concat(n.join("]["),"] should have ").concat(t[0]," ")+"elements, but has ".concat(e.length," elements")}));for(var r=t.slice(1),i=0;i<e.length;++i)l(e[i],r,n.concat(i))}else(0,o.hu)(0===t.length,(function(){return"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(t[0]," elements")}))}function c(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(r,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function d(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof a.es)return c(i,e.dtype,t,n),e;var l=(0,o.D2)(e);if("string"!==l&&["bool","int32","float32"].indexOf(i)>=0&&(l=i),c(i,l,t,n),null==e||!(0,o.fU)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){var d=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(d,"'"))}var f=u(e,l);(0,o.fU)(e)||Array.isArray(e)||(e=[e]);var h=!0,p="string"!==l?(0,s.toTypedArray)(e,l):(0,o.xH)(e,[],h);return r.BV.makeTensor(p,f,l)}function f(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");var i=e;return i.map((function(e,i){return d(e,"".concat(t,"[").concat(i,"]"),n,r)}))}},3525:function(e,t,n){"use strict";var r,i,a,o,s;n.d(t,{x8:function(){return l},yw:function(){return r},z4:function(){return c}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(r||(r={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(i||(i={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(a||(a={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(o||(o={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(s||(s={}));var u={float32:o,int32:i,bool:a,complex64:s};function l(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return u[e][t]}function c(e){return l(e,"int32")}},70115:function(e,t,n){"use strict";n.r(t),n.d(t,{arraysEqual:function(){return i.cO},assert:function(){return i.hu},assertNonNegativeIntegerDimensions:function(){return i.Mu},assertNonNull:function(){return i.Cq},assertShapesMatch:function(){return i.k5},bytesFromStringArray:function(){return i.Ub},bytesPerElement:function(){return i.bT},checkConversionForErrors:function(){return i.D5},clamp:function(){return i.uZ},computeStrides:function(){return i.e3},createScalarValue:function(){return _},createShuffledIndices:function(){return i.U$},decodeString:function(){return T},distSquared:function(){return i.E7},encodeString:function(){return D},fetch:function(){return k},fingerPrint64:function(){return w},flatten:function(){return i.xH},getArrayFromDType:function(){return i.rQ},getTypedArrayFromDType:function(){return i.WP},hasEncodingLoss:function(){return i.QB},hexToLong:function(){return s},indexToLoc:function(){return i.NE},inferDtype:function(){return i.D2},inferFromImplicitShape:function(){return i.JZ},isBoolean:function(){return i.jn},isFunction:function(){return i.mf},isInt:function(){return i.GN},isNumber:function(){return i.hj},isPromise:function(){return i.tI},isScalarShape:function(){return i.N9},isString:function(){return i.HD},isTypedArray:function(){return i.fU},isValidDtype:function(){return i.LP},locToIndex:function(){return i.qy},makeOnesTypedArray:function(){return i.p8},makeZerosNestedTypedArray:function(){return i.l6},makeZerosTypedArray:function(){return i.wT},nearestDivisor:function(){return i.jP},nearestLargerEven:function(){return i.nY},now:function(){return C},parseAxisParam:function(){return i.EC},randUniform:function(){return i.bj},repeatedTry:function(){return i.WD},rightPad:function(){return i.oj},shuffle:function(){return i.TV},shuffleCombo:function(){return i.d7},sizeFromShape:function(){return i.NA},sizeToSquarishShape:function(){return i.YP},squeezeShape:function(){return i.bp},sum:function(){return i.Sm},swap:function(){return i.LF},tanh:function(){return i.AE},toNestedArray:function(){return i.GX},toTypedArray:function(){return S}});var r=n(35050),i=n(36147),a=n(18987),o=n.n(a)()||a;function s(e){return o.fromString(e,!0,16)}var u=s("c3a5c85c97cb3127"),l=s("b492b66fbe98f273"),c=s("9ae16a3b2f90404f");function d(e){return e.xor(e.shru(47))}function f(e,t,n){var r=e.slice(t,t+n);return o.fromBytes(Array.from(r),!0,!0)}function h(e,t){return f(e,t,8)}function p(e,t){return f(e,t,4)}function m(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));var i=t.xor(r).mul(n);return i=(i=i.xor(i.shru(47))).mul(n)}function v(e,t,n,r){return function(e,t,n,r,i,a){i=i.add(e),a=m(a.add(i).add(r),21);var o=i;return i=(i=i.add(t)).add(n),a=a.add(m(i,44)),[i.add(r),a.add(o)]}(h(e,t),h(e,t+8),h(e,t+16),h(e,t+24),n,r)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){var n=c.add(2*t),r=h(e,0).add(c),i=h(e,t-8),a=m(i,37).mul(n).add(r),o=m(r,25).add(i).mul(n);return g(a,o,n)}if(t>=4){var s=c.add(2*t),l=p(e,0);return g(l.shl(3).add(t),p(e,t-4),s)}if(t>0){var f=e[0],v=e[t>>1],y=e[t-1],x=f+(v<<8),b=t+(y<<2);return d(c.mul(x).xor(u.mul(b))).mul(c)}return c}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=c.add(2*t),r=h(e,0).mul(l),i=h(e,8),a=h(e,t-8).mul(n),o=h(e,t-16).mul(c);return g(m(r.add(i),43).add(m(a,30)).add(o),r.add(m(i.add(c),18)).add(a),n)}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=c.add(2*t),r=h(e,0).mul(c),i=h(e,8),a=h(e,t-8).mul(n),o=h(e,t-16).mul(c),s=m(r.add(i),43).add(m(a,30)).add(o),u=g(s,r.add(m(i.add(c),18)).add(a),n),l=h(e,16).mul(n),d=h(e,24),f=s.add(h(e,t-32)).mul(n),p=u.add(h(e,t-24)).mul(n);return g(m(l.add(d),43).add(m(f,30)).add(p),l.add(m(d.add(r),18)).add(f),n)}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=o.fromNumber(81,!0);if(t<=32)return t<=16?y(e,t):x(e,t);if(t<=64)return b(e,t);var r=n,i=n.mul(l).add(113),a=d(i.mul(c).add(113)).mul(c),s=[o.UZERO,o.UZERO],f=[o.UZERO,o.UZERO];r=r.mul(c).add(h(e,0));var p=0,w=64*(t-1>>6),_=w+(t-1&63)-63;do{r=m(r.add(i).add(s[0]).add(h(e,p+8)),37).mul(l),i=m(i.add(s[1]).add(h(e,p+48)),42).mul(l),r=r.xor(f[1]),i=i.add(s[0]).add(h(e,p+40)),a=m(a.add(f[0]),33).mul(l),s=v(e,p,s[1].mul(l),r.add(f[0])),f=v(e,p+32,a.add(f[1]),i.add(h(e,p+16)));var S=[r,a];a=S[0],r=S[1],p+=64}while(p!==w);var C=l.add(a.and(255).shl(1));p=_,f[0]=f[0].add(t-1&63),s[0]=s[0].add(f[0]),f[0]=f[0].add(s[0]),r=m(r.add(i).add(s[0]).add(h(e,p+8)),37).mul(C),i=m(i.add(s[1]).add(h(e,p+48)),42).mul(C),r=r.xor(f[1].mul(9)),i=i.add(s[0].mul(9).add(h(e,p+40))),a=m(a.add(f[0]),33).mul(C),s=v(e,p,s[1].mul(C),r.add(f[0])),f=v(e,p+32,a.add(f[1]),i.add(h(e,p+16)));var k=[r,a];return a=k[0],r=k[1],g(g(s[0],f[0],C).add(d(i).mul(u)).add(a),g(s[1],f[1],C).add(r),C)}function _(e,t){return"string"===t?D(e):S([e],t)}function S(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=i.xH(e)),(0,r.OB)().getBool("DEBUG")&&i.D5(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var n=new Uint8Array(e.length),a=0;a<n.length;++a)0!==Math.round(e[a])&&(n[a]=1);return n}throw new Error("Unknown data type ".concat(t))}function C(){return(0,r.OB)().platform.now()}function k(e,t){return(0,r.OB)().platform.fetch(e,t)}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",(0,r.OB)().platform.encode(e,t)}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",(0,r.OB)().platform.decode(e,t)}},36147:function(e,t,n){"use strict";function r(e){for(var t=e.length,n=0;t>0;)n=Math.random()*t|0,s(e,--t,n)}function i(e,t){if(e.length!==t.length)throw new Error("Array sizes must match to be shuffled together "+"First array length was ".concat(e.length)+"Second array length was ".concat(t.length));for(var n=e.length,r=0;n>0;)r=Math.random()*n|0,s(e,--n,r),s(t,n,r)}function a(e,t,n){return Math.max(e,Math.min(t,n))}function o(e){return e%2===0?e:e+1}function s(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function u(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function l(e,t){var n=Math.random();return t*n+(1-n)*e}function c(e,t){for(var n=0,r=0;r<e.length;r++){var i=Number(e[r])-Number(t[r]);n+=i*i}return n}function d(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";d(v(e,t),(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}function h(e){d(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),Array.isArray(e)||N(e)&&!n)for(var r=0;r<e.length;++r)p(e[r],t,n);else t.push(e);return t}function m(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function g(e){return 0===e.length}function v(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function y(e){return e%1===0}function x(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function b(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function w(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return r(t),t}function _(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return 0},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(r,i){var a=0;!function o(){if(e())r();else{a++;var s=t(a);null!=n&&a>=n?i():setTimeout(o,s)}}()}))}function C(e,t){for(var n=1,r=-1,i=0;i<e.length;++i)if(e[i]>=0)n*=e[i];else if(-1===e[i]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(r," and dim ").concat(i));r=i}else if(e[i]<0)throw Error("Shapes can not be < 0. Found ".concat(e[i]," at dim ").concat(i));if(-1===r){if(t>0&&t!==n)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===n)throw Error("Cannot infer the missing size in [".concat(e,"] when ")+"there are 0 elements");if(t%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(n));var a=e.slice();return a[r]=t/n,a}function k(e,t){var n=t.length;return d((e=null==e?t.map((function(e,t){return t})):[].concat(e)).every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(e)})),d(e.every((function(e){return y(e)})),(function(){return"All values in axis param must be integers but "+"got axis ".concat(e)})),e.map((function(e){return e<0?n+e:e}))}function D(e,t){for(var n=[],r=[],i=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||i?null:k(t,e).sort(),o=0,s=0;s<e.length;++s){if(null!=a){if(a[o]===s&&1!==e[s])throw new Error("Can't squeeze axis ".concat(s," since its dim '").concat(e[s],"' is not 1"));(null==a[o]||a[o]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),a[o]<=s&&o++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function T(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type ".concat(e));n=new Uint8Array(t)}return n}function I(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function A(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(r,"."))}}function M(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function E(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function N(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function R(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function P(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}function O(e){return"string"===typeof e||e instanceof String}function L(e){return"boolean"===typeof e}function F(e){return"number"===typeof e}function Z(e){return Array.isArray(e)?Z(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":F(e)?"float32":O(e)?"string":L(e)?"bool":"float32"}function B(e){return!!(e&&e.constructor&&e.call&&e.apply)}function z(e,t){for(var n=t;n<e;++n)if(e%n===0)return n;return e}function V(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function j(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new Array;if(1===t.length)for(var a=t[0]*(r?2:1),o=0;o<a;o++)i[o]=n[e+o];else for(var s=t[0],u=t.slice(1),l=u.reduce((function(e,t){return e*t}))*(r?2:1),c=0;c<s;c++)i[c]=j(e+c*l,u,n,r);return i}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];var r=e.reduce((function(e,t){return e*t}))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(n?" for a complex tensor":"","."));return j(0,e,t,n)}function U(e,t){for(var n=H(e,t),r=0;r<n.length;r++)n[r]=1;return n}function H(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function G(e,t){var n=e.reduce((function(e,t){return e*t}),1);if(null==t||"float32"===t)return W(e,new Float32Array(n));if("int32"===t)return W(e,new Int32Array(n));if("bool"===t)return W(e,new Uint8Array(n));throw new Error("Unknown data type ".concat(t))}function X(e){e.forEach((function(t){d(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")}))}))}function q(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],i=0;i<e.length-1;++i)r+=n[i]*e[i];return r}function Y(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),i=0;i<r.length-1;++i)r[i]=Math.floor(e/n[i]),e-=r[i]*n[i];return r[r.length-1]=e,r}function K(e){return e&&e.then&&"function"===typeof e.then}n.d(t,{AE:function(){return x},Cq:function(){return h},D2:function(){return Z},D5:function(){return A},E7:function(){return c},EC:function(){return k},GN:function(){return y},GX:function(){return W},HD:function(){return O},JZ:function(){return C},LF:function(){return s},LP:function(){return M},Mu:function(){return X},N9:function(){return g},NA:function(){return m},NE:function(){return Y},QB:function(){return E},Sm:function(){return u},TV:function(){return r},U$:function(){return w},Ub:function(){return P},WD:function(){return S},WP:function(){return T},YP:function(){return b},bT:function(){return R},bj:function(){return l},bp:function(){return D},cO:function(){return v},d7:function(){return i},e3:function(){return V},fU:function(){return N},hj:function(){return F},hu:function(){return d},jP:function(){return z},jn:function(){return L},k5:function(){return f},l6:function(){return G},mf:function(){return B},nY:function(){return o},oj:function(){return _},p8:function(){return U},qy:function(){return q},rQ:function(){return I},tI:function(){return K},uZ:function(){return a},wT:function(){return H},xH:function(){return p}})},10282:function(e,t,n){var r=n(65141),i=n(19619),a=n(96422),o=n(26304),s=n(63410),u=n(55463),l=n(55274);l.alea=r,l.xor128=i,l.xorwow=a,l.xorshift7=o,l.xor4096=s,l.tychei=u,e.exports=l},65141:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n=function(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new o(e),r=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.alea=u}(0,e=n.nmd(e),n.amdD)},55463:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.tychei=u}(0,e=n.nmd(e),n.amdD)},19619:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xor128=u}(0,e=n.nmd(e),n.amdD)},63410:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,a=t.i;return t.w=r=r+1640531527|0,n=i[a+34&127],e=i[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,i,a,o,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),i=0,a=-32;a<u;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,i=0==(n=s[127&a]^=r+o)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=o,e.X=s,e.i=i}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.X&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xor4096=u}(0,e=n.nmd(e),n.amdD)},26304:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.x&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xorshift7=u}(0,e=n.nmd(e),n.amdD)},96422:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xorwow=u}(0,e=n.nmd(e),n.amdD)},55274:function(e,t,n){var r;!function(i,a){var o,s=this,u=256,l=a.pow(u,6),c=a.pow(2,52),d=2*c,f=255;function h(e,t,n){var r=[],f=v(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(i)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(u):(e=new Uint8Array(u),(s.crypto||s.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=s.navigator,n=t&&t.plugins;return[+new Date,s,n,s.screen,y(i)]}}():e,3),r),h=new p(r),x=function(){for(var e=h.g(6),t=l,n=0;e<c;)e=(e+n)*u,t*=u,n=h.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return x.int32=function(){return 0|h.g(4)},x.quick=function(){return h.g(4)/4294967296},x.double=x,v(y(h.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,h),e.state=function(){return m(h,{})}),n?(a.random=e,t):e})(x,f,"global"in t?t.global:this==a,t.state)}function p(e){var t,n=e.length,r=this,i=0,a=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);i<u;)o[i]=i++;for(i=0;i<u;i++)o[i]=o[a=f&a+e[i%n]+(t=o[i])],o[a]=t;(r.g=function(e){for(var t,n=0,i=r.i,a=r.j,o=r.S;e--;)t=o[i=f&i+1],n=n*u+o[f&(o[i]=o[a=f&a+t])+(o[a]=t)];return r.i=i,r.j=a,n})(u)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],i=typeof e;if(t&&"object"==i)for(n in e)try{r.push(g(e[n],t-1))}catch(a){}return r.length?r:"string"==i?e:e+"\0"}function v(e,t){for(var n,r=e+"",i=0;i<r.length;)t[f&i]=f&(n^=19*t[f&i])+r.charCodeAt(i++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(a.seedrandom=h,v(a.random(),i),e.exports){e.exports=h;try{o=n(55778)}catch(x){}}else void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}([],Math)},46974:function(e,t,n){"use strict";n.r(t),n.d(t,{Abs:function(){return M.SYM},Acos:function(){return M.VGw},Acosh:function(){return M.SpW},AdadeltaOptimizer:function(){return M.zJI},AdagradOptimizer:function(){return M.HeW},AdamOptimizer:function(){return M.a4z},AdamaxOptimizer:function(){return M.DBS},Add:function(){return M.mm_},AddN:function(){return M.Xze},All:function(){return M.oT6},Any:function(){return M.IKK},ArgMax:function(){return M.sJF},ArgMin:function(){return M.aJk},Asin:function(){return M.M2y},Asinh:function(){return M.qw7},Atan:function(){return M.jMg},Atan2:function(){return M.QCc},Atanh:function(){return M.Oyi},AvgPool:function(){return M.JhU},AvgPool3D:function(){return M._k9},AvgPool3DGrad:function(){return M.IMb},AvgPoolGrad:function(){return M.ROF},BatchMatMul:function(){return M.XLW},BatchToSpaceND:function(){return M.zws},Bincount:function(){return M.zvY},BroadcastArgs:function(){return M.eEB},BroadcastTo:function(){return M.Ly9},Callback:function(){return eh},CallbackList:function(){return ks},Cast:function(){return M.RFZ},Ceil:function(){return M.gJX},ClipByValue:function(){return M.xnO},Complex:function(){return M.Zz9},ComplexAbs:function(){return M.yj2},Concat:function(){return M.Eh3},Conv2D:function(){return M.mhS},Conv2DBackpropFilter:function(){return M.wUP},Conv2DBackpropInput:function(){return M.wm},Conv3D:function(){return M.x12},Conv3DBackpropFilterV2:function(){return M.o2y},Conv3DBackpropInputV2:function(){return M.ik2},Cos:function(){return M.mc4},Cosh:function(){return M.TR1},CropAndResize:function(){return M.VcC},Cumprod:function(){return M.Byc},Cumsum:function(){return M.iHb},CustomCallback:function(){return Is},DataStorage:function(){return M.JLz},DenseBincount:function(){return M.QRR},DepthToSpace:function(){return M.T0n},DepthwiseConv2dNative:function(){return M.cie},DepthwiseConv2dNativeBackpropFilter:function(){return M.sL$},DepthwiseConv2dNativeBackpropInput:function(){return M.y7R},Diag:function(){return M.$w},Dilation2D:function(){return M.p4S},Dilation2DBackpropFilter:function(){return M.Vn9},Dilation2DBackpropInput:function(){return M.ekb},ENV:function(){return M.ViN},EarlyStopping:function(){return rh},Einsum:function(){return M.$g6},Elu:function(){return M.SX0},EluGrad:function(){return M.HEU},Environment:function(){return M.qAh},Equal:function(){return M.hdR},Erf:function(){return M.Omj},Exp:function(){return M.NEP},ExpandDims:function(){return M.YFo},Expm1:function(){return M.Y0y},FFT:function(){return M.vwp},Fill:function(){return M.deh},FlipLeftRight:function(){return M.Uyb},Floor:function(){return M.OR},FloorDiv:function(){return M.jeX},FromPixels:function(){return M.eBW},FusedBatchNorm:function(){return M.sHE},FusedConv2D:function(){return M._V0},FusedDepthwiseConv2D:function(){return M.luS},GatherNd:function(){return M.q1x},GatherV2:function(){return M.qi_},GraphModel:function(){return em},Greater:function(){return M.iZT},GreaterEqual:function(){return M.Acj},History:function(){return Ts},IFFT:function(){return M.Qg5},Identity:function(){return M.iJz},Imag:function(){return M.J_u},InputSpec:function(){return Do},IsFinite:function(){return M.avt},IsInf:function(){return M.iWB},IsNan:function(){return M.r7n},KernelBackend:function(){return M.Zuw},LRN:function(){return M.eZ0},LRNGrad:function(){return M.Hhh},LayerVariable:function(){return So},LayersModel:function(){return Ku},LeakyRelu:function(){return M.J$2},Less:function(){return M.vtC},LessEqual:function(){return M.CAk},LinSpace:function(){return M.e7N},Log:function(){return M.ZbH},Log1p:function(){return M.kU},LogSoftmax:function(){return M.qCd},LogicalAnd:function(){return M.PYm},LogicalNot:function(){return M.VfG},LogicalOr:function(){return M.MZg},LowerBound:function(){return M.qIC},Max:function(){return M.YoZ},MaxPool:function(){return M.mTV},MaxPool3D:function(){return M.OAf},MaxPool3DGrad:function(){return M.OU7},MaxPoolGrad:function(){return M.OV7},MaxPoolWithArgmax:function(){return M.vFR},Maximum:function(){return M.BMI},Mean:function(){return M.q2K},Min:function(){return M.c17},Minimum:function(){return M.q8u},MirrorPad:function(){return M.jQs},Mod:function(){return M.Vbg},MomentumOptimizer:function(){return M.rIn},Multinomial:function(){return M.NZg},Multiply:function(){return M.wYn},Neg:function(){return M.kuV},NonMaxSuppressionV3:function(){return M.uv1},NonMaxSuppressionV4:function(){return M.cye},NonMaxSuppressionV5:function(){return M.W0H},NotEqual:function(){return M.yQU},OP_SCOPE_SUFFIX:function(){return M.zvA},OneHot:function(){return M.we_},OnesLike:function(){return M.qWM},Optimizer:function(){return M.gaJ},OptimizerConstructors:function(){return M.eEe},Pack:function(){return M.QiL},PadV2:function(){return M.lyA},Pool:function(){return M.Kgp},Pow:function(){return M.pe_},Prelu:function(){return M.o0g},Prod:function(){return M.DlI},RMSPropOptimizer:function(){return M.gVI},RNN:function(){return cc},Range:function(){return M.e6w},Rank:function(){return M.yw1},Real:function(){return M.xJR},RealDiv:function(){return M.oHH},Reciprocal:function(){return M.$HU},Reduction:function(){return M.IH3},Relu:function(){return M.qkr},Relu6:function(){return M.SbG},Reshape:function(){return M.HZH},ResizeBilinear:function(){return M._Yw},ResizeBilinearGrad:function(){return M.zbQ},ResizeNearestNeighbor:function(){return M.dpD},ResizeNearestNeighborGrad:function(){return M.Hmb},Reverse:function(){return M.mKl},RotateWithOffset:function(){return M.b9H},Round:function(){return M.e07},Rsqrt:function(){return M.bV0},SGDOptimizer:function(){return M.DYp},ScatterNd:function(){return M.xQA},SearchSorted:function(){return M.nr8},Select:function(){return M.PhF},Selu:function(){return M.oFR},Sequential:function(){return il},Sigmoid:function(){return M.a5O},Sign:function(){return M.i5y},Sin:function(){return M.RQH},Sinh:function(){return M.wYB},Slice:function(){return M.p2w},Softmax:function(){return M.Gcp},Softplus:function(){return M.MRv},SpaceToBatchND:function(){return M.TQc},SparseFillEmptyRows:function(){return M.O3z},SparseReshape:function(){return M.nhH},SparseSegmentMean:function(){return M.w3H},SparseSegmentSum:function(){return M.ZjV},SparseToDense:function(){return M.D2d},SplitV:function(){return M.L8s},Sqrt:function(){return M.FKq},Square:function(){return M.bK0},SquaredDifference:function(){return M._tC},Step:function(){return M.h8e},StridedSlice:function(){return M.jQk},StringNGrams:function(){return M._JP},StringSplit:function(){return M.s1s},StringToHashBucketFast:function(){return M.XkS},Sub:function(){return M.Tr8},Sum:function(){return M.GBy},SymbolicTensor:function(){return To},Tan:function(){return M.sEM},Tanh:function(){return M.MIZ},Tensor:function(){return M.esB},TensorBuffer:function(){return M.YDk},Tile:function(){return M.n9L},TopK:function(){return M.cWu},Transform:function(){return M.wx7},Transpose:function(){return M.G3Y},Unique:function(){return M.kpP},Unpack:function(){return M.ToN},UnsortedSegmentSum:function(){return M.Qvg},UpperBound:function(){return M.XDQ},Variable:function(){return M._wD},ZerosLike:function(){return M.RuY},_FusedMatMul:function(){return M.usg},abs:function(){return M.WnP},acos:function(){return M.Khb},acosh:function(){return M.__u},add:function(){return M.IHx},addN:function(){return M.QBD},all:function(){return M.$6P},any:function(){return M.YjB},argMax:function(){return M.NqF},argMin:function(){return M.vHJ},asin:function(){return M.ZRM},asinh:function(){return M.VfV},atan:function(){return M.z4N},atan2:function(){return M.fvJ},atanh:function(){return M.C80},avgPool:function(){return M.wS1},avgPool3d:function(){return M.uR5},backend:function(){return M.y3$},backend_util:function(){return M.Wap},basicLSTMCell:function(){return M.zEQ},batchNorm:function(){return M.tgs},batchNorm2d:function(){return M.Dxk},batchNorm3d:function(){return M.JY5},batchNorm4d:function(){return M.p3b},batchToSpaceND:function(){return M.E4h},bincount:function(){return M.yE8},booleanMaskAsync:function(){return M.anm},broadcastArgs:function(){return M.XsQ},broadcastTo:function(){return M.UFq},broadcast_util:function(){return M.Jyw},browser:function(){return M.Xhn},buffer:function(){return M.f3b},callbacks:function(){return oh},cast:function(){return M.pju},ceil:function(){return M.mDi},clipByValue:function(){return M.iUl},clone:function(){return M.d9v},complex:function(){return M.PYB},concat:function(){return M.zoF},concat1d:function(){return M.gME},concat2d:function(){return M.Izb},concat3d:function(){return M.MNy},concat4d:function(){return M.ZaL},constraints:function(){return r},conv1d:function(){return M.PAt},conv2d:function(){return M.Tek},conv2dTranspose:function(){return M.bc},conv3d:function(){return M.pdZ},conv3dTranspose:function(){return M.$QV},copyRegisteredKernels:function(){return M.T3b},cos:function(){return M.mCk},cosh:function(){return M.f9Y},cosineWindow:function(){return M.mew},cumprod:function(){return M.$Gn},cumsum:function(){return M.zbp},customGrad:function(){return M.cbc},data:function(){return A},denseBincount:function(){return M.ppE},deprecationWarn:function(){return M.MXe},depthToSpace:function(){return M.nTT},depthwiseConv2d:function(){return M.B10},deregisterOp:function(){return ch},device_util:function(){return M.C2$},diag:function(){return M.Ka3},dilation2d:function(){return M.WmZ},disableDeprecationWarnings:function(){return M.cFr},dispose:function(){return M.B90},disposeVariables:function(){return M.N8o},div:function(){return M.hiC},divNoNan:function(){return M.NTj},dot:function(){return M.AKD},dropout:function(){return M.rvX},einsum:function(){return M.WYO},elu:function(){return M.pyx},enableDebugMode:function(){return M.Ra$},enableProdMode:function(){return M.G48},enclosingPowerOfTwo:function(){return M.GRh},engine:function(){return M.SRH},env:function(){return M.OBj},equal:function(){return M.DgJ},erf:function(){return M.qNN},euclideanNorm:function(){return M.d2q},exp:function(){return M.Qqt},expandDims:function(){return M.dt4},expm1:function(){return M.t$B},eye:function(){return M.iyy},fft:function(){return M.kp_},fill:function(){return M.hlL},findBackend:function(){return M.x3e},findBackendFactory:function(){return M.zel},floor:function(){return M.GWj},floorDiv:function(){return M.qPi},fused:function(){return M.imm},gather:function(){return M.Iqj},gatherND:function(){return M.dbB},gather_util:function(){return M.DaI},getBackend:function(){return M.N_N},getGradient:function(){return M.ukX},getKernel:function(){return M.pIF},getKernelsForBackend:function(){return M.trD},grad:function(){return M.UQy},grads:function(){return M.tiA},greater:function(){return M.pjt},greaterEqual:function(){return M.brS},ifft:function(){return M.Sxn},imag:function(){return M.asL},image:function(){return M.BHj},inTopKAsync:function(){return M.V3u},initializers:function(){return i},input:function(){return ul},io:function(){return M.io},irfft:function(){return M.wx0},isFinite:function(){return M.xVT},isInf:function(){return M.UWc},isNaN:function(){return M.i2d},keep:function(){return M.CnY},kernel_impls:function(){return M.GDt},layers:function(){return a},leakyRelu:function(){return M.hi7},less:function(){return M.d9m},lessEqual:function(){return M.zN1},linalg:function(){return M.$r2},linspace:function(){return M.SX3},loadGraphModel:function(){return tm},loadGraphModelSync:function(){return rm},loadLayersModel:function(){return sl},localResponseNormalization:function(){return M.G9k},log:function(){return M.cM7},log1p:function(){return M.Krr},logSigmoid:function(){return M.e_t},logSoftmax:function(){return M.CmS},logSumExp:function(){return M.l_t},logicalAnd:function(){return M.HvI},logicalNot:function(){return M.hJK},logicalOr:function(){return M.K5V},logicalXor:function(){return M.egP},losses:function(){return M.MB5},lowerBound:function(){return M.eab},matMul:function(){return M.OI3},math:function(){return M.mAU},max:function(){return M.Fp7},maxPool:function(){return M._sB},maxPool3d:function(){return M.YQQ},maxPoolWithArgmax:function(){return M.Ip$},maximum:function(){return M.gWQ},mean:function(){return M.J69},memory:function(){return M.sq6},meshgrid:function(){return M.ry_},metrics:function(){return o},min:function(){return M.VV$},minimum:function(){return M.LTh},mirrorPad:function(){return M.VdP},mod:function(){return M.wQq},model:function(){return al},models:function(){return s},moments:function(){return M.Gi7},movingAverage:function(){return M.p_},mul:function(){return M.dC7},multiRNNCell:function(){return M.rq4},multinomial:function(){return M.SJ_},neg:function(){return M.W76},nextFrame:function(){return M.glt},norm:function(){return M.KOy},notEqual:function(){return M.Quu},oneHot:function(){return M.lfX},ones:function(){return M.iUs},onesLike:function(){return M.JpU},op:function(){return M.op},outerProduct:function(){return M.N2O},pad:function(){return M.vku},pad1d:function(){return M.pNR},pad2d:function(){return M.koy},pad3d:function(){return M.t1L},pad4d:function(){return M.lGY},pool:function(){return M.d_R},pow:function(){return M.sQ3},prelu:function(){return M.AL3},print:function(){return M.S0v},prod:function(){return M.WVs},profile:function(){return M.N5s},rand:function(){return M.TN_},randomGamma:function(){return M.wzB},randomNormal:function(){return M.nGf},randomUniform:function(){return M.LGj},range:function(){return M.w6H},ready:function(){return M.Cd_},real:function(){return M.kwC},reciprocal:function(){return M.M25},registerBackend:function(){return M.jqO},registerCallbackConstructor:function(){return ll},registerGradient:function(){return M.LiG},registerKernel:function(){return M.wCN},registerOp:function(){return uh},regularizers:function(){return u},relu:function(){return M.UYe},relu6:function(){return M.btT},removeBackend:function(){return M.cjG},reshape:function(){return M.XLQ},reverse:function(){return M.GYS},reverse1d:function(){return M.SDf},reverse2d:function(){return M.diP},reverse3d:function(){return M.sx7},reverse4d:function(){return M.mG2},rfft:function(){return M.QEs},round:function(){return M.NMM},rsqrt:function(){return M.bp0},scalar:function(){return M.iD$},scatterND:function(){return M.snQ},scatter_util:function(){return M.yV1},searchSorted:function(){return M.zcT},selu:function(){return M.U8D},separableConv2d:function(){return M.U_I},sequential:function(){return ol},serialization:function(){return M.m7h},setBackend:function(){return M.CQI},setPlatform:function(){return M.VYu},setdiff1dAsync:function(){return M.ODp},sigmoid:function(){return M.XD2},sign:function(){return M.Xxe},signal:function(){return M.tdS},sin:function(){return M.O$l},sinh:function(){return M.R_K},slice:function(){return M.tPi},slice1d:function(){return M.jZU},slice2d:function(){return M.SmN},slice3d:function(){return M.CnO},slice4d:function(){return M.p0P},slice_util:function(){return M.kuN},softmax:function(){return M.XAC},softplus:function(){return M.Wvh},spaceToBatchND:function(){return M.fBT},sparse:function(){return M.rVs},sparseToDense:function(){return M.ers},spectral:function(){return M.uN7},split:function(){return M.Vl2},sqrt:function(){return M._b3},square:function(){return M.h62},squaredDifference:function(){return M.$i},squeeze:function(){return M.L9e},stack:function(){return M.knu},step:function(){return M.Nbs},stridedSlice:function(){return M.NXj},string:function(){return M.Z_8},sub:function(){return M.luU},sum:function(){return M.Smz},sumOutType:function(){return M.z4k},tan:function(){return M.ORZ},tanh:function(){return M.AEp},tensor:function(){return M.XeE},tensor1d:function(){return M.RRF},tensor2d:function(){return M.odF},tensor3d:function(){return M.wOQ},tensor4d:function(){return M.yXz},tensor5d:function(){return M.Bfx},tensor6d:function(){return M.xZs},tensor_util:function(){return M.piX},test_util:function(){return M.p3L},tidy:function(){return M.lub},tile:function(){return M.Gg6},time:function(){return M.XVJ},topk:function(){return M.hg7},train:function(){return M.p_j},transpose:function(){return M.p4s},truncatedNormal:function(){return M.Xu6},unique:function(){return M.Two},unregisterGradient:function(){return M.bt3},unregisterKernel:function(){return M.nEe},unsortedSegmentSum:function(){return M.pUJ},unstack:function(){return M.HHK},upcastType:function(){return M.x8V},upperBound:function(){return M.GaM},util:function(){return M.D5U},valueAndGrad:function(){return M.h76},valueAndGrads:function(){return M.fNQ},variable:function(){return M.VD$},variableGrads:function(){return M.pnJ},version:function(){return Pw},version_converter:function(){return am},version_core:function(){return M.jTM},version_layers:function(){return vu},where:function(){return M.arb},whereAsync:function(){return M.itS},zeros:function(){return M.lls},zerosLike:function(){return M.P84}});var r={};n.r(r),n.d(r,{maxNorm:function(){return Jo},minMaxNorm:function(){return ts},nonNeg:function(){return es},unitNorm:function(){return $o}});var i={};n.r(i),n.d(i,{constant:function(){return is},glorotNormal:function(){return ds},glorotUniform:function(){return cs},heNormal:function(){return fs},heUniform:function(){return hs},identity:function(){return us},leCunNormal:function(){return ps},leCunUniform:function(){return ms},ones:function(){return rs},orthogonal:function(){return gs},randomNormal:function(){return os},randomUniform:function(){return as},truncatedNormal:function(){return ss},varianceScaling:function(){return ls},zeros:function(){return ns}});var a={};n.r(a),n.d(a,{Layer:function(){return Eo},RNN:function(){return cc},RNNCell:function(){return dc},activation:function(){return Pd},add:function(){return Wd},alphaDropout:function(){return Pf},average:function(){return Ud},averagePooling1d:function(){return $d},averagePooling2d:function(){return nf},averagePooling3d:function(){return of},avgPool1d:function(){return ef},avgPool2d:function(){return rf},avgPool3d:function(){return sf},avgPooling1d:function(){return tf},avgPooling2d:function(){return af},avgPooling3d:function(){return uf},batchNormalization:function(){return Kd},bidirectional:function(){return Df},concatenate:function(){return Hd},conv1d:function(){return kd},conv2d:function(){return Dd},conv2dTranspose:function(){return Td},conv3d:function(){return Id},conv3dTranspose:function(){return Ad},convLstm2d:function(){return _f},convLstm2dCell:function(){return Sf},cropping2D:function(){return Ed},dense:function(){return Od},depthwiseConv2d:function(){return Rd},dot:function(){return Yd},dropout:function(){return Ld},elu:function(){return xd},embedding:function(){return jd},flatten:function(){return Zd},gaussianDropout:function(){return Rf},gaussianNoise:function(){return Nf},globalAveragePooling1d:function(){return lf},globalAveragePooling2d:function(){return cf},globalMaxPool1d:function(){return If},globalMaxPool2d:function(){return Af},globalMaxPooling1d:function(){return df},globalMaxPooling2d:function(){return ff},gru:function(){return gf},gruCell:function(){return vf},input:function(){return ul},inputLayer:function(){return yd},layerNormalization:function(){return Qd},leakyReLU:function(){return wd},lstm:function(){return yf},lstmCell:function(){return xf},masking:function(){return Of},maxPool1d:function(){return Mf},maxPool2d:function(){return Ef},maxPooling1d:function(){return hf},maxPooling2d:function(){return pf},maxPooling3d:function(){return mf},maximum:function(){return Gd},minimum:function(){return Xd},multiply:function(){return qd},permute:function(){return Vd},prelu:function(){return _d},reLU:function(){return bd},repeatVector:function(){return Bd},reshape:function(){return zd},rnn:function(){return Cf},separableConv2d:function(){return Md},simpleRNN:function(){return bf},simpleRNNCell:function(){return wf},softmax:function(){return Sd},spatialDropout1d:function(){return Fd},stackedRNNCells:function(){return kf},thresholdedReLU:function(){return Cd},timeDistributed:function(){return Tf},upSampling2d:function(){return Nd},zeroPadding2d:function(){return Jd}});var o={};n.r(o),n.d(o,{MAPE:function(){return Gf},MSE:function(){return Yf},binaryAccuracy:function(){return Lf},binaryCrossentropy:function(){return Ff},categoricalAccuracy:function(){return Bf},categoricalCrossentropy:function(){return zf},cosineProximity:function(){return Wf},mape:function(){return Xf},meanAbsoluteError:function(){return Uf},meanAbsolutePercentageError:function(){return Hf},meanSquaredError:function(){return qf},mse:function(){return Kf},precision:function(){return Vf},recall:function(){return jf},sparseCategoricalAccuracy:function(){return Zf}});var s={};n.r(s),n.d(s,{modelFromJSON:function(){return Ju}});var u={};n.r(u),n.d(u,{l1:function(){return Jf},l1l2:function(){return Qf},l2:function(){return $f}});var l={};n.r(l),n.d(l,{json:function(){return yh}});var c={};n.r(c),n.d(c,{json:function(){return xh}});var d={};n.r(d),n.d(d,{json:function(){return bh}});var f={};n.r(f),n.d(f,{json:function(){return wh}});var h={};n.r(h),n.d(h,{json:function(){return _h}});var p={};n.r(p),n.d(p,{json:function(){return Sh}});var m={};n.r(m),n.d(m,{json:function(){return Ch}});var g={};n.r(g),n.d(g,{json:function(){return kh}});var v={};n.r(v),n.d(v,{json:function(){return Dh}});var y={};n.r(y),n.d(y,{json:function(){return Th}});var x={};n.r(x),n.d(x,{json:function(){return Ih}});var b={};n.r(b),n.d(b,{json:function(){return Ah}});var w={};n.r(w),n.d(w,{json:function(){return Mh}});var _={};n.r(_),n.d(_,{json:function(){return Eh}});var S={};n.r(S),n.d(S,{json:function(){return Nh}});var C={};n.r(C),n.d(C,{json:function(){return Rh}});var k={};n.r(k),n.d(k,{json:function(){return Ph}});var D={};n.r(D),n.d(D,{json:function(){return Oh}});var T={};n.r(T),n.d(T,{json:function(){return Lh}});var I={};n.r(I),n.d(I,{OP_SCOPE_SUFFIX:function(){return Dp.zvA},abs:function(){return Dp.WnP},acos:function(){return Dp.Khb},acosh:function(){return Dp.__u},add:function(){return Dp.IHx},addN:function(){return Dp.QBD},all:function(){return Dp.$6P},any:function(){return Dp.YjB},argMax:function(){return Dp.NqF},argMin:function(){return Dp.vHJ},asin:function(){return Dp.ZRM},asinh:function(){return Dp.VfV},atan:function(){return Dp.z4N},atan2:function(){return Dp.fvJ},atanh:function(){return Dp.C80},avgPool:function(){return Dp.wS1},avgPool3d:function(){return Dp.uR5},basicLSTMCell:function(){return Dp.zEQ},batchNorm:function(){return Dp.tgs},batchNorm2d:function(){return Dp.Dxk},batchNorm3d:function(){return Dp.JY5},batchNorm4d:function(){return Dp.p3b},batchToSpaceND:function(){return Dp.E4h},bincount:function(){return Dp.yE8},booleanMaskAsync:function(){return Dp.anm},broadcastArgs:function(){return Dp.XsQ},broadcastTo:function(){return Dp.UFq},buffer:function(){return Dp.f3b},cast:function(){return Dp.pju},ceil:function(){return Dp.mDi},clipByValue:function(){return Dp.iUl},clone:function(){return Dp.d9v},complex:function(){return Dp.PYB},concat:function(){return Dp.zoF},concat1d:function(){return Dp.gME},concat2d:function(){return Dp.Izb},concat3d:function(){return Dp.MNy},concat4d:function(){return Dp.ZaL},conv1d:function(){return Dp.PAt},conv2d:function(){return Dp.Tek},conv2dTranspose:function(){return Dp.bc},conv3d:function(){return Dp.pdZ},conv3dTranspose:function(){return Dp.$QV},cos:function(){return Dp.mCk},cosh:function(){return Dp.f9Y},cosineWindow:function(){return Dp.mew},cumprod:function(){return Dp.$Gn},cumsum:function(){return Dp.zbp},denseBincount:function(){return Dp.ppE},depthToSpace:function(){return Dp.nTT},depthwiseConv2d:function(){return Dp.B10},diag:function(){return Dp.Ka3},dilation2d:function(){return Dp.WmZ},div:function(){return Dp.hiC},divNoNan:function(){return Dp.NTj},dot:function(){return Dp.AKD},dropout:function(){return Dp.rvX},einsum:function(){return Dp.WYO},elu:function(){return Dp.pyx},enclosingPowerOfTwo:function(){return Dp.GRh},equal:function(){return Dp.DgJ},erf:function(){return Dp.qNN},euclideanNorm:function(){return Dp.d2q},exp:function(){return Dp.Qqt},expandDims:function(){return Dp.dt4},expm1:function(){return Dp.t$B},eye:function(){return Dp.iyy},fft:function(){return Dp.kp_},fill:function(){return Dp.hlL},floor:function(){return Dp.GWj},floorDiv:function(){return Dp.qPi},fused:function(){return Dp.imm},gather:function(){return Dp.Iqj},gatherND:function(){return Dp.dbB},greater:function(){return Dp.pjt},greaterEqual:function(){return Dp.brS},ifft:function(){return Dp.Sxn},imag:function(){return Dp.asL},image:function(){return Dp.BHj},inTopKAsync:function(){return Dp.V3u},irfft:function(){return Dp.wx0},isFinite:function(){return Dp.xVT},isInf:function(){return Dp.UWc},isNaN:function(){return Dp.i2d},leakyRelu:function(){return Dp.hi7},less:function(){return Dp.d9m},lessEqual:function(){return Dp.zN1},linalg:function(){return Dp.$r2},linspace:function(){return Dp.SX3},localResponseNormalization:function(){return Dp.G9k},log:function(){return Dp.cM7},log1p:function(){return Dp.Krr},logSigmoid:function(){return Dp.e_t},logSoftmax:function(){return Dp.CmS},logSumExp:function(){return Dp.l_t},logicalAnd:function(){return Dp.HvI},logicalNot:function(){return Dp.hJK},logicalOr:function(){return Dp.K5V},logicalXor:function(){return Dp.egP},losses:function(){return Dp.MB5},lowerBound:function(){return Dp.eab},matMul:function(){return Dp.OI3},max:function(){return Dp.Fp7},maxPool:function(){return Dp._sB},maxPool3d:function(){return Dp.YQQ},maxPoolWithArgmax:function(){return Dp.Ip$},maximum:function(){return Dp.gWQ},mean:function(){return Dp.J69},meshgrid:function(){return Dp.ry_},min:function(){return Dp.VV$},minimum:function(){return Dp.LTh},mirrorPad:function(){return Dp.VdP},mod:function(){return Dp.wQq},moments:function(){return Dp.Gi7},movingAverage:function(){return Dp.p_},mul:function(){return Dp.dC7},multiRNNCell:function(){return Dp.rq4},multinomial:function(){return Dp.SJ_},neg:function(){return Dp.W76},norm:function(){return Dp.KOy},notEqual:function(){return Dp.Quu},oneHot:function(){return Dp.lfX},ones:function(){return Dp.iUs},onesLike:function(){return Dp.JpU},op:function(){return Dp.op},outerProduct:function(){return Dp.N2O},pad:function(){return Dp.vku},pad1d:function(){return Dp.pNR},pad2d:function(){return Dp.koy},pad3d:function(){return Dp.t1L},pad4d:function(){return Dp.lGY},pool:function(){return Dp.d_R},pow:function(){return Dp.sQ3},prelu:function(){return Dp.AL3},print:function(){return Dp.S0v},prod:function(){return Dp.WVs},rand:function(){return Dp.TN_},randomGamma:function(){return Dp.wzB},randomNormal:function(){return Dp.nGf},randomUniform:function(){return Dp.LGj},range:function(){return Dp.w6H},real:function(){return Dp.kwC},reciprocal:function(){return Dp.M25},relu:function(){return Dp.UYe},relu6:function(){return Dp.btT},reshape:function(){return Dp.XLQ},reverse:function(){return Dp.GYS},reverse1d:function(){return Dp.SDf},reverse2d:function(){return Dp.diP},reverse3d:function(){return Dp.sx7},reverse4d:function(){return Dp.mG2},rfft:function(){return Dp.QEs},round:function(){return Dp.NMM},rsqrt:function(){return Dp.bp0},scalar:function(){return Dp.iD$},scatterND:function(){return Dp.snQ},searchSorted:function(){return Dp.zcT},selu:function(){return Dp.U8D},separableConv2d:function(){return Dp.U_I},setdiff1dAsync:function(){return Dp.ODp},sigmoid:function(){return Dp.XD2},sign:function(){return Dp.Xxe},signal:function(){return Dp.tdS},sin:function(){return Dp.O$l},sinh:function(){return Dp.R_K},slice:function(){return Dp.tPi},slice1d:function(){return Dp.jZU},slice2d:function(){return Dp.SmN},slice3d:function(){return Dp.CnO},slice4d:function(){return Dp.p0P},softmax:function(){return Dp.XAC},softplus:function(){return Dp.Wvh},spaceToBatchND:function(){return Dp.fBT},sparse:function(){return Dp.rVs},sparseToDense:function(){return Dp.ers},spectral:function(){return Dp.uN7},split:function(){return Dp.Vl2},sqrt:function(){return Dp._b3},square:function(){return Dp.h62},squaredDifference:function(){return Dp.$i},squeeze:function(){return Dp.L9e},stack:function(){return Dp.knu},step:function(){return Dp.Nbs},stridedSlice:function(){return Dp.NXj},string:function(){return Dp.Z_8},sub:function(){return Dp.luU},sum:function(){return Dp.Smz},tan:function(){return Dp.ORZ},tanh:function(){return Dp.AEp},tensor:function(){return Dp.XeE},tensor1d:function(){return Dp.RRF},tensor2d:function(){return Dp.odF},tensor3d:function(){return Dp.wOQ},tensor4d:function(){return Dp.yXz},tensor5d:function(){return Dp.Bfx},tensor6d:function(){return Dp.xZs},tile:function(){return Dp.Gg6},topk:function(){return Dp.hg7},transpose:function(){return Dp.p4s},truncatedNormal:function(){return Dp.Xu6},unique:function(){return Dp.Two},unsortedSegmentSum:function(){return Dp.pUJ},unstack:function(){return Dp.HHK},upperBound:function(){return Dp.GaM},variable:function(){return Dp.VD$},where:function(){return Dp.arb},whereAsync:function(){return Dp.itS},zeros:function(){return Dp.lls},zerosLike:function(){return Dp.P84}});var A={};n.r(A),n.d(A,{CSVDataset:function(){return Jm},Dataset:function(){return zm},FileDataSource:function(){return hg},TextLineDataset:function(){return Hm},URLDataSource:function(){return pg},array:function(){return jm},csv:function(){return mg},func:function(){return gg},generator:function(){return vg},microphone:function(){return bg},version_data:function(){return _g},webcam:function(){return yg},zip:function(){return Wm}});var M=n(43772),E=n(29439),N=n(32145),R=n(99118),P=n(30651),O=n(94031),L={kernelName:N.SY,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,P.d)(e,(0,O.N)((0,R.p)(n,"float32"),-1))}}}},F=n(15750),Z=n(4362),B=n(27067),z=n(46902),V=n(7391),j=n(84774),W={kernelName:N.VG,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){var t=(0,V.h)((0,R.p)(n,"float32")),r=(0,z._)((0,j.l)((0,B.i)(1),t));return(0,Z.W)((0,F.h)(e,r))}}}},U={kernelName:N.Sp,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){var t=(0,z._)((0,j.l)((0,V.h)((0,R.p)(n,"float32")),1));return(0,F.h)(e,t)}}}},H=n(45774),G=n(75561),X=n(40227),q={kernelName:N.mm,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,E.Z)(t,2),r=n[0],i=n[1],a=H.assertAndGetBroadcastShape(r.shape,i.shape);return{a:function(){var t=e,n=H.getReductionAxes(r.shape,a);return n.length>0&&(t=(0,X.S)(t,n)),(0,G.X)(t,r.shape)},b:function(){var t=e,n=H.getReductionAxes(i.shape,a);return n.length>0&&(t=(0,X.S)(t,n)),(0,G.X)(t,i.shape)}}}},Y={kernelName:N.Xz,saveAllInputs:!0,gradFunc:function(e,t){var n={};return t.forEach((function(t,r){n[r]=function(){return e.clone()}})),n}},K=n(87293),Q={kernelName:N.sJ,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,K.P)(n)}}}},J={kernelName:N.aJ,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,K.P)(n)}}}},$={kernelName:N.M2,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,F.h)(e,(0,z._)((0,j.l)((0,B.i)(1),(0,V.h)((0,R.p)(n,"float32")))))}}}},ee=n(43312),te={kernelName:N.qw,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){var t=(0,z._)((0,ee.I)((0,B.i)(1),(0,V.h)((0,R.p)(n,"float32"))));return(0,F.h)(e,t)}}}},ne={kernelName:N.QC,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,E.Z)(t,2),r=n[0],i=n[1],a=(0,H.assertAndGetBroadcastShape)(r.shape,i.shape);return{a:function(){var t=(0,ee.I)((0,V.h)(r),(0,V.h)(i)),n=(0,P.d)(e,(0,F.h)(i,t)),o=(0,H.getReductionAxes)(r.shape,a);return o.length>0&&(n=(0,X.S)(n,o)),(0,G.X)(n,r.shape)},b:function(){var t=(0,ee.I)((0,V.h)(r),(0,V.h)(i)),n=(0,Z.W)((0,P.d)(e,(0,F.h)(r,t))),o=(0,H.getReductionAxes)(i.shape,a);return o.length>0&&(n=(0,X.S)(n,o)),(0,G.X)(n,i.shape)}}}},re={kernelName:N.jM,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,F.h)(e,(0,ee.I)((0,V.h)((0,R.p)(n,"float32")),1))}}}},ie={kernelName:N.Oy,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,F.h)(e,(0,j.l)((0,B.i)(1),(0,V.h)((0,R.p)(n,"float32"))))}}}},ae=n(70318),oe=n(48354),se=n(36147),ue=n(39151),le=n(38640);var ce=(0,le.op)({avgPool3dGrad_:function(e,t,n,r,i,a){var o=(0,oe._1)(e,"dy","avgPool3dGrad"),s=(0,oe._1)(t,"input","avgPool3dGrad"),u=o,l=s,c=!1;4===s.rank&&(c=!0,u=(0,G.X)(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),l=(0,G.X)(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),se.hu(5===u.rank,(function(){return"Error in avgPool3dGrad: dy must be rank 5 but got rank "+"".concat(u.rank,".")})),se.hu(5===l.rank,(function(){return"Error in avgPool3dGrad: input must be rank 5 but got rank "+"".concat(l.rank,".")})),(0,ue.m)("avgPool3dGrad",i,a);var d={dy:u,input:l},f={filterSize:n,strides:r,pad:i,dimRoundingMode:a},h=ae.BV.runKernel(N.IM,d,f);return c?(0,G.X)(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}}),de={kernelName:N._k,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,E.Z)(t,1)[0],i=n.filterSize,a=n.strides,o=n.pad,s=n.dimRoundingMode;return{x:function(){return ce(e,r,i,a,o,s)}}}};var fe=(0,le.op)({avgPoolGrad_:function(e,t,n,r,i){var a=(0,oe._1)(e,"dy","avgPoolGrad"),o=(0,oe._1)(t,"input","avgPoolGrad");se.hu(o.rank===a.rank,(function(){return"Rank of input (".concat(o.rank,") does not match rank of dy (").concat(a.rank,")")}));var s=o,u=a,l=!1;3===o.rank&&(l=!0,s=(0,G.X)(o,[1,o.shape[0],o.shape[1],o.shape[2]]),u=(0,G.X)(a,[1,a.shape[0],a.shape[1],a.shape[2]])),se.hu(4===u.rank,(function(){return"Error in avgPoolGrad: dy must be rank 4 but got rank "+"".concat(u.rank,".")})),se.hu(4===s.rank,(function(){return"Error in avgPoolGrad: input must be rank 4 but got rank "+"".concat(s.rank,".")}));var c={dy:u,input:s},d={filterSize:n,strides:r,pad:i},f=ae.BV.runKernel(N.RO,c,d);return l?(0,G.X)(f,[f.shape[1],f.shape[2],f.shape[3]]):f}}),he={kernelName:N.Jh,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,E.Z)(t,1)[0],i=n.filterSize,a=n.strides,o=n.pad;return{x:function(){return fe(e,r,i,a,o)}}}},pe=n(57221),me={kernelName:N.XL,inputsToSave:["a","b"],gradFunc:function(e,t,n){var r=(0,E.Z)(t,2),i=r[0],a=r[1],o=n.transposeA,s=n.transposeB;return o||s?!o&&s?{a:function(){return(0,pe.O)(e,a,!1,!1)},b:function(){return(0,pe.O)(e,i,!0,!1)}}:o&&!s?{a:function(){return(0,pe.O)(a,e,!1,!0)},b:function(){return(0,pe.O)(i,e,!1,!1)}}:{a:function(){return(0,pe.O)(a,e,!0,!0)},b:function(){return(0,pe.O)(e,i,!0,!0)}}:{a:function(){return(0,pe.O)(e,a,!1,!0)},b:function(){return(0,pe.O)(i,e,!0,!1)}}}},ge=n(65696),ve={kernelName:N.zw,gradFunc:function(e,t,n){var r=n.blockShape,i=n.crops;return{x:function(){return(0,ge.f)(e,r,i)}}}},ye={kernelName:N.Ly,gradFunc:function(e,t,n){for(var r=n,i=r.inputShape,a=r.shape,o=Array.from(a),s=i.length-1;s>=0;s--)if(i[s]===a[s])o[s]=1;else if(1!==i[s])throw new Error("broadcastTo(): [".concat(i,"] cannot be broadcast to [").concat(a,"]."));for(var u=[],l=0;l<o.length;l++)o[l]>1&&u.push(l);return{x:function(){return(0,X.S)(e,u,!0)}}}},xe={kernelName:N.RF,gradFunc:function(e){return{x:function(){return e.clone()}}}},be={kernelName:N.gJ,gradFunc:function(e){return{x:function(){return(0,K.P)(e)}}}},we=n(18327),_e=n(12642),Se=n(2177),Ce=n(10329),ke={kernelName:N.xn,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,E.Z)(t,1)[0],i=n.clipValueMin,a=n.clipValueMax;return{x:function(){return(0,Ce.a)((0,Se.H)((0,we.b)(r,i),(0,_e.z)(r,a)),e,(0,K.P)(e))}}}},De={kernelName:N.yj,inputsToSave:["x"],gradFunc:L.gradFunc},Te=n(82588),Ie={kernelName:N.Eh,saveAllInputs:!0,gradFunc:function(e,t,n){var r=t.map((function(e){return e.shape})),i=n.axis,a=(0,se.EC)(i,t[0].shape)[0],o=r.map((function(e){return e[a]}));return(0,Te.V)(e,o,a).map((function(e){return function(){return e}}))}},Ae=n(8744),Me=n(21045),Ee={kernelName:N.mh,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=(0,E.Z)(t,2),i=r[0],a=r[1],o=n.dilations,s=n.strides,u=n.pad,l=n.dataFormat;return se.hu(ue.I0(o),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(o,"'")})),{x:function(){return(0,Me._)(i.shape,e,a,s,u,l)},filter:function(){return(0,Ae.p)(i,e,a.shape,s,u,l)}}}},Ne=n(93457),Re={kernelName:N.wm,inputsToSave:["dy","filter"],gradFunc:function(e,t,n){var r=(0,E.Z)(t,2),i=r[0],a=r[1],o=n.strides,s=n.pad,u=n.dataFormat,l=n.dimRoundingMode;return{dy:function(){return(0,Ne.T)(e,a,o,s,u,1,l)},filter:function(){return(0,Ae.p)(e,i,a.shape,o,s,u,l)}}}};var Pe=(0,le.op)({conv3DBackpropFilter_:function(e,t,n,r,i){var a=e;4===e.rank&&(a=(0,G.X)(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));var o=t;4===o.rank&&(o=(0,G.X)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),se.hu(5===a.rank,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+"".concat(a.shape,".")})),se.hu(5===o.rank,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+"".concat(o.shape,".")})),se.hu(5===n.length,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+"".concat(n,".")})),se.hu(a.shape[4]===n[3],(function(){return"Error in conv3dDerFilter: depth of input ".concat(a.shape[4],") must ")+"match input depth in filter (".concat(n[3],".")})),se.hu(o.shape[4]===n[4],(function(){return"Error in conv3dDerFilter: depth of dy (".concat(o.shape[4],") must ")+"match output depth for filter (".concat(n[4],").")}));var s={x:a,dy:o},u={strides:r,pad:i,filterShape:n};return ae.BV.runKernel(N.o2,s,u)}}),Oe=n(61873),Le={kernelName:N.x1,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=n.dilations,i=n.strides,a=n.pad;se.hu((0,ue.I0)(r),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are "+"not yet supported in gradients. Got dilations '".concat(r,"'")}));var o=(0,E.Z)(t,2),s=o[0],u=o[1];return{x:function(){return(0,Oe._)(s.shape,e,u,i,a)},filter:function(){return Pe(s,e,u.shape,i,a)}}}},Fe=n(87254),Ze={kernelName:N.mc,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,P.d)((0,Z.W)((0,Fe.O)((0,R.p)(n,"float32"))),e)}}}},Be=n(57657),ze={kernelName:N.TR,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,P.d)((0,Be.R)((0,R.p)(n,"float32")),e)}}}},Ve=n(88473),je=n(58862),We=n(61240),Ue={kernelName:N.iH,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,E.Z)(t,1)[0],i=n.axis,a=n.exclusive,o=n.reverse;return{x:function(){var t=(0,Ve.Q3)([i],r.rank),n=(0,je.z)(e,i,a,!o);return null!=t&&(n=(0,We.p)(n,t)),n}}}},He=n(60288),Ge=n(96939),Xe={kernelName:N.ci,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=n.dilations,i=n.strides,a=n.pad,o=n.dimRoundingMode,s=null==r?[1,1]:r;se.hu(ue.I0(s),(function(){return"Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(s,"'")}));var u=(0,E.Z)(t,2),l=u[0],c=u[1];return se.hu(4===l.rank,(function(){return"Error in gradient of depthwiseConv2dNative: input must be "+"rank 4, but got rank ".concat(l.rank,".")})),se.hu(4===c.rank,(function(){return"Error in gradient of depthwiseConv2dNative: filter must be "+"rank 4, but got rank ".concat(c.rank,".")})),se.hu(l.shape[3]===c.shape[2],(function(){return"Error in gradient of depthwiseConv2d: number of input "+"channels (".concat(l.shape[3],") must match the inChannels dimension ")+"in filter ".concat(c.shape[2],".")})),se.hu(ue.jT(i,s),(function(){return"Error in gradient of depthwiseConv2d: Either strides or "+"dilations must be  1. Got strides ".concat(i," and dilations ")+"'".concat(s,"'.")})),ue.m("depthwiseConv2d",a,o),{x:function(){return(0,Ge.v)(l.shape,e,c,i,a,s,o)},filter:function(){return(0,He.z)(l,e,c.shape,i,a,s,o)}}}},qe={kernelName:N.p4,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=(0,E.Z)(t,2),i=r[0],a=r[1],o={x:i,filter:a,dy:e},s={x:i,filter:a,dy:e};return{x:function(){return ae.BV.runKernel(N.ek,o,n)},filter:function(){return ae.BV.runKernel(N.Vn,s,n)}}}},Ye={kernelName:N.SX,outputsToSave:[!0],gradFunc:function(e,t){var n={dy:e,y:(0,E.Z)(t,1)[0]};return{x:function(){return ae.BV.runKernel(N.HE,n)}}}},Ke=n(411),Qe={kernelName:N.Om,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0],r=(0,P.d)((0,Ke.Q)((0,Z.W)((0,V.h)(n))),2/Math.sqrt(Math.PI));return{x:function(){return(0,P.d)(e,r)}}}},Je={kernelName:N.NE,outputsToSave:[!0],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,P.d)(e,n)}}}},$e={kernelName:N.YF,inputsToSave:["input"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{input:function(){return(0,G.X)(e,n.shape)}}}},et={kernelName:N.Y0,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,P.d)(e,(0,Ke.Q)(n))}}}},tt={kernelName:N.OR,gradFunc:function(e){return{x:function(){return(0,K.P)(e)}}}},nt={kernelName:N.je,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,E.Z)(t,2),r=n[0],i=n[1],a=(0,H.assertAndGetBroadcastShape)(r.shape,i.shape);return{a:function(){var t=(0,F.h)(e,(0,R.p)(i,"float32")),n=(0,H.getReductionAxes)(r.shape,a);return n.length>0?(0,G.X)((0,X.S)(t,n),r.shape):t},b:function(){var t=(0,P.d)(e,(0,R.p)(r,"float32")),n=(0,H.getReductionAxes)(i.shape,a);n.length>0&&(t=(0,G.X)((0,X.S)(t,n),i.shape));var o=(0,V.h)(i);return(0,Z.W)((0,F.h)(t,(0,R.p)(o,"float32")))}}}},rt=n(65115),it=n(42343),at={kernelName:N.sH,inputsToSave:["x","mean","variance","scale"],gradFunc:function(e,t,n){var r=n.varianceEpsilon,i=(0,E.Z)(t,4),a=i[0],o=i[1],s=i[2],u=i[3],l=null==u?(0,B.i)(1):u,c=(0,H.getReductionAxes)(o.shape,a.shape),d=[];if(1===o.rank){for(var f=0;f<a.shape.length-1;++f)d.push(a.shape[f]);d.push(1)}var h=(0,j.l)(a,o),p=(0,P.d)(e,l),m=(0,rt.b)((0,ee.I)(s,(0,B.i)(r))),g=(0,P.d)((0,P.d)((0,P.d)(m,m),m),(0,B.i)(-.5));return{x:function(){return 1===o.rank?(0,G.X)((0,P.d)((0,P.d)(e,(0,it.G)((0,G.X)(m,[1,1,1,o.shape[0]]),d)),l),a.shape):(0,G.X)((0,P.d)((0,P.d)(e,m),l),a.shape)},mean:function(){var e=(0,P.d)((0,P.d)(m,(0,B.i)(-1)),p);return 1===o.rank&&(e=(0,X.S)(e,c)),(0,G.X)(e,o.shape)},variance:function(){var e=(0,P.d)((0,P.d)(g,h),p);return 1===o.rank&&(e=(0,X.S)(e,c)),(0,G.X)(e,o.shape)},scale:function(){var t=(0,P.d)(h,m),n=(0,P.d)(e,t);return 1===o.rank&&(n=(0,X.S)(n,c)),(0,G.X)(n,o.shape)},offset:function(){var t=e;return 1===o.rank&&(t=(0,X.S)(t,c)),(0,G.X)(t,o.shape)}}}},ot=n(46918),st={kernelName:N.qi,inputsToSave:["x","indices"],gradFunc:function(e,t,n){var r=(0,E.Z)(t,2),i=r[0],a=r[1],o=n.axis,s=(0,se.EC)(o,i.shape)[0];return{x:function(){var t=i.shape,n=a.size,r=t.slice(0,s),u=r.length,l=t.slice(o,t.length).slice(1),c=l.length,d=ut(0,u),f=ut(u+1,u+1+c),h=lt([r,[n],l]),p=(0,G.X)(e,h),m=(0,G.X)(a,[n]),g=lt([[u],d,f]),v=(0,We.p)(p,g),y=(0,ot.p)(v,m,i.shape[s]),x=(0,Ve.LJ)(g);return y=(0,We.p)(y,x)},indices:function(){return a}}}};function ut(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function lt(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var ct={kernelName:N.Ac,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,E.Z)(t,2),r=n[0],i=n[1];return{a:function(){return(0,K.P)(r)},b:function(){return(0,K.P)(i)}}}},dt={kernelName:N.iJ,gradFunc:function(e){return{x:function(){return(0,R.p)(e,"float32")}}}},ft={kernelName:N.av,gradFunc:function(e){return{x:function(){return(0,K.P)(e)}}}},ht={kernelName:N.iW,gradFunc:function(e){return{x:function(){return(0,K.P)(e)}}}},pt={kernelName:N.r7,gradFunc:function(e){return{x:function(){return(0,K.P)(e)}}}},mt=n(35014),gt={kernelName:N.J$,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,E.Z)(t,1)[0],i=n.alpha,a=(0,mt.p)(r,0);return{x:function(){return(0,Ce.a)(a,e,(0,P.d)(e,i))}}}},vt={kernelName:N.kU,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,F.h)(e,(0,ee.I)(n,1))}}}},yt={kernelName:N.Zb,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,F.h)(e,(0,R.p)(n,"float32"))}}}},xt={kernelName:N.qC,inputsToSave:[],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,E.Z)(t,1)[0],i=n.axis;return{logits:function(){var t=(0,Ke.Q)(r);return(0,j.l)(e,(0,P.d)((0,X.S)(e,i,!0),t))}}}};var bt=(0,le.op)({localResponseNormalizationBackprop_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5,s={x:e,y:t,dy:n},u={depthRadius:r,bias:i,alpha:a,beta:o};return ae.BV.runKernel(N.Hh,s,u)}}),wt={kernelName:N.eZ,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,E.Z)(t,2),i=r[0],a=r[1],o=n.depthRadius,s=n.bias,u=n.alpha,l=n.beta;return{x:function(){return bt(i,a,e,o,s,u,l)}}}},_t=n(63254);function St(e,t,n,r){return t.rank<n.rank&&(t=(0,G.X)(t,Ve.rv(t.shape,r))),e.rank<n.rank&&(e=(0,G.X)(e,Ve.rv(e.shape,r))),{x:function(){return(0,P.d)(e,(0,R.p)((0,_t.D)(n,t),e.dtype))}}}var Ct={kernelName:N.Yo,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=n.reductionIndices,i=t[0],a=St(e,t[1],i,se.EC(r,i.shape));return{x:function(){return a.x()}}}},kt=n(44920),Dt={kernelName:N.BM,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,E.Z)(t,2),r=n[0],i=n[1];return{a:function(){return(0,P.d)(e,(0,R.p)((0,we.b)(r,i),"float32"))},b:function(){return(0,P.d)(e,(0,R.p)((0,kt.d)(r,i),"float32"))}}}};var Tt=(0,le.op)({maxPool3dGrad_:function(e,t,n,r,i,a,o){var s=(0,oe._1)(e,"dy","maxPool3dGrad"),u=(0,oe._1)(t,"input","maxPool3dGrad"),l=(0,oe._1)(n,"output","maxPool3dGrad"),c=s,d=u,f=l,h=!1;4===u.rank&&(h=!0,c=(0,G.X)(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),d=(0,G.X)(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]]),f=(0,G.X)(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]])),se.hu(5===c.rank,(function(){return"Error in maxPool3dGrad: dy must be rank 5 but got rank "+"".concat(c.rank,".")})),se.hu(5===d.rank,(function(){return"Error in maxPool3dGrad: input must be rank 5 but got rank "+"".concat(d.rank,".")})),se.hu(5===f.rank,(function(){return"Error in maxPool3dGrad: output must be rank 5 but got rank "+"".concat(f.rank,".")})),(0,ue.m)("maxPool3dGrad",a,o);var p={dy:c,input:d,output:f},m={filterSize:r,strides:i,pad:a,dimRoundingMode:o},g=ae.BV.runKernel(N.OU,p,m);return h?(0,G.X)(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}}),It={kernelName:N.OA,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,E.Z)(t,2),i=r[0],a=r[1],o=n.filterSize,s=n.strides,u=n.pad,l=n.dimRoundingMode;return{x:function(){return Tt(e,i,a,o,s,u,l)}}}};var At=(0,le.op)({maxPoolGrad_:function(e,t,n,r,i,a,o){var s=(0,oe._1)(e,"dy","maxPoolGrad"),u=(0,oe._1)(t,"input","maxPoolGrad"),l=(0,oe._1)(n,"output","maxPoolGrad");se.hu(u.rank===s.rank,(function(){return"Rank of input (".concat(u.rank,") does not match rank of dy ")+"(".concat(s.rank,")")})),se.hu(4===s.rank,(function(){return"Error in maxPoolGrad: dy must be rank 4 but got rank "+"".concat(s.rank,".")})),se.hu(4===u.rank,(function(){return"Error in maxPoolGrad: input must be rank 4 but got rank "+"".concat(u.rank,".")})),ue.m("maxPoolGrad",a,o);var c={dy:s,input:u,output:l},d={filterSize:r,strides:i,pad:a,dimRoundingMode:o};return ae.BV.runKernel(N.OV,c,d)}}),Mt={kernelName:N.mT,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,E.Z)(t,2),i=r[0],a=r[1],o=n.filterSize,s=n.strides,u=n.pad;return{x:function(){return At(e,i,a,o,s,u)}}}},Et=n(86100),Nt={kernelName:N.q2,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,E.Z)(t,1)[0],i=n.axis,a=se.EC(i,r.shape),o=(0,Ve.kz)(r.shape,a)[1],s=se.NA(o);return{x:function(){var t=r.shape.slice();a.forEach((function(e){t[e]=1}));var n=(0,G.X)(e,t);return(0,F.h)((0,P.d)(n,(0,Et.i)(r.shape,"float32")),s)}}}},Rt={kernelName:N.c1,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=n.axis,i=(0,E.Z)(t,2),a=i[0],o=St(e,i[1],a,se.EC(r,a.shape));return{x:function(){return o.x()}}}},Pt={kernelName:N.q8,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,E.Z)(t,2),r=n[0],i=n[1];return{a:function(){return(0,P.d)(e,(0,R.p)((0,_e.z)(r,i),"float32"))},b:function(){return(0,P.d)(e,(0,R.p)((0,mt.p)(r,i),"float32"))}}}},Ot=n(59238),Lt={kernelName:N.jQ,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],i=n.paddings.map((function(e){return e[0]}));return{x:function(){return(0,Ot.t)(e,i,r.shape)}}}},Ft=n(22628),Zt={kernelName:N.Vb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,E.Z)(t,2),r=n[0],i=n[1],a=(0,H.assertAndGetBroadcastShape)(r.shape,i.shape);return{a:function(){var t=(0,H.getReductionAxes)(r.shape,a);return t.length>0?(0,G.X)((0,X.S)(e,t),r.shape):e},b:function(){var t=(0,P.d)(e,(0,Z.W)((0,Ft.G)((0,F.h)(r,i)))),n=(0,H.getReductionAxes)(i.shape,a);return n.length>0?(0,G.X)((0,X.S)(t,n),i.shape):t}}}},Bt={kernelName:N.wY,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,E.Z)(t,2),r=n[0],i=n[1],a=(0,H.assertAndGetBroadcastShape)(r.shape,i.shape);return{a:function(){var t=(0,P.d)(e,(0,R.p)(i,"float32")),n=(0,H.getReductionAxes)(r.shape,a);return n.length>0?(0,G.X)((0,X.S)(t,n),r.shape):t},b:function(){var t=(0,P.d)(e,(0,R.p)(r,"float32")),n=(0,H.getReductionAxes)(i.shape,a);return n.length>0?(0,G.X)((0,X.S)(t,n),i.shape):t}}}},zt={kernelName:N.ku,gradFunc:function(e){return{x:function(){return(0,Z.W)(e)}}}},Vt=n(87742),jt={kernelName:N.we,inputsToSave:["indices"],gradFunc:function(e,t){var n=t[0];return{indices:function(){return(0,Vt.l)(n.shape,"float32")}}}},Wt={kernelName:N.qW,gradFunc:function(e){return{x:function(){return(0,K.P)(e)}}}},Ut=n(54566),Ht={kernelName:N.Qi,saveAllInputs:!0,gradFunc:function(e,t,n){var r=n.axis;return(0,Ut.H)(e,r).map((function(e){return function(){return e}}))}},Gt={kernelName:N.ly,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],i=n.paddings.map((function(e){return e[0]}));return{x:function(){return(0,Ot.t)(e,i,r.shape)}}}},Xt=n(40378),qt=n(44334),Yt={kernelName:N.pe,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:function(e,t){var n=(0,E.Z)(t,3),r=n[0],i=n[1],a=n[2],o=r,s=i,u=H.assertAndGetBroadcastShape(o.shape,s.shape);return{a:function(){var t=(0,R.p)(s,"float32"),n=(0,P.d)(e,(0,P.d)(t,(0,qt.s)(o,(0,j.l)(t,(0,B.i)(1))))),r=H.getReductionAxes(o.shape,u);return r.length>0&&(n=(0,X.S)(n,r)),(0,G.X)(n,o.shape)},b:function(){var t=(0,mt.p)(o,0),n=(0,Ce.a)(t,(0,Xt.c)(o),(0,K.P)(o)),r=(0,P.d)(e,(0,P.d)(a,n)),i=H.getReductionAxes(s.shape,u);return i.length>0&&(r=(0,X.S)(r,i)),(0,G.X)(r,s.shape)}}}},Kt={kernelName:N.o0,inputsToSave:["x","alpha"],gradFunc:function(e,t){var n=(0,E.Z)(t,2),r=n[0],i=n[1],a=(0,mt.p)(r,0);return{x:function(){return(0,Ce.a)(a,e,(0,P.d)(e,i))},alpha:function(){var t=(0,Ce.a)(a,(0,K.P)(e),(0,P.d)(e,r)),n=(0,H.getReductionAxes)(i.shape,e.shape);return n.length>0&&(t=(0,X.S)(t,n)),(0,G.X)(t,i.shape)}}}},Qt=n(69457);function Jt(e,t,n){var r=e.shape.length,i=r-n.length,a=Ve.Q3(n,r),o=e;null!=a&&(o=(0,We.p)(e,a));var s=o.shape.slice(),u=s.splice(r-n.length,n.length).reduce((function(e,t){return e*t}),1);s.push(u);var l=function(e,t,n){var r=e.shape.slice();r[n]=1;var i=(0,G.X)(t,r),a=(0,Qt.$)(e,n,!0,!1),o=(0,Qt.$)(e,n,!0,!0),s=(0,P.d)(a,o);return(0,P.d)(i,s)}(o.reshape(s),t,i);if(l=l.reshape(o.shape),null!=a){var c=Ve.LJ(a);l=(0,We.p)(l,c)}return l}var $t={kernelName:N.Dl,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,E.Z)(t,1)[0],i=n.axis,a=[];return a=void 0===i||null===i?r.shape.map((function(e,t){return t})):"number"===typeof i?[i]:i,{x:function(){return Jt(r,e,a)}}}},en={kernelName:N.oH,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,E.Z)(t,2),r=n[0],i=n[1],a=H.assertAndGetBroadcastShape(r.shape,i.shape);return{a:function(){var t=(0,F.h)(e,(0,R.p)(i,"float32")),n=H.getReductionAxes(r.shape,a);return n.length>0?(0,G.X)((0,X.S)(t,n),r.shape):t},b:function(){var t=(0,P.d)(e,(0,R.p)(r,"float32")),n=H.getReductionAxes(i.shape,a);n.length>0&&(t=(0,G.X)((0,X.S)(t,n),i.shape));var o=(0,V.h)(i);return(0,Z.W)((0,F.h)(t,(0,R.p)(o,"float32")))}}}},tn={kernelName:N.$H,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,F.h)(e,(0,Z.W)((0,V.h)(n)))}}}},nn={kernelName:N.Sb,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0],r=(0,P.d)((0,_e.z)(n,6),(0,O.N)(n));return{x:function(){return(0,P.d)(e,(0,R.p)(r,"float32"))}}}},rn={kernelName:N.qk,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,P.d)(e,(0,R.p)((0,O.N)(n),"float32"))}}}},an={kernelName:N.HZ,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,G.X)(e,n.shape)}}}},on={kernelName:N._Y,inputsToSave:["images"],gradFunc:function(e,t,n){var r={dy:e,images:(0,E.Z)(t,1)[0]};return{images:function(){return ae.BV.runKernel(N.zb,r,n)}}}},sn={kernelName:N.dp,inputsToSave:["images"],gradFunc:function(e,t,n){var r={dy:e,images:(0,E.Z)(t,1)[0]};return{images:function(){return ae.BV.runKernel(N.Hm,r,n)}}}},un=n(34933),ln={kernelName:N.mK,gradFunc:function(e,t,n){var r=n.dims,i=(0,se.EC)(r,e.shape);return{x:function(){return(0,un.G)(e,i)}}}},cn={kernelName:N.e0,gradFunc:function(e){return{x:function(){return(0,K.P)(e)}}}},dn={kernelName:N.bV,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,Z.W)((0,F.h)(e,(0,P.d)((0,qt.s)(n,1.5),2)))}}}},fn=n(30875),hn={kernelName:N.Ph,inputsToSave:["condition"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{condition:function(){return(0,R.p)((0,K.P)(n),"float32")},t:function(){return(0,P.d)(e,(0,R.p)(n,e.dtype))},e:function(){return(0,P.d)(e,(0,R.p)((0,fn.h)(n),e.dtype))}}}},pn=n(20349),mn={kernelName:N.oF,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){var t=(0,mt.p)(n,(0,B.i)(0)),r=(0,B.i)(pn.y),i=(0,B.i)(pn.$),a=(0,P.d)(e,i),o=(0,P.d)((0,P.d)(e,r),(0,Ke.Q)((0,R.p)(n,"float32")));return(0,Ce.a)(t,a,o)}}}},gn={kernelName:N.a5,outputsToSave:[!0],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,P.d)(e,(0,P.d)(n,(0,j.l)((0,B.i)(1),n)))}}}},vn={kernelName:N.i5,gradFunc:function(e){return{x:function(){return(0,K.P)(e)}}}},yn=n(21227),xn={kernelName:N.RQ,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,P.d)((0,yn.m)((0,R.p)(n,"float32")),e)}}}},bn=n(46679),wn={kernelName:N.w3,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,P.d)((0,bn.f)((0,R.p)(n,"float32")),e)}}}},_n=n(71970),Sn=n(52875),Cn={kernelName:N.p2,inputsToSave:["x"],gradFunc:function(e,t,n){for(var r=(0,E.Z)(t,1)[0],i=n.begin,a=n.size,o=r.shape,s=(0,Sn.parseSliceParams)(r,i,a),u=(0,E.Z)(s,2),l=u[0],c=u[1],d=[],f=0;f<e.rank;f++)d.push([l[f],o[f]-l[f]-c[f]]);return{x:function(){return(0,_n.v)(e,d)}}}},kn={kernelName:N.Gc,outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,E.Z)(t,1)[0],i=n.dim,a=(0,P.d)(e,r);return{logits:function(){return(0,j.l)(a,(0,P.d)((0,X.S)(a,[i],true),r))}}}},Dn=n(77643),Tn={kernelName:N.MR,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,P.d)(e,(0,Dn.X)(n))}}}},In=n(36994),An={kernelName:N.TQ,gradFunc:function(e,t,n){var r=n.blockShape,i=n.paddings;return{x:function(){return(0,In.E)(e,r,i)}}}},Mn=n(34836),En={kernelName:N.L8,gradFunc:function(e,t,n){var r=n.axis;return{x:function(){return(0,Mn.z)(e,r)}}}},Nn={kernelName:N.FK,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,F.h)(e,(0,P.d)((0,z._)((0,R.p)(n,"float32")),2))}}}},Rn={kernelName:N.bK,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,P.d)(e,(0,P.d)((0,R.p)(n,"float32"),2))}}}},Pn={kernelName:N._t,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,E.Z)(t,2),r=n[0],i=n[1],a=(0,B.i)(2);return{a:function(){return(0,P.d)(e,(0,P.d)(a,(0,j.l)(r,i)))},b:function(){return(0,P.d)(e,(0,P.d)(a,(0,j.l)(i,r)))}}}},On={kernelName:N.h8,gradFunc:function(e){return{x:function(){return(0,K.P)(e)}}}},Ln={kernelName:N.Tr,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,E.Z)(t,2),r=n[0],i=n[1],a=H.assertAndGetBroadcastShape(r.shape,i.shape);return{a:function(){var t=e,n=H.getReductionAxes(r.shape,a);return n.length>0&&(t=(0,X.S)(t,n)),(0,G.X)(t,r.shape)},b:function(){var t=e,n=H.getReductionAxes(i.shape,a);return n.length>0&&(t=(0,X.S)(t,n)),(0,G.X)((0,Z.W)(t),i.shape)}}}},Fn={kernelName:N.GB,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,E.Z)(t,1)[0],i=r.shape.slice(),a=n.axis;(0,se.EC)(a,r.shape).forEach((function(e){i[e]=1}));var o=(0,G.X)(e,i),s=(0,P.d)(o,(0,Et.i)(r.shape,"float32"));return{x:function(){return s}}}},Zn={kernelName:N.sE,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,F.h)(e,(0,V.h)((0,yn.m)(n)))}}}},Bn={kernelName:N.MI,outputsToSave:[!0],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return(0,P.d)((0,j.l)((0,B.i)(1),(0,V.h)(n)),e)}}}},zn={kernelName:N.n9,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,E.Z)(t,1)[0],i=n.reps;return{x:function(){var t=(0,K.P)(r);if(1===r.rank)for(var n=0;n<i[0];++n)t=(0,ee.I)(t,(0,Ot.t)(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(var a=0;a<i[0];++a)for(var o=0;o<i[1];++o)t=(0,ee.I)(t,(0,Ot.t)(e,[a*r.shape[0],o*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(var s=0;s<i[0];++s)for(var u=0;u<i[1];++u)for(var l=0;l<i[2];++l)t=(0,ee.I)(t,(0,Ot.t)(e,[s*r.shape[0],u*r.shape[1],l*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+"".concat(r.rank," tensors yet."));for(var c=0;c<i[0];++c)for(var d=0;d<i[1];++d)for(var f=0;f<i[2];++f)for(var h=0;h<i[3];++h)t=(0,ee.I)(t,(0,Ot.t)(e,[c*r.shape[0],d*r.shape[1],f*r.shape[2],h*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}},Vn={kernelName:N.G3,gradFunc:function(e,t,n){var r=n.perm,i=Ve.LJ(r);return{x:function(){return(0,We.p)(e,i)}}}},jn=n(18306),Wn={kernelName:N.To,gradFunc:function(e,t,n){var r=n.axis;return{value:function(){return(0,jn.k)(e,r)}}}},Un=n(72975),Hn=n(49498),Gn=n(70705),Xn={kernelName:N.Qv,inputsToSave:["segmentIds"],gradFunc:function(e,t){var n=(0,E.Z)(t,1)[0];return{x:function(){return function(e,t){for(var n=(0,Gn.g)(t,(0,K.P)(t)),r=(0,Hn.I)(e,n),i=(0,we.b)(t,(0,B.i)(0,"int32")),a=r.rank-i.rank,o=0;o<a;++o)i=(0,Un.d)(i,o+1);i=(0,Se.H)(i,(0,Et.i)(r.shape,"bool"));var s=(0,K.P)(r);return(0,Ce.a)(i,r,s)}(e,n)}}}};for(var qn={kernelName:N.Ru,gradFunc:function(e){return{x:function(){return(0,K.P)(e)}}}},Yn=n(78864),Kn=0,Qn=[L,W,U,q,Y,Q,J,$,te,ne,re,ie,de,he,me,ve,ye,xe,be,ke,De,Ie,Re,Ee,Le,Ze,ze,Ue,Xe,qe,en,Ye,Qe,Je,$e,et,nt,tt,at,st,ct,dt,ft,ht,pt,gt,vt,yt,xt,wt,Ct,Ct,Dt,It,Mt,Nt,Rt,Pt,Lt,Zt,Bt,zt,jt,Wt,Ht,Gt,Gt,Yt,Kt,$t,tn,nn,rn,an,on,sn,ln,cn,dn,hn,mn,gn,vn,xn,wn,Cn,kn,Tn,An,An,En,En,Nn,Pn,Rn,On,Ln,Fn,Zn,Bn,zn,Vn,Wn,Xn,qn];Kn<Qn.length;Kn++){var Jn=Qn[Kn];(0,Yn.Li)(Jn)}var $n=n(7613),er=n(4376);(0,er.t3)().prototype.abs=function(){return this.throwIfDisposed(),(0,$n.W)(this)};var tr=n(1719);(0,er.t3)().prototype.acos=function(){return this.throwIfDisposed(),(0,tr.K)(this)};var nr=n(24502);(0,er.t3)().prototype.acosh=function(){return this.throwIfDisposed(),(0,nr._)(this)},(0,er.t3)().prototype.add=function(e){return this.throwIfDisposed(),(0,ee.I)(this,e)};var rr=n(14108);(0,er.t3)().prototype.all=function(e,t){return this.throwIfDisposed(),(0,rr.$)(this,e,t)};var ir=n(58543);(0,er.t3)().prototype.any=function(e,t){return this.throwIfDisposed(),(0,ir.Y)(this,e,t)};var ar=n(29995);(0,er.t3)().prototype.argMax=function(e){return this.throwIfDisposed(),(0,ar.N)(this,e)};var or=n(95157);(0,er.t3)().prototype.argMin=function(e){return this.throwIfDisposed(),(0,or.v)(this,e)},(0,er.t3)().prototype.asScalar=function(){return this.throwIfDisposed(),(0,se.hu)(1===this.size,(function(){return"The array must have only 1 element."})),(0,G.X)(this,[])},(0,er.t3)().prototype.asType=function(e){return this.throwIfDisposed(),(0,R.p)(this,e)},(0,er.t3)().prototype.as1D=function(){return this.throwIfDisposed(),(0,G.X)(this,[this.size])},(0,er.t3)().prototype.as2D=function(e,t){return this.throwIfDisposed(),(0,G.X)(this,[e,t])},(0,er.t3)().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),(0,G.X)(this,[e,t,n])},(0,er.t3)().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),(0,G.X)(this,[e,t,n,r])},(0,er.t3)().prototype.as5D=function(e,t,n,r,i){return this.throwIfDisposed(),(0,G.X)(this,[e,t,n,r,i])};var sr=n(33053);(0,er.t3)().prototype.asin=function(){return this.throwIfDisposed(),(0,sr.Z)(this)};var ur=n(30054);(0,er.t3)().prototype.asinh=function(){return this.throwIfDisposed(),(0,ur.V)(this)};var lr=n(64778);(0,er.t3)().prototype.atan=function(){return this.throwIfDisposed(),(0,lr.z)(this)};var cr=n(32227);(0,er.t3)().prototype.atan2=function(e){return this.throwIfDisposed(),(0,cr.f)(this,e)};var dr=n(47897);(0,er.t3)().prototype.atanh=function(){return this.throwIfDisposed(),(0,dr.C)(this)};var fr=n(49204);(0,er.t3)().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),(0,fr.w)(this,e,t,n,r)},(0,er.t3)().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),(0,In.E)(this,e,t)};var hr=n(63700);(0,er.t3)().prototype.batchNorm=function(e,t,n,r,i){return this.throwIfDisposed(),(0,hr.t)(this,e,t,n,r,i)};var pr=n(49742);(0,er.t3)().prototype.broadcastTo=function(e){return this.throwIfDisposed(),(0,pr.U)(this,e)},(0,er.t3)().prototype.cast=function(e){return this.throwIfDisposed(),(0,R.p)(this,e)};var mr=n(31396);(0,er.t3)().prototype.ceil=function(){return this.throwIfDisposed(),(0,mr.m)(this)};var gr=n(89836);(0,er.t3)().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),(0,gr.i)(this,e,t)};var vr=n(93433);(0,er.t3)().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof er.es&&(e=[e]),(0,Mn.z)([this].concat((0,vr.Z)(e)),t)};var yr=n(44918);(0,er.t3)().prototype.conv1d=function(e,t,n,r,i,a){return this.throwIfDisposed(),(0,yr.P)(this,e,t,n,r,i,a)};var xr=n(71732);(0,er.t3)().prototype.conv2dTranspose=function(e,t,n,r,i){return this.throwIfDisposed(),(0,xr.b)(this,e,t,n,r,i)},(0,er.t3)().prototype.conv2d=function(e,t,n,r,i,a){return this.throwIfDisposed(),(0,Ne.T)(this,e,t,n,r,i,a)},(0,er.t3)().prototype.cos=function(){return this.throwIfDisposed(),(0,yn.m)(this)},(0,er.t3)().prototype.cosh=function(){return this.throwIfDisposed(),(0,bn.f)(this)},(0,er.t3)().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),(0,Qt.$)(this,e,t,n)},(0,er.t3)().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),(0,je.z)(this,e,t,n)};var br=n(91878);(0,er.t3)().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),(0,br.n)(this,e,t)};var wr=n(61147);(0,er.t3)().prototype.depthwiseConv2d=function(e,t,n,r,i,a){return this.throwIfDisposed(),(0,wr.B)(this,e,t,n,r,i,a)};var _r=n(57580);(0,er.t3)().prototype.dilation2d=function(e,t,n,r,i){return this.throwIfDisposed(),(0,_r.W)(this,e,t,n,r,i)};var Sr=n(75923);(0,er.t3)().prototype.divNoNan=function(e){return this.throwIfDisposed(),(0,Sr.N)(this,e)},(0,er.t3)().prototype.div=function(e){return this.throwIfDisposed(),(0,F.h)(this,e)};var Cr=n(45043);(0,er.t3)().prototype.dot=function(e){return this.throwIfDisposed(),(0,Cr.A)(this,e)};var kr=n(52353);(0,er.t3)().prototype.elu=function(){return this.throwIfDisposed(),(0,kr.p)(this)},(0,er.t3)().prototype.equal=function(e){return this.throwIfDisposed(),(0,_t.D)(this,e)};var Dr=n(93891);(0,er.t3)().prototype.erf=function(){return this.throwIfDisposed(),(0,Dr.q)(this)};var Tr=n(13313);(0,er.t3)().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),(0,Tr.d)(this,e,t)},(0,er.t3)().prototype.exp=function(){return this.throwIfDisposed(),(0,Ke.Q)(this)},(0,er.t3)().prototype.expandDims=function(e){return this.throwIfDisposed(),(0,Un.d)(this,e)};var Ir=n(15682);(0,er.t3)().prototype.expm1=function(){return this.throwIfDisposed(),(0,Ir.t)(this)};var Ar=n(37635);(0,er.t3)().prototype.fft=function(){return this.throwIfDisposed(),(0,Ar.k)(this)},(0,er.t3)().prototype.flatten=function(){return this.throwIfDisposed(),(0,G.X)(this,[this.size])},(0,er.t3)().prototype.floor=function(){return this.throwIfDisposed(),(0,Ft.G)(this)};var Mr=n(67145);(0,er.t3)().prototype.floorDiv=function(e){return this.throwIfDisposed(),(0,Mr.q)(this,e)},(0,er.t3)().prototype.gather=function(e,t){return this.throwIfDisposed(),(0,Hn.I)(this,e,t)},(0,er.t3)().prototype.greaterEqual=function(e){return this.throwIfDisposed(),(0,we.b)(this,e)},(0,er.t3)().prototype.greater=function(e){return this.throwIfDisposed(),(0,mt.p)(this,e)};var Er=n(50530);(0,er.t3)().prototype.ifft=function(){return this.throwIfDisposed(),(0,Er.S)(this)};var Nr=n(774);(0,er.t3)().prototype.irfft=function(){return this.throwIfDisposed(),(0,Nr.w)(this)};var Rr=n(10300);(0,er.t3)().prototype.isFinite=function(){return this.throwIfDisposed(),(0,Rr.x)(this)};var Pr=n(74652);(0,er.t3)().prototype.isInf=function(){return this.throwIfDisposed(),(0,Pr.U)(this)};var Or=n(37005);(0,er.t3)().prototype.isNaN=function(){return this.throwIfDisposed(),(0,Or.i)(this)};var Lr=n(74419);(0,er.t3)().prototype.leakyRelu=function(e){return this.throwIfDisposed(),(0,Lr.h)(this,e)},(0,er.t3)().prototype.lessEqual=function(e){return this.throwIfDisposed(),(0,_e.z)(this,e)},(0,er.t3)().prototype.less=function(e){return this.throwIfDisposed(),(0,kt.d)(this,e)};var Fr=n(40936);(0,er.t3)().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),(0,Fr.G)(this,e,t,n,r)};var Zr=n(25113);(0,er.t3)().prototype.logSigmoid=function(){return this.throwIfDisposed(),(0,Zr.e)(this)};var Br=n(54561);(0,er.t3)().prototype.logSoftmax=function(e){return this.throwIfDisposed(),(0,Br.C)(this,e)};var zr=n(15530);(0,er.t3)().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),(0,zr.l)(this,e,t)},(0,er.t3)().prototype.log=function(){return this.throwIfDisposed(),(0,Xt.c)(this)};var Vr=n(95341);(0,er.t3)().prototype.log1p=function(){return this.throwIfDisposed(),(0,Vr.K)(this)},(0,er.t3)().prototype.logicalAnd=function(e){return this.throwIfDisposed(),(0,Se.H)(this,e)},(0,er.t3)().prototype.logicalNot=function(){return this.throwIfDisposed(),(0,fn.h)(this)};var jr=n(15117);(0,er.t3)().prototype.logicalOr=function(e){return this.throwIfDisposed(),(0,jr.K)(this,e)};var Wr=n(11712);(0,er.t3)().prototype.logicalXor=function(e){return this.throwIfDisposed(),(0,Wr.e)(this,e)},(0,er.t3)().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),(0,pe.O)(this,e,t,n)};var Ur=n(85777);(0,er.t3)().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),(0,Ur._)(this,e,t,n,r)};var Hr=n(56176);(0,er.t3)().prototype.max=function(e,t){return this.throwIfDisposed(),(0,Hr.F)(this,e,t)},(0,er.t3)().prototype.maximum=function(e){return this.throwIfDisposed(),(0,Gn.g)(this,e)};var Gr=n(6568);(0,er.t3)().prototype.mean=function(e,t){return this.throwIfDisposed(),(0,Gr.J)(this,e,t)};var Xr=n(77891);(0,er.t3)().prototype.min=function(e,t){return this.throwIfDisposed(),(0,Xr.V)(this,e,t)};var qr=n(82273);(0,er.t3)().prototype.minimum=function(e){return this.throwIfDisposed(),(0,qr.L)(this,e)};var Yr=n(27613);(0,er.t3)().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),(0,Yr.V)(this,e,t)};var Kr=n(84645);(0,er.t3)().prototype.mod=function(e){return this.throwIfDisposed(),(0,Kr.w)(this,e)},(0,er.t3)().prototype.mul=function(e){return this.throwIfDisposed(),(0,P.d)(this,e)},(0,er.t3)().prototype.neg=function(){return this.throwIfDisposed(),(0,Z.W)(this)};var Qr=n(56662);(0,er.t3)().prototype.norm=function(e,t,n){return this.throwIfDisposed(),(0,Qr.K)(this,e,t,n)};var Jr=n(15549);(0,er.t3)().prototype.notEqual=function(e){return this.throwIfDisposed(),(0,Jr.Q)(this,e)};var $r=n(34326);(0,er.t3)().prototype.oneHot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.throwIfDisposed(),(0,$r.l)(this,e,t,n)};var ei=n(20773);(0,er.t3)().prototype.onesLike=function(){return this.throwIfDisposed(),(0,ei.J)(this)},(0,er.t3)().prototype.pad=function(e,t){return this.throwIfDisposed(),(0,_n.v)(this,e,t)};var ti=n(57226);(0,er.t3)().prototype.pool=function(e,t,n,r,i,a){return this.throwIfDisposed(),(0,ti.d)(this,e,t,n,r,i,a)},(0,er.t3)().prototype.pow=function(e){return this.throwIfDisposed(),(0,qt.s)(this,e)};var ni=n(96859);(0,er.t3)().prototype.prelu=function(e){return this.throwIfDisposed(),(0,ni.A)(this,e)};var ri=n(67722);(0,er.t3)().prototype.prod=function(e,t){return this.throwIfDisposed(),(0,ri.W)(this,e,t)};var ii=n(12209);(0,er.t3)().prototype.reciprocal=function(){return this.throwIfDisposed(),(0,ii.M)(this)};var ai=n(17539);(0,er.t3)().prototype.relu=function(){return this.throwIfDisposed(),(0,ai.U)(this)};var oi=n(65900);(0,er.t3)().prototype.relu6=function(){return this.throwIfDisposed(),(0,oi.b)(this)},(0,er.t3)().prototype.reshapeAs=function(e){return this.throwIfDisposed(),(0,G.X)(this,e.shape)},(0,er.t3)().prototype.reshape=function(e){return this.throwIfDisposed(),(0,G.X)(this,e)};var si=n(90464);(0,er.t3)().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),(0,si.I)(this,e,t,n)};var ui=n(28600);(0,er.t3)().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),(0,ui.j)(this,e,t,n)},(0,er.t3)().prototype.reverse=function(e){return this.throwIfDisposed(),(0,un.G)(this,e)};var li=n(64617);(0,er.t3)().prototype.rfft=function(){return this.throwIfDisposed(),(0,li.Q)(this)};var ci=n(60766);(0,er.t3)().prototype.round=function(){return this.throwIfDisposed(),(0,ci.N)(this)},(0,er.t3)().prototype.rsqrt=function(){return this.throwIfDisposed(),(0,rt.b)(this)};var di=n(20413);(0,er.t3)().prototype.selu=function(){return this.throwIfDisposed(),(0,di.U)(this)};var fi=n(90119);(0,er.t3)().prototype.separableConv2d=function(e,t,n,r,i,a){return this.throwIfDisposed(),(0,fi.U)(this,e,t,n,r,i,a)},(0,er.t3)().prototype.sigmoid=function(){return this.throwIfDisposed(),(0,Dn.X)(this)};var hi=n(2070);(0,er.t3)().prototype.sign=function(){return this.throwIfDisposed(),(0,hi.X)(this)},(0,er.t3)().prototype.sin=function(){return this.throwIfDisposed(),(0,Fe.O)(this)},(0,er.t3)().prototype.sinh=function(){return this.throwIfDisposed(),(0,Be.R)(this)},(0,er.t3)().prototype.slice=function(e,t){return this.throwIfDisposed(),(0,Ot.t)(this,e,t)};var pi=n(74910);(0,er.t3)().prototype.softmax=function(e){return this.throwIfDisposed(),(0,pi.X)(this,e)};var mi=n(54626);(0,er.t3)().prototype.softplus=function(){return this.throwIfDisposed(),(0,mi.W)(this)},(0,er.t3)().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),(0,ge.f)(this,e,t)},(0,er.t3)().prototype.split=function(e,t){return this.throwIfDisposed(),(0,Te.V)(this,e,t)},(0,er.t3)().prototype.sqrt=function(){return this.throwIfDisposed(),(0,z._)(this)},(0,er.t3)().prototype.square=function(){return this.throwIfDisposed(),(0,V.h)(this)};var gi=n(7993);(0,er.t3)().prototype.squaredDifference=function(e){return this.throwIfDisposed(),(0,gi.$)(this,e)};var vi=n(83931);(0,er.t3)().prototype.squeeze=function(e){return this.throwIfDisposed(),(0,vi.L)(this,e)},(0,er.t3)().prototype.stack=function(e,t){this.throwIfDisposed();var n=e instanceof er.es?[this,e]:[this].concat((0,vr.Z)(e));return(0,jn.k)(n,t)},(0,er.t3)().prototype.step=function(e){return this.throwIfDisposed(),(0,O.N)(this,e)};var yi=n(39017);(0,er.t3)().prototype.stridedSlice=function(e,t,n,r,i,a,o,s){return this.throwIfDisposed(),(0,yi.N)(this,e,t,n,r,i,a,o,s)},(0,er.t3)().prototype.sub=function(e){return this.throwIfDisposed(),(0,j.l)(this,e)},(0,er.t3)().prototype.sum=function(e,t){return this.throwIfDisposed(),(0,X.S)(this,e,t)};var xi=n(66999);(0,er.t3)().prototype.tan=function(){return this.throwIfDisposed(),(0,xi.O)(this)};var bi=n(11744);(0,er.t3)().prototype.tanh=function(){return this.throwIfDisposed(),(0,bi.A)(this)},(0,er.t3)().prototype.tile=function(e){return this.throwIfDisposed(),(0,it.G)(this,e)},(0,er.t3)().prototype.toBool=function(){return this.throwIfDisposed(),(0,R.p)(this,"bool")},(0,er.t3)().prototype.toFloat=function(){return this.throwIfDisposed(),(0,R.p)(this,"float32")},(0,er.t3)().prototype.toInt=function(){return this.throwIfDisposed(),(0,R.p)(this,"int32")};var wi=n(29085);(0,er.t3)().prototype.topk=function(e,t){return this.throwIfDisposed(),(0,wi.h)(this,e,t)},(0,er.t3)().prototype.transpose=function(e){return this.throwIfDisposed(),(0,We.p)(this,e)};var _i=n(74860);(0,er.t3)().prototype.unique=function(e){return this.throwIfDisposed(),(0,_i.T)(this,e)},(0,er.t3)().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),(0,ot.p)(this,e,t)},(0,er.t3)().prototype.unstack=function(e){return this.throwIfDisposed(),(0,Ut.H)(this,e)},(0,er.t3)().prototype.where=function(e,t){return this.throwIfDisposed(),(0,Ce.a)(e,this,t)},(0,er.t3)().prototype.zerosLike=function(){return this.throwIfDisposed(),(0,K.P)(this)};var Si=n(37762),Ci=n(15671),ki=n(43144),Di=n(97326),Ti=n(60136),Ii=n(27277),Ai=n(61120),Mi=n(89611);var Ei=n(78814);function Ni(e,t,n){return Ni=(0,Ei.Z)()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,Mi.Z)(i,n.prototype),i},Ni.apply(null,arguments)}function Ri(e){var t="function"===typeof Map?new Map:void 0;return Ri=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Ni(e,arguments,(0,Ai.Z)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,Mi.Z)(r,e)},Ri(e)}var Pi=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,Di.Z)(r),n.prototype),r}return(0,ki.Z)(n)}(Ri(Error)),Oi=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,Di.Z)(r),n.prototype),r}return(0,ki.Z)(n)}(Ri(Error)),Li=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,Di.Z)(r),n.prototype),r}return(0,ki.Z)(n)}(Ri(Error)),Fi=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,Di.Z)(r),n.prototype),r}return(0,ki.Z)(n)}(Ri(Error)),Zi=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,Di.Z)(r),n.prototype),r}return(0,ki.Z)(n)}(Ri(Error)),Bi=(Error,function(){function e(t){(0,Ci.Z)(this,e),this.maxEntries=t||100,this.cache=new Map}return(0,ki.Z)(e,[{key:"get",value:function(e){var t;return this.cache.has(e)&&(t=this.cache.get(e),this.cache.delete(e),this.cache.set(e,t)),t}},{key:"put",value:function(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}},{key:"getMaxEntries",value:function(){return this.maxEntries}},{key:"setMaxEntries",value:function(e){if(e<0)throw new Error("The maxEntries of LRU caches must be at least 0, but got ".concat(e,"."));if(this.maxEntries>e)for(var t=0;t<this.maxEntries-e;t++){var n=this.cache.keys().next().value;this.cache.delete(n)}this.maxEntries=e}}]),e}());function zi(e,t){if(Array.isArray(e)){for(var n=[],r=0;r<t;r++)n=n.concat(e);return n}var i=new Array(t);return i.fill(e),i}function Vi(e,t){if(!e)throw new Zi(t)}function ji(e,t){var n,r=0,i=(0,Si.Z)(e);try{for(i.s();!(n=i.n()).done;){n.value===t&&r++}}catch(a){i.e(a)}finally{i.f()}return r}function Wi(e){return 1===e.length?e[0]:e}function Ui(e){return Array.isArray(e)?e:[e]}function Hi(e){var t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function Gi(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,(function(e,t){return t.toUpperCase()}))}var Xi={};function qi(e){if(null===e||void 0===e)return null;var t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function Yi(e){if(null!=e&&"object"===typeof e)if(Array.isArray(e))e.forEach((function(e){return Yi(e)}));else for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t],i=e[r];null!=i&&"object"===typeof i&&(Array.isArray(i)||"ndarray"!==i.type||"number"!==typeof i.value?Yi(i):e[r]=i.value)}}function Ki(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"object",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("string"===typeof e){var a,o=e;if(o in n)a=n[o];else if(o in Xi)a=Xi[o];else if(null==(a=t[o]))throw new Li("Unknown ".concat(r,": ").concat(e,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");return a}var s=e;if(null==s.className||null==s.config)throw new Li("".concat(r,": Improper config format: ")+"".concat(JSON.stringify(s),".\n")+"'className' and 'config' must set.");var u,l,c=s.className;if(c in n){var d=(0,E.Z)(n[c],2);u=d[0],l=d[1]}else if(c in Xi){var f=(0,E.Z)(Xi.className,2);u=f[0],l=f[1]}else if(c in t){var h=(0,E.Z)(t[c],2);u=h[0],l=h[1]}if(null==u)throw new Li("Unknown ".concat(r,": ").concat(c,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");if(null!=l){for(var p={},m=0,g=Object.keys(Xi);m<g.length;m++){var v=g[m];p[v]=Xi[v]}for(var y=0,x=Object.keys(n);y<x.length;y++){var b=x[y];p[b]=n[b]}var w=s.config;w.customObjects=p;for(var _=Object.assign({},Xi),S=0,C=Object.keys(n);S<C.length;S++){var k=C[S];Xi[k]=n[k]}Yi(s.config);var D=l(u,s.config,n,i);return Xi=Object.assign({},_),D}for(var T=Object.assign({},Xi),I=0,A=Object.keys(n);I<A.length;I++){var M=A[I];Xi[M]=n[M]}var N=new u(s.config);return Xi=Object.assign({},T),N}function Qi(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function Ji(e){if(null==e)return e;var t,n=[],r=(0,Si.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;-1===n.indexOf(i)&&n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function $i(e){if(null==e)throw new Li("Invalid value in obj: ".concat(JSON.stringify(e)));for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function ea(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new Li("".concat(n," is not a valid ").concat(t,".  Valid values are ").concat(e," or null/undefined."))}function ta(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return Vi(n>=0),Vi(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every((function(e){return typeof e===t}))}function na(e,t){Array.isArray(e)?(M.D5U.assert(e.length>0,(function(){return"".concat(t," is unexpectedly an empty array.")})),e.forEach((function(e,n){return na(e,"element ".concat(n+1," of ").concat(t))}))):M.D5U.assert(Number.isInteger(e)&&e>0,(function(){return"Expected ".concat(t," to be a positive integer, but got ")+"".concat(ra(e),".")}))}function ra(e){return null===e?"null":Array.isArray(e)?"["+e.map((function(e){return ra(e)})).join(",")+"]":"string"===typeof e?'"'.concat(e,'"'):"".concat(e)}function ia(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}var aa=0;function oa(){return aa++}var sa={};function ua(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e in sa||(sa[e]=0),sa[e]+=1,e+sa[e].toString()}var la=["channelsFirst","channelsLast"],ca=["nearest","bilinear"],da=["valid","same","causal"],fa=["max","avg"],ha=["sum","mul","concat","ave"],pa=new Map;function ma(e){ea(la,"DataFormat",e)}function ga(e){ea(da,"PaddingMode",e)}function va(e){ea(fa,"PoolMode",e)}var ya=[];function xa(e,t){ya.push(e);try{var n=t();return ya.pop(),n}catch(r){throw ya.pop(),r}}function ba(e){if(!Ca(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===ya.length?"":ya.join("/")+"/")+e}function wa(e){if(!Ca(e))throw new Error("Not a valid tensor name: '"+e+"'");pa.has(e)||pa.set(e,0);var t=pa.get(e);if(pa.set(e,pa.get(e)+1),t>0){var n="".concat(e,"_").concat(t);return pa.set(n,1),n}return e}var _a,Sa=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function Ca(e){return!!e.match(Sa)}function ka(e,t,n){null==t&&(t=0),null==n&&(n=e.length);for(var r=1,i=t;i<n;++i)r*=e[i];return r}function Da(e){if(0===e.length)return Number.NaN;for(var t=Number.POSITIVE_INFINITY,n=0;n<e.length;n++){var r=e[n];r<t&&(t=r)}return t}function Ta(e){if(0===e.length)return Number.NaN;for(var t=Number.NEGATIVE_INFINITY,n=0;n<e.length;n++){var r=e[n];r>t&&(t=r)}return t}function Ia(e,t){if(t<e)throw new Li("end (".concat(t,") < begin (").concat(e,") is forbidden."));for(var n=[],r=e;r<t;++r)n.push(r);return n}function Aa(){return null==_a&&(_a=(0,M.y3$)().epsilon()),_a}function Ma(e,t){return M.pju(e,t)}function Ea(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),M.XLQ(e,n)}function Na(e){var t=[ka(e.shape)];return M.XLQ(e,t)}function Ra(e,t,n){return(0,M.lub)((function(){switch(e.rank){case 1:return M.jZU(e,t,n);case 2:return M.SmN(e,[t,0],[n,e.shape[1]]);case 3:return M.CnO(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return M.p0P(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return M.tPi(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return M.tPi(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new Li("sliceAlongFirstAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function Pa(e,t,n){return(0,M.lub)((function(){switch(e.rank){case 1:return M.jZU(e,t,n);case 2:return M.SmN(e,[0,t],[e.shape[0],n]);case 3:return M.CnO(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return M.p0P(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new Li("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function Oa(e,t,n,r){return(0,M.lub)((function(){switch(e.rank){case 1:return M.jZU(e,t,n);case 2:switch(r){case 1:return Ra(e,t,n);case 2:return Pa(e,t,n);default:throw new Li("The axis is not within the rank of the tensor "+"".concat(r))}case 3:switch(r){case 1:return Ra(e,t,n);case 2:return M.CnO(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return Pa(e,t,n);default:throw new Li("The axis is not within the rank of the tensor "+"".concat(r))}case 4:switch(r){case 1:return Ra(e,t,n);case 2:return M.p0P(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return M.p0P(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return Pa(e,t,n);default:throw new Li("The axis is not within the rank of the tensor "+"".concat(r))}default:throw new Li("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function La(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return n<0&&(n=0!==(t=e[0].rank)?t:0),n===e[0].rank&&(n=-1),M.zoF(e,n)}function Fa(e,t){switch(e.rank){case 1:return M.gME([e,t]);case 2:return M.Izb([e,t],0);case 3:return M.MNy([e,t],0);case 4:return M.ZaL([e,t],0);default:throw new Li("concatAlongFirstAxis() received an unsupported "+"tensor rank: ".concat(e.rank))}}function Za(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new Li("The length of input n (".concat(t.length,") does not match ")+"the number of dimensions in input x (".concat(e.rank,")"));return M.Gg6(e,t)}function Ba(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return M.nGf(e,t,n,r,i)}function za(e,t,n,r){if(e.rank<2||t.rank<2)throw new Fi("dot requires both inputs to be rank >= 2"+" but got x shape = ".concat(e.shape," and y shape = ").concat(t.shape));if(t.rank>=3&&e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new Fi("If rank y >= 3, then the second last dim"+" of y must equal the last dim of x but got x shape = ".concat(e.shape," and ")+" y shape = ".concat(t.shape));if(2===e.rank&&2===t.rank){return M.imm.matMul({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?Wa(e.rank,r,"channelsLast"):null,activation:n})}var i=e.shape.slice(),a=i.pop();e=M.XLQ(e,[-1,a]);var o=t.shape.slice(),s=o.pop(),u=o.pop(),l=[].concat((0,vr.Z)(o),[s]),c=Array.from({length:t.rank},(function(e,n){return 0===n?t.rank-2:n<=t.rank-2?n-1:n}));t=M.XLQ(M.p4s(t,c),[u,-1]);var d=[].concat((0,vr.Z)(i),(0,vr.Z)(l));return M.XLQ(M.imm.matMul({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?Wa(e.rank,r,"channelsLast"):null,activation:n}),d)}function Va(e,t,n){return(0,M.lub)((function(){return t=Array.isArray(t)?(0,M.RRF)(t,"int32"):M.pju(t,"int32"),M.Iqj(e,t,n)}))}function ja(e){return M.dC7(e,e)}function Wa(e,t,n){var r=t.shape;if(1!==t.rank&&t.rank!==e)throw new Li("Unexpected bias dimensions: ".concat(t.rank)+"; expected it to be 1 or ".concat(e));if(5===e){if("channelsFirst"===n)return 1===r.length?M.XLQ(t,[1,r[0],1,1,1]):M.XLQ(t,[1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?M.XLQ(t,[1,1,1,1,r[0]]):M.XLQ(t,[1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?M.XLQ(t,[1,r[0],1,1]):M.XLQ(t,[1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?M.XLQ(t,[1,1,1,r[0]]):M.XLQ(t,[1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?M.XLQ(t,[1,r[0],1]):M.XLQ(t,[1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?M.XLQ(t,[1,1,r[0]]):M.XLQ(t,[1].concat(r))}else if(e<3)return t;throw new Li("Unsupported input rank by biasAdd: ".concat(t.rank))}function Ua(e,t,n){return(0,M.lub)((function(){return null==n&&(n="channelsLast"),ma(n),M.IHx(e,Wa(e.rank,t,n))}))}function Ha(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1!==t)throw new Fi("Support for alpha values other than 1 (".concat(t,") is not implemented ")+"yet.");return M.pyx(e)}function Ga(e,t,n,r){return(0,M.lub)((function(){return M.rvX(e,t,n,r)}))}function Xa(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?e():t()}var qa=["fanIn","fanOut","fanAvg"],Ya=["normal","uniform","truncatedNormal"];var Ka=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"fromConfigUsesCustomObjects",value:function(){return!1}},{key:"getConfig",value:function(){return{}}}]),n}(M.m7h.Serializable),Qa=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"apply",value:function(e,t){return(0,M.lls)(e,t)}}]),n}(Ka);Qa.className="Zeros",M.m7h.registerClass(Qa);var Ja=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"apply",value:function(e,t){return(0,M.iUs)(e,t)}}]),n}(Ka);Ja.className="Ones",M.m7h.registerClass(Ja);var $a=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;if((0,Ci.Z)(this,n),r=t.call(this),"object"!==typeof e)throw new Li("Expected argument of type ConstantConfig but got ".concat(e));if(void 0===e.value)throw new Li("config must have value set but got ".concat(e));return r.value=e.value,r}return(0,ki.Z)(n,[{key:"apply",value:function(e,t){var n=this;return(0,M.lub)((function(){return(0,M.dC7)((0,M.iD$)(n.value),(0,M.iUs)(e,t))}))}},{key:"getConfig",value:function(){return{value:this.value}}}]),n}(Ka);$a.className="Constant",M.m7h.registerClass($a);var eo=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this)).DEFAULT_MINVAL=-.05,r.DEFAULT_MAXVAL=.05,r.minval=e.minval||r.DEFAULT_MINVAL,r.maxval=e.maxval||r.DEFAULT_MAXVAL,r.seed=e.seed,r}return(0,ki.Z)(n,[{key:"apply",value:function(e,t){return(0,M.LGj)(e,this.minval,this.maxval,t)}},{key:"getConfig",value:function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}]),n}(Ka);eo.className="RandomUniform",M.m7h.registerClass(eo);var to=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this)).DEFAULT_MEAN=0,r.DEFAULT_STDDEV=.05,r.mean=e.mean||r.DEFAULT_MEAN,r.stddev=e.stddev||r.DEFAULT_STDDEV,r.seed=e.seed,r}return(0,ki.Z)(n,[{key:"apply",value:function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Fi("randomNormal does not support dType ".concat(t,"."));return Ba(e,this.mean,this.stddev,t,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),n}(Ka);to.className="RandomNormal",M.m7h.registerClass(to);var no=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this)).DEFAULT_MEAN=0,r.DEFAULT_STDDEV=.05,r.mean=e.mean||r.DEFAULT_MEAN,r.stddev=e.stddev||r.DEFAULT_STDDEV,r.seed=e.seed,r}return(0,ki.Z)(n,[{key:"apply",value:function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Fi("truncatedNormal does not support dType ".concat(t,"."));return(0,M.Xu6)(e,this.mean,this.stddev,t,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),n}(Ka);no.className="TruncatedNormal",M.m7h.registerClass(no);var ro=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this)).gain=null!=e.gain?e.gain:1,r}return(0,ki.Z)(n,[{key:"apply",value:function(e,t){var n=this;return(0,M.lub)((function(){if(2!==e.length||e[0]!==e[1])throw new Li("Identity matrix initializer can only be used for 2D square matrices.");return(0,M.dC7)(n.gain,(0,M.iyy)(e[0]))}))}},{key:"getConfig",value:function(){return{gain:this.gain}}}]),n}(Ka);ro.className="Identity",M.m7h.registerClass(ro);var io=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r,i;if((0,Ci.Z)(this,n),r=t.call(this),e.scale<0)throw new Li("scale must be a positive float. Got: ".concat(e.scale));return r.scale=null==e.scale?1:e.scale,r.mode=null==e.mode?"fanIn":e.mode,i=r.mode,ea(qa,"FanMode",i),r.distribution=null==e.distribution?"normal":e.distribution,function(e){ea(Ya,"Distribution",e)}(r.distribution),r.seed=e.seed,r}return(0,ki.Z)(n,[{key:"apply",value:function(e,t){var n=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"channelsLast";if(ma(r),2===e.length)t=e[0],n=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===r){var i=ka(e,2);t=e[1]*i,n=e[0]*i}else if("channelsLast"===r){var a=ka(e,0,e.length-2);t=e[e.length-2]*a,n=e[e.length-1]*a}}else{var o=ka(e);t=Math.sqrt(o),n=Math.sqrt(o)}return[t,n]}(e),r=n[0],i=n[1],a=this.scale;if("fanIn"===this.mode?a/=Math.max(1,r):"fanOut"===this.mode?a/=Math.max(1,i):a/=Math.max(1,(r+i)/2),"normal"===this.distribution){var o=Math.sqrt(a);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Fi("".concat(this.getClassName()," does not support dType ").concat(t,"."));return(0,M.Xu6)(e,0,o,t,this.seed)}var s=Math.sqrt(3*a);return(0,M.LGj)(e,-s,s,t)}},{key:"getConfig",value:function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}]),n}(Ka);io.className="VarianceScaling",M.m7h.registerClass(io);var ao=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),t.call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}return(0,ki.Z)(n,[{key:"getClassName",value:function(){return io.className}}]),n}(io);ao.className="GlorotUniform",M.m7h.registerClass(ao);var oo=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),t.call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}return(0,ki.Z)(n,[{key:"getClassName",value:function(){return io.className}}]),n}(io);oo.className="GlorotNormal",M.m7h.registerClass(oo);var so=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),t.call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}return(0,ki.Z)(n,[{key:"getClassName",value:function(){return io.className}}]),n}(io);so.className="HeNormal",M.m7h.registerClass(so);var uo=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),t.call(this,{scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}return(0,ki.Z)(n,[{key:"getClassName",value:function(){return io.className}}]),n}(io);uo.className="HeUniform",M.m7h.registerClass(uo);var lo=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),t.call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}return(0,ki.Z)(n,[{key:"getClassName",value:function(){return io.className}}]),n}(io);lo.className="LeCunNormal",M.m7h.registerClass(lo);var co=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),t.call(this,{scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}return(0,ki.Z)(n,[{key:"getClassName",value:function(){return io.className}}]),n}(io);co.className="LeCunNormal",M.m7h.registerClass(co);var fo=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;if((0,Ci.Z)(this,n),(r=t.call(this)).DEFAULT_GAIN=1,r.gain=null==e.gain?r.DEFAULT_GAIN:e.gain,r.seed=e.seed,null!=r.seed)throw new Fi("Random seed is not implemented for Orthogonal Initializer yet.");return r}return(0,ki.Z)(n,[{key:"apply",value:function(e,t){var n=this;return(0,M.lub)((function(){if(e.length<2)throw new Fi("Shape must be at least 2D.");e[0]*e[1]>2e3&&console.warn("Orthogonal initializer is being called on a matrix with more "+"than 2000 (".concat(e[0]*e[1],") elements: ")+"Slowness may result.");var t=Ba(e[0]>e[1]?[e[1],e[0]]:e,0,1,"float32"),r=M.$r2.gramSchmidt(t);return e[0]>e[1]&&(r=(0,M.p4s)(r)),(0,M.dC7)(n.gain,r)}))}},{key:"getConfig",value:function(){return{gain:this.gain,seed:this.seed}}}]),n}(Ka);fo.className="Orthogonal",M.m7h.registerClass(fo);var ho={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function po(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ki(e,M.m7h.SerializationMap.getMap().classNameMap,t,"initializer")}function mo(e){return qi(e)}function go(e){if("string"===typeof e){var t=e in ho?ho[e]:e;if("GlorotNormal"===t)return new oo;if("GlorotUniform"===t)return new ao;if("HeNormal"===t)return new so;if("HeUniform"===t)return new uo;if("LeCunNormal"===t)return new lo;if("LeCunUniform"===t)return new co;var n={};return n.className=t,n.config={},po(n)}return e instanceof Ka?e:po(e)}function vo(e){return Array.isArray(e)&&Array.isArray(e[0])}function yo(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function xo(e){var t;if(Array.isArray(e)){if(1!==e.length)throw new Li("Expected Tensor length to be 1; got ".concat(e.length));t=e[0]}else t=e;return t}function bo(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return e[0];throw new Li("Expected exactly 1 Shape; got ".concat(e.length))}return e}function wo(e){var t,n=0,r=(0,Si.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;0===i.shape.length?n+=1:n+=i.shape.reduce((function(e,t){return e*t}))}}catch(a){r.e(a)}finally{r.f()}return n}var _o="Variable",So=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_o,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;(0,Ci.Z)(this,e),this.dtype=null==n?"float32":n,this.shape=t.shape,this.id=oa(),r=null==r?_o:r,this.originalName=ba(r),this.name=wa(this.originalName),this.trainable_=i,this.constraint=a,this.val=M.VD$(t,this.trainable_,this.name,this.dtype)}return(0,ki.Z)(e,[{key:"read",value:function(){return this.assertNotDisposed(),this.val}},{key:"write",value:function(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}},{key:"dispose",value:function(){this.assertNotDisposed(),this.val.dispose()}},{key:"assertNotDisposed",value:function(){if(this.val.isDisposed)throw new Error("LayersVariable ".concat(this.name," is already disposed."))}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this.trainable_=e,this.val.trainable=e}}]),e}();function Co(e){return e.map((function(e){return e.read()}))}function ko(e){e.forEach((function(e){e[0].write(e[1])}))}var Do=(0,ki.Z)((function e(t){(0,Ci.Z)(this,e),this.dtype=t.dtype,this.shape=t.shape,null!=t.shape?this.ndim=t.shape.length:this.ndim=t.ndim,this.maxNDim=t.maxNDim,this.minNDim=t.minNDim,this.axes=t.axes||{}})),To=(0,ki.Z)((function e(t,n,r,i,a,o,s){(0,Ci.Z)(this,e),this.dtype=t,this.shape=n,this.sourceLayer=r,this.inputs=i,this.callArgs=a,this.outputTensorIndex=s,this.id=oa(),null!=o&&(this.originalName=ba(o),this.name=wa(this.originalName)),this.rank=n.length})),Io=0,Ao=function(){function e(t,n){(0,Ci.Z)(this,e),this.callArgs=n,this.id=Io++,this.outboundLayer=t.outboundLayer,this.inboundLayers=t.inboundLayers,this.nodeIndices=t.nodeIndices,this.tensorIndices=t.tensorIndices,this.inputTensors=t.inputTensors,this.outputTensors=t.outputTensors,this.inputMasks=t.inputMasks,this.outputMasks=t.outputMasks,this.inputShapes=t.inputShapes,this.outputShapes=t.outputShapes;var r,i=(0,Si.Z)(t.inboundLayers);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&a.outboundNodes.push(this)}}catch(o){i.e(o)}finally{i.f()}t.outboundLayer.inboundNodes.push(this)}return(0,ki.Z)(e,[{key:"getConfig",value:function(){var e,t=[],n=(0,Si.Z)(this.inboundLayers);try{for(n.s();!(e=n.n()).done;){var r=e.value;null!=r?t.push(r.name):t.push(null)}}catch(i){n.e(i)}finally{n.f()}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:t,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}]),e}(),Mo=0,Eo=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,Ci.Z)(this,n),(e=t.call(this))._callHook=null,e._addedWeightNames=[],e._stateful=!1,e.id=Mo++,e.activityRegularizer=null,e.inputSpec=null,e.supportsMasking=!1,e._trainableWeights=[],e._nonTrainableWeights=[],e._losses=[],e._updates=[],e._built=!1,e.inboundNodes=[],e.outboundNodes=[];var i=r.name;if(!i){var a=e.getClassName();i=Hi(a)+"_"+ua(a)}if(e.name=i,e.trainable_=null==r.trainable||r.trainable,null!=r.inputShape||null!=r.batchInputShape){var o;if(null!=r.batchInputShape)o=r.batchInputShape;else if(null!=r.inputShape){var s=null;null!=r.batchSize&&(s=r.batchSize),o=[s].concat(r.inputShape)}e.batchInputShape=o;var u=r.dtype;null==u&&(u=r.inputDType),null==u&&(u="float32"),e.dtype=u}return null!=r.weights?e.initialWeights=r.weights:e.initialWeights=null,e._refCount=null,e.fastWeightInitDuringBuild=!1,e}return(0,ki.Z)(n,[{key:"getNodeAtIndex",value:function(e,t){if(0===this.inboundNodes.length)throw new Oi("The layer has never been called "+"and thus has no defined ".concat(t,"."));if(this.inboundNodes.length<=e)throw new Li("Asked to get ".concat(t," at node ").concat(e,", ")+"but the layer has only ".concat(this.inboundNodes.length," inbound nodes."));return this.inboundNodes[e]}},{key:"getInputAt",value:function(e){return Wi(this.getNodeAtIndex(e,"input").inputTensors)}},{key:"getOutputAt",value:function(e){return Wi(this.getNodeAtIndex(e,"output").outputTensors)}},{key:"input",get:function(){if(this.inboundNodes.length>1)throw new Pi("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new Pi("Layer ".concat(this.name)+" is not connected, no input to return.");return Wi(this.getNodeAtIndex(0,"input").inputTensors)}},{key:"output",get:function(){if(0===this.inboundNodes.length)throw new Pi("Layer ".concat(this.name)+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new Pi("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return Wi(this.getNodeAtIndex(0,"output").outputTensors)}},{key:"losses",get:function(){return this._losses}},{key:"calculateLosses",value:function(){return this.losses.map((function(e){return e()}))}},{key:"updates",get:function(){return this._updates}},{key:"built",get:function(){return this._built},set:function(e){this._built=e}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this._trainableWeights.forEach((function(t){return t.trainable=e})),this.trainable_=e}},{key:"trainableWeights",get:function(){return this.trainable_?this._trainableWeights.filter((function(e){return e.trainable})):[]},set:function(e){this._trainableWeights=e}},{key:"nonTrainableWeights",get:function(){return this.trainable?this._trainableWeights.filter((function(e){return!e.trainable})).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)},set:function(e){this._nonTrainableWeights=e}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"stateful",get:function(){return this._stateful}},{key:"resetStates",value:function(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}},{key:"assertInputCompatibility",value:function(e){if(e=Ui(e),null!=this.inputSpec&&0!==this.inputSpec.length){var t=Ui(this.inputSpec);if(e.length!==t.length)throw new Li("Layer ".concat(this.name," expects ").concat(t.length," inputs, ")+"but it received ".concat(e.length," input tensors. ")+"Input received: ".concat(e));for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(null!=i){var a=r.rank;if(null!=i.ndim&&a!==i.ndim)throw new Li("Input ".concat(n," is incompatible with layer ").concat(this.name,": ")+"expected ndim=".concat(i.ndim,", found ndim=").concat(a));if(null!=i.maxNDim&&a>i.maxNDim)throw new Li("Input ".concat(n," is incompatible with layer ").concat(this.name)+": expected max_ndim=".concat(i.maxNDim,", found ndim=").concat(a));if(null!=i.minNDim&&a<i.minNDim)throw new Li("Input ".concat(n," is incompatible with layer ").concat(this.name)+": expected min_ndim=".concat(i.minNDim,", found ndim=").concat(a,"."));if(null!=i.dtype&&r.dtype!==i.dtype)throw new Li("Input ".concat(n," is incompatible with layer ").concat(this.name," ")+": expected dtype=".concat(i.dtype,", found dtype=").concat(r.dtype,"."));if(i.axes){var o=r.shape;for(var s in i.axes){var u=Number(s),l=i.axes[s],c=u>=0?o[u]:o[o.length+u];if(null!=l&&-1===[l,null].indexOf(c))throw new Li("Input ".concat(n," is incompatible with layer ")+"".concat(this.name,": expected axis ").concat(u," of input shape to ")+"have value ".concat(l," but got shape ").concat(o,"."))}}if(null!=i.shape)for(var d=0;d<i.shape.length;++d){var f=i.shape[d],h=r.shape[d];if(null!=f&&null!=h&&f!==h)throw new Li("Input ".concat(n," is incompatible with layer ")+"".concat(this.name,": expected shape=").concat(i.shape,", ")+"found shape=".concat(r.shape,"."))}}}}}},{key:"call",value:function(e,t){return e}},{key:"invokeCallHook",value:function(e,t){null!=this._callHook&&this._callHook(e,t)}},{key:"setCallHook",value:function(e){this._callHook=e}},{key:"clearCallHook",value:function(){this._callHook=null}},{key:"apply",value:function(e,t){var n=this;t=t||{},this.assertNotDisposed();var r,i=Ui(e),a=!0,o=(0,Si.Z)(i);try{for(o.s();!(r=o.n()).done;){if(!(r.value instanceof To)){a=!1;break}}}catch(c){o.e(c)}finally{o.f()}var s,u=!0,l=(0,Si.Z)(i);try{for(l.s();!(s=l.n()).done;){if(s.value instanceof To){u=!1;break}}}catch(c){l.e(c)}finally{l.f()}if(a===u)throw new Li("Arguments to apply() must be all SymbolicTensors or all Tensors");return xa(this.name,(function(){if(!n.built){n.assertInputCompatibility(e);var r,a=[],o=(0,Si.Z)(Ui(e));try{for(o.s();!(r=o.n()).done;){var s=r.value;a.push(s.shape)}}catch(c){o.e(c)}finally{o.f()}n.build(Wi(a)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights),null===n._refCount&&u&&(n._refCount=1)}if(n.assertInputCompatibility(e),u){var l,d=n.call(e,t),f=Ui(d),h=[],p=(0,Si.Z)(f);try{for(p.s();!(l=p.n()).done;){var m=l.value;-1!==i.indexOf(m)&&(m=m.clone()),h.push(m)}}catch(c){p.e(c)}finally{p.f()}if(d=Wi(h),null!=n.activityRegularizer)throw new Fi("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return d}var g,v=function(e){e=Ui(e);var t,n=[],r=(0,Si.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(i.shape)}}catch(c){r.e(c)}finally{r.f()}return Wi(n)}(e),y=n.computeOutputShape(v),x="float32";if(n.warnOnIncompatibleInputShape(Array.isArray(e)?v[0]:v),g=null!=y&&y.length>0&&Array.isArray(y[0])?y.map((function(r,i){return new To(x,r,n,Ui(e),t,n.name,i)})):new To(x,y,n,Ui(e),t,n.name),n.addInboundNode(e,g,null,null,v,y,t),n._refCount++,null!=n.activityRegularizer)throw new Fi("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return g}))}},{key:"warnOnIncompatibleInputShape",value:function(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+"".concat(JSON.stringify(e),") does not match that of the ")+"batchInputShape (".concat(JSON.stringify(this.batchInputShape),") ")+"of the layer ".concat(this.name));else{var t=!1;this.batchInputShape.forEach((function(n,r){null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)})),t&&console.warn("The shape of the input tensor "+"(".concat(JSON.stringify(e),") does not ")+"match the expectation of layer ".concat(this.name,": ")+"".concat(JSON.stringify(this.batchInputShape)))}}},{key:"outputShape",get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new Pi("The layer ".concat(this.name," has never been called and thus has no ")+"defined output shape.");var e,t=[],n=(0,Si.Z)(this.inboundNodes);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=JSON.stringify(r.outputShapes);-1===t.indexOf(i)&&t.push(i)}}catch(o){n.e(o)}finally{n.f()}if(1===t.length){var a=this.inboundNodes[0].outputShapes;return Array.isArray(a)&&Array.isArray(a[0])&&1===a.length?a[0]:a}throw new Pi("The layer ".concat(this.name," has multiple inbound nodes with different ")+'output shapes. Hence the notion of "output shape" is ill-defined for the layer.')}},{key:"countParams",value:function(){if(!this.built)throw new Oi("You tried to call countParams() on ".concat(this.name,", ")+"but the layer is not built yet. Build it first by calling build(batchInputShape).");return wo(this.weights)}},{key:"build",value:function(e){this.built=!0}},{key:"getWeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Co(e?this.trainableWeights:this.weights)}},{key:"setWeights",value:function(e){var t=this;(0,M.lub)((function(){var n=t.weights;if(n.length!==e.length)throw new Li('You called setWeights(weights) on layer "'.concat(t.name,'" ')+"with a weight list of length ".concat(e.length,", ")+"but the layer was expecting ".concat(n.length," weights. ")+"Provided weights: ".concat(e,"..."));if(0!==n.length){for(var r=[],i=Co(n),a=0;a<i.length;++a){var o=i[a],s=n[a],u=e[a];if(!M.D5U.arraysEqual(o.shape,u.shape))throw new Li("Layer weight shape ".concat(o.shape," ")+"not compatible with provided weight shape ".concat(u.shape));r.push([s,u])}ko(r)}}))}},{key:"addWeight",value:function(e,t,n,r,i,a,o,s){if(-1!==this._addedWeightNames.indexOf(e))throw new Li("Duplicate weight name ".concat(e," for layer ").concat(this.name));this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=null!=s?s():go("zeros"));var u=r.apply(t,n),l=new So(u,n,e,a,o);return u.dispose(),null!=i&&this.addLoss((function(){return i.apply(l.read())})),null==a&&(a=!0),a?this._trainableWeights.push(l):this._nonTrainableWeights.push(l),l}},{key:"setFastWeightInitDuringBuild",value:function(e){this.fastWeightInitDuringBuild=e}},{key:"addLoss",value:function(e){var t;null==e||Array.isArray(e)&&0===e.length||(e=Ui(e),void 0!==this._losses&&null!==this._losses&&(t=this.losses).push.apply(t,(0,vr.Z)(e)))}},{key:"computeOutputShape",value:function(e){return e}},{key:"computeMask",value:function(e,t){var n=this;if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.");t.forEach((function(e){if(null!=e)throw new TypeError("Layer ".concat(n.name," does not support masking, ")+"but was passed an inputMask.")}))}return null}return t}},{key:"addInboundNode",value:function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=Ui(e);t=Ui(t),n=Ui(n),r=Ui(r),i=yo(i),a=yo(a);var u,l=[],c=[],d=[],f=(0,Si.Z)(s);try{for(f.s();!(u=f.n()).done;){var h=u.value;l.push(h.sourceLayer),c.push(h.nodeIndex),d.push(h.tensorIndex)}}catch(m){f.e(m)}finally{f.f()}new Ao({outboundLayer:this,inboundLayers:l,nodeIndices:c,tensorIndices:d,inputTensors:s,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:i,outputShapes:a},o);for(var p=0;p<t.length;p++)t[p].sourceLayer=this,t[p].nodeIndex=this.inboundNodes.length-1,t[p].tensorIndex=p}},{key:"getConfig",value:function(){var e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}},{key:"disposeWeights",value:function(){return this.weights.forEach((function(e){return e.dispose()})),this.weights.length}},{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error("Layer '".concat(this.name,"' is already disposed."))}},{key:"dispose",value:function(){if(!this.built)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been ")+"built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been used ")+"yet.");this.assertNotDisposed();var e=0;return 0===--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}],[{key:"nodeKey",value:function(e,t){return e.name+"_ib-"+t.toString()}}]),n}(M.m7h.Serializable);function No(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];var r=t.inboundNodes[n];if(0===r.inboundLayers.length)return r.inputTensors;for(var i=[],a=0;a<r.inboundLayers.length;a++){var o,s=No(r.inputTensors[a],r.inboundLayers[a],r.nodeIndices[a]),u=(0,Si.Z)(s);try{for(u.s();!(o=u.n()).done;){var l=o.value;-1===i.indexOf(l)&&i.push(l)}}catch(c){u.e(c)}finally{u.f()}}return i}var Ro=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;if((0,Ci.Z)(this,n),r=t.call(this,{dtype:e.dtype,name:null!=e.name?e.name:ua("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),r.trainable=!1,r.built=!0,r.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new Li("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var i=e.batchInputShape;if(null==i){if(null==e.inputShape)throw new Li("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");i=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new Li("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");var a=e.dtype||"float32";r.batchInputShape=i,r.dtype=a,r.inputSpec=[{shape:i}];var o=new To(r.dtype,r.batchInputShape,(0,Di.Z)(r),[],{},r.name);return o.nodeIndex=0,o.tensorIndex=0,new Ao({outboundLayer:(0,Di.Z)(r),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[o],outputTensors:[o],inputMasks:[null],outputMasks:[null],inputShapes:[i],outputShapes:[i]}),r}return(0,ki.Z)(n,[{key:"apply",value:function(e,t){throw new Li("Cannot pass any input to an "+"InputLayer's apply() method. InputLayer name: ".concat(this.name))}},{key:"dispose",value:function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}},{key:"getConfig",value:function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}]),n}(Eo);function Po(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new Li("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));var n=e.dtype;return null==n&&(n="float32"),new Ro({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}Ro.className="InputLayer",M.m7h.registerClass(Ro);var Oo=function(){function e(t){if((0,Ci.Z)(this,e),this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof e)for(var n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(null==t)return;var r,i=(0,Si.Z)(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.add(a.key,a.value)}}catch(o){i.e(o)}finally{i.f()}}}return(0,ki.Z)(e,[{key:"add",value:function(e,t,n){if(null!=this.id2Value[e.id])throw new Li("Duplicate key: name=".concat(e.name,", id=").concat(e.id));return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return(0,M.pju)(t,e.dtype)}catch(n){throw new Li("The dtype of the feed (".concat(t.dtype,") can not be cast to the dtype ")+"of the key '".concat(e.name,"' (").concat(e.dtype,")."))}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}},{key:"addFeed",value:function(e){this.add(e.key,e.value)}},{key:"hasKey",value:function(e){return null!=this.id2Value[e.id]}},{key:"names",value:function(){return Object.keys(this.name2Id)}},{key:"getValue",value:function(e){if(e instanceof To){if(null==this.id2Value[e.id])throw new Li("Nonexistent key: ".concat(e.name));return this.id2Value[e.id]}var t=this.name2Id[e];if(null==t)throw new Li("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Value[t]}},{key:"getMask",value:function(e){if(e instanceof To){if(null==this.id2Value[e.id])throw new Li("Nonexistent key: ".concat(e.name));return this.id2Mask[e.id]}var t=this.name2Id[e];if(null==t)throw new Li("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Mask[t]}},{key:"disposeMasks",value:function(){null!=this.id2Mask&&(0,M.B90)(this.id2Mask)}}]),e}(),Lo=new Bi,Fo=new Bi;function Zo(e,t,n,r){var i,a=null!=n&&n.training,o=Array.isArray(e),s=o?e:[e],u=s.map((function(e){return e.name})),l=[],c=t.names(),d=(0,Si.Z)(u);try{for(d.s();!(i=d.n()).done;){var f=i.value;-1!==c.indexOf(f)?l.push(t.getValue(f)):l.push(null)}}catch(Z){d.e(Z)}finally{d.f()}null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);var h,p=u.join(",")+"|"+t.names().sort().join(","),m=Lo.get(p);if(null==m){var g=function(e,t){M.D5U.assert(null!=e&&e.length>0,(function(){return"Expected at least one fetch, got none"}));var n=[],r={};if(1===e.length){var i=zo(e[0],t);n=i.sorted,r=i.recipientMap}else{var a,o=new Set,s=(0,Si.Z)(e);try{for(s.s();!(a=s.n()).done;){var u,l=zo(a.value,t),c=l.sorted,d=l.recipientMap,f=(0,Si.Z)(c);try{for(f.s();!(u=f.n()).done;){var h=u.value;o.has(h.name)||(n.push(h),o.add(h.name))}}catch(Z){f.e(Z)}finally{f.f()}var p=function(e){null==r[e]&&(r[e]=new Set),d[e].forEach((function(t){return r[e].add(t)}))};for(var m in d)p(m)}}catch(Z){s.e(Z)}finally{s.f()}}return{sorted:n,recipientCounts:Bo(r)}}(s,t);m=g.sorted,h=g.recipientCounts,Lo.put(p,m),Fo.put(p,h)}h={},a||Object.assign(h,Fo.get(p));for(var v=new Oo(t),y=0;y<m.length;++y){if(null!=r){var x=(0,M.sq6)().numTensors;x>r.maxNumTensors&&(r.maxNumTensors=x),x<r.minNumTensors&&(r.minNumTensors=x)}var b=m[y],w=b.sourceLayer;if(!(w instanceof Ro)){var _,S=[],C=[],k=[],D=!1,T=(0,Si.Z)(b.inputs);try{for(T.s();!(_=T.n()).done;){var I=_.value,A=v.getValue(I),E=v.getMask(I);S.push(A),C.push(E),null!=E&&(D=!0),a||(h[I.name]--,0!==h[I.name]||t.hasKey(I)||-1!==u.indexOf(I.name)||A.isDisposed||!0===I.sourceLayer.stateful||k.push(A))}}catch(Z){T.e(Z)}finally{T.f()}D&&((n=n||{}).mask=C[0]);var N=Ui(w.apply(S,n)),R=null;w.supportsMasking&&(R=w.computeMask(S,C));for(var P=Vo(b),O=Array.isArray(P)?P:[P],L=0;L<O.length;++L){v.hasKey(O[L])||v.add(O[L],N[L],Array.isArray(R)?R[0]:R);var F=u.indexOf(O[L].name);-1!==F&&(l[F]=N[L])}a||(0,M.B90)(k)}}return v.disposeMasks(),o?l:l[0]}function Bo(e){var t={};for(var n in e)t[n]=e[n].size;return t}function zo(e,t){var n,r=new Set,i=[],a={},o=(0,Si.Z)(t.names());try{for(o.s();!(n=o.n()).done;){var s=n.value;r.add(s)}}catch(m){o.e(m)}finally{o.f()}var u=[],l=[];for(u.push(e);u.length>0;){var c=u[u.length-1];if(r.has(c.name))u.pop();else{var d=l[l.length-1]===u.length-1;if(0===c.inputs.length||d)u.pop(),i.push(c),r.add(c.name),d&&l.pop();else{l.push(u.length-1);var f,h=(0,Si.Z)(c.inputs);try{for(h.s();!(f=h.n()).done;){var p=f.value;null==a[p.name]&&(a[p.name]=new Set),a[p.name].add(c.name),r.has(p.name)||u.push(p)}}catch(m){h.e(m)}finally{h.f()}}}}return{sorted:i,recipientMap:a}}function Vo(e){var t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{for(var n=null,r=0;r<e.sourceLayer.inboundNodes.length;++r){var i,a=(0,Si.Z)(e.sourceLayer.inboundNodes[r].outputTensors);try{for(a.s();!(i=a.n()).done;){if(i.value.id===e.id){n=r;break}}}catch(o){a.e(o)}finally{a.f()}}t=e.sourceLayer.getOutputAt(n)}return t}function jo(e,t){return(0,M.lub)((function(){return M._b3(M.Smz(M.dC7(e,e),t,!0))}))}(0,M.OBj)().registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",(function(){return 100}),(function(e){null!=Lo&&Lo.setMaxEntries(e),null!=Fo&&Fo.setMaxEntries(e)}));var Wo=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"getConfig",value:function(){return{}}}]),n}(M.m7h.Serializable),Uo=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this)).defaultMaxValue=2,r.defaultAxis=0,r.maxValue=null!=e.maxValue?e.maxValue:r.defaultMaxValue,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return(0,ki.Z)(n,[{key:"apply",value:function(e){var t=this;return(0,M.lub)((function(){var n=jo(e,t.axis),r=M.iUl(n,0,t.maxValue);return M.dC7(e,M.hiC(r,M.IHx(Aa(),n)))}))}},{key:"getConfig",value:function(){return{maxValue:this.maxValue,axis:this.axis}}}]),n}(Wo);Uo.className="MaxNorm",M.m7h.registerClass(Uo);var Ho=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this)).defaultAxis=0,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return(0,ki.Z)(n,[{key:"apply",value:function(e){var t=this;return(0,M.lub)((function(){return M.hiC(e,M.IHx(Aa(),jo(e,t.axis)))}))}},{key:"getConfig",value:function(){return{axis:this.axis}}}]),n}(Wo);Ho.className="UnitNorm",M.m7h.registerClass(Ho);var Go=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"apply",value:function(e){return M.UYe(e)}}]),n}(Wo);Go.className="NonNeg",M.m7h.registerClass(Go);var Xo=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this)).defaultMinValue=0,r.defaultMaxValue=1,r.defaultRate=1,r.defaultAxis=0,r.minValue=null!=e.minValue?e.minValue:r.defaultMinValue,r.maxValue=null!=e.maxValue?e.maxValue:r.defaultMaxValue,r.rate=null!=e.rate?e.rate:r.defaultRate,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return(0,ki.Z)(n,[{key:"apply",value:function(e){var t=this;return(0,M.lub)((function(){var n=jo(e,t.axis),r=M.IHx(M.dC7(t.rate,M.iUl(n,t.minValue,t.maxValue)),M.dC7(1-t.rate,n));return M.dC7(e,M.hiC(r,M.IHx(Aa(),n)))}))}},{key:"getConfig",value:function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}]),n}(Wo);Xo.className="MinMaxNorm",M.m7h.registerClass(Xo);var qo={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function Yo(e){return qi(e)}function Ko(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ki(e,M.m7h.SerializationMap.getMap().classNameMap,t,"constraint")}function Qo(e){return null==e?null:"string"===typeof e?Ko({className:e in qo?qo[e]:e,config:{}}):e instanceof Wo?e:Ko(e)}function Jo(e){return new Uo(e)}function $o(e){return new Ho(e)}function es(){return new Go}function ts(e){return new Xo(e)}function ns(){return new Qa}function rs(){return new Ja}function is(e){return new $a(e)}function as(e){return new eo(e)}function os(e){return new to(e)}function ss(e){return new no(e)}function us(e){return new ro(e)}function ls(e){return new io(e)}function cs(e){return new ao(e)}function ds(e){return new oo(e)}function fs(e){return new so(e)}function hs(e){return new uo(e)}function ps(e){return new lo(e)}function ms(e){return new co(e)}function gs(e){return new fo(e)}var vs,ys=n(15861),xs=n(87757),bs=n.n(xs);function ws(e){return _s.apply(this,arguments)}function _s(){return(_s=(0,ys.Z)(bs().mark((function e(t){var n,r,i,a,o,s,u,l;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:for(a in n=[],r=[],i=[],t)"number"!==typeof(o=t[a])&&(s=o,n.push(s.data()),r.push(a),i.push(s));if(!(n.length>0)){e.next=12;break}return e.next=9,Promise.all(n);case 9:for(u=e.sent,l=0;l<u.length;++l)t[r[l]]=u[l][0];(0,M.B90)(i);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ss(e){if(null!=e)for(var t in e){var n=e[t];"number"!==typeof n&&n.dispose()}}!function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(vs||(vs={}));var Cs=function(){function e(){(0,Ci.Z)(this,e),this.validationData=null}return(0,ki.Z)(e,[{key:"setParams",value:function(e){this.params=e}},{key:"onEpochBegin",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=(0,ys.Z)(bs().mark((function e(t){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=(0,ys.Z)(bs().mark((function e(t){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"setModel",value:function(e){}}]),e}(),ks=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;(0,Ci.Z)(this,e),null==t&&(t=[]),this.callbacks=t,this.queueLength=n}return(0,ki.Z)(e,[{key:"append",value:function(e){this.callbacks.push(e)}},{key:"setParams",value:function(e){var t,n=(0,Si.Z)(this.callbacks);try{for(n.s();!(t=n.n()).done;){t.value.setParams(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"setModel",value:function(e){var t,n=(0,Si.Z)(this.callbacks);try{for(n.s();!(t=n.n()).done;){t.value.setModel(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"onEpochBegin",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){var r,i,a;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=(0,Si.Z)(this.callbacks),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=10;break}return a=i.value,e.next=8,a.onEpochBegin(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){var r,i,a;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=(0,Si.Z)(this.callbacks),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=10;break}return a=i.value,e.next=8,a.onEpochEnd(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){var r,i,a;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=(0,Si.Z)(this.callbacks),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=10;break}return a=i.value,e.next=8,a.onBatchBegin(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){var r,i,a;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=(0,Si.Z)(this.callbacks),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=10;break}return a=i.value,e.next=8,a.onBatchEnd(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=(0,ys.Z)(bs().mark((function e(t){var n,r,i;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(t={}),n=(0,Si.Z)(this.callbacks),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i.onTrainBegin(t);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=(0,ys.Z)(bs().mark((function e(t){var n,r,i;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(t={}),n=(0,Si.Z)(this.callbacks),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i.onTrainEnd(t);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ds=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.call(this)}return(0,ki.Z)(n,[{key:"onEpochBegin",value:function(){var e=(0,ys.Z)(bs().mark((function e(t){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.seen=0,this.totals={};case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){var r,i,a,o=this;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in null==n&&(n={}),r=null==n.size?0:n.size,this.seen+=r,i=function(e){var t=n[e];if("number"===typeof t)o.totals.hasOwnProperty(e)||(o.totals[e]=0),o.totals[e]=o.totals[e]+t*r;else{var i;e in o.totals?i=o.totals[e]:o.totals[e]=0;var a=(0,M.lub)((function(){return(0,M.IHx)(o.totals[e],(0,M.dC7)(t,r))}));o.totals[e]=a,null!=i&&i.dispose()}},n)i(a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){var r,i,a,o=this;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n){e.next=19;break}r=(0,Si.Z)(this.params.metrics),e.prev=2,a=function(){var e=i.value;if(null==o.totals[e])return"continue";"number"===typeof o.totals[e]?n[e]=o.totals[e]/o.seen:(0,M.lub)((function(){var t=(0,M.dC7)((0,M.hiC)(1,o.seen),o.totals[e]);n[e]=t,o.totals[e].dispose(),(0,M.CnY)(n[e])}))},r.s();case 5:if((i=r.n()).done){e.next=11;break}if("continue"!==a()){e.next=9;break}return e.abrupt("continue",9);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[2,13,16,19]])})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Cs),Ts=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"onTrainBegin",value:function(){var e=(0,ys.Z)(bs().mark((function e(t){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.epoch=[],this.history={};case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){var r;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in null==n&&(n={}),this.epoch.push(t),n)null==this.history[r]&&(this.history[r]=[]),this.history[r].push(n[r]);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"syncData",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t,n,r,i,a,o,s,u,l;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in t=[],n=[],r=[],this.history)for(a=this.history[i],o=0;o<a.length;++o)"number"!==typeof a[o]&&(s=a[o],t.push(s.data()),n.push(i),r.push(o));return e.next=6,Promise.all(t);case 6:for(u=e.sent,l=0;l<u.length;++l)this.history[n[l]][r[l]].dispose(),this.history[n[l]][r[l]]=u[l][0];case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Cs),Is=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e,r){var i;if((0,Ci.Z)(this,n),(i=t.call(this)).currentEpoch=0,i.nowFunc=e.nowFunc,i.nextFrameFunc=e.nextFrameFunc||M.glt,i.yieldEvery=r||"auto","auto"===i.yieldEvery&&(i.yieldEvery=125),"never"===i.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");return M.D5U.isNumber(i.yieldEvery)&&(i.maybeWait=function(e,t,n){var r,i=null!=n?n():M.D5U.now();return function(){var a=null!=n?n():M.D5U.now();return a-i<t?r:(i=a,r=e.apply(void 0,arguments))}}(i.maybeWait.bind((0,Di.Z)(i)),i.yieldEvery,i.nowFunc)),i.trainBegin=e.onTrainBegin,i.trainEnd=e.onTrainEnd,i.epochBegin=e.onEpochBegin,i.epochEnd=e.onEpochEnd,i.batchBegin=e.onBatchBegin,i.batchEnd=e.onBatchEnd,i.yield=e.onYield,i}return(0,ki.Z)(n,[{key:"maybeWait",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n,r){var i;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=[],null==this.yield){e.next=5;break}return e.next=4,ws(r);case 4:i.push(this.yield(t,n,r));case 5:return i.push(this.nextFrameFunc()),e.next=8,Promise.all(i);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"onEpochBegin",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentEpoch=t,null==this.epochBegin){e.next=6;break}return e.next=4,ws(n);case 4:return e.next=6,this.epochBegin(t,n);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){var r;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],null==this.epochEnd){e.next=5;break}return e.next=4,ws(n);case 4:r.push(this.epochEnd(t,n));case 5:return"epoch"===this.yieldEvery&&r.push(this.nextFrameFunc()),e.next=8,Promise.all(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.batchBegin){e.next=5;break}return e.next=3,ws(n);case 3:return e.next=5,this.batchBegin(t,n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){var r;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],null==this.batchEnd){e.next=5;break}return e.next=4,ws(n);case 4:r.push(this.batchEnd(t,n));case 5:return"batch"===this.yieldEvery?r.push(this.nextFrameFunc()):M.D5U.isNumber(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,t,n)),e.next=8,Promise.all(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=(0,ys.Z)(bs().mark((function e(t){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.trainBegin){e.next=5;break}return e.next=3,ws(t);case 3:return e.next=5,this.trainBegin(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=(0,ys.Z)(bs().mark((function e(t){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.trainEnd){e.next=5;break}return e.next=3,ws(t);case 3:return e.next=5,this.trainEnd(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Cs);function As(e,t){return null==e&&(e={}),e instanceof Cs?[e]:Array.isArray(e)&&e[0]instanceof Cs?e:Ui(e).map((function(e){return new Is(e,t)}))}var Ms=function(){function e(){(0,Ci.Z)(this,e)}return(0,ki.Z)(e,null,[{key:"registerCallbackConstructor",value:function(t,n){M.D5U.assert(t>=0&&Number.isInteger(t),(function(){return"Verbosity level is expected to be an integer >= 0, "+"but got ".concat(t)})),e.checkForDuplicate(n),null==e.constructors[t]&&(e.constructors[t]=[]),e.constructors[t].push(n)}},{key:"checkForDuplicate",value:function(t){for(var n in e.constructors){e.constructors[+n].forEach((function(e){if(e===t)throw new Li("Duplicate callback constructor.")}))}}},{key:"clear",value:function(){e.constructors={}}},{key:"createCallbacks",value:function(t){var n=[];for(var r in e.constructors){var i=+r;t>=i&&n.push.apply(n,(0,vr.Z)(e.constructors[i]))}return n.map((function(e){return new e}))}}]),e}();function Es(e,t,n,r,i,a,o,s,u){var l=new Ts,c=[new Ds].concat((0,vr.Z)(Ms.createCallbacks(t)));null!=e&&c.push.apply(c,(0,vr.Z)(e)),c.push(l);var d=new ks(c);return d.setParams({epochs:n,initialEpoch:r,samples:i,steps:a,batchSize:o,verbose:t,doValidation:s,metrics:u}),{callbackList:d,history:l}}function Ns(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,Ai.Z)(e)););return e}function Rs(){return Rs="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ns(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Rs.apply(this,arguments)}function Ps(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ki(e,M.m7h.SerializationMap.getMap().classNameMap,t,"layer",n)}function Os(e,t){return(0,M.lub)((function(){"float32"!==e.dtype&&(e=M.pju(e,"float32"));var n=M.Smz(ja(e),t,!0),r=M.hlL(n.shape,Aa()),i=M._b3(M.gWQ(n,r));return M.hiC(e,i)}))}function Ls(e,t){return(0,M.lub)((function(){return M.J69(ja(M.luU(t,e)),-1)}))}function Fs(e,t){return(0,M.lub)((function(){return M.J69(M.WnP(M.luU(t,e)),-1)}))}function Zs(e,t){return(0,M.lub)((function(){var n=M.luU(e,t),r=M.iUl(M.WnP(e),Aa(),Number.MAX_VALUE),i=M.WnP(M.hiC(n,r));return M.dC7(100,M.J69(i,-1))}))}function Bs(e,t){return(0,M.lub)((function(){var n=M.iUl(t,Aa(),Number.MAX_VALUE),r=M.cM7(M.IHx(1,n)),i=M.iUl(e,Aa(),Number.MAX_VALUE),a=M.cM7(M.IHx(1,i));return M.J69(ja(M.luU(r,a)),-1)}))}function zs(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,M.lub)((function(){if(n)t=M.XAC(t);else{var r=M.Smz(t,t.shape.length-1,!0);t=M.hiC(t,r)}return t=M.iUl(t,Aa(),1-Aa()),M.W76(M.Smz(M.dC7(M.pju(e,"float32"),M.cM7(t)),t.shape.length-1))}))}function Vs(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,M.lub)((function(){var r=M.pju(M.GWj(Na(e)),"int32"),i=(t=M.iUl(t,Aa(),1-Aa())).shape;return zs(M.XLQ(M.lfX(r,i[i.length-1]),i),t,n)}))}function js(e,t){return(0,M.lub)((function(){var n;return n=M.iUl(t,Aa(),1-Aa()),n=M.cM7(M.hiC(n,M.luU(1,n))),M.J69(function(e,t){if(!M.D5U.arraysEqual(e.shape,t.shape))throw new Li("logits and labels must have the same shape, but got shapes "+"".concat(JSON.stringify(e.shape)," and ").concat(JSON.stringify(t.shape)));return(0,M.lub)((function(){var n=M.UYe(t),r=M.W76(M.WnP(t));return M.IHx(M.luU(n,M.dC7(t,e)),M.Krr(M.Qqt(r)))}))}(e,n),-1)}))}function Ws(e,t){return(0,M.lub)((function(){var n=M.iUl(e,Aa(),1),r=M.iUl(t,Aa(),1);return M.Smz(M.dC7(e,M.cM7(M.hiC(n,r))),-1)}))}function Us(e,t){return(0,M.lub)((function(){var n=Os(e,-1),r=Os(t,-1),i=M.dC7(n,r);return M.W76(M.Smz(i,-1))}))}Ms.constructors={};var Hs={meanSquaredError:Ls,meanAbsoluteError:Fs,meanAbsolutePercentageError:Zs,meanSquaredLogarithmicError:Bs,squaredHinge:function(e,t){return(0,M.lub)((function(){var n=M.gWQ(0,M.luU(1,M.dC7(e,t)));return M.J69(ja(n),-1)}))},hinge:function(e,t){return(0,M.lub)((function(){var n=M.gWQ(0,M.luU(1,M.dC7(e,t)));return M.J69(n,-1)}))},categoricalHinge:function(e,t){return(0,M.lub)((function(){var n=M.Smz(M.dC7(e,t),-1),r=M.Fp7(M.dC7(M.luU(1,e),t),-1);return M.gWQ(0,M.IHx(1,M.luU(r,n)))}))},logcosh:function(e,t){return(0,M.lub)((function(){var n=Math.log(2),r=M.luU(t,e),i=M.luU(M.IHx(r,M.Wvh(M.dC7(-2,r))),n);return M.J69(i,-1)}))},categoricalCrossentropy:zs,sparseCategoricalCrossentropy:Vs,binaryCrossentropy:js,kullbackLeiblerDivergence:Ws,poisson:function(e,t){return(0,M.lub)((function(){var n=M.cM7(M.IHx(Aa(),t));return M.J69(M.luU(t,M.dC7(e,n)),-1)}))},cosineProximity:Us};function Gs(e){if("string"===typeof e){if(e in Hs)return Hs[e];var t="Unknown loss ".concat(e);throw e.toLowerCase().includes("softmaxcrossentropy")&&(t="Unknown loss ".concat(e,". ")+'Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new Li(t)}return e}function Xs(e,t){return(0,M.lub)((function(){var n=M.dC7(.5,M.JpU(t)),r=Ma(M.pjt(t,n),e.dtype);return M.J69(M.DgJ(e,r),-1)}))}function qs(e,t){return(0,M.lub)((function(){return Ma(M.DgJ(M.NqF(e,-1),M.NqF(t,-1)),"float32")}))}function Ys(e,t){return(0,M.lub)((function(){return M.pju(M.Smz(M.HvI(M.DgJ(e,1),M.DgJ(t,1))),"float32")}))}function Ks(e,t){return(0,M.lub)((function(){var n=Ys(e,t),r=function(e,t){return(0,M.lub)((function(){return M.pju(M.Smz(M.HvI(M.DgJ(e,0),M.DgJ(t,1))),"float32")}))}(e,t),i=M.IHx(n,r);return M.pju(M.arb(M.pjt(i,0),M.hiC(n,i),0),"float32")}))}function Qs(e,t){return(0,M.lub)((function(){var n=Ys(e,t),r=function(e,t){return(0,M.lub)((function(){return M.pju(M.Smz(M.HvI(M.DgJ(e,1),M.DgJ(t,0))),"float32")}))}(e,t),i=M.IHx(n,r);return M.pju(M.arb(M.pjt(i,0),M.hiC(n,i),0),"float32")}))}function Js(e,t){return js(e,t)}function $s(e,t){return e.rank===t.rank&&(e=M.L9e(e,[e.rank-1])),(t=M.NqF(t,-1)).dtype!==e.dtype&&(t=M.pju(t,e.dtype)),M.pju(M.DgJ(e,t),"float32")}var eu=zs,tu=Vs,nu={binaryAccuracy:Xs,categoricalAccuracy:qs,precision:Ks,categoricalCrossentropy:eu,sparseCategoricalCrossentropy:tu,mse:Ls,MSE:Ls,mae:Fs,MAE:Fs,mape:Zs,MAPE:Zs,cosine:Us};function ru(e){if("string"===typeof e&&e in nu)return nu[e];if("string"!==typeof e&&null!=e)return e;throw new Li("Unknown metric ".concat(e))}function iu(e){if(Vi(null!==e,"Unknown LossOrMetricFn ".concat(e)),"string"===typeof e)return e;for(var t,n=0,r=Object.keys(Hs);n<r.length;n++){var i=r[n];if(Hs[i]===e){t=i;break}}if(void 0!==t)return t;for(var a=0,o=Object.keys(nu);a<o.length;a++){var s=o[a];if(nu[s]===e){t=s;break}}return void 0!==t?t:e.name}var au=1048576;function ou(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||"object"!==typeof e||Object.getPrototypeOf(e)!==Object.prototype||!su(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){var r=JSON.stringify(e);r.length>au&&console.warn('User-defined metadata of model "'.concat(t,'" is too large in ')+"size (length=".concat(r.length," when serialized). It is not ")+"recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= "+"".concat(au,"."))}}function su(e){if(null===e)return!0;if("object"===typeof e){if(Object.getPrototypeOf(e)===Object.prototype){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("string"!==typeof r)return!1;if(!su(e[r]))return!1}return!0}if(Array.isArray(e)){var i,a=(0,Si.Z)(e);try{for(a.s();!(i=a.n()).done;){if(!su(i.value))return!1}}catch(s){a.e(s)}finally{a.f()}return!0}return!1}var o=typeof e;return"string"===o||"number"===o||"boolean"===o}function uu(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log,a=cu(e),o=["Layer (type)","Input Shape","Output shape","Param #"];if(a?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map((function(e){return Math.floor(t*e)}))),!a)for(var s in o.push("Receives inputs"),r=[],e.nodesByDepth){var u;(u=r).push.apply(u,(0,vr.Z)(e.nodesByDepth[s]))}i("_".repeat(t)),du(o,n,i),i("=".repeat(t));for(var l=e.layers,c=0;c<l.length;++c)a?fu(l[c],n,i):hu(l[c],n,r,i),i((c===l.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();var d=lu(e),f=wo(e.nonTrainableWeights);i("Total params: ".concat(d+f)),i("Trainable params: ".concat(d)),i("Non-trainable params: ".concat(f)),i("_".repeat(t))}function lu(e){return null!=e.collectedTrainableWeights?wo(e.collectedTrainableWeights):wo(e.trainableWeights)}function cu(e){var t=!0,n=[],r=[];for(var i in e.nodesByDepth)n.push(e.nodesByDepth[i]);for(var a=0,o=n;a<o.length;a++){var s=o[a];if(s.length>1||1===s.length&&s[0].inboundLayers.length>1){t=!1;break}r.push.apply(r,(0,vr.Z)(s))}if(t){var u,l=(0,Si.Z)(e.layers);try{for(l.s();!(u=l.n()).done;){var c,d=u.value,f=!1,h=(0,Si.Z)(d.inboundNodes);try{for(h.s();!(c=h.n()).done;){var p=c.value;if(-1!==r.indexOf(p)){if(f){t=!1;break}f=!0}}}catch(m){h.e(m)}finally{h.f()}if(!t)break}}catch(m){l.e(m)}finally{l.f()}}return t}function du(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log,r="",i=0;i<e.length;++i)i>0&&(r=r.slice(0,r.length-1)+" "),r=(r+=e[i]).slice(0,t[i]),r+=" ".repeat(t[i]-r.length);n(r)}function fu(e,t,n){var r,i;try{i=e.inboundNodes.map((function(e){return JSON.stringify(e.inputShapes)})).join(",")}catch(s){i="multiple"}try{r=JSON.stringify(e.outputShape)}catch(s){r="multiple"}var a=e.name,o=e.getClassName();du(["".concat(a," (").concat(o,")"),i,r,e.countParams().toString()],t,n)}function hu(e,t,n,r){var i,a;try{a=e.inboundNodes.map((function(e){return JSON.stringify(e.inputShapes)})).join(",")}catch(y){a="multiple"}try{i=JSON.stringify(e.outputShape)}catch(y){i="multiple"}var o,s=[],u=(0,Si.Z)(e.inboundNodes);try{for(u.s();!(o=u.n()).done;){var l=o.value;if(!(null!=n&&n.length>0&&-1===n.indexOf(l)))for(var c=0;c<l.inboundLayers.length;++c){var d=l.inboundLayers[c].name,f=l.nodeIndices[c],h=l.tensorIndices[c];s.push("".concat(d,"[").concat(f,"][").concat(h,"]"))}}}catch(y){u.e(y)}finally{u.f()}var p=e.name,m=e.getClassName(),g=0===s.length?"":s[0];du(["".concat(p," (").concat(m,")"),a,i,e.countParams().toString(),g],t,r);for(var v=1;v<s.length;++v)du(["","","","",s[v]],t,r)}function pu(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"===typeof n}function mu(e,t){if(null===e)return null;if("string"===typeof e)return Gi(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,i=0;i<r;++i){var a=e[i];pu(t,i,a)?n.push(a):n.push(mu(a,t))}return n}for(var o={},s=0,u=Object.keys(e);s<u.length;s++){var l=u[s],c=e[l];if("name"===l&&"string"===typeof c)o[l]=c;else{var d=Gi(l);o[d]=mu(c,d)}}return o}function gu(e,t){if(null===e||void 0===e)return null;if("string"===typeof e)return Hi(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,i=0;i<r;++i){var a=e[i];pu(t,i,a)?n.push(a):n.push(gu(a,t))}return n}for(var o={},s=0,u=Object.keys(e);s<u.length;s++){var l=u[s],c=e[l],d=Hi(l);o[d]="name"!==l&&"className"!==l||"string"!==typeof c?gu(c,l):c}return o}var vu="3.18.0",yu=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;if((0,Ci.Z)(this,n),(r=t.call(this,{})).containerNodes=new Set,r.name=e.name,null==r.name){var i=r.getClassName().toLowerCase();r.name=ua(i)}if(r.supportsMasking=!1,r.trainable_=!0,Array.isArray(e.inputs)?r.inputs=e.inputs.slice():r.inputs=[e.inputs],Array.isArray(e.outputs)?r.outputs=e.outputs.slice():r.outputs=[e.outputs],Ji(r.inputs).length!==r.inputs.length)throw new Li("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+"".concat(r.inputs.map((function(e){return e.name}))));Ji(r.outputs).length!==r.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+"".concat(r.outputs.map((function(e){return e.name})))),r.inputLayers=[],r.inputLayersNodeIndices=[],r.inputLayersTensorIndices=[],r.outputLayers=[],r.outputLayersNodeIndices=[],r.outputLayersTensorIndices=[],r.layers=[],r.internalContainerRefs=[];var a,o=(0,Si.Z)(r.outputs);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=s.sourceLayer,l=s.nodeIndex,c=s.tensorIndex;r.outputLayers.push(u),r.outputLayersNodeIndices.push(l),r.outputLayersTensorIndices.push(c)}}catch(_e){o.e(_e)}finally{o.f()}var d,f=(0,Si.Z)(r.inputs);try{for(f.s();!(d=f.n()).done;){var h=d.value,p=h.sourceLayer,m=h.nodeIndex,g=h.tensorIndex;Vi(0===m,"input layer has >1 nodes"),Vi(0===g,"input layer has >1 tensors"),r.inputLayers.push(p),r.inputLayersNodeIndices.push(m),r.inputLayersTensorIndices.push(g)}}catch(_e){f.e(_e)}finally{f.f()}r.inputNames=[],r.outputNames=[],r.feedInputShapes=[],r.feedInputNames=[],r.feedOutputNames=[];for(var v=0;v<r.inputLayers.length;v++){var y=r.inputLayers[v];if(!(y instanceof Ro))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. "+"Received inputs: ".concat(e.inputs,". ")+"Input ".concat(v," (0-based) originates ")+"from layer type ".concat(y.getClassName(),"."));r.inputNames.push(y.name),r.feedInputShapes.push(y.batchInputShape),r.feedInputNames.push(y.name)}var x,b=(0,Si.Z)(r.outputLayers);try{for(b.s();!(x=b.n()).done;){var w=x.value;r.outputNames.push(w.name)}}catch(_e){b.e(_e)}finally{b.f()}r.internalInputShapes=r.inputs.map((function(e){return e.shape})),r.internalOutputShapes=r.outputs.map((function(e){return e.shape}));var _,S={},C={},k={},D={},T={},I=[],A=function e(t,i,a,o,s,u){null!=o&&null!=s&&null!=u||(o=t.sourceLayer,s=t.nodeIndex,u=t.tensorIndex);var l=o.inboundNodes[s];if(-1!==a.indexOf(l))throw new Oi("The tensor ".concat(t.name,' at layer "').concat(o.name,'" ')+"is part of a cycle.");if(-1===i.indexOf(l)){r.containerNodes.add(n.nodeKey(o,s)),o.id in T||(T[o.id]=Object.keys(T).length),-1===a.indexOf(l)&&a.push(l);for(var c=l.inboundLayers.length,d=0;d<c;d++){e(l.inputTensors[d],i,a,l.inboundLayers[d],l.nodeIndices[d],l.tensorIndices[d])}for(i.push(l);a.indexOf(l)>=0;)a.splice(a.indexOf(l),1);I.push(l)}},M=[],E=[],N=(0,Si.Z)(r.outputs);try{for(N.s();!(_=N.n()).done;){A(_.value,M,E)}}catch(_e){N.e(_e)}finally{N.f()}var R,P=I.slice().reverse(),O=(0,Si.Z)(P);try{for(O.s();!(R=O.n()).done;){var L=R.value;C[L.id]=L,L.id in S||(S[L.id]=0);var F=S[L.id],Z=null==k[L.outboundLayer.id]?0:k[L.outboundLayer.id];F=Math.max(F,Z),k[L.outboundLayer.id]=F,D[L.outboundLayer.id]=L.outboundLayer,S[L.id]=F;for(var B=0;B<L.inboundLayers.length;B++){var z=L.inboundLayers[B],V=L.nodeIndices[B],j=z.inboundNodes[V],W=null==S[j.id]?0:S[j.id];S[j.id]=Math.max(F+1,W),C[j.id]=j}}}catch(_e){O.e(_e)}finally{O.f()}var U={};for(var H in S){var G=S[H];G in U||(U[G]=[]),U[G].push(C[H])}var X={};for(var q in k){var Y=k[q];Y in X||(X[Y]=[]),X[Y].push(D[q])}var K=Object.keys(X).map((function(e){return parseInt(e,10)})).sort(Qi);r.layers=[];var Q,J=(0,Si.Z)(K);try{for(J.s();!(Q=J.n()).done;){var $=X[Q.value];$.sort((function(e,t){var n=T[e.id],r=T[t.id];return n<r?-1:n>r?1:0}));var ee,te=(0,Si.Z)($);try{for(te.s();!(ee=te.n()).done;){var ne=ee.value;ne instanceof n&&r.internalContainerRefs.push(ne),r.layers.push(ne)}}catch(_e){te.e(_e)}finally{te.f()}}}catch(_e){J.e(_e)}finally{J.f()}r.layersByDepth=X,K=Object.keys(U).map((function(e){return parseInt(e,10)})).sort(Qi);var re,ie=r.inputs.slice(),ae=[],oe=(0,Si.Z)(K);try{for(oe.s();!(re=oe.n()).done;){var se,ue=re.value,le=(0,Si.Z)(U[ue]);try{for(le.s();!(se=le.n()).done;){var ce=se.value,de=ce.outboundLayer;if(null!=de){var fe,he=(0,Si.Z)(ce.inputTensors);try{for(he.s();!(fe=he.n()).done;){var pe=fe.value;if(-1===ie.indexOf(pe))throw new Oi("Graph disconnected: cannot obtain value for tensor ".concat(pe)+' at layer "'.concat(de.name,'". ')+"The following previous layers were accessed without "+"issue: ".concat(ae))}}catch(_e){he.e(_e)}finally{he.f()}var me,ge=(0,Si.Z)(ce.outputTensors);try{for(ge.s();!(me=ge.n()).done;){var ve=me.value;ie.push(ve)}}catch(_e){ge.e(_e)}finally{ge.f()}ae.push(de.name)}}}catch(_e){le.e(_e)}finally{le.f()}}}catch(_e){oe.e(_e)}finally{oe.f()}r.nodesByDepth=U;var ye,xe=r.layers.map((function(e){return e.name})),be=(0,Si.Z)(xe);try{var we=function(){var e=ye.value,t=xe.filter((function(t){return t===e})).length;if(1!==t)throw new Oi('The name "'.concat(e,'" is used ').concat(t," times ")+"in the model. All layer names should be unique. Layer names: "+JSON.stringify(xe))};for(be.s();!(ye=be.n()).done;)we()}catch(_e){be.e(_e)}finally{be.f()}return r.outboundNodes=[],r.inboundNodes=[],new Ao({outboundLayer:(0,Di.Z)(r),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:r.inputs,outputTensors:r.outputs,inputMasks:r.inputs.map((function(e){return null})),outputMasks:r.outputs.map((function(e){return null})),inputShapes:r.inputs.map((function(e){return e.shape})),outputShapes:r.outputs.map((function(e){return e.shape}))}),r.built=!0,r._refCount=1,r}return(0,ki.Z)(n,[{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error("Container '".concat(this.name,"' is already disposed."))}},{key:"dispose",value:function(){this.assertNotDisposed();var e={refCountAfterDispose:null,numDisposedVariables:0};if(0===--this._refCount){var t,n=(0,Si.Z)(this.layers);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.numDisposedVariables+=r.dispose().numDisposedVariables}}catch(s){n.e(s)}finally{n.f()}var i,a=(0,Si.Z)(this.internalContainerRefs);try{for(a.s();!(i=a.n()).done;){var o=i.value;e.numDisposedVariables+=o.dispose().numDisposedVariables}}catch(s){a.e(s)}finally{a.f()}}return e.refCountAfterDispose=this._refCount,e}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this.layers.forEach((function(t){t._trainableWeights.forEach((function(t){return t.trainable=e}))})),this.trainable_=e}},{key:"trainableWeights",get:function(){if(this._trainableWeights.length>0)throw new Li("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];var e,t=[],n=(0,Si.Z)(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t=t.concat(r.trainableWeights)}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"nonTrainableWeights",get:function(){var e,t=[],n=(0,Si.Z)(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,(0,vr.Z)(r.nonTrainableWeights))}}catch(u){n.e(u)}finally{n.f()}if(!this.trainable){var i,a=[],o=(0,Si.Z)(this.layers);try{for(o.s();!(i=o.n()).done;){var s=i.value;a.push.apply(a,(0,vr.Z)(s.trainableWeights))}}catch(u){o.e(u)}finally{o.f()}return a.concat(t)}return t}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"loadWeights",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={},i=0,a=(0,Si.Z)(this.layers);try{for(a.s();!(t=a.n()).done;){var o,s=t.value,u=(0,Si.Z)(s.weights);try{for(u.s();!(o=u.n()).done;){var l=o.value;if(null!=r[l.originalName])throw new Li("Duplicate weight name: ".concat(l.originalName));r[l.originalName]=l,i++}}catch(v){u.e(v)}finally{u.f()}}}catch(v){a.e(v)}finally{a.f()}var c=[];for(var d in e){var f=d;if(null==r[d]){var h=d.split("/"),p=h.slice(0,-2).concat([h[h.length-1]]);f=p.join("/")}if(null!=r[f])c.push([r[f],e[d]]);else if(n)throw new Li("Provided weight data has no target variable: ".concat(d));delete r[f]}if(n){var m=[];for(var g in r)m.push(g);if(m.length>0)throw new Li("".concat(m.length," of ").concat(i," weights are not set: ")+"".concat(m))}ko(c)}},{key:"updatedConfig",value:function(){var e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion="tfjs-layers ".concat(vu),t.backend="TensorFlow.js",t}},{key:"toJSON",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=gu(this.updatedConfig());return t?JSON.stringify(n):n}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){e=Ui(e);for(var r=new Oo,i=0;i<n.inputs.length;++i)r.add(n.inputs[i],e[i]);return Zo(n.outputs,r,t)}))}},{key:"computeMask",value:function(e,t){var n=this;return(0,M.lub)((function(){var r;return e=Ui(e),r=null==t?zi(null,e.length):Ui(t),n.runInternalGraph(e,r)[1]}))}},{key:"computeOutputShape",value:function(e){var t=yo(e);if(t.length!==this.inputLayers.length)throw new Li("Invalid inputShape argument ".concat(e,": ")+"model has ".concat(this.inputLayers.length," tensor inputs."));for(var n={},r=0;r<t.length;r++){var i=this.inputLayers[r],a=t[r];n[i.name+"_0_0"]=a}var o=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(Qi);if(o.length>1){var s,u=(0,Si.Z)(o);try{for(u.s();!(s=u.n()).done;){var l,c=s.value,d=this.nodesByDepth[c],f=(0,Si.Z)(d);try{for(f.s();!(l=f.n()).done;){var h=l.value,p=h.outboundLayer;if(-1===this.inputLayers.map((function(e){return e.id})).indexOf(p.id)){for(var m=[],g=0;g<h.inboundLayers.length;g++){var v=h.inboundLayers[g],y=h.nodeIndices[g],x=h.tensorIndices[g],b=n["".concat(v.name,"_").concat(y,"_").concat(x)];m.push(b)}for(var w=yo(p.computeOutputShape(Wi(m))),_=p.inboundNodes.indexOf(h),S=0;S<w.length;S++){n["".concat(p.name,"_").concat(_,"_").concat(S)]=w[S]}}}}catch(R){f.e(R)}finally{f.f()}}}catch(R){u.e(R)}finally{u.f()}}for(var C=[],k=[],D=0;D<this.outputLayers.length;D++){var T=this.outputLayers[D],I=this.outputLayersNodeIndices[D],A=this.outputLayersTensorIndices[D],M="".concat(T.name,"_").concat(I,"_").concat(A);k.push(M)}for(var E=0;E<k.length;E++){var N=k[E];Vi(N in n),C.push(n[N])}return Wi(C)}},{key:"runInternalGraph",value:function(e,t){null==t&&(t=zi(null,e.length));for(var n={},r=0;r<this.inputs.length;++r){var i=this.inputs[r],a=e[r],o=t[r];n[i.id]=[a,o]}var s,u=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(Qi),l=(0,Si.Z)(u);try{for(l.s();!(s=l.n()).done;){var c,d=s.value,f=this.nodesByDepth[d],h=(0,Si.Z)(f);try{for(h.s();!(c=h.n()).done;){var p,m=c.value,g=m.outboundLayer,v=m.inputTensors,y=m.outputTensors,x=new Array,b=(0,Si.Z)(v);try{for(b.s();!(p=b.n()).done;){var w=p.value;w.id in n&&x.push(n[w.id])}}catch(U){b.e(U)}finally{b.f()}if(x.length===v.length){var _={},S=void 0,C=void 0,k=void 0,D=void 0;if(null!=m.callArgs&&(_=m.callArgs),1===x.length){var T=(0,E.Z)(x[0],2),I=T[0],A=T[1];null==_.mask&&(_.mask=A),k=Ui(g.call(I,_)),D=Ui(g.computeMask(I,A)),S=[I],C=[A]}else S=x.map((function(e){return e[0]})),C=x.map((function(e){return e[1]})),null==_.mask&&(_.mask=C),k=Ui(g.call(S,_)),D=Ui(g.computeMask(S,C));if(g.activityRegularizer)throw new Fi("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(var M=0;M<y.length;++M){var N=y[M],R=k[M],P=D[M];n[N.id]=[R,P]}}}}catch(U){h.e(U)}finally{h.f()}}}catch(U){l.e(U)}finally{l.f()}var O,L=[],F=[],Z=[],B=(0,Si.Z)(this.outputs);try{for(B.s();!(O=B.n()).done;){var z=O.value;Vi(z.id in n,"Could not compute output ".concat(z.name," : ").concat(z.id));var V=(0,E.Z)(n[z.id],2),j=V[0],W=V[1];Z.push(j.shape),L.push(j),F.push(W)}}catch(U){B.e(U)}finally{B.f()}return[L,F,Z]}},{key:"buildNodeConversionMap",value:function(e){var t,r,i={},a=(0,Si.Z)(this.layers);try{for(a.s();!(r=a.n()).done;){var o=r.value;t=o instanceof n?1:0;for(var s=0;s<o.inboundNodes.length;s++){var u=n.nodeKey(o,s);this.containerNodes.has(u)&&(i[u]=t,t+=1)}}}catch(l){a.e(l)}finally{a.f()}return i}},{key:"getLayer",value:function(e,t){if(null!=t){if(this.layers.length<=t)throw new Li("Was asked to retrieve layer at index ".concat(t,", but model only ")+"has ".concat(this.layers.length," layer(s)."));return this.layers[t]}if(null==e)throw new Li("Provide either a layer name or layer index");var n,r=(0,Si.Z)(this.layers);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.name===e)return i}}catch(a){r.e(a)}finally{r.f()}throw new Li("No such layer: ".concat(e))}},{key:"calculateLosses",value:function(){var e=this;return(0,M.lub)((function(){var t,r=[],i=(0,Si.Z)(e.layers);try{for(i.s();!(t=i.n()).done;)for(var a=t.value,o=0;o<a.inboundNodes.length;++o){var s=n.nodeKey(a,o);e.containerNodes.has(s)&&r.push.apply(r,(0,vr.Z)(a.calculateLosses()))}}catch(u){i.e(u)}finally{i.f()}return r}))}},{key:"getConfig",value:function(){var e,t={name:this.name},r=this.buildNodeConversionMap(this.layers),i=[],a=(0,Si.Z)(this.layers);try{for(a.s();!(e=a.n()).done;){for(var o=e.value,s=o.getClassName(),u=o.getConfig(),l=[],c=0;c<o.inboundNodes.length;c++){var d=o.inboundNodes[c],f=n.nodeKey(o,c),h={};if(this.containerNodes.has(f)){if(d.callArgs)try{JSON.stringify(d.callArgs),h=d.callArgs}catch(O){console.warn("Layer ".concat(o.name," was passed ")+"non-serializable keyword arguments: "+"".concat(d.callArgs,". They will not be included ")+"in the serialized model (and thus will be missing at deserialization time)."),h={}}if(d.inboundLayers.length>0){for(var p=[],m=0;m<d.inboundLayers.length;m++){var g=d.inboundLayers[m],v=d.nodeIndices[m],y=d.tensorIndices[m],x=r[n.nodeKey(g,v)];null==x&&(x=0),p.push([g.name,x,y,h])}l.push(p)}}}var b={};b.name=o.name,b.className=s,b.config=u,b.inboundNodes=l,i.push(b)}}catch(O){a.e(O)}finally{a.f()}t.layers=i;for(var w=[],_=0;_<this.inputLayers.length;_++){var S=this.inputLayers[_],C=this.inputLayersNodeIndices[_],k=n.nodeKey(S,C);if(this.containerNodes.has(k)){var D=r[k];null!==D&&void 0!==D||(D=0);var T=this.inputLayersTensorIndices[_];w.push([S.name,D,T])}}t.inputLayers=w;for(var I=[],A=0;A<this.outputLayers.length;A++){var M=this.outputLayers[A],E=this.outputLayersNodeIndices[A],N=n.nodeKey(M,E);if(this.containerNodes.has(N)){var R=r[N];null!==R&&void 0!==R||(R=0);var P=this.outputLayersTensorIndices[A];I.push([M.name,R,P])}}return t.outputLayers=I,t}},{key:"stateful",get:function(){if(this._stateful)throw new Li("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");var e,t=(0,Si.Z)(this.layers);try{for(t.s();!(e=t.n()).done;){if(e.value.stateful)return!0}}catch(n){t.e(n)}finally{t.f()}return!1}},{key:"resetStates",value:function(){var e=this;(0,M.lub)((function(){e.layers.forEach((function(e){e.stateful&&e.resetStates()}))}))}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={},i={};function a(e,t){e.name in i?i[e.name].push(t):i[e.name]=[t]}function o(e,t){var n,i,o=[],s=(0,Si.Z)(t);try{for(s.s();!(i=s.n()).done;){var u=i.value,l=u[0],c=u[1],d=u[2];if(n=null==u[3]?{}:u[3],!(l in r))return void a(e,t);var f=r[l];if(f.inboundNodes.length<=c)return void a(e,t);var h=f.inboundNodes[c];o.push(h.outputTensors[d])}}catch(p){s.e(p)}finally{s.f()}o.length>0&&e.apply(Wi(o),n)}function s(e){var i=e.name,o=Ps(e,null!=t.customObjects?t.customObjects:{});o.setFastWeightInitDuringBuild(n),r[i]=o,e.inboundNodes.forEach((function(e){if(!(e instanceof Array))throw new Li("Corrupted configuration, expected array for nodeData: ".concat(e));a(o,e)}))}var u,l=t.name,c=t.layers,d=(0,Si.Z)(c);try{for(d.s();!(u=d.n()).done;){var f=u.value;s(f)}}catch(V){d.e(V)}finally{d.f()}for(;!$i(i);){var h,p=(0,Si.Z)(c);try{for(p.s();!(h=p.n()).done;){var m=h.value,g=r[m.name];if(g.name in i){var v=i[g.name];delete i[g.name];var y,x=(0,Si.Z)(v);try{for(x.s();!(y=x.n()).done;){var b=y.value;o(g,b)}}catch(V){x.e(V)}finally{x.f()}}}}catch(V){p.e(V)}finally{p.f()}}var w,_=[],S=[],C=t.inputLayers,k=(0,Si.Z)(C);try{for(k.s();!(w=k.n()).done;){var D=w.value,T=D[0],I=D[1],A=D[2];Vi(T in r);var M=r[T],E=M.inboundNodes[I].outputTensors;_.push(E[A])}}catch(V){k.e(V)}finally{k.f()}var N,R=t.outputLayers,P=(0,Si.Z)(R);try{for(P.s();!(N=P.n()).done;){var O=N.value,L=O[0],F=O[1],Z=O[2];Vi(L in r);var B=r[L],z=B.inboundNodes[F].outputTensors;S.push(z[Z])}}catch(V){P.e(V)}finally{P.f()}return new e({inputs:_,outputs:S,name:l})}}]),n}(Eo);function xu(e,t,n){var r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return null}));if(1===r)return Array.isArray(e)&&1===e.length?e:"object"===typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error("Provided ".concat(n," is an array of ").concat(e.length," ")+"element(s), but the model has ".concat(r," outputs. ")+"Make sure a set of weights is provided for each model output.");return e}if("object"===typeof e&&Object.keys(e).length>0&&"object"===typeof e[Object.keys(e)[0]]){var i=[];return t.forEach((function(t){t in e?i.push(e[t]):i.push(null)})),i}throw new Error("The model has multiple (".concat(r,") outputs, ")+"so ".concat(n," must be either an array with ")+"".concat(r," elements or an object with ").concat(t," keys. ")+"Provided ".concat(n," not understood: ").concat(JSON.stringify(e)))}function bu(e,t){return xu(e,t,"classWeight")}function wu(e,t,n,r){return _u.apply(this,arguments)}function _u(){return(_u=(0,ys.Z)(bs().mark((function e(t,n,r,i){var a,o,s;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&null==i){e.next=2;break}throw new Error("Support sampleWeight is not implemented yet");case 2:if(null==r){e.next=15;break}return a=(0,M.lub)((function(){if(1===t.shape.length)return(0,M.d9v)(t);if(2===t.shape.length){if(t.shape[1]>1){return(0,M.NqF)(t,1)}if(1===t.shape[1])return(0,M.XLQ)(t,[t.shape[0]]);throw new Error("Encountered unexpected last-dimension size (".concat(t.shape[1],") ")+"during handling of class weights. The size is expected to be >= 1.")}throw new Error("Unexpected rank of target (y) tensor (".concat(t.rank,") during ")+"handling of class weights. The rank is expected to be 1 or 2.")})),e.t0=Array,e.next=7,a.data();case 7:return e.t1=e.sent,o=e.t0.from.call(e.t0,e.t1),(0,M.B90)(a),s=[],o.forEach((function(e){if(null==r[e])throw new Error("classWeight must contain all classes in the training data. "+"The class ".concat(e," exists in the data but not in ")+"classWeight");s.push(r[e])})),e.abrupt("return",(0,M.RRF)(s,"float32"));case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Su(e,t){return(0,M.dC7)(e,t)}function Cu(e,t){var n,r,i=t;n=i.xs,r=i.ys,M.D5U.assert(null!=n&&null!=r,(function(){return"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+"".concat(t)}));var a=ku("input",e.inputNames,n),o=ku("output",e.outputNames,r),s=a[0].shape[0];M.D5U.assert(a.length===e.inputs.length,(function(){return"LayersModel has ".concat(e.inputs.length," inputs, but the dataset ")+"provides ".concat(a.length," inputs.  (Expected input keys: ")+"".concat(JSON.stringify(e.inputNames),")")})),M.D5U.assert(o.length===e.outputs.length,(function(){return"LayersModel has ".concat(e.outputs.length," outputs, but the dataset ")+"provides ".concat(o.length," outputs.  (Expected output keys: ")+"".concat(JSON.stringify(e.outputNames),")")}));for(var u=function(t){M.D5U.assert(a[t].shape[0]===s,(function(){return"Batch size mismatch: input "+"".concat(e.inputNames[t]," has ").concat(a[t].shape[0],"; ")+"expected  ".concat(s," based on input ").concat(e.inputNames[0],".")}))},l=0;l<a.length;l++)u(l);for(var c=function(t){M.D5U.assert(o[t].shape[0]===s,(function(){return"Batch size mismatch: output "+"".concat(e.outputNames[t]," has ").concat(o[t].shape[0],"; ")+"expected  ".concat(s," based on input ").concat(e.inputNames[0],".")}))},d=0;d<o.length;d++)c(d);return{xs:a,ys:o}}function ku(e,t,n){if(n instanceof M.esB)return[n];if(Array.isArray(n))return M.D5U.assert(n.length===t.length,(function(){return"Received an array of ".concat(n.length," Tensors, but expected ").concat(t.length," to match the ").concat(e," keys ").concat(t,".")})),n;var r,i=[],a=(0,Si.Z)(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(null==n[o])throw new Li("The feature data generated by the dataset lacks the required "+"".concat(e," key '").concat(o,"'."));i.push(n[o])}}catch(s){a.e(s)}finally{a.f()}return i}function Du(e){if(3===e.length)throw new Fi("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}function Tu(e,t,n){return Iu.apply(this,arguments)}function Iu(){return Iu=(0,ys.Z)(bs().mark((function e(t,n,r){var i,a,o,s,u,l,c,d,f,h,p,m,g,v,y,x,b,w,_,S,C,k,D,T,I,A,E,N,R,P,O,L,F;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null!=r.batchesPerEpoch,M.D5U.assert(null!=t.optimizer,(function(){return"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."})),M.D5U.assert(null!=r,(function(){return"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."})),M.D5U.assert(null!=r.epochs&&r.epochs>0&&Number.isInteger(r.epochs),(function(){return"For fitDataset(), config.epochs is expected to be a positive "+"integer, but got ".concat(r.epochs)})),M.D5U.assert(!i||r.batchesPerEpoch>0&&Number.isInteger(r.batchesPerEpoch),(function(){return"For fitDataset(), config.batchesPerEpoch is expected to be a "+"positive integer if specified, but got ".concat(r.batchesPerEpoch)})),M.D5U.assert(null==r.validationSplit,(function(){return"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."})),!t.isTraining){e.next=8;break}throw new Error("Cannot start training because another fit() call is ongoing.");case 8:return t.isTraining=!0,e.prev=9,(a=null!=r.validationData)&&(Mu(r.validationData)?M.D5U.assert(null==r.validationBatches||r.validationBatches>0&&Number.isInteger(r.validationBatches),(function(){return"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, "+"but got ".concat(r.validationBatches)})):(u=Du(r.validationData),o=u.xs,s=u.ys)),l=t.makeTrainFunction(),c=t.getDedupedMetricsNames(),d=a?c.slice().concat(c.map((function(e){return"val_"+e}))):c.slice(),f=As(r.callbacks,r.yieldEvery),h=null==r.verbose?1:r.verbose,p=Es(f,h,r.epochs,null,null,Au(n,r),null,a,d),m=p.callbackList,g=p.history,m.setModel(t),t.history=g,e.next=22,m.onTrainBegin();case 22:return t.stopTraining_=!1,v=null==r.initialEpoch?0:r.initialEpoch,e.next=26,n.iterator();case 26:y=e.sent;case 27:if(!(v<r.epochs)){e.next=98;break}return x={},e.next=31,m.onEpochBegin(v);case 31:if(b=0,w=0,i){e.next=37;break}return e.next=36,n.iterator();case 36:y=e.sent;case 37:if(i&&!(b<r.batchesPerEpoch)){e.next=91;break}return e.next=40,y.next();case 40:if(_=e.sent,!i||!_.done){e.next=44;break}return console.warn("You provided `batchesPerEpoch` as "+"".concat(r.batchesPerEpoch,", ")+"but your dataset iterator ran out of data after "+"".concat(b," batches; ")+"interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+"".concat(r.batchesPerEpoch*r.epochs," batches). ")+"You may need to use the repeat() function when building your dataset."),e.abrupt("break",91);case 44:if(null==_.value){e.next=73;break}return S=Cu(t,_.value),C=S.xs,k=S.ys,(D={}).batch=w,D.size=C[0].shape[0],e.next=51,m.onBatchBegin(w,D);case 51:if(T=[],null==r.classWeight){e.next=64;break}I=bu(r.classWeight,t.outputNames),A=0;case 55:if(!(A<I.length)){e.next=64;break}return e.t0=T,e.next=59,wu(k[A],null,I[A]);case 59:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 61:++A,e.next=55;break;case 64:for(E=C.concat(k).concat(T),N=l(E),M.B90(E),R=0;R<c.length;++R)P=c[R],O=N[R],D[P]=O,M.CnY(O);return e.next=70,m.onBatchEnd(w,D);case 70:Ss(D),w++,b++;case 73:if(!(i?b>=r.batchesPerEpoch:_.done)){e.next=87;break}if(!a){e.next=86;break}if(L=void 0,!Mu(r.validationData)){e.next=84;break}return e.t2=Ui,e.next=80,t.evaluateDataset(r.validationData,{batches:r.validationBatches});case 80:e.t3=e.sent,L=(0,e.t2)(e.t3),e.next=85;break;case 84:L=Ui(t.evaluate(o,s,{batchSize:null==r.validationBatchSize?32:r.validationBatchSize,verbose:0}));case 85:for(F=0;F<t.metricsNames.length;++F)x["val_".concat(t.metricsNames[F])]=L[F];case 86:return e.abrupt("break",91);case 87:if(!t.stopTraining_){e.next=89;break}return e.abrupt("break",91);case 89:e.next=37;break;case 91:return e.next=93,m.onEpochEnd(v,x);case 93:if(v++,!t.stopTraining_){e.next=96;break}return e.abrupt("break",98);case 96:e.next=27;break;case 98:return e.next=100,m.onTrainEnd();case 100:return e.next=102,t.history.syncData();case 102:return e.abrupt("return",t.history);case 103:return e.prev=103,t.isTraining=!1,e.finish(103);case 106:case"end":return e.stop()}}),e,null,[[9,,103,106]])}))),Iu.apply(this,arguments)}function Au(e,t){var n=null;return null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}function Mu(e){return"function"===typeof e.iterator}function Eu(e){return"function"===typeof e.next}function Nu(e,t,n){return Ru.apply(this,arguments)}function Ru(){return Ru=(0,ys.Z)(bs().mark((function e(t,n,r){var i,a,o,s,u,l,c,d,f;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null!=(r=r||{}).batches,a=t.testFunction,o=[],!(r.verbose>0)){e.next=6;break}throw new Fi("Verbose mode is not implemented yet.");case 6:if(M.D5U.assert(!i||r.batches>0&&Number.isInteger(r.batches),(function(){return"Test loop expects `batches` to be a positive integer, but "+"received ".concat(JSON.stringify(r.batches))})),!Eu(n)){e.next=11;break}e.t0=n,e.next=14;break;case 11:return e.next=13,n.iterator();case 13:e.t0=e.sent;case 14:s=e.t0,u=0,l=0,c=bs().mark((function e(){var n;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.next();case 2:if(n=e.sent,o=M.lub((function(){return n.value&&function(){var e=Cu(t,n.value),r=e.xs,i=e.ys,s=r.concat(i),c=M.lub((function(){return a(s)}));if(M.B90(s),0===l)for(var d=0;d<c.length;++d)o.push((0,M.iD$)(0));for(var f=s[0].shape[0],h=function(e){var t=c[e],n=o[e];o[e]=M.lub((function(){return M.IHx(o[e],M.dC7(f,t))})),l>0&&M.B90(n)},p=0;p<c.length;++p)h(p);M.B90(c),u+=f,++l}(),o})),!n.done){e.next=7;break}return i&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` "+"batches (in this case, ".concat(r.batches," batches). ")+"You may need to use the repeat() function when building your dataset."),e.abrupt("return","break");case 7:case"end":return e.stop()}}),e)}));case 18:if(i&&!(l<r.batches)){e.next=25;break}return e.delegateYield(c(),"t1",20);case 20:if("break"!==e.t1){e.next=23;break}return e.abrupt("break",25);case 23:e.next=18;break;case 25:for(d=0;d<o.length;++d)f=o[d],o[d]=M.hiC(o[d],u),M.B90(f);return e.abrupt("return",Wi(o));case 27:case"end":return e.stop()}}),e)}))),Ru.apply(this,arguments)}function Pu(e){M.D5U.assert(e>0&&Number.isInteger(e),(function(){return"batchSize is required to be a positive integer, but got ".concat(e)}))}function Ou(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((function(e){return Ra(e,t,n-t)})):Ra(e,t,n-t)}function Lu(e,t){return M.lub((function(){return null==e?null:Array.isArray(e)?e.map((function(e){return Lu(e,t)})):Va(e,"int32"===t.dtype?t:M.pju(t,"int32"))}))}function Fu(e,t){for(var n=[],r=0,i=null;r<e;)(i=r+t)>=e&&(i=e),n.push([r,i]),r=i;return n}function Zu(e,t,n,r,i,a,o,s,u,l,c,d,f,h,p){return Bu.apply(this,arguments)}function Bu(){return Bu=(0,ys.Z)(bs().mark((function e(t,n,r,i,a,o,s,u,l,c,d,f,h,p,m){var g,v,y,x,b,w,_,S;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==a&&(a=32),null==o&&(o=1),null==d&&(d=!0),null==h&&(h=0),g=!1,null!=l&&null!=c&&(g=!0),null==m){e.next=10;break}if(g=!0,null!=p){e.next=10;break}throw new Li("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");case 10:return null!=(v=t.checkNumSamples(r,a,p,"steps_per_epoch"))&&(y=Ia(0,v)),null==s&&(s=1),x=Es(u,s,o,h,v,p,a,g,f),b=x.callbackList,w=x.history,b.setModel(t),t.history=w,e.next=18,b.onTrainBegin();case 18:t.stopTraining_=!1,_=bs().mark((function e(o){var s;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.onEpochBegin(o);case 2:if(s={},null==p){e.next=7;break}throw new Fi("stepsPerEpoch mode is not implemented yet.");case 7:return e.delegateYield(bs().mark((function e(){var o,u,f,h;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("batch"!==d){e.next=4;break}throw new Fi("batch shuffling is not implemneted yet");case 4:d&&M.D5U.shuffle(y);case 5:o=(0,M.RRF)(y),u=Fu(v,a),f=bs().mark((function e(d){var f;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f={},e.next=3,b.onBatchBegin(d,f);case 3:return M.lub((function(){var e=u[d][0],h=u[d][1],p=Ra(o,e,h-e);f.batch=d,f.size=h-e;for(var m=Lu(r,p),v=n(m),y=0;y<i.length;++y){var x=i[y],b=v[y];f[x]=b,M.CnY(b)}if(d===u.length-1&&g)for(var w=t.testLoop(l,c,a),_=0;_<i.length;++_){var S=i[_],C=w[_];M.CnY(C),s["val_"+S]=C}})),e.next=6,b.onBatchEnd(d,f);case 6:if(Ss(f),!t.stopTraining_){e.next=9;break}return e.abrupt("return","break");case 9:case"end":return e.stop()}}),e)})),h=0;case 9:if(!(h<u.length)){e.next=17;break}return e.delegateYield(f(h),"t0",11);case 11:if("break"!==e.t0){e.next=14;break}return e.abrupt("break",17);case 14:++h,e.next=9;break;case 17:o.dispose();case 18:case"end":return e.stop()}}),e)}))(),"t0",8);case 8:return e.next=10,b.onEpochEnd(o,s);case 10:if(!t.stopTraining_){e.next=12;break}return e.abrupt("return","break");case 12:case"end":return e.stop()}}),e)})),S=h;case 21:if(!(S<o)){e.next=29;break}return e.delegateYield(_(S),"t0",23);case 23:if("break"!==e.t0){e.next=26;break}return e.abrupt("break",29);case 26:++S,e.next=21;break;case 29:return e.next=31,b.onTrainEnd();case 31:return e.next=33,t.history.syncData();case 33:return e.abrupt("return",t.history);case 34:case"end":return e.stop()}}),e)}))),Bu.apply(this,arguments)}function zu(e,t,n){return Vu.apply(this,arguments)}function Vu(){return Vu=(0,ys.Z)(bs().mark((function e(t,n,r){var i,a,o,s,u,l,c,d,f,h,p,m,g,v,y,x,b,w,_,S,C,k,D,T,I,A,E=arguments;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=E.length>3&&void 0!==E[3]?E[3]:{},!t.isTraining){e.next=3;break}throw new Error("Cannot start training because another fit() call is ongoing.");case 3:return t.isTraining=!0,e.prev=4,Pu(p=null==i.batchSize?32:i.batchSize),m=!1,e.next=10,t.standardizeUserData(n,r,i.sampleWeight,i.classWeight,m,p);case 10:if(g=e.sent,a=g[0],o=g[1],h=g[2],v=!1,!(null!=i.validationData&&i.validationData.length>0)){e.next=36;break}if(v=!0,2!==i.validationData.length){e.next=22;break}l=i.validationData[0],c=i.validationData[1],e.next=27;break;case 22:if(3!==i.validationData.length){e.next=26;break}throw new Fi("validationData including sample weights is not supported yet.");case 26:throw new Li("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+"".concat(i.validationData," is invalid."));case 27:return x=!0,e.next=30,t.standardizeUserData(l,c,null,null,x,p);case 30:b=e.sent,d=b[0],f=b[1],y=d.concat(f),e.next=37;break;case 36:null!=i.validationSplit&&i.validationSplit>0&&i.validationSplit<1?(v=!0,w=Math.floor(a[0].shape[0]*(1-i.validationSplit)),_=a[0].shape[0],d=Ou(a,w,_),s=a,a=Ou(a,0,w),f=Ou(o,w,_),u=o,o=Ou(o,0,w),y=d.concat(f)):null!=i.validationSteps&&(v=!0);case 37:return S=a.concat(o).concat(h),t.checkTrainableWeightsConsistency(),C=t.makeTrainFunction(),k=t.getDedupedMetricsNames(),v?(t.makeTestFunction(),D=t.testFunction,T=k.slice().concat(k.map((function(e){return"val_"+e})))):(D=null,y=[],T=k.slice()),I=As(i.callbacks,i.yieldEvery),e.next=45,Zu(t,C,S,k,p,i.epochs,i.verbose,I,D,y,i.shuffle,T,i.initialEpoch,null,null);case 45:return A=e.sent,e.abrupt("return",A);case 47:return e.prev=47,t.isTraining=!1,Wu(a,n),Wu(o,r),Wu(s,n),Wu(u,r),Wu(d,l),Wu(f,c),null!=h&&M.B90(h),e.finish(47);case 57:case"end":return e.stop()}}),e,null,[[4,,47,57]])}))),Vu.apply(this,arguments)}function ju(e){var t=[];e instanceof M.esB&&(e=[e]);for(var n=0;n<e.length;++n){var r=e[n];if(1===r.rank)t.push(Ea(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function Wu(e,t){if(null!=e){var n=[];if(t instanceof M.esB)n.push(t.id);else if(Array.isArray(t))t.forEach((function(e){return n.push(e.id)}));else if(null!=t)for(var r in t){var i=t[r];n.push(i.id)}var a=[];if(e instanceof M.esB)-1===n.indexOf(e.id)&&a.push(e);else if(Array.isArray(e))e.forEach((function(e){-1===n.indexOf(e.id)&&a.push(e)}));else if(null!=e)for(var o in e){var s=e[o];-1===n.indexOf(s.id)&&a.push(s)}a.forEach((function(e){e.isDisposed||e.dispose()}))}}function Uu(e){return Array.isArray(e)}function Hu(e){return!function(e){return e instanceof M.esB}(e)&&!Uu(e)}function Gu(e,t,n){var r,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(null==t||0===t.length){if(null!=e){var o=!1;if(Uu(e)&&e.length>0)o=!0;else if(Hu(e)){for(var s in e)if(e.hasOwnProperty(s)){o=!0;break}}else o=!0;if(o)throw new Li("Error when checking model ".concat(a," expected no data, ")+"but got ".concat(e))}return[]}if(null==e)return t.map((function(e){return null}));if(Hu(e)){r=[];var u,l=(0,Si.Z)(t);try{for(l.s();!(u=l.n()).done;){var c=u.value;if(null==e[c])throw new Li('No data provided for "'.concat(c,'". Need data for each key in: ')+"".concat(t));r.push(e[c])}}catch(g){l.e(g)}finally{l.f()}}else if(Uu(e)){if(e.length!==t.length)throw new Li("Error when checking model ".concat(a,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"model expected. Expected to see ".concat(t.length," Tensor(s), but ")+"instead got the following list of Tensor(s): ".concat(e));r=e}else{if(t.length>1)throw new Li("The model ".concat(a," expects ").concat(t.length," Tensor(s), ")+"but only received one Tensor. Found: Tensor with shape ".concat(e.shape));r=[e]}if(r=ju(r),null!=n)for(var d=0;d<t.length;++d)if(null!=n[d]){var f=r[d];if(f.shape.length!==n[d].length)throw new Li("Error when checking ".concat(a,": expected ").concat(t[d]," ")+"to have ".concat(n[d].length," dimension(s). but got array with ")+"shape ".concat(f.shape));for(var h=0;h<n[d].length;++h)if(0!==h||i){var p=f.shape[h],m=n[d][h];if(null!=m&&m>=0&&p!==m)throw new Li("".concat(a," expected a batch of elements where each ")+"example has shape [".concat(n[d].slice(1,n[d].length),"] ")+"(i.e.,tensor shape [*,".concat(n[d].slice(1,n[d].length),"])")+" but the ".concat(a," received an input with ").concat(f.shape[0])+" examples, each with shape [".concat(f.shape.slice(1,f.shape.length),"]")+" (tensor shape [".concat(f.shape,"])"))}}return r}function Xu(e,t,n){var r=Ji(e.map((function(e){return e.shape[0]})));r.sort();var i=Ji(t.map((function(e){return e.shape[0]})));if(i.sort(),r.length>1)throw new Li("All input Tensors (x) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(e.map((function(e){return e.shape})))));if(i.length>1)throw new Li("All target Tensors (y) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(t.map((function(e){return e.shape})))));if(r.length>0&&i.length>0&&!M.D5U.arraysEqual(r,i))throw new Li("Input Tensors should have the same number of samples as target "+"Tensors. Found ".concat(r[0]," input sample(s) and ").concat(i[0]," target ")+"sample(s).")}function qu(e,t,n){for(var r=[Ls,js,zs],i=0;i<e.length;++i){var a=e[i],o=t[i],s=n[i];if(null!=o){if(o===zs&&1===a.shape[a.shape.length-1])throw new Li("You are passing a target array of shape ".concat(a.shape," while using ")+"a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==r.indexOf(o))for(var u=a.shape.slice(1),l=s.slice(1),c=0;c<u.length;++c){var d=u[c],f=l[c];if(null!=f&&d!==f)throw new Li("A target Tensor with shape ".concat(a.shape," was passed for an ")+"output of shape ".concat(s,", while using a loss function that ")+"expects targets to have the same shape as the output.")}}}}function Yu(e,t,n){var r,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(Array.isArray(e)){if(e.length!==t.length)throw new Li("Error when checking model ".concat(a,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"the model expected. Expected to see ".concat(t.length," Tensor(s),")+" but instead got ".concat(e.length," Tensors(s)."));r=e}else{if(t.length>1)throw new Li("The model expects ".concat(t.length," ").concat(a," Tensors, ")+"but only received one Tensor. Found: array with shape "+"".concat(JSON.stringify(e.shape),"."));r=[e]}if(null!=n)for(var o=0;o<t.length;++o)if(null!=n[o]){var s=r[o];if(s.shape.length!==n[o].length)throw new Li("Error when checking ".concat(a,": expected ").concat(t[o]," ")+"to have ".concat(n[o].length," dimension(s), but got array with ")+"shape ".concat(JSON.stringify(s.shape)));for(var u=0;u<n[o].length;++u)if(0!==u||i){var l=s.shape[u],c=n[o][u];if(null!=c&&c!==l)throw new Li("Error when checking ".concat(a,": expected ")+"".concat(t[o]," to have shape ").concat(JSON.stringify(n[o])," but ")+"got array with shape ".concat(JSON.stringify(s.shape),"."))}}}var Ku=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,e)).isTraining=!1,r}return(0,ki.Z)(n,[{key:"summary",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;if(!this.built)throw new Li("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");uu(this,e,t,n)}},{key:"compile",value:function(e){var t=this;if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"===typeof e.optimizer)this.optimizer_=function(e){var t={Adagrad:function(){return M.p_j.adagrad(.01)},Adadelta:function(){return M.p_j.adadelta(1,.95,Aa())},Adam:function(){return M.p_j.adam(.001,.9,.999,Aa())},Adamax:function(){return M.p_j.adamax(.002,.9,.999,Aa(),0)},RMSProp:function(){return M.p_j.rmsprop(.001,.9,0,Aa())},SGD:function(){return M.p_j.sgd(.01)}};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new Li("Unknown Optimizer ".concat(e))}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof M.gaJ))throw new Li("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}var n=[];if(Array.isArray(e.loss)||"string"===typeof e.loss||"function"===typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new Li("When passing an Array as loss, it should have one entry per "+"model output. The model has ".concat(this.outputs.length," output(s), ")+"but you passed loss=".concat(e.loss,"."));var r=e.loss;n=r.map((function(e){return Gs(e)}))}else{var i=Gs(e.loss);this.outputs.forEach((function(e){n.push(i)}))}else{for(var a in e.loss=e.loss,e.loss)if(-1===this.outputNames.indexOf(a))throw new Li('Unknown entry in loss dictionary: "'.concat(a,'". ')+"Only expected the following keys: ".concat(this.outputNames));var o,s=(0,Si.Z)(this.outputNames);try{for(s.s();!(o=s.n()).done;){var u=o.value;null==e.loss[u]&&console.warn('Output "'.concat(u,'" is missing from loss dictionary. We assume ')+"this was done on purpose, and we will not be expecting data "+"to be passed to ".concat(u," during training")),n.push(Gs(e.loss[u]))}}catch(m){s.e(m)}finally{s.f()}}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var l=0;l<this.outputs.length;++l){var c=this.internalOutputShapes[l],d=this.outputNames[l];this.feedOutputNames.push(d),this.feedOutputShapes.push(c),this.feedLossFns.push(this.lossFunctions[l])}var f=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],xa("loss",(function(){for(var e=0;e<t.outputs.length;++e)if(-1===f.indexOf(e)){var n=t.lossFunctions[e];t.outputs.length>1&&(t.metricsTensors.push([n,e]),t.metricsNames.push(t.outputNames[e]+"_loss"))}}));var h=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return[]}));var n;if("string"===typeof e||"function"===typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!==typeof e)throw new TypeError("Type of metrics argument not understood. Expected an string,"+"function, Array, or Object, found: ".concat(e));n=e}if(Array.isArray(n))return t.map((function(e){return n}));var r,i=[],a=(0,Si.Z)(t);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=n.hasOwnProperty(o)?n[o]:[];Array.isArray(s)||(s=[s]),i.push(s)}}catch(m){a.e(m)}finally{a.f()}return i}(e.metrics,this.outputNames),p=function(e,n,r){t.outputNames.length>1&&(n=t.outputNames[e]+"_"+n),t.metricsNames.push(n),t.metricsTensors.push([r,e])};xa("metric",(function(){for(var e=function(e){if(-1!==f.indexOf(e))return"continue";!function(n){var r,i,a,o,s=(0,Si.Z)(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;if("string"===typeof u&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(u)){var l=t.internalOutputShapes[e];1===l[l.length-1]||t.lossFunctions[e]===js?-1!==["accuracy","acc"].indexOf(u)?i=Xs:-1!==["crossentropy","ce"].indexOf(u)&&(i=Js):t.lossFunctions[e]===Vs?-1!==["accuracy","acc"].indexOf(u)?i=$s:-1!==["crossentropy","ce"].indexOf(u)&&(i=tu):-1!==["accuracy","acc"].indexOf(u)?i=qs:-1!==["crossentropy","ce"].indexOf(u)&&(i=eu);var c=void 0;-1!==["accuracy","acc"].indexOf(u)?c="acc":-1!==["crossentropy","ce"].indexOf(u)&&(c="ce"),a=i,r=""+c}else{var d=ru(u);a=d,r=""+iu(u)}var f=void 0;xa(r,(function(){f=a})),p(e,r,f)}}catch(m){s.e(m)}finally{s.f()}}(h[e])},n=0;n<t.outputs.length;++n)e(n)})),this.collectedTrainableWeights=this.trainableWeights}},{key:"checkTrainableWeightsConsistency",value:function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}},{key:"evaluate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null==n.batchSize?32:n.batchSize;Pu(r);var i=!0,a=this.standardizeUserDataXY(e,t,i,r);try{var o=a[0].concat(a[1]);this.makeTestFunction();var s=this.testFunction,u=this.testLoop(s,o,r,n.verbose,n.steps);return Wi(u)}finally{Wu(a[0],e),Wu(a[1],t)}}},{key:"evaluateDataset",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.makeTestFunction(),e.abrupt("return",Nu(this,t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"checkNumSamples",value:function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"steps";if(null!=n){if(r=null,null!=t)throw new Li("If ".concat(i," is set, batchSize must be null or undefined.")+"Got batchSize = ".concat(t))}else{if(null==e)throw new Li("Either the input data should have a defined shape, or "+"".concat(i," shoud be specified."));r=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return r}},{key:"execute",value:function(e,t){if(Array.isArray(t)&&0===t.length)throw new Li("`outputs` is an empty Array, which is not allowed.");var n=Array.isArray(t),r=n?t:[t],i=this.retrieveSymbolicTensors(r),a=new Oo;if(e instanceof M.esB&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new Li("The number of inputs provided (".concat(e.length,") ")+"does not match the number of inputs of this model "+"(".concat(this.inputs.length,")."));for(var o=0;o<this.inputs.length;++o)a.add(this.inputs[o],e[o])}else{var s,u=(0,Si.Z)(this.inputs);try{for(u.s();!(s=u.n()).done;){var l=s.value,c=e[l.name];if(null==c)throw new Li("No value is provided for the model's input ".concat(l.name));a.add(l,c)}}catch(f){u.e(f)}finally{u.f()}}var d=Zo(i,a);return n?d:d[0]}},{key:"retrieveSymbolicTensors",value:function(e){var t,n=zi(null,e.length),r=e.length,i=(0,Si.Z)(this.layers);try{for(i.s();!(t=i.n()).done;){for(var a=t.value,o=Array.isArray(a.output)?a.output:[a.output],s=o.map((function(e){return e.name})),u=0;u<e.length;++u){var l=s.indexOf(e[u]);if(-1!==l&&(n[u]=o[l],r--),0===r)break}if(0===r)break}}catch(d){i.e(d)}finally{i.f()}if(r>0){var c=[];throw n.forEach((function(t,n){null==t&&c.push(e[n])})),new Li("Cannot find SymbolicTensors for output name(s): "+"".concat(JSON.stringify(c)))}return n}},{key:"predictLoop",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return M.lub((function(){var i=t.checkNumSamples(e);if(r)throw new Fi("Verbose predictLoop() is not implemented yet.");for(var a=Fu(i,n),o=t.outputs.map((function(e){return[]})),s=function(n){M.lub((function(){var r=a[n][0],i=a[n][1],o=Ou(e,r,i),s=[];if(Array.isArray(o))for(var u=0;u<o.length;++u)s.push({key:t.inputs[u],value:o[u]});else s.push({key:t.inputs[0],value:o});var l=new Oo(s);return Zo(t.outputs,l)})).forEach((function(e,t){return o[t].push(e)}))},u=0;u<a.length;++u)s(u);return Wi(o.map((function(e){return M.zoF(e,0)})))}))}},{key:"predict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ju(e);Yu(n,this.inputNames,this.feedInputShapes,!1);try{var r=null==t.batchSize?32:t.batchSize;return Pu(r),this.predictLoop(n,r)}finally{Wu(n,e)}}},{key:"predictOnBatch",value:function(e){Yu(e,this.inputNames,this.feedInputShapes,!0);var t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}},{key:"standardizeUserDataXY",value:function(e,t){var n=arguments.length>3?arguments[3]:void 0;if(null==this.optimizer_)throw new Oi("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");for(var r=[],i=0;i<this.feedOutputShapes.length;++i){var a=this.feedOutputShapes[i],o=this.feedLossFns[i];o===Vs?r.push(a.slice(0,a.length-1).concat([1])):r.push(a)}if(Xu(e=Gu(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=Gu(t,this.feedOutputNames,r,!1,"target")),qu(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=n&&n>0&&e[0].shape[0]%n!==0)throw new Li("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+"".concat(n,". Found: ").concat(e[0].shape[0]," sample(s)."));return[e,t]}},{key:"standardizeUserData",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n,r,i){var a,o,s,u,l,c,d,f,h,p=arguments;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!(p.length>4&&void 0!==p[4])||p[4],o=p.length>5?p[5]:void 0,s=this.standardizeUserDataXY(t,n,a,o),u=(0,E.Z)(s,2),l=u[0],c=u[1],null==r){e.next=5;break}throw new Error("sample weight is not supported yet.");case 5:if(d=null,null==i){e.next=19;break}f=bu(i,this.outputNames),d=[],h=0;case 10:if(!(h<f.length)){e.next=19;break}return e.t0=d,e.next=14,wu(c[h],null,f[h]);case 14:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 16:++h,e.next=10;break;case 19:return e.abrupt("return",[l,c,d]);case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"testLoop",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0;return M.lub((function(){var o=r.checkNumSamples(t,n,a,"steps"),s=[];if(i>0)throw new Fi("Verbose mode is not implemented yet.");if(null!=a)throw new Fi("steps mode in testLoop() is not implemented yet");for(var u=Fu(o,n),l=(0,M.RRF)(Ia(0,o)),c=0;c<u.length;++c){var d=u[c][0],f=u[c][1],h=Ra(l,d,f-d),p=Lu(t,h),m=e(p);if(0===c)for(var g=0;g<m.length;++g)s.push((0,M.iD$)(0));for(var v=0;v<m.length;++v){var y=m[v];s[v]=M.IHx(s[v],M.dC7(f-d,y))}}for(var x=0;x<s.length;++x)s[x]=M.hiC(s[x],o);return s}))}},{key:"getDedupedMetricsNames",value:function(){for(var e=this.metricsNames,t=[],n=0;n<e.length;++n){var r=e[n],i=r;if(ji(e,r)>1){var a=ji(e.slice(0,n),r);i+="_".concat(a)}t.push(i)}return t}},{key:"makeTrainFunction",value:function(){var e=this;return function(t){var n=[],r=t.slice(0,e.inputs.length),i=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),a=t.slice(e.inputs.length+e.outputs.length,e.inputs.length+2*e.outputs.length),o=[],s=e.collectedTrainableWeights.map((function(e){return e.read()}));return[e.optimizer_.minimize((function(){for(var t=[],s=0;s<e.inputs.length;++s)t.push({key:e.inputs[s],value:r[s]});for(var u,l=new Oo(t),c=Zo(e.outputs,l,{training:!0}),d=0;d<e.lossFunctions.length;++d){var f=(0,e.lossFunctions[d])(i[d],c[d]);null!=a[d]&&(f=Su(f,a[d]));var h=M.J69(f);n.push(h),u=0===d?f:M.IHx(u,f)}for(var p=0;p<e.metricsTensors.length;++p){var m=void 0;if(e.outputs.length>1&&p<e.outputs.length)m=n[p];else{var g=e.metricsTensors[p][0],v=e.metricsTensors[p][1];m=M.J69(g(i[v],c[v]))}M.CnY(m),o.push(m)}return u=M.J69(u),e.calculateLosses().forEach((function(e){u=M.IHx(u,e)})),u}),!0,s)].concat(o)}}},{key:"makeTestFunction",value:function(){var e=this;this.testFunction=function(t){return M.lub((function(){for(var n,r=[],i=t.slice(0,e.inputs.length),a=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),o=[],s=0;s<e.inputs.length;++s)o.push({key:e.inputs[s],value:i[s]});for(var u=new Oo(o),l=Zo(e.outputs,u),c=0;c<e.lossFunctions.length;++c){var d=e.lossFunctions[c],f=M.J69(d(a[c],l[c]));n=0===c?f:M.IHx(n,f),r.push(n)}for(var h=0;h<e.metricsTensors.length;++h){var p=e.metricsTensors[h][0],m=e.metricsTensors[h][1],g=M.J69(p(a[m],l[m]));r.push(g)}return r}))}}},{key:"fit",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){var r,i=arguments;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},e.abrupt("return",zu(this,t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tu(this,t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){var r,i,a,o,s,u,l,c,d,f;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.standardizeUserData(t,n);case 2:r=e.sent,i=r[0],a=r[1],o=this.makeTrainFunction(),s=o(i.concat(a)),u=[],l=(0,Si.Z)(s),e.prev=9,l.s();case 11:if((c=l.n()).done){e.next=19;break}return d=c.value,e.next=15,d.data();case 15:f=e.sent,u.push(f[0]);case 17:e.next=11;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(9),l.e(e.t0);case 24:return e.prev=24,l.f(),e.finish(24);case 27:return M.B90(s),Wu(r[0],t),Wu(r[1],n),e.abrupt("return",Wi(u));case 31:case"end":return e.stop()}}),e,this,[[9,21,24,27]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getNamedWeights",value:function(e){for(var t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,i=this.getWeights(n),a=0;a<r.length;++a)n&&!r[a].trainable||t.push({name:r[a].originalName,tensor:i[a]});return t}},{key:"stopTraining",get:function(){return this.stopTraining_},set:function(e){this.stopTraining_=e}},{key:"optimizer",get:function(){return this.optimizer_},set:function(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}},{key:"dispose",value:function(){var e=Rs((0,Ai.Z)(n.prototype),"dispose",this).call(this);if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){var t=M.sq6().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-M.sq6().numTensors}return e}},{key:"getLossIdentifiers",value:function(){var e;if("string"===typeof this.loss)e=Hi(this.loss);else if(Array.isArray(this.loss)){var t,n=(0,Si.Z)(this.loss);try{for(n.s();!(t=n.n()).done;){if("string"!==typeof t.value)throw new Error("Serialization of non-string loss is not supported.")}}catch(u){n.e(u)}finally{n.f()}e=this.loss.map((function(e){return Hi(e)}))}else{var r=Object.keys(this.loss);e={};for(var i=this.loss,a=0,o=r;a<o.length;a++){var s=o[a];if("string"!==typeof i[s])throw new Error("Serialization of non-string loss is not supported.");e[s]=Hi(i[s])}}return e}},{key:"getMetricIdentifiers",value:function(){if("string"===typeof this.metrics||"function"===typeof this.metrics)return[Hi(iu(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((function(e){return Hi(iu(e))}));var e={};for(var t in this.metrics)e[t]=Hi(iu(this.metrics[t]));return e}},{key:"getTrainingConfig",value:function(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}},{key:"loadTrainingConfig",value:function(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");var t,n,r=Ps(mu(e.optimizer_config));if("string"===typeof e.loss)t=Gi(e.loss);else if(Array.isArray(e.loss))t=e.loss.map((function(e){return Gi(e)}));else if(null!=e.loss)for(var i in t={},e.loss)t[i]=Gi(e.loss[i]);if(Array.isArray(e.metrics))n=e.metrics.map((function(e){return Gi(e)}));else if(null!=e.metrics)for(var a in n={},e.metrics)n[a]=Gi(e.metrics[a]);this.compile({loss:t,metrics:n,optimizer:r})}},{key:"save",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){var r,i,a,o,s,u,l,c,d;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=9;break}if(0!==(r=M.io.getSaveHandlers(t)).length){e.next=6;break}throw new Li("Cannot find any save handlers for URL '".concat(t,"'"));case 6:if(!(r.length>1)){e.next=8;break}throw new Li("Found more than one (".concat(r.length,") save handlers for ")+"URL '".concat(t,"'"));case 8:t=r[0];case 9:if(null!=t.save){e.next=11;break}throw new Li("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");case 11:return e.next=13,M.io.encodeWeights(this.getNamedWeights(n));case 13:if(i=e.sent,!1,null,a=this.toJSON(null,false),o={modelTopology:a,format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v".concat(vu),convertedBy:null},!(null!=n&&n.includeOptimizer)||null==this.optimizer){e.next=34;break}return o.trainingConfig=this.getTrainingConfig(),u="optimizer",e.t0=M.io,e.next=25,this.optimizer.getWeights();case 25:return e.t1=e.sent,e.t2=u,e.next=29,e.t0.encodeWeights.call(e.t0,e.t1,e.t2);case 29:l=e.sent,c=l.data,d=l.specs,(s=i.specs).push.apply(s,(0,vr.Z)(d)),i.data=M.io.concatenateArrayBuffers([i.data,c]);case 34:return null!=this.userDefinedMetadata&&(!0,ou(this.userDefinedMetadata,this.name,true),o.userDefinedMetadata=this.userDefinedMetadata),o.weightData=i.data,o.weightSpecs=i.specs,e.abrupt("return",t.save(o));case 38:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setUserDefinedMetadata",value:function(e){ou(e,this.name),this.userDefinedMetadata=e}},{key:"getUserDefinedMetadata",value:function(){return this.userDefinedMetadata}}]),n}(yu);Ku.className="Model",M.m7h.registerClass(Ku);var Qu=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n)}(Ku);function Ju(e,t){return $u.apply(this,arguments)}function $u(){return $u=(0,ys.Z)(bs().mark((function e(t,n){var r,i,a,o,s,u,l,c;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("modelTopology"in t||(t={modelTopology:t}),null!=(r=t.modelTopology).model_config&&(r=r.model_config),i=mu(r),a=Ps(i,n),null==t.weightsManifest){e.next=15;break}return e.next=9,M.io.loadWeights(t.weightsManifest,t.pathPrefix,a.weights.map((function(e){return e.originalName})));case 9:o=e.sent,s={},u=(0,Si.Z)(a.weights);try{for(u.s();!(l=u.n()).done;)c=l.value,s[c.originalName]=o[c.originalName]}catch(d){u.e(d)}finally{u.f()}a.loadWeights(s),(0,M.B90)(o);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}function el(){return(el=(0,ys.Z)(bs().mark((function e(t,n){var r;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&(n={}),"string"!==typeof t){e.next=10;break}if(0!==(r=M.io.getLoadHandlers(t,n)).length){e.next=7;break}r.push(M.io.browserHTTPRequest(t,n)),e.next=9;break;case 7:if(!(r.length>1)){e.next=9;break}throw new Li("Found more than one (".concat(r.length,") load handlers for ")+"URL '".concat(t,"'"));case 9:t=r[0];case 10:return e.abrupt("return",tl(t,void 0,n));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tl(e,t,n){return nl.apply(this,arguments)}function nl(){return nl=(0,ys.Z)(bs().mark((function e(t,n,r){var i,a,o,s,u,l,c,d,f;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==r&&(r={}),null!=t.load){e.next=3;break}throw new Li("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");case 3:return e.next=5,t.load();case 5:if(i=e.sent,null!=(a=i.modelTopology).model_config&&(a=a.model_config),o=null==r.strict||r.strict,s=null!=i.weightData&&null!=i.weightSpecs&&o,u=Ps(mu(a),n,s),null!=(l=i.trainingConfig)&&u.loadTrainingConfig(l),null!=i.userDefinedMetadata&&u.setUserDefinedMetadata(i.userDefinedMetadata),null==i.weightData){e.next=24;break}if(null!=i.weightSpecs){e.next=17;break}throw new Li("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");case 17:if(c=rl(i.weightData,i.weightSpecs),d=c.modelWeights,f=c.optimizerWeights,u.loadWeights(d,o),!(null!=u.optimizer&&f.length>0)){e.next=22;break}return e.next=22,u.optimizer.setWeights(f);case 22:(0,M.B90)(d),(0,M.B90)(f.map((function(e){return e.tensor})));case 24:return e.abrupt("return",u);case 25:case"end":return e.stop()}}),e)}))),nl.apply(this,arguments)}function rl(e,t){var n=M.io.decodeWeights(e,t),r={},i=[];return t.forEach((function(e){"optimizer"===e.group?i.push({name:e.name,tensor:n[e.name]}):r[e.name]=n[e.name]})),{modelWeights:r,optimizerWeights:i}}Qu.className="Functional",M.m7h.registerClass(Qu);var il=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;if((0,Ci.Z)(this,n),e=e||{},(r=t.call(this,{inputs:[],outputs:[]})).trainable=!0,r.built=!1,r.name=null!=e.name?e.name:ua("sequential_"),null!=e.layers){var i,a=(0,Si.Z)(e.layers);try{for(a.s();!(i=a.n()).done;){var o=i.value;r.add(o)}}catch(s){a.e(s)}finally{a.f()}}return r}return(0,ki.Z)(n,[{key:"checkShape",value:function(e){if(e.inboundNodes[0].outputTensors[0].shape.some((function(e){return e<0})))throw new Li("Negative dimension size caused by adding layer "+"".concat(e.name," with input shape [")+"".concat(e.inboundNodes[0].inputTensors[0].shape,"]"))}},{key:"add",value:function(e){var t,r=e instanceof n||e instanceof Ku;if(r){if(1!==(t=e).outputs.length)throw new Li("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==t.inputs.length)throw new Li("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new Li("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var i=Po({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(i)}if(r)this.outputs=t.outputs,this.inputs=t.inputs;else{if(1!==e.inboundNodes.length)throw new Li("A layer added to a Sequential model must not already be "+"connected somewhere else. LayersModel received layer ".concat(e.name," ")+"which has ".concat(e.inboundNodes.length," pre-existing inbound ")+"connections.");if(1!==e.inboundNodes[0].outputTensors.length)throw new Li("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=No(this.outputs[0])}this.inboundNodes=[],new Ao({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:zi(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((function(e){return e.shape})),outputShapes:this.outputs[0].shape})}else{var a=e.apply(this.outputs[0]);if(Array.isArray(a))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[a],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}},{key:"pop",value:function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}},{key:"call",value:function(e,t){return null==this.model&&this.build(),this.model.call(e,t)}},{key:"build",value:function(e){if(bo(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new Ku({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}},{key:"countParams",value:function(){return this.built||this.build(),Rs((0,Ai.Z)(n.prototype),"countParams",this).call(this)}},{key:"summary",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;this.built||this.build(),Rs((0,Ai.Z)(n.prototype),"summary",this).call(this,e,t,r)}},{key:"setWeights",value:function(e){null==this.model&&this.build(),this.model.setWeights(e)}},{key:"evaluate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new Oi("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}},{key:"evaluateDataset",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.built){e.next=2;break}throw new Oi("The model needs to be compiled before being used.");case 2:return e.abrupt("return",this.model.evaluateDataset(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==this.model&&this.build(),this.model.predict(e,t)}},{key:"predictOnBatch",value:function(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}},{key:"compile",value:function(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}},{key:"optimizer",get:function(){return null==this.model?void 0:this.model.optimizer},set:function(e){this.model.optimizer=e}},{key:"fit",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){var r,i=arguments;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>2&&void 0!==i[2]?i[2]:{},this.built){e.next=3;break}throw new Oi("The model needs to be compiled before being used.");case 3:return e.abrupt("return",this.model.fit(t,n,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.built){e.next=2;break}throw new Oi("The model needs to be compiled before being used.");case 2:return e.abrupt("return",this.model.fitDataset(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.model.trainOnBatch(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"stopTraining",get:function(){if(null==this.model)throw new Li("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining},set:function(e){if(null==this.model)throw new Li("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}},{key:"getConfig",value:function(){var e,t=[],n=(0,Si.Z)(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value,i={};i.className=r.getClassName(),i.config=r.getConfig(),t.push(i)}}catch(a){n.e(a)}finally{n.f()}return{name:this.name,layers:t}}}],[{key:"fromConfig",value:function(e,t){var r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new Li("Legacy serialization format not supported yet.");r=t}else M.D5U.assert(null!=t.layers,(function(){return"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."})),r=t.layers,delete t.layers,a=t;var o=new e(a);if(!(o instanceof n))throw new Fi("Sequential.fromConfig called on non-Sequential input: ".concat(o));var s,u=(0,Si.Z)(r);try{for(u.s();!(s=u.n()).done;){var l=s.value,c=void 0,d=Ps(l,c,i);i&&d.setFastWeightInitDuringBuild(!0),o.add(d)}}catch(f){u.e(f)}finally{u.f()}return o}}]),n}(Ku);function al(e){return new Ku(e)}function ol(e){return new il(e)}function sl(e,t){return null==t&&(t={}),function(e,t){return el.apply(this,arguments)}(e,t)}function ul(e){return Po(e)}function ll(e,t){Ms.registerCallbackConstructor(e,t)}il.className="Sequential",M.m7h.registerClass(il);var cl=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"getConfig",value:function(){return{}}}]),n}(M.m7h.Serializable),dl=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Ha(e,t)}}]),n}(cl);dl.className="elu",M.m7h.registerClass(dl);var fl=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"apply",value:function(e){return M.U8D(e)}}]),n}(cl);fl.className="selu",M.m7h.registerClass(fl);var hl=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"apply",value:function(e){return M.UYe(e)}}]),n}(cl);hl.className="relu",M.m7h.registerClass(hl);var pl=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"apply",value:function(e){return(0,M.lub)((function(){return M.LTh(6,M.UYe(e))}))}}]),n}(cl);pl.className="relu6",M.m7h.registerClass(pl);var ml=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"apply",value:function(e){return e}}]),n}(cl);ml.className="linear",M.m7h.registerClass(ml);var gl=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"apply",value:function(e){return M.XD2(e)}}]),n}(cl);gl.className="sigmoid",M.m7h.registerClass(gl);var vl=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"apply",value:function(e){return function(e){return(0,M.lub)((function(){var t=M.IHx(.5,M.dC7(.2,e));return M.iUl(t,0,1)}))}(e)}}]),n}(cl);vl.className="hardSigmoid",M.m7h.registerClass(vl);var yl=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"apply",value:function(e){return M.Wvh(e)}}]),n}(cl);yl.className="softplus",M.m7h.registerClass(yl);var xl=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"apply",value:function(e){return function(e){return(0,M.lub)((function(){return M.hiC(e,M.IHx(M.WnP(e),1))}))}(e)}}]),n}(cl);xl.className="softsign",M.m7h.registerClass(xl);var bl=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"apply",value:function(e){return M.AEp(e)}}]),n}(cl);bl.className="tanh",M.m7h.registerClass(bl);var wl=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return M.XAC(e,t)}}]),n}(cl);wl.className="softmax",M.m7h.registerClass(wl);var _l=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return M.CmS(e,t)}}]),n}(cl);_l.className="logSoftmax",M.m7h.registerClass(_l);var Sl=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,M.lub)((function(){return M.dC7(M.XD2(M.dC7(e,t)),e)}))}}]),n}(cl);Sl.className="swish",M.m7h.registerClass(Sl);var Cl=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"apply",value:function(e){return(0,M.lub)((function(){return M.dC7(e,M.AEp(M.Wvh(e)))}))}}]),n}(cl);function kl(e){return e.getClassName()}function Dl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ki(e,M.m7h.SerializationMap.getMap().classNameMap,t,"activation")}function Tl(e){if(null==e){var t={className:"linear",config:{}};return Dl(t)}if("string"===typeof e){var n={};return n.className=e,n.config={},Dl(n)}return e instanceof cl?e:Dl(e)}function Il(e){if(null!=e&&"object"!==typeof e)throw new Error("Argument to L1L2 regularizer's constructor is expected to be an "+"object, but received: ".concat(e))}Cl.className="mish",M.m7h.registerClass(Cl);var Al=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n)}(M.m7h.Serializable),Ml=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),r=t.call(this),Il(e),r.l1=null==e||null==e.l1?.01:e.l1,r.l2=null==e||null==e.l2?.01:e.l2,r.hasL1=0!==r.l1,r.hasL2=0!==r.l2,r}return(0,ki.Z)(n,[{key:"apply",value:function(e){var t=this;return(0,M.lub)((function(){var n=(0,M.lls)([1]);return t.hasL1&&(n=(0,M.IHx)(n,(0,M.Smz)(M.dC7(t.l1,(0,M.WnP)(e))))),t.hasL2&&(n=(0,M.IHx)(n,(0,M.Smz)(M.dC7(t.l2,ja(e))))),M.XLQ(n,[])}))}},{key:"getConfig",value:function(){return{l1:this.l1,l2:this.l2}}}],[{key:"fromConfig",value:function(e,t){return new e({l1:t.l1,l2:t.l2})}}]),n}(Al);Ml.className="L1L2",M.m7h.registerClass(Ml);var El={l1l2:"L1L2"};function Nl(e){return qi(e)}function Rl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ki(e,M.m7h.SerializationMap.getMap().classNameMap,t,"regularizer")}function Pl(e){return null==e?null:"string"===typeof e?Rl({className:e in El?El[e]:e,config:{}}):e instanceof Al?e:Rl(e)}var Ol=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,null==e?{}:e)).supportsMasking=!0,null!=e&&(r.maxValue=e.maxValue),r}return(0,ki.Z)(n,[{key:"call",value:function(e,t){e=xo(e);var n=(0,M.UYe)(e);return null!=this.maxValue&&(n=(0,M.iUl)(n,0,this.maxValue)),n}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={maxValue:this.maxValue},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo);Ol.className="ReLU",M.m7h.registerClass(Ol);var Ll=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA=.3,null==e&&(e={}),r.alpha=null==e.alpha?r.DEFAULT_ALPHA:e.alpha,r}return(0,ki.Z)(n,[{key:"call",value:function(e,t){var n=xo(e);return(0,M.hi7)(n,this.alpha)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={alpha:this.alpha},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo);Ll.className="LeakyReLU",M.m7h.registerClass(Ll);var Fl=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;if((0,Ci.Z)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),r.supportsMasking=!0,r.alphaInitializer=go(e.alphaInitializer||r.DEFAULT_ALPHA_INITIALIZER),r.alphaRegularizer=Pl(e.alphaRegularizer),r.alphaConstraint=Qo(e.alphaConstraint),null==e.sharedAxes)r.sharedAxes=null;else if(Array.isArray(e.sharedAxes))r.sharedAxes=e.sharedAxes;else{if("number"!==typeof e.sharedAxes)throw new Li("Expected sharedAxes to be a number or an array of numbers, "+"but got ".concat(e.sharedAxes));r.sharedAxes=[e.sharedAxes]}return r}return(0,ki.Z)(n,[{key:"build",value:function(e){var t=(e=bo(e)).slice(1);if(null!=this.sharedAxes){var n,r=(0,Si.Z)(this.sharedAxes);try{for(r.s();!(n=r.n()).done;){t[n.value-1]=1}}catch(o){r.e(o)}finally{r.f()}}this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);var i={};if(null!=this.sharedAxes)for(var a=1;a<e.length;++a)i[a]=e[a];this.inputSpec=[new Do({ndim:e.length,axes:i})],this.built=!0}},{key:"call",value:function(e,t){return e=xo(e),(0,M.AL3)(e,this.alpha.read())}},{key:"getConfig",value:function(){var e={alphaInitializer:mo(this.alphaInitializer),alphaRegularizer:Nl(this.alphaRegularizer),alphaConstraint:Yo(this.alphaConstraint),sharedAxes:this.sharedAxes},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo);Fl.className="PReLU",M.m7h.registerClass(Fl);var Zl=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;if((0,Ci.Z)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==r.DEFAULT_ALPHA)throw new Fi("Non-default alpha value (".concat(e.alpha,") is not supported by the ")+"ELU layer yet.");return r.alpha=null==e.alpha?r.DEFAULT_ALPHA:e.alpha,r}return(0,ki.Z)(n,[{key:"call",value:function(e,t){var n=xo(e);return(0,M.pyx)(n)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={alpha:this.alpha},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo);Zl.className="ELU",M.m7h.registerClass(Zl);var Bl=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_THETA=1,null==e&&(e={}),r.theta=null==e.theta?r.DEFAULT_THETA:e.theta,r}return(0,ki.Z)(n,[{key:"call",value:function(e,t){var n=xo(e);return(0,M.dC7)(n,(0,M.pju)((0,M.pjt)(n,this.theta),"float32"))}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={theta:this.theta},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo);Bl.className="ThresholdedReLU",M.m7h.registerClass(Bl);var zl=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_AXIS=1,null==e&&(e={}),r.softmax=(new wl).apply,r.axis=null==e.axis?r.DEFAULT_AXIS:e.axis,r}return(0,ki.Z)(n,[{key:"call",value:function(e,t){var n=xo(e);return this.softmax(n,this.axis)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={axis:this.axis},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo);zl.className="Softmax",M.m7h.registerClass(zl);var Vl=n(4942);function jl(e,t,n){if("number"===typeof e)return zi(e,t);if(e.length!==t)throw new Li("The ".concat(n," argument must be an integer or tuple of ").concat(t," integers.")+" Received: ".concat(e.length," elements."));for(var r=0;r<t;++r){var i=e[r];if((a=i)!==parseInt(a.toString(),10))throw new Li("The ".concat(n," argument must be an integer or tuple of ").concat(t)+" integers. Received: ".concat(JSON.stringify(e)," including a")+" non-integer number ".concat(i))}return e;var a}function Wl(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if(null==e)return e;var a,o=t+(t-1)*(i-1);return a="same"===n?e:e-o+1,Math.floor((a+r-1)/r)}function Ul(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+Ta([n-t,0]);else{if("same"!==r)throw new Li("Unsupport padding mode: ".concat(r,"."));e*=t}return e}function Hl(e,t){return(0,M.lub)((function(){return ma(t),"channelsFirst"===t?M.p4s(e,[0,2,3,1]):e}))}function Gl(e,t){return(0,M.lub)((function(){return ma(t),"channelsFirst"===t?M.p4s(e,[0,2,3,4,1]):e}))}function Xl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return(0,M.lub)((function(){if(null==a&&(a="channelsLast"),ma(a),3!==e.shape.length)throw new Li("The input of a conv1dWithBias operation should be 3, but is "+"".concat(e.shape.length," instead."));if(3!==t.shape.length)throw new Li("The kernel for a conv1dWithBias operation should be 3, but is "+"".concat(t.shape.length," instead"));if(null!=n&&1!==n.shape.length)throw new Li("The bias for a conv1dWithBias operation should be 1, but is "+"".concat(t.shape.length," instead"));if("channelsFirst"===a&&(e=M.p4s(e,[0,2,1])),"causal"===i)throw new Fi("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var s=M.PAt(e,t,r,"same"===i?"same":"valid","NWC",o);return null!=n&&(s=Ua(s,n)),s}))}function ql(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return(0,M.lub)((function(){if(null==a&&(a="channelsLast"),ma(a),3!==e.rank&&4!==e.rank)throw new Li("conv2dWithBiasActivation expects input to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));if(3!==t.rank&&4!==t.rank)throw new Li("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));var u=Hl(e,a);if("causal"===i)throw new Fi("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return u=M.imm.conv2d({x:u,filter:t,strides:r,pad:"same"===i?"same":"valid",dilations:o,dataFormat:"NHWC",bias:n,activation:s}),"channelsFirst"===a&&(u=M.p4s(u,[0,3,1,2])),u}))}function Yl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;return(0,M.lub)((function(){if(null==a&&(a="channelsLast"),ma(a),4!==e.rank&&5!==e.rank)throw new Li("conv3dWithBias expects input to be of rank 4 or 5, but received "+"".concat(e.rank,"."));if(4!==t.rank&&5!==t.rank)throw new Li("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+"".concat(e.rank,"."));var s=Gl(e,a);if("causal"===i)throw new Fi("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return s=M.pdZ(s,t,r,"same"===i?"same":"valid","NDHWC",o),null!=n&&(s=Ua(s,n)),"channelsFirst"===a&&(s=M.p4s(s,[0,4,1,2,3])),s}))}var Kl=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e,r){var i;if((0,Ci.Z)(this,n),(i=t.call(this,r)).bias=null,i.DEFAULT_KERNEL_INITIALIZER="glorotNormal",i.DEFAULT_BIAS_INITIALIZER="zeros",n.verifyArgs(r),i.rank=e,na(i.rank,"rank"),1!==i.rank&&2!==i.rank&&3!==i.rank)throw new Fi("Convolution layer for rank other than 1, 2, or 3 (".concat(i.rank,") is ")+"not implemented yet.");if(i.kernelSize=jl(r.kernelSize,e,"kernelSize"),i.strides=jl(null==r.strides?1:r.strides,e,"strides"),i.padding=null==r.padding?"valid":r.padding,ga(i.padding),i.dataFormat=null==r.dataFormat?"channelsLast":r.dataFormat,ma(i.dataFormat),i.activation=Tl(r.activation),i.useBias=null==r.useBias||r.useBias,i.biasInitializer=go(r.biasInitializer||i.DEFAULT_BIAS_INITIALIZER),i.biasConstraint=Qo(r.biasConstraint),i.biasRegularizer=Pl(r.biasRegularizer),i.activityRegularizer=Pl(r.activityRegularizer),i.dilationRate=jl(null==r.dilationRate?1:r.dilationRate,e,"dilationRate"),1===i.rank&&Array.isArray(i.dilationRate)&&1!==i.dilationRate.length)throw new Li("dilationRate must be a number or an array of a single number for 1D convolution, but received "+"".concat(JSON.stringify(i.dilationRate)));if(2===i.rank){if("number"===typeof i.dilationRate)i.dilationRate=[i.dilationRate,i.dilationRate];else if(2!==i.dilationRate.length)throw new Li("dilationRate must be a number or array of two numbers for 2D "+"convolution, but received ".concat(JSON.stringify(i.dilationRate)))}else if(3===i.rank)if("number"===typeof i.dilationRate)i.dilationRate=[i.dilationRate,i.dilationRate,i.dilationRate];else if(3!==i.dilationRate.length)throw new Li("dilationRate must be a number or array of three numbers for 3D "+"convolution, but received ".concat(JSON.stringify(i.dilationRate)));return i}return(0,ki.Z)(n,[{key:"getConfig",value:function(){var e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:kl(this.activation),useBias:this.useBias,biasInitializer:mo(this.biasInitializer),biasRegularizer:Nl(this.biasRegularizer),activityRegularizer:Nl(this.activityRegularizer),biasConstraint:Yo(this.biasConstraint)},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"verifyArgs",value:function(e){if(Vi("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!==typeof e.kernelSize&&!ta(e.kernelSize,"number",1,3))throw new Li("BaseConv expects config.kernelSize to be number or number[] with "+"length 1, 2, or 3, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(Eo),Ql=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e,r){var i;return(0,Ci.Z)(this,n),(i=t.call(this,e,r)).kernel=null,n.verifyArgs(r),i.filters=r.filters,na(i.filters,"filters"),i.kernelInitializer=go(r.kernelInitializer||i.DEFAULT_KERNEL_INITIALIZER),i.kernelConstraint=Qo(r.kernelConstraint),i.kernelRegularizer=Pl(r.kernelRegularizer),i}return(0,ki.Z)(n,[{key:"build",value:function(e){e=bo(e);var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Li("The channel dimension of the input should be defined. "+"Found ".concat(e[t]));var n=e[t],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:(0,Vl.Z)({},t,n)}],this.built=!0}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){var t;e=xo(e);var r=null==n.bias?null:n.bias.read(),i=ia(n.activation.getClassName());if(null!=i&&2===n.rank)t=ql(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate,i);else{if(1===n.rank)t=Xl(e,n.kernel.read(),r,n.strides[0],n.padding,n.dataFormat,n.dilationRate[0]);else if(2===n.rank)t=ql(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate);else{if(3!==n.rank)throw new Fi("convolutions greater than 3D are not implemented yet.");t=Yl(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate)}null!=n.activation&&(t=n.activation.apply(t))}return t}))}},{key:"computeOutputShape",value:function(e){e=bo(e);for(var t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2),r=0;r<n.length;++r){var i=Wl(n[r],this.kernelSize[r],this.padding,this.strides[r],"number"===typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);t.push(i)}var a=[e[0]];return"channelsLast"===this.dataFormat?(a=a.concat(t)).push(this.filters):(a.push(this.filters),a=a.concat(t)),a}},{key:"getConfig",value:function(){var e={filters:this.filters,kernelInitializer:mo(this.kernelInitializer),kernelRegularizer:Nl(this.kernelRegularizer),kernelConstraint:Yo(this.kernelConstraint)},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"verifyArgs",value:function(e){if(!("filters"in e)||"number"!==typeof e.filters||e.filters<1)throw new Li("Convolution layer expected config.filters to be a 'number' > 0 "+"but got ".concat(JSON.stringify(e.filters)))}}]),n}(Kl),Jl=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),r=t.call(this,2,e),n.verifyArgs(e),r}return(0,ki.Z)(n,[{key:"getConfig",value:function(){var e=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return delete e.rank,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&!ta(e.kernelSize,"number",1,2))throw new Li("Conv2D expects config.kernelSize to be number or number[] with "+"length 1 or 2, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(Ql);Jl.className="Conv2D",M.m7h.registerClass(Jl);var $l=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),r=t.call(this,3,e),n.verifyArgs(e),r}return(0,ki.Z)(n,[{key:"getConfig",value:function(){var e=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return delete e.rank,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new Li("Conv3D expects config.kernelSize to be number or"+" [number, number, number], but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(Ql);$l.className="Conv3D",M.m7h.registerClass($l);var ec=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;if((0,Ci.Z)(this,n),(r=t.call(this,e)).inputSpec=[new Do({ndim:4})],"same"!==r.padding&&"valid"!==r.padding)throw new Li("Conv2DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(r.padding));return r}return(0,ki.Z)(n,[{key:"build",value:function(e){if(4!==(e=bo(e)).length)throw new Li("Input should have rank 4; Received input shape: "+JSON.stringify(e));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Li("The channel dimension of the inputs should be defined. Found `None`.");var n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Do({ndim:4,axes:(0,Vl.Z)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return M.lub((function(){var t=xo(e);if(4!==t.shape.length)throw new Li("Conv2DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));var r,i,a=t.shape,o=a[0];"channelsFirst"===n.dataFormat?(r=2,i=3):(r=1,i=2);var s=a[r],u=a[i],l=n.kernelSize[0],c=n.kernelSize[1],d=n.strides[0],f=n.strides[1],h=[o,Ul(s,d,l,n.padding),Ul(u,f,c,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=M.p4s(t,[0,2,3,1]));var p=M.bc(t,n.kernel.read(),h,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(p=M.p4s(p,[0,3,1,2])),null!=n.bias&&(p=Ua(p,n.bias.read(),n.dataFormat)),null!=n.activation&&(p=n.activation.apply(p)),p}))}},{key:"computeOutputShape",value:function(e){var t,n,r,i=(e=bo(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3):(t=3,n=1,r=2);var a=this.kernelSize[0],o=this.kernelSize[1],s=this.strides[0],u=this.strides[1];return i[t]=this.filters,i[n]=Ul(i[n],s,a,this.padding),i[r]=Ul(i[r],u,o,this.padding),i}},{key:"getConfig",value:function(){var e=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return delete e.dilationRate,e}}]),n}(Jl);ec.className="Conv2DTranspose",M.m7h.registerClass(ec);var tc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;if((0,Ci.Z)(this,n),(r=t.call(this,e)).inputSpec=[new Do({ndim:5})],"same"!==r.padding&&"valid"!==r.padding)throw new Li("Conv3DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(r.padding));return r}return(0,ki.Z)(n,[{key:"build",value:function(e){if(5!==(e=bo(e)).length)throw new Li("Input should have rank 5; Received input shape: "+JSON.stringify(e));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Li("The channel dimension of the inputs should be defined. Found `None`.");var n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Do({ndim:5,axes:(0,Vl.Z)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return M.lub((function(){var t=xo(e);if(5!==t.shape.length)throw new Li("Conv3DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));var r,i,a,o=t.shape,s=o[0];"channelsFirst"===n.dataFormat?(a=2,r=3,i=4):(a=1,r=2,i=3);var u=o[a],l=o[r],c=o[i],d=n.kernelSize[0],f=n.kernelSize[1],h=n.kernelSize[2],p=n.strides[0],m=n.strides[1],g=n.strides[2],v=[s,Ul(u,p,d,n.padding),Ul(l,m,f,n.padding),Ul(c,g,h,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=M.p4s(t,[0,2,3,4,1]));var y=M.$QV(t,n.kernel.read(),v,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(y=M.p4s(y,[0,4,1,2,3])),null!==n.bias&&(y=Ua(y,n.bias.read(),n.dataFormat)),null!==n.activation&&(y=n.activation.apply(y)),y}))}},{key:"computeOutputShape",value:function(e){var t,n,r,i,a=(e=bo(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3,i=4):(t=4,n=1,r=2,i=3);var o=this.kernelSize[0],s=this.kernelSize[1],u=this.kernelSize[2],l=this.strides[0],c=this.strides[1],d=this.strides[2];return a[t]=this.filters,a[n]=Ul(a[n],l,o,this.padding),a[r]=Ul(a[r],c,s,this.padding),a[i]=Ul(a[i],d,u,this.padding),a}},{key:"getConfig",value:function(){var e=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return delete e.dilationRate,e}}]),n}($l);tc.className="Conv3DTranspose",M.m7h.registerClass(tc);var nc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e,r){var i;if((0,Ci.Z)(this,n),(i=t.call(this,e,r)).DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",i.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",i.depthwiseKernel=null,i.pointwiseKernel=null,null==r.filters)throw new Li("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=r.kernelInitializer||null!=r.kernelRegularizer||null!=r.kernelConstraint)throw new Li("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=r.padding&&"same"!==r.padding&&"valid"!==r.padding)throw new Li("SeparableConv".concat(i.rank,"D supports only padding modes: ")+"'same' and 'valid', but received ".concat(JSON.stringify(r.padding)));return i.depthMultiplier=null==r.depthMultiplier?1:r.depthMultiplier,i.depthwiseInitializer=go(r.depthwiseInitializer||i.DEFAULT_DEPTHWISE_INITIALIZER),i.depthwiseRegularizer=Pl(r.depthwiseRegularizer),i.depthwiseConstraint=Qo(r.depthwiseConstraint),i.pointwiseInitializer=go(r.depthwiseInitializer||i.DEFAULT_POINTWISE_INITIALIZER),i.pointwiseRegularizer=Pl(r.pointwiseRegularizer),i.pointwiseConstraint=Qo(r.pointwiseConstraint),i}return(0,ki.Z)(n,[{key:"build",value:function(e){if((e=bo(e)).length<this.rank+2)throw new Li("Inputs to SeparableConv".concat(this.rank,"D should have rank ")+"".concat(this.rank+2,", but received input shape: ")+"".concat(JSON.stringify(e)));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new Li("The channel dimension of the inputs should be defined, "+"but found ".concat(JSON.stringify(e[t])));for(var n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),i=[],a=0;a<this.rank;++a)i.push(1);i.push(n*this.depthMultiplier,this.filters);var o=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,o,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",i,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,o,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,o,this.biasConstraint):this.bias=null,this.inputSpec=[new Do({ndim:this.rank+2,axes:(0,Vl.Z)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){var t;if(e=xo(e),1===n.rank)throw new Fi("1D separable convolution is not implemented yet.");return 2===n.rank&&("channelsFirst"===n.dataFormat&&(e=M.p4s(e,[0,2,3,1])),t=M.U_I(e,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,"NHWC")),n.useBias&&(t=Ua(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),"channelsFirst"===n.dataFormat&&(t=M.p4s(t,[0,3,1,2])),t}))}},{key:"getConfig",value:function(){var e=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=mo(this.depthwiseInitializer),e.pointwiseInitializer=mo(this.pointwiseInitializer),e.depthwiseRegularizer=Nl(this.depthwiseRegularizer),e.pointwiseRegularizer=Nl(this.pointwiseRegularizer),e.depthwiseConstraint=Yo(this.depthwiseConstraint),e.pointwiseConstraint=Yo(this.pointwiseConstraint),e}}]),n}(Ql);nc.className="SeparableConv";var rc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),t.call(this,2,e)}return(0,ki.Z)(n)}(nc);rc.className="SeparableConv2D",M.m7h.registerClass(rc);var ic=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),r=t.call(this,1,e),n.verifyArgs(e),r.inputSpec=[{ndim:3}],r}return(0,ki.Z)(n,[{key:"getConfig",value:function(){var e=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return delete e.rank,delete e.dataFormat,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&!ta(e.kernelSize,"number",1,1))throw new Li("Conv1D expects config.kernelSize to be number or number[] with "+"length 1, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(Ql);ic.className="Conv1D",M.m7h.registerClass(ic);var ac=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),r=t.call(this,e),"number"===typeof e.cropping?r.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"===typeof e.cropping[0]?r.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:r.cropping=e.cropping,r.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,r.inputSpec=[{ndim:4}],r}return(0,ki.Z)(n,[{key:"computeOutputShape",value:function(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){if(e=xo(e),"channelsLast"===n.dataFormat){var t=Oa(e,n.cropping[0][0],e.shape[1]-n.cropping[0][0]-n.cropping[0][1],2);return Oa(t,n.cropping[1][0],e.shape[2]-n.cropping[1][1]-n.cropping[1][0],3)}var r=Oa(e,n.cropping[0][0],e.shape[2]-n.cropping[0][0]-n.cropping[0][1],3);return Oa(r,n.cropping[1][0],e.shape[3]-n.cropping[1][1]-n.cropping[1][0],4)}))}},{key:"getConfig",value:function(){var e={cropping:this.cropping,dataFormat:this.dataFormat},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo);ac.className="Cropping2D",M.m7h.registerClass(ac);var oc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r,i;return(0,Ci.Z)(this,n),(r=t.call(this,e)).DEFAULT_SIZE=[2,2],r.inputSpec=[{ndim:4}],r.size=null==e.size?r.DEFAULT_SIZE:e.size,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,ma(r.dataFormat),r.interpolation=null==e.interpolation?"nearest":e.interpolation,i=r.interpolation,ea(ca,"InterpolationFormat",i),r}return(0,ki.Z)(n,[{key:"computeOutputShape",value:function(e){if("channelsFirst"===this.dataFormat){var t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}var r=null==e[1]?null:this.size[0]*e[1],i=null==e[2]?null:this.size[1]*e[2];return[e[0],r,i,e[3]]}},{key:"call",value:function(e,t){var n=this;return M.lub((function(){var t=xo(e),r=t.shape;if("channelsFirst"===n.dataFormat){t=M.p4s(t,[0,2,3,1]);var i=n.size[0]*r[2],a=n.size[1]*r[3],o="nearest"===n.interpolation?M.BHj.resizeNearestNeighbor(t,[i,a]):M.BHj.resizeBilinear(t,[i,a]);return M.p4s(o,[0,3,1,2])}var s=n.size[0]*r[1],u=n.size[1]*r[2];return"nearest"===n.interpolation?M.BHj.resizeNearestNeighbor(t,[s,u]):M.BHj.resizeBilinear(t,[s,u])}))}},{key:"getConfig",value:function(){var e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo);oc.className="UpSampling2D",M.m7h.registerClass(oc);var sc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,2,e)).depthwiseKernel=null,r.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,r.depthwiseInitializer=go(e.depthwiseInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.depthwiseConstraint=Qo(e.depthwiseConstraint),r.depthwiseRegularizer=Pl(e.depthwiseRegularizer),r}return(0,ki.Z)(n,[{key:"build",value:function(e){if((e=bo(e)).length<4)throw new Li("Inputs to DepthwiseConv2D should have rank 4. "+"Received input shape: ".concat(JSON.stringify(e),"."));var t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new Li("The channel dimension of the inputs to DepthwiseConv2D should "+"be defined, but is not (".concat(e[t],")."));var n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){var t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"valid",i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return(0,M.lub)((function(){null==i&&(i="channelsLast"),ma(i);var o=Hl(e,i);if(4!==e.rank)throw new Li("Input for depthwiseConv2d is required to be 4-D, but is instead "+"".concat(e.rank,"-D"));if(4!==t.rank)throw new Li("depthwiseKernel is required to be 4-D, but is instead "+"".concat(t.rank,"-D"));return o=M.B10(o,t,n,"same"===r?"same":"valid","NHWC",a),"channelsFirst"===i&&(o=M.p4s(o,[0,3,1,2])),o}))}(e=xo(e),n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat,null);return n.useBias&&(t=Ua(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),t}))}},{key:"computeOutputShape",value:function(e){e=bo(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,i=Wl(t,this.kernelSize[0],this.padding,this.strides[0]),a=Wl(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,i,a]:[e[0],i,a,r]}},{key:"getConfig",value:function(){var e=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=mo(this.depthwiseInitializer),e.depthwiseRegularizer=Nl(this.depthwiseRegularizer),e.depthwiseConstraint=Yo(this.depthwiseRegularizer),e}}]),n}(Kl);function uc(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new Li("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function i(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=i(t),constants:n=i(n)}}function lc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return M.lub((function(){var u=t.shape.length;if(u<3)throw new Li("Input should be at least 3D, but is ".concat(u,"D."));var l=[1,0].concat(Ia(2,u));if(t=M.p4s(t,l),null!=a)throw new Fi("The rnn() functoin of the deeplearn.js backend does not support constants yet.");o&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=i&&((i=M.pju(M.pju(i,"bool"),"float32")).rank===u-1&&(i=M.dt4(i,-1)),i=M.p4s(i,l)),r&&(t=M.GYS(t,0),null!=i&&(i=M.GYS(i,0)));var c,d,f=[],h=n,p=t.shape[0],m=M.HHK(t);null!=i&&(d=M.HHK(i));for(var g,v=function(t){var n=m[t],r=M.lub((function(){return e(n,h)}));if(null==i)c=r[0],h=r[1];else{var a=M.lub((function(){var e=d[t],n=M.luU(M.JpU(e),e);return{output:M.IHx(M.dC7(r[0],e),M.dC7(h[0],n)),newStates:h.map((function(t,i){return M.IHx(M.dC7(r[1][i],e),M.dC7(t,n))}))}}));c=a.output,h=a.newStates}s&&f.push(c)},y=0;y<p;++y)v(y);if(s){g=M.knu(f,1)}return[c,g,h]}))}sc.className="DepthwiseConv2D",M.m7h.registerClass(sc);var cc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r,i;if((0,Ci.Z)(this,n),r=t.call(this,e),null==e.cell)throw new Li("cell property is missing for the constructor of RNN.");if(null==(i=Array.isArray(e.cell)?new yc({cells:e.cell}):e.cell).stateSize)throw new Li("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return r.cell=i,r.returnSequences=null!=e.returnSequences&&e.returnSequences,r.returnState=null!=e.returnState&&e.returnState,r.goBackwards=null!=e.goBackwards&&e.goBackwards,r._stateful=null!=e.stateful&&e.stateful,r.unroll=null!=e.unroll&&e.unroll,r.supportsMasking=!0,r.inputSpec=[new Do({ndim:3})],r.stateSpec=null,r.states_=null,r.numConstants=null,r.keptStates=[],r}return(0,ki.Z)(n,[{key:"getStates",value:function(){return null==this.states_?Ia(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((function(e){return null})):this.states_}},{key:"setStates",value:function(e){this.states_=e}},{key:"computeOutputShape",value:function(e){vo(e)&&(e=e[0]);var t=this.cell.stateSize;Array.isArray(t)||(t=[t]);var n,r=t[0];if(n=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){var i,a=[],o=(0,Si.Z)(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;a.push([e[0],s])}}catch(u){o.e(u)}finally{o.f()}return[n].concat(a)}return n}},{key:"computeMask",value:function(e,t){var n=this;return M.lub((function(){Array.isArray(t)&&(t=t[0]);var e=n.returnSequences?t:null;if(n.returnState){var r=n.states.map((function(e){return null}));return[e].concat(r)}return e}))}},{key:"states",get:function(){if(null==this.states_){for(var e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[],n=0;n<e;++n)t.push(null);return t}return this.states_},set:function(e){this.states_=e}},{key:"build",value:function(e){if(null!=this.numConstants)throw new Fi("Constants support is not implemented in RNN yet.");vo(e)&&(e=e[0]);var t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new Do({shape:[t,null].concat((0,vr.Z)(n))});var r,i=[e[0]].concat(e.slice(2));if(this.cell.build(i),r=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!M.D5U.arraysEqual(this.stateSpec.map((function(e){return e.shape[e.shape.length-1]})),r))throw new Li("An initialState was passed that is not compatible with "+"cell.stateSize. Received stateSpec=".concat(this.stateSpec,"; ")+"However cell.stateSize is ".concat(this.cell.stateSize))}else this.stateSpec=r.map((function(e){return new Do({shape:[null,e]})}));this.stateful&&this.resetStates()}},{key:"resetStates",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,M.lub)((function(){if(!t.stateful)throw new Pi("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=t.inputSpec[0].shape[0];if(null==r)throw new Li("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==t.states_)Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(e){return M.lls([r,e])})):t.states_=[M.lls([r,t.cell.stateSize])];else if(null==e)M.B90(t.states_),null!=t.keptStates&&(M.B90(t.keptStates),t.keptStates=[]),Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(e){return M.lls([r,e])})):t.states_[0]=M.lls([r,t.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==t.states_.length)throw new Li("Layer ".concat(t.name," expects ").concat(t.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));!0===n?t.keptStates.push(t.states_.slice()):M.B90(t.states_);for(var i=0;i<t.states_.length;++i){var a=e[i],o=Array.isArray(t.cell.stateSize)?t.cell.stateSize[i]:t.cell.stateSize,s=[r,o];if(!M.D5U.arraysEqual(a.shape,s))throw new Li("State ".concat(i," is incompatible with layer ").concat(t.name,": ")+"expected shape=".concat(s,", received shape=").concat(a.shape));t.states_[i]=a}}t.states_=t.states_.map((function(e){return M.CnY(e.clone())}))}))}},{key:"apply",value:function(e,t){var r=null==t?null:t.initialState,i=null==t?null:t.constants;null==t&&(t={});var a=uc(e,r,i,this.numConstants);e=a.inputs,r=a.initialState,i=a.constants;var o=[],s=[];if(null!=r){t.initialState=r,o=o.concat(r),this.stateSpec=[];var u,l=(0,Si.Z)(r);try{for(l.s();!(u=l.n()).done;){var c=u.value;this.stateSpec.push(new Do({shape:c.shape}))}}catch(m){l.e(m)}finally{l.f()}s=s.concat(this.stateSpec)}if(null!=i&&(t.constants=i,o=o.concat(i),this.numConstants=i.length),o[0]instanceof To){var d=[e].concat(o),f=this.inputSpec.concat(s),h=this.inputSpec;this.inputSpec=f;var p=Rs((0,Ai.Z)(n.prototype),"apply",this).call(this,d,t);return this.inputSpec=h,p}return Rs((0,Ai.Z)(n.prototype),"apply",this).call(this,e,t)}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){var r=null==t?null:t.mask,i=null==t?null:t.training,a=null==t?null:t.initialState;e=xo(e),null==a&&(a=n.stateful?n.states_:n.getInitialState(e));var o=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(a.length!==o)throw new Li("RNN Layer has ".concat(o," state(s) but was passed ")+"".concat(a.length," initial state(s)."));n.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var s={training:i},u=lc((function(e,t){var r=n.cell.call([e].concat(t),s);return[r[0],r.slice(1)]}),e,a,n.goBackwards,r,null,n.unroll,n.returnSequences),l=u[0],c=u[1],d=u[2];n.stateful&&n.resetStates(d,i);var f=n.returnSequences?c:l;return n.returnState?[f].concat(d):f}))}},{key:"getInitialState",value:function(e){var t=this;return(0,M.lub)((function(){var n=M.lls(e.shape);return n=Ea(n=M.Smz(n,[1,2])),Array.isArray(t.cell.stateSize)?t.cell.stateSize.map((function(e){return e>1?Za(n,[1,e]):n})):t.cell.stateSize>1?[Za(n,[1,t.cell.stateSize])]:[n]}))}},{key:"trainableWeights",get:function(){return this.trainable?this.cell.trainableWeights:[]}},{key:"nonTrainableWeights",get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}},{key:"setFastWeightInitDuringBuild",value:function(e){Rs((0,Ai.Z)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}},{key:"getConfig",value:function(){var e=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);var r=this.cell.getConfig();return this.getClassName()===n.className&&(t.cell={className:this.cell.getClassName(),config:r}),Object.assign({},r,e,t)}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.cell,i=Ps(r,n);return new e(Object.assign(t,{cell:i}))}}]),n}(Eo);cc.className="RNN",M.m7h.registerClass(cc);var dc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n)}(Eo),fc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=e.units,na(r.units,"units"),r.activation=Tl(null==e.activation?r.DEFAULT_ACTIVATION:e.activation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=go(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=go(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=go(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelRegularizer=Pl(e.kernelRegularizer),r.recurrentRegularizer=Pl(e.recurrentRegularizer),r.biasRegularizer=Pl(e.biasRegularizer),r.kernelConstraint=Qo(e.kernelConstraint),r.recurrentConstraint=Qo(e.recurrentConstraint),r.biasConstraint=Qo(e.biasConstraint),r.dropout=Da([1,Ta([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=Da([1,Ta([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.dropoutFunc=e.dropoutFunc,r.stateSize=r.units,r.dropoutMask=null,r.recurrentDropoutMask=null,r}return(0,ki.Z)(n,[{key:"build",value:function(e){e=bo(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){if(2!==e.length)throw new Li("SimpleRNNCell expects 2 input Tensors, got ".concat(e.length,"."));var r=e[1];e=e[0];var i,a=null!=t.training&&t.training;0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=xc({ones:function(){return M.JpU(e)},rate:n.dropout,training:a,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=xc({ones:function(){return M.JpU(r)},rate:n.recurrentDropout,training:a,dropoutFunc:n.dropoutFunc}));var o=n.dropoutMask,s=n.recurrentDropoutMask;i=za(null!=o?M.dC7(e,o):e,n.kernel.read()),null!=n.bias&&(i=Ua(i,n.bias.read())),null!=s&&(r=M.dC7(r,s));var u=M.IHx(i,za(r,n.recurrentKernel.read()));return null!=n.activation&&(u=n.activation.apply(u)),[u,u]}))}},{key:"getConfig",value:function(){var e=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:kl(this.activation),useBias:this.useBias,kernelInitializer:mo(this.kernelInitializer),recurrentInitializer:mo(this.recurrentInitializer),biasInitializer:mo(this.biasInitializer),kernelRegularizer:Nl(this.kernelRegularizer),recurrentRegularizer:Nl(this.recurrentRegularizer),biasRegularizer:Nl(this.biasRegularizer),activityRegularizer:Nl(this.activityRegularizer),kernelConstraint:Yo(this.kernelConstraint),recurrentConstraint:Yo(this.recurrentConstraint),biasConstraint:Yo(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign({},e,t)}}]),n}(dc);fc.className="SimpleRNNCell",M.m7h.registerClass(fc);var hc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),e.cell=new fc(e),t.call(this,e)}return(0,ki.Z)(n,[{key:"call",value:function(e,t){var r=this;return(0,M.lub)((function(){null!=r.cell.dropoutMask&&(M.B90(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(M.B90(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var i=null==t?null:t.mask,a=null==t?null:t.training,o=null==t?null:t.initialState;return Rs((0,Ai.Z)(n.prototype),"call",r).call(r,e,{mask:i,training:a,initialState:o})}))}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),n}(cc);hc.className="SimpleRNN",M.m7h.registerClass(hc);var pc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;if((0,Ci.Z)(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new Li("GRUCell does not support reset_after parameter set to true.");return r.units=e.units,na(r.units,"units"),r.activation=Tl(void 0===e.activation?r.DEFAULT_ACTIVATION:e.activation),r.recurrentActivation=Tl(void 0===e.recurrentActivation?r.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=go(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=go(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=go(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelRegularizer=Pl(e.kernelRegularizer),r.recurrentRegularizer=Pl(e.recurrentRegularizer),r.biasRegularizer=Pl(e.biasRegularizer),r.kernelConstraint=Qo(e.kernelConstraint),r.recurrentConstraint=Qo(e.recurrentConstraint),r.biasConstraint=Qo(e.biasConstraint),r.dropout=Da([1,Ta([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=Da([1,Ta([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.dropoutFunc=e.dropoutFunc,r.implementation=e.implementation,r.stateSize=r.units,r.dropoutMask=null,r.recurrentDropoutMask=null,r}return(0,ki.Z)(n,[{key:"build",value:function(e){var t=(e=bo(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){if(2!==e.length)throw new Li("GRUCell expects 2 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var r=null!=t.training&&t.training,i=e[1];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=xc({ones:function(){return M.JpU(e)},rate:n.dropout,training:r,count:3,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=xc({ones:function(){return M.JpU(i)},rate:n.recurrentDropout,training:r,count:3,dropoutFunc:n.dropoutFunc}));var a,o,s,u=n.dropoutMask,l=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=M.dC7(e,u[0]));var c=za(e,n.kernel.read());n.useBias&&(c=Ua(c,n.bias.read())),0<n.recurrentDropout&&n.recurrentDropout<1&&(i=M.dC7(i,l[0]));var d=n.recurrentKernel.read(),f=M.Vl2(d,[2*n.units,n.units],d.rank-1),h=(0,E.Z)(f,2),p=h[0],m=h[1],g=za(i,p),v=M.Vl2(c,3,c.rank-1),y=(0,E.Z)(v,3),x=y[0],b=y[1],w=y[2],_=M.Vl2(g,2,g.rank-1),S=(0,E.Z)(_,2),C=S[0],k=S[1];a=n.recurrentActivation.apply(M.IHx(x,C)),o=n.recurrentActivation.apply(M.IHx(b,k));var D=za(M.dC7(o,i),m);s=n.activation.apply(M.IHx(w,D));var T=M.IHx(M.dC7(a,i),M.dC7(M.IHx(1,M.W76(a)),s));return[T,T]}))}},{key:"getConfig",value:function(){var e=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:kl(this.activation),recurrentActivation:kl(this.recurrentActivation),useBias:this.useBias,kernelInitializer:mo(this.kernelInitializer),recurrentInitializer:mo(this.recurrentInitializer),biasInitializer:mo(this.biasInitializer),kernelRegularizer:Nl(this.kernelRegularizer),recurrentRegularizer:Nl(this.recurrentRegularizer),biasRegularizer:Nl(this.biasRegularizer),activityRegularizer:Nl(this.activityRegularizer),kernelConstraint:Yo(this.kernelConstraint),recurrentConstraint:Yo(this.recurrentConstraint),biasConstraint:Yo(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign({},e,t)}}]),n}(dc);pc.className="GRUCell",M.m7h.registerClass(pc);var mc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new pc(e),t.call(this,e)}return(0,ki.Z)(n,[{key:"call",value:function(e,t){var r=this;return(0,M.lub)((function(){null!=r.cell.dropoutMask&&(M.B90(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(M.B90(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var i=null==t?null:t.mask,a=null==t?null:t.training,o=null==t?null:t.initialState;return Rs((0,Ai.Z)(n.prototype),"call",r).call(r,e,{mask:i,training:a,initialState:o})}))}}],[{key:"fromConfig",value:function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}]),n}(cc);mc.className="GRU",M.m7h.registerClass(mc);var gc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=e.units,na(r.units,"units"),r.activation=Tl(void 0===e.activation?r.DEFAULT_ACTIVATION:e.activation),r.recurrentActivation=Tl(void 0===e.recurrentActivation?r.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=go(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=go(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=go(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.unitForgetBias=e.unitForgetBias,r.kernelRegularizer=Pl(e.kernelRegularizer),r.recurrentRegularizer=Pl(e.recurrentRegularizer),r.biasRegularizer=Pl(e.biasRegularizer),r.kernelConstraint=Qo(e.kernelConstraint),r.recurrentConstraint=Qo(e.recurrentConstraint),r.biasConstraint=Qo(e.biasConstraint),r.dropout=Da([1,Ta([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=Da([1,Ta([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.dropoutFunc=e.dropoutFunc,r.implementation=e.implementation,r.stateSize=[r.units,r.units],r.dropoutMask=null,r.recurrentDropoutMask=null,r}return(0,ki.Z)(n,[{key:"build",value:function(e){var t,n,r=(e=bo(e))[e.length-1];if(this.kernel=this.addWeight("kernel",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var i=this.biasInitializer,a=this.units;n=new(t=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"apply",value:function(e,t){var n=i.apply([a]),r=(new Ja).apply([a]),o=i.apply([2*a]);return Fa(Fa(n,r),o)}}]),n}(Ka),t.className="CustomInit",t)}else n=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,n,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){var r=null!=t.training&&t.training;if(3!==e.length)throw new Li("LSTMCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var i=e[1],a=e[2];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=xc({ones:function(){return M.JpU(e)},rate:n.dropout,training:r,count:4,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=xc({ones:function(){return M.JpU(i)},rate:n.recurrentDropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var o,s,u,l,c=n.dropoutMask,d=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=M.dC7(e,c[0]));var f=za(e,n.kernel.read());0<n.recurrentDropout&&n.recurrentDropout<1&&(i=M.dC7(i,d[0])),f=M.IHx(f,za(i,n.recurrentKernel.read())),n.useBias&&(f=Ua(f,n.bias.read()));var h=M.Vl2(f,4,f.rank-1),p=(0,E.Z)(h,4),m=p[0],g=p[1],v=p[2],y=p[3];o=n.recurrentActivation.apply(m),s=n.recurrentActivation.apply(g),u=M.IHx(M.dC7(s,a),M.dC7(o,n.activation.apply(v))),l=n.recurrentActivation.apply(y);var x=M.dC7(l,n.activation.apply(u));return[x,x,u]}))}},{key:"getConfig",value:function(){var e=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:kl(this.activation),recurrentActivation:kl(this.recurrentActivation),useBias:this.useBias,kernelInitializer:mo(this.kernelInitializer),recurrentInitializer:mo(this.recurrentInitializer),biasInitializer:mo(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Nl(this.kernelRegularizer),recurrentRegularizer:Nl(this.recurrentRegularizer),biasRegularizer:Nl(this.biasRegularizer),activityRegularizer:Nl(this.activityRegularizer),kernelConstraint:Yo(this.kernelConstraint),recurrentConstraint:Yo(this.recurrentConstraint),biasConstraint:Yo(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign({},e,t)}}]),n}(dc);gc.className="LSTMCell",M.m7h.registerClass(gc);var vc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new gc(e),t.call(this,e)}return(0,ki.Z)(n,[{key:"call",value:function(e,t){var r=this;return(0,M.lub)((function(){null!=r.cell.dropoutMask&&(M.B90(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(M.B90(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var i=null==t?null:t.mask,a=null==t?null:t.training,o=null==t?null:t.initialState;return Rs((0,Ai.Z)(n.prototype),"call",r).call(r,e,{mask:i,training:a,initialState:o})}))}}],[{key:"fromConfig",value:function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}]),n}(cc);vc.className="LSTM",M.m7h.registerClass(vc);var yc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,e)).cells=e.cells,r}return(0,ki.Z)(n,[{key:"stateSize",get:function(){var e,t=[],n=(0,Si.Z)(this.cells.slice().reverse());try{for(n.s();!(e=n.n()).done;){var r=e.value;Array.isArray(r.stateSize)?t.push.apply(t,(0,vr.Z)(r.stateSize)):t.push(r.stateSize)}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){var r,i=e.slice(1),a=[],o=(0,Si.Z)(n.cells.slice().reverse());try{for(o.s();!(r=o.n()).done;){var s=r.value;Array.isArray(s.stateSize)?a.push(i.splice(0,s.stateSize.length)):a.push(i.splice(0,1))}}catch(g){o.e(g)}finally{o.f()}a.reverse();for(var u,l=[],c=0;c<n.cells.length;++c){var d=n.cells[c];i=a[c],u=0===c?[e[0]].concat(i):[u[0]].concat(i),u=d.call(u,t),l.push(u.slice(1))}i=[];var f,h=(0,Si.Z)(l.slice().reverse());try{for(h.s();!(f=h.n()).done;){var p,m=f.value;(p=i).push.apply(p,(0,vr.Z)(m))}}catch(g){h.e(g)}finally{h.f()}return[u[0]].concat(i)}))}},{key:"build",value:function(e){var t;vo(e)&&(e=e[0]),this.cells.forEach((function(n,r){xa("RNNCell_".concat(r),(function(){n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0}},{key:"getConfig",value:function(){var e=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this),t={cells:this.cells.map((function(e){return{className:e.getClassName(),config:e.getConfig()}}))};return Object.assign({},e,t)}},{key:"trainableWeights",get:function(){if(!this.trainable)return[];var e,t=[],n=(0,Si.Z)(this.cells);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,(0,vr.Z)(r.trainableWeights))}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"nonTrainableWeights",get:function(){var e,t=[],n=(0,Si.Z)(this.cells);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,(0,vr.Z)(r.nonTrainableWeights))}}catch(u){n.e(u)}finally{n.f()}if(!this.trainable){var i,a=[],o=(0,Si.Z)(this.cells);try{for(o.s();!(i=o.n()).done;){var s=i.value;a.push.apply(a,(0,vr.Z)(s.trainableWeights))}}catch(u){o.e(u)}finally{o.f()}return a.concat(t)}return t}},{key:"getWeights",value:function(){var e,t=[],n=(0,Si.Z)(this.cells);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,(0,vr.Z)(r.weights))}}catch(i){n.e(i)}finally{n.f()}return Co(t)}},{key:"setWeights",value:function(e){var t,n=[],r=(0,Si.Z)(this.cells);try{for(r.s();!(t=r.n()).done;)for(var i=t.value,a=i.weights.length,o=e.splice(a),s=0;s<i.weights.length;++s)n.push([i.weights[s],o[s]])}catch(u){r.e(u)}finally{r.f()}ko(n)}}],[{key:"fromConfig",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=[],a=(0,Si.Z)(t.cells);try{for(a.s();!(n=a.n()).done;){var o=n.value;i.push(Ps(o,r))}}catch(s){a.e(s)}finally{a.f()}return new e({cells:i})}}]),n}(dc);function xc(e){var t=e.ones,n=e.rate,r=e.training,i=void 0!==r&&r,a=e.count,o=void 0===a?1:a,s=e.dropoutFunc,u=function(){return null!=s?s(t(),n):Ga(t(),n)},l=function(){return Xa(u,t,i)};return!o||o<=1?M.CnY(l().clone()):Array(o).fill(void 0).map(l).map((function(e){return M.CnY(e.clone())}))}yc.className="StackedRNNCells",M.m7h.registerClass(yc);var bc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},wc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;if((0,Ci.Z)(this,n),e.unroll)throw new Fi("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new Fi("It is not possible at the moment to stack convolutional cells.");return(r=t.call(this,e)).inputSpec=[new Do({ndim:5})],r}return(0,ki.Z)(n,[{key:"call",value:function(e,t){var r=this;return M.lub((function(){if(null!=r.cell.dropoutMask&&(M.B90(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(M.B90(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null),t&&t.constants)throw new Li("ConvRNN2D cell does not support constants");var i=null==t?null:t.mask,a=null==t?null:t.training,o=null==t?null:t.initialState;return Rs((0,Ai.Z)(n.prototype),"call",r).call(r,e,{mask:i,training:a,initialState:o})}))}},{key:"computeOutputShape",value:function(e){var t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0]].concat((0,vr.Z)(t.slice(2)))),this.returnState&&(t=[t].concat((0,vr.Z)(Array(2).fill([e[0]].concat((0,vr.Z)(t.slice(-3))))))),t}},{key:"getInitialState",value:function(e){var t=this;return M.lub((function(){var n=t.cell.stateSize,r=e.shape,i=t.computeSingleOutputShape(r),a=[i[0]].concat((0,vr.Z)(i.slice(2))),o=M.lls(a);return Array.isArray(n)?Array(n.length).fill(o):[o]}))}},{key:"resetStates",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];M.lub((function(){if(!t.stateful)throw new Pi("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=t.inputSpec[0].shape,i=t.computeSingleOutputShape(r),a=[i[0]].concat((0,vr.Z)(i.slice(2)));if(null==r[0])throw new Li("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==t.getStates())Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(){return M.lls(a)})):t.states_=[M.lls(a)];else if(null==e)M.B90(t.states_),null!=t.keptStates&&(M.B90(t.keptStates),t.keptStates=[]),Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(){return M.lls(a)})):t.states_[0]=M.lls(a);else{if(Array.isArray(e)||(e=[e]),e.length!==t.states_.length)throw new Li("Layer ".concat(t.name," expects ").concat(t.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));n?t.keptStates.push(t.states_.slice()):M.B90(t.states_);for(var o=0;o<t.states_.length;++o){var s=e[o],u=a;if(!M.D5U.arraysEqual(s.shape,u))throw new Li("State ".concat(o," is incompatible with layer ").concat(t.name,": ")+"expected shape=".concat(u,", received shape=").concat(s.shape));t.states_[o]=s}}t.states_=t.states_.map((function(e){return M.CnY(e.clone())}))}))}},{key:"computeSingleOutputShape",value:function(e){var t=this.cell,n=t.dataFormat,r=t.filters,i=t.kernelSize,a=t.padding,o=t.strides,s=t.dilationRate,u="channelsFirst"===n,l=e[u?3:2],c=e[u?4:3],d=Wl(l,i[0],a,o[0],s[0]),f=Wl(c,i[1],a,o[1],s[1]);return[].concat((0,vr.Z)(e.slice(0,2)),(0,vr.Z)(u?[r,d,f]:[d,f,r]))}}]),n}(cc);wc.className="ConvRNN2D";var _c=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;(0,Ci.Z)(this,n);var i=e.filters,a=e.kernelSize,o=e.strides,s=e.padding,u=e.dataFormat,l=e.dilationRate;return(r=t.call(this,Object.assign({},e,{units:i}))).filters=i,na(r.filters,"filters"),r.kernelSize=jl(a,2,"kernelSize"),r.kernelSize.forEach((function(e){return na(e,"kernelSize")})),r.strides=jl(o||1,2,"strides"),r.strides.forEach((function(e){return na(e,"strides")})),r.padding=s||"valid",ga(r.padding),r.dataFormat=u||"channelsLast",ma(r.dataFormat),r.dilationRate=jl(l||1,2,"dilationRate"),r.dilationRate.forEach((function(e){return na(e,"dilationRate")})),r}return(0,ki.Z)(n,[{key:"build",value:function(e){var t;e=bo(e);var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new Li("The channel dimension of the input should be defined. "+"Found ".concat(e[n]));var r=e[n],i=this.kernelSize.concat([r,4*this.filters]);this.kernel=this.addWeight("kernel",i,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);var a=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",a,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){var o;if(this.unitForgetBias){var s=this.biasInitializer,u=this.filters;o=new(t=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"apply",value:function(e,t){return La([s.apply([u]),M.iUs([u]),s.apply([2*u])])}}]),n}(Ka),t.className="CustomInit",t)}else o=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,o,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}},{key:"call",value:function(e,t){var n=this;return M.lub((function(){if(3!==e.length)throw new Li("ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var r=t.training||!1,i=e[0],a=e[1],o=e[2];0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=xc({ones:function(){return M.JpU(i)},rate:n.dropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var s=n.dropoutMask,u=function(e,t,n){return t&&t[n]?M.dC7(t[n],e):e},l=u(i,s,0),c=u(i,s,1),d=u(i,s,2),f=u(i,s,3);0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=xc({ones:function(){return M.JpU(a)},rate:n.recurrentDropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var h=n.recurrentDropoutMask,p=u(a,h,0),m=u(a,h,1),g=u(a,h,2),v=u(a,h,3),y=M.Vl2(n.kernel.read(),4,3),x=(0,E.Z)(y,4),b=x[0],w=x[1],_=x[2],S=x[3],C=n.useBias?M.Vl2(n.bias.read(),4):[null,null,null,null],k=(0,E.Z)(C,4),D=k[0],T=k[1],I=k[2],A=k[3];l=n.inputConv(l,b,D,n.padding),c=n.inputConv(c,w,T,n.padding),d=n.inputConv(d,_,I,n.padding),f=n.inputConv(f,S,A,n.padding);var N=M.Vl2(n.recurrentKernel.read(),4,3),R=(0,E.Z)(N,4),P=R[0],O=R[1],L=R[2],F=R[3];p=n.recurrentConv(p,P),m=n.recurrentConv(m,O),g=n.recurrentConv(g,L),v=n.recurrentConv(v,F);var Z=n.recurrentActivation.apply(M.IHx(l,p)),B=n.recurrentActivation.apply(M.IHx(c,m)),z=M.IHx(M.dC7(B,o),M.dC7(Z,n.activation.apply(M.IHx(d,g)))),V=M.dC7(n.recurrentActivation.apply(M.IHx(f,v)),n.activation.apply(z));return[V,V,z]}))}},{key:"getConfig",value:function(){var e=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this),t=(e.units,bc(e,["units"])),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign({},t,r)}},{key:"inputConv",value:function(e,t,n,r){var i=M.Tek(e,t,this.strides,r||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?Ua(i,n,this.dataFormat):i}},{key:"recurrentConv",value:function(e,t){return M.Tek(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}]),n}(gc);_c.className="ConvLSTM2DCell",M.m7h.registerClass(_c);var Sc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){(0,Ci.Z)(this,n);var r=new _c(e);return t.call(this,Object.assign({},e,{cell:r}))}return(0,ki.Z)(n,null,[{key:"fromConfig",value:function(e,t){return new e(t)}}]),n}(wc);Sc.className="ConvLSTM2D",M.m7h.registerClass(Sc);var Cc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,e)).rate=Math.max(Math.min(e.rate,1),0),r.noiseShape=e.noiseShape,r.seed=e.seed,r.supportsMasking=!0,r}return(0,ki.Z)(n,[{key:"getNoiseShape",value:function(e){if(null==this.noiseShape)return this.noiseShape;for(var t=e.shape,n=[],r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){n.invokeCallHook(e,t);var r=xo(e);if(0<n.rate&&n.rate<1){var i=null!=t.training&&t.training,a=n.getNoiseShape(r);return Xa((function(){return Ga(r,n.rate,a,n.seed)}),(function(){return r}),i)}return e}))}},{key:"getConfig",value:function(){var e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}},{key:"dispose",value:function(){return Rs((0,Ai.Z)(n.prototype),"dispose",this).call(this)}}]),n}(Eo);Cc.className="Dropout",M.m7h.registerClass(Cc);var kc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,e)).inputSpec=[{ndim:3}],r}return(0,ki.Z)(n,[{key:"getNoiseShape",value:function(e){var t=e.shape;return[t[0],1,t[2]]}}]),n}(Cc);kc.className="SpatialDropout1D",M.m7h.registerClass(kc);var Dc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;if((0,Ci.Z)(this,n),(r=t.call(this,e)).activation=null,r.useBias=!0,r.kernel=null,r.bias=null,r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){var i=null;null!=e.batchSize&&(i=e.batchSize),r.batchInputShape=[i,e.inputDim]}return r.units=e.units,na(r.units,"units"),r.activation=Tl(e.activation),null!=e.useBias&&(r.useBias=e.useBias),r.kernelInitializer=go(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.biasInitializer=go(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelConstraint=Qo(e.kernelConstraint),r.biasConstraint=Qo(e.biasConstraint),r.kernelRegularizer=Pl(e.kernelRegularizer),r.biasRegularizer=Pl(e.biasRegularizer),r.activityRegularizer=Pl(e.activityRegularizer),r.supportsMasking=!0,r.inputSpec=[{minNDim:2}],r}return(0,ki.Z)(n,[{key:"build",value:function(e){var t=(e=bo(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:(0,Vl.Z)({},-1,t)}],this.built=!0}},{key:"computeOutputShape",value:function(e){var t=(e=bo(e)).slice();return t[t.length-1]=this.units,t}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){n.invokeCallHook(e,t);var r,i=xo(e),a=ia(n.activation.getClassName());return null!=a?r=za(i,n.kernel.read(),a,n.bias?n.bias.read():null):(r=za(i,n.kernel.read()),null!=n.bias&&(r=Ua(r,n.bias.read())),null!=n.activation&&(r=n.activation.apply(r))),r}))}},{key:"getConfig",value:function(){var e={units:this.units,activation:kl(this.activation),useBias:this.useBias,kernelInitializer:mo(this.kernelInitializer),biasInitializer:mo(this.biasInitializer),kernelRegularizer:Nl(this.kernelRegularizer),biasRegularizer:Nl(this.biasRegularizer),activityRegularizer:Nl(this.activityRegularizer),kernelConstraint:Yo(this.kernelConstraint),biasConstraint:Yo(this.biasConstraint)},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo);Dc.className="Dense",M.m7h.registerClass(Dc);var Tc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),e=e||{},(r=t.call(this,e)).inputSpec=[{minNDim:3}],r.dataFormat=e.dataFormat,r}return(0,ki.Z)(n,[{key:"computeOutputShape",value:function(e){e=bo(e);var t,n=(0,Si.Z)(e.slice(1));try{for(n.s();!(t=n.n()).done;){if(null==t.value)throw new Li('The shape of the input to "Flatten" is not fully defined '+"(got ".concat(e.slice(1),"). Make sure to pass a complete ")+'"input_shape" or "batch_input_shape" argument to the first layer in your model.')}}catch(r){n.e(r)}finally{n.f()}return[e[0],ka(e,1)]}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){n.invokeCallHook(e,t);var r=xo(e);if("channelsFirst"===n.dataFormat&&r.rank>1){for(var i=[0],a=2;a<r.rank;++a)i.push(a);i.push(1),r=(0,M.p4s)(r,i)}return function(e){if(e.rank<=1)throw new Li("batchFlatten requires a minimum rank of 2. Got rank: ".concat(e.rank,"."));var t=[e.shape[0],ka(e.shape,1)];return M.XLQ(e,t)}(r)}))}},{key:"getConfig",value:function(){var e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);var t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo);Tc.className="Flatten",M.m7h.registerClass(Tc);var Ic=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.activation=Tl(e.activation),r}return(0,ki.Z)(n,[{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){n.invokeCallHook(e,t);var r=xo(e);return n.activation.apply(r)}))}},{key:"getConfig",value:function(){var e={activation:kl(this.activation)},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo);Ic.className="Activation",M.m7h.registerClass(Ic);var Ac=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,e)).n=e.n,r.inputSpec=[{ndim:2}],r}return(0,ki.Z)(n,[{key:"computeOutputShape",value:function(e){return[e[0],this.n,e[1]]}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){return e=xo(e),t=e,r=n.n,(0,M.lub)((function(){if(2!==t.shape.length)throw new Li("repeat() expects a rank-2 tensor, but received a "+"rank-".concat(t.shape.length," tensor."));return Za(Ea(t,1),[1,r,1])}));var t,r}))}},{key:"getConfig",value:function(){var e={n:this.n},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo);Ac.className="RepeatVector",M.m7h.registerClass(Ac);var Mc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;(0,Ci.Z)(this,n),(r=t.call(this,e)).targetShape=e.targetShape;for(var i=0;i<r.targetShape.length;++i)r.isUnknown(r.targetShape[i])&&(r.targetShape[i]=null);return r}return(0,ki.Z)(n,[{key:"isUnknown",value:function(e){return e<0||null==e}},{key:"fixUnknownDimension",value:function(e,t){for(var n="Total size of new array must be unchanged.",r=t.slice(),i=1,a=null,o=0;o<r.length;++o){var s=r[o];if(this.isUnknown(s)){if(null!==a)throw new Li("Can only specifiy one unknown dimension.");a=o}else i*=s}var u=ka(e);if(null!==a){if(0===i||u%i!==0)throw new Li(n);r[a]=u/i}else if(u!==i)throw new Li(n);return r}},{key:"computeOutputShape",value:function(e){for(var t=!1,n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){n.invokeCallHook(e,t);var r=xo(e),i=r.shape,a=i.slice(0,1).concat(n.fixUnknownDimension(i.slice(1),n.targetShape));return(0,M.XLQ)(r,a)}))}},{key:"getConfig",value:function(){var e={targetShape:this.targetShape},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo);Mc.className="Reshape",M.m7h.registerClass(Mc);var Ec=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;if((0,Ci.Z)(this,n),r=t.call(this,e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+"".concat(e.dims," instead."));var i=Ia(1,e.dims.length+1);if(!M.D5U.arraysEqual(e.dims.slice().sort(),i))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");return r.dims=e.dims,r.dimsIncludingBatch=[0].concat(r.dims),r.inputSpec=[new Do({ndim:r.dims.length+1})],r}return(0,ki.Z)(n,[{key:"computeOutputShape",value:function(e){var t=(e=bo(e)).slice();return this.dims.forEach((function(n,r){t[r+1]=e[n]})),t}},{key:"call",value:function(e,t){return(0,M.p4s)(xo(e),this.dimsIncludingBatch)}},{key:"getConfig",value:function(){var e={dims:this.dims},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo);Ec.className="Permute",M.m7h.registerClass(Ec);var Nc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,null==e?{}:e)).supportsMasking=!0,r.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0,r}return(0,ki.Z)(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this),t={maskValue:this.maskValue};return Object.assign(t,e),t}},{key:"computeMask",value:function(e,t){var n=xo(e);return(0,M.YjB)((0,M.Quu)(n,this.maskValue),-1)}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){n.invokeCallHook(e,t);var r=xo(e),i=(0,M.YjB)((0,M.Quu)(r,n.maskValue),-1,!0);return(0,M.dC7)(r,(0,M.pju)(i,r.dtype))}))}}]),n}(Eo);Nc.className="Masking",M.m7h.registerClass(Nc);var Rc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;if((0,Ci.Z)(this,n),(r=t.call(this,e)).embeddings=null,r.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){var i=null;null!=e.batchSize&&(i=e.batchSize),null==e.inputLength?r.batchInputShape=[i,null]:r.batchInputShape=[i].concat(Ui(e.inputLength))}return r.inputDim=e.inputDim,na(r.inputDim,"inputDim"),r.outputDim=e.outputDim,na(r.outputDim,"outputDim"),r.embeddingsInitializer=go(e.embeddingsInitializer||r.DEFAULT_EMBEDDINGS_INITIALIZER),r.embeddingsRegularizer=Pl(e.embeddingsRegularizer),r.activityRegularizer=Pl(e.activityRegularizer),r.embeddingsConstraint=Qo(e.embeddingsConstraint),r.maskZero=e.maskZero,r.supportsMasking=e.maskZero,r.inputLength=e.inputLength,r}return(0,ki.Z)(n,[{key:"build",value:function(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}},{key:"warnOnIncompatibleInputShape",value:function(e){}},{key:"computeMask",value:function(e,t){var n=this;return(0,M.lub)((function(){return n.maskZero?(e=xo(e),(0,M.Quu)(e,(0,M.P84)(e))):null}))}},{key:"computeOutputShape",value:function(e){if(e=bo(e),null==this.inputLength)return[].concat((0,vr.Z)(e),[this.outputDim]);var t=Ui(this.inputLength);if(t.length!==e.length-1)throw new Li('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));for(var n=0,r=0;r<t.length;++r){var i=t[r],a=e[r+1];if(null!=i&&null!=a&&i!==a)throw new Li('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));null==i&&(t[n]=a),n++}return[e[0]].concat((0,vr.Z)(t),[this.outputDim])}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){n.invokeCallHook(e,t);var r=xo(e);"int32"!==r.dtype&&(r=Ma(r,"int32"));var i=Va(n.embeddings.read(),(0,M.XLQ)(r,[r.size]));return(0,M.XLQ)(i,bo(n.computeOutputShape(r.shape)))}))}},{key:"getConfig",value:function(){var e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:mo(this.embeddingsInitializer),embeddingsRegularizer:Nl(this.embeddingsRegularizer),activityRegularizer:Nl(this.activityRegularizer),embeddingsConstraint:Yo(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo);Rc.className="Embedding",M.m7h.registerClass(Rc);var Pc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,e||{})).supportsMasking=!0,r}return(0,ki.Z)(n,[{key:"mergeFunction",value:function(e){throw new Fi}},{key:"computeElementwiseOpOutputShape",value:function(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;for(var n=e.slice(0,e.length-t.length),r=0;r<t.length;++r){var i=e[e.length-t.length+r],a=t[r];if(null==i||null==a||i<0||a<0)n.push(null);else if(1===i)n.push(a);else if(1===a)n.push(i);else{if(i!==a)throw new Li("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(i)}}return n}},{key:"build",value:function(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[bo(e)]),e.length<2)throw new Li("A merge layer should be called on an Array of at least 2 inputs."+" Got ".concat(e.length," input(s)."));var t,n=[],r=(0,Si.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;null!=i&&null!==i[0]&&n.push(i[0])}}catch(l){r.e(l)}finally{r.f()}if((n=Ji(n)).length>1)throw new Li("Can not merge tensors with different batch sizes. "+"Got tensors with shapes: ".concat(JSON.stringify(e),"."));for(var a=null==e[0]?null:e[0].slice(1),o=1;o<e.length;++o){var s=null==e[o]?null:e[o].slice(1);a=this.computeElementwiseOpOutputShape(a,s)}var u=e.map((function(e){return e.length}));-1===e.indexOf(null)&&1===Ji(u).length?this.reshapeRequired=!1:this.reshapeRequired=!0}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){if(n.reshapeRequired){var t=[],r=e.map((function(e){return e.rank}));if(-1===r.indexOf(null)){var i,a=Ta(r),o=(0,Si.Z)(e);try{for(o.s();!(i=o.n()).done;){for(var s=i.value,u=s.rank,l=0;l<a-u;++l)s=Ea(s,1);t.push(s)}}catch(D){o.e(D)}finally{o.f()}return n.mergeFunction(t)}var c,d=!1,f=(0,Si.Z)(e);try{for(f.s();!(c=f.n()).done;){var h=c.value,p=h.rank;if(null==p){var m=h.shape,g=m[0],v=m.slice(1).concat([g]),y=M.XLQ(h,[g].concat(ka(m.slice(1))));y=M.p4s(y,[1,0]),y=M.XLQ(y,v),t.push(y),d=!0}else if(p>1){var x=Ia(1,p).concat([0]);t.push(M.p4s(h,x)),d=!0}else t.push(h)}}catch(D){f.e(D)}finally{f.f()}var b=n.mergeFunction(t),w=b.rank;if(d)if(null==w){var _=b.shape,S=_[_.length-1],C=[S].concat(_.slice(0,_.length-1));b=M.XLQ(M.p4s(M.XLQ(b,[-1,S]),[1,0]),C)}else if(w>1){var k=[w-1].concat(Ia(0,w-1));b=M.p4s(b,k)}return b}return n.mergeFunction(e)}))}},{key:"computeOutputShape",value:function(e){var t;t=null==e[0]?null:e[0].slice(1);for(var n=1;n<e.length;++n){var r=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,r)}var i,a=[],o=(0,Si.Z)(e);try{for(o.s();!(i=o.n()).done;){var s=i.value;null!=s&&null!==s[0]&&a.push(s[0])}}catch(u){o.e(u)}finally{o.f()}return t=1===(a=Ji(a)).length?a.concat(t):[null].concat(t)}},{key:"computeMask",value:function(e,t){return M.lub((function(){if(null==t)return null;if(!Array.isArray(t))throw new Li("`mask` should be an Array");if(!Array.isArray(e))throw new Li("`inputs` should be an Array");if(t.length!==e.length)throw new Li("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths "+"(".concat(e.length," vs ").concat(t.length,")"));if(t.every((function(e){return null==e})))return null;for(var n=(t=t.map((function(e){return null==e?e:M.dt4(e,0)})))[0],r=1;r<t.length-1;++r)n=M.HvI(n,t[r]);return n}))}}]),n}(Eo),Oc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),t.call(this,e)}return(0,ki.Z)(n,[{key:"mergeFunction",value:function(e){return(0,M.lub)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=M.IHx(t,e[n]);return t}))}}]),n}(Pc);Oc.className="Add",M.m7h.registerClass(Oc);var Lc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),t.call(this,e)}return(0,ki.Z)(n,[{key:"mergeFunction",value:function(e){return(0,M.lub)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=M.dC7(t,e[n]);return t}))}}]),n}(Pc);Lc.className="Multiply",M.m7h.registerClass(Lc);var Fc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),t.call(this,e)}return(0,ki.Z)(n,[{key:"mergeFunction",value:function(e){return(0,M.lub)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=M.IHx(t,e[n]);return M.dC7(1/e.length,t)}))}}]),n}(Pc);Fc.className="Average",M.m7h.registerClass(Fc);var Zc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),t.call(this,e)}return(0,ki.Z)(n,[{key:"mergeFunction",value:function(e){return(0,M.lub)((function(){for(var t=e[0],n=1;n<e.length;++n)t=M.gWQ(t,e[n]);return t}))}}]),n}(Pc);Zc.className="Maximum",M.m7h.registerClass(Zc);var Bc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),t.call(this,e)}return(0,ki.Z)(n,[{key:"mergeFunction",value:function(e){return(0,M.lub)((function(){for(var t=e[0],n=1;n<e.length;++n)t=M.LTh(t,e[n]);return t}))}}]),n}(Pc);Bc.className="Minimum",M.m7h.registerClass(Bc);var zc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,e)).DEFAULT_AXIS=-1,null==e&&(e={}),r.axis=null==e.axis?r.DEFAULT_AXIS:e.axis,r.supportsMasking=!0,r.reshapeRequired=!1,r}return(0,ki.Z)(n,[{key:"build",value:function(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new Li("A `Concatenate` layer should be called on a list of at least 2 inputs");var t,n=!0,r=(0,Si.Z)(e);try{for(r.s();!(t=r.n()).done;){if(null!=t.value){n=!1;break}}}catch(d){r.e(d)}finally{r.f()}if(!n){for(var i=[],a=0;a<e.length;++a){var o=e[a].slice();o.splice(this.axis,1);var s,u=!1,l=(0,Si.Z)(i);try{for(l.s();!(s=l.n()).done;){var c=s.value;if(M.D5U.arraysEqual(c,o)){u=!0;break}}}catch(d){l.e(d)}finally{l.f()}u||i.push(o)}if(i.length>1)throw new Li("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}}},{key:"mergeFunction",value:function(e){var t=this;return(0,M.lub)((function(){return La(e,t.axis)}))}},{key:"computeOutputShape",value:function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new Li("A `Concatenate` layer should be called on a list of inputs.");var t,n=e,r=n[0].slice(),i=this.axis<0?r.length+this.axis:this.axis,a=(0,Si.Z)(n.slice(1));try{for(a.s();!(t=a.n()).done;){var o=t.value;if(null==r[i]||null==o[i]){r[i]=null;break}r[i]+=o[i]}}catch(s){a.e(s)}finally{a.f()}return r}},{key:"computeMask",value:function(e,t){var n=this;if(null==t)return null;if(!Array.isArray(t))throw new Li("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new Li("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new Li("Mismatch in the length of mask (".concat(t.length,") ")+"and the legnth of inputs (".concat(e.length,")"));return M.lub((function(){var r=!0;if(t.forEach((function(e){null==e||(r=!1)})),r)return null;for(var i=[],a=0;a<e.length;++a)null==t[a]?i.push(M.pju(M.JpU(e[a]),"bool")):t[a].rank<e[a].rank?i.push(M.dt4(t[a],-1)):i.push(t[a]);var o=M.zoF(i,n.axis);return M.$6P(o,-1,!1)}))}},{key:"getConfig",value:function(){var e={axis:this.axis},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Pc);function Vc(e,t){for(;e<0;)e+=t;return e}zc.className="Concatenate",M.m7h.registerClass(zc);var jc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,e)).axes=e.axes,r.normalize=null!=e.normalize&&e.normalize,r.supportsMasking=!0,r.reshapeRequired=!1,r}return(0,ki.Z)(n,[{key:"build",value:function(e){M.D5U.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0],n=e[1];if(t.length>3||n.length>3)throw new Fi("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new Li("Dimension incompatibility: "+"".concat(t[r[0]]," !== ").concat(n[r[1]]))}},{key:"mergeFunction",value:function(e){if(2!==e.length)throw new Li("A `Dot` layer must be called on exactly 2 inputs, "+"but received ".concat(e.length," input(s)."));var t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map((function(t,n){return Vc(t,e[n].shape.length)})):[Vc(this.axes,n.shape.length),Vc(this.axes,r.shape.length)],this.normalize&&(n=Os(n,t[0]),r=Os(r,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new Fi("batchDot is not implemented for tensors of 4D or higher rank yet");if(M.D5U.assert(e.shape.length>=2,(function(){return"batchDot requires the rank of x to be >= 2, "+"but got ".concat(e.shape.length)})),M.D5U.assert(e.shape.length>=2,(function(){return"batchDot requires the rank of y to be >= 2, "+"but got ".concat(t.shape.length)})),"number"===typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new Fi("batchDot is not implemented for complex64-type Tensors yet.");var r=e.shape.length,i=t.shape.length;null==n&&(n=[r-1,i-2]);var a=n;return M.lub((function(){var n,o;if(r>i){n=r-i;for(var s=[],u=0;u<n;++u)s.push(1);t=M.XLQ(t,t.shape.concat(s))}else if(i>r){n=i-r;for(var l=[],c=0;c<n;++c)l.push(1);e=M.XLQ(e,e.shape.concat(l))}else n=0;if(2===e.shape.length&&2===t.shape.length)o=a[0]===a[1]?M.Smz(M.dC7(e,t),a[0]):M.Smz(M.dC7(M.p4s(e,[1,0]),t),a[1]);else{var d=a[0]!==e.shape.length-1,f=a[1]===t.shape.length-1;o=M.OI3(e,t,d,f)}if(n>0){for(var h,p=[],m=h=r>i?r+i-3:r-1;m<h+n;++m)p.push(m);o=M.L9e(o,p)}return 1===o.shape.length&&(o=M.dt4(o,1)),o}))}(n,r,t)}},{key:"interpretAxes",value:function(e,t){return Array.isArray(this.axes)?this.axes:[Vc(this.axes,e.length),Vc(this.axes,t.length)]}},{key:"computeOutputShape",value:function(e){M.D5U.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new Fi("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);var i=t.concat(n);return 1===i.length&&i.push(1),i}},{key:"computeMask",value:function(e,t){return null}},{key:"getConfig",value:function(){var e={axes:this.axes,normalize:this.normalize},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Pc);jc.className="Dot",M.m7h.registerClass(jc);var Wc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.stddev=e.stddev,r}return(0,ki.Z)(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this),t={stddev:this.stddev};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){n.invokeCallHook(e,t);var r=xo(e);return Xa((function(){return(0,M.IHx)(Ba(r.shape,0,n.stddev),r)}),(function(){return r}),t.training||!1)}))}}]),n}(Eo);Wc.className="GaussianNoise",M.m7h.registerClass(Wc);var Uc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.rate=e.rate,r}return(0,ki.Z)(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this),t={rate:this.rate};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){n.invokeCallHook(e,t);var r=xo(e);if(n.rate>0&&n.rate<1){return Xa((function(){var e=Math.sqrt(n.rate/(1-n.rate));return(0,M.dC7)(r,Ba(r.shape,1,e))}),(function(){return r}),t.training||!1)}return r}))}}]),n}(Eo);Uc.className="GaussianDropout",M.m7h.registerClass(Uc);var Hc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.rate=e.rate,r.noiseShape=e.noiseShape,r}return(0,ki.Z)(n,[{key:"_getNoiseShape",value:function(e){return this.noiseShape||xo(e).shape}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this),t={rate:this.rate};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){if(n.rate<1&&n.rate>0){var r=n._getNoiseShape(e);return Xa((function(){var t=xo(e),i=-1.7580993408473766,a=(0,M.brS)((0,M.LGj)(r),n.rate);a=Ma(a,"float32");var o=Math.pow((1-n.rate)*(1+n.rate*Math.pow(i,2)),-.5),s=-o*i*n.rate,u=(0,M.IHx)((0,M.dC7)(t,a),(0,M.dC7)((0,M.IHx)(a,-1),i));return(0,M.IHx)((0,M.dC7)(u,o),s)}),(function(){return xo(e)}),t.training||!1)}return e}))}}]),n}(Eo);function Gc(e,t,n,r,i){var a,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.001;if(2===e.rank)a=M.Dxk(e,t,n,r,i,o);else if(3===e.rank)a=M.JY5(e,t,n,r,i,o);else{if(4!==e.rank)throw new Fi("batchNormalization is not implemented for array of rank ".concat(e.rank," ")+"yet");a=M.p3b(e,t,n,r,i,o)}return a}function Xc(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return(0,M.lub)((function(){var a=M.Gi7(e,r),o=a.mean,s=a.variance;return[Gc(e,o,s,n,t,i),o,s]}))}function qc(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return(0,M.lub)((function(){var a,o=M.Gi7(e,r),s=o.mean,u=o.variance,l=[],c=(0,Si.Z)(Ia(0,e.rank));try{for(c.s();!(a=c.n()).done;){var d=a.value;-1!==r.indexOf(d)?l.push(1):l.push(e.shape[d])}}catch(g){c.e(g)}finally{c.f()}var f=(0,M.XLQ)(s,l),h=(0,M.XLQ)(u,l),p=null==t?null:(0,M.XLQ)(t,l),m=null==n?null:(0,M.XLQ)(n,l);return[Gc(e,f,h,m,p,i),s,u]}))}Hc.className="AlphaDropout",M.m7h.registerClass(Hc);var Yc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),null==e&&(e={}),(r=t.call(this,e)).supportsMasking=!0,r.axis=null==e.axis?-1:e.axis,r.momentum=null==e.momentum?.99:e.momentum,r.epsilon=null==e.epsilon?.001:e.epsilon,r.center=null==e.center||e.center,r.scale=null==e.scale||e.scale,r.betaInitializer=go(e.betaInitializer||"zeros"),r.gammaInitializer=go(e.gammaInitializer||"ones"),r.movingMeanInitializer=go(e.movingMeanInitializer||"zeros"),r.movingVarianceInitializer=go(e.movingVarianceInitializer||"ones"),r.betaConstraint=Qo(e.betaConstraint),r.gammaConstraint=Qo(e.gammaConstraint),r.betaRegularizer=Pl(e.betaRegularizer),r.gammaRegularizer=Pl(e.gammaRegularizer),r}return(0,ki.Z)(n,[{key:"build",value:function(e){e=bo(e);var t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new Li("Axis ".concat(t," of input tensor should have a defined dimension but ")+"the layer received an input with shape "+"".concat(JSON.stringify(e),"."));this.inputSpec=[new Do({ndim:e.length,axes:(0,Vl.Z)({},t,n)})];var r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){var r=null!=t.training&&t.training,i=xo(e),a=i.shape,o=a.length,s=Ia(0,o),u=n.axis>=0?n.axis:n.axis+o;s.splice(u,1);var l=zi(1,o);l[u]=a[u];var c=s.slice();c.sort();var d=!M.D5U.arraysEqual(c,Ia(0,o).slice(0,o-1));if(!r)return function(){if(d){var e=(0,M.XLQ)(n.movingMean.read(),l),t=(0,M.XLQ)(n.movingVariance.read(),l),r=n.center?(0,M.XLQ)(n.beta.read(),l):null,a=n.scale?(0,M.XLQ)(n.gamma.read(),l):null;return Gc(i,e,t,r,a,n.epsilon)}return Gc(i,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon)}();var f=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return M.D5U.arraysEqual(r.slice().sort(),Ia(0,e.rank-1))?Xc(e,t,n,r,i):qc(e,t,n,r,i)}(i,n.gamma.read(),n.beta.read(),s,n.epsilon),h=(0,E.Z)(f,3),p=h[0],m=h[1],g=h[2],v=function(e,t,n){M.lub((function(){var r=1-n,i=e.read(),a=M.dC7(M.luU(i,t),r);e.write(M.luU(i,a))}))};return v(n.movingMean,m,n.momentum),v(n.movingVariance,g,n.momentum),p}))}},{key:"getConfig",value:function(){var e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:mo(this.betaInitializer),gammaInitializer:mo(this.gammaInitializer),movingMeanInitializer:mo(this.movingMeanInitializer),movingVarianceInitializer:mo(this.movingVarianceInitializer),betaRegularizer:Nl(this.betaRegularizer),gammaRegularizer:Nl(this.gammaRegularizer),betaConstraint:Yo(this.betaConstraint),gammaConstraint:Yo(this.gammaConstraint)},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo);Yc.className="BatchNormalization",M.m7h.registerClass(Yc);var Kc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;if((0,Ci.Z)(this,n),null==e&&(e={}),(r=t.call(this,e)).axis=null==e.axis?-1:e.axis,"number"===typeof r.axis){if(!Number.isInteger(r.axis))throw new Error("Expected axis to be an integer, but received ".concat(r.axis))}else{if(!Array.isArray(r.axis))throw new Error("Expected axis to be an integer or an array of integers, "+"but received ".concat(JSON.stringify(r.axis)));var i,a=(0,Si.Z)(r.axis);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(!Number.isInteger(o))throw new Error("Expected axis to be an array of integers, "+"but received ".concat(JSON.stringify(r.axis)))}}catch(s){a.e(s)}finally{a.f()}}return r.epsilon=null==e.epsilon?.001:e.epsilon,r.center=null==e.center||e.center,r.scale=null==e.scale||e.scale,r.betaInitializer=go(e.betaInitializer||"zeros"),r.gammaInitializer=go(e.gammaInitializer||"ones"),r.betaRegularizer=Pl(e.betaRegularizer),r.gammaRegularizer=Pl(e.gammaRegularizer),r.supportsMasking=!0,r}return(0,ki.Z)(n,[{key:"build",value:function(e){var t=(e=bo(e)).length;"number"===typeof this.axis&&(this.axis=[this.axis]);for(var n=0;n<this.axis.length;++n)this.axis[n]<0&&(this.axis[n]+=t);var r,i=(0,Si.Z)(this.axis);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a<0||a>=t)throw new Error("Invalid axis: ".concat(a))}}catch(s){i.e(s)}finally{i.f()}if(this.axis.length!==Ji(this.axis).length)throw new Error("Found duplicate axes in: ".concat(this.axis));var o=this.axis.map((function(t){return e[t]}));this.scale?this.gamma=this.addWeight("gamma",o,"float32",this.gammaInitializer,this.gammaRegularizer,true):this.gamma=null,this.center?this.beta=this.addWeight("beta",o,"float32",this.betaInitializer,this.betaRegularizer,true):this.beta=null,this.built=!0}},{key:"call",value:function(e,t){var n=this,r=xo(e),i=r.shape,a=i.length;return(0,M.lub)((function(){var e,t=(0,M.Gi7)(r,n.axis,!0),o=t.mean,s=t.variance,u=zi(1,a),l=(0,Si.Z)(n.axis);try{for(l.s();!(e=l.n()).done;){var c=e.value;u[c]=i[c]}}catch(v){l.e(v)}finally{l.f()}for(var d=function(e){return null!=e&&e.shape.length!==a?M.XLQ(e,u):e},f=n.scale?d(n.gamma.read()):null,h=n.center?d(n.beta.read()):null,p=[],m=[],g=0;g<a;++g)-1!==n.axis.indexOf(g)?(p.push(i[g]),m.push(1)):(p.push(1),m.push(i[g]));return o=M.Gg6(o,p),s=M.Gg6(s,p),null!=f&&(f=M.Gg6(f,m)),null!=h&&(h=M.Gg6(h,m)),Gc(r,o,s,h,f,n.epsilon)}))}},{key:"getConfig",value:function(){var e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:mo(this.betaInitializer),gammaInitializer:mo(this.gammaInitializer),betaRegularizer:Nl(this.betaRegularizer),gammaRegularizer:Nl(this.gammaRegularizer)},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo);Kc.className="LayerNormalization",M.m7h.registerClass(Kc);var Qc=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;if((0,Ci.Z)(this,n),null==e&&(e={}),(r=t.call(this,e)).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)r.padding=[[1,1],[1,1]];else if("number"===typeof e.padding)r.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new Li("ZeroPadding2D expects padding to be a length-2 array, but "+"received a length-".concat(e.padding.length," array."));var i,a;if("number"===typeof e.padding[0])i=[e.padding[0],e.padding[0]],a=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new Li("ZeroPadding2D expects height padding to be a length-2 array, "+"but received a length-".concat(e.padding[0].length," array."));if(i=e.padding[0],2!==e.padding[1].length)throw new Li("ZeroPadding2D expects width padding to be a length-2 array, "+"but received a length-".concat(e.padding[1].length," array."));a=e.padding[1]}r.padding=[i,a]}return r.inputSpec=[new Do({ndim:4})],r}return(0,ki.Z)(n,[{key:"computeOutputShape",value:function(e){var t,n;return e=bo(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){return t=xo(e),r=n.padding,i=n.dataFormat,(0,M.lub)((function(){if(4!==t.rank)throw new Li("temporalPadding expects input tensor to be 4-D, but received a "+"".concat(t.rank,"-D tensor."));if(null==r&&(r=[[1,1],[1,1]]),2!==r.length||2!==r[0].length||2!==r[1].length)throw new Li("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==i&&(i="channelsLast"),"channelsLast"!==i&&"channelsFirst"!==i)throw new Li("Unknown data format: ".concat(i,". ")+"Supported data formats are 'channelsLast' and 'channelsFirst.");var e;return e="channelsFirst"===i?[[0,0],[0,0],r[0],r[1]]:[[0,0],r[0],r[1],[0,0]],M.vku(t,e)}));var t,r,i}))}},{key:"getConfig",value:function(){var e={padding:this.padding,dataFormat:this.dataFormat},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo);function Jc(e,t,n,r,i,a){return(0,M.lub)((function(){var o;ma(i),va(a),ga(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==i&&(i="channelsLast"),null==a&&(a="max"),e=Hl(e,i);var s="same"===r?"same":"valid";return o="max"===a?M._sB(e,t,n,s):M.wS1(e,t,n,s),"channelsFirst"===i&&(o=M.p4s(o,[0,3,1,2])),o}))}function $c(e,t,n,r,i,a){return(0,M.lub)((function(){var o;ma(i),va(a),ga(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==i&&(i="channelsLast"),null==a&&(a="max"),e=Gl(e,i);var s="same"===r?"same":"valid";return o="max"===a?M.YQQ(e,t,n,s):M.uR5(e,t,n,s),"channelsFirst"===i&&(o=M.p4s(o,[0,4,1,2,3])),o}))}Qc.className="ZeroPadding2D",M.m7h.registerClass(Qc);var ed=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;if((0,Ci.Z)(this,n),null==e.poolSize&&(e.poolSize=2),r=t.call(this,e),"number"===typeof e.poolSize)r.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!==typeof e.poolSize[0])throw new Li("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.poolSize)));r.poolSize=e.poolSize}if(na(r.poolSize,"poolSize"),null==e.strides)r.strides=r.poolSize;else if("number"===typeof e.strides)r.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!==typeof e.strides[0])throw new Li("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.strides)));r.strides=e.strides}return na(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,ga(r.padding),r.inputSpec=[new Do({ndim:3})],r}return(0,ki.Z)(n,[{key:"computeOutputShape",value:function(e){var t=Wl((e=bo(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){n.invokeCallHook(e,t),e=Ea(xo(e),2);var r=n.poolingFunction(xo(e),[n.poolSize[0],1],[n.strides[0],1],n.padding,"channelsLast");return M.L9e(r,[2])}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo),td=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),t.call(this,e)}return(0,ki.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,i){return ma(i),ga(r),Jc(e,t,n,r,i,"max")}}]),n}(ed);td.className="MaxPooling1D",M.m7h.registerClass(td);var nd=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),t.call(this,e)}return(0,ki.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,i){return ma(i),ga(r),Jc(e,t,n,r,i,"avg")}}]),n}(ed);nd.className="AveragePooling1D",M.m7h.registerClass(nd);var rd=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;if((0,Ci.Z)(this,n),null==e.poolSize&&(e.poolSize=[2,2]),(r=t.call(this,e)).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)r.strides=r.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new Li("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+"".concat(e.strides.length,"."));r.strides=e.strides}else r.strides=[e.strides,e.strides];return na(r.poolSize,"poolSize"),na(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,ma(r.dataFormat),ga(r.padding),r.inputSpec=[new Do({ndim:4})],r}return(0,ki.Z)(n,[{key:"computeOutputShape",value:function(e){e=bo(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=Wl(t,this.poolSize[0],this.padding,this.strides[0]),n=Wl(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){return n.invokeCallHook(e,t),n.poolingFunction(xo(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo),id=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),t.call(this,e)}return(0,ki.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,i){return ma(i),ga(r),Jc(e,t,n,r,i,"max")}}]),n}(rd);id.className="MaxPooling2D",M.m7h.registerClass(id);var ad=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),t.call(this,e)}return(0,ki.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,i){return ma(i),ga(r),Jc(e,t,n,r,i,"avg")}}]),n}(rd);ad.className="AveragePooling2D",M.m7h.registerClass(ad);var od=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;if((0,Ci.Z)(this,n),null==e.poolSize&&(e.poolSize=[2,2,2]),(r=t.call(this,e)).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)r.strides=r.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new Li("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+"".concat(e.strides.length,"."));r.strides=e.strides}else r.strides=[e.strides,e.strides,e.strides];return na(r.poolSize,"poolSize"),na(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,ma(r.dataFormat),ga(r.padding),r.inputSpec=[new Do({ndim:5})],r}return(0,ki.Z)(n,[{key:"computeOutputShape",value:function(e){e=bo(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=Wl(t,this.poolSize[0],this.padding,this.strides[0]),n=Wl(n,this.poolSize[1],this.padding,this.strides[1]),r=Wl(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){return n.invokeCallHook(e,t),n.poolingFunction(xo(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo),sd=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),t.call(this,e)}return(0,ki.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,i){return ma(i),ga(r),$c(e,t,n,r,i,"max")}}]),n}(od);sd.className="MaxPooling3D",M.m7h.registerClass(sd);var ud=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),t.call(this,e)}return(0,ki.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,i){return ma(i),ga(r),$c(e,t,n,r,i,"avg")}}]),n}(od);ud.className="AveragePooling3D",M.m7h.registerClass(ud);var ld=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,e)).inputSpec=[new Do({ndim:3})],r}return(0,ki.Z)(n,[{key:"computeOutputShape",value:function(e){return[e[0],e[2]]}},{key:"call",value:function(e,t){throw new Fi}}]),n}(Eo),cd=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),t.call(this,e||{})}return(0,ki.Z)(n,[{key:"call",value:function(e,t){return(0,M.lub)((function(){var t=xo(e);return M.J69(t,1)}))}}]),n}(ld);cd.className="GlobalAveragePooling1D",M.m7h.registerClass(cd);var dd=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){return(0,Ci.Z)(this,n),t.call(this,e||{})}return(0,ki.Z)(n,[{key:"call",value:function(e,t){return(0,M.lub)((function(){var t=xo(e);return M.Fp7(t,1)}))}}]),n}(ld);dd.className="GlobalMaxPooling1D",M.m7h.registerClass(dd);var fd=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,e)).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,ma(r.dataFormat),r.inputSpec=[new Do({ndim:4})],r}return(0,ki.Z)(n,[{key:"computeOutputShape",value:function(e){return"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}},{key:"call",value:function(e,t){throw new Fi}},{key:"getConfig",value:function(){var e={dataFormat:this.dataFormat},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Eo),hd=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){var t=xo(e);return"channelsLast"===n.dataFormat?M.J69(t,[1,2]):M.J69(t,[2,3])}))}}]),n}(fd);hd.className="GlobalAveragePooling2D",M.m7h.registerClass(hd);var pd=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){var t=xo(e);return"channelsLast"===n.dataFormat?M.Fp7(t,[1,2]):M.Fp7(t,[2,3])}))}}]),n}(fd);pd.className="GlobalMaxPooling2D",M.m7h.registerClass(pd);var md=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,e)).layer=e.layer,r}return(0,ki.Z)(n,[{key:"build",value:function(e){this.built=!0}},{key:"trainable",get:function(){return null!=this.layer&&this.layer.trainable},set:function(e){null!=this.layer&&(this.layer.trainable=e)}},{key:"trainableWeights",get:function(){return this.layer.trainableWeights}},{key:"nonTrainableWeights",get:function(){return this.layer.nonTrainableWeights}},{key:"updates",get:function(){return this.layer._updates}},{key:"losses",get:function(){return this.layer.losses}},{key:"getWeights",value:function(){return this.layer.getWeights()}},{key:"setWeights",value:function(e){this.layer.setWeights(e)}},{key:"getConfig",value:function(){var e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}},{key:"setFastWeightInitDuringBuild",value:function(e){Rs((0,Ai.Z)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.layer,i=Ps(r,n);delete t.layer;var a={layer:i};return Object.assign(a,t),new e(a)}}]),n}(Eo),gd=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this,e)).supportsMasking=!0,r}return(0,ki.Z)(n,[{key:"build",value:function(e){if((e=bo(e)).length<3)throw new Li("TimeDistributed layer expects an input shape >= 3D, but received "+"input shape ".concat(JSON.stringify(e)));this.inputSpec=[{shape:e}];var t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),Rs((0,Ai.Z)(n.prototype),"build",this).call(this,e)}},{key:"computeOutputShape",value:function(e){var t=[(e=bo(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){return lc((function(e,r){return[xo(n.layer.call(e,t)),[]]}),e=xo(e),[],!1,null,null,!1,!0)[1]}))}}]),n}(md);gd.className="TimeDistributed",M.m7h.registerClass(gd);var vd=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;(0,Ci.Z)(this,n),r=t.call(this,e);var i=e.layer.getConfig(),a={};a.className=e.layer.getClassName(),a.config=i,r.forwardLayer=Ps(a),i.goBackwards=!0!==i.goBackwards;var o,s={};if(s.className=e.layer.getClassName(),s.config=i,r.backwardLayer=Ps(s),r.forwardLayer.name="forward_"+r.forwardLayer.name,r.backwardLayer.name="backward_"+r.backwardLayer.name,r.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,o=r.mergeMode,ea(ha,"BidirectionalMergeMode",o),e.weights)throw new Fi("weights support is not implemented for Bidirectional layer yet.");return r._stateful=e.layer.stateful,r.returnSequences=e.layer.returnSequences,r.returnState=e.layer.returnState,r.supportsMasking=!0,r._trainable=!0,r.inputSpec=e.layer.inputSpec,r.numConstants=null,r}return(0,ki.Z)(n,[{key:"trainable",get:function(){return this._trainable},set:function(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}},{key:"getWeights",value:function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}},{key:"setWeights",value:function(e){var t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}},{key:"computeOutputShape",value:function(e){var t,n,r,i=this.forwardLayer.computeOutputShape(e);return Array.isArray(i)&&Array.isArray(i[0])||(i=[i]),this.returnState?(r=i.slice(1),t=i[0]):t=i[0],"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):Wi(n)}},{key:"apply",value:function(e,t){var r=null==t?null:t.initialState,i=null==t?null:t.constants;null==t&&(t={});var a=uc(e,r,i,this.numConstants);if(e=a.inputs,r=a.initialState,i=a.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(null==r||0===r.length)&&null==i)return Rs((0,Ai.Z)(n.prototype),"apply",this).call(this,e,t);var o=[],s=[];if(null!=r){var u=r.length;if(u%2>0)throw new Li("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=r,o.push.apply(o,(0,vr.Z)(r));var l=r.map((function(e){return new Do({shape:e.shape})}));this.forwardLayer.stateSpec=l.slice(0,u/2),this.backwardLayer.stateSpec=l.slice(u/2),s.push.apply(s,(0,vr.Z)(l))}if(null!=i)throw new Fi("Support for constants in Bidirectional layers is not implemented yet.");for(var c=o[0]instanceof To,d=0,f=o;d<f.length;d++){if(f[d]instanceof To!==c)throw new Li("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors")}if(c){var h=[e].concat(o),p=this.inputSpec.concat(s),m=this.inputSpec;this.inputSpec=p;var g=Rs((0,Ai.Z)(n.prototype),"apply",this).call(this,h,t);return this.inputSpec=m,g}return Rs((0,Ai.Z)(n.prototype),"apply",this).call(this,e,t)}},{key:"call",value:function(e,t){var n=this;return(0,M.lub)((function(){var r,i,a,o,s=t.initialState;if(null==s)r=n.forwardLayer.call(e,t),i=n.backwardLayer.call(e,t);else{var u=s.slice(0,s.length/2),l=s.slice(s.length/2);r=n.forwardLayer.call(e,Object.assign(t,{initialState:u})),i=n.backwardLayer.call(e,Object.assign(t,{initialState:l}))}return n.returnState&&(Array.isArray(r)&&(a=r.slice(1).concat(i.slice(1))),r=r[0],i=i[0]),n.returnSequences&&(i=M.GYS(i,1)),"concat"===n.mergeMode?o=La([r,i]):"sum"===n.mergeMode?o=M.IHx(r,i):"ave"===n.mergeMode?o=M.dC7(.5,M.IHx(r,i)):"mul"===n.mergeMode?o=M.dC7(r,i):null==n.mergeMode&&(o=[r,i]),n.returnState?null==n.mergeMode?o.concat(a):[o].concat(a):o}))}},{key:"resetStates",value:function(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}},{key:"build",value:function(e){var t=this;xa(this.forwardLayer.name,(function(){t.forwardLayer.build(e)})),xa(this.backwardLayer.name,(function(){t.backwardLayer.build(e)})),this.built=!0}},{key:"computeMask",value:function(e,t){var n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){var r=this.forwardLayer.states.map((function(e){return null}));return Array.isArray(n)?n.concat(r).concat(r):[n].concat(r).concat(r)}return n}},{key:"trainableWeights",get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}},{key:"nonTrainableWeights",get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}},{key:"setFastWeightInitDuringBuild",value:function(e){Rs((0,Ai.Z)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}},{key:"getConfig",value:function(){var e={mergeMode:this.mergeMode},t=Rs((0,Ai.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"fromConfig",value:function(e,t){var n=Ps(t.layer);if(delete t.layer,null!=t.numConstants)throw new Fi("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var r=t;return r.layer=n,new e(r)}}]),n}(md);function yd(e){return new Ro(e)}function xd(e){return new Zl(e)}function bd(e){return new Ol(e)}function wd(e){return new Ll(e)}function _d(e){return new Fl(e)}function Sd(e){return new zl(e)}function Cd(e){return new Bl(e)}function kd(e){return new ic(e)}function Dd(e){return new Jl(e)}function Td(e){return new ec(e)}function Id(e){return new $l(e)}function Ad(e){return new tc(e)}function Md(e){return new rc(e)}function Ed(e){return new ac(e)}function Nd(e){return new oc(e)}function Rd(e){return new sc(e)}function Pd(e){return new Ic(e)}function Od(e){return new Dc(e)}function Ld(e){return new Cc(e)}function Fd(e){return new kc(e)}function Zd(e){return new Tc(e)}function Bd(e){return new Ac(e)}function zd(e){return new Mc(e)}function Vd(e){return new Ec(e)}function jd(e){return new Rc(e)}function Wd(e){return new Oc(e)}function Ud(e){return new Fc(e)}function Hd(e){return new zc(e)}function Gd(e){return new Zc(e)}function Xd(e){return new Bc(e)}function qd(e){return new Lc(e)}function Yd(e){return new jc(e)}function Kd(e){return new Yc(e)}function Qd(e){return new Kc(e)}function Jd(e){return new Qc(e)}function $d(e){return new nd(e)}function ef(e){return $d(e)}function tf(e){return $d(e)}function nf(e){return new ad(e)}function rf(e){return nf(e)}function af(e){return nf(e)}function of(e){return new ud(e)}function sf(e){return of(e)}function uf(e){return of(e)}function lf(e){return new cd(e)}function cf(e){return new hd(e)}function df(e){return new dd(e)}function ff(e){return new pd(e)}function hf(e){return new td(e)}function pf(e){return new id(e)}function mf(e){return new sd(e)}function gf(e){return new mc(e)}function vf(e){return new pc(e)}function yf(e){return new vc(e)}function xf(e){return new gc(e)}function bf(e){return new hc(e)}function wf(e){return new fc(e)}function _f(e){return new Sc(e)}function Sf(e){return new _c(e)}function Cf(e){return new cc(e)}function kf(e){return new yc(e)}function Df(e){return new vd(e)}function Tf(e){return new gd(e)}vd.className="Bidirectional",M.m7h.registerClass(vd);var If=df,Af=ff,Mf=hf,Ef=pf;function Nf(e){return new Wc(e)}function Rf(e){return new Uc(e)}function Pf(e){return new Hc(e)}function Of(e){return new Nc(e)}function Lf(e,t){return Xs(e,t)}function Ff(e,t){return Js(e,t)}function Zf(e,t){return $s(e,t)}function Bf(e,t){return qs(e,t)}function zf(e,t){return eu(e,t)}function Vf(e,t){return Ks(e,t)}function jf(e,t){return Qs(e,t)}function Wf(e,t){return Us(e,t)}function Uf(e,t){return Fs(e,t)}function Hf(e,t){return Zs(e,t)}function Gf(e,t){return Zs(e,t)}function Xf(e,t){return Zs(e,t)}function qf(e,t){return Ls(e,t)}function Yf(e,t){return Ls(e,t)}function Kf(e,t){return Ls(e,t)}function Qf(e){return new Ml(e)}function Jf(e){return Il(t=e),new Ml({l1:null!=t?t.l1:null,l2:0});var t}function $f(e){return Il(t=e),new Ml({l2:null!=t?t.l2:null,l1:0});var t}var eh=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){var e;return(0,Ci.Z)(this,n),(e=t.apply(this,arguments)).model=null,e}return(0,ki.Z)(n,[{key:"setModel",value:function(e){if(!(e instanceof Ku))throw new Error("model must be a LayersModel, not some other Container");this.model=e}}]),n}(Cs);function th(e,t){return e<t}function nh(e,t){return e>t}var rh=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;if((0,Ci.Z)(this,n),r=t.call(this),null==e&&(e={}),e.restoreBestWeights)throw new Fi("restoreBestWeights = True is not implemented in EarlyStopping yet.");return r.monitor=e.monitor||"val_loss",r.minDelta=Math.abs(e.minDelta||0),r.patience=e.patience||0,r.verbose=e.verbose||0,r.mode=e.mode||"auto",r.baseline=e.baseline,-1===["auto","min","max"].indexOf(r.mode)&&(console.warn("EarlyStopping mode '".concat(r.mode,"' is invalid. ")+"Falling back to mode 'auto'."),r.mode="auto"),"min"===r.mode?r.monitorFunc=th:"max"===r.mode||-1!==r.monitor.indexOf("acc")?r.monitorFunc=nh:r.monitorFunc=th,r.monitorFunc===th&&(r.minDelta*=-1),r}return(0,ki.Z)(n,[{key:"onTrainBegin",value:function(){var e=(0,ys.Z)(bs().mark((function e(t){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.wait=0,this.stoppedEpoch=0,null!=this.baseline?this.best=this.baseline:this.best=this.monitorFunc===th?1/0:-1/0;case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){var r;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ws(n);case 2:if(null!=(r=this.getMonitorValue(n))){e.next=5;break}return e.abrupt("return");case 5:this.monitorFunc(r-this.minDelta,this.best)?(this.best=r,this.wait=0):(this.wait++,this.wait>=this.patience&&(this.stoppedEpoch=t,this.model.stopTraining=!0));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=(0,ys.Z)(bs().mark((function e(t){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.stoppedEpoch>0&&this.verbose&&console.log("Epoch ".concat(this.stoppedEpoch,": early stopping."));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMonitorValue",value:function(e){null==e&&(e={});var t=e[this.monitor];return null==t&&console.warn("Metric for EarlyStopping ".concat(this.monitor," is not available. ")+"Available metrics are: ".concat(Object.keys(e))),t}}]),n}(eh);var ih,ah,oh={earlyStopping:function(e){return new rh(e)}};(0,M.OBj)().registerFlag("KEEP_INTERMEDIATE_TENSORS",(function(){return!1}),(function(e){e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(ih||(ih={})),function(e){!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(ah||(ah={}));var sh={};function uh(e,t){var n={tfOpName:e,category:"custom",inputs:[],attrs:[],customExecutor:t};sh[e]=n}function lh(e){return sh[e]}function ch(e){delete sh[e]}function dh(e,t,n,r,i){var a=t.inputParams[e];if(a&&void 0!==a.inputIndexStart){var o=a.inputIndexStart,s=0===a.inputIndexEnd?void 0:void 0===a.inputIndexEnd?o+1:a.inputIndexEnd;if("tensor"===a.type)return fh(t.inputNames[a.inputIndexStart],n,r,i);if("tensors"===a.type)return t.inputNames.slice(o,s).map((function(e){return fh(e,n,r,i)}));var u=fh(t.inputNames.slice(o)[0],n,r,i),l=u.dataSync();return"number"===a.type?l[0]:M.D5U.toNestedArray(u.shape,l)}var c=t.attrParams[e];return c&&c.value}function fh(e,t,n,r){var i=mh(e),a=(0,E.Z)(i,2),o=a[0],s=a[1];if(null!=r){var u=r.getHashTableHandleByName(o);if(null!=u)return u}var l=n.currentContextIds.find((function(e){return!!t[ph(o,e)]}));return void 0!==l?t[ph(o,l)][s]:void 0}function hh(e,t){var n=mh(e),r=(0,E.Z)(n,3),i=r[0],a=r[1],o=r[2];return[ph(i,t&&t.currentContextId),a,o]}function ph(e,t){return t?"".concat(e,"-").concat(t):e}function mh(e){var t=e.split(":");if(1===t.length)return[e,0,void 0];var n=t[0],r=3===t.length?t[1]:void 0;return[n,Number(t[t.length-1]),r]}function gh(e,t,n){var r=dh("pad",e,t,n);if("explicit"===r){r=dh("explicitPaddings",e,t,n);for(var i=[[0,0],[0,0],[0,0],[0,0]],a=0;a<4;a++)i[a][0]=r[2*a],i[a][1]=r[2*a+1];return i}return r}function vh(e){return e.kept?e:(0,M.d9v)(e)}var yh=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],xh=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],bh=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],wh=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number"}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],_h=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],Sh=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Ch=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],kh=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],Dh=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],Th=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],Ih=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Ah=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],Mh=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],Eh=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],Nh=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],Rh=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],Ph=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],Oh=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],Lh=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],Fh=function(){function e(){var t;(0,Ci.Z)(this,e);var n=[l,c,d,f,h,p,m,g,v,y,x,b,w,_,S,C,k,D,T],r=(t=[]).concat.apply(t,(0,vr.Z)(n.map((function(e){return e.json}))));this.opMappers=r.reduce((function(e,t){return e[t.tfOpName]=t,e}),{})}return(0,ki.Z)(e,[{key:"transformGraph",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.node,i=[],a=[],o=[],s=r.reduce((function(e,n){return e[n.name]=t.mapNode(n),n.op.startsWith("Placeholder")?i.push(e[n.name]):"Const"===n.op?a.push(e[n.name]):null!=n.input&&0!==n.input.length||o.push(e[n.name]),e}),{}),u=[],l=[],c={},d={};null!=n&&(c=this.mapSignatureEntries(n.inputs),d=this.mapSignatureEntries(n.outputs));var f=Object.keys(s);f.forEach((function(e){var t=s[e];t.inputNames.forEach((function(e,n){var r=hh(e),i=(0,E.Z)(r,3),a=i[0],o=i[2],u=s[a];if(null!=u.outputs){var l=u.outputs.indexOf(o);if(-1!==l){var c="".concat(a,":").concat(l);t.inputNames[n]=c}}t.inputs.push(u),u.children.push(t)}))})),0===Object.keys(d).length?f.forEach((function(e){var t=s[e];0===t.children.length&&l.push(t)})):Object.keys(d).forEach((function(e){var t=hh(e),n=(0,E.Z)(t,1)[0],r=s[n];null!=r&&(r.signatureKey=d[e],l.push(r))})),Object.keys(c).length>0?Object.keys(c).forEach((function(e){var t=hh(e),n=(0,E.Z)(t,1)[0],r=s[n];r&&(r.signatureKey=c[e],u.push(r))})):u=i;var h={};null!=e.library&&null!=e.library.function&&(h=e.library.function.reduce((function(e,n){return e[n.signature.name]=t.mapFunction(n),e}),{}));var p={nodes:s,inputs:u,outputs:l,weights:a,placeholders:i,signature:n,functions:h};return o.length>0&&(p.initNodes=o),p}},{key:"mapSignatureEntries",value:function(e){return Object.keys(e||{}).reduce((function(t,n){return t[e[n].name]=n,t}),{})}},{key:"mapNode",value:function(e){var t=lh(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((function(e){return e.startsWith("^")?e.slice(1):e})),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce((function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e}),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce((function(t,n){var r=n.type,i=void 0;switch(n.type){case"string":void 0===(i=Bh(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=Bh(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(i=Yh(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=Yh(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(i=Vh(e.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(i=Vh(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(i=qh(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=qh(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(i=zh(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=zh(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(i=Qh(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=Qh(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(i=Xh(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=Xh(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(i=Kh(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=Kh(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(i=Uh(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=Uh(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(i=Hh(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=Hh(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":void 0===(i=Wh(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=Wh(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:i,type:r},t}),{})),n}},{key:"mapFunction",value:function(e){var t=this,n=e.nodeDef,r=[],i={};null!=n&&(i=n.reduce((function(e,n){return e[n.name]=t.mapNode(n),"Const"===n.op&&r.push(e[n.name]),e}),{}));var a=[],o=[];e.signature.inputArg.forEach((function(e){var t=hh(e.name),n=(0,E.Z)(t,1)[0],r={name:n,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:jh(e.type),type:"dtype"}},children:[]};r.signatureKey=e.name,a.push(r),i[n]=r})),Object.keys(i).forEach((function(e){var t=i[e];t.inputNames.forEach((function(e,n){var r=hh(e),a=(0,E.Z)(r,3),o=a[0],s=a[2],u=i[o];if(null!=u.outputs){var l=u.outputs.indexOf(s);if(-1!==l){var c="".concat(o,":").concat(l);t.inputNames[n]=c}}t.inputs.push(u),u.children.push(t)}))}));var s=e.ret;e.signature.outputArg.forEach((function(e){var t=hh(s[e.name]),n=(0,E.Z)(t,2),r=n[0],a=n[1],u=i[r];null!=u&&(u.defaultOutput=a,o.push(u))}));var u=this.mapArgsToSignature(e);return{nodes:i,inputs:a,outputs:o,weights:r,placeholders:[],signature:u}}},{key:"mapArgsToSignature",value:function(e){var t=this;return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((function(e,n){return e[n.name]=t.mapArgToTensorInfo(n),e}),{}),outputs:e.signature.outputArg.reduce((function(n,r){return n[r.name]=t.mapArgToTensorInfo(r,e.ret),n}),{})}}},{key:"mapArgToTensorInfo",value:function(e,t){var n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),e}();function Zh(e,t){var n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){var t=(0,M.OBj)().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function Bh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e[t];return null!=i?Zh(i.s,r):n}function zh(e,t,n){var r=e[t];return r?r.b:n}function Vh(e,t,n){var r=e[t]||{},i=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof i?i:parseInt(i,10)}function jh(e){switch("string"===typeof e&&(e=ih[e]),e){case ih.DT_FLOAT:case ih.DT_HALF:return"float32";case ih.DT_INT32:case ih.DT_INT64:case ih.DT_INT8:case ih.DT_UINT8:return"int32";case ih.DT_BOOL:return"bool";case ih.DT_DOUBLE:return"float32";case ih.DT_STRING:return"string";default:return null}}function Wh(e,t,n){var r=e[t];return r&&r.func?r.func.name:n}function Uh(e,t,n){var r=e[t];return r&&r.type?jh(r.type):n}function Hh(e,t,n){var r=e[t];return r&&r.list&&r.list.type?r.list.type.map((function(e){return jh(e)})):n}function Gh(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((function(e){return"number"===typeof e.size?e.size:parseInt(e.size,10)})):[]}function Xh(e,t,n){var r=e[t];return r&&r.shape?Gh(r.shape):n}function qh(e,t,n){var r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((function(e){return"number"===typeof e?e:parseInt(e,10)})):n}function Yh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e[t];return i&&i.list&&i.list.s?i.list.s.map((function(e){return Zh(e,r)})):n}function Kh(e,t,n){var r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((function(e){return Gh(e)})):n}function Qh(e,t,n){var r=e[t];return r&&r.list&&r.list.b?r.list.b:n}var Jh=function(){function e(t,n,r){var i=this;(0,Ci.Z)(this,e),this.node=t,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=t.inputNames.map((function(e){return i.getInput(e)})),null!=t.rawAttrs&&(this.attrs=Object.keys(t.rawAttrs).reduce((function(e,t){return e[t]=i.getAttr(t),e}),{}))}return(0,ki.Z)(e,[{key:"getInput",value:function(e){return fh(e,this.tensorMap,this.context)}},{key:"getAttr",value:function(e,t){var n=this.node.rawAttrs[e];if(null!=n.tensor)return fh(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return Vh(this.node.rawAttrs,e,t);if(null!=n.s)return Bh(this.node.rawAttrs,e,t);if(null!=n.b)return zh(this.node.rawAttrs,e,t);if(null!=n.shape)return Xh(this.node.rawAttrs,e,t);if(null!=n.type)return Uh(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return qh(this.node.rawAttrs,e,t);if(null!=n.list.s)return Yh(this.node.rawAttrs,e,t);if(null!=n.list.shape)return Kh(this.node.rawAttrs,e,t);if(null!=n.list.b)return Qh(this.node.rawAttrs,e,t);if(null!=n.list.type)return Hh(this.node.rawAttrs,e,t)}return t}}]),e}(),$h=n(15506),ep=n(59253),tp=n(76996),np=n(26972);function rp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){M.D5U.assert(e.length===t.length,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}));for(var r=0;r<e.length;r++){var i=e[r],a=t[r];M.D5U.assert(i<0||a<0||i===a,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}}}function ip(e){return"number"!==typeof e&&!e.some((function(e){return e<0}))}function ap(e,t,n){var r=op(e,n),i=!ip(r);if(i&&0===t.length)throw new Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(r));if(i&&t.forEach((function(e){r=op(e.shape,r)})),!ip(r))throw new Error("Non-fully-defined elementShape: ".concat(r));return r}function op(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error("Incompatible ranks during merge: ".concat(e," vs. ").concat(t));for(var n=[],r=0;r<e.length;++r){var i=e[r],a=t[r];if(i>=0&&a>=0&&i!==a)throw new Error("Incompatible shape during merge: ".concat(e," vs. ").concat(t));n[r]=i>=0?i:a}return n}var sp=function(){function e(t,n,r,i,a,o,s){(0,Ci.Z)(this,e),this.name=t,this.dtype=n,this.maxSize=r,this.elementShape=i,this.identicalElementShapes=a,this.dynamicSize=o,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.idTensor=(0,M.iD$)(0),(0,M.CnY)(this.idTensor)}return(0,ki.Z)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"closed",get:function(){return this.closed_}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"read",value:function(e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw new Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));var t=this.tensors[e];if(t.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}},{key:"readMany",value:function(e){var t=this;return e.map((function(e){return t.read(e)}))}},{key:"write",value:function(e,t){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));var n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n          because the value dtype is ").concat(t.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),rp(this.elementShape,t.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),n.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(n.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));n.tensor=t,(0,M.CnY)(t),n.written=!0,this.tensors[e]=n}},{key:"writeMany",value:function(e,t){var n=this;if(e.length!==t.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(t.length,"."));e.forEach((function(e,r){return n.write(e,t[r])}))}},{key:"gather",value:function(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(t));if(e)e=e.slice(0,this.size());else{e=[];for(var n=0;n<this.size();n++)e.push(n)}if(0===e.length)return(0,M.XeE)([],[0].concat(this.elementShape));var r=this.readMany(e);return rp(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),(0,M.knu)(r,0)}},{key:"concat",value:function(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(0===this.size())return(0,M.XeE)([],[0].concat(this.elementShape));for(var t=[],n=0;n<this.size();n++)t.push(n);var r=this.readMany(t);return rp(this.elementShape,r[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(r[0].shape,")")),(0,M.zoF)(r,0)}},{key:"scatter",value:function(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));var n=Math.max.apply(Math,(0,vr.Z)(e));if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size (".concat(n,"  vs. ").concat(this.maxSize,")"));this.writeMany(e,(0,M.HHK)(t,0))}},{key:"split",value:function(e,t){var n=this;if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));var r=0,i=e.map((function(e){return r+=e}));if(r!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(t.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");var a=0===r?0:t.size/r,o=[];(0,M.lub)((function(){t=(0,M.XLQ)(t,[1,r,a]);for(var s=0;s<e.length;++s){var u=[0,0===s?0:i[s-1],0],l=[1,e[s],a];o[s]=(0,M.XLQ)((0,M.tPi)(t,u,l),n.elementShape)}return o}));for(var s=[],u=0;u<e.length;u++)s[u]=u;this.writeMany(s,o)}}]),e}(),up=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;(0,Ci.Z)(this,e),this.tensors=t,this.elementShape=n,this.elementDtype=r,null!=t&&t.forEach((function(e){if(r!==e.dtype)throw new Error("Invalid data types; op elements ".concat(r,", but list elements ").concat(e.dtype));rp(n,e.shape,"TensorList shape mismatch: "),(0,M.CnY)(e)})),this.idTensor=(0,M.iD$)(0),this.maxNumElements=i,(0,M.CnY)(this.idTensor)}return(0,ki.Z)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"copy",value:function(){return new e((0,vr.Z)(this.tensors),this.elementShape,this.elementDtype)}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"stack",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(-1!==r&&this.tensors.length!==r)throw new Error("Operation expected a list with ".concat(r," elements but got a list with ").concat(this.tensors.length," elements."));rp(e,this.elementShape,"TensorList shape mismatch: ");var i=ap(this.elementShape,this.tensors,e);return(0,M.lub)((function(){var e=n.tensors.map((function(e){return(0,M.XLQ)(e,i)}));return(0,M.knu)(e,0)}))}},{key:"popBack",value:function(e,t){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(0===this.size())throw new Error("Trying to pop from an empty list.");var n=ap(this.elementShape,this.tensors,e),r=this.tensors.pop();return rp(r.shape,e,"TensorList shape mismatch: "),(0,M.XLQ)(r,n)}},{key:"pushBack",value:function(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if(rp(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");(0,M.CnY)(e),this.tensors.push(e)}},{key:"resize",value:function(t){if(t<0)throw new Error("TensorListResize expects size to be non-negative. Got: ".concat(t));if(-1!==this.maxNumElements&&t>this.maxNumElements)throw new Error("TensorListResize input size ".concat(t," is greater maxNumElement ").concat(this.maxNumElements,"."));var n=new e([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=t;for(var r=0;r<Math.min(this.tensors.length,t);++r)n.tensors[r]=this.tensors[r];return n}},{key:"getItem",value:function(e,t,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw new Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(null==this.tensors[e])throw new Error("element at index ".concat(e," is null."));rp(this.tensors[e].shape,t,"TensorList shape mismatch: ");var r=ap(this.elementShape,this.tensors,t);return(0,M.XLQ)(this.tensors[e],r)}},{key:"setItem",value:function(e,t){if(t.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(this.elementDtype));if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));rp(this.elementShape,t.shape,"TensorList shape mismatch: "),(0,M.CnY)(t),this.tensors[e]=t}},{key:"gather",value:function(e,t,n){var r=this;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));rp(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());var i=ap(this.elementShape,this.tensors,n);return 0===e.length?(0,M.XeE)([],[0].concat(i)):(0,M.lub)((function(){var t=e.map((function(e){return(0,M.XLQ)(r.tensors[e],i)}));return(0,M.knu)(t,0)}))}},{key:"concat",value:function(e,t){var n=this;if(e&&e!==this.elementDtype)throw new Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));rp(this.elementShape,t,"TensorList shape mismatch: ");var r=ap(this.elementShape,this.tensors,t);return 0===this.size()?(0,M.XeE)([],[0].concat(r)):(0,M.lub)((function(){var e=n.tensors.map((function(e){return(0,M.XLQ)(e,r)}));return(0,M.zoF)(e,0)}))}}]),e}();function lp(e,t,n){var r=e.dtype;if(e.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: ".concat(e.shape));if(e.dtype!==n)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(n));rp(e.shape.slice(1),t,"TensorList shape mismatch: ");var i=(0,M.HHK)(e);return new up(i,t,r)}function cp(e,t,n){return new up([],e,t,n)}function dp(e,t,n,r){if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(t.length," vs. ").concat(e.shape[0]));var i=Math.max.apply(Math,(0,vr.Z)(t));if(null!=r&&-1!==r&&i>=r)throw new Error("Max index must be < array size (".concat(i,"  vs. ").concat(r,")"));var a=new up([],n,e.dtype,r),o=(0,M.HHK)(e,0);return t.forEach((function(e,t){a.setItem(e,o[t])})),a}function fp(e,t,n){var r=0,i=t.map((function(e){return r+=e}));if(r!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(e.shape));for(var a=op(e.shape.slice(1),n),o=0===r?0:e.size/r,s=(0,M.lub)((function(){var n=[];e=(0,M.XLQ)(e,[1,r,o]);for(var s=0;s<t.length;++s){var u=[0,0===s?0:i[s-1],0],l=[1,t[s],o];n[s]=(0,M.XLQ)((0,M.tPi)(e,u,l),a)}return e.dispose(),n})),u=new up([],n,e.dtype,t.length),l=0;l<s.length;l++)u.setItem(l,s[l]);return u}var hp=function(){var e=(0,ys.Z)(bs().mark((function e(t,n,r){var i,a,o,s,u,l,c,d,f,h,p,m,g,v,y,x,b,w,_,S,C,k,D,T,I,A,E,N,R,P,O,L,F,Z,B,z,V,j,W,U,H,G,X,q,Y,K,Q,J,$,ee,te,ne,re,ie,ae,oe,se,ue,le,ce,de,fe,he,pe,me,ge,ve,ye,xe,be,we,_e,Se,Ce,ke,De,Te,Ie,Ae,Me,Ee,Ne,Re,Pe,Oe,Le,Fe,Ze,Be,ze,Ve,je,We,Ue,He,Ge,Xe,qe,Ye,Ke,Qe,Je;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="If"===e.t0||"StatelessIf"===e.t0?3:"While"===e.t0||"StatelessWhile"===e.t0?15:"LoopCond"===e.t0?19:"Switch"===e.t0?21:"Merge"===e.t0?32:"Enter"===e.t0?37:"Exit"===e.t0?41:"NextIteration"===e.t0?44:"TensorArrayV3"===e.t0?47:"TensorArrayWriteV3"===e.t0?57:"TensorArrayReadV3"===e.t0?63:"TensorArrayGatherV3"===e.t0?67:"TensorArrayScatterV3"===e.t0?72:"TensorArrayConcatV3"===e.t0?78:"TensorArraySplitV3"===e.t0?82:"TensorArraySizeV3"===e.t0?88:"TensorArrayCloseV3"===e.t0?91:"TensorListSetItem"===e.t0?95:"TensorListGetItem"===e.t0?101:"TensorListScatterV2"===e.t0||"TensorListScatter"===e.t0?107:"TensorListReserve"===e.t0||"EmptyTensorList"===e.t0?114:"TensorListGather"===e.t0?121:"TensorListStack"===e.t0?127:"TensorListFromTensor"===e.t0?133:"TensorListConcat"===e.t0||"TensorListConcatV2"===e.t0?139:"TensorListPushBack"===e.t0?144:"TensorListPopBack"===e.t0?149:"TensorListSplit"===e.t0?154:"TensorListLength"===e.t0?160:"TensorListResize"===e.t0?163:169;break;case 3:return i=dh("thenBranch",t,n,r),a=dh("elseBranch",t,n,r),o=dh("cond",t,n,r),s=dh("args",t,n,r),e.next=9,o.data();case 9:if(!e.sent[0]){e.next=14;break}return e.abrupt("return",r.functionMap[i].executeFunctionAsync(s,r.tensorArrayMap,r.tensorListMap));case 14:return e.abrupt("return",r.functionMap[a].executeFunctionAsync(s,r.tensorArrayMap,r.tensorListMap));case 15:return e.delegateYield(bs().mark((function e(){var i,a,o,s,u,l,c,d;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dh("body",t,n,r),a=dh("cond",t,n,r),o=dh("args",t,n,r),e.next=5,r.functionMap[a].executeFunctionAsync(o,r.tensorArrayMap,r.tensorListMap);case 5:return s=e.sent,u=o.map((function(e){return e.id})),e.next=9,s[0].data();case 9:l=e.sent,s.forEach((function(e){e.kept||-1!==u.indexOf(e.id)||e.dispose()})),c=o,d=bs().mark((function e(){var t,n,o;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c,e.next=3,r.functionMap[i].executeFunctionAsync(c,r.tensorArrayMap,r.tensorListMap);case 3:return c=e.sent,n=c.map((function(e){return e.id})),t.forEach((function(e){e.kept||-1!==u.indexOf(e.id)||-1!==n.indexOf(e.id)||e.dispose()})),e.next=8,r.functionMap[a].executeFunctionAsync(c,r.tensorArrayMap,r.tensorListMap);case 8:return o=e.sent,e.next=11,o[0].data();case 11:l=e.sent,o.forEach((function(e){e.kept||-1!==u.indexOf(e.id)||-1!==n.indexOf(e.id)||e.dispose()}));case 13:case"end":return e.stop()}}),e)}));case 13:if(!l[0]){e.next=17;break}return e.delegateYield(d(),"t0",15);case 15:e.next=13;break;case 17:return e.abrupt("return",{v:c});case 18:case"end":return e.stop()}}),e)}))(),"t1",16);case 16:if("object"!==typeof(u=e.t1)){e.next=19;break}return e.abrupt("return",u.v);case 19:return l=dh("pred",t,n,r),e.abrupt("return",[vh(l)]);case 21:return c=dh("pred",t,n,r),(d=dh("data",t,n,r)).kept||(d=vh(d)),e.next=26,c.data();case 26:if(!e.sent[0]){e.next=30;break}e.t2=[void 0,d],e.next=31;break;case 30:e.t2=[d,void 0];case 31:return e.abrupt("return",e.t2);case 32:if(f=t.inputNames.find((function(e){return void 0!==fh(e,n,r)})),!f){e.next=36;break}return h=fh(f,n,r),e.abrupt("return",[vh(h)]);case 36:return e.abrupt("return",void 0);case 37:return p=dh("frameName",t,n,r),m=dh("tensor",t,n,r),r.enterFrame(p),e.abrupt("return",[vh(m)]);case 41:return g=dh("tensor",t,n,r),r.exitFrame(),e.abrupt("return",[vh(g)]);case 44:return v=dh("tensor",t,n,r),r.nextIteration(),e.abrupt("return",[vh(v)]);case 47:return y=dh("size",t,n,r),x=dh("dtype",t,n,r),b=dh("elementShape",t,n,r),w=dh("dynamicSize",t,n,r),_=dh("clearAfterRead",t,n,r),S=dh("identicalElementShapes",t,n,r),C=dh("name",t,n,r),k=new sp(C,x,y,b,S,w,_),r.addTensorArray(k),e.abrupt("return",[k.idTensor,(0,M.iD$)(1)]);case 57:return D=dh("tensorArrayId",t,n,r),T=dh("index",t,n,r),I=dh("tensor",t,n,r),(A=r.getTensorArray(D.id)).write(T,I),e.abrupt("return",[A.idTensor]);case 63:return E=dh("tensorArrayId",t,n,r),N=dh("index",t,n,r),R=r.getTensorArray(E.id),e.abrupt("return",[R.read(N)]);case 67:return P=dh("tensorArrayId",t,n,r),O=dh("indices",t,n,r),L=dh("dtype",t,n,r),F=r.getTensorArray(P.id),e.abrupt("return",[F.gather(O,L)]);case 72:return Z=dh("tensorArrayId",t,n,r),B=dh("indices",t,n,r),z=dh("tensor",t,n,r),(V=r.getTensorArray(Z.id)).scatter(B,z),e.abrupt("return",[V.idTensor]);case 78:return j=dh("tensorArrayId",t,n,r),W=r.getTensorArray(j.id),U=dh("dtype",t,n,r),e.abrupt("return",[W.concat(U)]);case 82:return H=dh("tensorArrayId",t,n,r),G=dh("tensor",t,n,r),X=dh("lengths",t,n,r),(q=r.getTensorArray(H.id)).split(X,G),e.abrupt("return",[q.idTensor]);case 88:return Y=dh("tensorArrayId",t,n,r),K=r.getTensorArray(Y.id),e.abrupt("return",[(0,M.iD$)(K.size(),"int32")]);case 91:return Q=dh("tensorArrayId",t,n,r),(J=r.getTensorArray(Q.id)).clearAndClose(),e.abrupt("return",[J.idTensor]);case 95:return $=dh("tensorListId",t,n,r),ee=dh("index",t,n,r),te=dh("tensor",t,n,r),(ne=r.getTensorList($.id)).setItem(ee,te),e.abrupt("return",[ne.idTensor]);case 101:return re=dh("tensorListId",t,n,r),ie=dh("index",t,n,r),ae=dh("elementShape",t,n,r),oe=dh("elementDType",t,n,r),se=r.getTensorList(re.id),e.abrupt("return",[se.getItem(ie,ae,oe)]);case 107:return ue=dh("indices",t,n,r),le=dh("tensor",t,n,r),ce=dh("elementShape",t,n,r),de=dh("numElements",t,n,r),fe=dp(le,ue,ce,de),r.addTensorList(fe),e.abrupt("return",[fe.idTensor]);case 114:return he=dh("elementShape",t,n,r),pe=dh("elementDType",t,n,r),me="TensorListReserve"===t.op?"numElements":"maxNumElements",ge=dh(me,t,n,r),ve=cp(he,pe,ge),r.addTensorList(ve),e.abrupt("return",[ve.idTensor]);case 121:return ye=dh("tensorListId",t,n,r),xe=dh("indices",t,n,r),be=dh("elementShape",t,n,r),we=dh("elementDType",t,n,r),_e=r.getTensorList(ye.id),e.abrupt("return",[_e.gather(xe,we,be)]);case 127:return Se=dh("tensorListId",t,n,r),Ce=dh("elementShape",t,n,r),ke=dh("elementDType",t,n,r),De=dh("numElements",t,n,r),Te=r.getTensorList(Se.id),e.abrupt("return",[Te.stack(Ce,ke,De)]);case 133:return Ie=dh("tensor",t,n,r),Ae=dh("elementShape",t,n,r),Me=dh("elementDType",t,n,r),Ee=lp(Ie,Ae,Me),r.addTensorList(Ee),e.abrupt("return",[Ee.idTensor]);case 139:return Ne=dh("tensorListId",t,n,r),Re=r.getTensorList(Ne.id),Pe=dh("dtype",t,n,r),Oe=dh("elementShape",t,n,r),e.abrupt("return",[Re.concat(Pe,Oe)]);case 144:return Le=dh("tensorListId",t,n,r),Fe=dh("tensor",t,n,r),(Ze=r.getTensorList(Le.id)).pushBack(Fe),e.abrupt("return",[Ze.idTensor]);case 149:return Be=dh("tensorListId",t,n,r),ze=dh("elementShape",t,n,r),Ve=dh("elementDType",t,n,r),je=r.getTensorList(Be.id),e.abrupt("return",[je.popBack(ze,Ve)]);case 154:return We=dh("tensor",t,n,r),Ue=dh("elementShape",t,n,r),He=dh("lengths",t,n,r),Ge=fp(We,He,Ue),r.addTensorList(Ge),e.abrupt("return",[Ge.idTensor]);case 160:return Xe=dh("tensorListId",t,n,r),qe=r.getTensorList(Xe.id),e.abrupt("return",[(0,M.iD$)(qe.size(),"int32")]);case 163:return Ye=dh("tensorListId",t,n,r),Ke=dh("size",t,n,r),Qe=r.getTensorList(Ye.id),Je=Qe.resize(Ke),r.addTensorList(Je),e.abrupt("return",[Je.idTensor]);case 169:throw TypeError("Node type ".concat(t.op," is not implemented"));case 170:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),pp=n(6947),mp=n(48113),gp=n(78811),vp=n(65840),yp=n(39185);function xp(e,t,n){var r=dh("fusedOps",e,t,n),i=(0,E.Z)(r,2),a=i[0],o=i[1],s="biasadd"===a,u=!s,l="prelu"===o,c="fusedbatchnorm"===a,d=dh("numArgs",e,t,n);if(s){if(l&&2!==d)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!l&&s&&1!==d)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(c)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");var f=dh("strides",e,t,n),h=gh(e,t,n),p=dh("dataFormat",e,t,n).toUpperCase(),m=dh("dilations",e,t,n),g=dh("args",e,t,n),v=(0,E.Z)(g,2),y=v[0],x=v[1];return u&&(x=y,y=void 0),{stride:f,pad:h,dataFormat:p,dilations:m,biasArg:y,preluArg:x,activationFunc:o,leakyreluAlpha:dh("leakyreluAlpha",e,t,n)}}var bp=n(8582),wp=n(62453),_p=n(4660),Sp=n(16407),Cp=n(422),kp=n(52453),Dp=n(5317),Tp=n(41867),Ip=n(24438);function Ap(e,t,n){return{boxes:dh("boxes",e,t,n),scores:dh("scores",e,t,n),maxOutputSize:dh("maxOutputSize",e,t,n),iouThreshold:dh("iouThreshold",e,t,n),scoreThreshold:dh("scoreThreshold",e,t,n),softNmsSigma:dh("softNmsSigma",e,t,n)}}var Mp=function(){var e=(0,ys.Z)(bs().mark((function e(t,n,r){var i,a,o,s,u,l,c,d,f,h,p,m,g,v,y,x,b,w,_,S,C,k,D,T;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="NonMaxSuppressionV5"===e.t0?3:"NonMaxSuppressionV4"===e.t0?8:"NonMaxSuppressionV3"===e.t0||"NonMaxSuppressionV2"===e.t0?14:"Where"===e.t0?19:"ListDiff"===e.t0?26:27;break;case 3:return i=Ap(t,n,r),a=i.boxes,o=i.scores,s=i.maxOutputSize,u=i.iouThreshold,l=i.scoreThreshold,c=i.softNmsSigma,e.next=6,Dp.BHj.nonMaxSuppressionWithScoreAsync(a,o,s,u,l,c);case 6:return d=e.sent,e.abrupt("return",[d.selectedIndices,d.selectedScores]);case 8:return f=Ap(t,n,r),h=f.boxes,p=f.scores,m=f.maxOutputSize,g=f.iouThreshold,v=f.scoreThreshold,y=dh("padToMaxOutputSize",t,n,r),e.next=12,Dp.BHj.nonMaxSuppressionPaddedAsync(h,p,m,g,v,y);case 12:return x=e.sent,e.abrupt("return",[x.selectedIndices,x.validOutputs]);case 14:return b=Ap(t,n,r),w=b.boxes,_=b.scores,S=b.maxOutputSize,C=b.iouThreshold,k=b.scoreThreshold,e.next=17,Dp.BHj.nonMaxSuppressionAsync(w,_,S,C,k);case 17:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 19:return D=R.p(dh("condition",t,n,r),"bool"),e.next=22,Tp.i(D);case 22:return e.t2=e.sent,T=[e.t2],D.dispose(),e.abrupt("return",T);case 26:return e.abrupt("return",Ip.O(dh("x",t,n,r),dh("y",t,n,r)));case 27:throw TypeError("Node type ".concat(t.op," is not implemented"));case 28:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ep=n(94255),Np=n(16035),Rp=n(92894),Pp=function(){function e(t,n){(0,Ci.Z)(this,e),this.keyDType=t,this.valueDType=n,this.handle=(0,M.iD$)(0),this.tensorMap=new Map,(0,M.CnY)(this.handle)}return(0,ki.Z)(e,[{key:"id",get:function(){return this.handle.id}},{key:"clearAndClose",value:function(){this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),this.handle.dispose()}},{key:"size",value:function(){return this.tensorMap.size}},{key:"tensorSize",value:function(){return B.i(this.size(),"int32")}},{key:"import",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){var r,i=this;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return r=e.sent,this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),e.abrupt("return",(0,M.lub)((function(){var e=(0,M.HHK)(n),t=r.length,a=e.length;M.D5U.assert(t===a,(function(){return"The number of elements doesn't match, keys has "+"".concat(t," elements, the values has ").concat(a," ")+"elements."}));for(var o=0;o<t;o++){var s=r[o],u=e[o];(0,M.CnY)(u),i.tensorMap.set(s,u)}return i.handle})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"find",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){var r,i=this;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return r=e.sent,e.abrupt("return",(0,M.lub)((function(){for(var e=[],t=0;t<r.length;t++){var a=r[t],o=i.findWithDefault(a,n);e.push(o)}return(0,M.knu)(e)})));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findWithDefault",value:function(e,t){var n=this.tensorMap.get(e);return null!=n?n:t}},{key:"checkKeyAndValueTensor",value:function(e,t){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(t.dtype!==this.valueDType)throw new Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(t.dtype))}}]),e}(),Op=function(){var e=(0,ys.Z)(bs().mark((function e(t,n,r,i){var a,o,s,u,l,c,d,f,h,p,m,g,v;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="HashTable"===e.t0||"HashTableV2"===e.t0?3:"LookupTableImport"===e.t0||"LookupTableImportV2"===e.t0?8:"LookupTableFind"===e.t0||"LookupTableFindV2"===e.t0?16:"LookupTableSize"===e.t0||"LookupTableSizeV2"===e.t0?24:27;break;case 3:return a=dh("keyDType",t,n,r),o=dh("valueDType",t,n,r),s=new Pp(a,o),i.addHashTable(t.name,s),e.abrupt("return",[s.handle]);case 8:return u=dh("tableHandle",t,n,r,i),l=dh("keys",t,n,r),c=dh("values",t,n,r),d=i.getHashTableById(u.id),e.next=14,d.import(l,c);case 14:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 16:return f=dh("tableHandle",t,n,r,i),h=dh("keys",t,n,r),p=dh("defaultValue",t,n,r),m=i.getHashTableById(f.id),e.next=22,m.find(h,p);case 22:return e.t2=e.sent,e.abrupt("return",[e.t2]);case 24:return g=dh("tableHandle",t,n,r,i),v=i.getHashTableById(g.id),e.abrupt("return",[v.tensorSize()]);case 27:throw TypeError("Node type ".concat(t.op," is not implemented"));case 28:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),Lp=n(58060),Fp=n(49991),Zp=n(77531),Bp=n(57419),zp=n(23522),Vp=n(53357),jp=n(80238);function Wp(e,t,n,r){var i=function(e,t,n){switch(e.category){case"arithmetic":return M.lub((function(){return function(e,t,n){switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[ee.I(dh("a",e,t,n),dh("b",e,t,n))];case"AddN":return[$h.Q(dh("tensors",e,t,n))];case"FloorMod":case"Mod":return[Kr.w(dh("a",e,t,n),dh("b",e,t,n))];case"Mul":return[P.d(dh("a",e,t,n),dh("b",e,t,n))];case"RealDiv":case"Div":return[F.h(dh("a",e,t,n),dh("b",e,t,n))];case"DivNoNan":return[Sr.N(dh("a",e,t,n),dh("b",e,t,n))];case"FloorDiv":return[Mr.q(dh("a",e,t,n),dh("b",e,t,n))];case"Sub":return[j.l(dh("a",e,t,n),dh("b",e,t,n))];case"Minimum":return[qr.L(dh("a",e,t,n),dh("b",e,t,n))];case"Maximum":return[Gn.g(dh("a",e,t,n),dh("b",e,t,n))];case"Pow":return[qt.s(dh("a",e,t,n),dh("b",e,t,n))];case"SquaredDifference":return[gi.$(dh("a",e,t,n),dh("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"basic_math":return M.lub((function(){return function(e,t,n){switch(e.op){case"Abs":case"ComplexAbs":return[$n.W(dh("x",e,t,n))];case"Acos":return[tr.K(dh("x",e,t,n))];case"Acosh":return[nr._(dh("x",e,t,n))];case"Asin":return[sr.Z(dh("x",e,t,n))];case"Asinh":return[ur.V(dh("x",e,t,n))];case"Atan":return[lr.z(dh("x",e,t,n))];case"Atan2":return[cr.f(dh("x",e,t,n),dh("y",e,t,n))];case"Atanh":return[dr.C(dh("x",e,t,n))];case"Ceil":return[mr.m(dh("x",e,t,n))];case"Complex":return[ep.P(dh("real",e,t,n),dh("imag",e,t,n))];case"Cos":return[yn.m(dh("x",e,t,n))];case"Cosh":return[bn.f(dh("x",e,t,n))];case"Elu":return[kr.p(dh("x",e,t,n))];case"Erf":return[Dr.q(dh("x",e,t,n))];case"Exp":return[Ke.Q(dh("x",e,t,n))];case"Expm1":return[Ir.t(dh("x",e,t,n))];case"Floor":return[Ft.G(dh("x",e,t,n))];case"Log":return[Xt.c(dh("x",e,t,n))];case"Log1p":return[Vr.K(dh("x",e,t,n))];case"Imag":return[tp.a(dh("x",e,t,n))];case"Neg":return[Z.W(dh("x",e,t,n))];case"Reciprocal":return[ii.M(dh("x",e,t,n))];case"Real":return[np.k(dh("x",e,t,n))];case"Relu":return[ai.U(dh("x",e,t,n))];case"Round":return[ci.N(dh("x",e,t,n))];case"Selu":return[di.U(dh("x",e,t,n))];case"Sigmoid":return[Dn.X(dh("x",e,t,n))];case"Sin":return[Fe.O(dh("x",e,t,n))];case"Sign":return[hi.X(dh("x",e,t,n))];case"Sinh":return[Be.R(dh("x",e,t,n))];case"Softplus":return[mi.W(dh("x",e,t,n))];case"Sqrt":return[z._(dh("x",e,t,n))];case"Square":return[V.h(dh("x",e,t,n))];case"Tanh":return[bi.A(dh("x",e,t,n))];case"Tan":return[xi.O(dh("x",e,t,n))];case"ClipByValue":return[gr.i(dh("x",e,t,n),dh("clipValueMin",e,t,n),dh("clipValueMax",e,t,n))];case"Relu6":return[oi.b(dh("x",e,t,n))];case"Rsqrt":return[rt.b(fh(e.inputNames[0],t,n))];case"Prod":return[ri.W(dh("x",e,t,n),dh("axes",e,t,n))];case"LeakyRelu":return[Lr.h(dh("x",e,t,n),dh("alpha",e,t,n))];case"Prelu":return[ni.A(dh("x",e,t,n),dh("alpha",e,t,n))];case"IsNan":return[Or.i(fh(e.inputNames[0],t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"control":return hp(e,t,n);case"convolution":return M.lub((function(){return function(e,t,n){switch(e.op){case"Conv1D":var r=dh("stride",e,t,n),i=dh("pad",e,t,n),a=dh("dataFormat",e,t,n).toUpperCase(),o=dh("dilation",e,t,n);return[yr.P(dh("x",e,t,n),dh("filter",e,t,n),r,i,a,o)];case"Conv2D":var s=dh("strides",e,t,n),u=gh(e,t,n),l=dh("dataFormat",e,t,n).toUpperCase(),c=dh("dilations",e,t,n);return[Ne.T(dh("x",e,t,n),dh("filter",e,t,n),[s[1],s[2]],u,l,[c[1],c[2]])];case"_FusedConv2D":var d=xp(e,t,n),f=d.stride,h=d.pad,p=d.dataFormat,m=d.dilations,g=d.biasArg,v=d.preluArg,y=d.activationFunc,x=d.leakyreluAlpha;return[pp.conv2d({x:dh("x",e,t,n),filter:dh("filter",e,t,n),strides:[f[1],f[2]],pad:h,dataFormat:p,dilations:[m[1],m[2]],bias:g,activation:y,preluActivationWeights:v,leakyreluAlpha:x})];case"FusedDepthwiseConv2dNative":var b=xp(e,t,n),w=b.stride,_=b.pad,S=b.dataFormat,C=b.dilations,k=b.biasArg,D=b.preluArg,T=b.activationFunc,I=b.leakyreluAlpha;return[pp.depthwiseConv2d({x:dh("x",e,t,n),filter:dh("filter",e,t,n),strides:[w[1],w[2]],pad:_,dataFormat:S,dilations:[C[1],C[2]],bias:k,activation:T,preluActivationWeights:D,leakyreluAlpha:I})];case"Conv2DBackpropInput":case"Conv2dTranspose":var A=dh("outputShape",e,t,n),M=dh("strides",e,t,n),E=gh(e,t,n);return[xr.b(dh("x",e,t,n),dh("filter",e,t,n),A,[M[1],M[2]],E)];case"DepthwiseConv2dNative":case"DepthwiseConv2d":var N=dh("strides",e,t,n),R=gh(e,t,n),P=dh("dilations",e,t,n),O=dh("dataFormat",e,t,n).toUpperCase();return[wr.B(dh("input",e,t,n),dh("filter",e,t,n),[N[1],N[2]],R,O,[P[1],P[2]])];case"Conv3D":var L=dh("strides",e,t,n),F=dh("pad",e,t,n),Z=dh("dataFormat",e,t,n).toUpperCase(),B=dh("dilations",e,t,n);return[mp.p(dh("x",e,t,n),dh("filter",e,t,n),[L[1],L[2],L[3]],F,Z,[B[1],B[2],B[3]])];case"AvgPool":var z=dh("strides",e,t,n),V=dh("pad",e,t,n),j=dh("kernelSize",e,t,n);return[fr.w(dh("x",e,t,n),[j[1],j[2]],[z[1],z[2]],V)];case"MaxPool":var W=dh("strides",e,t,n),U=dh("pad",e,t,n),H=dh("kernelSize",e,t,n);return[Ur._(dh("x",e,t,n),[H[1],H[2]],[W[1],W[2]],U)];case"MaxPoolWithArgmax":var G=dh("strides",e,t,n),X=dh("pad",e,t,n),q=dh("kernelSize",e,t,n),Y=dh("includeBatchInIndex",e,t,n),K=gp.I(dh("x",e,t,n),[q[1],q[2]],[G[1],G[2]],X,Y);return[K.result,K.indexes];case"AvgPool3D":var Q=dh("strides",e,t,n),J=dh("pad",e,t,n),$=dh("kernelSize",e,t,n);return[vp.u(dh("x",e,t,n),[$[1],$[2],$[3]],[Q[1],Q[2],Q[3]],J)];case"MaxPool3D":var ee=dh("strides",e,t,n),te=dh("pad",e,t,n),ne=dh("kernelSize",e,t,n);return[yp.Y(dh("x",e,t,n),[ne[1],ne[2],ne[3]],[ee[1],ee[2],ee[3]],te)];case"Dilation2D":var re=dh("strides",e,t,n),ie=dh("pad",e,t,n),ae=dh("dilations",e,t,n),oe=re[1],se=re[2],ue=ae[1],le=ae[2];return[_r.W(dh("x",e,t,n),dh("filter",e,t,n),[oe,se],ie,[ue,le],"NHWC")];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"creation":return M.lub((function(){return function(e,t,n){switch(e.op){case"Fill":var r=dh("shape",e,t,n),i=dh("dtype",e,t,n),a=dh("value",e,t,n);return[bp.h(r,a,i)];case"LinSpace":var o=dh("start",e,t,n),s=dh("stop",e,t,n),u=dh("num",e,t,n);return[wp.S(o,s,u)];case"Multinomial":var l=dh("logits",e,t,n),c=dh("numSamples",e,t,n),d=dh("seed",e,t,n);return[_p.S(l,c,d)];case"OneHot":var f=dh("indices",e,t,n),h=dh("depth",e,t,n),p=dh("onValue",e,t,n),m=dh("offValue",e,t,n);return[$r.l(f,h,p,m)];case"Ones":return[Et.i(dh("shape",e,t,n),dh("dtype",e,t,n))];case"OnesLike":return[ei.J(dh("x",e,t,n))];case"RandomUniform":return[Sp.L(dh("shape",e,t,n),dh("minval",e,t,n),dh("maxval",e,t,n),dh("dtype",e,t,n))];case"Range":var g=dh("start",e,t,n),v=dh("stop",e,t,n),y=dh("step",e,t,n);return[Cp.w(g,v,y,dh("dtype",e,t,n))];case"TruncatedNormal":var x=dh("shape",e,t,n),b=dh("mean",e,t,n),w=dh("stdDev",e,t,n),_=dh("seed",e,t,n);return[kp.X(x,b,w,dh("dtype",e,t,n),_)];case"Zeros":return[Vt.l(dh("shape",e,t,n),dh("dtype",e,t,n))];case"ZerosLike":return[K.P(dh("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"dynamic":return Mp(e,t,n);case"evaluation":return M.lub((function(){return function(e,t,n){switch(e.op){case"LowerBound":var r=dh("sortedSequence",e,t,n),i=dh("values",e,t,n);return[Ep.e(r,i)];case"TopKV2":var a=dh("x",e,t,n),o=dh("k",e,t,n),s=dh("sorted",e,t,n),u=wi.h(a,o,s);return[u.values,u.indices];case"UpperBound":var l=dh("sortedSequence",e,t,n),c=dh("values",e,t,n);return[Np.G(l,c)];case"Unique":var d=dh("x",e,t,n),f=_i.T(d);return[f.values,f.indices];case"UniqueV2":var h=dh("x",e,t,n),p=dh("axis",e,t,n),m=_i.T(h,p);return[m.values,m.indices];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"image":return M.lub((function(){return function(e,t,n){switch(e.op){case"ResizeBilinear":var r=dh("images",e,t,n),i=dh("size",e,t,n),a=dh("alignCorners",e,t,n),o=dh("halfPixelCenters",e,t,n);return[Dp.BHj.resizeBilinear(r,[i[0],i[1]],a,o)];case"ResizeNearestNeighbor":var s=dh("images",e,t,n),u=dh("size",e,t,n),l=dh("alignCorners",e,t,n),c=dh("halfPixelCenters",e,t,n);return[Dp.BHj.resizeNearestNeighbor(s,[u[0],u[1]],l,c)];case"CropAndResize":var d=dh("image",e,t,n),f=dh("boxes",e,t,n),h=dh("boxInd",e,t,n),p=dh("cropSize",e,t,n),m=dh("method",e,t,n),g=dh("extrapolationValue",e,t,n);return[Dp.BHj.cropAndResize(d,f,h,p,m,g)];case"ImageProjectiveTransformV3":var v=dh("images",e,t,n),y=dh("transforms",e,t,n),x=dh("outputShape",e,t,n),b=dh("fillValue",e,t,n),w=dh("interpolation",e,t,n),_=dh("fillMode",e,t,n);return[Dp.BHj.transform(v,y,w.toLowerCase(),_.toLowerCase(),b,x)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"graph":return M.lub((function(){return function(e,t,n){switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":var r=dh("default",e,t,n);return[fh(e.name,t,n)||r];case"Placeholder":return[fh(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[vh(dh("x",e,t,n))];case"IdentityN":return dh("x",e,t,n).map((function(e){return vh(e)}));case"Shape":return[Rp.R(dh("x",e,t,n).shape,"int32")];case"ShapeN":return dh("x",e,t,n).map((function(e){return Rp.R(e.shape)}));case"Size":return[B.i(dh("x",e,t,n).size,"int32")];case"Rank":return[B.i(dh("x",e,t,n).rank,"int32")];case"NoOp":return[B.i(1)];case"Print":var i=dh("x",e,t,n),a=dh("data",e,t,n),o=dh("message",e,t,n),s=dh("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(o);for(var u=0;u<a.length;u++)console.log(Array.prototype.slice.call(a[u].dataSync()).slice(0,s));return[i];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"logical":return M.lub((function(){return function(e,t,n){switch(e.op){case"Equal":return[_t.D(dh("a",e,t,n),dh("b",e,t,n))];case"NotEqual":return[Jr.Q(dh("a",e,t,n),dh("b",e,t,n))];case"Greater":return[mt.p(dh("a",e,t,n),dh("b",e,t,n))];case"GreaterEqual":return[we.b(dh("a",e,t,n),dh("b",e,t,n))];case"Less":return[kt.d(dh("a",e,t,n),dh("b",e,t,n))];case"LessEqual":return[_e.z(dh("a",e,t,n),dh("b",e,t,n))];case"LogicalAnd":return[Se.H(dh("a",e,t,n),dh("b",e,t,n))];case"LogicalNot":return[fn.h(dh("a",e,t,n))];case"LogicalOr":return[jr.K(dh("a",e,t,n),dh("b",e,t,n))];case"Select":case"SelectV2":return[Ce.a(dh("condition",e,t,n),dh("a",e,t,n),dh("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"matrices":return M.lub((function(){return function(e,t,n){switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[pe.O(dh("a",e,t,n),dh("b",e,t,n),dh("transposeA",e,t,n),dh("transposeB",e,t,n))];case"Einsum":return[Lp.W.apply(I,[dh("equation",e,t,n)].concat((0,vr.Z)(dh("tensors",e,t,n))))];case"Transpose":return[We.p(dh("x",e,t,n),dh("perm",e,t,n))];case"_FusedMatMul":var r=dh("fusedOps",e,t,n),i=(0,E.Z)(r,2),a=i[0],o=i[1],s="biasadd"===a,u="prelu"===o,l=dh("numArgs",e,t,n),c=dh("leakyreluAlpha",e,t,n);if(s){if(u&&2!==l)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!u&&1!==l)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}var d=dh("args",e,t,n),f=(0,E.Z)(d,2),h=f[0],p=f[1];return[pp.matMul({a:dh("a",e,t,n),b:dh("b",e,t,n),transposeA:dh("transposeA",e,t,n),transposeB:dh("transposeB",e,t,n),bias:h,activation:o,preluActivationWeights:p,leakyreluAlpha:c})];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"normalization":return M.lub((function(){return function(e,t,n){switch(e.op){case"EuclideanNorm":return[Tr.d(dh("x",e,t,n),dh("axis",e,t,n),dh("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[hr.t(dh("x",e,t,n),dh("mean",e,t,n),dh("variance",e,t,n),dh("offset",e,t,n),dh("scale",e,t,n),dh("epsilon",e,t,n))];case"LRN":return[Fr.G(dh("x",e,t,n),dh("radius",e,t,n),dh("bias",e,t,n),dh("alpha",e,t,n),dh("beta",e,t,n))];case"Softmax":return[pi.X(dh("x",e,t,n))];case"LogSoftmax":return[Br.C(dh("x",e,t,n))];case"SparseToDense":return[Fp.e(dh("sparseIndices",e,t,n),dh("outputShape",e,t,n),dh("sparseValues",e,t,n),dh("defaultValue",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"reduction":return M.lub((function(){return function(e,t,n){switch(e.op){case"Max":var r=dh("axis",e,t,n),i=dh("keepDims",e,t,n);return[Hr.F(dh("x",e,t,n),r,i)];case"Mean":var a=dh("axis",e,t,n),o=dh("keepDims",e,t,n);return[Gr.J(dh("x",e,t,n),a,o)];case"Min":var s=dh("axis",e,t,n),u=dh("keepDims",e,t,n);return[Xr.V(dh("x",e,t,n),s,u)];case"Sum":var l=dh("axis",e,t,n),c=dh("keepDims",e,t,n);return[X.S(dh("x",e,t,n),l,c)];case"All":var d=dh("axis",e,t,n),f=dh("keepDims",e,t,n);return[rr.$(dh("x",e,t,n),d,f)];case"Any":var h=dh("axis",e,t,n),p=dh("keepDims",e,t,n);return[ir.Y(dh("x",e,t,n),h,p)];case"ArgMax":var m=dh("axis",e,t,n);return[ar.N(dh("x",e,t,n),m)];case"ArgMin":var g=dh("axis",e,t,n);return[or.v(dh("x",e,t,n),g)];case"Prod":var v=dh("axis",e,t,n),y=dh("keepDims",e,t,n);return[ri.W(dh("x",e,t,n),v,y)];case"Cumprod":var x=dh("axis",e,t,n),b=dh("exclusive",e,t,n),w=dh("reverse",e,t,n);return[Qt.$(dh("x",e,t,n),x,b,w)];case"Cumsum":var _=dh("axis",e,t,n),S=dh("exclusive",e,t,n),C=dh("reverse",e,t,n);return[je.z(dh("x",e,t,n),_,S,C)];case"Bincount":var k=dh("x",e,t,n),D=dh("weights",e,t,n),T=dh("size",e,t,n);return[Zp.y(k,D,T)];case"DenseBincount":var I=dh("x",e,t,n),A=dh("weights",e,t,n),M=dh("size",e,t,n),E=dh("binaryOutput",e,t,n);return[Bp.p(I,A,M,E)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"slice_join":return M.lub((function(){return function(e,t,n){switch(e.op){case"ConcatV2":case"Concat":var r=dh("n",e,t,n),i=dh("axis",e,t,n),a=dh("tensors",e,t,n);return a=a.slice(0,r),[Mn.z(a,i)];case"Gather":var o=dh("x",e,t,n),s=dh("indices",e,t,n);return[Hn.I(o,R.p(s,"int32"),0)];case"GatherV2":var u=dh("axis",e,t,n),l=dh("batchDims",e,t,n),c=dh("x",e,t,n),d=dh("indices",e,t,n);return[Hn.I(c,R.p(d,"int32"),u,l)];case"Reverse":for(var f=dh("dims",e,t,n),h=[],p=0;p<f.length;p++)f[p]&&h.push(p);var m=dh("x",e,t,n);return[un.G(m,h)];case"ReverseV2":var g=dh("axis",e,t,n),v=dh("x",e,t,n);return[un.G(v,g)];case"Slice":var y=dh("begin",e,t,n),x=dh("size",e,t,n);return[Ot.t(dh("x",e,t,n),y,x)];case"StridedSlice":var b=dh("begin",e,t,n),w=dh("end",e,t,n),_=dh("strides",e,t,n),S=dh("beginMask",e,t,n),C=dh("endMask",e,t,n),k=dh("ellipsisMask",e,t,n),D=dh("newAxisMask",e,t,n),T=dh("shrinkAxisMask",e,t,n),I=dh("x",e,t,n);return[yi.N(I,b,w,_,S,C,k,D,T)];case"Pack":return(0,M.lub)((function(){var r=dh("axis",e,t,n),i=dh("tensors",e,t,n),a=i[0].shape,o=vi.L(i[0]).shape,s=i.map((function(e){var t=M.D5U.arraysEqual(e.shape,a);if(!t&&!M.D5U.arraysEqual(vi.L(e).shape,o))throw new Error("the input tensors shape does not match");return t?e:G.X(e,a)}));return[jn.k(s,r)]}));case"Unpack":var A=dh("axis",e,t,n),E=dh("tensor",e,t,n);return Ut.H(E,A);case"Tile":var N=dh("reps",e,t,n);return[it.G(dh("x",e,t,n),N)];case"Split":case"SplitV":var P=dh("axis",e,t,n),O=dh("numOrSizeSplits",e,t,n),L=dh("x",e,t,n);return Te.V(L,O,P);case"ScatterNd":var F=dh("indices",e,t,n),Z=dh("values",e,t,n),B=dh("shape",e,t,n);return[zp.s(F,Z,B)];case"GatherNd":var z=dh("x",e,t,n),V=dh("indices",e,t,n);return[Vp.d(z,V)];case"SparseToDense":var j=dh("sparseIndices",e,t,n),W=dh("outputShape",e,t,n),U=dh("sparseValues",e,t,n),H=dh("defaultValue",e,t,n);return[Fp.e(j,U,W,U.dtype===H.dtype?H:R.p(H,U.dtype))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"sparse":return M.lub((function(){return function(e,t,n){switch(e.op){case"SparseFillEmptyRows":var r=Dp.rVs.sparseFillEmptyRows(dh("indices",e,t,n),dh("values",e,t,n),dh("denseShape",e,t,n),dh("defaultValue",e,t,n));return[r.outputIndices,r.outputValues,r.emptyRowIndicator,r.reverseIndexMap];case"SparseReshape":var i=Dp.rVs.sparseReshape(dh("inputIndices",e,t,n),dh("inputShape",e,t,n),dh("newShape",e,t,n));return[i.outputIndices,i.outputShape];case"SparseSegmentMean":return[Dp.rVs.sparseSegmentMean(dh("data",e,t,n),dh("indices",e,t,n),dh("segmentIds",e,t,n))];case"SparseSegmentSum":return[Dp.rVs.sparseSegmentSum(dh("data",e,t,n),dh("indices",e,t,n),dh("segmentIds",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"spectral":return M.lub((function(){return function(e,t,n){switch(e.op){case"FFT":return[Ar.k(dh("x",e,t,n))];case"IFFT":return[Er.S(dh("x",e,t,n))];case"RFFT":return[li.Q(dh("x",e,t,n))];case"IRFFT":return[Nr.w(dh("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"string":return M.lub((function(){return function(e,t,n){switch(e.op){case"StringNGrams":var r=Dp.Z_8.stringNGrams(dh("data",e,t,n),dh("dataSplits",e,t,n),dh("separator",e,t,n),dh("nGramWidths",e,t,n),dh("leftPad",e,t,n),dh("rightPad",e,t,n),dh("padWidth",e,t,n),dh("preserveShortSequences",e,t,n));return[r.nGrams,r.nGramsSplits];case"StringSplit":var i=Dp.Z_8.stringSplit(dh("input",e,t,n),dh("delimiter",e,t,n),dh("skipEmpty",e,t,n));return[i.indices,i.values,i.shape];case"StringToHashBucketFast":return[Dp.Z_8.stringToHashBucketFast(dh("input",e,t,n),dh("numBuckets",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"transformation":return M.lub((function(){return function(e,t,n){switch(e.op){case"Cast":return[R.p(dh("x",e,t,n),dh("dtype",e,t,n))];case"ExpandDims":var r=dh("axis",e,t,n);return[Un.d(dh("x",e,t,n),r)];case"Squeeze":var i=dh("axis",e,t,n);return[vi.L(dh("x",e,t,n),i)];case"Reshape":return[G.X(dh("x",e,t,n),dh("shape",e,t,n))];case"MirrorPad":return[Yr.V(dh("x",e,t,n),dh("padding",e,t,n),dh("mode",e,t,n))];case"PadV2":case"Pad":return[_n.v(dh("x",e,t,n),dh("padding",e,t,n),dh("constantValue",e,t,n))];case"SpaceToBatchND":var a=dh("blockShape",e,t,n),o=dh("paddings",e,t,n);return[ge.f(dh("x",e,t,n),a,o)];case"BatchToSpaceND":var s=dh("blockShape",e,t,n),u=dh("crops",e,t,n);return[In.E(dh("x",e,t,n),s,u)];case"DepthToSpace":var l=dh("blockSize",e,t,n),c=dh("dataFormat",e,t,n).toUpperCase();return[br.n(dh("x",e,t,n),l,c)];case"BroadcastTo":return[pr.U(dh("x",e,t,n),dh("shape",e,t,n))];case"BroadcastArgs":return[jp.X(dh("s0",e,t,n),dh("s1",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"hash_table":return Op(e,t,n,r);case"custom":var i=lh(e.op);if(i&&i.customExecutor)return i.customExecutor(new Jh(e,t,n));throw TypeError("Custom op ".concat(e.op," is not registered."));default:throw TypeError("Unknown op '".concat(e.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}}(e,t,n);return M.D5U.isPromise(i)?i.then((function(e){return[].concat(e)})):[].concat(i)}var Up=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,Ci.Z)(this,e),this.weightMap=t,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=i,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return(0,ki.Z)(e,[{key:"newFrame",value:function(e,t){return{id:e,frameName:t,iterationId:0}}},{key:"currentContext",get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}},{key:"currentContextId",get:function(){return this._currentContextIds[0]}},{key:"currentContextIds",get:function(){return this._currentContextIds}},{key:"generateCurrentContextIds",value:function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}},{key:"contextIdforContexts",value:function(e){return e?e.map((function(e){return 0===e.id&&0===e.iterationId?"":"".concat(e.frameName,"-").concat(e.iterationId)})).join("/"):""}},{key:"enterFrame",value:function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}},{key:"exitFrame",value:function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}},{key:"nextIteration",value:function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}},{key:"getWeight",value:function(e){return this.weightMap[e]}},{key:"addTensorArray",value:function(e){this.tensorArrayMap[e.id]=e}},{key:"getTensorArray",value:function(e){return this.tensorArrayMap[e]}},{key:"addTensorList",value:function(e){this.tensorListMap[e.id]=e}},{key:"getTensorList",value:function(e){return this.tensorListMap[e]}},{key:"dispose",value:function(e){for(var t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(var n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}]),e}();function Hp(e,t,n,r){var i=new Set,a=[],o=null,s=null,u=new Set,l=Object.keys(e).map((function(e){return mh(e)[0]})),c=[];null!=r&&(c=r.map((function(e){return mh(e.name)[0]})));for(var d=(0,vr.Z)(t);d.length>0;){var f=d.pop();(Yp(f)||Kp(f)||Qp(f))&&null==o&&(s=(o=f).children.map((function(e){return e.name})).filter((function(e){return i.has(e)}))),i.add(f.name),null==n[f.name]&&(-1===l.indexOf(f.name)&&-1===c.indexOf(f.name)&&(0!==f.inputs.length?f.inputs.forEach((function(e){u.has(e.name)||(u.add(e.name),d.push(e))})):a.push(f.name)))}return{inputs:e,outputs:t,usedNodes:i,missingInputs:a,dynamicNode:o,syncInputs:s}}var Gp=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],Xp=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],qp=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function Yp(e){return Gp.indexOf(e.op)>=0}function Kp(e){return Xp.indexOf(e.op)>=0}function Qp(e){return qp.indexOf(e.op)>=0}var Jp=function(){function e(t,n){var r=this;(0,Ci.Z)(this,e),this.graph=t,this.parent=n,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=t.outputs,this._inputs=t.inputs,this._initNodes=t.initNodes,this._signature=t.signature,this._functions=t.functions,null!=t.functions&&Object.keys(t.functions).forEach((function(n){r._functionExecutorMap[n]=new e(t.functions[n],r)}))}return(0,ki.Z)(e,[{key:"weightIds",get:function(){return this.parent?this.parent.weightIds:this._weightIds}},{key:"functionExecutorMap",get:function(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}},{key:"weightMap",get:function(){return this.parent?this.parent.weightMap:this._weightMap},set:function(e){var t,n=Object.keys(e).map((function(t){return e[t].map((function(e){return e.id}))}));this._weightIds=(t=[]).concat.apply(t,(0,vr.Z)(n)),this._weightMap=e}},{key:"resourceManager",set:function(e){this._resourceManager=e}},{key:"inputs",get:function(){return this._inputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"outputs",get:function(){return this._outputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"inputNodes",get:function(){return this._inputs.map((function(e){return e.signatureKey||e.name}))}},{key:"outputNodes",get:function(){return this._outputs.map((function(e){var t=e.signatureKey||e.name;return e.defaultOutput?"".concat(t,":").concat(e.defaultOutput):t}))}},{key:"functions",get:function(){var e=this;return Object.keys(this._functions).reduce((function(t,n){return t[n]=e._functions[n].signature,t}),{})}},{key:"getCompilationKey",value:function(e,t){var n=e.map((function(e){return e.name})).sort(),r=t.map((function(e){return e.name})).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)}},{key:"compile",value:function(e,t){var n=Hp(e,t,this.weightMap,this._initNodes),r=n.missingInputs,i=n.dynamicNode,a=n.syncInputs;if(null!=i)throw new Error("This execution contains the node '".concat(i.name,"', which has ")+"the dynamic op '".concat(i.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(a,"]"));if(r.length>0){var o=t.map((function(e){return e.name})),s=Object.keys(e);throw new Error("Cannot compute the outputs [".concat(o,"] from the provided inputs ")+"[".concat(s,"]. Missing the following inputs: [").concat(r,"]"))}return function(e,t,n){var r=n.usedNodes,i=n.inputs,a=[],o=Object.keys(i).map((function(e){return mh(e)[0]})).map((function(t){return e.nodes[t]})),s=e.initNodes;o.forEach((function(e){r.has(e.name)&&a.push(e)})),e.weights.forEach((function(e){r.has(e.name)&&a.push(e)})),null!=s&&s.forEach((function(e){r.has(e.name)&&a.push(e)}));for(var u=new Set,l=[];a.length>0;){var c=a.pop();u.add(c.name),t[c.name]||l.push(c),c.children.forEach((function(e){!u.has(e.name)&&r.has(e.name)&&e.inputs.every((function(e){return u.has(e.name)}))&&a.push(e)}))}return l}(this.graph,this.weightMap,n)}},{key:"execute",value:function(e,t){var n=this;e=this.mapInputs(e);var r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);var i=r.map((function(e){return n.graph.nodes[mh(e)[0]]})),a=t.map((function(e){return mh(e)[0]})),o=a.map((function(e){return n.graph.nodes[e]}));this.resetIntermediateTensors(),0===o.length&&(o=this._outputs);var s=this.getCompilationKey(i,o),u=this.compiledMap.get(s);null==u&&(u=this.compile(e,o),this.compiledMap.set(s,u));var l={},c={};return(0,M.lub)((function(){var r=new Up(n.weightMap,l,c,n.functionExecutorMap),i=Object.assign({},n.weightMap);Object.keys(e).forEach((function(t){var n=mh(t),r=(0,E.Z)(n,2),a=r[0],o=[];o[r[1]]=e[t],i[a]=o}));for(var o=n.getFrozenTensorIds(i),s={},d=0;d<u.length;d++){var f=u[d];if(!i[f.name]){var h=Wp(f,i,r,n._resourceManager);if(M.D5U.isPromise(h))throw new Error("The execution of the op '".concat(f.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");i[f.name]=h,n.checkTensorForDisposal(f.name,f,i,r,o,a,s)}}return null==n.parent&&r.dispose(o),t.map((function(e){return fh(e,i,r)}))}))}},{key:"getFrozenTensorIds",value:function(e){var t=[].concat.apply([],Object.keys(e).map((function(t){return e[t]})).map((function(e){return e.map((function(e){return e.id}))})));return new Set(t)}},{key:"checkTensorForDisposal",value:function(e,t,n,r,i,a,o){var s=this;"control"!==t.category&&-1===a.indexOf(e)&&(n[e].forEach((function(e){null!=e&&(o[e.id]=(o[e.id]||0)+t.children.length)})),t.inputs.forEach((function(e){if("control"!==e.category){var a=function(e,t,n){return t[ph(e,n.currentContextId)]}(e.name,n,r);null!=a&&a.forEach((function(e){if(e&&!e.kept&&!i.has(e.id)){var n=o[e.id];if(1===n){if(s.keepTensorForDebug){var a=hh(t.name,r),u=(0,E.Z)(a,2),l=u[0],c=u[1];s.intermediateTensors[l]||(s.intermediateTensors[l]=[]),s.intermediateTensors[l][c]=e}else e.dispose();delete o[e.id]}else null!=n&&o[e.id]--}}))}})))}},{key:"executeAsync",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._executeAsync(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"disposeIntermediateTensors",value:function(){var e=this;this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach((function(t){return e.intermediateTensors[t].forEach((function(e){return e.dispose()}))})),this.disposeTensorsMap())}},{key:"disposeTensorsMap",value:function(){var e=this;this.tensorsMap&&Object.keys(this.tensorsMap).forEach((function(t){e.tensorsMap[t].forEach((function(t){!t||t.kept||t.isDisposed||e.keepIds.has(t.id)||t.dispose()}))}))}},{key:"getIntermediateTensors",value:function(){return this.tensorsMap}},{key:"resetIntermediateTensors",value:function(){for(var e in this.intermediateTensors)this.intermediateTensors[e].forEach((function(e){return e.dispose()})),delete this.intermediateTensors[e]}},{key:"_executeAsync",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){var r,i,a,o,s,u,l,c=this,d=arguments;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=d.length>2&&void 0!==d[2]&&d[2],i=d.length>3&&void 0!==d[3]?d[3]:{},a=d.length>4&&void 0!==d[4]?d[4]:{},r||(t=this.mapInputs(t),this.checkInputs(t),this.checkInputShapeAndType(t),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepTensorForDebug=(0,M.OBj)().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(f){console.warn(f.message)}return this.resetIntermediateTensors(),o=new Up(this.weightMap,i,a,this.functionExecutorMap),e.next=9,this.executeWithControlFlow(t,o,n,r);case 9:return this.tensorsMap=e.sent,s=n.map((function(e){return fh(e,c.tensorsMap,o)})),u=s.map((function(e){return e.id})),l=Object.keys(t).map((function(e){return t[e].id})),this.keepIds=new Set([].concat((0,vr.Z)(u),(0,vr.Z)(l),(0,vr.Z)(this.weightIds))),this.keepTensorForDebug||this.disposeTensorsMap(),null==this.parent&&o.dispose(this.keepIds),e.abrupt("return",s);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"executeFunctionAsync",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n,r){var i,a=this;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.reduce((function(e,t,n){return e[a.inputs[n].name]=t,e}),{}),e.abrupt("return",this._executeAsync(i,this.outputNodes,!0,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"executeWithControlFlow",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n,r,i){var a,o,s,u,l,c,d,f,h,p,m,g,v,y,x,b,w,_=this;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object.keys(t),o=a.map((function(e){return _.graph.nodes[mh(e)[0]]})),s=r.map((function(e){return mh(e)[0]})),0===(u=s.map((function(e){return _.graph.nodes[e]}))).length&&(u=this._outputs),l=Hp(t,u,this.weightMap,this._initNodes),c=l.usedNodes,d=l.missingInputs,f=l.dynamicNode,h=l.syncInputs,p=[].concat((0,vr.Z)(o),(0,vr.Z)(this.graph.weights),(0,vr.Z)(this._initNodes||[])).map((function(e){return{node:e,contexts:n.currentContext}})),m=Object.assign({},this.weightMap),Object.keys(t).forEach((function(e){var n=mh(e),r=(0,E.Z)(n,2),i=r[0],a=[];a[r[1]]=t[e],m[i]=a})),g={},v=this.getFrozenTensorIds(m),y={};case 12:if(!(p.length>0)){e.next=18;break}return x=this.processStack(o,p,n,m,y,v,s,g,c),e.next=16,Promise.all(x);case 16:e.next=12;break;case 18:if(null!=f||i||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead."),!((b=u.filter((function(e){return!Yp(e)&&!fh(e.name,m,n)})).map((function(e){return e.name}))).length>0)){e.next=24;break}throw w="",null!=f&&(w="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(h,"]")),new Error("Cannot compute the outputs [".concat(b,"] from the provided ")+"inputs [".concat(a,"]. Consider providing the following inputs: ")+"[".concat(d,"]. ").concat(w));case 24:return e.abrupt("return",m);case 25:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"processStack",value:function(e,t,n,r,i,a,o,s,u){for(var l=this,c=[],d=function(){var e=t.pop();n.currentContext=e.contexts;var d="";if("Enter"===e.node.op&&dh("isConstant",e.node,r,n)){var f=hh(e.node.name,n),h=(0,E.Z)(f,1);d=h[0]}if(null==r[e.node.name]){var p=Wp(e.node,r,n,l._resourceManager);if(!d){var m=hh(e.node.name,n),g=(0,E.Z)(m,1);d=g[0]}var v=n.currentContext;M.D5U.isPromise(p)?c.push(p.then((function(c){return r[d]=c,n.currentContext=v,l.checkTensorForDisposal(d,e.node,r,n,a,o,s),l.processChildNodes(e.node,t,n,r,i,u),c}))):(r[d]=p,l.checkTensorForDisposal(d,e.node,r,n,a,o,s),l.processChildNodes(e.node,t,n,r,i,u))}else l.processChildNodes(e.node,t,n,r,i,u)};t.length>0;)d();return c}},{key:"processChildNodes",value:function(e,t,n,r,i,a){e.children.forEach((function(e){var o=hh(e.name,n),s=(0,E.Z)(o,1)[0];!i[s]&&a.has(e.name)&&("Merge"===e.op?e.inputNames.some((function(e){return!!fh(e,r,n)}))&&(i[s]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((function(e){return!!fh(e,r,n)}))&&(i[s]=!0,t.push({contexts:n.currentContext,node:e})))}))}},{key:"dispose",value:function(){var e=this;Object.keys(this.weightMap).forEach((function(t){return e.weightMap[t].forEach((function(e){return e.dispose()}))}))}},{key:"checkInputShapeAndType",value:function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],i=mh(n),a=(0,E.Z)(i,1)[0],o=t.graph.nodes[a];if(o.attrParams.shape&&o.attrParams.shape.value){var s=o.attrParams.shape.value,u=s.length===r.shape.length&&r.shape.every((function(e,t){return-1===s[t]||s[t]===e}));M.D5U.assert(u,(function(){return"The shape of dict['".concat(o.name,"'] provided in ")+"model.execute(dict) must be [".concat(s,"], but was ")+"[".concat(r.shape,"]")}))}o.attrParams.dtype&&o.attrParams.dtype.value&&M.D5U.assert(r.dtype===o.attrParams.dtype.value,(function(){return"The dtype of dict['".concat(o.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(o.attrParams.dtype.value,", but was ").concat(r.dtype)}))}))}},{key:"mapInputs",value:function(e){var t={};for(var n in e){if(null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n])t[this._signature.inputs[n].name]=e[n];else t[n]=e[n]}return t}},{key:"checkInputs",value:function(e){var t=this,n=Object.keys(e).filter((function(e){var n=mh(e),r=(0,E.Z)(n,1)[0];return null==t.graph.nodes[r]}));if(n.length>0)throw new Error("The dict provided in model.execute(dict) has "+"keys: [".concat(n,"] that are not part of graph"))}},{key:"mapOutputs",value:function(e){var t=this;return e.map((function(e){return null!=t._signature&&null!=t._signature.outputs&&null!=t._signature.outputs[e]?t._signature.outputs[e].name:e}),{})}},{key:"checkOutputs",value:function(e){var t=this;e.forEach((function(e){var n=mh(e),r=(0,E.Z)(n,1)[0];if(!t.graph.nodes[r])throw new Error("The output '".concat(e,"' is not found in the graph"))}))}}]),e}(),$p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Ci.Z)(this,e),this.hashTableNameToHandle=t,this.hashTableMap=n}return(0,ki.Z)(e,[{key:"addHashTable",value:function(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}},{key:"getHashTableHandleByName",value:function(e){return this.hashTableNameToHandle[e]}},{key:"getHashTableById",value:function(e){return this.hashTableMap[e]}},{key:"dispose",value:function(){for(var e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(var t in this.hashTableNameToHandle)this.hashTableNameToHandle[t].dispose(),delete this.hashTableNameToHandle[t]}}]),e}(),em=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Ci.Z)(this,e),this.modelUrl=t,this.loadOptions=n,this.version="n/a",null==n&&(this.loadOptions={}),this.resourceManager=new $p}return(0,ki.Z)(e,[{key:"modelVersion",get:function(){return this.version}},{key:"inputNodes",get:function(){return this.executor.inputNodes}},{key:"outputNodes",get:function(){return this.executor.outputNodes}},{key:"inputs",get:function(){return this.executor.inputs}},{key:"outputs",get:function(){return this.executor.outputs}},{key:"weights",get:function(){return this.executor.weightMap}},{key:"metadata",get:function(){return this.artifacts.userDefinedMetadata}},{key:"modelSignature",get:function(){return this.signature}},{key:"findIOHandler",value:function(){var e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=M.io.browserHTTPRequest(e,this.loadOptions);else{var t=M.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(M.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one (".concat(t.length,") load handlers for ")+"URL '".concat([e],"'"));this.handler=t[0]}}},{key:"load",value:function(){var e=this;if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");var t=this.handler.load();return M.D5U.isPromise(t)?t.then((function(t){return e.loadSync(t)})):this.loadSync(t)}},{key:"loadSync",value:function(e){this.artifacts=e;var t,n=this.artifacts.modelTopology;t=null!=this.artifacts.userDefinedMetadata&&null!=this.artifacts.userDefinedMetadata.signature?this.artifacts.userDefinedMetadata.signature:this.artifacts.signature,this.signature=t,this.version="".concat(n.versions.producer,".").concat(n.versions.minConsumer);var r=M.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new Jp(Fh.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){var i=Fh.Instance.transformGraph(e.modelInitializer);this.initializer=new Jp(i),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}},{key:"save",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){var r;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=9;break}if(0!==(r=M.io.getSaveHandlers(t)).length){e.next=6;break}throw new Error("Cannot find any save handlers for URL '".concat(t,"'"));case 6:if(!(r.length>1)){e.next=8;break}throw new Error("Found more than one (".concat(r.length,") save handlers for ")+"URL '".concat(t,"'"));case 8:t=r[0];case 9:if(null!=t.save){e.next=11;break}throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");case 11:return e.abrupt("return",t.save(this.artifacts));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e,t){return this.execute(e,this.outputNodes)}},{key:"normalizeInputs",value:function(e){if(!(e instanceof M.esB)&&!Array.isArray(e))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,"+"the graph model has ".concat(this.inputNodes.length," placeholders, ")+"while there are ".concat(e.length," input tensors."));return this.inputNodes.reduce((function(t,n,r){return t[n]=e[r],t}),{})}},{key:"normalizeOutputs",value:function(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}},{key:"execute",value:function(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);var n=this.executor.execute(e,t);return n.length>1?n:n[0]}},{key:"executeAsync",value:function(){var e=(0,ys.Z)(bs().mark((function e(t,n){var r;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.normalizeInputs(t),n=this.normalizeOutputs(n),e.next=4,this.executor.executeAsync(t,n);case 4:return r=e.sent,e.abrupt("return",r.length>1?r:r[0]);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getIntermediateTensors",value:function(){return this.executor.getIntermediateTensors()}},{key:"disposeIntermediateTensors",value:function(){this.executor.disposeIntermediateTensors()}},{key:"convertTensorMapToTensorsMap",value:function(e){return Object.keys(e).reduce((function(t,n){return t[n]=[e[n]],t}),{})}},{key:"dispose",value:function(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}]),e}();function tm(e){return nm.apply(this,arguments)}function nm(){return nm=(0,ys.Z)(bs().mark((function e(t){var n,r,i=arguments;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:{},null!=t){e.next=3;break}throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");case 3:return null==n&&(n={}),n.fromTFHub&&"string"===typeof t&&(t=im(t)),r=new em(t,n),e.next=8,r.load();case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),nm.apply(this,arguments)}function rm(e){if(null==e)throw new Error("modelUrl in loadGraphModelSync() cannot be null. Please provide a url or an IOHandler that loads the model");if(!e.load)throw new Error("modelUrl IO Handler ".concat(e," has no load function"));var t=new em(e);return t.load(),t}function im(e){return e.endsWith("/")||(e+="/"),"".concat(e).concat("model.json").concat("?tfjs-format=file")}var am="3.18.0",om=n(96699);function sm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(null==e)return null;if("function"===typeof Blob&&e instanceof Blob)return e.slice();if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);var i=t(e);if(i.recurse&&null!==i.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(i.recurse){if(hm(e)){var a=Array.isArray(e)?[]:{};for(var o in r.add(e),e){var s=e[o],u=sm(s,t,n,r);a[o]=u}return r.delete(e),e.__proto__&&(a.__proto__=e.__proto__),a}throw new Error("Can't recurse into non-iterable type: ".concat(e))}return n.set(e,i.value),i.value}function um(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cm;return lm(e,t)}function lm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,r=e[0];if(n.has(r))throw new Error("Circular references are not supported.");var i=t(e);if(i.recurse&&null!==i.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(i.recurse){if(hm(r)){var a=Array.isArray(r)?[]:{};n.add(r);var o=function(r){var i=lm(e.map((function(e){return e[r]})),t,n);a[r]=i};for(var s in r)o(s);return n.delete(r),a}throw new Error("Can't recurse into non-iterable type: ".concat(r))}return i.value}function cm(e){return null===e?null:hm(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function dm(e,t){return fm.apply(this,arguments)}function fm(){return fm=(0,ys.Z)(bs().mark((function e(t,n){var r,i,a,o,s,u,l;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Map,sm(t,n,r),i=0,a=Array.from(r.keys());case 3:if(!(i<a.length)){e.next=14;break}if(o=a[i],s=r.get(o),!M.D5U.isPromise(s)){e.next=11;break}return e.next=9,s;case 9:u=e.sent,r.set(o,u);case 11:i++,e.next=3;break;case 14:return l=sm(t,n,r),e.abrupt("return",l);case 16:case"end":return e.stop()}}),e)}))),fm.apply(this,arguments)}function hm(e){var t=!1;M.OBj().get("IS_BROWSER")?t=e instanceof TextDecoder:t=e instanceof n(34977).StringDecoder;return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"===typeof e&&!(e instanceof M.esB)&&!(e instanceof Promise)&&!t)}function pm(e){return function(e,t){return sm(e,t)}(e,mm)}function mm(e){return e instanceof M.esB?{value:e.clone(),recurse:!1}:hm(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}var gm=function(){function e(t){if((0,Ci.Z)(this,e),this.capacity=t,this.begin=0,this.end=0,null==t)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(t<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(t),this.doubledCapacity=2*t}return(0,ki.Z)(e,[{key:"wrap",value:function(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}},{key:"get",value:function(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}},{key:"set",value:function(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}},{key:"length",value:function(){var e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}},{key:"isFull",value:function(){return this.length()===this.capacity}},{key:"isEmpty",value:function(){return 0===this.length()}},{key:"push",value:function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}},{key:"pushAll",value:function(e){var t,n=(0,Si.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.push(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"pop",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);var e=this.get(this.end);return this.set(this.end,void 0),e}},{key:"unshift",value:function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}},{key:"shift",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}},{key:"shuffleExcise",value:function(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}]),e}(),vm=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.call(this,n.INITIAL_CAPACITY)}return(0,ki.Z)(n,[{key:"isFull",value:function(){return!1}},{key:"push",value:function(e){Rs((0,Ai.Z)(n.prototype),"isFull",this).call(this)&&this.expand(),Rs((0,Ai.Z)(n.prototype),"push",this).call(this,e)}},{key:"unshift",value:function(e){Rs((0,Ai.Z)(n.prototype),"isFull",this).call(this)&&this.expand(),Rs((0,Ai.Z)(n.prototype),"unshift",this).call(this,e)}},{key:"expand",value:function(){for(var e=2*this.capacity,t=new Array(e),n=this.length(),r=0;r<n;r++)t[r]=this.get(this.wrap(this.begin+r));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}]),n}(gm);function ym(e){return new Cm(e)}function xm(e){return new km(e)}function bm(e,t){return new Lm(e,t)}function wm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_m.FAIL;return new Fm(e,t)}vm.INITIAL_CAPACITY=32;var _m,Sm=function(){function e(){(0,Ci.Z)(this,e)}return(0,ki.Z)(e,[{key:"toArray",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t,n;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.next();case 3:n=e.sent;case 4:if(n.done){e.next=11;break}return t.push(n.value),e.next=8,this.next();case 8:n=e.sent,e.next=4;break;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t,n,r;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.prefetch(100),n=[],e.next=4,t.next();case 4:r=e.sent;case 5:if(r.done){e.next=12;break}return n.push(r.value),e.next=9,t.next();case 9:r=e.sent,e.next=5;break;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resolveFully",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:t=e.sent;case 3:if(t.done){e.next=9;break}return e.next=6,this.next();case 6:t=e.sent,e.next=3;break;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resolveWhile",value:function(){var e=(0,ys.Z)(bs().mark((function e(t){var n,r;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:n=e.sent,r=t(n.value);case 4:if(n.done||!r){e.next=11;break}return e.next=7,this.next();case 7:n=e.sent,r=t(n.value),e.next=4;break;case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleErrors",value:function(e){return new Nm(this,e)}},{key:"filter",value:function(e){return new Mm(this,e)}},{key:"map",value:function(e){return new Em(this,e)}},{key:"mapAsync",value:function(e){return new Rm(this,e)}},{key:"serialMapAsync",value:function(e){return new Rm(this,e).serial()}},{key:"flatmap",value:function(e){return new Om(this,e)}},{key:"forEachAsync",value:function(){var e=(0,ys.Z)(bs().mark((function e(t){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.map(t).resolveFully());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"serialForEach",value:function(){var e=(0,ys.Z)(bs().mark((function e(t){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.serialMapAsync(t).resolveWhile((function(e){return!0===e})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"rowMajorBatch",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Am(this,e,t)}},{key:"columnMajorBatch",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cm,r=this.rowMajorBatch(e,t);return r.map((function(e){return um(e,n)}))}},{key:"concatenate",value:function(e,t){return new Lm(ym([this,e]),t)}},{key:"take",value:function(e){return e<0||null==e?this:new Im(this,e)}},{key:"skip",value:function(e){return e<0||null==e?this:new Tm(this,e)}},{key:"prefetch",value:function(e){return new Zm(this,e)}},{key:"shuffle",value:function(e,t){return new Bm(this,e,t)}},{key:"serial",value:function(){return new Dm(this)}}]),e}(),Cm=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this)).items=e,r.trav=0,r}return(0,ki.Z)(n,[{key:"summary",value:function(){return"Array of ".concat(this.items.length," items")}},{key:"next",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.trav>=this.items.length)){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return t=this.items[this.trav],this.trav++,e.abrupt("return",{value:pm(t),done:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Sm),km=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this)).nextFn=e,r}return(0,ki.Z)(n,[{key:"summary",value:function(){return"Function call"}},{key:"next",value:function(){var e=(0,ys.Z)(bs().mark((function e(){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",this.nextFn());case 4:throw e.prev=4,e.t0=e.catch(0),e.t0.message="Error thrown while iterating through a dataset: ".concat(e.t0.message),e.t0;case 8:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(){return e.apply(this,arguments)}}()}]),n}(Sm),Dm=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this)).upstream=e,r.lastRead=Promise.resolve({value:null,done:!1}),r}return(0,ki.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Serial")}},{key:"next",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t=this;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,ys.Z)(bs().mark((function e(){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.upstream.next());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Sm),Tm=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e,r){var i;return(0,Ci.Z)(this,n),(i=t.call(this)).upstream=e,i.maxCount=r,i.count=0,i.lastRead=Promise.resolve({value:null,done:!1}),i}return(0,ki.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Skip")}},{key:"next",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t=this;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.count++<this.maxCount)){e.next=9;break}return e.next=3,this.upstream.next();case 3:if(!(t=e.sent).done){e.next=6;break}return e.abrupt("return",t);case 6:M.B90(t.value),e.next=0;break;case 9:return e.abrupt("return",this.upstream.next());case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Sm),Im=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e,r){var i;return(0,Ci.Z)(this,n),(i=t.call(this)).upstream=e,i.maxCount=r,i.count=0,i}return(0,ki.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Take")}},{key:"next",value:function(){var e=(0,ys.Z)(bs().mark((function e(){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.count++>=this.maxCount)){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return e.abrupt("return",this.upstream.next());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Sm),Am=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e,r){var i,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(0,Ci.Z)(this,n),(i=t.call(this)).upstream=e,i.batchSize=r,i.enableSmallLastBatch=a,i.lastRead=Promise.resolve({value:null,done:!1}),i}return(0,ki.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> RowMajorBatch")}},{key:"next",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t=this;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t,n;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[];case 1:if(!(t.length<this.batchSize)){e.next=12;break}return e.next=4,this.upstream.next();case 4:if(!(n=e.sent).done){e.next=9;break}if(!(this.enableSmallLastBatch&&t.length>0)){e.next=8;break}return e.abrupt("return",{value:t,done:!1});case 8:return e.abrupt("return",{value:null,done:!0});case 9:t.push(n.value),e.next=1;break;case 12:return e.abrupt("return",{value:t,done:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Sm),Mm=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e,r){var i;return(0,Ci.Z)(this,n),(i=t.call(this)).upstream=e,i.predicate=r,i.lastRead=Promise.resolve({value:null,done:!1}),i}return(0,ki.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Filter")}},{key:"next",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t=this;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.upstream.next();case 3:if(!(t=e.sent).done&&!this.predicate(t.value)){e.next=6;break}return e.abrupt("return",t);case 6:M.B90(t.value),e.next=0;break;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Sm),Em=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e,r){var i;return(0,Ci.Z)(this,n),(i=t.call(this)).upstream=e,i.transform=r,i}return(0,ki.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Map")}},{key:"next",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t,n,r,i,a,o,s;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:n=M.piX.getTensorsInContainer(t.value),r=this.transform(t.value),i=M.piX.getTensorsInContainer(r),a=(0,Si.Z)(n);try{for(a.s();!(o=a.n()).done;)s=o.value,M.piX.isTensorInList(s,i)||s.dispose()}catch(u){a.e(u)}finally{a.f()}return e.abrupt("return",{value:r,done:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Sm),Nm=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e,r){var i;return(0,Ci.Z)(this,n),(i=t.call(this)).upstream=e,i.handler=r,i.count=0,i.lastRead=Promise.resolve({value:null,done:!1}),i}return(0,ki.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> handleErrors")}},{key:"next",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t=this;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,ys.Z)(bs().mark((function e(){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,this.upstream.next();case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),this.handler(e.t0)){e.next=11;break}return e.abrupt("return",{value:null,done:!0});case 11:e.next=0;break;case 13:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()}]),n}(Sm),Rm=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e,r){var i;return(0,Ci.Z)(this,n),(i=t.call(this)).upstream=e,i.transform=r,i}return(0,ki.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> AsyncMap")}},{key:"next",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t,n,r,i,a,o,s;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:return n=M.piX.getTensorsInContainer(t.value),e.next=8,this.transform(t.value);case 8:r=e.sent,i=M.piX.getTensorsInContainer(r),a=(0,Si.Z)(n);try{for(a.s();!(o=a.n()).done;)s=o.value,M.piX.isTensorInList(s,i)||s.dispose()}catch(u){a.e(u)}finally{a.f()}return e.abrupt("return",{value:r,done:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Sm),Pm=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){var e;return(0,Ci.Z)(this,n),(e=t.call(this)).outputQueue=new vm,e.lastRead=Promise.resolve({value:null,done:!1}),e}return(0,ki.Z)(n,[{key:"next",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t=this;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,ys.Z)(bs().mark((function e(){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.outputQueue.length()){e.next=7;break}return e.next=3,this.pump();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:e.next=0;break;case 7:return e.abrupt("return",{value:this.outputQueue.shift(),done:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Sm),Om=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e,r){var i;return(0,Ci.Z)(this,n),(i=t.call(this)).upstream=e,i.transform=r,i}return(0,ki.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Flatmap")}},{key:"pump",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t,n,r,i,a,o,s;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",!1);case 5:n=M.piX.getTensorsInContainer(t.value),r=this.transform(t.value),i=M.piX.getTensorsInContainer(r),this.outputQueue.pushAll(r),a=(0,Si.Z)(n);try{for(a.s();!(o=a.n()).done;)s=o.value,M.piX.isTensorInList(s,i)||s.dispose()}catch(u){a.e(u)}finally{a.f()}return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Pm),Lm=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e,r){var i;return(0,Ci.Z)(this,n),(i=t.call(this)).baseErrorHandler=r,i.lastRead=null,i.iterator=null,i.moreIterators=e,i}return(0,ki.Z)(n,[{key:"summary",value:function(){return"".concat("TODO: fill in upstream of chained summaries"," -> Chained")}},{key:"next",value:function(){var e=(0,ys.Z)(bs().mark((function e(){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.readFromChain(this.lastRead),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readFromChain",value:function(){var e=(0,ys.Z)(bs().mark((function e(t){var n,r;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(null!=this.iterator){e.next=10;break}return e.next=5,this.moreIterators.next();case 5:if(!(n=e.sent).done){e.next=8;break}return e.abrupt("return",{value:null,done:!0});case 8:this.iterator=n.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler));case 10:return e.next=12,this.iterator.next();case 12:if(!(r=e.sent).done){e.next=16;break}return this.iterator=null,e.abrupt("return",this.readFromChain(t));case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Sm);!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(_m||(_m={}));var Fm=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_m.FAIL;return(0,Ci.Z)(this,n),(r=t.call(this)).iterators=e,r.mismatchMode=i,r.count=0,r.currentPromise=null,r}return(0,ki.Z)(n,[{key:"summary",value:function(){return"{".concat("TODO: fill in upstream of zip summaries","} -> Zip")}},{key:"nextState",value:function(){var e=(0,ys.Z)(bs().mark((function e(t){var n,r,i,a;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(e){return e instanceof Sm?{value:e.next().then((function(e){return n++,e.done&&r++,e.value})),recurse:!1}:{value:null,recurse:!0}},e.next=3,t;case 3:return n=0,r=0,e.next=7,dm(this.iterators,i);case 7:if(a=e.sent,n!==r){e.next=10;break}return e.abrupt("return",{value:null,done:!0});case 10:if(!(r>0)){e.next=16;break}e.t0=this.mismatchMode,e.next=e.t0===_m.FAIL?14:e.t0===_m.SHORTEST?15:(e.t0,_m.LONGEST,16);break;case 14:throw new Error("Zipped streams should have the same length. "+"Mismatched at element ".concat(this.count,"."));case 15:return e.abrupt("return",{value:null,done:!0});case 16:return this.count++,e.abrupt("return",{value:a,done:!1});case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=(0,ys.Z)(bs().mark((function e(){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.currentPromise=this.nextState(this.currentPromise),e.abrupt("return",this.currentPromise);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Sm),Zm=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e,r){var i;return(0,Ci.Z)(this,n),(i=t.call(this)).upstream=e,i.bufferSize=r,i.buffer=new gm(r),i}return(0,ki.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Prefetch")}},{key:"refill",value:function(){for(;!this.buffer.isFull();){var e=this.upstream.next();this.buffer.push(e)}}},{key:"next",value:function(){return this.refill(),this.buffer.shift()}}]),n}(Sm),Bm=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e,r,i){var a;return(0,Ci.Z)(this,n),(a=t.call(this,e,r)).upstream=e,a.windowSize=r,a.upstreamExhausted=!1,a.random=om.alea(i||M.D5U.now().toString()),a.lastRead=Promise.resolve({value:null,done:!1}),a}return(0,ki.Z)(n,[{key:"next",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t=this;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"randomInt",value:function(e){return Math.floor(this.random()*e)}},{key:"chooseIndex",value:function(){return this.randomInt(this.buffer.length())}},{key:"serialNext",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t,n;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.upstreamExhausted||this.refill();case 1:if(this.buffer.isEmpty()){e.next=14;break}return t=this.chooseIndex(),e.next=5,this.buffer.shuffleExcise(t);case 5:if(!(n=e.sent).done){e.next=10;break}this.upstreamExhausted=!0,e.next=12;break;case 10:return this.refill(),e.abrupt("return",n);case 12:e.next=1;break;case 14:return e.abrupt("return",{value:null,done:!0});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Zm),zm=function(){function e(){(0,Ci.Z)(this,e),this.size=null}return(0,ki.Z)(e,[{key:"batch",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this;return M.D5U.assert(e>0,(function(){return"batchSize needs to be positive, but it is\n      ".concat(e)})),t=this.size===1/0||null==this.size?this.size:n?Math.ceil(this.size/e):Math.floor(this.size/e),Vm((0,ys.Z)(bs().mark((function t(){return bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.iterator();case 2:return t.abrupt("return",t.sent.columnMajorBatch(e,n,Um));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"concatenate",value:function(e){var t,n=this;return t=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,Vm((0,ys.Z)(bs().mark((function t(){return bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.t0=t.sent,t.next=5,e.iterator();case 5:return t.t1=t.sent,t.abrupt("return",t.t0.concatenate.call(t.t0,t.t1));case 7:case"end":return t.stop()}}),t)}))),t)}},{key:"filter",value:function(e){var t,n=this;return t=this.size===1/0?1/0:null,Vm((0,ys.Z)(bs().mark((function t(){return bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.abrupt("return",t.sent.filter((function(t){return M.lub((function(){return e(t)}))})));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"forEachAsync",value:function(){var e=(0,ys.Z)(bs().mark((function e(t){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.iterator();case 2:return e.abrupt("return",e.sent.forEachAsync(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"map",value:function(e){var t=this;return Vm((0,ys.Z)(bs().mark((function n(){return bs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.abrupt("return",n.sent.map((function(t){return M.lub((function(){return e(t)}))})));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"mapAsync",value:function(e){var t=this;return Vm((0,ys.Z)(bs().mark((function n(){return bs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.abrupt("return",n.sent.mapAsync(e));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"prefetch",value:function(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");var t=this;return Vm((0,ys.Z)(bs().mark((function n(){return bs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.abrupt("return",n.sent.prefetch(e));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"repeat",value:function(e){var t,n=this;return t=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,Vm((0,ys.Z)(bs().mark((function t(){var r;return bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=xm((0,ys.Z)(bs().mark((function e(){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.iterator();case 2:return e.t0=e.sent,e.abrupt("return",{value:e.t0,done:!1});case 4:case"end":return e.stop()}}),e)})))),t.abrupt("return",bm(r.take(e)));case 2:case"end":return t.stop()}}),t)}))),t)}},{key:"skip",value:function(e){var t,n=this;return t=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,Vm((0,ys.Z)(bs().mark((function t(){return bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.abrupt("return",t.sent.skip(e));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"shuffle",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError("`Dataset.shuffle()` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for `tf.Tensor`s), consider setting "+"bufferSize to the dataset size (".concat(this.size," elements)"));var r=this,i=om.alea(t||M.D5U.now().toString());return Vm((0,ys.Z)(bs().mark((function t(){var a;return bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i.int32(),n&&(a+=i.int32()),t.next=4,r.iterator();case 4:return t.abrupt("return",t.sent.shuffle(e,a.toString()));case 5:case"end":return t.stop()}}),t)}))),this.size)}},{key:"take",value:function(e){var t,n=this;return t=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,Vm((0,ys.Z)(bs().mark((function t(){return bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.abrupt("return",t.sent.take(e));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"toArray",value:function(){var e=(0,ys.Z)(bs().mark((function e(){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.size!==1/0){e.next=2;break}throw new Error("Can not convert infinite data stream to array.");case 2:return e.next=4,this.iterator();case 4:return e.abrupt("return",e.sent.toArray());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var e=(0,ys.Z)(bs().mark((function e(){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.size!==1/0){e.next=2;break}throw new Error("Can not convert infinite data stream to array.");case 2:return e.next=4,this.iterator();case 4:return e.abrupt("return",e.sent.toArrayForTest());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Vm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new(function(n){(0,Ti.Z)(i,n);var r=(0,Ii.Z)(i);function i(){var e;return(0,Ci.Z)(this,i),(e=r.apply(this,arguments)).size=t,e}return(0,ki.Z)(i,[{key:"iterator",value:function(){var t=(0,ys.Z)(bs().mark((function t(){return bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),i}(zm))}function jm(e){return Vm((0,ys.Z)(bs().mark((function t(){return bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ym(e));case 1:case"end":return t.stop()}}),t)}))),e.length)}function Wm(e){if(!hm(e))throw new Error("The argument to zip() must be an object or array.");var t;if(Array.isArray(e))for(var n=0;n<e.length;n++)t=null==t?e[n].size:Math.min(t,e[n].size);else if(e instanceof Object)for(var r in e)t=null==t?e[r].size:Math.min(t,e[r].size);return Vm((0,ys.Z)(bs().mark((function t(){var n;return bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dm(e,(function(e){if(e instanceof zm)return{value:e.iterator(),recurse:!1};if(hm(e))return{value:null,recurse:!0};throw new Error("Leaves of the structure passed to zip() must be Datasets, not primitives.")}));case 2:return n=t.sent,t.abrupt("return",wm(n,_m.SHORTEST));case 4:case"end":return t.stop()}}),t)}))),t)}function Um(e){return null===e?null:function(e){return null==e||null===(t=e)||"object"!==typeof t&&"function"!==typeof t||Array.isArray(e)||"object"===typeof e&&e instanceof M.esB||M.D5U.isTypedArray(e);var t}(e[0])?{value:function(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof M.esB?M.knu(e):M.XeE(e)}(e),recurse:!1}:{value:null,recurse:!0}}zm.MAX_BUFFER_SIZE=1e4;var Hm=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this)).input=e,r}return(0,ki.Z)(n,[{key:"iterator",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t,n,r;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.input.iterator();case 2:return t=e.sent,n=t.decodeUTF8(),r=n.split("\n").map((function(e){return e.endsWith("\r")&&(e=e.slice(0,-1)),e})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(zm),Gm='"',Xm=Symbol("out"),qm=Symbol("field"),Ym=Symbol("quote"),Km=Symbol("quoteafterquote"),Qm=Symbol("quoteinquote"),Jm=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e,r){var i;return(0,Ci.Z)(this,n),(i=t.call(this)).input=e,i.hasHeader=!0,i.fullColumnNames=null,i.columnNamesValidated=!1,i.columnConfigs=null,i.configuredColumnsOnly=!1,i.delimiter=",",i.delimWhitespace=!1,i.base=new Hm(e),r||(r={}),i.hasHeader=!1!==r.hasHeader,i.fullColumnNames=r.columnNames,i.columnConfigs=r.columnConfigs,i.configuredColumnsOnly=r.configuredColumnsOnly,r.delimWhitespace?(M.D5U.assert(null==r.delimiter,(function(){return"Delimiter should not be provided when delimWhitespace is true."})),i.delimWhitespace=!0,i.delimiter=" "):i.delimiter=r.delimiter?r.delimiter:",",i}return(0,ki.Z)(n,[{key:"columnNames",value:function(){var e=(0,ys.Z)(bs().mark((function e(){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.columnNamesValidated){e.next=3;break}return e.next=3,this.setColumnNames();case 3:return e.abrupt("return",this.configuredColumnsOnly?Object.keys(this.columnConfigs):this.fullColumnNames);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setColumnNames",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t,n,r,i,a,o,s=this;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.maybeReadHeaderLine();case 2:if(t=e.sent,this.fullColumnNames||t){e.next=7;break}throw new Error("Column names must be provided if there is no header line.");case 7:this.fullColumnNames&&t&&M.D5U.assert(t.length===this.fullColumnNames.length,(function(){return"The length of provided columnNames ("+s.fullColumnNames.length.toString()+") does not match the length of the header line read from file ("+t.length.toString()+")."}));case 8:if(this.fullColumnNames||(this.fullColumnNames=t),n=this.fullColumnNames.reduce((function(e,t){return e[t]=e[t]+1||1,e}),{}),r=Object.keys(n).filter((function(e){return n[e]>1})),M.D5U.assert(0===r.length,(function(){return"Duplicate column names found: "+r.toString()})),!this.columnConfigs){e.next=22;break}i=0,a=Object.keys(this.columnConfigs);case 14:if(!(i<a.length)){e.next=22;break}if(o=a[i],-1!==this.fullColumnNames.indexOf(o)){e.next=19;break}throw new Error('The key "'+o+'" provided in columnConfigs does not match any of the column names ('+this.fullColumnNames.toString()+").");case 19:i++,e.next=14;break;case 22:this.columnNamesValidated=!0;case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"maybeReadHeaderLine",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t,n,r,i;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasHeader){e.next=14;break}return e.next=3,this.base.iterator();case 3:return t=e.sent,e.next=6,t.next();case 6:if(!(n=e.sent).done){e.next=9;break}throw new Error("No data was found for CSV parsing.");case 9:return r=n.value,i=this.parseRow(r,!1),e.abrupt("return",i);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"iterator",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t,n=this;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.columnNamesValidated){e.next=3;break}return e.next=3,this.setColumnNames();case 3:return e.next=5,this.base.iterator();case 5:return t=e.sent,this.hasHeader&&(t=t.skip(1)),e.abrupt("return",t.map((function(e){return n.makeDataElement(e)})));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"makeDataElement",value:function(e){for(var t=this.parseRow(e),n={},r={},i=0;i<this.fullColumnNames.length;i++){var a=this.fullColumnNames[i],o=this.columnConfigs?this.columnConfigs[a]:null;if(!this.configuredColumnsOnly||o){var s=t[i],u=null;if(""===s)if(o&&void 0!==o.default)u=o.default;else{if(o&&(o.required||o.isLabel))throw new Error("Required column ".concat(a," is empty in this line: ").concat(e));u=void 0}else{var l=Number(s);if(isNaN(l))u=o&&"bool"===o.dtype?this.getBoolean(s):s;else if(o&&o.dtype)switch(o.dtype){case"float32":default:u=l;break;case"int32":u=Math.floor(l);break;case"bool":u=this.getBoolean(s)}else u=l}o&&o.isLabel?r[a]=u:n[a]=u}}return 0===Object.keys(r).length?n:{xs:n,ys:r}}},{key:"getBoolean",value:function(e){return"1"===e||"true"===e.toLowerCase()?1:0}},{key:"parseRow",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],r=0,i=e.length,a=Xm,o=0;o<i;o++)switch(a){case Xm:switch(e.charAt(o)){case Gm:r=o+1,a=Ym;break;case this.delimiter:if(r=o+1," "===this.delimiter&&this.delimWhitespace)break;n.push(""),a=Xm;break;default:a=qm,r=o}break;case qm:if(e.charAt(o)===this.delimiter)n.push(e.substring(r,o)),a=Xm,r=o+1;break;case Ym:if(e.charAt(o)===Gm)a=Km;break;case Km:switch(e.charAt(o)){case this.delimiter:n.push(e.substring(r,o-1)),a=Xm,r=o+1;break;case Gm:a=Ym;break;default:a=Qm}break;case Qm:if(e.charAt(o)===Gm)a=Ym}if(a===Km?n.push(e.substring(r,i-1)):n.push(e.substring(r)),t&&n.length!==this.fullColumnNames.length)throw new Error("Invalid row in csv file. Should have ".concat(this.fullColumnNames.length," elements in a row, but got ").concat(n));return n}}]),n}(zm),$m=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;(0,Ci.Z)(this,n),(r=t.call(this)).microphoneConfig=e,r.isClosed=!1,r.fftSize=e.fftSize||1024;var i=Math.log2(r.fftSize);if(r.fftSize<0||i<4||i>14||!Number.isInteger(i))throw new Error("Invalid fftSize: it must be a power of 2 between "+"2 to 4 and 2 to 14, but got ".concat(r.fftSize));if(r.numFrames=e.numFramesPerSpectrogram||43,r.sampleRateHz=e.sampleRateHz,r.columnTruncateLength=e.columnTruncateLength||r.fftSize,r.audioTrackConstraints=e.audioTrackConstraints,r.smoothingTimeConstant=e.smoothingTimeConstant||0,r.includeSpectrogram=!1!==e.includeSpectrogram,r.includeWaveform=!0===e.includeWaveform,!r.includeSpectrogram&&!r.includeWaveform)throw new Error("Both includeSpectrogram and includeWaveform are false. At least one type of data should be returned.");return r}return(0,ki.Z)(n,[{key:"summary",value:function(){return"microphone"}},{key:"start",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t,n;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({audio:null==this.audioTrackConstraints||this.audioTrackConstraints,video:!1});case 3:this.stream=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error thrown while initializing video stream: ".concat(e.t0.message));case 9:if(this.stream){e.next=11;break}throw new Error("Could not obtain audio from microphone.");case 11:if(t=window.AudioContext||window.webkitAudioContext,this.audioContext=new t,this.sampleRateHz){e.next=17;break}this.sampleRateHz=this.audioContext.sampleRate,e.next=19;break;case 17:if(this.audioContext.sampleRate===this.sampleRateHz){e.next=19;break}throw new Error("Mismatch in sampling rate: "+"Expected: ".concat(this.sampleRateHz,"; ")+"Actual: ".concat(this.audioContext.sampleRate));case 19:return n=this.audioContext.createMediaStreamSource(this.stream),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2*this.fftSize,this.analyser.smoothingTimeConstant=this.smoothingTimeConstant,n.connect(this.analyser),this.freqData=new Float32Array(this.fftSize),this.timeData=new Float32Array(this.fftSize),e.abrupt("return");case 27:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t,n,r,i,a;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isClosed){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return e.next=4,this.getAudioData();case 4:return r=e.sent,this.includeSpectrogram&&(i=this.flattenQueue(r.freqDataQueue),t=this.getTensorFromAudioDataArray(i,[this.numFrames,this.columnTruncateLength,1])),this.includeWaveform&&(a=this.flattenQueue(r.timeDataQueue),n=this.getTensorFromAudioDataArray(a,[this.numFrames*this.fftSize,1])),e.abrupt("return",{value:{spectrogram:t,waveform:n},done:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"capture",value:function(){var e=(0,ys.Z)(bs().mark((function e(){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAudioData",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t,n,r,i=this;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=[],r=0,e.abrupt("return",new Promise((function(e){var a=setInterval((function(){i.includeSpectrogram&&(i.analyser.getFloatFrequencyData(i.freqData),i.freqData[0]===-1/0&&e({freqDataQueue:t,timeDataQueue:n}),t.push(i.freqData.slice(0,i.columnTruncateLength))),i.includeWaveform&&(i.analyser.getFloatTimeDomainData(i.timeData),n.push(i.timeData.slice())),++r===i.numFrames&&(clearInterval(a),e({freqDataQueue:t,timeDataQueue:n}))}),i.fftSize/i.sampleRateHz*1e3)})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){this.isClosed||(this.isClosed=!0,this.analyser.disconnect(),this.audioContext.close(),null!=this.stream&&this.stream.getTracks().length>0&&this.stream.getTracks()[0].stop())}},{key:"toArray",value:function(){throw new Error("Can not convert infinite audio stream to array.")}},{key:"getSampleRate",value:function(){return this.sampleRateHz}},{key:"flattenQueue",value:function(e){var t=e[0].length,n=new Float32Array(e.length*t);return e.forEach((function(e,r){return n.set(e,r*t)})),n}},{key:"getTensorFromAudioDataArray",value:function(e,t){var n=new Float32Array(M.D5U.sizeFromShape(t));return n.set(e,n.length-e.length),(0,M.XeE)(n,t)}}],[{key:"create",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t,r,i=arguments;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},(0,M.OBj)().get("IS_BROWSER")){e.next=3;break}throw new Error("microphone API is only supported in browser environment.");case 3:return r=new n(t),e.next=6,r.start();case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(Sm),eg=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e,r){var i;if((0,Ci.Z)(this,n),(i=t.call(this)).webcamVideoElement=e,i.webcamConfig=r,i.isClosed=!0,i.resize=!1,i.needToResize())if(i.resize=!0,i.cropSize=[i.webcamConfig.resizeHeight,i.webcamConfig.resizeWidth],i.cropBoxInd=(0,M.RRF)([0],"int32"),i.webcamConfig.centerCrop){var a=1*i.webcamConfig.resizeWidth/i.webcamVideoElement.width,o=1*i.webcamConfig.resizeHeight/i.webcamVideoElement.height,s=(1-a)/2,u=(1-o)/2,l=s+a,c=o+u;i.cropBox=(0,M.odF)([u,s,c,l],[1,4])}else i.cropBox=(0,M.odF)([0,0,1,1],[1,4]);return i}return(0,ki.Z)(n,[{key:"summary",value:function(){return"webcam"}},{key:"start",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t=this;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.webcamConfig.facingMode&&M.D5U.assert("user"===this.webcamConfig.facingMode||"environment"===this.webcamConfig.facingMode,(function(){return"Invalid webcam facing mode: ".concat(t.webcamConfig.facingMode,". ")+"Please provide 'user' or 'environment'"})),e.prev=1,e.next=4,navigator.mediaDevices.getUserMedia({video:{deviceId:this.webcamConfig.deviceId,facingMode:this.webcamConfig.facingMode?this.webcamConfig.facingMode:"user",width:this.webcamVideoElement.width,height:this.webcamVideoElement.height}});case 4:this.stream=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0.message="Error thrown while initializing video stream: ".concat(e.t0.message),e.t0;case 11:if(this.stream){e.next=13;break}throw new Error("Could not obtain video from webcam.");case 13:try{this.webcamVideoElement.srcObject=this.stream}catch(n){console.log(n),this.webcamVideoElement.src=window.URL.createObjectURL(this.stream)}return this.webcamVideoElement.play(),this.isClosed=!1,e.abrupt("return",new Promise((function(e){t.webcamVideoElement.onloadedmetadata=function(){e()}})));case 17:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isClosed){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:e.prev=2,t=M.Xhn.fromPixels(this.webcamVideoElement),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(2),new Error("Error thrown converting video to pixels: ".concat(JSON.stringify(e.t0)));case 9:if(!this.resize){e.next=22;break}return e.prev=10,e.abrupt("return",{value:this.cropAndResizeFrame(t),done:!1});case 14:throw e.prev=14,e.t1=e.catch(10),new Error("Error thrown cropping the video: ".concat(e.t1.message));case 17:return e.prev=17,t.dispose(),e.finish(17);case 20:e.next=23;break;case 22:return e.abrupt("return",{value:t,done:!1});case 23:case"end":return e.stop()}}),e,this,[[2,6],[10,14,17,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"needToResize",value:function(){return!(!this.webcamConfig.resizeWidth||!this.webcamConfig.resizeHeight||this.webcamVideoElement.width===this.webcamConfig.resizeWidth&&this.webcamVideoElement.height===this.webcamConfig.resizeHeight)}},{key:"cropAndResizeFrame",value:function(e){var t=this;return(0,M.lub)((function(){var n,r=(0,M.dt4)((0,M.pju)(e,"float32"),0),i=(n=M.BHj.cropAndResize(r,t.cropBox,t.cropBoxInd,t.cropSize,"bilinear")).shape;return(0,M.XLQ)(n,i.slice(1))}))}},{key:"capture",value:function(){var e=(0,ys.Z)(bs().mark((function e(){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){this.stream.getTracks().forEach((function(e){return e.stop()}));try{this.webcamVideoElement.srcObject=null}catch(e){console.log(e),this.webcamVideoElement.src=null}this.isClosed=!0}},{key:"toArray",value:function(){throw new Error("Can not convert infinite video stream to array.")}}],[{key:"create",value:function(){var e=(0,ys.Z)(bs().mark((function e(t){var r,i,a=arguments;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:{},(0,M.OBj)().get("IS_BROWSER")){e.next=3;break}throw new Error("tf.data.webcam is only supported in browser environment.");case 3:if(t){e.next=9;break}if(t=document.createElement("video"),r.resizeWidth&&r.resizeHeight){e.next=7;break}throw new Error("Please provide webcam video element, or resizeWidth and resizeHeight to create a hidden video element.");case 7:t.width=r.resizeWidth,t.height=r.resizeHeight;case 9:return i=new n(t,r),e.next=12,i.start();case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Sm),tg=(0,ki.Z)((function e(){(0,Ci.Z)(this,e)})),ng=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"split",value:function(e){return new rg(this,e)}}]),n}(Sm),rg=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e,r){var i;return(0,Ci.Z)(this,n),(i=t.call(this)).upstream=e,i.impl=new ig(e,r),i}return(0,ki.Z)(n,[{key:"summary",value:function(){return this.impl.summary()}},{key:"next",value:function(){var e=(0,ys.Z)(bs().mark((function e(){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.impl.next());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ng),ig=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e,r){var i;return(0,Ci.Z)(this,n),(i=t.call(this)).upstream=e,i.separator=r,i.carryover="",i}return(0,ki.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Split('").concat(this.separator,"')")}},{key:"pump",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t,n,r,i,a;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=9;break}if(""!==this.carryover){e.next=6;break}return e.abrupt("return",!1);case 6:return this.outputQueue.push(this.carryover),this.carryover="",e.abrupt("return",!0);case 9:(n=t.value.split(this.separator))[0]=this.carryover+n[0],r=(0,Si.Z)(n.slice(0,-1));try{for(r.s();!(i=r.n()).done;)a=i.value,this.outputQueue.push(a)}catch(o){r.e(o)}finally{r.f()}return this.carryover=n[n.length-1],e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Pm),ag=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){return(0,Ci.Z)(this,n),t.apply(this,arguments)}return(0,ki.Z)(n,[{key:"decodeUTF8",value:function(){return new og(this)}}]),n}(Sm),og=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r;return(0,Ci.Z)(this,n),(r=t.call(this)).upstream=e,r.impl=new sg(e),r}return(0,ki.Z)(n,[{key:"summary",value:function(){return this.impl.summary()}},{key:"next",value:function(){var e=(0,ys.Z)(bs().mark((function e(){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.impl.next());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ng),sg=function(e){(0,Ti.Z)(r,e);var t=(0,Ii.Z)(r);function r(e){var i;if((0,Ci.Z)(this,r),(i=t.call(this)).upstream=e,(0,M.OBj)().get("IS_BROWSER"))i.decoder=new TextDecoder("utf-8");else{var a=n(31601).StringDecoder;i.decoder=new a("utf8")}return i}return(0,ki.Z)(r,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Utf8")}},{key:"pump",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t,n,r;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=7;break}return e.abrupt("return",!1);case 7:n=t.value;case 8:return r=(0,M.OBj)().get("IS_BROWSER")?this.decoder.decode(n,{stream:!0}):this.decoder.write(Buffer.from(n.buffer)),this.outputQueue.push(r),e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(Pm),ug=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Ci.Z)(this,n),(r=t.call(this)).file=e,r.options=i,M.D5U.assert(e instanceof Uint8Array||!!(0,M.OBj)().get("IS_BROWSER")&&(e instanceof File||e instanceof Blob),(function(){return"FileChunkIterator only supports File, Blob and Uint8Array right now."})),r.offset=i.offset||0,r.chunkSize=i.chunkSize||1048576,r}return(0,ki.Z)(n,[{key:"summary",value:function(){return"FileChunks ".concat(this.file)}},{key:"next",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t,n=this;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.offset>=(this.file instanceof Uint8Array?this.file.byteLength:this.file.size))){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return t=new Promise((function(e,t){var r=n.offset+n.chunkSize;if(n.file instanceof Uint8Array)e(new Uint8Array(n.file.slice(n.offset,r)));else{var i=new FileReader;i.onload=function(n){var r=i.result;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),!(r instanceof Uint8Array))return t(new TypeError("FileReader returned unknown type."));e(r)},i.onabort=function(e){return t(new Error("Aborted"))},i.onerror=function(e){return t(new Error(e.type))};var a=n.file.slice(n.offset,r);i.readAsArrayBuffer(a)}n.offset=r})),e.next=5,t;case 5:return e.t0=e.sent,e.abrupt("return",{value:e.t0,done:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ag);function lg(e){return cg.apply(this,arguments)}function cg(){return cg=(0,ys.Z)(bs().mark((function e(t){var n,r,i,a,o,s,u=arguments;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=u.length>2?u[2]:void 0,"string"===typeof t?i=t:(i=t.url,a=dg(t)),e.next=5,(r||M.D5U.fetch)(i,a);case 5:if(!(o=e.sent).ok){e.next=15;break}return e.t0=Uint8Array,e.next=10,o.arrayBuffer();case 10:return e.t1=e.sent,s=new e.t0(e.t1),e.abrupt("return",new ug(s,n));case 15:throw new Error(o.statusText);case 16:case"end":return e.stop()}}),e)}))),cg.apply(this,arguments)}var dg=function(e){return{method:e.method,headers:e.headers,body:e.body,mode:e.mode,credentials:e.credentials,cache:e.cache,redirect:e.redirect,referrer:e.referrer,integrity:e.integrity}};function fg(e){return"string"===typeof e&&"file://"===e.slice(0,7)}var hg=function(e){(0,Ti.Z)(r,e);var t=(0,Ii.Z)(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Ci.Z)(this,r),(n=t.call(this)).input=e,n.options=i,n}return(0,ki.Z)(r,[{key:"iterator",value:function(){var e=(0,ys.Z)(bs().mark((function e(){var t;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fg(this.input)&&(0,M.OBj)().get("IS_NODE")&&(t=n(67792),this.input=t.readFileSync(this.input.slice(7))),e.abrupt("return",new ug(this.input,this.options));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(tg),pg=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Ci.Z)(this,n),(r=t.call(this)).url=e,r.fileOptions=i,r}return(0,ki.Z)(n,[{key:"iterator",value:function(){var e=(0,ys.Z)(bs().mark((function e(){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fg(this.url)){e.next=4;break}return e.abrupt("return",new hg(this.url,this.fileOptions).iterator());case 4:return e.abrupt("return",lg(this.url,this.fileOptions));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(tg);function mg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Jm(new pg(e),t)}function gg(e){var t=xm(e);return Vm((0,ys.Z)(bs().mark((function e(){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))))}function vg(e){return Vm((0,ys.Z)(bs().mark((function t(){var n;return bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:return n=t.sent,t.abrupt("return",xm((function(){return n.next()})));case 4:case"end":return t.stop()}}),t)}))))}function yg(e,t){return xg.apply(this,arguments)}function xg(){return(xg=(0,ys.Z)(bs().mark((function e(t,n){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eg.create(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bg(e){return wg.apply(this,arguments)}function wg(){return(wg=(0,ys.Z)(bs().mark((function e(t){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$m.create(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _g="3.18.0",Sg=n(23193),Cg=M.GDt.whereImpl,kg=function(e){(0,Ti.Z)(n,e);var t=(0,Ii.Z)(n);function n(){var e;return(0,Ci.Z)(this,n),(e=t.call(this)).blockSize=48,e.firstUse=!0,e.data=new M.JLz((0,Di.Z)(e),(0,M.SRH)()),e}return(0,ki.Z)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"write",value:function(e,t,n){this.firstUse&&(this.firstUse=!1,(0,M.OBj)().get("IS_NODE")&&M.Wap.warn("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));var r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&M.D5U.isString(n[0])){var i=n.map((function(e){return M.D5U.encodeString(e)}));r=this.write(i,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}},{key:"refCount",value:function(e){return this.data.has(e)?this.data.get(e).refCount:0}},{key:"incRef",value:function(e){this.data.get(e).refCount++}},{key:"decRef",value:function(e){this.data.has(e)&&this.data.get(e).refCount--}},{key:"move",value:function(e,t,n,r,i){this.data.set(e,{values:t,dtype:r,refCount:i})}},{key:"numDataIds",value:function(){return this.data.numDataIds()}},{key:"read",value:function(){var e=(0,ys.Z)(bs().mark((function e(t){return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readSync(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readSync",value:function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensorInfos;if("complex64"===n){var i=this.readSync(r.real.dataId),a=this.readSync(r.imag.dataId);return M.Wap.mergeRealAndImagArrays(i,a)}return this.data.get(e).values}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var n=t.map((function(e){return M.D5U.decodeString(e)}));return(0,M.f3b)(e.shape,e.dtype,n)}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return(0,M.f3b)(e.shape,e.dtype,t)}},{key:"makeOutput",value:function(e,t,n){return(0,M.SRH)().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;var n=this.data.get(e),r=n.complexTensorInfos;null!=r&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"time",value:function(){var e=(0,ys.Z)(bs().mark((function e(t){var n,r;return bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=M.D5U.now(),t(),r=M.D5U.now()-n,e.abrupt("return",{kernelMs:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"memory",value:function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}},{key:"where",value:function(e){(0,Sg.H)([e],"where");var t=this.readSync(e.dataId);return Cg(e.shape,t)}},{key:"dispose",value:function(){}},{key:"floatPrecision",value:function(){return 32}},{key:"epsilon",value:function(){return Rs((0,Ai.Z)(n.prototype),"epsilon",this).call(this)}}]),n}(M.Zuw);kg.nextDataId=0;(0,M.jqO)("cpu",(function(){return new kg}),1);var Dg=n(91844),Tg=(0,Dg.A)(M.SX0,(function(e){return e>=0?e:Math.exp(e)-1})),Ig={kernelName:M.SX0,backendName:"cpu",kernelFunc:Tg},Ag=n(59090);function Mg(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.alpha;(0,Sg.H)([i],"leakyRelu");for(var o=M.D5U.sizeFromShape(i.shape),s=n.data.get(i.dataId).values,u=M.D5U.getTypedArrayFromDType("float32",o),l=0;l<s.length;l++)u[l]=s[l]<0?a*s[l]:s[l];return n.makeTensorInfo(i.shape,"float32",u)}var Eg={kernelName:M.J$2,backendName:"cpu",kernelFunc:Mg},Ng=n(69341),Rg=(0,Ng.b)((function(e,t){return e<0?t*e:e}));function Pg(e){var t=e.inputs,n=e.backend,r=t.x,i=t.alpha;(0,Sg.H)([r,i],"prelu");var a=n.data.get(r.dataId).values,o=n.data.get(i.dataId).values,s=Rg(r.shape,i.shape,a,o,"float32"),u=(0,E.Z)(s,2),l=u[0],c=u[1];return n.makeTensorInfo(c,"float32",l)}var Og={kernelName:M.o0g,backendName:"cpu",kernelFunc:Pg},Lg=(0,Dg.A)(M.qkr,(function(e){return Math.max(0,e)})),Fg={kernelName:M.qkr,backendName:"cpu",kernelFunc:Lg},Zg=(0,Dg.A)(M.SbG,(function(e){return Math.min(Math.max(0,e),6)})),Bg={kernelName:M.SbG,backendName:"cpu",kernelFunc:Zg},zg=n(294);function Vg(e,t,n,r,i){if("linear"===n)return(0,Ag.y)({inputs:{x:t},backend:e});if("relu"===n)return Lg({inputs:{x:t},backend:e});if("elu"===n)return Tg({inputs:{x:t},backend:e});if("relu6"===n)return Zg({inputs:{x:t},backend:e});if("prelu"===n)return Pg({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return Mg({inputs:{x:t},backend:e,attrs:{alpha:i}});if("sigmoid"===n)return(0,zg.XD)({inputs:{x:t},backend:e});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}var jg=n(25589);function Wg(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.shape,o=M.D5U.sizeFromShape(i.shape),s=M.D5U.inferFromImplicitShape(a,o),u=M.D5U.sizeFromShape(s);M.D5U.assert(o===u,(function(){return"The new shape (".concat(s,") has ").concat(u," elements and the old ")+"shape (".concat(i.shape,") has ").concat(o," elements. The new shape and old ")+"shape must have the same number of elements."})),n.incRef(i.dataId);var l=n.data.get(i.dataId);if(null!=l.complexTensorInfos){var c=l.complexTensorInfos.real,d=l.complexTensorInfos.imag;c.shape=s,d.shape=s}return{dataId:i.dataId,shape:s,dtype:i.dtype}}var Ug={kernelName:M.HZH,backendName:"cpu",kernelFunc:Wg};function Hg(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.a,a=t.b,o=r.transposeA,s=r.transposeB;(0,Sg.H)([i,a],"matMul");var u=i.shape.length,l=a.shape.length,c=o?i.shape[u-2]:i.shape[u-1],d=s?a.shape[l-1]:a.shape[l-2],f=o?i.shape[u-1]:i.shape[u-2],h=s?a.shape[l-2]:a.shape[l-1],p=i.shape.slice(0,-2),m=a.shape.slice(0,-2),g=M.D5U.sizeFromShape(p),v=M.D5U.sizeFromShape(m),y=M.Jyw.assertAndGetBroadcastShape(i.shape.slice(0,-2),a.shape.slice(0,-2)).concat([f,h]);M.D5U.assert(c===d,(function(){return"Error in matMul: inner shapes (".concat(c,") and (")+"".concat(d,") of Tensors with shapes ").concat(i.shape," and ")+"".concat(a.shape," and transposeA=").concat(o)+" and transposeB=".concat(s," must match.")}));for(var x=s?[v,h,d]:[v,d,h],b=Wg({inputs:{x:i},backend:n,attrs:{shape:o?[g,c,f]:[g,f,c]}}),w=Wg({inputs:{x:a},backend:n,attrs:{shape:x}}),_=o?b.shape[1]:b.shape[2],S=o?b.shape[2]:b.shape[1],C=s?w.shape[1]:w.shape[2],k=Math.max(g,v),D=n.data.get(b.dataId).values,T=n.data.get(w.dataId).values,I=M.D5U.computeStrides(b.shape),A=M.D5U.computeStrides(w.shape),N=o?[I[0],1,I[1]]:[I[0],I[1],1],R=(0,E.Z)(N,3),P=R[0],O=R[1],L=R[2],F=s?[1,A[1],A[0]]:[A[1],1,A[0]],Z=(0,E.Z)(F,3),B=Z[0],z=Z[1],V=Z[2],j=S*C,W=(0,M.f3b)([k,S,C],b.dtype),U=W.values,H=n.blockSize,G=0;G<k;G++)for(var X=0;X<S;X+=H)for(var q=0;q<C;q+=H)for(var Y=0;Y<_;Y+=H)for(var K=Math.min(X+H,S),Q=Math.min(q+H,C),J=Math.min(Y+H,_),$=X;$<K;$++)for(var ee=q;ee<Q;ee++){for(var te=0,ne=Y;ne<J;ne++){var re=Math.min(G,g-1)*P,ie=Math.min(G,v-1)*V;te+=D[re+$*O+ne*L]*T[ne*B+ee*z+ie]}U[G*j+($*C+ee)]+=te}return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(w),n.makeTensorInfo(y,W.dtype,W.values)}var Gg={kernelName:M.XLW,backendName:"cpu",kernelFunc:Hg};var Xg={kernelName:M.usg,backendName:"cpu",kernelFunc:function(e){var t,n,r,i=e.inputs,a=e.backend,o=e.attrs,s=i.a,u=i.b,l=i.bias,c=i.preluActivationWeights,d=o.transposeA,f=o.transposeB,h=o.activation,p=o.leakyreluAlpha,m=[];t=Hg({inputs:{a:s,b:u},attrs:{transposeA:d,transposeB:f},backend:a}),l&&(n=(0,jg.IH)({inputs:{a:t,b:l},backend:a}),m.push(t),t=n),h&&(r=Vg(a,t,h,c,p),m.push(t),t=r);for(var g=0,v=m;g<v.length;g++){var y=v[g];a.disposeIntermediateTensorInfo(y)}return t}},qg=n(96220),Yg=(0,Dg.A)(M.VGw,(function(e){return Math.acos(e)})),Kg={kernelName:M.VGw,backendName:"cpu",kernelFunc:Yg},Qg=(0,Dg.A)(M.SpW,(function(e){return Math.acosh(e)})),Jg={kernelName:M.SpW,backendName:"cpu",kernelFunc:Qg};var $g={kernelName:M.Xze,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t;(0,Sg.H)(t,"addN");for(var i=r.map((function(e){return n.data.get(e.dataId).values})),a=(0,M.f3b)(r[0].shape,r[0].dtype),o=a.values,s=0;s<r.length;s++)for(var u=i[s],l=0;l<o.length;l++)o[l]+=u[l];return n.makeTensorInfo(a.shape,a.dtype,a.values)}},ev=n(65257);var tv={kernelName:M.oT6,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.keepDims;(0,Sg.H)(i,"all");var s=M.D5U.parseAxisParam(a,i.shape),u=s,l=M.Wap.getAxesPermutation(u,i.shape.length),c=i;null!=l&&(c=(0,ev.p)({inputs:{x:i},backend:n,attrs:{perm:l}}),u=M.Wap.getInnerMostAxes(u.length,i.shape.length)),M.Wap.assertAxesAreInnerMostDims("all",u,c.shape.length);for(var d=M.Wap.computeOutAndReduceShapes(c.shape,u),f=(0,E.Z)(d,2),h=f[0],p=f[1],m=M.D5U.sizeFromShape(p),g=M.D5U.makeZerosTypedArray(M.D5U.sizeFromShape(h),c.dtype),v=n.data.get(c.dataId).values,y=0;y<g.length;++y){for(var x=y*m,b=v[x],w=0;w<m;++w){var _=v[x+w];b=b&&_}g[y]=b}null!=l&&n.disposeIntermediateTensorInfo(c);var S=n.makeTensorInfo(h,c.dtype,g);if(o){var C=Wg({inputs:{x:S},backend:n,attrs:{shape:M.Wap.expandShapeToKeepDim(h,s)}});return n.disposeIntermediateTensorInfo(S),C}return S}};var nv={kernelName:M.IKK,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.keepDims;(0,Sg.H)(i,"any");var s=M.D5U.parseAxisParam(a,i.shape),u=s,l=M.Wap.getAxesPermutation(u,i.shape.length),c=i;null!=l&&(c=(0,ev.p)({inputs:{x:i},backend:n,attrs:{perm:l}}),u=M.Wap.getInnerMostAxes(u.length,i.shape.length)),M.Wap.assertAxesAreInnerMostDims("any",u,c.shape.length);for(var d=M.Wap.computeOutAndReduceShapes(c.shape,u),f=(0,E.Z)(d,2),h=f[0],p=f[1],m=M.D5U.sizeFromShape(p),g=M.D5U.makeZerosTypedArray(M.D5U.sizeFromShape(h),c.dtype),v=n.data.get(c.dataId).values,y=0;y<g.length;++y){for(var x=y*m,b=v[x],w=0;w<m;++w){var _=v[x+w];b=b||_}g[y]=b}null!=l&&n.disposeIntermediateTensorInfo(c);var S=n.makeTensorInfo(h,c.dtype,g);if(o){var C=Wg({inputs:{x:S},backend:n,attrs:{shape:M.Wap.expandShapeToKeepDim(h,s)}});return n.disposeIntermediateTensorInfo(S),C}return S}};var rv={kernelName:M.sJF,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis;(0,Sg.H)(i,"argMax");var o=M.D5U.parseAxisParam(a,i.shape),s=M.Wap.getAxesPermutation(o,i.shape.length),u=i,l=[];null!=s&&(u=(0,ev.p)({inputs:{x:i},backend:n,attrs:{perm:s}}),l.push(u),o=M.Wap.getInnerMostAxes(o.length,u.shape.length)),o=[o[0]],M.Wap.assertAxesAreInnerMostDims("argMax",o,u.shape.length);for(var c=M.Wap.computeOutAndReduceShapes(u.shape,o),d=(0,E.Z)(c,2),f=d[0],h=d[1],p=M.D5U.sizeFromShape(f),m=M.D5U.makeZerosTypedArray(p,"int32"),g=M.D5U.sizeFromShape(h),v=n.data.get(u.dataId).values,y=0;y<m.length;++y){for(var x=y*g,b=v[x],w=0,_=0;_<g;++_){var S=v[x+_];S>b&&(b=S,w=_)}m[y]=w}return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(f,"int32",m)}};var iv={kernelName:M.aJk,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis;(0,Sg.H)(i,"argMin");var o=M.D5U.parseAxisParam(a,i.shape),s=M.Wap.getAxesPermutation(o,i.shape.length),u=i,l=[];null!=s&&(u=(0,ev.p)({inputs:{x:i},backend:n,attrs:{perm:s}}),l.push(u),o=M.Wap.getInnerMostAxes(o.length,u.shape.length)),o=[o[0]],M.Wap.assertAxesAreInnerMostDims("argMin",o,u.shape.length);for(var c=M.Wap.computeOutAndReduceShapes(u.shape,o),d=(0,E.Z)(c,2),f=d[0],h=d[1],p=M.D5U.sizeFromShape(f),m=M.D5U.makeZerosTypedArray(p,"int32"),g=M.D5U.sizeFromShape(h),v=n.data.get(u.dataId).values,y=0;y<m.length;++y){for(var x=y*g,b=v[x],w=0,_=0;_<g;++_){var S=v[x+_];S<b&&(b=S,w=_)}m[y]=w}return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(f,"int32",m)}},av=(0,Dg.A)(M.M2y,(function(e){return Math.asin(e)})),ov={kernelName:M.M2y,backendName:"cpu",kernelFunc:av},sv=(0,Dg.A)(M.qw7,(function(e){return Math.asinh(e)})),uv={kernelName:M.qw7,backendName:"cpu",kernelFunc:sv},lv=(0,Dg.A)(M.jMg,(function(e){return Math.atan(e)})),cv={kernelName:M.jMg,backendName:"cpu",kernelFunc:lv},dv=n(69501),fv=(0,Ng.b)((function(e,t){return Math.atan2(e,t)})),hv=(0,dv.j)(M.QCc,fv),pv={kernelName:M.QCc,backendName:"cpu",kernelFunc:hv},mv=(0,Dg.A)(M.Oyi,(function(e){return Math.atanh(e)})),gv={kernelName:M.Oyi,backendName:"cpu",kernelFunc:mv};function vv(e,t,n,r,i,a){for(var o=i.strideHeight,s=i.strideWidth,u=i.dilationHeight,l=i.dilationWidth,c=i.effectiveFilterHeight,d=i.effectiveFilterWidth,f=i.padInfo.top,h=i.padInfo.left,p="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=(0,M.f3b)(i.outShape,n),g=m.values,v=i.outShape[1]*i.outShape[2]*i.outShape[3],y=i.outShape[2]*i.outShape[3],x=i.outShape[3],b=0;b<i.batchSize;++b)for(var w=b*v,_=b*r[0],S=0;S<i.inChannels;++S)for(var C=0;C<i.outHeight;++C)for(var k=C*o-f,D=Math.max(0,k),T=Math.min(i.inHeight,c+k),I=w+C*y,A=0;A<i.outWidth;++A){for(var E=A*s-h,N=Math.max(0,E),R=Math.min(i.inWidth,d+E),P=p,O=0,L=0,F=D;F<T;F+=u){for(var Z=_+F*r[1],B=N;B<R;B+=l){var z=e[Z+B*r[2]+S];"max"===a&&z>P?P=z:"avg"===a&&(O+=z,L++)}if(isNaN(P))break}g[I+A*x+S]="avg"===a?O/L:P}return m}function yv(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=(0,M.f3b)(r.outShape,"int32"),s=r.strideHeight,u=r.strideWidth,l=r.dilationHeight,c=r.dilationWidth,d=r.effectiveFilterHeight,f=r.effectiveFilterWidth,h=r.padInfo.top,p=r.padInfo.left,m=(0,M.f3b)(t,n,e),g=0;g<r.batchSize;++g)for(var v=0;v<r.inChannels;++v)for(var y=0;y<r.outHeight;++y){for(var x=y*s-h,b=x;b<0;)b+=l;for(var w=Math.min(r.inHeight,d+x),_=0;_<r.outWidth;++_){for(var S=_*u-p,C=S;C<0;)C+=c;for(var k=Math.min(r.inWidth,f+S),D=Number.NEGATIVE_INFINITY,T=-1,I=b;I<w;I+=l)for(var A=I-x,E=C;E<k;E+=c){var N=E-S,R=m.get(g,I,E,v);R>D&&(D=R,T=i?a?((g*r.inHeight+I)*r.inWidth+E)*r.inChannels+v:(I*r.inWidth+E)*r.inChannels+v:A*f+N)}o.set(T,g,y,_,v)}}return o}function xv(e,t,n,r,i,a){for(var o=i.strideDepth,s=i.strideHeight,u=i.strideWidth,l=i.dilationDepth,c=i.dilationHeight,d=i.dilationWidth,f=i.effectiveFilterDepth,h=i.effectiveFilterHeight,p=i.effectiveFilterWidth,m=i.padInfo.front,g=i.padInfo.top,v=i.padInfo.left,y="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,x=(0,M.f3b)(i.outShape,n),b=x.values,w=i.outShape[1]*i.outShape[2]*i.outShape[3]*i.outShape[4],_=i.outShape[2]*i.outShape[3]*i.outShape[4],S=i.outShape[3]*i.outShape[4],C=i.outShape[4],k=0;k<i.batchSize;++k)for(var D=k*w,T=k*r[0],I=0;I<i.inChannels;++I)for(var A=0;A<i.outDepth;++A){for(var E=A*o-m,N=E;N<0;)N+=l;for(var R=Math.min(i.inDepth,f+E),P=D+A*_,O=0;O<i.outHeight;++O){for(var L=O*s-g,F=L;F<0;)F+=c;for(var Z=Math.min(i.inHeight,h+L),B=P+O*S,z=0;z<i.outWidth;++z){for(var V=z*u-v,j=V;j<0;)j+=d;for(var W=Math.min(i.inWidth,p+V),U=B+z*C,H=y,G=0,X=0,q=N;q<R;q+=l){for(var Y=T+q*r[1],K=F;K<Z;K+=c){for(var Q=Y+K*r[2],J=j;J<W;J+=d){var $=e[Q+J*r[3]+I];if("max"===a&&$>H?H=$:"avg"===a&&(G+=$,X++),isNaN(H))break}if(isNaN(H))break}if(isNaN(H))break}b[U+I]="avg"===a?G/X:H}}}return x}var bv={kernelName:M.JhU,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x;(0,Sg.H)(i,"avgPool");var a=r.filterSize,o=r.strides,s=r.pad,u=r.dimRoundingMode;M.D5U.assert(M.Wap.eitherStridesOrDilationsAreOne(o,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")}));var l,c=M.Wap.computePool2DInfo(i.shape,a,o,1,s,u);if(1===c.filterWidth&&1===c.filterHeight&&M.D5U.arraysEqual(c.inShape,c.outShape))l=(0,Ag.y)({inputs:{x:i},backend:n});else{var d=n.data.get(i.dataId).values,f=M.D5U.computeStrides(i.shape),h=vv(d,i.shape,i.dtype,f,c,"avg");l=n.makeTensorInfo(c.outShape,i.dtype,h.values)}return l}};var wv={kernelName:M._k9,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.filterSize,o=r.strides,s=r.pad,u=r.dimRoundingMode,l=r.dataFormat;(0,Sg.H)(i,"avgPool3d");var c=M.Wap.computePool3DInfo(i.shape,a,o,1,s,u,l),d=xv(n.data.get(i.dataId).values,i.shape,i.dtype,M.D5U.computeStrides(i.shape),c,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}};var _v={kernelName:M.IMb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.input,o=r.filterSize,s=r.strides,u=r.pad,l=r.dimRoundingMode;(0,Sg.H)([i,a],"avgPool3DGrad");for(var c=M.Wap.computePool3DInfo(a.shape,o,s,1,u,l),d=c.strideDepth,f=c.strideHeight,h=c.strideWidth,p=c.filterDepth,m=c.filterHeight,g=c.filterWidth,v=c.dilationDepth,y=c.dilationHeight,x=c.dilationWidth,b=c.effectiveFilterDepth,w=c.effectiveFilterHeight,_=c.effectiveFilterWidth,S=b-1-c.padInfo.front,C=_-1-c.padInfo.left,k=w-1-c.padInfo.top,D=(0,M.f3b)(a.shape,"float32"),T=1/(p*m*g),I=n.bufferSync(i),A=0;A<c.batchSize;++A)for(var E=0;E<c.inChannels;++E)for(var N=0;N<c.inDepth;++N)for(var R=0;R<c.inHeight;++R)for(var P=0;P<c.inWidth;++P){for(var O=N-S,L=R-k,F=P-C,Z=0,B=0;B<b;B+=v){var z=(O+B)/d;if(!(z<0||z>=c.outDepth||Math.floor(z)!==z))for(var V=0;V<w;V+=y){var j=(L+V)/f;if(!(j<0||j>=c.outHeight||Math.floor(j)!==j))for(var W=0;W<_;W+=x){var U=(F+W)/h;if(!(U<0||U>=c.outWidth||Math.floor(U)!==U))Z+=I.get(A,z,j,U,E)}}}D.set(Z*T,A,N,R,P,E)}return n.makeTensorInfo(D.shape,D.dtype,D.values)}};var Sv={kernelName:M.ROF,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.input,o=a;(0,Sg.H)([i,a],"avgPoolGrad");for(var s=r.filterSize,u=r.strides,l=r.pad,c=M.Wap.computePool2DInfo(o.shape,s,u,1,l),d=c.strideHeight,f=c.strideWidth,h=c.filterHeight,p=c.filterWidth,m=c.dilationHeight,g=c.dilationWidth,v=c.effectiveFilterHeight,y=c.effectiveFilterWidth,x=y-1-c.padInfo.left,b=v-1-c.padInfo.top,w=(0,M.f3b)(o.shape,"float32"),_=1/(h*p),S=n.data.get(i.dataId).values,C=(0,M.f3b)(i.shape,"float32",S),k=0;k<c.batchSize;++k)for(var D=0;D<c.inChannels;++D)for(var T=0;T<c.inHeight;++T)for(var I=0;I<c.inWidth;++I){for(var A=T-b,E=I-x,N=0,R=0;R<v;R+=m){var P=(A+R)/d;if(!(P<0||P>=c.outHeight||Math.floor(P)!==P))for(var O=0;O<y;O+=g){var L=(E+O)/f;if(!(L<0||L>=c.outWidth||Math.floor(L)!==L))N+=C.get(k,P,L,D)}}w.set(N*_,k,T,I,D)}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};var Cv={kernelName:M.sHE,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.scale,o=t.offset,s=t.mean,u=t.variance;M.D5U.assert(s.shape.length===u.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),M.D5U.assert(null==o||s.shape.length===o.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),M.D5U.assert(null==a||s.shape.length===a.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),(0,Sg.H)([i,s,u,a,o],"batchNorm");var l=r.varianceEpsilon;null==l&&(l=.001);for(var c=n.data.get(i.dataId).values,d=n.data.get(s.dataId).values,f=n.data.get(u.dataId).values,h=a?n.data.get(a.dataId).values:new Float32Array([1]),p=o?n.data.get(o.dataId).values:new Float32Array([0]),m=new Float32Array(c.length),g=p.length,v=h.length,y=f.length,x=d.length,b=0,w=0,_=0,S=0,C=0;C<c.length;++C)m[C]=p[b++]+(c[C]-d[w++])*h[_++]/Math.sqrt(f[S++]+l),b>=g&&(b=0),w>=x&&(w=0),_>=v&&(_=0),S>=y&&(S=0);return n.makeTensorInfo(i.shape,i.dtype,m)}},kv=n(22126);var Dv={kernelName:M.zws,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.blockShape,o=r.crops;(0,Sg.H)([i],"batchToSpaceND");var s=a.reduce((function(e,t){return e*t})),u=M.Wap.getReshaped(i.shape,a,s),l=M.Wap.getPermuted(u.length,a.length),c=M.Wap.getReshapedPermuted(i.shape,a,s),d=M.Wap.getSliceBeginCoords(o,a.length),f=M.Wap.getSliceSize(c,o,a.length),h=Wg({inputs:{x:i},backend:n,attrs:{shape:u}}),p=(0,ev.p)({inputs:{x:h},backend:n,attrs:{perm:l}}),m=Wg({inputs:{x:p},backend:n,attrs:{shape:c}}),g=(0,kv.tP)({inputs:{x:m},backend:n,attrs:{begin:d,size:f}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),g}},Tv=n(73737);var Iv={kernelName:M.zvY,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.weights,o=r.size,s=n.data.get(i.dataId).values,u=n.data.get(a.dataId).values,l=(0,Tv.W)(s,u,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,l)}};var Av={kernelName:M.eEB,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,i=t.s1,a=n.data.get(r.dataId).values,o=n.data.get(i.dataId).values,s=M.Wap.assertAndGetBroadcastShape(Array.from(a),Array.from(o));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},Mv=n(60570),Ev=n(94351),Nv=(0,Dg.A)(M.xnO,(function(e,t){var n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),Rv={kernelName:M.xnO,backendName:"cpu",kernelFunc:Nv},Pv=n(36545),Ov={kernelName:M.yj2,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs.x,n=e.backend,r=new Float32Array(M.D5U.sizeFromShape(t.shape)),i=n.data.get(t.dataId),a=i.complexTensorInfos.real,o=i.complexTensorInfos.imag,s=n.data.get(a.dataId).values,u=n.data.get(o.dataId).values,l=0;l<s.length;l++){var c=s[l],d=u[l];r[l]=Math.hypot(c,d)}return n.makeOutput(r,t.shape,"float32")}},Lv=n(46563);function Fv(e){var t=e.inputs,n=e.backend,r=t.input,i=n.data.get(r.dataId).complexTensorInfos.imag,a=n.data.get(i.dataId).values;return n.makeTensorInfo(i.shape,i.dtype,a)}var Zv={kernelName:M.J_u,backendName:"cpu",kernelFunc:Fv},Bv=n(36241);function zv(e){var t=e.inputs,n=e.backend,r=e.attrs.axis,i=M.D5U.parseAxisParam(r,t[0].shape)[0],a=M.Wap.computeOutShape(t.map((function(e){return e.shape})),i);if(0===M.D5U.sizeFromShape(a))return n.makeTensorInfo(a,t[0].dtype,[]);var o=t.filter((function(e){return M.D5U.sizeFromShape(e.shape)>0}));if(1===o.length)return(0,Ag.y)({inputs:{x:o[0]},backend:n});var s=o.map((function(e){return e.shape}));if(M.Wap.assertParamsConsistent(s,i),"complex64"===o[0].dtype){var u=o.map((function(e){return(0,Bv.k)({inputs:{input:e},backend:n})})),l=o.map((function(e){return Fv({inputs:{input:e},backend:n})})),c=zv({inputs:u,backend:n,attrs:{axis:i}}),d=zv({inputs:l,backend:n,attrs:{axis:i}}),f=(0,Pv.P)({inputs:{real:c,imag:d},backend:n});return u.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),f}var h=o.map((function(e){var t=M.D5U.sizeFromShape(e.shape.slice(i));return Wg({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),p=h.map((function(e){return{vals:n.data.get(e.dataId).values,shape:e.shape}}));a=M.Wap.computeOutShape(h.map((function(e){return e.shape})),1);var m=1===h[0].shape[0],g=(0,Lv.j)(p,a,t[0].dtype,m),v=M.Wap.computeOutShape(o.map((function(e){return e.shape})),i),y=n.makeTensorInfo(v,t[0].dtype,g);return h.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),y}var Vv={kernelName:M.Eh3,backendName:"cpu",kernelFunc:zv};function jv(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=r.strides,s=r.pad,u=r.dataFormat,l=r.dilations,c=r.dimRoundingMode;(0,Sg.H)([i,a],"conv2d");for(var d=M.Wap.convertConv2DDataFormat(u),f=M.Wap.computeConv2DInfo(i.shape,a.shape,o,l,s,c,!1,d),h=f.filterHeight,p=f.filterWidth,m=f.dilationHeight,g=f.dilationWidth,v=f.padInfo.left,y=f.padInfo.top,x="channelsLast"===f.dataFormat,b=new M.YDk(f.outShape,i.dtype),w=M.D5U.computeStrides(i.shape),_=M.D5U.computeStrides(a.shape),S=w[0],C=x?w[1]:w[2],k=x?w[2]:1,D=x?1:w[1],T=b.strides[0],I=x?b.strides[1]:b.strides[2],A=x?b.strides[2]:1,E=x?1:b.strides[1],N=n.data.get(i.dataId).values,R=n.data.get(a.dataId).values,P=b.values,O=0;O<f.batchSize;++O)for(var L=O*S,F=O*T,Z=0;Z<f.outHeight;++Z)for(var B=F+Z*I,z=Z*f.strideHeight-y,V=0;V<h;++V){var j=z+V*m;if(!(j<0||j>=f.inHeight))for(var W=V*_[0],U=L+j*C,H=0;H<f.outWidth;++H)for(var G=B+H*A,X=H*f.strideWidth-v,q=0;q<p;++q){var Y=X+q*g;if(!(Y<0||Y>=f.inWidth))for(var K=U+Y*k,Q=W+q*_[1],J=0;J<f.inChannels;++J){for(var $=N[K+J*D],ee=0;ee<f.outChannels;++ee)P[G+ee*E]+=$*R[Q+ee];Q+=f.outChannels}}}return n.makeTensorInfo(b.shape,b.dtype,P)}var Wv={kernelName:M.mhS,backendName:"cpu",kernelFunc:jv};var Uv={kernelName:M.wUP,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.dy,o=r.strides,s=r.pad,u=r.dataFormat,l=r.dimRoundingMode,c=r.filterShape;(0,Sg.H)([i,a],"conv2dBackpropFilter");for(var d=M.Wap.convertConv2DDataFormat(u),f=M.Wap.computeConv2DInfo(i.shape,c,o,1,s,l,!1,d),h=f.strideHeight,p=f.strideWidth,m=f.filterHeight,g=f.filterWidth,v="channelsLast"===f.dataFormat,y=new M.YDk(f.filterShape,"float32"),x=f.padInfo.left,b=f.padInfo.top,w=n.data.get(i.dataId).values,_=n.data.get(a.dataId).values,S=new M.YDk(i.shape,i.dtype,w),C=new M.YDk(a.shape,a.dtype,_),k=0;k<m;++k)for(var D=Math.max(0,Math.ceil((b-k)/h)),T=Math.min(f.outHeight,(f.inHeight+b-k)/h),I=0;I<g;++I)for(var A=Math.max(0,Math.ceil((x-I)/p)),E=Math.min(f.outWidth,(f.inWidth+x-I)/p),N=0;N<f.inChannels;++N)for(var R=0;R<f.outChannels;++R){for(var P=0,O=0;O<f.batchSize;++O)for(var L=D;L<T;++L)for(var F=k+L*h-b,Z=A;Z<E;++Z){var B=I+Z*p-x;P+=v?S.get(O,F,B,N)*C.get(O,L,Z,R):S.get(O,N,F,B)*C.get(O,R,L,Z)}y.set(P,k,I,N,R)}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};var Hv={kernelName:M.wm,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.filter,o=r.inputShape,s=r.strides,u=r.pad,l=r.dataFormat,c=r.dimRoundingMode;(0,Sg.H)([i,a],"conv2dBackpropInput");var d=M.D5U.computeStrides(a.shape),f=M.D5U.computeStrides(i.shape),h=M.Wap.convertConv2DDataFormat(l),p=M.Wap.computeConv2DInfo(o,a.shape,s,1,u,c,!1,h),m=new M.YDk(p.inShape,"float32"),g=m.values,v=n.data.get(i.dataId).values,y=n.data.get(a.dataId).values,x=(0,E.Z)(d,3),b=x[0],w=x[1],_=x[2],S=p.batchSize,C=p.filterHeight,k=p.filterWidth,D=p.inChannels,T=p.inHeight,I=p.inWidth,A=p.outChannels,N=p.outHeight,R=p.outWidth,P=p.strideHeight,O=p.strideWidth;h=p.dataFormat;for(var L=C-1-p.padInfo.top,F=k-1-p.padInfo.left,Z="channelsLast"===h,B=m.strides[0],z=Z?m.strides[1]:m.strides[2],V=Z?m.strides[2]:1,j=Z?1:m.strides[1],W=f[0],U=Z?f[1]:f[2],H=Z?f[2]:1,G=Z?1:f[1],X=0;X<S;++X)for(var q=0;q<D;++q)for(var Y=0;Y<T;++Y)for(var K=Y-L,Q=Math.max(0,Math.ceil(K/P)),J=Math.min(N,(C+K)/P),$=0;$<I;++$){for(var ee=$-F,te=Math.max(0,Math.ceil(ee/O)),ne=Math.min(R,(k+ee)/O),re=0,ie=Q;ie<J;++ie)for(var ae=ie*P-K,oe=te;oe<ne;++oe)for(var se=W*X+U*ie+H*oe,ue=b*(C-1-ae)+w*(k-1-(oe*O-ee))+_*q,le=0;le<A;++le){re+=v[se+G*le]*y[ue+le]}g[B*X+z*Y+V*$+j*q]=re}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};var Gv={kernelName:M.x12,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=r.strides,s=r.pad,u=r.dilations;(0,Sg.H)([i,a],"conv3d");for(var l=M.Wap.computeConv3DInfo(i.shape,a.shape,o,u,s),c=l.filterDepth,d=l.filterHeight,f=l.filterWidth,h=l.dilationDepth,p=l.dilationHeight,m=l.dilationWidth,g=l.padInfo,v=g.front,y=g.left,x=g.top,b=new M.YDk(l.outShape,i.dtype),w=n.data.get(i.dataId).values,_=n.data.get(a.dataId).values,S=b.values,C=M.D5U.computeStrides(i.shape),k=M.D5U.computeStrides(a.shape),D=0;D<l.batchSize;++D)for(var T=D*C[0],I=D*b.strides[0],A=0;A<l.outDepth;++A)for(var E=I+A*b.strides[1],N=A*l.strideDepth-v,R=0;R<c;++R){var P=N+R*h;if(!(P<0||P>=l.inDepth))for(var O=R*k[0],L=T+P*C[1],F=0;F<l.outHeight;++F)for(var Z=E+F*b.strides[2],B=F*l.strideHeight-x,z=0;z<d;++z){var V=B+z*p;if(!(V<0||V>=l.inHeight))for(var j=O+z*k[1],W=L+V*C[2],U=0;U<l.outWidth;++U)for(var H=Z+U*l.outChannels,G=U*l.strideWidth-y,X=0;X<f;++X){var q=G+X*m;if(!(q<0||q>=l.inWidth))for(var Y=j+X*k[2],K=W+q*l.inChannels,Q=Y,J=0;J<l.inChannels;++J){for(var $=w[K+J],ee=0;ee<l.outChannels;++ee)S[H+ee]+=$*_[Q+ee];Q+=l.outChannels}}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};var Xv={kernelName:M.o2y,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.dy,o=r.strides,s=r.pad,u=r.filterShape;(0,Sg.H)([i,a],"conv3dBackpropFilterV2");for(var l=M.D5U.computeStrides(i.shape),c=M.D5U.computeStrides(a.shape),d=M.Wap.computeConv3DInfo(i.shape,u,o,1,s),f=d.strideDepth,h=d.strideHeight,p=d.strideWidth,m=d.filterDepth,g=d.filterHeight,v=d.filterWidth,y=new M.YDk(d.filterShape,"float32"),x=y.values,b=(0,E.Z)(y.strides,4),w=b[0],_=b[1],S=b[2],C=b[3],k=n.data.get(a.dataId).values,D=(0,E.Z)(c,4),T=D[0],I=D[1],A=D[2],N=D[3],R=n.data.get(i.dataId).values,P=(0,E.Z)(l,4),O=P[0],L=P[1],F=P[2],Z=P[3],B=d.padInfo.front,z=d.padInfo.left,V=d.padInfo.top,j=0;j<m;++j)for(var W=Math.max(0,Math.ceil((B-j)/f)),U=Math.min(d.outDepth,(d.inDepth+B-j)/f),H=j*w,G=0;G<g;++G)for(var X=Math.max(0,Math.ceil((V-G)/h)),q=Math.min(d.outHeight,(d.inHeight+V-G)/h),Y=G*_+H,K=0;K<v;++K)for(var Q=Math.max(0,Math.ceil((z-K)/p)),J=Math.min(d.outWidth,(d.inWidth+z-K)/p),$=K*S+Y,ee=0;ee<d.inChannels;++ee)for(var te=ee*C+$,ne=0;ne<d.outChannels;++ne){for(var re=0,ie=0;ie<d.batchSize;++ie)for(var ae=ie*O,oe=ie*T,se=W;se<U;++se)for(var ue=(j+se*f-B)*L+ae,le=se*I+oe,ce=X;ce<q;++ce)for(var de=(G+ce*h-V)*F+ue,fe=ce*A+le,he=Q;he<J;++he){var pe=he*N+fe;re+=R[(K+he*p-z)*Z+de+ee]*k[pe+ne]}x[te+ne]=re}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};var qv={kernelName:M.ik2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.filter,o=r.pad,s=r.strides,u=r.inputShape;(0,Sg.H)([i],"conv3dBackpropInputV2");for(var l=M.D5U.computeStrides(i.shape),c=M.D5U.computeStrides(a.shape),d=M.Wap.computeConv3DInfo(u,a.shape,s,1,o),f=new M.YDk(d.inShape,"float32"),h=f.values,p=(0,E.Z)(f.strides,4),m=p[0],g=p[1],v=p[2],y=p[3],x=n.data.get(i.dataId).values,b=(0,E.Z)(l,4),w=b[0],_=b[1],S=b[2],C=b[3],k=n.data.get(a.dataId).values,D=(0,E.Z)(c,4),T=D[0],I=D[1],A=D[2],N=D[3],R=d.batchSize,P=d.filterDepth,O=d.filterHeight,L=d.filterWidth,F=d.inChannels,Z=d.inDepth,B=d.inHeight,z=d.inWidth,V=d.outChannels,j=d.outDepth,W=d.outHeight,U=d.outWidth,H=d.strideDepth,G=d.strideHeight,X=d.strideWidth,q=P-1-d.padInfo.front,Y=O-1-d.padInfo.top,K=L-1-d.padInfo.left,Q=0;Q<R;++Q)for(var J=0;J<F;++J)for(var $=0;$<Z;++$)for(var ee=$-q,te=Math.max(0,Math.ceil(ee/H)),ne=Math.min(j,(P+ee)/H),re=0;re<B;++re)for(var ie=re-Y,ae=Math.max(0,Math.ceil(ie/G)),oe=Math.min(W,(O+ie)/G),se=0;se<z;++se){for(var ue=se-K,le=Math.max(0,Math.ceil(ue/X)),ce=Math.min(U,(L+ue)/X),de=0,fe=te;fe<ne;++fe)for(var he=fe*H-ee,pe=ae;pe<oe;++pe)for(var me=pe*G-ie,ge=le;ge<ce;++ge)for(var ve=w*Q+_*fe+S*pe+C*ge,ye=T*(P-1-he)+I*(O-1-me)+A*(L-1-(ge*X-ue))+N*J,xe=0;xe<V;++xe){de+=x[ve+xe]*k[ye+xe]}h[m*Q+g*$+v*re+y*se+J]=de}return n.makeTensorInfo(f.shape,f.dtype,f.values)}},Yv=(0,Dg.A)(M.mc4,(function(e){return Math.cos(e)})),Kv={kernelName:M.mc4,backendName:"cpu",kernelFunc:Yv},Qv=(0,Dg.A)(M.TR1,(function(e){return Math.cosh(e)})),Jv={kernelName:M.TR1,backendName:"cpu",kernelFunc:Qv};var $v={kernelName:M.VcC,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,i=t.image,a=t.boxes,o=t.boxInd,s=r.cropSize,u=r.method,l=r.extrapolationValue,c=(0,E.Z)(i.shape,4),d=c[0],f=c[1],h=c[2],p=c[3],m=a.shape[0],g=(0,E.Z)(s,2),v=g[0],y=g[1],x=(0,M.f3b)([m,v,y,p],"float32"),b=n.data.get(a.dataId).values,w=n.data.get(o.dataId).values,_=n.data.get(i.dataId).values,S=M.D5U.computeStrides(i.shape),C=M.D5U.computeStrides(x.shape),k=0;k<m;k++){var D=4*k,T=b[D],I=b[D+1],A=b[D+2],N=b[D+3],R=w[k];if(!(R>=d))for(var P=v>1?(A-T)*(f-1)/(v-1):0,O=y>1?(N-I)*(h-1)/(y-1):0,L=0;L<v;L++){var F=v>1?T*(f-1)+L*P:.5*(T+A)*(f-1);if(F<0||F>f-1)for(var Z=0;Z<y;Z++)for(var B=0;B<p;B++){var z=B+Z*C[2]+L*C[1]+k*C[0];x.values[z]=l}else if("bilinear"===u)for(var V=Math.floor(F),j=Math.ceil(F),W=F-V,U=0;U<y;U++){var H=y>1?I*(h-1)+U*O:.5*(I+N)*(h-1);if(H<0||H>h-1)for(var G=0;G<p;G++){var X=G+U*C[2]+L*C[1]+k*C[0];x.values[X]=l}else for(var q=Math.floor(H),Y=Math.ceil(H),K=H-q,Q=0;Q<p;Q++){var J=Q+q*S[2]+V*S[1]+R*S[0],$=_[J],ee=_[J=Q+Y*S[2]+V*S[1]+R*S[0]],te=_[J=Q+q*S[2]+j*S[1]+R*S[0]],ne=$+(ee-$)*K,re=te+(_[J=Q+Y*S[2]+j*S[1]+R*S[0]]-te)*K;J=Q+U*C[2]+L*C[1]+k*C[0],x.values[J]=ne+(re-ne)*W}}else for(var ie=0;ie<y;++ie){var ae=y>1?I*(h-1)+ie*O:.5*(I+N)*(h-1);if(ae<0||ae>h-1)for(var oe=0;oe<p;oe++){var se=oe+ie*C[2]+L*C[1]+k*C[0];x.values[se]=l}else for(var ue=Math.round(ae),le=Math.round(F),ce=0;ce<p;ce++){var de=ce+ue*S[2]+le*S[1]+R*S[0],fe=ce+ie*C[2]+L*C[1]+k*C[0];x.values[fe]=_[de]}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};var ey={kernelName:M.Byc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.exclusive,s=r.reverse;(0,Sg.H)(i,"cumprod");var u=M.Wap.getAxesPermutation([a],i.shape.length),l=i;null!=u&&(l=(0,ev.p)({inputs:{x:i},backend:n,attrs:{perm:u}}));var c=M.Wap.getInnerMostAxes(1,i.shape.length)[0];if(c!==l.shape.length-1)throw new Error("backend.cumprod in CPU expects an inner-most "+"axis=".concat(l.shape.length-1," but got axis=").concat(c));for(var d=(0,M.x8V)(l.dtype,"int32"),f=M.D5U.makeOnesTypedArray(M.D5U.sizeFromShape(l.shape),d),h=n.data.get(l.dataId).values,p=l.shape[l.shape.length-1],m=s?function(e,t){return e+p-t-1}:function(e,t){return e+t},g=0;g<h.length;g+=p)for(var v=0;v<p;v++){var y=m(g,v);if(0===v)f[y]=o?1:h[y];else{var x=m(g,v-1);f[y]=o?h[x]*f[x]:h[y]*f[x]}}var b=n.makeTensorInfo(l.shape,d,f);if(null!=u){var w=M.Wap.getUndoAxesPermutation(u),_=(0,ev.p)({inputs:{x:b},backend:n,attrs:{perm:w}});return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(l),_}return b}};var ty={kernelName:M.iHb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.exclusive,s=r.reverse;(0,Sg.H)(i,"cumsum");var u=M.Wap.getAxesPermutation([a],i.shape.length),l=i;null!=u&&(l=(0,ev.p)({inputs:{x:i},backend:n,attrs:{perm:u}}));var c=M.Wap.getInnerMostAxes(1,i.shape.length)[0];if(c!==l.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(l.shape.length-1," but got axis=").concat(c));for(var d=(0,M.x8V)(l.dtype,"int32"),f=M.D5U.makeZerosTypedArray(M.D5U.sizeFromShape(l.shape),d),h=n.data.get(l.dataId).values,p=l.shape[l.shape.length-1],m=s?function(e,t){return e+p-t-1}:function(e,t){return e+t},g=0;g<h.length;g+=p)for(var v=0;v<p;v++){var y=m(g,v);if(0===v)f[y]=o?0:h[y];else{var x=m(g,v-1);f[y]=o?h[x]+f[x]:h[y]+f[x]}}var b=n.makeTensorInfo(l.shape,d,f);if(null!=u){var w=M.Wap.getUndoAxesPermutation(u),_=(0,ev.p)({inputs:{x:b},backend:n,attrs:{perm:w}});return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(l),_}return b}};var ny={kernelName:M.QRR,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.weights,o=r.size,s=r.binaryOutput;if(1===i.shape.length){var u=n.data.get(i.dataId).values,l=n.data.get(a.dataId).values,c=(0,Tv.W)(u,l,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,c)}if(2===i.shape.length){var d=n.bufferSync(i),f=n.bufferSync(a),h=(0,Tv.i)(d,f,o,s);return n.makeTensorInfo(h.shape,a.dtype,h.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(i.shape.length,"."))}};var ry={kernelName:M.T0n,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.blockSize,o=r.dataFormat;M.D5U.assert("NHWC"===o,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(o)}));for(var s=i.shape[0],u=i.shape[1],l=i.shape[2],c=i.shape[3],d=u*a,f=l*a,h=c/(a*a),p=n.data.get(i.dataId).values,m=new Float32Array(s*d*f*h),g=0,v=0;v<s;++v)for(var y=0;y<d;++y)for(var x=Math.floor(y/a),b=y%a,w=0;w<f;++w)for(var _=Math.floor(w/a),S=(b*a+w%a)*h,C=0;C<h;++C){var k=C+S+c*(_+l*(x+u*v));m[g++]=p[k]}return n.makeTensorInfo([s,d,f,h],i.dtype,m)}};function iy(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=r.strides,s=r.pad,u=r.dilations,l=r.dimRoundingMode;(0,Sg.H)([i,a],"depthwiseConv2DNative");var c=M.D5U.computeStrides(i.shape),d=M.D5U.computeStrides(a.shape),f=u;null==f&&(f=[1,1]),M.D5U.assert(M.Wap.eitherStridesOrDilationsAreOne(o,f),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(o," and dilations '").concat(f,"'")}));for(var h=M.Wap.computeConv2DInfo(i.shape,a.shape,o,f,s,l,!0),p=h.filterHeight,m=h.filterWidth,g=h.dilationHeight,v=h.dilationWidth,y=h.padInfo,x=y.left,b=y.top,w=h.outChannels/h.inChannels,_=new M.YDk(h.outShape,i.dtype),S=n.data.get(i.dataId).values,C=n.data.get(a.dataId).values,k=_.values,D=0;D<h.batchSize;++D)for(var T=D*c[0],I=D*_.strides[0],A=0;A<h.outHeight;++A)for(var E=I+A*_.strides[1],N=A*h.strideHeight-b,R=0;R<p;++R){var P=N+R*g;if(!(P<0||P>=h.inHeight))for(var O=R*d[0],L=T+P*c[1],F=0;F<h.outWidth;++F)for(var Z=E+F*_.strides[2],B=F*h.strideWidth-x,z=0;z<m;++z){var V=B+z*v;if(!(V<0||V>=h.inWidth))for(var j=O+z*d[1],W=L+V*h.inChannels,U=Z,H=j,G=0;G<h.inChannels;++G){for(var X=S[W+G],q=0;q<w;++q)k[U+q]+=X*C[H+q];U+=w,H+=w}}}return n.makeTensorInfo(_.shape,_.dtype,_.values)}var ay={kernelName:M.cie,backendName:"cpu",kernelFunc:iy};var oy={kernelName:M.sL$,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.dy,o=r.strides,s=r.dilations,u=r.pad,l=r.dimRoundingMode,c=r.filterShape;(0,Sg.H)([i,a],"depthwiseConv2dNativeBackpropFilter");for(var d=M.Wap.computeConv2DInfo(i.shape,c,o,s,u,l,!0),f=d.strideHeight,h=d.strideWidth,p=d.filterHeight,m=d.filterWidth,g=new M.YDk(d.filterShape,"float32"),v=d.padInfo.left,y=d.padInfo.top,x=d.outChannels/d.inChannels,b=n.data.get(i.dataId).values,w=new M.YDk(i.shape,i.dtype,b),_=n.data.get(a.dataId).values,S=new M.YDk(a.shape,a.dtype,_),C=0;C<p;++C)for(var k=Math.max(0,Math.ceil((y-C)/f)),D=Math.min(d.outHeight,(d.inHeight+y-C)/f),T=0;T<m;++T)for(var I=Math.max(0,Math.ceil((v-T)/h)),A=Math.min(d.outWidth,(d.inWidth+v-T)/h),E=0;E<d.outChannels;++E){for(var N=Math.trunc(E/x),R=E%x,P=0,O=0;O<d.batchSize;++O)for(var L=k;L<D;++L)for(var F=C+L*f-y,Z=I;Z<A;++Z){var B=T+Z*h-v;P+=w.get(O,F,B,N)*S.get(O,L,Z,E)}g.set(P,C,T,N,R)}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};var sy={kernelName:M.y7R,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.filter,o=r.strides,s=r.dilations,u=r.pad,l=r.dimRoundingMode,c=r.inputShape;(0,Sg.H)([i,a],"depthwiseConv2DNativeBackpropInput");for(var d=M.D5U.computeStrides(i.shape),f=M.D5U.computeStrides(a.shape),h=M.Wap.computeConv2DInfo(c,a.shape,o,s,u,l,!0),p=new M.YDk(h.inShape,"float32"),m=p.values,g=(0,E.Z)(p.strides,3),v=g[0],y=g[1],x=g[2],b=n.data.get(i.dataId).values,w=(0,E.Z)(d,3),_=w[0],S=w[1],C=w[2],k=n.data.get(a.dataId).values,D=(0,E.Z)(f,3),T=D[0],I=D[1],A=D[2],N=h.batchSize,R=h.filterHeight,P=h.filterWidth,O=h.inChannels,L=h.inHeight,F=h.inWidth,Z=h.outChannels,B=h.outHeight,z=h.outWidth,V=h.strideHeight,j=h.strideWidth,W=R-1-h.padInfo.top,U=P-1-h.padInfo.left,H=Z/O,G=0;G<N;++G)for(var X=0;X<O;++X)for(var q=0;q<L;++q)for(var Y=q-W,K=Math.max(0,Math.ceil(Y/V)),Q=Math.min(B,(R+Y)/V),J=0;J<F;++J){for(var $=J-U,ee=Math.max(0,Math.ceil($/j)),te=Math.min(z,(P+$)/j),ne=0,re=K;re<Q;++re)for(var ie=re*V-Y,ae=ee;ae<te;++ae)for(var oe=_*G+S*re+C*ae,se=T*(R-1-ie)+I*(P-1-(ae*j-$))+A*X,ue=0;ue<H;++ue){ne+=b[oe+(X*H+ue)]*k[se+ue]}m[v*G+y*q+x*J+X]=ne}return n.makeTensorInfo(p.shape,p.dtype,p.values)}};var uy={kernelName:M.$w,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=t.x,i=M.D5U.sizeFromShape(r.shape),a=n.data.get(r.dataId).values,o=(0,M.f3b)([i,i],r.dtype),s=o.values,u=0;u<a.length;u++)s[u*i+u]=a[u];var l=[].concat((0,vr.Z)(r.shape),(0,vr.Z)(r.shape));return n.makeTensorInfo(l,o.dtype,o.values)}},ly={kernelName:M.p4S,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=r.strides,s=r.pad,u=r.dilations,l=n,c=l.data.get(i.dataId).values,d=i.shape.length,f=l.data.get(a.dataId).values,h=a.shape.length,p=M.Wap.computeDilation2DInfo(i.shape,a.shape,o,s,"NHWC",u),m=p.batchSize,g=p.inHeight,v=p.inWidth,y=p.inChannels,x=p.outHeight,b=p.outWidth,w=p.padInfo,_=p.strideHeight,S=p.strideWidth,C=p.filterHeight,k=p.filterWidth,D=p.dilationHeight,T=p.dilationWidth,I=p.outShape,A=M.D5U.sizeFromShape(I),E=I.length,N=M.D5U.getArrayFromDType(i.dtype,A),R=0;R<m;++R)for(var P=0;P<x;++P)for(var O=P*_-w.top,L=0;L<b;++L)for(var F=L*S-w.left,Z=0;Z<y;++Z){for(var B=Number.MIN_SAFE_INTEGER,z=0;z<C;++z){var V=O+z*D;if(V>=0&&V<g)for(var j=0;j<k;++j){var W=F+j*T;if(W>=0&&W<v){var U=M.D5U.locToIndex([R,V,W,Z],d,M.D5U.computeStrides(i.shape)),H=M.D5U.locToIndex([z,j,Z],h,M.D5U.computeStrides(a.shape)),G=c[U]+f[H];G>B&&(B=G)}}}N[M.D5U.locToIndex([R,P,L,Z],E,M.D5U.computeStrides(I))]=B}return{dataId:l.write(M.D5U.toTypedArray(N,i.dtype),I,i.dtype),shape:I,dtype:i.dtype}}},cy={kernelName:M.Vn9,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=t.dy,s=r.strides,u=r.pad,l=r.dilations,c=n,d=M.D5U.toNestedArray(i.shape,c.data.get(i.dataId).values),f=M.D5U.toNestedArray(a.shape,c.data.get(a.dataId).values),h=M.Wap.computeDilation2DInfo(i.shape,a.shape,s,u,"NHWC",l),p=h.batchSize,m=h.inHeight,g=h.inWidth,v=h.inChannels,y=h.outHeight,x=h.outWidth,b=h.padInfo,w=h.strideHeight,_=h.strideWidth,S=h.filterHeight,C=h.filterWidth,k=h.dilationHeight,D=h.dilationWidth,T=h.outShape;M.D5U.assert(o.rank===T.length,(function(){return"Error in ".concat(M.Vn9,", dy ")+"must have the same rank as output ".concat(T.length,", but got ")+"".concat(o.rank)}));for(var I=M.D5U.toNestedArray(T,c.data.get(o.dataId).values),A=M.D5U.makeZerosNestedTypedArray(a.shape,a.dtype),E=0;E<p;++E)for(var N=0;N<y;++N)for(var R=N*w-b.top,P=0;P<x;++P)for(var O=P*_-b.left,L=0;L<v;++L){for(var F=Number.MIN_SAFE_INTEGER,Z=0,B=0,z=0;z<S;++z){var V=R+z*k;if(V>=0&&V<m)for(var j=0;j<C;++j){var W=O+j*D;if(W>=0&&W<g){var U=d[E][V][W][L]+f[z][j][L];U>F&&(F=U,Z=z,B=j)}}}A[Z][B][L]+=I[E][N][P][L]}return{dataId:c.write(M.D5U.toTypedArray(A,i.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},dy={kernelName:M.ekb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=t.dy,s=r.strides,u=r.pad,l=r.dilations,c=n,d=M.D5U.toNestedArray(i.shape,c.data.get(i.dataId).values),f=M.D5U.toNestedArray(a.shape,c.data.get(a.dataId).values),h=M.Wap.computeDilation2DInfo(i.shape,a.shape,s,u,"NHWC",l),p=h.batchSize,m=h.inHeight,g=h.inWidth,v=h.inChannels,y=h.outHeight,x=h.outWidth,b=h.padInfo,w=h.strideHeight,_=h.strideWidth,S=h.filterHeight,C=h.filterWidth,k=h.dilationHeight,D=h.dilationWidth,T=h.outShape;M.D5U.assert(o.rank===T.length,(function(){return"Error in ".concat(M.ekb,", dy ")+"must have the same rank as output ".concat(T.length,", but got ")+"".concat(o.rank)}));for(var I=M.D5U.toNestedArray(T,c.data.get(o.dataId).values),A=M.D5U.makeZerosNestedTypedArray(i.shape,i.dtype),E=0;E<p;++E)for(var N=0;N<y;++N)for(var R=N*w-b.top,P=0;P<x;++P)for(var O=P*_-b.left,L=0;L<v;++L){for(var F=Number.MIN_SAFE_INTEGER,Z=R<0?0:R,B=O<0?0:O,z=0;z<S;++z){var V=R+z*k;if(V>=0&&V<m)for(var j=0;j<C;++j){var W=O+j*D;if(W>=0&&W<g){var U=d[E][V][W][L]+f[z][j][L];U>F&&(F=U,Z=V,B=W)}}}A[E][Z][B][L]+=I[E][N][P][L]}return{dataId:c.write(M.D5U.toTypedArray(A,i.dtype),i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},fy=n(18244),hy=n(94842);function py(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=i.axis,s=i.keepDims;(0,Sg.H)(a,"sum");var u=(t="bool"===a.dtype?(0,Mv.p)({inputs:{x:a},backend:r,attrs:{dtype:"int32"}}):(0,Ag.y)({inputs:{x:a},backend:r})).shape.length,l=M.D5U.parseAxisParam(o,t.shape),c=M.Wap.getAxesPermutation(l,u),d=l,f=t;null!=c&&(f=(0,ev.p)({inputs:{x:t},backend:r,attrs:{perm:c}}),d=M.Wap.getInnerMostAxes(d.length,u)),M.Wap.assertAxesAreInnerMostDims("sum",d,f.shape.length);for(var h=M.Wap.computeOutAndReduceShapes(f.shape,d),p=(0,E.Z)(h,2),m=p[0],g=p[1],v=M.Wap.upcastType(f.dtype,"int32"),y=(0,hy.l)(r,m,v),x=M.D5U.sizeFromShape(g),b=r.data.get(y.dataId).values,w=r.data.get(f.dataId).values,_=0;_<b.length;++_){for(var S=_*x,C=0,k=0;k<x;++k)C+=w[S+k];b[_]=C}if(s){var D=y;y=Wg({inputs:{x:y},backend:r,attrs:{shape:M.Wap.expandShapeToKeepDim(y.shape,l)}}),r.disposeIntermediateTensorInfo(D)}return r.disposeIntermediateTensorInfo(t),null!=c&&r.disposeIntermediateTensorInfo(f),y}var my={kernelName:M.GBy,backendName:"cpu",kernelFunc:py};var gy={kernelName:M.$g6,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.equation,i=t,a=M.Wap.decodeEinsumEquation(r,i.length),o=a.allDims,s=a.summedDims,u=a.idDims;M.Wap.checkEinsumDimSizes(o.length,u,i);for(var l=M.Wap.getEinsumComputePath(s,u),c=l.path,d=l.steps,f=d.length,h=null,p=o.length,m=[],g=0;g<f;++g){var v,y=(0,Si.Z)(d[g]);try{for(y.s();!(v=y.n()).done;){var x=v.value,b=M.Wap.getEinsumPermutation(p,u[x]),w=b.permutationIndices,_=b.expandDims,S=void 0;M.Wap.isIdentityPermutation(w)?S=i[x]:(S=(0,ev.p)({inputs:{x:i[x]},backend:n,attrs:{perm:w}}),m.push(S));for(var C=S.shape.slice(),k=0;k<_.length;++k)C.splice(_[k],0,1);M.D5U.arraysEqual(S.shape,C)||(S=Wg({inputs:{x:S},backend:n,attrs:{shape:C}}),m.push(S)),null===h?h=S:(h=(0,fy.Jp)({inputs:{a:S,b:h},backend:n}),m.push(h))}}catch(A){y.e(A)}finally{y.f()}g<f-1&&(c[g]>=0&&(h=py({inputs:{x:h},backend:n,attrs:{axis:c[g]-(o.length-p),keepDims:!1}}),m.push(h)),p--)}for(var D=0,T=m;D<T.length;D++){var I=T[D];I!==h&&n.disposeIntermediateTensorInfo(I)}return h}};var vy={kernelName:M.HEU,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,i=t.y;(0,Sg.H)([r,i],"eluGrad");for(var a=new Float32Array(M.D5U.sizeFromShape(i.shape)),o=n.data.get(i.dataId).values,s=n.data.get(r.dataId).values,u=0;u<o.length;++u){var l=o[u];a[u]=l>=1?s[u]:s[u]*(l+1)}return n.makeTensorInfo(i.shape,"float32",a)}},yy=n(68116),xy=M.Wap.ERF_P,by=M.Wap.ERF_A1,wy=M.Wap.ERF_A2,_y=M.Wap.ERF_A3,Sy=M.Wap.ERF_A4,Cy=M.Wap.ERF_A5,ky=(0,Dg.A)(M.Omj,(function(e){var t=Math.sign(e),n=Math.abs(e),r=1/(1+xy*n);return t*(1-((((Cy*r+Sy)*r+_y)*r+wy)*r+by)*r*Math.exp(-n*n))})),Dy={kernelName:M.Omj,backendName:"cpu",kernelFunc:ky},Ty=n(66880);function Iy(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.input,a=r.dim,o=i.shape.length,s=i.shape.slice(),u=a;return a<0&&(M.D5U.assert(-(o+1)<=a,(function(){return"Axis must be in the interval [".concat(-(o+1),", ").concat(o,"]")})),u=o+a+1),s.splice(u,0,1),Wg({inputs:{x:i},backend:n,attrs:{shape:s}})}var Ay={kernelName:M.YFo,backendName:"cpu",kernelFunc:Iy},My=n(21354),Ey=(0,Ng.b)((function(e,t){return e/t})),Ny=(0,dv.j)(M.oHH,Ey),Ry={kernelName:M.oHH,backendName:"cpu",kernelFunc:Ny},Py=n(51802);function Oy(e,t,n){for(var r=e.shape,i=r[0],a=r[1],o=n.data.get(e.dataId),s=o.complexTensorInfos.real,u=o.complexTensorInfos.imag,l=[i,a],c=M.D5U.sizeFromShape(l),d=M.D5U.getTypedArrayFromDType("float32",c),f=M.D5U.getTypedArrayFromDType("float32",c),h=0;h<i;h++){for(var p=(0,kv.tP)({inputs:{x:s},backend:n,attrs:{begin:[h,0],size:[1,a]}}),m=(0,kv.tP)({inputs:{x:u},backend:n,attrs:{begin:[h,0],size:[1,a]}}),g=(0,Pv.P)({inputs:{real:p,imag:m},backend:n}),v=Ly(g,t,n),y=v.real,x=v.imag,b=M.Wap.mergeRealAndImagArrays(y,x),w=0;w<a;w++){var _=M.Wap.getComplexWithIndex(b,w);d[h*a+w]=_.real,f[h*a+w]=_.imag}n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g)}var S=n.makeTensorInfo(l,"float32",d),C=n.makeTensorInfo(l,"float32",f),k=(0,Pv.P)({inputs:{real:S,imag:C},backend:n});return n.disposeIntermediateTensorInfo(S),n.disposeIntermediateTensorInfo(C),k}function Ly(e,t,n){var r=M.D5U.sizeFromShape(e.shape),i=n.data.get(e.dataId),a=n.data.get(i.complexTensorInfos.real.dataId).values,o=n.data.get(i.complexTensorInfos.imag.dataId).values;if(0===((v=r)&v-1)){var s=Fy(a,o,r,t,n),u=[e.shape[0],e.shape[1]];if(t){var l=n.makeTensorInfo(u,"float32",s.real),c=n.makeTensorInfo(u,"float32",s.imag),d=n.makeTensorInfo([],"float32",M.D5U.createScalarValue(r,"float32")),f=(0,Ag.y)({inputs:{x:d},backend:n}),h=Ry.kernelFunc({inputs:{a:l,b:d},backend:n}),p=Ry.kernelFunc({inputs:{a:c,b:f},backend:n}),m=n.data.get(h.dataId).values,g=n.data.get(p.dataId).values;return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),{real:m,imag:g}}return s}var v,y=function(e,t,n){for(var r=new Float32Array(2*t),i=0;i<t;i++){for(var a=0,o=0,s=0;s<t;s++){var u=M.Wap.exponent(i*s,t,n),l=M.Wap.getComplexWithIndex(e,s);a+=l.real*u.real-l.imag*u.imag,o+=l.real*u.imag+l.imag*u.real}n&&(a/=t,o/=t),M.Wap.assignToTypedArray(r,a,o,i)}return r}(M.Wap.mergeRealAndImagArrays(a,o),r,t);return M.Wap.splitRealAndImagArrays(y)}function Fy(e,t,n,r,i){if(1===n)return{real:e,imag:t};var a=M.Wap.mergeRealAndImagArrays(e,t),o=n/2,s=M.Wap.complexWithEvenIndex(a),u=s.real,l=s.imag,c=[u.length],d=i.makeTensorInfo(c,"float32",u),f=i.makeTensorInfo(c,"float32",l),h=(0,Pv.P)({inputs:{real:d,imag:f},backend:i}),p=M.Wap.complexWithOddIndex(a),m=p.real,g=p.imag,v=[m.length],y=i.makeTensorInfo(v,"float32",m),x=i.makeTensorInfo(v,"float32",g),b=(0,Pv.P)({inputs:{real:y,imag:x},backend:i}),w=Fy(u,l,o,r,i),_=w.real,S=w.imag,C=[_.length],k=i.makeTensorInfo(C,"float32",_),D=i.makeTensorInfo(C,"float32",S),T=(0,Pv.P)({inputs:{real:k,imag:D},backend:i}),I=Fy(m,g,o,r,i),A=I.real,E=I.imag,N=[A.length],R=i.makeTensorInfo(N,"float32",A),P=i.makeTensorInfo(N,"float32",E),O=(0,Pv.P)({inputs:{real:R,imag:P},backend:i}),L=M.Wap.exponents(n,r),F=[L.real.length],Z=i.makeTensorInfo(F,"float32",L.real),B=i.makeTensorInfo(F,"float32",L.imag),z=(0,Pv.P)({inputs:{real:Z,imag:B},backend:i}),V=(0,fy.Jp)({inputs:{a:z,b:O},backend:i}),j=(0,jg.IH)({inputs:{a:T,b:V},backend:i}),W=(0,Py.lu)({inputs:{a:T,b:V},backend:i}),U=(0,Bv.k)({inputs:{input:j},backend:i}),H=(0,Bv.k)({inputs:{input:W},backend:i}),G=Fv({inputs:{input:j},backend:i}),X=Fv({inputs:{input:W},backend:i}),q=zv({inputs:[U,H],backend:i,attrs:{axis:0}}),Y=zv({inputs:[G,X],backend:i,attrs:{axis:0}}),K=i.data.get(q.dataId).values,Q=i.data.get(Y.dataId).values;return i.disposeIntermediateTensorInfo(d),i.disposeIntermediateTensorInfo(f),i.disposeIntermediateTensorInfo(h),i.disposeIntermediateTensorInfo(y),i.disposeIntermediateTensorInfo(x),i.disposeIntermediateTensorInfo(b),i.disposeIntermediateTensorInfo(k),i.disposeIntermediateTensorInfo(D),i.disposeIntermediateTensorInfo(T),i.disposeIntermediateTensorInfo(R),i.disposeIntermediateTensorInfo(P),i.disposeIntermediateTensorInfo(O),i.disposeIntermediateTensorInfo(Z),i.disposeIntermediateTensorInfo(B),i.disposeIntermediateTensorInfo(z),i.disposeIntermediateTensorInfo(V),i.disposeIntermediateTensorInfo(j),i.disposeIntermediateTensorInfo(W),i.disposeIntermediateTensorInfo(U),i.disposeIntermediateTensorInfo(G),i.disposeIntermediateTensorInfo(H),i.disposeIntermediateTensorInfo(X),i.disposeIntermediateTensorInfo(q),i.disposeIntermediateTensorInfo(Y),{real:K,imag:Q}}var Zy={kernelName:M.vwp,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,i=M.D5U.sizeFromShape(r.shape),a=r.shape[r.shape.length-1],o=Wg({inputs:{x:r},backend:n,attrs:{shape:[i/a,a]}}),s=Oy(o,!1,n),u=Wg({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),u}};function By(e){var t=e.backend,n=e.attrs,r=n.shape,i=n.value,a=n.dtype||M.D5U.inferDtype(i),o=M.D5U.getArrayFromDType(a,M.D5U.sizeFromShape(r));return function(e,t,n){e.fill(t)}(o,i),t.makeTensorInfo(r,a,o)}var zy={kernelName:M.deh,backendName:"cpu",kernelFunc:By};var Vy={kernelName:M.Uyb,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=(e.attrs,e.backend),r=t.image,i=n,a=M.D5U.getTypedArrayFromDType(r.dtype,M.D5U.sizeFromShape(r.shape)),o=(0,E.Z)(r.shape,4),s=o[0],u=o[1],l=o[2],c=o[3],d=i.data.get(r.dataId).values,f=0;f<s;f++)for(var h=f*l*u*c,p=0;p<u;p++)for(var m=p*(l*c),g=0;g<l;g++)for(var v=g*c,y=0;y<c;y++){var x=Math.round(l-g-1),b=h+m+v+y,w=d[b];if(x>=0&&x<l)w=d[h+m+x*c+y];a[b]=w}return{dataId:i.write(a,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},jy=n(97224),Wy=(0,Ng.b)((function(e,t){return Math.floor(e/t)})),Uy=(0,dv.j)(M.jeX,Wy,null,"int32"),Hy={kernelName:M.jeX,backendName:"cpu",kernelFunc:Uy};var Gy={kernelName:M._V0,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=t.bias,s=t.preluActivationWeights,u=r.strides,l=r.pad,c=r.dataFormat,d=r.dilations,f=r.dimRoundingMode,h=r.activation,p=r.leakyreluAlpha,m=jv({inputs:{x:i,filter:a},backend:n,attrs:{strides:u,pad:l,dataFormat:c,dilations:d,dimRoundingMode:f}});if(o){var g=m;if("NCHW"===c&&1===o.shape.length&&1!==o.shape[0]){var v=Wg({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});m=(0,jg.IH)({inputs:{a:m,b:v},backend:n}),n.disposeIntermediateTensorInfo(v)}else m=(0,jg.IH)({inputs:{a:m,b:o},backend:n});n.disposeIntermediateTensorInfo(g)}if(h){var y=m;if("NCHW"===c&&"prelu"===h&&1===s.shape.length&&1!==s.shape[0]){var x=Wg({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});m=Vg(n,m,h,x,p),n.disposeIntermediateTensorInfo(x)}else m=Vg(n,m,h,s,p);n.disposeIntermediateTensorInfo(y)}return m}};var Xy={kernelName:M.luS,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=t.bias,s=t.preluActivationWeights,u=r.strides,l=r.pad,c=r.dataFormat,d=r.dilations,f=r.dimRoundingMode,h=r.activation,p=r.leakyreluAlpha,m=iy({inputs:{x:i,filter:a},backend:n,attrs:{strides:u,pad:l,dataFormat:c,dilations:d,dimRoundingMode:f}});if(o){var g=m;m=(0,jg.IH)({inputs:{a:m,b:o},backend:n}),n.disposeIntermediateTensorInfo(g)}if(h){var v=m;m=Vg(n,m,h,s,p),n.disposeIntermediateTensorInfo(v)}return m}},qy=n(34351);var Yy={kernelName:M.q1x,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,i=t.indices,a=M.D5U.sizeFromShape(r.shape),o=i.shape,s=o[o.length-1],u=M.Wap.prepareAndValidate(r,i),l=(0,E.Z)(u,4),c=l[0],d=l[1],f=l[2],h=l[3];if(0===d)return n.makeTensorInfo(c,r.dtype,[]);var p=n.data.get(i.dataId).values,m=n.bufferSync(r),g=(0,qy.m)(p,m,r.dtype,d,s,f,h,r.shape,a);return n.makeTensorInfo(c,r.dtype,g.values)}},Ky=n(82666);var Qy={kernelName:M.qi_,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.indices,o=r.axis,s=r.batchDims;(0,Sg.H)([i,a],"gatherV2");for(var u=M.D5U.parseAxisParam(o,i.shape)[0],l=n.data.get(a.dataId).values,c=i.shape[u],d=function(e){var t=l[e];M.D5U.assert(t<=c-1&&t>=0,(function(){return"GatherV2: the index value ".concat(t," is not in [0, ").concat(c-1,"]")}))},f=0;f<l.length;++f)d(f);var h=s;null==s&&(h=0);var p=M.D5U.sizeFromShape(a.shape),m=M.Wap.segment_util.collectGatherOpShapeInfo(i,a,u,h),g=Wg({inputs:{x:i},backend:n,attrs:{shape:[m.batchSize,m.outerSize,m.dimSize,m.sliceSize]}}),v=Wg({inputs:{x:a},backend:n,attrs:{shape:[m.batchSize,p/m.batchSize]}}),y=[m.batchSize,m.outerSize,p/m.batchSize,m.sliceSize],x=n.bufferSync(v),b=n.bufferSync(g),w=(0,Ky.i)(b,x,y);return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(v),n.makeTensorInfo(m.outputShape,w.dtype,w.values)}},Jy=n(69075),$y=n(26985);var ex={kernelName:M.Qg5,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,i=M.D5U.sizeFromShape(r.shape),a=r.shape[r.shape.length-1],o=Wg({inputs:{x:r},backend:n,attrs:{shape:[i/a,a]}}),s=Oy(o,!0,n),u=Wg({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),u}},tx=(0,Dg.A)(M.avt,(function(e){return Number.isFinite(e)?1:0}),"bool"),nx={kernelName:M.avt,backendName:"cpu",kernelFunc:tx},rx=(0,Dg.A)(M.iWB,(function(e){return Math.abs(e)===1/0?1:0}),"bool"),ix={kernelName:M.iWB,backendName:"cpu",kernelFunc:rx},ax=(0,Dg.A)(M.r7n,(function(e){return Number.isNaN(e)?1:0}),"bool"),ox={kernelName:M.r7n,backendName:"cpu",kernelFunc:ax},sx=n(39813),ux=n(18734),lx=n(21491);var cx={kernelName:M.e7N,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,i=n.stop,a=n.num,o=(0,lx.b)(r,i,a);return t.makeTensorInfo([o.length],"float32",o)}},dx=n(68298),fx=(0,Dg.A)(M.kU,(function(e){return Math.log1p(e)})),hx={kernelName:M.kU,backendName:"cpu",kernelFunc:fx},px=(0,Ng.b)((function(e,t){return e&&t})),mx=(0,dv.j)(M.PYm,px,null,"bool"),gx={kernelName:M.PYm,backendName:"cpu",kernelFunc:mx},vx=(0,Dg.A)(M.VfG,(function(e){return e?0:1}),"bool"),yx={kernelName:M.VfG,backendName:"cpu",kernelFunc:vx},xx=(0,Ng.b)((function(e,t){return e||t})),bx=(0,dv.j)(M.MZg,xx,null,"bool"),wx={kernelName:M.MZg,backendName:"cpu",kernelFunc:bx};var _x={kernelName:M.eZ0,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.depthRadius,o=r.bias,s=r.alpha,u=r.beta;(0,Sg.H)(i,"LRN");var l=i.shape[3],c=l-1,d=n.data.get(i.dataId).values,f=M.D5U.sizeFromShape(i.shape),h=new Float32Array(f);function p(e){for(var t=e%l,n=e-t+Math.max(0,t-a),r=e-t+Math.min(t+a,c),i=0;n<=r;n++){var o=d[n];i+=o*o}return i}for(var m=0;m<f;m++){var g=p(m),v=d[m]*Math.pow(o+s*g,-u);h[m]=v}return n.makeTensorInfo(i.shape,i.dtype,h)}};var Sx={kernelName:M.Hhh,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.y,o=t.dy,s=r.depthRadius,u=r.bias,l=r.alpha,c=r.beta;(0,Sg.H)(o,"LRNGrad");for(var d=M.D5U.sizeFromShape(o.shape),f=o.shape[3],h=n.data.get(o.dataId).values,p=n.data.get(i.dataId).values,m=n.data.get(a.dataId).values,g=new Float32Array(d),v=d,y=0;y<v;y++){for(var x=y%f,b=y-x+Math.max(0,x-s),w=y-x+Math.min(f,x+s+1),_=0,S=b;S<w;S++)_+=Math.pow(p[S],2);_=l*_+u;for(var C=b;C<w;C++){var k=-2*l*c*p[C]*m[y]/_;y===C&&(k+=Math.pow(_,-c)),k*=h[y],g[C]+=k}}return n.makeTensorInfo(o.shape,i.dtype,g)}},Cx=n(4771),kx=n(31103);function Dx(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.reductionIndices,o=r.keepDims,s=n,u=i.shape,l=u.length,c=M.D5U.parseAxisParam(a,u),d=c,f=M.Wap.getAxesPermutation(d,l),h=s.data.get(i.dataId).values;if(null!=f){for(var p=new Array(l),m=0;m<p.length;m++)p[m]=u[f[m]];h=(0,kx.H)(h,u,i.dtype,f,p),d=M.Wap.getInnerMostAxes(d.length,l),u=p}(0,Sg.H)(i,"max"),M.Wap.assertAxesAreInnerMostDims("max",d,l);var g=M.Wap.computeOutAndReduceShapes(u,d),v=(0,E.Z)(g,2),y=v[0],x=v[1],b=M.D5U.sizeFromShape(x),w=(0,Cx.B)(h,b,y,i.dtype),_=s.write(w,y,i.dtype),S=y;o&&(S=p=M.Wap.expandShapeToKeepDim(y,c));return{dataId:_,shape:S,dtype:i.dtype}}var Tx={kernelName:M.YoZ,backendName:"cpu",kernelFunc:Dx},Ix=n(89518);var Ax={kernelName:M.mTV,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x;(0,Sg.H)(i,"maxPool");var a=r.filterSize,o=r.strides,s=r.pad,u=r.dimRoundingMode;M.D5U.assert(M.Wap.eitherStridesOrDilationsAreOne(o,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")}));var l,c=M.Wap.computePool2DInfo(i.shape,a,o,1,s,u);if(1===c.filterWidth&&1===c.filterHeight&&M.D5U.arraysEqual(c.inShape,c.outShape))l=(0,Ag.y)({inputs:{x:i},backend:n});else{var d=n.data.get(i.dataId).values,f=M.D5U.computeStrides(i.shape),h=vv(d,i.shape,i.dtype,f,c,"max");l=n.makeTensorInfo(c.outShape,i.dtype,h.values)}return l}};var Mx={kernelName:M.OAf,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.filterSize,o=r.strides,s=r.pad,u=r.dimRoundingMode,l=r.dataFormat;(0,Sg.H)(i,"maxPool3d");var c=M.Wap.computePool3DInfo(i.shape,a,o,1,s,u,l),d=xv(n.data.get(i.dataId).values,i.shape,i.dtype,M.D5U.computeStrides(i.shape),c,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}};var Ex={kernelName:M.OU7,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.input,o=r.filterSize,s=r.strides,u=r.pad,l=r.dimRoundingMode;(0,Sg.H)([i,a],"maxPool3DGrad");for(var c=M.Wap.computePool3DInfo(a.shape,o,s,1,u,l),d=function(e,t){for(var n=(0,M.f3b)(t.outShape,"int32"),r=t.strideDepth,i=t.strideHeight,a=t.strideWidth,o=t.dilationDepth,s=t.dilationHeight,u=t.dilationWidth,l=t.effectiveFilterDepth,c=t.effectiveFilterHeight,d=t.effectiveFilterWidth,f=t.padInfo.front,h=t.padInfo.top,p=t.padInfo.left,m=0;m<t.batchSize;++m)for(var g=0;g<t.inChannels;++g)for(var v=0;v<t.outDepth;++v){for(var y=v*r-f,x=y;x<0;)x+=o;for(var b=Math.min(t.inDepth,l+y),w=0;w<t.outHeight;++w){for(var _=w*i-h,S=_;S<0;)S+=s;for(var C=Math.min(t.inHeight,c+_),k=0;k<t.outWidth;++k){for(var D=k*a-p,T=D;T<0;)T+=u;for(var I=Math.min(t.inWidth,d+D),A=Number.NEGATIVE_INFINITY,E=-1,N=x;N<b;N+=o)for(var R=N-y,P=S;P<C;P+=s)for(var O=P-_,L=T;L<I;L+=u){var F=L-D,Z=e.get(m,N,P,L,g);Z>=A&&(A=Z,E=R*c*d+O*c+F)}n.set(E,m,v,w,k,g)}}}return n}(n.bufferSync(a),c),f=c.strideDepth,h=c.strideHeight,p=c.strideWidth,m=c.dilationDepth,g=c.dilationHeight,v=c.dilationWidth,y=c.effectiveFilterDepth,x=c.effectiveFilterHeight,b=c.effectiveFilterWidth,w=y-1-c.padInfo.front,_=b-1-c.padInfo.left,S=x-1-c.padInfo.top,C=(0,M.f3b)(a.shape,"float32"),k=n.bufferSync(i),D=0;D<c.batchSize;++D)for(var T=0;T<c.inChannels;++T)for(var I=0;I<c.inDepth;++I)for(var A=0;A<c.inHeight;++A)for(var E=0;E<c.inWidth;++E){for(var N=I-w,R=A-S,P=E-_,O=0,L=0;L<y;L+=m){var F=(N+L)/f;if(!(F<0||F>=c.outDepth||Math.floor(F)!==F))for(var Z=0;Z<x;Z+=g){var B=(R+Z)/h;if(!(B<0||B>=c.outHeight||Math.floor(B)!==B))for(var z=0;z<b;z+=v){var V=(P+z)/p;if(!(V<0||V>=c.outWidth||Math.floor(V)!==V)){var j=y*x*b-1-d.get(D,F,B,V,T)===L*x*b+Z*b+z?1:0;if(0!==j)O+=k.get(D,F,B,V,T)*j}}}}C.set(O,D,I,A,E,T)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}};var Nx={kernelName:M.OV7,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.input,o=t.output,s=a;(0,Sg.H)([a,o],"maxPoolGrad");for(var u=r.filterSize,l=r.strides,c=r.pad,d=r.dimRoundingMode,f=M.Wap.computePool2DInfo(s.shape,u,l,1,c,d),h=n.data.get(s.dataId).values,p=(0,M.f3b)(f.outShape,s.dtype,yv(h,s.shape,s.dtype,f).values),m=f.strideHeight,g=f.strideWidth,v=f.dilationHeight,y=f.dilationWidth,x=f.effectiveFilterHeight,b=f.effectiveFilterWidth,w=b-1-f.padInfo.left,_=x-1-f.padInfo.top,S=(0,M.f3b)(s.shape,"float32"),C=n.data.get(i.dataId).values,k=(0,M.f3b)(i.shape,"float32",C),D=0;D<f.batchSize;++D)for(var T=0;T<f.inChannels;++T)for(var I=0;I<f.inHeight;++I)for(var A=0;A<f.inWidth;++A){for(var E=I-_,N=A-w,R=0,P=0;P<x;P+=v){var O=(E+P)/m;if(!(O<0||O>=f.outHeight||Math.floor(O)!==O))for(var L=0;L<b;L+=y){var F=(N+L)/g;if(!(F<0||F>=f.outWidth||Math.floor(F)!==F)){var Z=x*b-1-p.get(D,O,F,T)===P*b+L?1:0;if(0!==Z)R+=k.get(D,O,F,T)*Z}}}S.set(R,D,I,A,T)}return n.makeTensorInfo(S.shape,S.dtype,S.values)}};var Rx={kernelName:M.vFR,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.x,a=n.filterSize,o=n.strides,s=n.pad,u=n.includeBatchInIndex,l=r;(0,Sg.H)(i,"MaxPoolWithArgmax");var c=l.data.get(i.dataId).values,d=M.Wap.computePool2DInfo(i.shape,a,o,[1,1],s),f=function(e,t,n,r,i){var a=vv(e,0,n,M.D5U.computeStrides(t),i,"max"),o=yv(e,t,n,i,!0,r);return[a.values,o.values]}(c,i.shape,i.dtype,u,d),h=(0,E.Z)(f,2),p=h[0],m=h[1],g=l.write(p,d.outShape,i.dtype),v=l.write(m,d.outShape,i.dtype);return[{dataId:g,shape:d.outShape,dtype:i.dtype},{dataId:v,shape:d.outShape,dtype:"int32"}]}};var Px={kernelName:M.q2K,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.keepDims,s=M.D5U.parseAxisParam(a,i.shape),u=M.Wap.computeOutAndReduceShapes(i.shape,s)[1],l=M.D5U.sizeFromShape(u),c=[],d=n.makeTensorInfo([],"float32",new Float32Array([l]));c.push(d);var f=(0,Mv.p)({inputs:{x:i},backend:n,attrs:{dtype:"float32"}});c.push(f);var h=Ny({inputs:{a:f,b:d},backend:n});c.push(h);var p=py({inputs:{x:h},backend:n,attrs:{axis:a,keepDims:o}});return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),p}};var Ox={kernelName:M.c17,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.keepDims;(0,Sg.H)(i,"min");var s=M.D5U.parseAxisParam(a,i.shape),u=s,l=M.Wap.getAxesPermutation(u,i.shape.length),c=i;null!=l&&(c=(0,ev.p)({inputs:{x:i},backend:n,attrs:{perm:l}}),u=M.Wap.getInnerMostAxes(u.length,i.shape.length)),M.Wap.assertAxesAreInnerMostDims("min",u,c.shape.length);for(var d=M.Wap.computeOutAndReduceShapes(c.shape,u),f=(0,E.Z)(d,2),h=f[0],p=f[1],m=M.D5U.sizeFromShape(p),g=M.D5U.makeZerosTypedArray(M.D5U.sizeFromShape(h),c.dtype),v=n.data.get(c.dataId).values,y=0;y<g.length;++y){for(var x=y*m,b=v[x],w=0;w<m;++w){var _=v[x+w];(Number.isNaN(_)||_<b)&&(b=_)}g[y]=b}null!=l&&n.disposeIntermediateTensorInfo(c);var S=n.makeTensorInfo(h,c.dtype,g);if(o){var C=Wg({inputs:{x:S},backend:n,attrs:{shape:M.Wap.expandShapeToKeepDim(h,s)}});return n.disposeIntermediateTensorInfo(S),C}return S}},Lx=n(38094);var Fx={kernelName:M.jQs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.paddings,o=r.mode;(0,Sg.H)(i,"mirrorPad");for(var s=a.map((function(e,t){return e[0]+i.shape[t]+e[1]})),u=a.map((function(e){return e[0]})),l=a.map((function(e,t){return e[0]+i.shape[t]})),c="reflect"===o?0:1,d=n.data.get(i.dataId).values,f=i.shape.length,h=M.D5U.computeStrides(i.shape),p=M.D5U.sizeFromShape(s),m=s.length,g=M.D5U.computeStrides(s),v=M.D5U.getTypedArrayFromDType(i.dtype,p),y=0;y<p;y++){for(var x=M.D5U.indexToLoc(y,m,g),b=0;b<m;b++)x[b]<u[b]?x[b]=2*u[b]-x[b]-c:x[b]>=l[b]&&(x[b]=2*(l[b]-1)-x[b]+c);x=x.map((function(e,t){return e-u[t]}));var w=M.D5U.locToIndex(x,f,h);v[y]=d[w]}return{dataId:n.write(v,s,i.dtype),shape:s,dtype:i.dtype}}},Zx=(0,Ng.b)((function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),Bx=(0,dv.j)(M.Vbg,Zx),zx={kernelName:M.Vbg,backendName:"cpu",kernelFunc:Bx},Vx=n(38598);function jx(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.logits,a=r.dim,o=i.shape.length,s=a;if(-1===s&&(s=o-1),s!==o-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(o," and dim was ").concat(s));var u=M.D5U.parseAxisParam([s],i.shape),l=Dx({inputs:{x:i},backend:n,attrs:{reductionIndices:u,keepDims:!1}}),c=M.Wap.expandShapeToKeepDim(l.shape,u),d=Wg({inputs:{x:l},backend:n,attrs:{shape:c}}),f=(0,Py.lu)({inputs:{a:i,b:d},backend:n}),h=(0,Ty.Qq)({inputs:{x:f},backend:n}),p=py({inputs:{x:h},backend:n,attrs:{axis:u,keepDims:!1}}),m=Wg({inputs:{x:p},backend:n,attrs:{shape:c}}),g=Ny({inputs:{a:h,b:m},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),g}var Wx={kernelName:M.Gcp,backendName:"cpu",kernelFunc:jx};var Ux={kernelName:M.NZg,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.logits,a=r.numSamples,o=r.seed,s=r.normalized;(0,Sg.H)(i,"multinomial");for(var u=s?i:jx({inputs:{logits:i},backend:n,attrs:{dim:-1}}),l=u.shape[0],c=u.shape[1],d=n.data.get(u.dataId).values,f=[l,a],h=M.D5U.makeZerosTypedArray(M.D5U.sizeFromShape(f),"int32"),p=0;p<l;++p){var m=p*c,g=new Float32Array(c-1);g[0]=d[m];for(var v=1;v<g.length;++v)g[v]=g[v-1]+d[m+v];for(var y=Vx.alea(o.toString()),x=p*a,b=0;b<a;++b){var w=y();h[x+b]=g.length;for(var _=0;_<g.length;_++)if(w<g[_]){h[x+b]=_;break}}}return s||n.disposeIntermediateTensorInfo(u),n.makeTensorInfo(f,"int32",h)}},Hx=n(54569),Gx=M.GDt.nonMaxSuppressionV3Impl;var Xx={kernelName:M.uv1,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold;(0,Sg.H)(i,"NonMaxSuppression");var l=n.data.get(i.dataId).values,c=n.data.get(a.dataId).values,d=Gx(l,c,o,s,u).selectedIndices;return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},qx=M.GDt.nonMaxSuppressionV4Impl;var Yx={kernelName:M.cye,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,l=r.padToMaxOutputSize;(0,Sg.H)(i,"NonMaxSuppressionPadded");var c=n.data.get(i.dataId).values,d=n.data.get(a.dataId).values,f=qx(c,d,o,s,u,l),h=f.selectedIndices,p=f.validOutputs;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}},Kx=M.GDt.nonMaxSuppressionV5Impl;var Qx={kernelName:M.W0H,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,l=r.softNmsSigma;(0,Sg.H)(i,"NonMaxSuppressionWithScore");var c=n.data.get(i.dataId).values,d=n.data.get(a.dataId).values,f=Kx(c,d,o,s,u,l),h=f.selectedIndices,p=f.selectedScores;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([p.length],"float32",new Float32Array(p))]}},Jx=n(21566);var $x={kernelName:M.we_,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.indices,a=r.depth,o=r.onValue,s=r.offValue;(0,Sg.H)(i,"oneHot");var u=M.D5U.sizeFromShape(i.shape),l=new Float32Array(u*a);l.fill(s);for(var c=n.data.get(i.dataId).values,d=0;d<u;++d)c[d]>=0&&c[d]<a&&(l[d*a+c[d]]=o);return n.makeTensorInfo([].concat((0,vr.Z)(i.shape),[a]),"int32",l)}};function eb(e){var t=e.inputs,n=e.backend,r=t.x;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){var i=(0,Bv.k)({inputs:{input:r},backend:n}),a=eb({inputs:{x:i},backend:n}),o=Fv({inputs:{input:r},backend:n}),s=eb({inputs:{x:o},backend:n}),u=(0,Pv.P)({inputs:{real:a,imag:s},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),u}return By({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}var tb={kernelName:M.RuY,backendName:"cpu",kernelFunc:eb};var nb={kernelName:M.qWM,backendName:"cpu",kernelFunc:function e(t){var n=t.inputs,r=t.backend,i=n.x;if("string"===i.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===i.dtype){var a=(0,Bv.k)({inputs:{input:i},backend:r}),o=e({inputs:{x:a},backend:r}),s=Fv({inputs:{input:i},backend:r}),u=eb({inputs:{x:s},backend:r}),l=(0,Pv.P)({inputs:{real:o,imag:u},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(u),l}return By({backend:r,attrs:{shape:i.shape,value:1,dtype:i.dtype}})}};function rb(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return Iy({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var i=t[0].shape,a=t[0].dtype;t.forEach((function(e){M.D5U.assertShapesMatch(i,e.shape,"All tensors passed to stack must have matching shapes"),M.D5U.assert(a===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var o=[],s=zv({inputs:t.map((function(e){var t=Iy({inputs:{input:e},backend:n,attrs:{dim:r}});return o.push(t),t})),backend:n,attrs:{axis:r}});return o.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),s}var ib={kernelName:M.QiL,backendName:"cpu",kernelFunc:rb};var ab={kernelName:M.lyA,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.paddings,o=r.constantValue;(0,Sg.H)(i,"pad");var s=a.map((function(e,t){return e[0]+i.shape[t]+e[1]})),u=a.map((function(e){return e[0]})),l=n.data.get(i.dataId).values,c=M.D5U.sizeFromShape(i.shape),d=i.shape.length,f=M.D5U.computeStrides(i.shape),h=M.D5U.sizeFromShape(s),p=s.length,m=M.D5U.computeStrides(s),g=M.D5U.getTypedArrayFromDType(i.dtype,h);0!==o&&g.fill(o);for(var v=0;v<c;v++){var y=M.D5U.indexToLoc(v,d,f).map((function(e,t){return e+u[t]}));g[M.D5U.locToIndex(y,p,m)]=l[v]}return{dataId:n.write(g,s,i.dtype),shape:s,dtype:i.dtype}}},ob=(0,Ng.b)((function(e,t){return Math.pow(e,t)})),sb=(0,dv.j)(M.pe_,ob),ub={kernelName:M.pe_,backendName:"cpu",kernelFunc:sb},lb=n(89120),cb=n(66284);var db={kernelName:M.e6w,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,i=n.stop,a=n.dtype,o=n.step,s=(0,cb.b)(r,i,o,a);return t.makeTensorInfo([s.length],a,s)}},fb=(0,Dg.A)(M.$HU,(function(e){return 1/e})),hb={kernelName:M.$HU,backendName:"cpu",kernelFunc:fb};var pb={kernelName:M._Yw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,a=r.alignCorners,o=r.halfPixelCenters,s=r.size;(0,Sg.H)(i,"resizeBilinear");for(var u=M.D5U.computeStrides(i.shape),l=(0,E.Z)(s,2),c=l[0],d=l[1],f=(0,E.Z)(i.shape,4),h=f[0],p=f[1],m=f[2],g=f[3],v=n.data.get(i.dataId).values,y=new Float32Array(M.D5U.sizeFromShape([h,c,d,g])),x=[a&&c>1?p-1:p,a&&d>1?m-1:m],b=[a&&c>1?c-1:c,a&&d>1?d-1:d],w=0,_=x[0]/b[0],S=x[1]/b[1],C=0;C<h;C++)for(var k=0;k<c;k++){var D=void 0;D=o?_*(k+.5)-.5:_*k;for(var T=Math.max(0,Math.floor(D)),I=D-T,A=Math.min(p-1,Math.ceil(D)),N=C*u[0]+T*u[1],R=C*u[0]+A*u[1],P=0;P<d;P++){var O=void 0;O=o?S*(P+.5)-.5:S*P;for(var L=Math.max(0,Math.floor(O)),F=O-L,Z=Math.min(m-1,Math.ceil(O)),B=N+L*u[2],z=R+L*u[2],V=N+Z*u[2],j=R+Z*u[2],W=0;W<g;W++){var U=v[B+W],H=v[z+W],G=U+(v[V+W]-U)*F,X=G+(H+(v[j+W]-H)*F-G)*I;y[w++]=X}}}return n.makeTensorInfo([h,c,d,g],"float32",y)}};var mb={kernelName:M.zbQ,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,a=t.dy,o=r.alignCorners;(0,Sg.H)([a,i],"resizeBilinearGrad");for(var s=M.D5U.computeStrides(i.shape),u=(0,E.Z)(i.shape,4),l=u[0],c=u[1],d=u[2],f=u[3],h=(0,E.Z)(a.shape,3),p=h[1],m=h[2],g=new Float32Array(l*c*d*f),v=[o&&p>1?c-1:c,o&&m>1?d-1:d],y=[o&&p>1?p-1:p,o&&m>1?m-1:m],x=v[0]/y[0],b=v[1]/y[1],w=n.data.get(a.dataId).values,_=0,S=0;S<l;S++)for(var C=S*s[0],k=0;k<p;k++)for(var D=k*x,T=Math.floor(D),I=Math.min(Math.ceil(D),c-1),A=C+T*s[1],N=C+I*s[1],R=D-T,P=1-R,O=0;O<m;O++)for(var L=O*b,F=Math.floor(L),Z=Math.min(Math.ceil(L),d-1),B=L-F,z=1-B,V=A+F*s[2],j=A+Z*s[2],W=N+F*s[2],U=N+Z*s[2],H=P*z,G=P*B,X=R*z,q=R*B,Y=0;Y<f;Y++){var K=w[_++];g[V+Y]+=K*H,g[j+Y]+=K*G,g[W+Y]+=K*X,g[U+Y]+=K*q}return n.makeTensorInfo([l,d,c,f],"float32",g)}};var gb={kernelName:M.dpD,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,a=r.alignCorners,o=r.halfPixelCenters,s=r.size;(0,Sg.H)(i,"resizeNearestNeighbor");for(var u=M.D5U.computeStrides(i.shape),l=(0,E.Z)(s,2),c=l[0],d=l[1],f=(0,E.Z)(i.shape,4),h=f[0],p=f[1],m=f[2],g=f[3],v=n.data.get(i.dataId).values,y=new Float32Array(h*c*d*g),x=[a&&c>1?p-1:p,a&&d>1?m-1:m],b=[a&&c>1?c-1:c,a&&d>1?d-1:d],w=x[0]/b[0],_=x[1]/b[1],S=0,C=0;C<h;C++)for(var k=C*u[0],D=0;D<c;D++){var T=o?w*(D+.5):w*D,I=Math.min(p-1,a?Math.round(T):Math.floor(T));o&&(I=Math.max(0,I));for(var A=k+I*u[1],N=0;N<d;N++){var R=o?_*(N+.5):_*N,P=Math.min(m-1,a?Math.round(R):Math.floor(R));o&&(P=Math.max(0,P));for(var O=A+P*u[2],L=0;L<g;L++){var F=v[O+L];y[S++]=F}}}return n.makeTensorInfo([h,c,d,g],i.dtype,y)}};var vb={kernelName:M.Hmb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,a=t.dy,o=r.alignCorners;(0,Sg.H)([a,i],"resizeNearestNeighborGrad");for(var s=M.D5U.computeStrides(i.shape),u=M.D5U.computeStrides(a.shape),l=(0,E.Z)(i.shape,4),c=l[0],d=l[1],f=l[2],h=l[3],p=(0,E.Z)(a.shape,3),m=p[1],g=p[2],v=new Float32Array(c*d*f*h),y=n.data.get(a.dataId).values,x=[o&&m>1?d-1:d,o&&g>1?f-1:f],b=[o&&m>1?m-1:m,o&&g>1?g-1:g],w=x[0]/b[0],_=x[1]/b[1],S=1/w,C=1/_,k=2*Math.ceil(S)+2,D=2*Math.ceil(C)+2,T=0;T<c;T++)for(var I=T*s[0],A=0;A<d;A++)for(var N=I+A*s[1],R=Math.floor(A*S),P=Math.floor(R-k/2),O=0;O<f;O++)for(var L=N+O*s[2],F=Math.floor(O*C),Z=Math.floor(F-D/2),B=0;B<h;B++){for(var z=0,V=0;V<k;V++){var j=V+P;if(!(j<0||j>=m)){var W=I+j*u[1],U=j*w;if(A===Math.min(d-1,o?Math.round(U):Math.floor(U)))for(var H=0;H<D;H++){var G=H+Z;if(!(G<0||G>=g)){var X=W+G*u[2],q=G*_;O===Math.min(f-1,o?Math.round(q):Math.floor(q))&&(z+=y[X+B])}}}}v[L+B]=z}return n.makeTensorInfo(i.shape,i.dtype,v)}};var yb={kernelName:M.mKl,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.dims;(0,Sg.H)(i,"reverse");var o=i.shape.length,s=M.D5U.parseAxisParam(a,i.shape);if(0===o)return(0,Ag.y)({inputs:{x:i},backend:n});for(var u=new M.YDk(i.shape,i.dtype),l=n.bufferSync(i),c=function(e){var t=u.indexToLoc(e),n=t.slice();s.forEach((function(e){return n[e]=i.shape[e]-1-n[e]})),u.set.apply(u,[l.get.apply(l,(0,vr.Z)(n))].concat((0,vr.Z)(t)))},d=0;d<u.size;d++)c(d);return n.makeTensorInfo(u.shape,u.dtype,u.values)}},xb={kernelName:M.b9H,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.attrs,r=e.backend,i=t.image,a=n.radians,o=n.fillValue,s=n.center,u=r,l=M.D5U.getTypedArrayFromDType(i.dtype,M.D5U.sizeFromShape(i.shape)),c=(0,E.Z)(i.shape,4),d=c[0],f=c[1],h=c[2],p=c[3],m=M.Wap.getImageCenter(s,f,h),g=(0,E.Z)(m,2),v=g[0],y=g[1],x=Math.sin(a),b=Math.cos(a),w=u.data.get(i.dataId).values,_=0;_<d;_++)for(var S=_*h*f*p,C=0;C<f;C++)for(var k=C*(h*p),D=0;D<h;D++)for(var T=D*p,I=0;I<p;I++){var A=[d,C,D,I],N=A[2],R=A[1],P=(N-v)*b-(R-y)*x,O=(N-v)*x+(R-y)*b;P=Math.round(P+v),O=Math.round(O+y);var L=o;if("number"!==typeof o&&(L=3===I?255:o[I]),P>=0&&P<h&&O>=0&&O<f)L=w[S+O*(h*p)+P*p+I];l[S+k+T+I]=L}return{dataId:u.write(l,i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},bb=(0,Dg.A)(M.e07,(function(e){var t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1})),wb={kernelName:M.e07,backendName:"cpu",kernelFunc:bb},_b=n(78105),Sb=n(28567);var Cb={kernelName:M.xQA,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.indices,a=t.updates,o=r.shape,s=M.Wap.calculateShapes(a,i,o),u=s.sliceRank,l=s.numUpdates,c=s.sliceSize,d=s.strides,f=s.outputSize,h=n.bufferSync(i),p=n.bufferSync(a),m=(0,Sb.N)(h,p,o,f,c,l,u,d,0,!0);return n.makeTensorInfo(o,m.dtype,m.values)}};function kb(e,t){for(var n=0,r=e.length,i=0;n<r;)e[i=Math.floor((n+r)/2)]<t?n=i+1:r=i;return r}function Db(e,t){for(var n=0,r=e.length,i=0;n<r;)e[i=Math.floor((n+r)/2)]<=t?n=i+1:r=i;return r}var Tb={kernelName:M.nr8,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.sortedSequence,a=t.values,o=r.side,s=function(e,t,n,r,i,a){for(var o=M.D5U.getArrayFromDType("int32",n*i),s=0;s<n;++s)for(var u=e.slice(s*r,(s+1)*r),l=s*i,c=0;c<i;++c)o[l+c]="left"===a?kb(u,t[c+l]):Db(u,t[c+l]);return o}(n.data.get(i.dataId).values,n.data.get(a.dataId).values,i.shape[0],i.shape[1],a.shape[1],o);return n.makeTensorInfo(a.shape,"int32",s)}};var Ib={kernelName:M.PhF,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,i=t.t,a=t.e;(0,Sg.H)([r,i,a],"select");for(var o=r.shape.length,s=n.data.get(r.dataId).values,u=n.data.get(i.dataId).values,l=n.data.get(a.dataId).values,c=(0,M.x8V)(i.dtype,a.dtype),d=M.D5U.makeZerosTypedArray(M.D5U.sizeFromShape(i.shape),c),f=0,h=0===o||o>1||1===i.shape.length?1:M.D5U.sizeFromShape(i.shape.slice(1)),p=0;p<s.length;p++)for(var m=0;m<h;m++)1===s[p]?d[f++]=u[p]:d[f++]=l[p];return n.makeTensorInfo(i.shape,c,d)}},Ab=M.Wap.SELU_SCALEALPHA,Mb=M.Wap.SELU_SCALE,Eb=(0,Dg.A)(M.oFR,(function(e){return e>=0?Mb*e:Ab*(Math.exp(e)-1)})),Nb={kernelName:M.oFR,backendName:"cpu",kernelFunc:Eb},Rb=(0,Dg.A)(M.i5y,(function(e){return e<0?-1:e>0?1:0})),Pb={kernelName:M.i5y,backendName:"cpu",kernelFunc:Rb},Ob=(0,Dg.A)(M.RQH,(function(e){return Math.sin(e)})),Lb={kernelName:M.RQH,backendName:"cpu",kernelFunc:Ob},Fb=(0,Dg.A)(M.wYB,(function(e){return Math.sinh(e)})),Zb={kernelName:M.wYB,backendName:"cpu",kernelFunc:Fb},Bb=Math.log(1.1920928955078125e-7)+2,zb=(0,Dg.A)(M.MRv,(function(e){var t=e>-Bb,n=e<Bb,r=Math.exp(e);return n?r:t?e:Math.log(1+r)})),Vb={kernelName:M.MRv,backendName:"cpu",kernelFunc:zb};var jb={kernelName:M.TQc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.blockShape,o=r.paddings;(0,Sg.H)([i],"spaceToBatchND");var s=M.D5U.sizeFromShape(a),u=[[0,0]];u.push.apply(u,(0,vr.Z)(o));for(var l=1+a.length;l<i.shape.length;++l)u.push([0,0]);var c=ab.kernelFunc({inputs:{x:i},backend:n,attrs:{paddings:u,constantValue:0}}),d=M.Wap.getReshaped(c.shape,a,s,!1),f=M.Wap.getPermuted(d.length,a.length,!1),h=M.Wap.getReshapedPermuted(c.shape,a,s,!1),p=Wg({inputs:{x:c},backend:n,attrs:{shape:d}}),m={x:p},g={perm:f},v=(0,ev.p)({inputs:m,backend:n,attrs:g}),y=Wg({inputs:{x:v},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(v),y}},Wb=n(78337);var Ub={kernelName:M.O3z,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,i=t.values,a=t.denseShape,o=t.defaultValue;if(1!==a.shape.length)throw new Error("Dense shape must be a vector, saw:\n        ".concat(a.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n        ".concat(r.shape));if(1!==i.shape.length)throw new Error("Values must be a vector, saw:\n        ".concat(i.shape));if(0!==o.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(o.shape));var s=n.data.get(r.dataId).values,u=n.data.get(i.dataId).values,l=n.data.get(a.dataId).values,c=n.data.get(o.dataId).values[0],d=(0,Wb.c)(s,r.shape,r.dtype,u,i.dtype,l,c),f=(0,E.Z)(d,5),h=f[0],p=f[1],m=f[2],g=f[3],v=f[4];return[n.makeTensorInfo(p,r.dtype,h),n.makeTensorInfo([p[0]],i.dtype,m),n.makeTensorInfo([g.length],"bool",new Uint8Array(g.map((function(e){return Number(e)})))),n.makeTensorInfo([v.length],r.dtype,new Int32Array(v))]}},Hb=n(63634);var Gb={kernelName:M.nhH,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,i=t.inputShape,a=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(r.shape));if(1!==i.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(i.shape));if(1!==a.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(a.shape));var o=Array.from(n.data.get(i.dataId).values),s=n.data.get(r.dataId).values,u=Array.from(n.data.get(a.dataId).values),l=(0,Hb.U)(s,r.shape,r.dtype,o,u),c=(0,E.Z)(l,3),d=c[0],f=c[1],h=c[2];return[n.makeTensorInfo(f,r.dtype,d),n.makeTensorInfo([h.length],a.dtype,new Int32Array(h))]}},Xb=n(35440);var qb={kernelName:M.w3H,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,i=t.indices,a=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n          ".concat(i.shape));if(1!==a.shape.length)throw new Error("Segment ids should be a vector but received shape\n          ".concat(a.shape));if(i.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");var o=n.data.get(r.dataId).values,s=n.data.get(i.dataId).values,u=n.data.get(a.dataId).values,l=(0,Xb.V)(o,r.shape,r.dtype,s,u,!0),c=(0,E.Z)(l,2),d=c[0],f=c[1];return n.makeTensorInfo(f,r.dtype,d)}};var Yb={kernelName:M.ZjV,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,i=t.indices,a=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n         ".concat(i.shape));if(1!==a.shape.length)throw new Error("Segment ids should be a vector but received shape\n         ".concat(a.shape));if(i.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");var o=n.data.get(r.dataId).values,s=n.data.get(i.dataId).values,u=n.data.get(a.dataId).values,l=(0,Xb.V)(o,r.shape,r.dtype,s,u),c=(0,E.Z)(l,2),d=c[0],f=c[1];return n.makeTensorInfo(f,r.dtype,d)}};var Kb={kernelName:M.D2d,backendName:"cpu",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.sparseIndices,o=n.sparseValues,s=n.defaultValue,u=i.outputShape,l=M.Wap.calculateShapes(o,a,u),c=l.sliceRank,d=l.numUpdates,f=l.sliceSize,h=l.strides,p=l.outputSize,m=!1,g=r.bufferSync(a);switch(o.dtype){case"bool":var v=r.bufferSync(o),y=Boolean(r.data.get(s.dataId).values[0]);t=(0,Sb.N)(g,v,u,p,f,d,c,h,y,m);break;case"float32":var x=r.bufferSync(o),b=r.data.get(s.dataId).values[0];t=(0,Sb.N)(g,x,u,p,f,d,c,h,b,m);break;case"int32":var w=r.bufferSync(o),_=r.data.get(s.dataId).values[0];t=(0,Sb.N)(g,w,u,p,f,d,c,h,_,m);break;case"string":var S=r.bufferSync(o),C=M.D5U.decodeString(r.data.get(s.dataId).values[0]);t=(0,Sb.N)(g,S,u,p,f,d,c,h,C,m);break;default:throw new Error("Unsupported type ".concat(o.dtype))}return r.makeTensorInfo(u,t.dtype,t.values)}};var Qb={kernelName:M.L8s,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.numOrSizeSplits,o=r.axis,s=M.D5U.parseAxisParam(o,i.shape)[0],u=M.Wap.prepareSplitSize(i,a,s),l=new Array(i.shape.length).fill(0),c=i.shape.slice();return u.map((function(e){var t=(0,vr.Z)(c);t[s]=e;var r=(0,kv.tP)({inputs:{x:i},backend:n,attrs:{begin:l,size:t}});return l[s]+=e,r}))}},Jb=n(4165),$b={kernelName:M.bK0,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=n;(0,Sg.H)(r,"square");for(var a=i.data.get(r.dataId).values,o=new Float32Array(a.length),s=0;s<a.length;++s){var u=a[s];o[s]=u*u}return{dataId:i.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},ew=(0,Ng.b)((function(e,t){var n=e-t;return n*n})),tw=(0,dv.j)(M._tC,ew),nw={kernelName:M._tC,backendName:"cpu",kernelFunc:tw},rw=(0,Dg.A)(M.h8e,(function(e,t){var n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),iw={kernelName:M.h8e,backendName:"cpu",kernelFunc:rw},aw=n(47497);var ow={kernelName:M.jQk,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.begin,o=r.end,s=r.strides,u=r.beginMask,l=r.endMask,c=r.ellipsisMask,d=r.newAxisMask,f=r.shrinkAxisMask;(0,Sg.H)(i,"stridedSlice");var h,p=M.kuN.sliceInfo(i.shape,a,o,s,u,l,c,d,f),m=p.finalShapeSparse,g=p.finalShape,v=p.isIdentity,y=p.sliceDim0,x=p.isSimpleSlice,b=p.begin,w=p.end,_=p.strides;if(v)h=Wg({inputs:{x:i},backend:n,attrs:{shape:g}});else if(y||x){M.D5U.assert(i.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(i.shape.length)}));var S=M.kuN.computeOutShape(b,w,_),C=(0,kv.tP)({inputs:{x:i},backend:n,attrs:{begin:b,size:S}});h=Wg({inputs:{x:C},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(C)}else{var k=n.bufferSync(i),D=(0,aw.t)(m,k,_,b);h=n.makeTensorInfo(g,D.dtype,D.values)}return h}},sw=n(18294);var uw={kernelName:M._JP,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=r.separator,a=r.nGramWidths,o=r.leftPad,s=r.rightPad,u=r.padWidth,l=r.preserveShortSequences,c=t.data,d=t.dataSplits,f=n.data.get(c.dataId).values,h=n.data.get(d.dataId).values,p=(0,sw.A)(f,h,i,a,o,s,u,l),m=(0,E.Z)(p,2),g=m[0],v=m[1];return[n.makeTensorInfo([g.length],"string",g),n.makeTensorInfo(d.shape,"int32",v)]}},lw=n(60998);var cw={kernelName:M.s1s,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,i=t.input,a=t.delimiter;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(1!==i.shape.length)throw new Error("Input must be a vector, got shape: ".concat(i.shape));if(0!==a.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(a.shape));var o=n.data.get(i.dataId).values,s=n.data.get(a.dataId).values[0],u=(0,lw.Q)(o,s,r),l=(0,E.Z)(u,3),c=l[0],d=l[1],f=l[2],h=d.length;return[n.makeTensorInfo([h,2],"int32",c),n.makeTensorInfo([h],"string",d),n.makeTensorInfo([2],"int32",new Int32Array(f))]}},dw=n(71489);var fw={kernelName:M.XkS,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,i=t.input;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var a=n.data.get(i.dataId).values,o=(0,dw.h)(a,r);return n.makeTensorInfo(i.shape,"int32",o)}},hw=(0,Dg.A)(M.sEM,(function(e){return Math.tan(e)})),pw={kernelName:M.sEM,backendName:"cpu",kernelFunc:hw},mw=(0,Dg.A)(M.MIZ,(function(e){return Math.tanh(e)})),gw={kernelName:M.MIZ,backendName:"cpu",kernelFunc:mw},vw=n(57129);var yw={kernelName:M.n9L,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.reps;(0,Sg.H)(i,"tile");var o=(0,vw.R)(n.bufferSync(i),a);return n.makeTensorInfo(o.shape,o.dtype,o.values)}},xw=n(79516);var bw={kernelName:M.cWu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.k,o=r.sorted;(0,Sg.H)(i,"topk");var s=n.data.get(i.dataId).values,u=(0,xw.W)(s,i.shape,i.dtype,a,o),l=(0,E.Z)(u,2),c=l[0],d=l[1];return[n.makeTensorInfo(c.shape,c.dtype,c.values),n.makeTensorInfo(d.shape,d.dtype,d.values)]}};var ww={kernelName:M.wx7,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.image,a=t.transforms,o=n.interpolation,s=n.fillMode,u=n.fillValue,l=n.outputShape,c=(0,E.Z)(i.shape,4),d=c[0],f=c[1],h=c[2],p=c[3],m=null!=l?l:[f,h],g=(0,E.Z)(m,2),v=g[0],y=g[1],x=[d,v,y,p],b=M.D5U.computeStrides(i.shape),w=b[0],_=b[1],S=b[2],C=M.D5U.getTypedArrayFromDType(i.dtype,M.D5U.sizeFromShape(x));C.fill(u);for(var k=r.data.get(i.dataId).values,D=r.data.get(a.dataId).values,T=0;T<d;++T){for(var I=1===a.shape[0]?D:D.subarray(8*T,8*T+8),A=0;A<v;++A)for(var N=0;N<y;++N)for(var R=0;R<p;++R){var P=void 0,O=I[6]*N+I[7]*A+1;if(0!==O){var L=(I[0]*N+I[1]*A+I[2])/O,F=(I[3]*N+I[4]*A+I[5])/O,Z=_w(L,h,s),B=_w(F,f,s);switch(o){case"nearest":P=Cw(k,f,h,w,_,S,T,B,Z,R,u);break;case"bilinear":P=kw(k,f,h,w,_,S,T,B,Z,R,u);break;default:throw new Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(o))}C[T*w+A*_+N*S+R]=P}}return r.makeTensorInfo(x,i.dtype,C)}return{dataId:r.write(C,x,i.dtype),shape:i.shape,dtype:i.dtype}}};function _w(e,t,n){switch(n){case"reflect":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=2*t;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-t?n+r:-n-1}else if(n>t-1)if(t<=1)n=0;else{var i=2*t;(n-=i*Math.trunc(n/i))>=t&&(n=i-n-1)}return M.D5U.clamp(0,n,t-1)}(e,t);case"wrap":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=t-1;n+=t*(Math.trunc(-n/r)+1)}else if(n>t-1)if(t<=1)n=0;else{var i=t-1;n-=t*Math.trunc(n/i)}return M.D5U.clamp(0,n,t-1)}(e,t);case"nearest":return function(e,t){return M.D5U.clamp(0,e,t-1)}(e,t);default:return function(e,t){return e}(e)}}function Sw(e,t,n,r,i,a,o,s,u,l,c){return 0<=s&&s<t&&0<=u&&u<n?e[o*r+s*i+u*a+l]:c}function Cw(e,t,n,r,i,a,o,s,u,l,c){return Sw(e,t,n,r,i,a,o,Math.round(s),Math.round(u),l,c)}function kw(e,t,n,r,i,a,o,s,u,l,c){var d=Math.floor(s),f=Math.floor(u),h=d+1,p=f+1;return(h-s)*((p-u)*Sw(e,t,n,r,i,a,o,d,f,l,c)+(u-f)*Sw(e,t,n,r,i,a,o,d,p,l,c))+(s-d)*((p-u)*Sw(e,t,n,r,i,a,o,h,f,l,c)+(u-f)*Sw(e,t,n,r,i,a,o,h,p,l,c))}var Dw=n(24242);var Tw={kernelName:M.kpP,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=n.axis,a=t.x;(0,Sg.H)(a,"unique");var o=r.data.get(a.dataId).values,s=(0,Dw.S)(o,i,a.shape,a.dtype),u=s.outputValues,l=s.outputShape,c=s.indices;return[r.makeTensorInfo(l,a.dtype,u),r.makeTensorInfo([c.length],"int32",c)]}};var Iw={kernelName:M.ToN,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.value,a=r.axis;a<0&&(a+=i.shape.length);for(var o=i.shape.length,s=i.shape[a],u=new Array(o-1),l=0,c=0;c<o;c++)c!==a&&(u[l++]=i.shape[c]);var d=new Array(o).fill(0),f=i.shape.slice();f[a]=1;for(var h=new Array(s),p=0;p<h.length;p++){d[a]=p;var m=(0,kv.tP)({inputs:{x:i},backend:n,attrs:{begin:d,size:f}});h[p]=Wg({inputs:{x:m},backend:n,attrs:{shape:u}}),n.disposeIntermediateTensorInfo(m)}return h}};for(var Aw={kernelName:M.Qvg,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.segmentIds,o=r.numSegments;(0,Sg.H)(i,"unsortedSegmentSum");for(var s=[],u=[],l=i.shape.length-a.shape.length,c=a,d=0;d<l;++d){var f=Iy({inputs:{input:c},backend:n,attrs:{dim:d+1}});c=f,u.push(f)}for(var h=0;h<o;++h){var p=M.D5U.createScalarValue(h,"int32"),m=n.makeTensorInfo([],"int32",p),g=(0,yy.Dg)({inputs:{a:m,b:c},backend:n}),v=(0,Mv.p)({inputs:{x:g},backend:n,attrs:{dtype:"float32"}}),y=(0,fy.Jp)({inputs:{a:v,b:i},backend:n}),x=py({inputs:{x:y},backend:n,attrs:{axis:0,keepDims:!1}});s.push(x),u.push(m),u.push(g),u.push(v),u.push(y),u.push(x)}var b=rb({inputs:s,backend:n,attrs:{axis:0}});return u.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),b}},Mw=0,Ew=[Xg,qg.fC,Kg,Jg,jg.j4,$g,tv,nv,rv,iv,ov,uv,cv,pv,gv,bv,wv,_v,Sv,Gg,Cv,Dv,Iv,Av,Mv.M,Ev.y2,Rv,Pv.z,Ov,Vv,Wv,Uv,Hv,Gv,Xv,qv,Kv,Jv,$v,ey,ty,ny,ry,ay,oy,sy,uy,ly,cy,dy,gy,Ig,vy,yy.Kx,Dy,Ty.SX,Ay,My.Vu,Zy,zy,Vy,jy.Ao,Hy,Gy,Xy,Yy,Qy,Jy.Ce,$y.V,Ag.I,ex,Zv,nx,ix,ox,Eg,sx.zh,ux.m3,cx,dx.xM,hx,gx,yx,wx,_x,Sx,Tx,Ix.eJ,Ax,Mx,Ex,Nx,Rx,Px,Ox,Lx.u0,Fx,zx,Ux,fy.f$,Hx.AF,Xx,Yx,Qx,Jx.nP,$x,nb,ib,ab,ub,Og,lb.Iz,db,Bv.O,Ry,hb,Fg,Bg,Ug,pb,mb,gb,vb,yb,xb,wb,_b.FY,Cb,Tb,Ib,Nb,zg.BP,Pb,Lb,Zb,kv.C6,Wx,Vb,jb,Ub,Gb,qb,Yb,Kb,Qb,Jb.cz,$b,nw,iw,ow,uw,cw,fw,Py.GR,my,pw,gw,yw,bw,ww,ev.b,Tw,Iw,Aw,tb];Mw<Ew.length;Mw++){var Nw=Ew[Mw];(0,M.wCN)(Nw)}var Rw=n(78832),Pw={"tfjs-core":M.jTM,"tfjs-backend-cpu":"3.18.0","tfjs-backend-webgl":Rw.version_webgl,"tfjs-data":_g,"tfjs-layers":vu,"tfjs-converter":am,tfjs:"3.18.0"}},28182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:function(){return i}})},93817:function(e,t,n){"use strict";var r=n(63038).default,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.EchartsComponent=void 0;var u=o(n(24741)),l=o(n(72791));t.EchartsComponent=function(e){var t=e.option,n=e.notMerge,i=e.lazyUpdate,a=e.replaceMerge,o=e.silent,c=e.transition,d=e.onInit,f=e.eventsHandler,h=void 0===f?{}:f,p=e.theme,m=e.opts,g=s(e,["option","notMerge","lazyUpdate","replaceMerge","silent","transition","onInit","eventsHandler","theme","opts"]),v=(0,l.useReducer)((function(){return!0}),!1),y=r(v,2),x=(y[0],y[1]);(0,l.useEffect)((function(){setTimeout((function(){return x()}),0)}));var b=(0,l.useRef)(null),w=(0,l.useRef)(null),_=(0,l.useRef)(null),S=(0,l.useRef)(null),C=void 0,k=null===b||void 0===b?void 0:b.current;if(null!==k){if(w.current!==p||_.current!==m){w.current=p,_.current=m,u.dispose(k);var D=u.init(k,p,m);"function"===typeof d&&d(D)}C=u.getInstanceByDom(k)}if(void 0!==C){if(void 0!==t&&C.setOption(t,{notMerge:n,lazyUpdate:i,replaceMerge:a,silent:o,transition:c}),S.current!==h)for(var T=0,I=Object.keys(S);T<I.length;T++){var A=I[T];C.off(A)}for(var M=0,E=Object.entries(h);M<E.length;M++){var N=r(E[M],2),R=N[0],P=N[1];C.on(R.toLowerCase(),P)}}return l.default.createElement("div",Object.assign({"data-testid":"EchartsComponent",ref:b},g))}},24741:function(e,t,n){"use strict";n.r(t),n.d(t,{Axis:function(){return i.RD},ChartView:function(){return i.TA},ComponentModel:function(){return i.tF},ComponentView:function(){return i.Ir},List:function(){return i.aV},Model:function(){return i.Hn},PRIORITY:function(){return i.Hr},SeriesModel:function(){return i.wJ},color:function(){return i.$_},connect:function(){return i.$j},dataTool:function(){return i.Ok},dependencies:function(){return i.HO},disConnect:function(){return i.eU},disconnect:function(){return i.zP},dispose:function(){return i.B9},env:function(){return i.OB},extendChartView:function(){return i.Zy},extendComponentModel:function(){return i.tv},extendComponentView:function(){return i.Sp},extendSeriesModel:function(){return i.Zr},format:function(){return i.WU},getCoordinateSystemDimensions:function(){return i.wL},getInstanceByDom:function(){return i.JE},getInstanceById:function(){return i.rp},getMap:function(){return i.FU},graphic:function(){return i.Q},helper:function(){return i._y},init:function(){return i.S1},innerDrawElementOnCanvas:function(){return i.z$},matrix:function(){return i.pI},number:function(){return i.Rx},parseGeoJSON:function(){return i.Nu},parseGeoJson:function(){return i.pQ},registerAction:function(){return i.zl},registerCoordinateSystem:function(){return i.RS},registerLayout:function(){return i.qR},registerLoading:function(){return i.yn},registerLocale:function(){return i.I2},registerMap:function(){return i.je},registerPostInit:function(){return i.sq},registerPostUpdate:function(){return i.Br},registerPreprocessor:function(){return i.ds},registerProcessor:function(){return i.Pu},registerTheme:function(){return i.aW},registerTransform:function(){return i.rV},registerUpdateLifecycle:function(){return i.YK},registerVisual:function(){return i.Og},setCanvasCreator:function(){return i.jQ},setPlatformAPI:function(){return i.g2},throttle:function(){return i.P2},time:function(){return i.XV},use:function(){return i.D$},util:function(){return i.D5},vector:function(){return i.xr},version:function(){return i.i8},zrUtil:function(){return i.gf},zrender:function(){return i.x_}});var r=n(44357),i=n(18257),a=n(9078),o=n(45162),s=n(44046),u=n(15849),l=n(39516),c=Math.sin,d=Math.cos,f=Math.PI,h=2*Math.PI,p=180/f,m=function(){function e(){}return e.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},e.prototype.moveTo=function(e,t){this._add("M",e,t)},e.prototype.lineTo=function(e,t){this._add("L",e,t)},e.prototype.bezierCurveTo=function(e,t,n,r,i,a){this._add("C",e,t,n,r,i,a)},e.prototype.quadraticCurveTo=function(e,t,n,r){this._add("Q",e,t,n,r)},e.prototype.arc=function(e,t,n,r,i,a){this.ellipse(e,t,n,n,0,r,i,a)},e.prototype.ellipse=function(e,t,n,r,i,o,s,u){var l=s-o,m=!u,g=Math.abs(l),v=(0,a.zT)(g-h)||(m?l>=h:-l>=h),y=l>0?l%h:l%h+h,x=!1;x=!!v||!(0,a.zT)(g)&&y>=f===!!m;var b=e+n*d(o),w=t+r*c(o);this._start&&this._add("M",b,w);var _=Math.round(i*p);if(v){var S=1/this._p,C=(m?1:-1)*(h-S);this._add("A",n,r,_,1,+m,e+n*d(o+C),t+r*c(o+C)),S>.01&&this._add("A",n,r,_,0,+m,b,w)}else{var k=e+n*d(s),D=t+r*c(s);this._add("A",n,r,_,+x,+m,k,D)}},e.prototype.rect=function(e,t,n,r){this._add("M",e,t),this._add("l",n,0),this._add("l",0,r),this._add("l",-n,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(e,t,n,r,i,a,o,s,u){for(var l=[],c=this._p,d=1;d<arguments.length;d++){var f=arguments[d];if(isNaN(f))return void(this._invalid=!0);l.push(Math.round(f*c)/c)}this._d.push(e+l.join(" ")),this._start="Z"===e},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e}(),g=m,v=n(50746),y=n(76884),x="none",b=Math.round;var w=["lineCap","miterLimit","lineJoin"],_=(0,y.map)(w,(function(e){return"stroke-"+e.toLowerCase()}));function S(e,t,n,r){var i=null==t.opacity?1:t.opacity;if(n instanceof s.ZP)e("opacity",i);else{if(function(e){var t=e.fill;return null!=t&&t!==x}(t)){var u=(0,a.ut)(t.fill);e("fill",u.color);var l=null!=t.fillOpacity?t.fillOpacity*u.opacity*i:u.opacity*i;(r||l<1)&&e("fill-opacity",l)}else e("fill",x);if(function(e){var t=e.stroke;return null!=t&&t!==x}(t)){var c=(0,a.ut)(t.stroke);e("stroke",c.color);var d=t.strokeNoScale?n.getLineScale():1,f=d?(t.lineWidth||0)/d:0,h=null!=t.strokeOpacity?t.strokeOpacity*c.opacity*i:c.opacity*i,p=t.strokeFirst;if((r||1!==f)&&e("stroke-width",f),(r||p)&&e("paint-order",p?"stroke":"fill"),(r||h<1)&&e("stroke-opacity",h),t.lineDash){var m=(0,v.a)(n),g=m[0],y=m[1];g&&(y=b(y||0),e("stroke-dasharray",g.join(",")),(y||r)&&e("stroke-dashoffset",y))}else r&&e("stroke-dasharray",x);for(var S=0;S<w.length;S++){var C=w[S];if(r||t[C]!==o.$t[C]){var k=t[C]||o.$t[C];k&&e(_[S],k)}}}else r&&e("stroke",x)}}var C="http://www.w3.org/2000/svg",k="http://www.w3.org/1999/xlink";function D(e){return document.createElementNS(C,e)}function T(e,t,n,r,i){return{tag:e,attrs:n||{},children:r,text:i,key:t}}function I(e,t){var n=(t=t||{}).newline?"\n":"";return function e(t){var r=t.children,i=t.tag;return function(e,t){var n=[];if(t)for(var r in t){var i=t[r],a=r;!1!==i&&(!0!==i&&null!=i&&(a+='="'+i+'"'),n.push(a))}return"<"+e+" "+n.join(" ")+">"}(i,t.attrs)+(t.text||"")+(r?""+n+(0,y.map)(r,(function(t){return e(t)})).join(n)+n:"")+("</"+i+">")}(e)}function A(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function M(e,t,n,r){return T("svg","root",{width:e,height:t,xmlns:C,"xmlns:xlink":k,version:"1.1",baseProfile:"full",viewBox:!!r&&"0 0 "+e+" "+t},n)}var E=n(78383),N=n(98773),R=n(13103),P=n(6748),O=n(77912),L={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},F="transform-origin";function Z(e,t,n){var r=(0,y.extend)({},e.shape);(0,y.extend)(r,t),e.buildPath(n,r);var i=new g;return i.reset((0,a.Gk)(e)),n.rebuildPath(i,1),i.generateStr(),i.getStr()}function B(e,t){var n=t.originX,r=t.originY;(n||r)&&(e[F]=n+"px "+r+"px")}var z={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function V(e,t){var n=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[n]=e,n}function j(e){return(0,y.isString)(e)?L[e]?"cubic-bezier("+L[e]+")":(0,O.H)(e)?e:"":""}function W(e,t,n,r){var i=e.animators,o=i.length,s=[];if(e instanceof P.Z){var u=function(e,t,n){var r,i,a=e.shape.paths,o={};if((0,y.each)(a,(function(e){var t=A(n.zrId);t.animation=!0,W(e,{},t,!0);var a=t.cssAnims,s=t.cssNodes,u=(0,y.keys)(a),l=u.length;if(l){var c=a[i=u[l-1]];for(var d in c){var f=c[d];o[d]=o[d]||{d:""},o[d].d+=f.d||""}for(var h in s){var p=s[h].animation;p.indexOf(i)>=0&&(r=p)}}})),r){t.d=!1;var s=V(o,n);return r.replace(i,s)}}(e,t,n);if(u)s.push(u);else if(!o)return}else if(!o)return;for(var l={},c=0;c<o;c++){var d=i[c],f=[d.getMaxTime()/1e3+"s"],h=j(d.getClip().easing),p=d.getDelay();h?f.push(h):f.push("linear"),p&&f.push(p/1e3+"s"),d.getLoop()&&f.push("infinite");var m=f.join(" ");l[m]=l[m]||[m,[]],l[m][1].push(d)}function g(i){var o,s=i[1],u=s.length,l={},c={},d={};function f(e,t,n){for(var r=e.getTracks(),i=e.getMaxTime(),a=0;a<r.length;a++){var o=r[a];if(o.needsAnimate()){var s=o.keyframes,u=o.propName;if(n&&(u=n(u)),u)for(var l=0;l<s.length;l++){var c=s[l],d=Math.round(c.time/i*100)+"%",f=j(c.easing),h=c.rawValue;((0,y.isString)(h)||(0,y.isNumber)(h))&&(t[d]=t[d]||{},t[d][u]=c.rawValue,f&&(t[d]["animation-timing-function"]=f))}}}}for(var h=0;h<u;h++){(C=(S=s[h]).targetName)?"shape"===C&&f(S,c):!r&&f(S,l)}for(var p in l){var m={};(0,N.kY)(m,e),(0,y.extend)(m,l[p]);var g=(0,a.gA)(m),v=l[p]["animation-timing-function"];d[p]=g?{transform:g}:{},B(d[p],m),v&&(d[p]["animation-timing-function"]=v)}var x=!0;for(var p in c){d[p]=d[p]||{};var b=!o;v=c[p]["animation-timing-function"];b&&(o=new R.Z);var w=o.len();o.reset(),d[p].d=Z(e,c[p],o);var _=o.len();if(!b&&w!==_){x=!1;break}v&&(d[p]["animation-timing-function"]=v)}if(!x)for(var p in d)delete d[p].d;if(!r)for(h=0;h<u;h++){var S,C;"style"===(C=(S=s[h]).targetName)&&f(S,d,(function(e){return z[e]}))}var k,D=(0,y.keys)(d),T=!0;for(h=1;h<D.length;h++){var I=D[h-1],A=D[h];if(d[I][F]!==d[A][F]){T=!1;break}k=d[I][F]}if(T&&k){for(var p in d)d[p][F]&&delete d[p][F];t[F]=k}if((0,y.filter)(D,(function(e){return(0,y.keys)(d[e]).length>0})).length)return V(d,n)+" "+i[0]+" both"}for(var v in l){(u=g(l[v]))&&s.push(u)}if(s.length){var x=n.zrId+"-cls-"+n.cssClassIdx++;n.cssNodes["."+x]={animation:s.join(",")},t.class=x}}var U=n(56114),H=n(29315),G=Math.round;function X(e){return e&&(0,y.isString)(e.src)}function q(e){return e&&(0,y.isFunction)(e.toDataURL)}function Y(e,t,n,r){S((function(i,o){var s="fill"===i||"stroke"===i;s&&(0,a.H3)(o)?function(e,t,n,r){var i,o=e[n],s={gradientUnits:o.global?"userSpaceOnUse":"objectBoundingBox"};if((0,a.I1)(o))i="linearGradient",s.x1=o.x,s.y1=o.y,s.x2=o.x2,s.y2=o.y2;else{if(!(0,a.gO)(o))return void 0;i="radialGradient",s.cx=(0,y.retrieve2)(o.x,.5),s.cy=(0,y.retrieve2)(o.y,.5),s.r=(0,y.retrieve2)(o.r,.5)}for(var u=o.colorStops,l=[],c=0,d=u.length;c<d;++c){var f=100*(0,a.Pn)(u[c].offset)+"%",h=u[c].color,p=(0,a.ut)(h),m=p.color,g=p.opacity,v={offset:f};v["stop-color"]=m,g<1&&(v["stop-opacity"]=g),l.push(T("stop",c+"",v))}var x=I(T(i,"",s,l)),b=r.gradientCache,w=b[x];w||(w=r.zrId+"-g"+r.gradientIdx++,b[x]=w,s.id=w,r.defs[w]=T(i,w,s,l));t[n]=(0,a.m1)(w)}(t,e,i,r):s&&(0,a.R)(o)?function(e,t,n,r){var i,o=e.style[n],s={patternUnits:"userSpaceOnUse"};if((0,a.Cv)(o)){var u=o.imageWidth,l=o.imageHeight,c=void 0,d=o.image;if((0,y.isString)(d)?c=d:X(d)?c=d.src:q(d)&&(c=d.toDataURL()),"undefined"===typeof Image){var f="Image width/height must been given explictly in svg-ssr renderer.";(0,y.assert)(u,f),(0,y.assert)(l,f)}else if(null==u||null==l){var h=function(e,t){if(e){var n=e.elm,r=e.attrs.width=u||t.width,i=e.attrs.height=l||t.height;n&&(n.setAttribute("width",r),n.setAttribute("height",i))}},p=(0,E.Gq)(c,null,e,(function(e){h(m,e),h(i,e)}));p&&p.width&&p.height&&(u=u||p.width,l=l||p.height)}i=T("image","img",{href:c,width:u,height:l}),s.width=u,s.height=l}else o.svgElement&&(i=(0,y.clone)(o.svgElement),s.width=o.svgWidth,s.height=o.svgHeight);if(!i)return;s.patternTransform=(0,a.gA)(o);var m=T("pattern","",s,[i]),g=I(m),v=r.patternCache,x=v[g];x||(x=r.zrId+"-p"+r.patternIdx++,v[g]=x,s.id=x,m=r.defs[x]=T("pattern",x,s,[i]));t[n]=(0,a.m1)(x)}(n,e,i,r):e[i]=o}),t,n,!1),function(e,t,n){var r=e.style;if((0,a.i2)(r)){var i=(0,a.n1)(e),o=n.shadowCache,s=o[i];if(!s){var u=e.getGlobalScale(),l=u[0],c=u[1];if(!l||!c)return;var d=r.shadowOffsetX||0,f=r.shadowOffsetY||0,h=r.shadowBlur,p=(0,a.ut)(r.shadowColor),m=p.opacity,g=p.color,v=h/2/l+" "+h/2/c;s=n.zrId+"-s"+n.shadowIdx++,n.defs[s]=T("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[T("feDropShadow","",{dx:d/l,dy:f/c,stdDeviation:v,"flood-color":g,"flood-opacity":m})]),o[i]=s}t.filter=(0,a.m1)(s)}}(n,e,r)}function K(e){return(0,a.zT)(e[0]-1)&&(0,a.zT)(e[1])&&(0,a.zT)(e[2])&&(0,a.zT)(e[3]-1)}function Q(e,t,n){if(t&&(!function(e){return(0,a.zT)(e[4])&&(0,a.zT)(e[5])}(t)||!K(t))){var r=n?10:1e4;e.transform=K(t)?"translate("+G(t[4]*r)/r+" "+G(t[5]*r)/r+")":(0,a.qV)(t)}}function J(e,t,n){for(var r=e.points,i=[],a=0;a<r.length;a++)i.push(G(r[a][0]*n)/n),i.push(G(r[a][1]*n)/n);t.points=i.join(" ")}function $(e){return!e.smooth}var ee={circle:[function(e){var t=(0,y.map)(e,(function(e){return"string"===typeof e?[e,e]:e}));return function(e,n,r){for(var i=0;i<t.length;i++){var a=t[i],o=e[a[0]];null!=o&&(n[a[1]]=G(o*r)/r)}}}(["cx","cy","r"])],polyline:[J,$],polygon:[J,$]};function te(e,t){var n=e.style,r=e.shape,i=ee[e.type],o={},s=t.animation,u="path",l=e.style.strokePercent,c=t.compress&&(0,a.Gk)(e)||4;if(!i||t.willUpdate||i[1]&&!i[1](r)||s&&function(e){for(var t=e.animators,n=0;n<t.length;n++)if("shape"===t[n].targetName)return!0;return!1}(e)||l<1){e.path||e.createPathProxy();var d=e.path;e.shapeChanged()&&(d.beginPath(),e.buildPath(d,e.shape),e.pathUpdated());var f=d.getVersion(),h=e,p=h.__svgPathBuilder;h.__svgPathVersion===f&&p&&l===h.__svgPathStrokePercent||(p||(p=h.__svgPathBuilder=new g),p.reset(c),d.rebuildPath(p,l),p.generateStr(),h.__svgPathVersion=f,h.__svgPathStrokePercent=l),o.d=p.getStr()}else{u=e.type;var m=Math.pow(10,c);i[0](r,o,m)}return Q(o,e.transform),Y(o,n,e,t),t.animation&&W(e,o,t),T(u,e.id+"",o)}function ne(e,t){return e instanceof o.ZP?te(e,t):e instanceof s.ZP?function(e,t){var n=e.style,r=n.image;if(r&&!(0,y.isString)(r)&&(X(r)?r=r.src:q(r)&&(r=r.toDataURL())),r){var i=n.x||0,a=n.y||0,o={href:r,width:n.width,height:n.height};return i&&(o.x=i),a&&(o.y=a),Q(o,e.transform),Y(o,n,e,t),t.animation&&W(e,o,t),T("image",e.id+"",o)}}(e,t):e instanceof l.Z?function(e,t){var n=e.style,r=n.text;if(null!=r&&(r+=""),r&&!isNaN(n.x)&&!isNaN(n.y)){var i=n.font||H.Uo,o=n.x||0,s=(0,a.mU)(n.y||0,(0,u.Dp)(i),n.textBaseline),l={"dominant-baseline":"central","text-anchor":a.jY[n.textAlign]||n.textAlign};if((0,U.Y1)(n)){var c="",d=n.fontStyle,f=(0,U.VG)(n.fontSize);if(!parseFloat(f))return;var h=n.fontFamily||H.rk,p=n.fontWeight;c+="font-size:"+f+";font-family:"+h+";",d&&"normal"!==d&&(c+="font-style:"+d+";"),p&&"normal"!==p&&(c+="font-weight:"+p+";"),l.style=c}else l.style="font: "+i;return r.match(/\s/)&&(l["xml:space"]="preserve"),o&&(l.x=o),s&&(l.y=s),Q(l,e.transform),Y(l,n,e,t),t.animation&&W(e,l,t),T("text",e.id+"",l,void 0,r)}}(e,t):void 0}function re(e,t,n){var r=n.clipPathCache,i=n.defs,o=r[e.id];if(!o){var s={id:o=n.zrId+"-c"+n.clipPathIdx++};r[e.id]=o,i[o]=T("clipPath",o,s,[te(e,n)])}t["clip-path"]=(0,a.m1)(o)}function ie(e){return document.createTextNode(e)}function ae(e,t,n){e.insertBefore(t,n)}function oe(e,t){e.removeChild(t)}function se(e,t){e.appendChild(t)}function ue(e){return e.parentNode}function le(e){return e.nextSibling}function ce(e,t){e.textContent=t}var de=T("","");function fe(e){return void 0===e}function he(e){return void 0!==e}function pe(e,t,n){for(var r={},i=t;i<=n;++i){var a=e[i].key;void 0!==a&&(r[a]=i)}return r}function me(e,t){var n=e.key===t.key;return e.tag===t.tag&&n}function ge(e){var t,n=e.children,r=e.tag;if(he(r)){var i=e.elm=D(r);if(xe(de,e),(0,y.isArray)(n))for(t=0;t<n.length;++t){var a=n[t];null!=a&&se(i,ge(a))}else he(e.text)&&!(0,y.isObject)(e.text)&&se(i,ie(e.text))}else e.elm=ie(e.text);return e.elm}function ve(e,t,n,r,i){for(;r<=i;++r){var a=n[r];null!=a&&ae(e,ge(a),t)}}function ye(e,t,n,r){for(;n<=r;++n){var i=t[n];if(null!=i)if(he(i.tag))oe(ue(i.elm),i.elm);else oe(e,i.elm)}}function xe(e,t){var n,r=t.elm,i=e&&e.attrs||{},a=t.attrs||{};if(i!==a){for(n in a){var o=a[n];i[n]!==o&&(!0===o?r.setAttribute(n,""):!1===o?r.removeAttribute(n):120!==n.charCodeAt(0)?r.setAttribute(n,o):"xmlns:xlink"===n||"xmlns"===n?r.setAttributeNS("http://www.w3.org/2000/xmlns/",n,o):58===n.charCodeAt(3)?r.setAttributeNS("http://www.w3.org/XML/1998/namespace",n,o):58===n.charCodeAt(5)?r.setAttributeNS(k,n,o):r.setAttribute(n,o))}for(n in i)n in a||r.removeAttribute(n)}}function be(e,t){var n=t.elm=e.elm,r=e.children,i=t.children;e!==t&&(xe(e,t),fe(t.text)?he(r)&&he(i)?r!==i&&function(e,t,n){for(var r,i,a,o=0,s=0,u=t.length-1,l=t[0],c=t[u],d=n.length-1,f=n[0],h=n[d];o<=u&&s<=d;)null==l?l=t[++o]:null==c?c=t[--u]:null==f?f=n[++s]:null==h?h=n[--d]:me(l,f)?(be(l,f),l=t[++o],f=n[++s]):me(c,h)?(be(c,h),c=t[--u],h=n[--d]):me(l,h)?(be(l,h),ae(e,l.elm,le(c.elm)),l=t[++o],h=n[--d]):me(c,f)?(be(c,f),ae(e,c.elm,l.elm),c=t[--u],f=n[++s]):(fe(r)&&(r=pe(t,o,u)),fe(i=r[f.key])||(a=t[i]).tag!==f.tag?ae(e,ge(f),l.elm):(be(a,f),t[i]=void 0,ae(e,a.elm,l.elm)),f=n[++s]);(o<=u||s<=d)&&(o>u?ve(e,null==n[d+1]?null:n[d+1].elm,n,s,d):ye(e,t,o,u))}(n,r,i):he(i)?(he(e.text)&&ce(n,""),ve(n,null,i,0,i.length-1)):he(r)?ye(n,r,0,r.length-1):he(e.text)&&ce(n,""):e.text!==t.text&&(he(r)&&ye(n,r,0,r.length-1),ce(n,t.text)))}var we=n(93297),_e=0,Se=function(){function e(e,t,n){if(this.type="svg",this.refreshHover=function(){0},this.configLayer=function(){0},this.storage=t,this._opts=n=(0,y.extend)({},n),this.root=e,this._id="zr"+_e++,this._oldVNode=M(n.width,n.height),e&&!n.ssr){var r=this._viewport=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var i=this._svgDom=this._oldVNode.elm=D("svg");xe(null,this._oldVNode),r.appendChild(i),e.appendChild(r)}this.resize(n.width,n.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",function(e,t){if(me(e,t))be(e,t);else{var n=e.elm,r=ue(n);ge(t),null!==r&&(ae(r,t.elm,le(n)),ye(r,[e],0,0))}}(this._oldVNode,e),this._oldVNode=e}},e.prototype.renderOneToVNode=function(e){return ne(e,A(this._id))},e.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),n=this._backgroundColor,r=this._width,i=this._height,o=A(this._id);o.animation=e.animation,o.willUpdate=e.willUpdate,o.compress=e.compress;var s=[];if(n&&"none"!==n){var u=(0,a.ut)(n),l=u.color,c=u.opacity;this._bgVNode=T("rect","bg",{width:r,height:i,x:"0",y:"0",id:"0",fill:l,"fill-opacity":c}),s.push(this._bgVNode)}else this._bgVNode=null;var d=e.compress?null:this._mainVNode=T("g","main",{},[]);this._paintList(t,o,d?d.children:s),d&&s.push(d);var f=(0,y.map)((0,y.keys)(o.defs),(function(e){return o.defs[e]}));if(f.length&&s.push(T("defs","defs",{},f)),e.animation){var h=function(e,t,n){var r=(n=n||{}).newline?"\n":"",i=" {"+r,a=r+"}",o=(0,y.map)((0,y.keys)(e),(function(t){return t+i+(0,y.map)((0,y.keys)(e[t]),(function(n){return n+":"+e[t][n]+";"})).join(r)+a})).join(r),s=(0,y.map)((0,y.keys)(t),(function(e){return"@keyframes "+e+i+(0,y.map)((0,y.keys)(t[e]),(function(n){return n+i+(0,y.map)((0,y.keys)(t[e][n]),(function(r){var i=t[e][n][r];return"d"===r&&(i='path("'+i+'")'),r+":"+i+";"})).join(r)+a})).join(r)+a})).join(r);return o||s?["<![CDATA[",o,s,"]]>"].join(r):""}(o.cssNodes,o.cssAnims,{newline:!0});if(h){var p=T("style","stl",{},[],h);s.push(p)}}return M(r,i,s,e.useViewBox)},e.prototype.renderToString=function(e){return e=e||{},I(this.renderToVNode({animation:(0,y.retrieve2)(e.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:(0,y.retrieve2)(e.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(e){this._backgroundColor=e;var t=this._bgVNode;if(t&&t.elm){var n=(0,a.ut)(e),r=n.color,i=n.opacity;t.elm.setAttribute("fill",r),i<1&&t.elm.setAttribute("fill-opacity",i)}},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(e,t,n){for(var r,i,a=e.length,o=[],s=0,u=0,l=0;l<a;l++){var c=e[l];if(!c.invisible){var d=c.__clipPaths,f=d&&d.length||0,h=i&&i.length||0,p=void 0;for(p=Math.max(f-1,h-1);p>=0&&(!d||!i||d[p]!==i[p]);p--);for(var m=h-1;m>p;m--)r=o[--s-1];for(var g=p+1;g<f;g++){var v={};re(d[g],v,t);var y=T("g","clip-g-"+u++,v,[]);(r?r.children:n).push(y),o[s++]=y,r=y}i=d;var x=ne(c,t);x&&(r?r.children:n).push(x)}}},e.prototype.resize=function(e,t){var n=this._opts,r=this.root,i=this._viewport;if(null!=e&&(n.width=e),null!=t&&(n.height=t),r&&i&&(i.style.display="none",e=(0,we.ap)(r,0,n),t=(0,we.ap)(r,1,n),i.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,i){var a=i.style;a.width=e+"px",a.height=t+"px"}var o=this._svgDom;o&&(o.setAttribute("width",e),o.setAttribute("height",t))}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(e){var t=encodeURIComponent(this.renderToString()),n="data:image/svg+xml;";return e?(t=(0,a.oF)(t))&&n+"base64,"+t:n+"charset=UTF-8,"+t},e}();var Ce=Se;var ke=n(48127),De=n(48609),Te=n(96106),Ie=n(80654),Ae=n(12438),Me=n(94060),Ee=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return(0,De.ZT)(t,e),t.prototype.getInitialData=function(e){return(0,Te.Z)(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var t=new Me.Z,n=(0,Ae.th)("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);t.add(n),n.setStyle(e.lineStyle);var r=this.getData().getVisual("symbol"),i=this.getData().getVisual("symbolRotate"),a="none"===r?"circle":r,o=.8*e.itemHeight,s=(0,Ae.th)(a,(e.itemWidth-o)/2,(e.itemHeight-o)/2,o,o,e.itemStyle.fill);t.add(s),s.setStyle(e.itemStyle);var u="inherit"===e.iconRotate?i:e.iconRotate||0;return s.rotation=u*Math.PI/180,s.setOrigin([e.itemWidth/2,e.itemHeight/2]),a.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill="#fff",s.style.lineWidth=2),t},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(Ie.Z),Ne=Ee,Re=n(26871),Pe=n(33187),Oe=n(37890),Le=n(60886),Fe=n(24305);function Ze(e,t){var n=e.mapDimensionsAll("defaultedLabel"),r=n.length;if(1===r){var i=(0,Fe.hk)(e,t,n[0]);return null!=i?i+"":null}if(r){for(var a=[],o=0;o<n.length;o++)a.push((0,Fe.hk)(e,t,n[o]));return a.join(" ")}}function Be(e,t){var n=e.mapDimensionsAll("defaultedLabel");if(!(0,y.isArray)(t))return t+"";for(var r=[],i=0;i<n.length;i++){var a=e.getDimensionIndex(n[i]);a>=0&&r.push(t[a])}return r.join(" ")}var ze=n(8943);function Ve(e,t){this.parent.drift(e,t)}var je=function(e){function t(t,n,r,i){var a=e.call(this)||this;return a.updateData(t,n,r,i),a}return(0,De.ZT)(t,e),t.prototype._createSymbol=function(e,t,n,r,i){this.removeAll();var a=(0,Ae.th)(e,-1,-1,2,2,null,i);a.attr({z2:100,culling:!0,scaleX:r[0]/2,scaleY:r[1]/2}),a.drift=Ve,this._symbolType=e,this.add(a)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){(0,Le.fD)(this.childAt(0))},t.prototype.downplay=function(){(0,Le.Mh)(this.childAt(0))},t.prototype.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},t.prototype.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":t.cursor},t.prototype.updateData=function(e,n,r,i){this.silent=!1;var a=e.getItemVisual(n,"symbol")||"circle",o=e.hostModel,s=t.getSymbolSize(e,n),u=a!==this._symbolType,l=i&&i.disableAnimation;if(u){var c=e.getItemVisual(n,"symbolKeepAspect");this._createSymbol(a,e,n,s,c)}else{(f=this.childAt(0)).silent=!1;var d={scaleX:s[0]/2,scaleY:s[1]/2};l?f.attr(d):Pe.D(f,d,o,n),(0,Pe.Zi)(f)}if(this._updateCommon(e,n,s,r,i),u){var f=this.childAt(0);if(!l){d={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,Pe.KZ(f,d,o,n)}}l&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,t,n,r,i){var a,o,u,l,c,d,f,h,p,m=this.childAt(0),g=e.hostModel;if(r&&(a=r.emphasisItemStyle,o=r.blurItemStyle,u=r.selectItemStyle,l=r.focus,c=r.blurScope,f=r.labelStatesModels,h=r.hoverScale,p=r.cursorStyle,d=r.emphasisDisabled),!r||e.hasItemOption){var v=r&&r.itemModel?r.itemModel:e.getItemModel(t),x=v.getModel("emphasis");a=x.getModel("itemStyle").getItemStyle(),u=v.getModel(["select","itemStyle"]).getItemStyle(),o=v.getModel(["blur","itemStyle"]).getItemStyle(),l=x.get("focus"),c=x.get("blurScope"),d=x.get("disabled"),f=(0,ze.k3)(v),h=x.getShallow("scale"),p=v.getShallow("cursor")}var b=e.getItemVisual(t,"symbolRotate");m.attr("rotation",(b||0)*Math.PI/180||0);var w=(0,Ae.Cq)(e.getItemVisual(t,"symbolOffset"),n);w&&(m.x=w[0],m.y=w[1]),p&&m.attr("cursor",p);var _=e.getItemVisual(t,"style"),S=_.fill;if(m instanceof s.ZP){var C=m.style;m.useStyle((0,y.extend)({image:C.image,x:C.x,y:C.y,width:C.width,height:C.height},_))}else m.__isEmptyBrush?m.useStyle((0,y.extend)({},_)):m.useStyle(_),m.style.decal=null,m.setColor(S,i&&i.symbolInnerColor),m.style.strokeNoScale=!0;var k=e.getItemVisual(t,"liftZ"),D=this._z2;null!=k?null==D&&(this._z2=m.z2,m.z2+=k):null!=D&&(m.z2=D,this._z2=null);var T=i&&i.useNameLabel;(0,ze.ni)(m,f,{labelFetcher:g,labelDataIndex:t,defaultText:function(t){return T?e.getName(t):Ze(e,t)},inheritColor:S,defaultOpacity:_.opacity}),this._sizeX=n[0]/2,this._sizeY=n[1]/2;var I=m.ensureState("emphasis");if(I.style=a,m.ensureState("select").style=u,m.ensureState("blur").style=o,h){var A=Math.max((0,y.isNumber)(h)?h:1.1,3/this._sizeY);I.scaleX=this._sizeX*A,I.scaleY=this._sizeY*A}this.setSymbolScale(1),(0,Le.k5)(this,l,c,d)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,t,n){var r=this.childAt(0),i=(0,Oe.A)(this).dataIndex,a=n&&n.animation;if(this.silent=r.silent=!0,n&&n.fadeLabel){var o=r.getTextContent();o&&Pe.bX(o,{style:{opacity:0}},t,{dataIndex:i,removeOpt:a,cb:function(){r.removeTextContent()}})}else r.removeTextContent();Pe.bX(r,{style:{opacity:0},scaleX:0,scaleY:0},t,{dataIndex:i,cb:e,removeOpt:a})},t.getSymbolSize=function(e,t){return(0,Ae.zp)(e.getItemVisual(t,"symbolSize"))},t}(Me.Z);function We(e,t,n,r){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(n,"symbol")}function Ue(e){return null==e||(0,y.isObject)(e)||(e={isIgnore:e}),e||{}}function He(e){var t=e.hostModel,n=t.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:(0,ze.k3)(t),cursorStyle:t.get("cursor")}}var Ge=function(){function e(e){this.group=new Me.Z,this._SymbolCtor=e||je}return e.prototype.updateData=function(e,t){this._progressiveEls=null,t=Ue(t);var n=this.group,r=e.hostModel,i=this._data,a=this._SymbolCtor,o=t.disableAnimation,s=He(e),u={disableAnimation:o},l=t.getSymbolPoint||function(t){return e.getItemLayout(t)};i||n.removeAll(),e.diff(i).add((function(r){var i=l(r);if(We(e,i,r,t)){var o=new a(e,r,s,u);o.setPosition(i),e.setItemGraphicEl(r,o),n.add(o)}})).update((function(c,d){var f=i.getItemGraphicEl(d),h=l(c);if(We(e,h,c,t)){var p=e.getItemVisual(c,"symbol")||"circle",m=f&&f.getSymbolType&&f.getSymbolType();if(!f||m&&m!==p)n.remove(f),(f=new a(e,c,s,u)).setPosition(h);else{f.updateData(e,c,s,u);var g={x:h[0],y:h[1]};o?f.attr(g):Pe.D(f,g,r)}n.add(f),e.setItemGraphicEl(c,f)}else n.remove(f)})).remove((function(e){var t=i.getItemGraphicEl(e);t&&t.fadeOut((function(){n.remove(t)}),r)})).execute(),this._getSymbolPoint=l,this._data=e},e.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl((function(t,n){var r=e._getSymbolPoint(n);t.setPosition(r),t.markRedraw()}))},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=He(e),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t,n){function r(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],n=Ue(n);for(var i=e.start;i<e.end;i++){var a=t.getItemLayout(i);if(We(t,a,i,n)){var o=new this._SymbolCtor(t,i,this._seriesScope);o.traverse(r),o.setPosition(a),this.group.add(o),t.setItemGraphicEl(i,o),this._progressiveEls.push(o)}}},e.prototype.eachRendered=function(e){Re.traverseElements(this._progressiveEls||this.group,e)},e.prototype.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl((function(e){e.fadeOut((function(){t.remove(e)}),n.hostModel)})):t.removeAll()},e}(),Xe=n(84239);function qe(e,t,n){var r=e.getBaseAxis(),i=e.getOtherAxis(r),a=function(e,t){var n=0,r=e.scale.getExtent();"start"===t?n=r[0]:"end"===t?n=r[1]:(0,y.isNumber)(t)&&!isNaN(t)?n=t:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]);return n}(i,n),o=r.dim,s=i.dim,u=t.mapDimension(s),l=t.mapDimension(o),c="x"===s||"radius"===s?1:0,d=(0,y.map)(e.dimensions,(function(e){return t.mapDimension(e)})),f=!1,h=t.getCalculationInfo("stackResultDimension");return(0,Xe.M)(t,d[0])&&(f=!0,d[0]=h),(0,Xe.M)(t,d[1])&&(f=!0,d[1]=h),{dataDimsForPoint:d,valueStart:a,valueAxisDim:s,baseAxisDim:o,stacked:!!f,valueDim:u,baseDim:l,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function Ye(e,t,n,r){var i=NaN;e.stacked&&(i=n.get(n.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=e.valueStart);var a=e.baseDataOffset,o=[];return o[a]=n.get(e.baseDim,r),o[1-a]=i,t.dataToPoint(o)}var Ke=n(68117);var Qe=n(65737),Je=n(71169),$e=n(46529),et=Math.min,tt=Math.max;function nt(e,t){return isNaN(e)||isNaN(t)}function rt(e,t,n,r,i,a,o,s,u){for(var l,c,d,f,h,p,m=n,g=0;g<r;g++){var v=t[2*m],y=t[2*m+1];if(m>=i||m<0)break;if(nt(v,y)){if(u){m+=a;continue}break}if(m===n)e[a>0?"moveTo":"lineTo"](v,y),d=v,f=y;else{var x=v-l,b=y-c;if(x*x+b*b<.5){m+=a;continue}if(o>0){for(var w=m+a,_=t[2*w],S=t[2*w+1];_===v&&S===y&&g<r;)g++,m+=a,_=t[2*(w+=a)],S=t[2*w+1],x=(v=t[2*m])-l,b=(y=t[2*m+1])-c;var C=g+1;if(u)for(;nt(_,S)&&C<r;)C++,_=t[2*(w+=a)],S=t[2*w+1];var k=.5,D=0,T=0,I=void 0,A=void 0;if(C>=r||nt(_,S))h=v,p=y;else{D=_-l,T=S-c;var M=v-l,E=_-v,N=y-c,R=S-y,P=void 0,O=void 0;if("x"===s){var L=D>0?1:-1;h=v-L*(P=Math.abs(M))*o,p=y,I=v+L*(O=Math.abs(E))*o,A=y}else if("y"===s){var F=T>0?1:-1;h=v,p=y-F*(P=Math.abs(N))*o,I=v,A=y+F*(O=Math.abs(R))*o}else P=Math.sqrt(M*M+N*N),h=v-D*o*(1-(k=(O=Math.sqrt(E*E+R*R))/(O+P))),p=y-T*o*(1-k),A=y+T*o*k,I=et(I=v+D*o*k,tt(_,v)),A=et(A,tt(S,y)),I=tt(I,et(_,v)),p=y-(T=(A=tt(A,et(S,y)))-y)*P/O,h=et(h=v-(D=I-v)*P/O,tt(l,v)),p=et(p,tt(c,y)),I=v+(D=v-(h=tt(h,et(l,v))))*O/P,A=y+(T=y-(p=tt(p,et(c,y))))*O/P}e.bezierCurveTo(d,f,h,p,v,y),d=I,f=A}else e.lineTo(v,y)}l=v,c=y,m+=a}return g}var it=function(){this.smooth=0,this.smoothConstraint=!0},at=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-polyline",n}return(0,De.ZT)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new it},t.prototype.buildPath=function(e,t){var n=t.points,r=0,i=n.length/2;if(t.connectNulls){for(;i>0&&nt(n[2*i-2],n[2*i-1]);i--);for(;r<i&&nt(n[2*r],n[2*r+1]);r++);}for(;r<i;)r+=rt(e,n,r,i,i,1,t.smooth,t.smoothMonotone,t.connectNulls)+1},t.prototype.getPointOn=function(e,t){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,r,i=this.path.data,a=R.Z.CMD,o="x"===t,s=[],u=0;u<i.length;){var l=void 0,c=void 0,d=void 0,f=void 0,h=void 0,p=void 0,m=void 0;switch(i[u++]){case a.M:n=i[u++],r=i[u++];break;case a.L:if(l=i[u++],c=i[u++],(m=o?(e-n)/(l-n):(e-r)/(c-r))<=1&&m>=0){var g=o?(c-r)*m+r:(l-n)*m+n;return o?[e,g]:[g,e]}n=l,r=c;break;case a.C:l=i[u++],c=i[u++],d=i[u++],f=i[u++],h=i[u++],p=i[u++];var v=o?(0,$e.kD)(n,l,d,h,e,s):(0,$e.kD)(r,c,f,p,e,s);if(v>0)for(var y=0;y<v;y++){var x=s[y];if(x<=1&&x>=0){g=o?(0,$e.af)(r,c,f,p,x):(0,$e.af)(n,l,d,h,x);return o?[e,g]:[g,e]}}n=h,r=p}}},t}(o.ZP),ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,De.ZT)(t,e),t}(it),st=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-polygon",n}return(0,De.ZT)(t,e),t.prototype.getDefaultShape=function(){return new ot},t.prototype.buildPath=function(e,t){var n=t.points,r=t.stackedOnPoints,i=0,a=n.length/2,o=t.smoothMonotone;if(t.connectNulls){for(;a>0&&nt(n[2*a-2],n[2*a-1]);a--);for(;i<a&&nt(n[2*i],n[2*i+1]);i++);}for(;i<a;){var s=rt(e,n,i,a,a,1,t.smooth,o,t.connectNulls);rt(e,r,i+s-1,s,a,-1,t.stackedOnSmooth,o,t.connectNulls),i+=s+1,e.closePath()}},t}(o.ZP),ut=n(52037),lt=n(60595),ct=n(45941),dt=n(11671);function ft(e,t,n,r,i){var a=e.getArea(),o=a.x,s=a.y,u=a.width,l=a.height,c=n.get(["lineStyle","width"])||2;o-=c/2,s-=c/2,u+=c,l+=c,o=Math.floor(o),u=Math.round(u);var d=new lt.Z({shape:{x:o,y:s,width:u,height:l}});if(t){var f=e.getBaseAxis(),h=f.isHorizontal(),p=f.inverse;h?(p&&(d.shape.x+=u),d.shape.width=0):(p||(d.shape.y+=l),d.shape.height=0);var m=(0,y.isFunction)(i)?function(e){i(e,d)}:null;Pe.KZ(d,{shape:{width:u,height:l,x:o,y:s}},n,null,r,m)}return d}function ht(e,t,n){var r=e.getArea(),i=(0,dt.NM)(r.r0,1),a=(0,dt.NM)(r.r,1),o=new ct.C({shape:{cx:(0,dt.NM)(e.cx,1),cy:(0,dt.NM)(e.cy,1),r0:i,r:a,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});t&&("angle"===e.getBaseAxis().dim?o.shape.endAngle=r.startAngle:o.shape.r=i,Pe.KZ(o,{shape:{endAngle:r.endAngle,r:a}},n));return o}function pt(e,t,n,r,i){return e?"polar"===e.type?ht(e,t,n):"cartesian2d"===e.type?ft(e,t,n,r,i):null:null}function mt(e,t){return e.type===t}var gt=n(51186),vt=n(35561);function yt(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return;return!0}}function xt(e){for(var t=1/0,n=1/0,r=-1/0,i=-1/0,a=0;a<e.length;){var o=e[a++],s=e[a++];isNaN(o)||(t=Math.min(o,t),r=Math.max(o,r)),isNaN(s)||(n=Math.min(s,n),i=Math.max(s,i))}return[[t,n],[r,i]]}function bt(e,t){var n=xt(e),r=n[0],i=n[1],a=xt(t),o=a[0],s=a[1];return Math.max(Math.abs(r[0]-o[0]),Math.abs(r[1]-o[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function wt(e){return y.isNumber(e)?e:e?.5:0}function _t(e,t,n,r){var i=t.getBaseAxis(),a="x"===i.dim||"radius"===i.dim?0:1,o=[],s=0,u=[],l=[],c=[],d=[];if(r){for(s=0;s<e.length;s+=2)isNaN(e[s])||isNaN(e[s+1])||d.push(e[s],e[s+1]);e=d}for(s=0;s<e.length-2;s+=2)switch(c[0]=e[s+2],c[1]=e[s+3],l[0]=e[s],l[1]=e[s+1],o.push(l[0],l[1]),n){case"end":u[a]=c[a],u[1-a]=l[1-a],o.push(u[0],u[1]);break;case"middle":var f=(l[a]+c[a])/2,h=[];u[a]=h[a]=f,u[1-a]=l[1-a],h[1-a]=c[1-a],o.push(u[0],u[1]),o.push(h[0],h[1]);break;default:u[a]=l[a],u[1-a]=c[1-a],o.push(u[0],u[1])}return o.push(e[s++],e[s++]),o}function St(e,t,n){var r=e.getVisual("visualMeta");if(r&&r.length&&e.count()&&"cartesian2d"===t.type){for(var i,a,o=r.length-1;o>=0;o--){var s=e.getDimensionInfo(r[o].dimension);if("x"===(i=s&&s.coordDim)||"y"===i){a=r[o];break}}if(a){var u=t.getAxis(i),l=y.map(a.stops,(function(e){return{coord:u.toGlobalCoord(u.dataToCoord(e.value)),color:e.color}})),c=l.length,d=a.outerColors.slice();c&&l[0].coord>l[c-1].coord&&(l.reverse(),d.reverse());var f=function(e,t){var n,r,i=[],a=e.length;function o(e,t,n){var r=e.coord,i=(n-r)/(t.coord-r);return{coord:n,color:(0,vt.lerp)(i,[e.color,t.color])}}for(var s=0;s<a;s++){var u=e[s],l=u.coord;if(l<0)n=u;else{if(l>t){r?i.push(o(r,u,t)):n&&i.push(o(n,u,0),o(n,u,t));break}n&&(i.push(o(n,u,0)),n=null),i.push(u),r=u}}return i}(l,"x"===i?n.getWidth():n.getHeight()),h=f.length;if(!h&&c)return l[0].coord<0?d[1]?d[1]:l[c-1].color:d[0]?d[0]:l[0].color;var p=f[0].coord-10,m=f[h-1].coord+10,g=m-p;if(g<.001)return"transparent";y.each(f,(function(e){e.offset=(e.coord-p)/g})),f.push({offset:h?f[h-1].offset:.5,color:d[1]||"transparent"}),f.unshift({offset:h?f[0].offset:.5,color:d[0]||"transparent"});var v=new Qe.Z(0,0,0,0,f,!0);return v[i]=p,v[i+"2"]=m,v}}}function Ct(e,t,n){var r=e.get("showAllSymbol"),i="auto"===r;if(!r||i){var a=n.getAxesByScale("ordinal")[0];if(a&&(!i||!function(e,t){var n=e.getExtent(),r=Math.abs(n[1]-n[0])/e.scale.count();isNaN(r)&&(r=0);for(var i=t.count(),a=Math.max(1,Math.round(i/5)),o=0;o<i;o+=a)if(1.5*je.getSymbolSize(t,o)[e.isHorizontal()?1:0]>r)return!1;return!0}(a,t))){var o=t.mapDimension(a.dim),s={};return y.each(a.getViewLabels(),(function(e){var t=a.scale.getRawOrdinalNumber(e.tickValue);s[t]=1})),function(e){return!s.hasOwnProperty(t.get(o,e))}}}}function kt(e,t){return[e[2*t],e[2*t+1]]}function Dt(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<Le.L1.length;t++)if(e.get([Le.L1[t],"endLabel","show"]))return!0;return!1}function Tt(e,t,n,r){if(mt(t,"cartesian2d")){var i=r.getModel("endLabel"),a=i.get("valueAnimation"),o=r.getData(),s={lastFrameIndex:0},u=Dt(r)?function(n,r){e._endLabelOnDuring(n,r,o,s,a,i,t)}:null,l=t.getBaseAxis().isHorizontal(),c=ft(t,n,r,(function(){var t=e._endLabel;t&&n&&null!=s.originalX&&t.attr({x:s.originalX,y:s.originalY})}),u);if(!r.get("clip",!0)){var d=c.shape,f=Math.max(d.width,d.height);l?(d.y-=f,d.height+=2*f):(d.x-=f,d.width+=2*f)}return u&&u(1,c),c}return ht(t,n,r)}var It=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,De.ZT)(t,e),t.prototype.init=function(){var e=new Me.Z,t=new Ge;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},t.prototype.render=function(e,t,n){var r=this,i=e.coordinateSystem,a=this.group,o=e.getData(),s=e.getModel("lineStyle"),u=e.getModel("areaStyle"),l=o.getLayout("points")||[],c="polar"===i.type,d=this._coordSys,f=this._symbolDraw,h=this._polyline,p=this._polygon,m=this._lineGroup,g=e.get("animation"),v=!u.isEmpty(),x=u.get("origin"),b=qe(i,o,x),w=v&&function(e,t,n){if(!n.valueDim)return[];for(var r=t.count(),i=(0,Ke.o)(2*r),a=0;a<r;a++){var o=Ye(n,e,t,a);i[2*a]=o[0],i[2*a+1]=o[1]}return i}(i,o,b),_=e.get("showSymbol"),S=e.get("connectNulls"),C=_&&!c&&Ct(e,o,i),k=this._data;k&&k.eachItemGraphicEl((function(e,t){e.__temp&&(a.remove(e),k.setItemGraphicEl(t,null))})),_||f.remove(),a.add(m);var D,T=!c&&e.get("step");i&&i.getArea&&e.get("clip",!0)&&(null!=(D=i.getArea()).width?(D.x-=.1,D.y-=.1,D.width+=.2,D.height+=.2):D.r0&&(D.r0-=.5,D.r+=.5)),this._clipShapeForSymbol=D;var I=St(o,i,n)||o.getVisual("style")[o.getVisual("drawType")];if(h&&d.type===i.type&&T===this._step){v&&!p?p=this._newPolygon(l,w):p&&!v&&(m.remove(p),p=this._polygon=null),c||this._initOrUpdateEndLabel(e,i,(0,gt.Lz)(I));var A=m.getClipPath();if(A){var M=Tt(this,i,!1,e);Pe.KZ(A,{shape:M.shape},e)}else m.setClipPath(Tt(this,i,!0,e));_&&f.updateData(o,{isIgnore:C,clipShape:D,disableAnimation:!0,getSymbolPoint:function(e){return[l[2*e],l[2*e+1]]}}),yt(this._stackedOnPoints,w)&&yt(this._points,l)||(g?this._doUpdateAnimation(o,w,i,n,T,x,S):(T&&(l=_t(l,i,T,S),w&&(w=_t(w,i,T,S))),h.setShape({points:l}),p&&p.setShape({points:l,stackedOnPoints:w})))}else _&&f.updateData(o,{isIgnore:C,clipShape:D,disableAnimation:!0,getSymbolPoint:function(e){return[l[2*e],l[2*e+1]]}}),g&&this._initSymbolLabelAnimation(o,i,D),T&&(l=_t(l,i,T,S),w&&(w=_t(w,i,T,S))),h=this._newPolyline(l),v&&(p=this._newPolygon(l,w)),c||this._initOrUpdateEndLabel(e,i,(0,gt.Lz)(I)),m.setClipPath(Tt(this,i,!0,e));var E=e.getModel("emphasis"),N=E.get("focus"),R=E.get("blurScope"),P=E.get("disabled");(h.useStyle(y.defaults(s.getLineStyle(),{fill:"none",stroke:I,lineJoin:"bevel"})),(0,Le.WO)(h,e,"lineStyle"),h.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"]))&&(h.getState("emphasis").style.lineWidth=+h.style.lineWidth+1);(0,Oe.A)(h).seriesIndex=e.seriesIndex,(0,Le.k5)(h,N,R,P);var O=wt(e.get("smooth")),L=e.get("smoothMonotone");if(h.setShape({smooth:O,smoothMonotone:L,connectNulls:S}),p){var F=o.getCalculationInfo("stackedOnSeries"),Z=0;p.useStyle(y.defaults(u.getAreaStyle(),{fill:I,opacity:.7,lineJoin:"bevel",decal:o.getVisual("style").decal})),F&&(Z=wt(F.get("smooth"))),p.setShape({smooth:O,stackedOnSmooth:Z,smoothMonotone:L,connectNulls:S}),(0,Le.WO)(p,e,"areaStyle"),(0,Oe.A)(p).seriesIndex=e.seriesIndex,(0,Le.k5)(p,N,R,P)}var B=function(e){r._changePolyState(e)};o.eachItemGraphicEl((function(e){e&&(e.onHoverStateChange=B)})),this._polyline.onHoverStateChange=B,this._data=o,this._coordSys=i,this._stackedOnPoints=w,this._points=l,this._step=T,this._valueOrigin=x,e.get("triggerLineEvent")&&(this.packEventData(e,h),p&&this.packEventData(e,p))},t.prototype.packEventData=function(e,t){(0,Oe.A)(t).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,t,n,r){var i=e.getData(),a=Je.gO(i,r);if(this._changePolyState("emphasis"),!(a instanceof Array)&&null!=a&&a>=0){var o=i.getLayout("points"),s=i.getItemGraphicEl(a);if(!s){var u=o[2*a],l=o[2*a+1];if(isNaN(u)||isNaN(l))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(u,l))return;var c=e.get("zlevel"),d=e.get("z");(s=new je(i,a)).x=u,s.y=l,s.setZ(c,d);var f=s.getSymbolPath().getTextContent();f&&(f.zlevel=c,f.z=d,f.z2=this._polyline.z2+1),s.__temp=!0,i.setItemGraphicEl(a,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else ut.Z.prototype.highlight.call(this,e,t,n,r)},t.prototype.downplay=function(e,t,n,r){var i=e.getData(),a=Je.gO(i,r);if(this._changePolyState("normal"),null!=a&&a>=0){var o=i.getItemGraphicEl(a);o&&(o.__temp?(i.setItemGraphicEl(a,null),this.group.remove(o)):o.downplay())}else ut.Z.prototype.downplay.call(this,e,t,n,r)},t.prototype._changePolyState=function(e){var t=this._polygon;(0,Le.Gl)(this._polyline,e),t&&(0,Le.Gl)(t,e)},t.prototype._newPolyline=function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new at({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(t),this._polyline=t,t},t.prototype._newPolygon=function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new st({shape:{points:e,stackedOnPoints:t},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},t.prototype._initSymbolLabelAnimation=function(e,t,n){var r,i,a=t.getBaseAxis(),o=a.inverse;"cartesian2d"===t.type?(r=a.isHorizontal(),i=!1):"polar"===t.type&&(r="angle"===a.dim,i=!0);var s=e.hostModel,u=s.get("animationDuration");y.isFunction(u)&&(u=u(null));var l=s.get("animationDelay")||0,c=y.isFunction(l)?l(null):l;e.eachItemGraphicEl((function(e,a){var s=e;if(s){var d=[e.x,e.y],f=void 0,h=void 0,p=void 0;if(n)if(i){var m=n,g=t.pointToCoord(d);r?(f=m.startAngle,h=m.endAngle,p=-g[1]/180*Math.PI):(f=m.r0,h=m.r,p=g[0])}else{var v=n;r?(f=v.x,h=v.x+v.width,p=e.x):(f=v.y+v.height,h=v.y,p=e.y)}var x=h===f?0:(p-f)/(h-f);o&&(x=1-x);var b=y.isFunction(l)?l(a):u*x+c,w=s.getSymbolPath(),_=w.getTextContent();s.attr({scaleX:0,scaleY:0}),s.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:b}),_&&_.animateFrom({style:{opacity:0}},{duration:300,delay:b}),w.disableLabelAnimation=!0}}))},t.prototype._initOrUpdateEndLabel=function(e,t,n){var r=e.getModel("endLabel");if(Dt(e)){var i=e.getData(),a=this._polyline,o=i.getLayout("points");if(!o)return a.removeTextContent(),void(this._endLabel=null);var s=this._endLabel;s||((s=this._endLabel=new U.ZP({z2:200})).ignoreClip=!0,a.setTextContent(this._endLabel),a.disableLabelAnimation=!0);var u=function(e){for(var t,n,r=e.length/2;r>0&&(t=e[2*r-2],n=e[2*r-1],isNaN(t)||isNaN(n));r--);return r-1}(o);u>=0&&((0,ze.ni)(a,(0,ze.k3)(e,"endLabel"),{inheritColor:n,labelFetcher:e,labelDataIndex:u,defaultText:function(e,t,n){return null!=n?Be(i,n):Ze(i,e)},enableTextSetter:!0},function(e,t){var n=t.getBaseAxis(),r=n.isHorizontal(),i=n.inverse,a=r?i?"right":"left":"center",o=r?"middle":i?"top":"bottom";return{normal:{align:e.get("align")||a,verticalAlign:e.get("verticalAlign")||o}}}(r,t)),a.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,t,n,r,i,a,o){var s=this._endLabel,u=this._polyline;if(s){e<1&&null==r.originalX&&(r.originalX=s.x,r.originalY=s.y);var l=n.getLayout("points"),c=n.hostModel,d=c.get("connectNulls"),f=a.get("precision"),h=a.get("distance")||0,p=o.getBaseAxis(),m=p.isHorizontal(),g=p.inverse,v=t.shape,y=g?m?v.x:v.y+v.height:m?v.x+v.width:v.y,x=(m?h:0)*(g?-1:1),b=(m?0:-h)*(g?-1:1),w=m?"x":"y",_=function(e,t,n){for(var r,i,a=e.length/2,o="x"===n?0:1,s=0,u=-1,l=0;l<a;l++)if(i=e[2*l+o],!isNaN(i)&&!isNaN(e[2*l+1-o]))if(0!==l){if(r<=t&&i>=t||r>=t&&i<=t){u=l;break}s=l,r=i}else r=i;return{range:[s,u],t:(t-r)/(i-r)}}(l,y,w),S=_.range,C=S[1]-S[0],k=void 0;if(C>=1){if(C>1&&!d){var D=kt(l,S[0]);s.attr({x:D[0]+x,y:D[1]+b}),i&&(k=c.getRawValue(S[0]))}else{(D=u.getPointOn(y,w))&&s.attr({x:D[0]+x,y:D[1]+b});var T=c.getRawValue(S[0]),I=c.getRawValue(S[1]);i&&(k=Je.pk(n,f,T,I,_.t))}r.lastFrameIndex=S[0]}else{var A=1===e||r.lastFrameIndex>0?S[0]:0;D=kt(l,A);i&&(k=c.getRawValue(A)),s.attr({x:D[0]+x,y:D[1]+b})}i&&(0,ze.qA)(s).setLabelText(k)}},t.prototype._doUpdateAnimation=function(e,t,n,r,i,a,o){var s=this._polyline,u=this._polygon,l=e.hostModel,c=function(e,t,n,r,i,a,o,s){for(var u=function(e,t){var n=[];return t.diff(e).add((function(e){n.push({cmd:"+",idx:e})})).update((function(e,t){n.push({cmd:"=",idx:t,idx1:e})})).remove((function(e){n.push({cmd:"-",idx:e})})).execute(),n}(e,t),l=[],c=[],d=[],f=[],h=[],p=[],m=[],g=qe(i,t,o),v=e.getLayout("points")||[],y=t.getLayout("points")||[],x=0;x<u.length;x++){var b=u[x],w=!0,_=void 0,S=void 0;switch(b.cmd){case"=":_=2*b.idx,S=2*b.idx1;var C=v[_],k=v[_+1],D=y[S],T=y[S+1];(isNaN(C)||isNaN(k))&&(C=D,k=T),l.push(C,k),c.push(D,T),d.push(n[_],n[_+1]),f.push(r[S],r[S+1]),m.push(t.getRawIndex(b.idx1));break;case"+":var I=b.idx,A=g.dataDimsForPoint,M=i.dataToPoint([t.get(A[0],I),t.get(A[1],I)]);S=2*I,l.push(M[0],M[1]),c.push(y[S],y[S+1]);var E=Ye(g,i,t,I);d.push(E[0],E[1]),f.push(r[S],r[S+1]),m.push(t.getRawIndex(I));break;case"-":w=!1}w&&(h.push(b),p.push(p.length))}p.sort((function(e,t){return m[e]-m[t]}));var N=l.length,R=(0,Ke.o)(N),P=(0,Ke.o)(N),O=(0,Ke.o)(N),L=(0,Ke.o)(N),F=[];for(x=0;x<p.length;x++){var Z=p[x],B=2*x,z=2*Z;R[B]=l[z],R[B+1]=l[z+1],P[B]=c[z],P[B+1]=c[z+1],O[B]=d[z],O[B+1]=d[z+1],L[B]=f[z],L[B+1]=f[z+1],F[x]=h[Z]}return{current:R,next:P,stackedOnCurrent:O,stackedOnNext:L,status:F}}(this._data,e,this._stackedOnPoints,t,this._coordSys,0,this._valueOrigin),d=c.current,f=c.stackedOnCurrent,h=c.next,p=c.stackedOnNext;if(i&&(d=_t(c.current,n,i,o),f=_t(c.stackedOnCurrent,n,i,o),h=_t(c.next,n,i,o),p=_t(c.stackedOnNext,n,i,o)),bt(d,h)>3e3||u&&bt(f,p)>3e3)return s.stopAnimation(),s.setShape({points:h}),void(u&&(u.stopAnimation(),u.setShape({points:h,stackedOnPoints:p})));s.shape.__points=c.current,s.shape.points=d;var m={shape:{points:h}};c.current!==d&&(m.shape.__points=c.next),s.stopAnimation(),Pe.D(s,m,l),u&&(u.setShape({points:d,stackedOnPoints:f}),u.stopAnimation(),Pe.D(u,{shape:{stackedOnPoints:p}},l),s.shape.points!==u.shape.points&&(u.shape.points=s.shape.points));for(var g=[],v=c.status,y=0;y<v.length;y++){if("="===v[y].cmd){var x=e.getItemGraphicEl(v[y].idx1);x&&g.push({el:x,ptIdx:y})}}s.animators&&s.animators.length&&s.animators[0].during((function(){u&&u.dirtyShape();for(var e=s.shape.__points,t=0;t<g.length;t++){var n=g[t].el,r=2*g[t].ptIdx;n.x=e[r],n.y=e[r+1],n.markRedraw()}}))},t.prototype.remove=function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(e,r){e.__temp&&(t.remove(e),n.setItemGraphicEl(r,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(ut.Z),At=It,Mt=n(5402);function Et(e,t){return{seriesType:e,plan:(0,Mt.Z)(),reset:function(e){var n=e.getData(),r=e.coordinateSystem,i=e.pipelineContext,a=t||i.large;if(r){var o=(0,y.map)(r.dimensions,(function(e){return n.mapDimension(e)})).slice(0,2),s=o.length,u=n.getCalculationInfo("stackResultDimension");(0,Xe.M)(n,o[0])&&(o[0]=u),(0,Xe.M)(n,o[1])&&(o[1]=u);var l=n.getStore(),c=n.getDimensionIndex(o[0]),d=n.getDimensionIndex(o[1]);return s&&{progress:function(e,t){for(var n=e.end-e.start,i=a&&(0,Ke.o)(n*s),o=[],u=[],f=e.start,h=0;f<e.end;f++){var p=void 0;if(1===s){var m=l.get(c,f);p=r.dataToPoint(m,null,u)}else o[0]=l.get(c,f),o[1]=l.get(d,f),p=r.dataToPoint(o,null,u);a?(i[h++]=p[0],i[h++]=p[1]):t.setItemLayout(f,p.slice())}a&&t.setLayout("points",i)}}}}}}var Nt={average:function(e){for(var t=0,n=0,r=0;r<e.length;r++)isNaN(e[r])||(t+=e[r],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},Rt=function(e){return Math.round(e.length/2)};function Pt(e){return{seriesType:e,reset:function(e,t,n){var r=e.getData(),i=e.get("sampling"),a=e.coordinateSystem,o=r.count();if(o>10&&"cartesian2d"===a.type&&i){var s=a.getBaseAxis(),u=a.getOtherAxis(s),l=s.getExtent(),c=n.getDevicePixelRatio(),d=Math.abs(l[1]-l[0])*(c||1),f=Math.round(o/d);if(isFinite(f)&&f>1){"lttb"===i&&e.setData(r.lttbDownSample(r.mapDimension(u.dim),1/f));var h=void 0;(0,y.isString)(i)?h=Nt[i]:(0,y.isFunction)(i)&&(h=i),h&&e.setData(r.downSample(r.mapDimension(u.dim),1/f,h,Rt))}}}}}var Ot=n(89562),Lt=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.getInitialData=function(e,t){return(0,Te.Z)(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e){var t=this.coordinateSystem;if(t&&t.clampData){var n=t.dataToPoint(t.clampData(e)),r=this.getData(),i=r.getLayout("offset"),a=r.getLayout("size");return n[t.getBaseAxis().isHorizontal()?0:1]+=i+a/2,n}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(Ie.Z);Ie.Z.registerClass(Lt);var Ft=Lt,Zt=n(8927),Bt=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.getInitialData=function(){return(0,Te.Z)(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},t.prototype.brushSelector=function(e,t,n){return n.rect(t.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=(0,Zt.ZL)(Ft.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(Ft),zt=Bt,Vt=n(90964),jt=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},Wt=function(e){function t(t){var n=e.call(this,t)||this;return n.type="sausage",n}return(0,De.ZT)(t,e),t.prototype.getDefaultShape=function(){return new jt},t.prototype.buildPath=function(e,t){var n=t.cx,r=t.cy,i=Math.max(t.r0||0,0),a=Math.max(t.r,0),o=.5*(a-i),s=i+o,u=t.startAngle,l=t.endAngle,c=t.clockwise,d=2*Math.PI,f=c?l-u<d:u-l<d;f||(u=l-(c?d:-d));var h=Math.cos(u),p=Math.sin(u),m=Math.cos(l),g=Math.sin(l);f?(e.moveTo(h*i+n,p*i+r),e.arc(h*s+n,p*s+r,o,-Math.PI+u,u,!c)):e.moveTo(h*a+n,p*a+r),e.arc(n,r,a,u,l,!c),e.arc(m*s+n,g*s+r,o,l-2*Math.PI,l-Math.PI,!c),0!==i&&e.arc(n,r,i,l,u,c)},t}(o.ZP),Ut=Wt;function Ht(e,t,n){return t*Math.sin(e)*(n?-1:1)}function Gt(e,t,n){return t*Math.cos(e)*(n?1:-1)}var Xt=Math.max,qt=Math.min;var Yt=function(e){function t(){var n=e.call(this)||this;return n.type=t.type,n._isFirstFrame=!0,n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n,r){this._model=e,this._removeOnRenderedListener(n),this._updateDrawMode(e);var i=e.get("coordinateSystem");("cartesian2d"===i||"polar"===i)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,t,n):this._renderNormal(e,t,n,r))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,t){this._progressiveEls=[],this._incrementalRenderLarge(e,t)},t.prototype.eachRendered=function(e){(0,Re.traverseElements)(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e,t,n,r){var i,a=this.group,o=e.getData(),s=this._data,u=e.coordinateSystem,l=u.getBaseAxis();"cartesian2d"===u.type?i=l.isHorizontal():"polar"===u.type&&(i="angle"===l.dim);var c=e.isAnimationEnabled()?e:null,d=function(e,t){var n=e.get("realtimeSort",!0),r=t.getBaseAxis();0;if(n&&"category"===r.type&&"cartesian2d"===t.type)return{baseAxis:r,otherAxis:t.getOtherAxis(r)}}(e,u);d&&this._enableRealtimeSort(d,o,n);var f=e.get("clip",!0)||d,h=function(e,t){var n=e.getArea&&e.getArea();if(mt(e,"cartesian2d")){var r=e.getBaseAxis();if("category"!==r.type||!r.onBand){var i=t.getLayout("bandWidth");r.isHorizontal()?(n.x-=i,n.width+=2*i):(n.y-=i,n.height+=2*i)}}return n}(u,o);a.removeClipPath();var p=e.get("roundCap",!0),m=e.get("showBackground",!0),g=e.getModel("backgroundStyle"),v=g.get("borderRadius")||0,y=[],x=this._backgroundEls,b=r&&r.isInitSort,w=r&&"changeAxisOrder"===r.type;function _(e){var t=rn[u.type](o,e),n=function(e,t,n){return new("polar"===e.type?ct.C:lt.Z)({shape:dn(t,n,e),silent:!0,z2:0})}(u,i,t);return n.useStyle(g.getItemStyle()),"cartesian2d"===u.type&&n.setShape("r",v),y[e]=n,n}o.diff(s).add((function(t){var n=o.getItemModel(t),r=rn[u.type](o,t,n);if(m&&_(t),o.hasValue(t)&&nn[u.type](r)){var s=!1;f&&(s=Kt[u.type](h,r));var g=Qt[u.type](e,o,t,r,i,c,l.model,!1,p);d&&(g.forceLabelAnimation=!0),on(g,o,t,n,r,e,i,"polar"===u.type),b?g.attr({shape:r}):d?Jt(d,c,g,r,t,i,!1,!1):(0,Pe.KZ)(g,{shape:r},e,t),o.setItemGraphicEl(t,g),a.add(g),g.ignore=s}})).update((function(t,n){var r=o.getItemModel(t),S=rn[u.type](o,t,r);if(m){var C=void 0;0===x.length?C=_(n):((C=x[n]).useStyle(g.getItemStyle()),"cartesian2d"===u.type&&C.setShape("r",v),y[t]=C);var k=rn[u.type](o,t),D=dn(i,k,u);(0,Pe.D)(C,{shape:D},c,t)}var T=s.getItemGraphicEl(n);if(o.hasValue(t)&&nn[u.type](S)){var I=!1;if(f&&(I=Kt[u.type](h,S))&&a.remove(T),T?(0,Pe.Zi)(T):T=Qt[u.type](e,o,t,S,i,c,l.model,!!T,p),d&&(T.forceLabelAnimation=!0),w){var A=T.getTextContent();if(A){var M=(0,ze.qA)(A);null!=M.prevValue&&(M.prevValue=M.value)}}else on(T,o,t,r,S,e,i,"polar"===u.type);b?T.attr({shape:S}):d?Jt(d,c,T,S,t,i,!0,w):(0,Pe.D)(T,{shape:S},e,t,null),o.setItemGraphicEl(t,T),T.ignore=I,a.add(T)}else a.remove(T)})).remove((function(t){var n=s.getItemGraphicEl(t);n&&(0,Pe.XD)(n,e,t)})).execute();var S=this._backgroundGroup||(this._backgroundGroup=new Me.Z);S.removeAll();for(var C=0;C<y.length;++C)S.add(y[C]);a.add(S),this._backgroundEls=y,this._data=o},t.prototype._renderLarge=function(e,t,n){this._clear(),ln(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,t){this._removeBackground(),ln(t,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var t=e.get("clip",!0)&&pt(e.coordinateSystem,!1,e),n=this.group;t?n.setClipPath(t):n.removeClipPath()},t.prototype._enableRealtimeSort=function(e,t,n){var r=this;if(t.count()){var i=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(t,e,n),this._isFirstFrame=!1;else{var a=function(e){var n=t.getItemGraphicEl(e),r=n&&n.shape;return r&&Math.abs(i.isHorizontal()?r.height:r.width)||0};this._onRendered=function(){r._updateSortWithinSameData(t,a,i,n)},n.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,t,n){var r=[];return e.each(e.mapDimension(t.dim),(function(e,t){var i=n(t);i=null==i?NaN:i,r.push({dataIndex:t,mappedValue:i,ordinalNumber:e})})),r.sort((function(e,t){return t.mappedValue-e.mappedValue})),{ordinalNumbers:(0,y.map)(r,(function(e){return e.ordinalNumber}))}},t.prototype._isOrderChangedWithinSameData=function(e,t,n){for(var r=n.scale,i=e.mapDimension(n.dim),a=Number.MAX_VALUE,o=0,s=r.getOrdinalMeta().categories.length;o<s;++o){var u=e.rawIndexOf(i,r.getRawOrdinalNumber(o)),l=u<0?Number.MIN_VALUE:t(e.indexOfRawIndex(u));if(l>a)return!0;a=l}return!1},t.prototype._isOrderDifferentInView=function(e,t){for(var n=t.scale,r=n.getExtent(),i=Math.max(0,r[0]),a=Math.min(r[1],n.getOrdinalMeta().categories.length-1);i<=a;++i)if(e.ordinalNumbers[i]!==n.getRawOrdinalNumber(i))return!0},t.prototype._updateSortWithinSameData=function(e,t,n,r){if(this._isOrderChangedWithinSameData(e,t,n)){var i=this._dataSort(e,n,t);this._isOrderDifferentInView(i,n)&&(this._removeOnRenderedListener(r),r.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:i}))}},t.prototype._dispatchInitSort=function(e,t,n){var r=t.baseAxis,i=this._dataSort(e,r,(function(n){return e.get(e.mapDimension(t.otherAxis.dim),n)}));n.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",isInitSort:!0,axisId:r.index,sortInfo:i})},t.prototype.remove=function(e,t){this._clear(this._model),this._removeOnRenderedListener(t)},t.prototype.dispose=function(e,t){this._removeOnRenderedListener(t)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var t=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(t){(0,Pe.XD)(t,e,(0,Oe.A)(t).dataIndex)}))):t.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(ut.Z),Kt={cartesian2d:function(e,t){var n=t.width<0?-1:1,r=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height);var i=e.x+e.width,a=e.y+e.height,o=Xt(t.x,e.x),s=qt(t.x+t.width,i),u=Xt(t.y,e.y),l=qt(t.y+t.height,a),c=s<o,d=l<u;return t.x=c&&o>i?s:o,t.y=d&&u>a?l:u,t.width=c?0:s-o,t.height=d?0:l-u,n<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height),c||d},polar:function(e,t){var n=t.r0<=t.r?1:-1;if(n<0){var r=t.r;t.r=t.r0,t.r0=r}var i=qt(t.r,e.r),a=Xt(t.r0,e.r0);t.r=i,t.r0=a;var o=i-a<0;if(n<0){r=t.r;t.r=t.r0,t.r0=r}return o}},Qt={cartesian2d:function(e,t,n,r,i,a,o,s,u){var l=new lt.Z({shape:(0,y.extend)({},r),z2:1});(l.__dataIndex=n,l.name="item",a)&&(l.shape[i?"height":"width"]=0);return l},polar:function(e,t,n,r,i,a,o,s,l){var c=!i&&l?Ut:ct.C,d=new c({shape:r,z2:1});d.name="item";var f=an(i);if(d.calculateTextPosition=function(e,t){var n=(t=t||{}).isRoundCap;return function(t,r,i){var a=r.position;if(!a||a instanceof Array)return(0,u.wI)(t,r,i);var o=e(a),s=null!=r.distance?r.distance:5,l=this.shape,c=l.cx,d=l.cy,f=l.r,h=l.r0,p=(f+h)/2,m=l.startAngle,g=l.endAngle,v=(m+g)/2,y=n?Math.abs(f-h)/2:0,x=Math.cos,b=Math.sin,w=c+f*x(m),_=d+f*b(m),S="left",C="top";switch(o){case"startArc":w=c+(h-s)*x(v),_=d+(h-s)*b(v),S="center",C="top";break;case"insideStartArc":w=c+(h+s)*x(v),_=d+(h+s)*b(v),S="center",C="bottom";break;case"startAngle":w=c+p*x(m)+Ht(m,s+y,!1),_=d+p*b(m)+Gt(m,s+y,!1),S="right",C="middle";break;case"insideStartAngle":w=c+p*x(m)+Ht(m,-s+y,!1),_=d+p*b(m)+Gt(m,-s+y,!1),S="left",C="middle";break;case"middle":w=c+p*x(v),_=d+p*b(v),S="center",C="middle";break;case"endArc":w=c+(f+s)*x(v),_=d+(f+s)*b(v),S="center",C="bottom";break;case"insideEndArc":w=c+(f-s)*x(v),_=d+(f-s)*b(v),S="center",C="top";break;case"endAngle":w=c+p*x(g)+Ht(g,s+y,!0),_=d+p*b(g)+Gt(g,s+y,!0),S="left",C="middle";break;case"insideEndAngle":w=c+p*x(g)+Ht(g,-s+y,!0),_=d+p*b(g)+Gt(g,-s+y,!0),S="right",C="middle";break;default:return(0,u.wI)(t,r,i)}return(t=t||{}).x=w,t.y=_,t.align=S,t.verticalAlign=C,t}}(f,{isRoundCap:c===Ut}),a){var h=i?"r":"endAngle",p={};d.shape[h]=i?0:r.startAngle,p[h]=r[h],(s?Pe.D:Pe.KZ)(d,{shape:p},a)}return d}};function Jt(e,t,n,r,i,a,o,s){var u,l;a?(l={x:r.x,width:r.width},u={y:r.y,height:r.height}):(l={y:r.y,height:r.height},u={x:r.x,width:r.width}),s||(o?Pe.D:Pe.KZ)(n,{shape:u},t,i,null);var c=t?e.baseAxis.model:null;(o?Pe.D:Pe.KZ)(n,{shape:l},c,i)}function $t(e,t){for(var n=0;n<t.length;n++)if(!isFinite(e[t[n]]))return!0;return!1}var en=["x","y","width","height"],tn=["cx","cy","r","startAngle","endAngle"],nn={cartesian2d:function(e){return!$t(e,en)},polar:function(e){return!$t(e,tn)}},rn={cartesian2d:function(e,t,n){var r=e.getItemLayout(t),i=n?function(e,t){var n=e.get(["itemStyle","borderColor"]);if(!n||"none"===n)return 0;var r=e.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),a=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(r,i,a)}(n,r):0,a=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+a*i/2,y:r.y+o*i/2,width:r.width-a*i,height:r.height-o*i}},polar:function(e,t,n){var r=e.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function an(e){return function(e){var t=e?"Arc":"Angle";return function(e){switch(e){case"start":case"insideStart":case"end":case"insideEnd":return e+t;default:return e}}}(e)}function on(e,t,n,r,i,a,o,s){var u=t.getItemVisual(n,"style");s||e.setShape("r",r.get(["itemStyle","borderRadius"])||0),e.useStyle(u);var l=r.getShallow("cursor");l&&e.attr("cursor",l);var c=s?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left",d=(0,ze.k3)(r);(0,ze.ni)(e,d,{labelFetcher:a,labelDataIndex:n,defaultText:Ze(a.getData(),n),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:c});var f=e.getTextContent();if(s&&f){var h=r.get(["label","position"]);e.textConfig.inside="middle"===h||null,function(e,t,n,r){if((0,y.isNumber)(r))e.setTextConfig({rotation:r});else if((0,y.isArray)(t))e.setTextConfig({rotation:0});else{var i,a=e.shape,o=a.clockwise?a.startAngle:a.endAngle,s=a.clockwise?a.endAngle:a.startAngle,u=(o+s)/2,l=n(t);switch(l){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":i=u;break;case"startAngle":case"insideStartAngle":i=o;break;case"endAngle":case"insideEndAngle":i=s;break;default:return void e.setTextConfig({rotation:0})}var c=1.5*Math.PI-i;"middle"===l&&c>Math.PI/2&&c<1.5*Math.PI&&(c-=Math.PI),e.setTextConfig({rotation:c})}}(e,"outside"===h?c:h,an(o),r.get(["label","rotate"]))}(0,ze.pe)(f,d,a.getRawValue(n),(function(e){return Be(t,e)}));var p=r.getModel(["emphasis"]);(0,Le.k5)(e,p.get("focus"),p.get("blurScope"),p.get("disabled")),(0,Le.WO)(e,r),function(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}(i)&&(e.style.fill="none",e.style.stroke="none",(0,y.each)(e.states,(function(e){e.style&&(e.style.fill=e.style.stroke="none")})))}var sn=function(){},un=function(e){function t(t){var n=e.call(this,t)||this;return n.type="largeBar",n}return(0,De.ZT)(t,e),t.prototype.getDefaultShape=function(){return new sn},t.prototype.buildPath=function(e,t){for(var n=t.points,r=this.baseDimIdx,i=1-this.baseDimIdx,a=[],o=[],s=this.barWidth,u=0;u<n.length;u+=3)o[r]=s,o[i]=n[u+2],a[r]=n[u+r],a[i]=n[u+i],e.rect(a[0],a[1],o[0],o[1])},t}(o.ZP);function ln(e,t,n,r){var i=e.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),s=i.getLayout("size"),u=e.getModel("backgroundStyle"),l=i.getLayout("largeBackgroundPoints");if(l){var c=new un({shape:{points:l},incremental:!!r,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=o,c.barWidth=s,c.useStyle(u.getItemStyle()),t.add(c),n&&n.push(c)}var d=new un({shape:{points:i.getLayout("largePoints")},incremental:!!r,z2:1});d.baseDimIdx=a,d.largeDataIndices=o,d.barWidth=s,t.add(d),d.useStyle(i.getVisual("style")),(0,Oe.A)(d).seriesIndex=e.seriesIndex,e.get("silent")||(d.on("mousedown",cn),d.on("mousemove",cn)),n&&n.push(d)}var cn=(0,Vt.P2)((function(e){var t=function(e,t,n){for(var r=e.baseDimIdx,i=1-r,a=e.shape.points,o=e.largeDataIndices,s=[],u=[],l=e.barWidth,c=0,d=a.length/3;c<d;c++){var f=3*c;if(u[r]=l,u[i]=a[f+2],s[r]=a[f+r],s[i]=a[f+i],u[i]<0&&(s[i]+=u[i],u[i]=-u[i]),t>=s[0]&&t<=s[0]+u[0]&&n>=s[1]&&n<=s[1]+u[1])return o[c]}return-1}(this,e.offsetX,e.offsetY);(0,Oe.A)(this).dataIndex=t>=0?t:null}),30,!1);function dn(e,t,n){if(mt(n,"cartesian2d")){var r=t,i=n.getArea();return{x:e?r.x:i.x,y:e?i.y:r.y,width:e?r.width:i.width,height:e?i.height:r.height}}var a=t;return{cx:(i=n.getArea()).cx,cy:i.cy,r0:e?i.r0:a.r0,r:e?i.r:a.r,startAngle:e?a.startAngle:0,endAngle:e?a.endAngle:2*Math.PI}}var fn=Yt;var hn=n(27091),pn=n(72705),mn=2*Math.PI,gn=Math.PI/180;function vn(e,t){return pn.ME(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function yn(e,t){var n=vn(e,t),r=e.get("center"),i=e.get("radius");y.isArray(i)||(i=[0,i]),y.isArray(r)||(r=[r,r]);var a=(0,dt.GM)(n.width,t.getWidth()),o=(0,dt.GM)(n.height,t.getHeight()),s=Math.min(a,o);return{cx:(0,dt.GM)(r[0],a)+n.x,cy:(0,dt.GM)(r[1],o)+n.y,r0:(0,dt.GM)(i[0],s/2),r:(0,dt.GM)(i[1],s/2)}}function xn(e,t,n){t.eachSeriesByType(e,(function(e){var t=e.getData(),r=t.mapDimension("value"),i=vn(e,n),a=yn(e,n),o=a.cx,s=a.cy,u=a.r,l=a.r0,c=-e.get("startAngle")*gn,d=e.get("minAngle")*gn,f=0;t.each(r,(function(e){!isNaN(e)&&f++}));var h=t.getSum(r),p=Math.PI/(h||f)*2,m=e.get("clockwise"),g=e.get("roseType"),v=e.get("stillShowZeroSum"),y=t.getDataExtent(r);y[0]=0;var x=mn,b=0,w=c,_=m?1:-1;if(t.setLayout({viewRect:i,r:u}),t.each(r,(function(e,n){var r;if(isNaN(e))t.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:m,cx:o,cy:s,r0:l,r:g?NaN:u});else{(r="area"!==g?0===h&&v?p:e*p:mn/f)<d?(r=d,x-=d):b+=e;var i=w+_*r;t.setItemLayout(n,{angle:r,startAngle:w,endAngle:i,clockwise:m,cx:o,cy:s,r0:l,r:g?(0,dt.NU)(e,y,[l,u]):u}),w=i}})),x<mn&&f)if(x<=.001){var S=mn/f;t.each(r,(function(e,n){if(!isNaN(e)){var r=t.getItemLayout(n);r.angle=S,r.startAngle=c+_*n*S,r.endAngle=c+_*(n+1)*S}}))}else p=x/b,w=c,t.each(r,(function(e,n){if(!isNaN(e)){var r=t.getItemLayout(n),i=r.angle===d?d:e*p;r.startAngle=w,r.endAngle=w+_*i,w+=_*i}}))}))}function bn(e){return{seriesType:e,reset:function(e,t){var n=t.findComponents({mainType:"legend"});if(n&&n.length){var r=e.getData();r.filterSelf((function(e){for(var t=r.getName(e),i=0;i<n.length;i++)if(!n[i].isSelected(t))return!1;return!0}))}}}}var wn=n(8509),_n=n(14310),Sn=n(9168),Cn=n(91331),kn=Math.PI/180;function Dn(e,t,n,r,i,a,o,s,u,l){if(!(e.length<2)){for(var c=e.length,d=0;d<c;d++)if("outer"===e[d].position&&"labelLine"===e[d].labelAlignTo){var f=e[d].label.x-l;e[d].linePoints[1][0]+=f,e[d].label.x=l}(0,Cn.GI)(e,u,u+o)&&function(e){for(var a={list:[],maxY:0},o={list:[],maxY:0},s=0;s<e.length;s++)if("none"===e[s].labelAlignTo){var u=e[s],l=u.label.y>n?o:a,c=Math.abs(u.label.y-n);if(c>=l.maxY){var d=u.label.x-t-u.len2*i,f=r+u.len,p=Math.abs(d)<f?Math.sqrt(c*c/(1-d*d/f/f)):f;l.rB=p,l.maxY=c}l.list.push(u)}h(a),h(o)}(e)}function h(e){for(var a=e.rB,o=a*a,s=0;s<e.list.length;s++){var u=e.list[s],l=Math.abs(u.label.y-n),c=r+u.len,d=c*c,f=Math.sqrt((1-Math.abs(l*l/o))*d),h=t+(f+u.len2)*i,p=h-u.label.x;Tn(u,u.targetTextWidth-p*i,!0),u.label.x=h}}}function Tn(e,t,n){if(void 0===n&&(n=!1),null==e.labelStyleWidth){var r=e.label,i=r.style,a=e.rect,o=i.backgroundColor,s=i.padding,u=s?s[1]+s[3]:0,l=i.overflow,c=a.width+(o?0:u);if(t<c||n){var d=a.height;if(l&&l.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",t-u);var f=r.getBoundingRect();r.setStyle("width",Math.ceil(f.width)),r.setStyle("backgroundColor",o)}else{var h=t-u,p=t<c?h:n?h>e.unconstrainedWidth?null:h:null;r.setStyle("width",p)}var m=r.getBoundingRect();a.width=m.width;var g=(r.style.margin||0)+2.1;a.height=m.height+g,a.y-=(a.height-d)/2}}}function In(e){return"center"===e.position}function An(e){var t,n,r=e.getData(),i=[],a=!1,o=(e.get("minShowLabelAngle")||0)*kn,s=r.getLayout("viewRect"),u=r.getLayout("r"),l=s.width,c=s.x,d=s.y,f=s.height;function h(e){e.ignore=!0}r.each((function(e){var s=r.getItemGraphicEl(e),d=s.shape,f=s.getTextContent(),p=s.getTextGuideLine(),m=r.getItemModel(e),g=m.getModel("label"),v=g.get("position")||m.get(["emphasis","label","position"]),x=g.get("distanceToLabelLine"),b=g.get("alignTo"),w=(0,dt.GM)(g.get("edgeDistance"),l),_=g.get("bleedMargin"),S=m.getModel("labelLine"),C=S.get("length");C=(0,dt.GM)(C,l);var k=S.get("length2");if(k=(0,dt.GM)(k,l),Math.abs(d.endAngle-d.startAngle)<o)return(0,y.each)(f.states,h),void(f.ignore=!0);if(function(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}(f)){var D,T,I,A,M=(d.startAngle+d.endAngle)/2,E=Math.cos(M),N=Math.sin(M);t=d.cx,n=d.cy;var R="inside"===v||"inner"===v;if("center"===v)D=d.cx,T=d.cy,A="center";else{var P=(R?(d.r+d.r0)/2*E:d.r*E)+t,O=(R?(d.r+d.r0)/2*N:d.r*N)+n;if(D=P+3*E,T=O+3*N,!R){var L=P+E*(C+u-d.r),F=O+N*(C+u-d.r),Z=L+(E<0?-1:1)*k;D="edge"===b?E<0?c+w:c+l-w:Z+(E<0?-x:x),T=F,I=[[P,O],[L,F],[Z,F]]}A=R?"center":"edge"===b?E>0?"right":"left":E>0?"left":"right"}var B=Math.PI,z=0,V=g.get("rotate");if((0,y.isNumber)(V))z=V*(B/180);else if("center"===v)z=0;else if("radial"===V||!0===V){z=E<0?-M+B:-M}else if("tangential"===V&&"outside"!==v&&"outer"!==v){var j=Math.atan2(E,N);j<0&&(j=2*B+j),N>0&&(j=B+j),z=j-B}if(a=!!z,f.x=D,f.y=T,f.rotation=z,f.setStyle({verticalAlign:"middle"}),R){f.setStyle({align:A});var W=f.states.select;W&&(W.x+=f.x,W.y+=f.y)}else{var U=f.getBoundingRect().clone();U.applyTransform(f.getComputedTransform());var H=(f.style.margin||0)+2.1;U.y-=H/2,U.height+=H,i.push({label:f,labelLine:p,position:v,len:C,len2:k,minTurnAngle:S.get("minTurnAngle"),maxSurfaceAngle:S.get("maxSurfaceAngle"),surfaceNormal:new _n.Z(E,N),linePoints:I,textAlign:A,labelDistance:x,labelAlignTo:b,edgeDistance:w,bleedMargin:_,rect:U,unconstrainedWidth:U.width,labelStyleWidth:f.style.width})}s.setTextConfig({inside:R})}})),!a&&e.get("avoidLabelOverlap")&&function(e,t,n,r,i,a,o,s){for(var u=[],l=[],c=Number.MAX_VALUE,d=-Number.MAX_VALUE,f=0;f<e.length;f++){var h=e[f].label;In(e[f])||(h.x<t?(c=Math.min(c,h.x),u.push(e[f])):(d=Math.max(d,h.x),l.push(e[f])))}for(f=0;f<e.length;f++)if(!In(g=e[f])&&g.linePoints){if(null!=g.labelStyleWidth)continue;h=g.label;var p=g.linePoints,m=void 0;m="edge"===g.labelAlignTo?h.x<t?p[2][0]-g.labelDistance-o-g.edgeDistance:o+i-g.edgeDistance-p[2][0]-g.labelDistance:"labelLine"===g.labelAlignTo?h.x<t?c-o-g.bleedMargin:o+i-d-g.bleedMargin:h.x<t?h.x-o-g.bleedMargin:o+i-h.x-g.bleedMargin,g.targetTextWidth=m,Tn(g,m)}for(Dn(l,t,n,r,1,0,a,0,s,d),Dn(u,t,n,r,-1,0,a,0,s,c),f=0;f<e.length;f++){var g;if(!In(g=e[f])&&g.linePoints){h=g.label,p=g.linePoints;var v="edge"===g.labelAlignTo,y=h.style.padding,x=y?y[1]+y[3]:0,b=h.style.backgroundColor?0:x,w=g.rect.width+b,_=p[1][0]-p[2][0];v?h.x<t?p[2][0]=o+g.edgeDistance+w+g.labelDistance:p[2][0]=o+i-g.edgeDistance-w-g.labelDistance:(h.x<t?p[2][0]=h.x+g.labelDistance:p[2][0]=h.x-g.labelDistance,p[1][0]=p[2][0]+_),p[1][1]=p[2][1]=h.y}}}(i,t,n,u,l,f,c,d);for(var p=0;p<i.length;p++){var m=i[p],g=m.label,v=m.labelLine,x=isNaN(g.x)||isNaN(g.y);if(g){g.setStyle({align:m.textAlign}),x&&((0,y.each)(g.states,h),g.ignore=!0);var b=g.states.select;b&&(b.x+=g.x,b.y+=g.y)}if(v){var w=m.linePoints;x||!w?((0,y.each)(v.states,h),v.ignore=!0):((0,Sn.qK)(w,m.minTurnAngle),(0,Sn._A)(w,m.surfaceNormal,m.maxSurfaceAngle),v.setShape({points:w}),g.__hostTarget.textGuideLineConfig={anchor:new _n.Z(w[0][0],w[0][1])})}}}function Mn(e,t,n){var r=e.get("borderRadius");if(null==r)return n?{cornerRadius:0}:null;(0,y.isArray)(r)||(r=[r,r,r,r]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:(0,y.map)(r,(function(e){return(0,u.GM)(e,i)}))}}var En=function(e){function t(t,n,r){var i=e.call(this)||this;i.z2=2;var a=new U.ZP;return i.setTextContent(a),i.updateData(t,n,r,!0),i}return(0,De.ZT)(t,e),t.prototype.updateData=function(e,t,n,r){var i=this,a=e.hostModel,o=e.getItemModel(t),s=o.getModel("emphasis"),u=e.getItemLayout(t),l=(0,y.extend)(Mn(o.getModel("itemStyle"),u,!0),u);if(isNaN(l.startAngle))i.setShape(l);else{if(r){i.setShape(l);var c=a.getShallow("animationType");a.ecModel.ssr?(Pe.KZ(i,{scaleX:0,scaleY:0},a,{dataIndex:t,isFrom:!0}),i.originX=l.cx,i.originY=l.cy):"scale"===c?(i.shape.r=u.r0,Pe.KZ(i,{shape:{r:u.r}},a,t)):null!=n?(i.setShape({startAngle:n,endAngle:n}),Pe.KZ(i,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},a,t)):(i.shape.endAngle=u.startAngle,Pe.D(i,{shape:{endAngle:u.endAngle}},a,t))}else(0,Pe.Zi)(i),Pe.D(i,{shape:l},a,t);i.useStyle(e.getItemVisual(t,"style")),(0,Le.WO)(i,o);var d=(u.startAngle+u.endAngle)/2,f=a.get("selectedOffset"),h=Math.cos(d)*f,p=Math.sin(d)*f,m=o.getShallow("cursor");m&&i.attr("cursor",m),this._updateLabel(a,e,t),i.ensureState("emphasis").shape=(0,y.extend)({r:u.r+(s.get("scale")&&s.get("scaleSize")||0)},Mn(s.getModel("itemStyle"),u)),(0,y.extend)(i.ensureState("select"),{x:h,y:p,shape:Mn(o.getModel(["select","itemStyle"]),u)}),(0,y.extend)(i.ensureState("blur"),{shape:Mn(o.getModel(["blur","itemStyle"]),u)});var g=i.getTextGuideLine(),v=i.getTextContent();g&&(0,y.extend)(g.ensureState("select"),{x:h,y:p}),(0,y.extend)(v.ensureState("select"),{x:h,y:p}),(0,Le.k5)(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))}},t.prototype._updateLabel=function(e,t,n){var r=this,i=t.getItemModel(n),a=i.getModel("labelLine"),o=t.getItemVisual(n,"style"),s=o&&o.fill,u=o&&o.opacity;(0,ze.ni)(r,(0,ze.k3)(i),{labelFetcher:t.hostModel,labelDataIndex:n,inheritColor:s,defaultOpacity:u,defaultText:e.getFormattedLabel(n,"normal")||t.getName(n)});var l=r.getTextContent();r.setTextConfig({position:null,rotation:null}),l.attr({z2:10});var c=e.get(["label","position"]);if("outside"!==c&&"outer"!==c)r.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new wn.Z,this.setTextGuideLine(d)),(0,Sn.Iu)(this,(0,Sn.$x)(i),{stroke:s,opacity:(0,y.retrieve3)(a.get(["lineStyle","opacity"]),u,1)})}},t}(ct.C),Nn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n,r){var i,a=e.getData(),o=this._data,s=this.group;if(!o&&a.count()>0){for(var u=a.getItemLayout(0),l=1;isNaN(u&&u.startAngle)&&l<a.count();++l)u=a.getItemLayout(l);u&&(i=u.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),0===a.count()&&e.get("showEmptyCircle")){var c=new ct.C({shape:yn(e,n)});c.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=c,s.add(c)}a.diff(o).add((function(e){var t=new En(a,e,i);a.setItemGraphicEl(e,t),s.add(t)})).update((function(e,t){var n=o.getItemGraphicEl(t);n.updateData(a,e,i),n.off("click"),s.add(n),a.setItemGraphicEl(e,n)})).remove((function(t){var n=o.getItemGraphicEl(t);Pe.XD(n,e,t)})).execute(),An(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=a)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var n=t.getData().getItemLayout(0);if(n){var r=e[0]-n.cx,i=e[1]-n.cy,a=Math.sqrt(r*r+i*i);return a<=n.r&&a>=n.r0}},t.type="pie",t}(ut.Z),Rn=Nn,Pn=n(62653),On=n(76495);function Ln(e,t,n){t=(0,y.isArray)(t)&&{coordDimensions:t}||(0,y.extend)({encodeDefine:e.getEncode()},t);var r=e.getSource(),i=(0,Pn.Z)(r,t).dimensions,a=new On.Z(i,e);return a.initData(r,n),a}var Fn=n(62770),Zn=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},e.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},e.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},e}(),Bn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,De.ZT)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new Zn(y.bind(this.getData,this),y.bind(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return Ln(this,{coordDimensions:["value"],encodeDefaulter:y.curry(Fn.Ss,this)})},t.prototype.getDataParams=function(t){var n=this.getData(),r=e.prototype.getDataParams.call(this,t),i=[];return n.each(n.mapDimension("value"),(function(e){i.push(e)})),r.percent=(0,dt.eJ)(i,t,n.hostModel.get("percentPrecision")),r.$vars.push("percent"),r},t.prototype._defaultLabelLine=function(e){Je.Cc(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Ie.Z),zn=Bn;var Vn=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return(0,De.ZT)(t,e),t.prototype.getInitialData=function(e,t){return(0,Te.Z)(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(Ie.Z),jn=Vn,Wn=n(97057),Un=function(){},Hn=function(e){function t(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return(0,De.ZT)(t,e),t.prototype.getDefaultShape=function(){return new Un},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,t){var n,r=t.points,i=t.size,a=this.symbolProxy,o=a.shape,s=e.getContext?e.getContext():e,u=s&&i[0]<4,l=this.softClipShape;if(u)this._ctx=s;else{for(this._ctx=null,n=this._off;n<r.length;){var c=r[n++],d=r[n++];isNaN(c)||isNaN(d)||(l&&!l.contain(c,d)||(o.x=c-i[0]/2,o.y=d-i[1]/2,o.width=i[0],o.height=i[1],a.buildPath(e,o,!0)))}this.incremental&&(this._off=n,this.notClear=!0)}},t.prototype.afterBrush=function(){var e,t=this.shape,n=t.points,r=t.size,i=this._ctx,a=this.softClipShape;if(i){for(e=this._off;e<n.length;){var o=n[e++],s=n[e++];isNaN(o)||isNaN(s)||(a&&!a.contain(o,s)||i.fillRect(o-r[0]/2,s-r[1]/2,r[0],r[1]))}this.incremental&&(this._off=e,this.notClear=!0)}},t.prototype.findDataIndex=function(e,t){for(var n=this.shape,r=n.points,i=n.size,a=Math.max(i[0],4),o=Math.max(i[1],4),s=r.length/2-1;s>=0;s--){var u=2*s,l=r[u]-a/2,c=r[u+1]-o/2;if(e>=l&&t>=c&&e<=l+a&&t<=c+o)return s}return-1},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect();return e=n[0],t=n[1],r.contain(e,t)?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape,n=t.points,r=t.size,i=r[0],a=r[1],o=1/0,s=1/0,u=-1/0,l=-1/0,c=0;c<n.length;){var d=n[c++],f=n[c++];o=Math.min(d,o),u=Math.max(d,u),s=Math.min(f,s),l=Math.max(f,l)}e=this._rect=new Wn.Z(o-i/2,s-a/2,u-o+i,l-s+a)}return e},t}(o.ZP),Gn=function(){function e(){this.group=new Me.Z}return e.prototype.updateData=function(e,t){this._clear();var n=this._create();n.setShape({points:e.getLayout("points")}),this._setCommon(n,e,t)},e.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild((function(e){if(null!=e.startIndex){var n=2*(e.endIndex-e.startIndex),r=4*e.startIndex*2;t=new Float32Array(t.buffer,r,n)}e.setShape("points",t),e.reset()}))},e.prototype.incrementalPrepareUpdate=function(e){this._clear()},e.prototype.incrementalUpdate=function(e,t,n){var r=this._newAdded[0],i=t.getLayout("points"),a=r&&r.shape.points;if(a&&a.length<2e4){var o=a.length,s=new Float32Array(o+i.length);s.set(a),s.set(i,o),r.endIndex=e.end,r.setShape({points:s})}else{this._newAdded=[];var u=this._create();u.startIndex=e.start,u.endIndex=e.end,u.incremental=!0,u.setShape({points:i}),this._setCommon(u,t,n)}},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new Hn({cursor:"default"});return this.group.add(e),this._newAdded.push(e),e},e.prototype._setCommon=function(e,t,n){var r=t.hostModel;n=n||{};var i=t.getVisual("symbolSize");e.setShape("size",i instanceof Array?i:[i,i]),e.softClipShape=n.clipShape||null,e.symbolProxy=(0,Ae.th)(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var a=e.shape.size[0]<4;e.useStyle(r.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var o=t.getVisual("style"),s=o&&o.fill;s&&e.setColor(s);var u=(0,Oe.A)(e);u.seriesIndex=r.seriesIndex,e.on("mousemove",(function(t){u.dataIndex=null;var n=e.hoverDataIdx;n>=0&&(u.dataIndex=n+(e.startIndex||0))}))},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),Xn=Gn,qn=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n){var r=e.getData();this._updateSymbolDraw(r,e).updateData(r,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,n){var r=e.getData();this._updateSymbolDraw(r,e).incrementalPrepareUpdate(r),this._finished=!1},t.prototype.incrementalRender=function(e,t,n){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},t.prototype.updateTransform=function(e,t,n){var r=e.getData();if(this.group.dirty(),!this._finished||r.count()>1e4)return{update:!0};var i=Et("").reset(e,t,n);i.progress&&i.progress({start:0,end:r.count(),count:r.count()},r),this._symbolDraw.updateLayout(r)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){var t=e.coordinateSystem,n=t&&t.getArea&&t.getArea();return e.get("clip",!0)?n:null},t.prototype._updateSymbolDraw=function(e,t){var n=this._symbolDraw,r=t.pipelineContext.large;return n&&r===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=r?new Xn:new Ge,this._isLargeDraw=r,this.group.removeAll()),this.group.add(n.group),n},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(ut.Z),Yn=qn,Kn=n(10484),Qn=n(62648),Jn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,De.ZT)(t,e),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Qn.Z),$n=Jn,er=n(20230),tr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,De.ZT)(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Je.C6).models[0]},t.type="cartesian2dAxis",t}(Qn.Z);y.mixin(tr,er.W);var nr={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},rr=y.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},nr),ir=y.merge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},nr),ar={category:rr,value:ir,time:y.merge({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},ir),log:y.defaults({logBase:10},ir)},or=n(53447),sr={value:1,category:1,time:1,log:1};function ur(e,t,n,r){(0,y.each)(sr,(function(i,a){var o=(0,y.merge)((0,y.merge)({},ar[a],!0),r,!0),s=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t+"Axis."+a,n}return(0,De.ZT)(n,e),n.prototype.mergeDefaultAndTheme=function(e,t){var n=(0,pn.YD)(this),r=n?(0,pn.tE)(e):{},i=t.getTheme();(0,y.merge)(e,i.get(a+"Axis")),(0,y.merge)(e,this.getDefaultOption()),e.type=lr(e),n&&(0,pn.dt)(e,r,n)},n.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=or.Z.createByAxisModel(this))},n.prototype.getCategories=function(e){var t=this.option;if("category"===t.type)return e?t.data:this.__ordinalMeta.categories},n.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},n.type=t+"Axis."+a,n.defaultOption=o,n}(n);e.registerComponentModel(s)})),e.registerSubTypeDefaulter(t+"Axis",lr)}function lr(e){return e.type||(e.data?"category":"value")}var cr=n(32655),dr=n(74810),fr=n(21432),hr=n(75784),pr=["x","y"];function mr(e){return"interval"===e.type||"time"===e.type}var gr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=pr,t}return(0,De.ZT)(t,e),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,t=this.getAxis("y").scale;if(mr(e)&&mr(t)){var n=e.getExtent(),r=t.getExtent(),i=this.dataToPoint([n[0],r[0]]),a=this.dataToPoint([n[1],r[1]]),o=n[1]-n[0],s=r[1]-r[0];if(o&&s){var u=(a[0]-i[0])/o,l=(a[1]-i[1])/s,c=i[0]-n[0]*u,d=i[1]-r[0]*l,f=this._transform=[u,0,0,l,c,d];this._invTransform=(0,fr.invert)([],f)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.dataToPoint=function(e,t,n){n=n||[];var r=e[0],i=e[1];if(this._transform&&null!=r&&isFinite(r)&&null!=i&&isFinite(i))return(0,hr.applyTransform)(n,e,this._transform);var a=this.getAxis("x"),o=this.getAxis("y");return n[0]=a.toGlobalCoord(a.dataToCoord(r,t)),n[1]=o.toGlobalCoord(o.dataToCoord(i,t)),n},t.prototype.clampData=function(e,t){var n=this.getAxis("x").scale,r=this.getAxis("y").scale,i=n.getExtent(),a=r.getExtent(),o=n.parse(e[0]),s=r.parse(e[1]);return(t=t||[])[0]=Math.min(Math.max(Math.min(i[0],i[1]),o),Math.max(i[0],i[1])),t[1]=Math.min(Math.max(Math.min(a[0],a[1]),s),Math.max(a[0],a[1])),t},t.prototype.pointToData=function(e,t){var n=[];if(this._invTransform)return(0,hr.applyTransform)(n,e,this._invTransform);var r=this.getAxis("x"),i=this.getAxis("y");return n[0]=r.coordToData(r.toLocalCoord(e[0]),t),n[1]=i.coordToData(i.toLocalCoord(e[1]),t),n},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},t.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),t=this.getAxis("y").getGlobalExtent(),n=Math.min(e[0],e[1]),r=Math.min(t[0],t[1]),i=Math.max(e[0],e[1])-n,a=Math.max(t[0],t[1])-r;return new Wn.Z(n,r,i,a)},t}(dr.Z),vr=gr,yr=n(93855),xr=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r)||this;return o.index=0,o.type=i||"value",o.position=a||"bottom",o}return(0,De.ZT)(t,e),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.getGlobalExtent=function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},t.prototype.pointToData=function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(yr.Z),br=xr;function wr(e,t,n){n=n||{};var r=e.coordinateSystem,i=t.axis,a={},o=i.getAxesOnZeroOf()[0],s=i.position,u=o?"onZero":s,l=i.dim,c=r.getRect(),d=[c.x,c.x+c.width,c.y,c.y+c.height],f={left:0,right:1,top:0,bottom:1,onZero:2},h=t.get("offset")||0,p="x"===l?[d[2]-h,d[3]+h]:[d[0]-h,d[1]+h];if(o){var m=o.toGlobalCoord(o.dataToCoord(0));p[f.onZero]=Math.max(Math.min(m,p[1]),p[0])}a.position=["y"===l?p[f[u]]:d[0],"x"===l?p[f[u]]:d[3]],a.rotation=Math.PI/2*("x"===l?0:1);a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],a.labelOffset=o?p[f[s]]-p[f.onZero]:0,t.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),y.retrieve(n.labelInside,t.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var g=t.get(["axisLabel","rotate"]);return a.labelRotate="top"===u?-g:g,a.z2=1,a}function _r(e){return"cartesian2d"===e.get("coordinateSystem")}function Sr(e){var t={xAxisModel:null,yAxisModel:null};return y.each(t,(function(n,r){var i=r.replace(/Model$/,""),a=e.getReferringComponents(i,Je.C6).models[0];t[r]=a})),t}var Cr=n(88647),kr=n(68748),Dr=Math.log;function Tr(e,t,n){var r=kr.Z.prototype,i=r.getTicks.call(n),a=r.getTicks.call(n,!0),o=i.length-1,s=r.getInterval.call(n),u=(0,cr.Xv)(e,t),l=u.extent,c=u.fixMin,d=u.fixMax;if("log"===e.type){var f=Dr(e.base);l=[Dr(l[0])/f,Dr(l[1])/f]}e.setExtent(l[0],l[1]),e.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:d});var h=r.getExtent.call(e);c&&(l[0]=h[0]),d&&(l[1]=h[1]);var p=r.getInterval.call(e),m=l[0],g=l[1];if(c&&d)p=(g-m)/o;else if(c)for(g=l[0]+p*o;g<l[1]&&isFinite(g)&&isFinite(l[1]);)p=(0,Cr.r1)(p),g=l[0]+p*o;else if(d)for(m=l[1]-p*o;m>l[0]&&isFinite(m)&&isFinite(l[0]);)p=(0,Cr.r1)(p),m=l[1]-p*o;else{e.getTicks().length-1>o&&(p=(0,Cr.r1)(p));var v=p*o;g=Math.ceil(l[1]/p)*p,(m=(0,dt.NM)(g-v))<0&&l[0]>=0?(m=0,g=(0,dt.NM)(v)):g>0&&l[1]<=0&&(g=0,m=-(0,dt.NM)(v))}var y=(i[0].value-a[0].value)/s,x=(i[o].value-a[o].value)/s;r.setExtent.call(e,m+p*y,g+p*x),r.setInterval.call(e,p),(y||x)&&r.setNiceExtent.call(e,m+p,g-p)}var Ir=function(){function e(e,t,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=pr,this._initCartesian(e,t,n),this.model=e}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(e,t){var n=this._axesMap;function r(e){var t,n=(0,y.keys)(e),r=n.length;if(r){for(var i=[],a=r-1;a>=0;a--){var o=e[+n[a]],s=o.model,u=o.scale;(0,Cr.lM)(u)&&s.get("alignTicks")&&null==s.get("interval")?i.push(o):((0,cr.Jk)(u,s),(0,Cr.lM)(u)&&(t=o))}i.length&&(t||(t=i.pop(),(0,cr.Jk)(t.scale,t.model)),(0,y.each)(i,(function(e){Tr(e.scale,e.model,t.scale)})))}}this._updateScale(e,this.model),r(n.x),r(n.y);var i={};(0,y.each)(n.x,(function(e){Mr(n,"y",e,i)})),(0,y.each)(n.y,(function(e){Mr(n,"x",e,i)})),this.resize(this.model,t)},e.prototype.resize=function(e,t,n){var r=e.getBoxLayoutParams(),i=!n&&e.get("containLabel"),a=(0,pn.ME)(r,{width:t.getWidth(),height:t.getHeight()});this._rect=a;var o=this._axesList;function s(){(0,y.each)(o,(function(e){var t=e.isHorizontal(),n=t?[0,a.width]:[0,a.height],r=e.inverse?1:0;e.setExtent(n[r],n[1-r]),function(e,t){var n=e.getExtent(),r=n[0]+n[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return r-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return r-e+t}}(e,t?a.x:a.y)}))}s(),i&&((0,y.each)(o,(function(e){if(!e.model.get(["axisLabel","inside"])){var t=(0,cr.Do)(e);if(t){var n=e.isHorizontal()?"height":"width",r=e.model.get(["axisLabel","margin"]);a[n]-=t[n]+r,"top"===e.position?a.y+=t.height+r:"left"===e.position&&(a.x+=t.width+r)}}})),s()),(0,y.each)(this._coordsList,(function(e){e.calcAffineTransform()}))},e.prototype.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n)return n[t||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(e,t){if(null!=e&&null!=t){var n="x"+e+"y"+t;return this._coordsMap[n]}(0,y.isObject)(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,i=this._coordsList;r<i.length;r++)if(i[r].getAxis("x").index===e||i[r].getAxis("y").index===t)return i[r]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(e,t,n){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},e.prototype.convertFromPixel=function(e,t,n){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(e){var t,n,r=e.seriesModel,i=e.xAxisModel||r&&r.getReferringComponents("xAxis",Je.C6).models[0],a=e.yAxisModel||r&&r.getReferringComponents("yAxis",Je.C6).models[0],o=e.gridModel,s=this._coordsList;if(r)t=r.coordinateSystem,(0,y.indexOf)(s,t)<0&&(t=null);else if(i&&a)t=this.getCartesian(i.componentIndex,a.componentIndex);else if(i)n=this.getAxis("x",i.componentIndex);else if(a)n=this.getAxis("y",a.componentIndex);else if(o){o.coordinateSystem===this&&(t=this._coordsList[0])}return{cartesian:t,axis:n}},e.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},e.prototype._initCartesian=function(e,t,n){var r=this,i=this,a={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},s={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function u(t){return function(n,r){if(Ar(n,e)){var u=n.get("position");"x"===t?"top"!==u&&"bottom"!==u&&(u=a.bottom?"top":"bottom"):"left"!==u&&"right"!==u&&(u=a.left?"right":"left"),a[u]=!0;var l=new br(t,(0,cr.aG)(n),[0,0],n.get("type"),u),c="category"===l.type;l.onBand=c&&n.get("boundaryGap"),l.inverse=n.get("inverse"),n.axis=l,l.model=n,l.grid=i,l.index=r,i._axesList.push(l),o[t][r]=l,s[t]++}}}this._axesMap=o,(0,y.each)(o.x,(function(t,n){(0,y.each)(o.y,(function(i,a){var o="x"+n+"y"+a,s=new vr(o);s.master=r,s.model=e,r._coordsMap[o]=s,r._coordsList.push(s),s.addAxis(t),s.addAxis(i)}))}))},e.prototype._updateScale=function(e,t){function n(e,t){(0,y.each)((0,cr.PY)(e,t.dim),(function(n){t.scale.unionExtentFromData(e,n)}))}(0,y.each)(this._axesList,(function(e){if(e.scale.setExtent(1/0,-1/0),"category"===e.type){var t=e.model.get("categorySortInfo");e.scale.setSortInfo(t)}})),e.eachSeries((function(e){if(_r(e)){var r=Sr(e),i=r.xAxisModel,a=r.yAxisModel;if(!Ar(i,t)||!Ar(a,t))return;var o=this.getCartesian(i.componentIndex,a.componentIndex),s=e.getData(),u=o.getAxis("x"),l=o.getAxis("y");n(s,u),n(s,l)}}),this)},e.prototype.getTooltipAxes=function(e){var t=[],n=[];return(0,y.each)(this.getCartesians(),(function(r){var i=null!=e&&"auto"!==e?r.getAxis(e):r.getBaseAxis(),a=r.getOtherAxis(i);(0,y.indexOf)(t,i)<0&&t.push(i),(0,y.indexOf)(n,a)<0&&n.push(a)})),{baseAxes:t,otherAxes:n}},e.create=function(t,n){var r=[];return t.eachComponent("grid",(function(i,a){var o=new e(i,t,n);o.name="grid_"+a,o.resize(i,n,!0),i.coordinateSystem=o,r.push(o)})),t.eachSeries((function(e){if(_r(e)){var t=Sr(e),n=t.xAxisModel,r=t.yAxisModel;0;var i=n.getCoordSysModel().coordinateSystem;e.coordinateSystem=i.getCartesian(n.componentIndex,r.componentIndex)}})),r},e.dimensions=pr,e}();function Ar(e,t){return e.getCoordSysModel()===t}function Mr(e,t,n,r){n.getAxesOnZeroOf=function(){return i?[i]:[]};var i,a=e[t],o=n.model,s=o.get(["axisLine","onZero"]),u=o.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=u)Er(a[u])&&(i=a[u]);else for(var l in a)if(a.hasOwnProperty(l)&&Er(a[l])&&!r[c(a[l])]){i=a[l];break}i&&(r[c(i)]=!0)}function c(e){return e.dim+"_"+e.index}}function Er(e){return e&&"category"!==e.type&&"time"!==e.type&&(0,cr.Yb)(e)}var Nr=Ir,Rr=n(71768),Pr=n(81149),Or=Math.PI,Lr=function(){function e(e,t){this.group=new Me.Z,this.opt=t,this.axisModel=e,(0,y.defaults)(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new Me.Z({x:t.position[0],y:t.position[1],rotation:t.rotation});n.updateTransform(),this._transformGroup=n}return e.prototype.hasBuilder=function(e){return!!Fr[e]},e.prototype.add=function(e){Fr[e](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(e,t,n){var r,i,a=(0,dt.wW)(t-e);return(0,dt.mW)(a)?(i=n>0?"top":"bottom",r="center"):(0,dt.mW)(a-Or)?(i=n>0?"bottom":"top",r="center"):(i="middle",r=a>0&&a<Or?n>0?"right":"left":n>0?"left":"right"),{rotation:a,textAlign:r,textVerticalAlign:i}},e.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},e.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},e}(),Fr={axisLine:function(e,t,n,r){var i=t.get(["axisLine","show"]);if("auto"===i&&e.handleAutoShown&&(i=e.handleAutoShown("axisLine")),i){var a=t.axis.getExtent(),o=r.transform,s=[a[0],0],u=[a[1],0];o&&((0,hr.applyTransform)(s,s,o),(0,hr.applyTransform)(u,u,o));var l=(0,y.extend)({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),c=new Rr.Z({subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:u[0],y2:u[1]},style:l,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});c.anid="line",n.add(c);var d=t.get(["axisLine","symbol"]);if(null!=d){var f=t.get(["axisLine","symbolSize"]);(0,y.isString)(d)&&(d=[d,d]),((0,y.isString)(f)||(0,y.isNumber)(f))&&(f=[f,f]);var h=(0,Ae.Cq)(t.get(["axisLine","symbolOffset"])||0,f),p=f[0],m=f[1];(0,y.each)([{rotate:e.rotation+Math.PI/2,offset:h[0],r:0},{rotate:e.rotation-Math.PI/2,offset:h[1],r:Math.sqrt((s[0]-u[0])*(s[0]-u[0])+(s[1]-u[1])*(s[1]-u[1]))}],(function(t,r){if("none"!==d[r]&&null!=d[r]){var i=(0,Ae.th)(d[r],-p/2,-m/2,p,m,l.stroke,!0),a=t.r+t.offset;i.attr({rotation:t.rotate,x:s[0]+a*Math.cos(e.rotation),y:s[1]-a*Math.sin(e.rotation),silent:!0,z2:11}),n.add(i)}}))}}},axisTickLabel:function(e,t,n,r){var i=function(e,t,n,r){var i=n.axis,a=n.getModel("axisTick"),o=a.get("show");"auto"===o&&r.handleAutoShown&&(o=r.handleAutoShown("axisTick"));if(!o||i.scale.isBlank())return;for(var s=a.getModel("lineStyle"),u=r.tickDirection*a.get("length"),l=Vr(i.getTicksCoords(),t.transform,u,(0,y.defaults)(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),c=0;c<l.length;c++)e.add(l[c]);return l}(n,r,t,e),a=function(e,t,n,r){var i=n.axis;if(!(0,y.retrieve)(r.axisLabelShow,n.get(["axisLabel","show"]))||i.scale.isBlank())return;var a=n.getModel("axisLabel"),o=a.get("margin"),s=i.getViewLabels(),u=((0,y.retrieve)(r.labelRotate,a.get("rotate"))||0)*Or/180,l=Lr.innerTextLayout(r.rotation,u,r.labelDirection),c=n.getCategories&&n.getCategories(!0),d=[],f=Lr.isLabelSilent(n),h=n.get("triggerEvent");return(0,y.each)(s,(function(s,u){var p="ordinal"===i.scale.type?i.scale.getRawOrdinalNumber(s.tickValue):s.tickValue,m=s.formattedLabel,g=s.rawLabel,v=a;if(c&&c[p]){var x=c[p];(0,y.isObject)(x)&&x.textStyle&&(v=new Pr.Z(x.textStyle,a,n.ecModel))}var b=v.getTextColor()||n.get(["axisLine","lineStyle","color"]),w=i.dataToCoord(p),_=new U.ZP({x:w,y:r.labelOffset+r.labelDirection*o,rotation:l.rotation,silent:f,z2:10+(s.level||0),style:(0,ze.Lr)(v,{text:m,align:v.getShallow("align",!0)||l.textAlign,verticalAlign:v.getShallow("verticalAlign",!0)||v.getShallow("baseline",!0)||l.textVerticalAlign,fill:(0,y.isFunction)(b)?b("category"===i.type?g:"value"===i.type?p+"":p,u):b})});if(_.anid="label_"+p,h){var S=Lr.makeAxisEventDataBase(n);S.targetType="axisLabel",S.value=g,S.tickIndex=u,"category"===i.type&&(S.dataIndex=p),(0,Oe.A)(_).eventData=S}t.add(_),_.updateTransform(),d.push(_),e.add(_),_.decomposeTransform()})),d}(n,r,t,e);if(function(e,t,n){if((0,cr.WY)(e.axis))return;var r=e.get(["axisLabel","showMinLabel"]),i=e.get(["axisLabel","showMaxLabel"]);n=n||[];var a=(t=t||[])[0],o=t[1],s=t[t.length-1],u=t[t.length-2],l=n[0],c=n[1],d=n[n.length-1],f=n[n.length-2];!1===r?(Zr(a),Zr(l)):Br(a,o)&&(r?(Zr(o),Zr(c)):(Zr(a),Zr(l)));!1===i?(Zr(s),Zr(d)):Br(u,s)&&(i?(Zr(u),Zr(f)):(Zr(s),Zr(d)))}(t,a,i),function(e,t,n,r){var i=n.axis,a=n.getModel("minorTick");if(!a.get("show")||i.scale.isBlank())return;var o=i.getMinorTicksCoords();if(!o.length)return;for(var s=a.getModel("lineStyle"),u=r*a.get("length"),l=(0,y.defaults)(s.getLineStyle(),(0,y.defaults)(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),c=0;c<o.length;c++)for(var d=Vr(o[c],t.transform,u,l,"minorticks_"+c),f=0;f<d.length;f++)e.add(d[f])}(n,r,t,e.tickDirection),t.get(["axisLabel","hideOverlap"])){var o=(0,Cn.VT)((0,y.map)(a,(function(e){return{label:e,priority:e.z2,defaultAttr:{ignore:e.ignore}}})));(0,Cn.yl)(o)}},axisName:function(e,t,n,r){var i=(0,y.retrieve)(e.axisName,t.get("name"));if(i){var a,o,s=t.get("nameLocation"),u=e.nameDirection,l=t.getModel("nameTextStyle"),c=t.get("nameGap")||0,d=t.axis.getExtent(),f=d[0]>d[1]?-1:1,h=["start"===s?d[0]-f*c:"end"===s?d[1]+f*c:(d[0]+d[1])/2,zr(s)?e.labelOffset+u*c:0],p=t.get("nameRotate");null!=p&&(p=p*Or/180),zr(s)?a=Lr.innerTextLayout(e.rotation,null!=p?p:e.rotation,u):(a=function(e,t,n,r){var i,a,o=(0,dt.wW)(n-e),s=r[0]>r[1],u="start"===t&&!s||"start"!==t&&s;(0,dt.mW)(o-Or/2)?(a=u?"bottom":"top",i="center"):(0,dt.mW)(o-1.5*Or)?(a=u?"top":"bottom",i="center"):(a="middle",i=o<1.5*Or&&o>Or/2?u?"left":"right":u?"right":"left");return{rotation:o,textAlign:i,textVerticalAlign:a}}(e.rotation,s,p||0,d),null!=(o=e.axisNameAvailableWidth)&&(o=Math.abs(o/Math.sin(a.rotation)),!isFinite(o)&&(o=null)));var m=l.getFont(),g=t.get("nameTruncate",!0)||{},v=g.ellipsis,x=(0,y.retrieve)(e.nameTruncateMaxWidth,g.maxWidth,o),b=new U.ZP({x:h[0],y:h[1],rotation:a.rotation,silent:Lr.isLabelSilent(t),style:(0,ze.Lr)(l,{text:i,font:m,overflow:"truncate",width:x,ellipsis:v,fill:l.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:l.get("align")||a.textAlign,verticalAlign:l.get("verticalAlign")||a.textVerticalAlign}),z2:1});if(Re.setTooltipConfig({el:b,componentModel:t,itemName:i}),b.__fullText=i,b.anid="name",t.get("triggerEvent")){var w=Lr.makeAxisEventDataBase(t);w.targetType="axisName",w.name=i,(0,Oe.A)(b).eventData=w}r.add(b),b.updateTransform(),n.add(b),b.decomposeTransform()}}};function Zr(e){e&&(e.ignore=!0)}function Br(e,t){var n=e&&e.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(n&&r){var i=fr.identity([]);return fr.rotate(i,i,-e.rotation),n.applyTransform(fr.mul([],i,e.getLocalTransform())),r.applyTransform(fr.mul([],i,t.getLocalTransform())),n.intersect(r)}}function zr(e){return"middle"===e||"center"===e}function Vr(e,t,n,r,i){for(var a=[],o=[],s=[],u=0;u<e.length;u++){var l=e[u].coord;o[0]=l,o[1]=0,s[0]=l,s[1]=n,t&&((0,hr.applyTransform)(o,o,t),(0,hr.applyTransform)(s,s,t));var c=new Rr.Z({subPixelOptimize:!0,shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});c.anid=i+"_"+e[u].tickValue,a.push(c)}return a}var jr=Lr;function Wr(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(e,t,n){var r=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),a=i.get("link",!0)||[],o=[];(0,y.each)(n.getCoordinateSystems(),(function(n){if(n.axisPointerEnabled){var s=qr(n.model),u=e.coordSysAxesInfo[s]={};e.coordSysMap[s]=n;var l=n.model.getModel("tooltip",r);if((0,y.each)(n.getAxes(),(0,y.curry)(h,!1,null)),n.getTooltipAxes&&r&&l.get("show")){var c="axis"===l.get("trigger"),d="cross"===l.get(["axisPointer","type"]),f=n.getTooltipAxes(l.get(["axisPointer","axis"]));(c||d)&&(0,y.each)(f.baseAxes,(0,y.curry)(h,!d||"cross",c)),d&&(0,y.each)(f.otherAxes,(0,y.curry)(h,"cross",!1))}}function h(r,s,c){var d=c.model.getModel("axisPointer",i),f=d.get("show");if(f&&("auto"!==f||r||Xr(d))){null==s&&(s=d.get("triggerTooltip")),d=r?function(e,t,n,r,i,a){var o=t.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],u={};(0,y.each)(s,(function(e){u[e]=(0,y.clone)(o.get(e))})),u.snap="category"!==e.type&&!!a,"cross"===o.get("type")&&(u.type="line");var l=u.label||(u.label={});if(null==l.show&&(l.show=!1),"cross"===i){var c=o.get(["label","show"]);if(l.show=null==c||c,!a){var d=u.lineStyle=o.get("crossStyle");d&&(0,y.defaults)(l,d.textStyle)}}return e.model.getModel("axisPointer",new Pr.Z(u,n,r))}(c,l,i,t,r,s):d;var h=d.get("snap"),p=qr(c.model),m=s||h||"category"===c.type,g=e.axesInfo[p]={key:p,axis:c,coordSys:n,axisPointerModel:d,triggerTooltip:s,involveSeries:m,snap:h,useHandle:Xr(d),seriesModels:[],linkGroup:null};u[p]=g,e.seriesInvolved=e.seriesInvolved||m;var v=function(e,t){for(var n=t.model,r=t.dim,i=0;i<e.length;i++){var a=e[i]||{};if(Ur(a[r+"AxisId"],n.id)||Ur(a[r+"AxisIndex"],n.componentIndex)||Ur(a[r+"AxisName"],n.name))return i}}(a,c);if(null!=v){var x=o[v]||(o[v]={axesInfo:{}});x.axesInfo[p]=g,x.mapper=a[v].mapper,g.linkGroup=x}}}}))}(n,e,t),n.seriesInvolved&&function(e,t){t.eachSeries((function(t){var n=t.coordinateSystem,r=t.get(["tooltip","trigger"],!0),i=t.get(["tooltip","show"],!0);n&&"none"!==r&&!1!==r&&"item"!==r&&!1!==i&&!1!==t.get(["axisPointer","show"],!0)&&(0,y.each)(e.coordSysAxesInfo[qr(n.model)],(function(e){var r=e.axis;n.getAxis(r.dim)===r&&(e.seriesModels.push(t),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=t.getData().count())}))}))}(n,e),n}function Ur(e,t){return"all"===e||(0,y.isArray)(e)&&(0,y.indexOf)(e,t)>=0||e===t}function Hr(e){var t=Gr(e);if(t){var n=t.axisPointerModel,r=t.axis.scale,i=n.option,a=n.get("status"),o=n.get("value");null!=o&&(o=r.parse(o));var s=Xr(n);null==a&&(i.status=s?"show":"hide");var u=r.getExtent().slice();u[0]>u[1]&&u.reverse(),(null==o||o>u[1])&&(o=u[1]),o<u[0]&&(o=u[0]),i.value=o,s&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function Gr(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[qr(e)]}function Xr(e){return!!e.get(["handle","show"])}function qr(e){return e.type+"||"+e.id}var Yr={},Kr=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.render=function(t,n,r,i){this.axisPointerClass&&Hr(t),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,r,!0)},t.prototype.updateAxisPointer=function(e,t,n,r){this._doUpdateAxisPointerClass(e,n,!1)},t.prototype.remove=function(e,t){var n=this._axisPointer;n&&n.remove(t)},t.prototype.dispose=function(t,n){this._disposeAxisPointer(n),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,n,r){var i=t.getAxisPointerClass(this.axisPointerClass);if(i){var a=function(e){var t=Gr(e);return t&&t.axisPointerModel}(e);a?(this._axisPointer||(this._axisPointer=new i)).render(e,a,n,r):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,t){Yr[e]=t},t.getAxisPointerClass=function(e){return e&&Yr[e]},t.type="axis",t}(Kn.Z),Qr=Kr,Jr=(0,Je.Yf)();function $r(e,t,n,r){var i=n.axis;if(!i.scale.isBlank()){var a=n.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),u=r.coordinateSystem.getRect(),l=i.getTicksCoords({tickModel:a,clamp:!0});if(l.length){var c=s.length,d=Jr(e).splitAreaColors,f=y.createHashMap(),h=0;if(d)for(var p=0;p<l.length;p++){var m=d.get(l[p].tickValue);if(null!=m){h=(m+(c-1)*p)%c;break}}var g=i.toGlobalCoord(l[0].coord),v=o.getAreaStyle();s=y.isArray(s)?s:[s];for(p=1;p<l.length;p++){var x=i.toGlobalCoord(l[p].coord),b=void 0,w=void 0,_=void 0,S=void 0;i.isHorizontal()?(b=g,w=u.y,_=x-b,S=u.height,g=b+_):(b=u.x,w=g,_=u.width,g=w+(S=x-w));var C=l[p-1].tickValue;null!=C&&f.set(C,h),t.add(new lt.Z({anid:null!=C?"area_"+C:null,shape:{x:b,y:w,width:_,height:S},style:y.defaults({fill:s[h]},v),autoBatch:!0,silent:!0})),h=(h+1)%c}Jr(e).splitAreaColors=f}}}function ei(e){Jr(e).splitAreaColors=null}var ti=["axisLine","axisTickLabel","axisName"],ni=["splitArea","splitLine","minorSplitLine"],ri=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="CartesianAxisPointer",n}return(0,De.ZT)(t,e),t.prototype.render=function(t,n,r,i){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new Me.Z,this.group.add(this._axisGroup),t.get("show")){var o=t.getCoordSysModel(),s=wr(o,t),u=new jr(t,y.extend({handleAutoShown:function(e){for(var n=o.coordinateSystem.getCartesians(),r=0;r<n.length;r++)if((0,Cr.lM)(n[r].getOtherAxis(t.axis).scale))return!0;return!1}},s));y.each(ti,u.add,u),this._axisGroup.add(u.getGroup()),y.each(ni,(function(e){t.get([e,"show"])&&ii[e](this,this._axisGroup,t,o)}),this),i&&"changeAxisOrder"===i.type&&i.isInitSort||Re.groupTransition(a,this._axisGroup,t),e.prototype.render.call(this,t,n,r,i)}},t.prototype.remove=function(){ei(this)},t.type="cartesianAxis",t}(Qr),ii={splitLine:function(e,t,n,r){var i=n.axis;if(!i.scale.isBlank()){var a=n.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=y.isArray(s)?s:[s];for(var u=r.coordinateSystem.getRect(),l=i.isHorizontal(),c=0,d=i.getTicksCoords({tickModel:a}),f=[],h=[],p=o.getLineStyle(),m=0;m<d.length;m++){var g=i.toGlobalCoord(d[m].coord);l?(f[0]=g,f[1]=u.y,h[0]=g,h[1]=u.y+u.height):(f[0]=u.x,f[1]=g,h[0]=u.x+u.width,h[1]=g);var v=c++%s.length,x=d[m].tickValue;t.add(new Rr.Z({anid:null!=x?"line_"+d[m].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:h[0],y2:h[1]},style:y.defaults({stroke:s[v]},p),silent:!0}))}}},minorSplitLine:function(e,t,n,r){var i=n.axis,a=n.getModel("minorSplitLine").getModel("lineStyle"),o=r.coordinateSystem.getRect(),s=i.isHorizontal(),u=i.getMinorTicksCoords();if(u.length)for(var l=[],c=[],d=a.getLineStyle(),f=0;f<u.length;f++)for(var h=0;h<u[f].length;h++){var p=i.toGlobalCoord(u[f][h].coord);s?(l[0]=p,l[1]=o.y,c[0]=p,c[1]=o.y+o.height):(l[0]=o.x,l[1]=p,c[0]=o.x+o.width,c[1]=p),t.add(new Rr.Z({anid:"minor_line_"+u[f][h].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:l[0],y1:l[1],x2:c[0],y2:c[1]},style:d,silent:!0}))}},splitArea:function(e,t,n,r){$r(e,t,n,r)}},ai=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.type="xAxis",t}(ri),oi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=ai.type,t}return(0,De.ZT)(t,e),t.type="yAxis",t}(ri),si=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="grid",t}return(0,De.ZT)(t,e),t.prototype.render=function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new lt.Z({shape:e.coordinateSystem.getRect(),style:(0,y.defaults)({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Kn.Z),ui={offset:0};function li(e){e.registerComponentView(si),e.registerComponentModel($n),e.registerCoordinateSystem("cartesian2d",Nr),ur(e,"x",tr,ui),ur(e,"y",tr,ui),e.registerComponentView(ai),e.registerComponentView(oi),e.registerPreprocessor((function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}))}function ci(e){e.eachSeriesByType("radar",(function(e){var t=e.getData(),n=[],r=e.coordinateSystem;if(r){var i=r.getIndicatorAxes();y.each(i,(function(e,a){t.each(t.mapDimension(i[a].dim),(function(e,t){n[t]=n[t]||[];var i=r.dataToPoint(e,a);n[t][a]=di(i)?i:fi(r)}))})),t.each((function(e){var i=y.find(n[e],(function(e){return di(e)}))||fi(r);n[e].push(i.slice()),t.setItemLayout(e,n[e])}))}}))}function di(e){return!isNaN(e[0])&&!isNaN(e[1])}function fi(e){return[e.cx,e.cy]}function hi(e){var t=e.polar;if(t){y.isArray(t)||(t=[t]);var n=[];y.each(t,(function(t,r){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),e.radar=e.radar||[],y.isArray(e.radar)||(e.radar=[e.radar]),e.radar.push(t)):n.push(t)})),e.polar=n}y.each(e.series,(function(e){e&&"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)}))}var pi=n(91719),mi=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n){var r=e.coordinateSystem,i=this.group,a=e.getData(),o=this._data;function u(e,t){var n=e.getItemVisual(t,"symbol")||"circle";if("none"!==n){var r=Ae.zp(e.getItemVisual(t,"symbolSize")),i=Ae.th(n,-1,-1,2,2),a=e.getItemVisual(t,"symbolRotate")||0;return i.attr({style:{strokeNoScale:!0},z2:100,scaleX:r[0]/2,scaleY:r[1]/2,rotation:a*Math.PI/180||0}),i}}function l(t,n,r,i,a,o){r.removeAll();for(var s=0;s<n.length-1;s++){var l=u(i,a);l&&(l.__dimIdx=s,t[s]?(l.setPosition(t[s]),Re[o?"initProps":"updateProps"](l,{x:n[s][0],y:n[s][1]},e,a)):l.setPosition(n[s]),r.add(l))}}function c(e){return y.map(e,(function(e){return[r.cx,r.cy]}))}a.diff(o).add((function(t){var n=a.getItemLayout(t);if(n){var r=new pi.Z,i=new wn.Z,o={shape:{points:n}};r.shape.points=c(n),i.shape.points=c(n),Pe.KZ(r,o,e,t),Pe.KZ(i,o,e,t);var s=new Me.Z,u=new Me.Z;s.add(i),s.add(r),s.add(u),l(i.shape.points,n,u,a,t,!0),a.setItemGraphicEl(t,s)}})).update((function(t,n){var r=o.getItemGraphicEl(n),i=r.childAt(0),s=r.childAt(1),u=r.childAt(2),c={shape:{points:a.getItemLayout(t)}};c.shape.points&&(l(i.shape.points,c.shape.points,u,a,t,!1),(0,Pe.Zi)(s),(0,Pe.Zi)(i),Pe.D(i,c,e),Pe.D(s,c,e),a.setItemGraphicEl(t,r))})).remove((function(e){i.remove(o.getItemGraphicEl(e))})).execute(),a.eachItemGraphicEl((function(e,t){var n=a.getItemModel(t),r=e.childAt(0),o=e.childAt(1),u=e.childAt(2),l=a.getItemVisual(t,"style"),c=l.fill;i.add(e),r.useStyle(y.defaults(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:c})),(0,Le.WO)(r,n,"lineStyle"),(0,Le.WO)(o,n,"areaStyle");var d=n.getModel("areaStyle"),f=d.isEmpty()&&d.parentModel.isEmpty();o.ignore=f,y.each(["emphasis","select","blur"],(function(e){var t=n.getModel([e,"areaStyle"]),r=t.isEmpty()&&t.parentModel.isEmpty();o.ensureState(e).ignore=r&&f})),o.useStyle(y.defaults(d.getAreaStyle(),{fill:c,opacity:.7,decal:l.decal}));var h=n.getModel("emphasis"),p=h.getModel("itemStyle").getItemStyle();u.eachChild((function(e){if(e instanceof s.ZP){var r=e.style;e.useStyle(y.extend({image:r.image,x:r.x,y:r.y,width:r.width,height:r.height},l))}else e.useStyle(l),e.setColor(c),e.style.strokeNoScale=!0;e.ensureState("emphasis").style=y.clone(p);var i=a.getStore().get(a.getDimensionIndex(e.__dimIdx),t);(null==i||isNaN(i))&&(i=""),(0,ze.ni)(e,(0,ze.k3)(n),{labelFetcher:a.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:i,inheritColor:c,defaultOpacity:l.opacity})})),(0,Le.k5)(e,h.get("focus"),h.get("blurScope"),h.get("disabled"))})),this._data=a},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(ut.Z),gi=mi,vi=n(6865),yi=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return(0,De.ZT)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new Zn(y.bind(this.getData,this),y.bind(this.getRawData,this))},t.prototype.getInitialData=function(e,t){return Ln(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,t,n){var r=this.getData(),i=this.coordinateSystem.getIndicatorAxes(),a=this.getData().getName(e),o=""===a?this.name:a,s=(0,vi.jT)(this,e);return(0,vi.TX)("section",{header:o,sortBlocks:!0,blocks:y.map(i,(function(t){var n=r.get(r.mapDimension(t.dim),e);return(0,vi.TX)("nameValue",{markerType:"subItem",markerColor:s,name:t.name,value:n,sortParam:n})}))})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var t=this.getData(),n=this.coordinateSystem,r=t.getValues(y.map(n.dimensions,(function(e){return t.mapDimension(e)})),e),i=0,a=r.length;i<a;i++)if(!isNaN(r[i])){var o=n.getIndicatorAxes();return n.coordToPoint(o[i].dataToCoord(r[i]),i)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(Ie.Z),xi=yi,bi=ar.value;function wi(e,t){return y.defaults({show:t},e)}var _i=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),n=this.get("scale"),r=this.get("axisLine"),i=this.get("axisTick"),a=this.get("axisLabel"),o=this.get("axisName"),s=this.get(["axisName","show"]),u=this.get(["axisName","formatter"]),l=this.get("axisNameGap"),c=this.get("triggerEvent"),d=y.map(this.get("indicator")||[],(function(d){null!=d.max&&d.max>0&&!d.min?d.min=0:null!=d.min&&d.min<0&&!d.max&&(d.max=0);var f=o;null!=d.color&&(f=y.defaults({color:d.color},o));var h=y.merge(y.clone(d),{boundaryGap:e,splitNumber:t,scale:n,axisLine:r,axisTick:i,axisLabel:a,name:d.text,showName:s,nameLocation:"end",nameGap:l,nameTextStyle:f,triggerEvent:c},!1);if(s||(h.name=""),y.isString(u)){var p=h.name;h.name=u.replace("{value}",null!=p?p:"")}else y.isFunction(u)&&(h.name=u(h.name,h));var m=new Pr.Z(h,null,this.ecModel);return y.mixin(m,er.W.prototype),m.mainType="radar",m.componentIndex=this.componentIndex,m}),this);this._indicatorModels=d},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:y.merge({lineStyle:{color:"#bbb"}},bi.axisLine),axisLabel:wi(bi.axisLabel,!1),axisTick:wi(bi.axisTick,!1),splitLine:wi(bi.splitLine,!0),splitArea:wi(bi.splitArea,!0),indicator:[]},t}(Qn.Z),Si=_i,Ci=n(11345),ki=n(25366),Di=["axisLine","axisTickLabel","axisName"],Ti=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var t=e.coordinateSystem,n=t.getIndicatorAxes(),r=y.map(n,(function(e){var n=e.model.get("showName")?e.name:"";return new jr(e.model,{axisName:n,position:[t.cx,t.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}));y.each(r,(function(e){y.each(Di,e.add,e),this.group.add(e.getGroup())}),this)},t.prototype._buildSplitLineAndArea=function(e){var t=e.coordinateSystem,n=t.getIndicatorAxes();if(n.length){var r=e.get("shape"),i=e.getModel("splitLine"),a=e.getModel("splitArea"),o=i.getModel("lineStyle"),s=a.getModel("areaStyle"),u=i.get("show"),l=a.get("show"),c=o.get("color"),d=s.get("color"),f=y.isArray(c)?c:[c],h=y.isArray(d)?d:[d],p=[],m=[];if("circle"===r)for(var g=n[0].getTicksCoords(),v=t.cx,x=t.cy,b=0;b<g.length;b++){if(u)p[I(p,f,b)].push(new Ci.Z({shape:{cx:v,cy:x,r:g[b].coord}}));if(l&&b<g.length-1)m[I(m,h,b)].push(new ki.Z({shape:{cx:v,cy:x,r0:g[b].coord,r:g[b+1].coord}}))}else{var w,_=y.map(n,(function(e,n){var r=e.getTicksCoords();return w=null==w?r.length-1:Math.min(r.length-1,w),y.map(r,(function(e){return t.coordToPoint(e.coord,n)}))})),S=[];for(b=0;b<=w;b++){for(var C=[],k=0;k<n.length;k++)C.push(_[k][b]);if(C[0]&&C.push(C[0].slice()),u)p[I(p,f,b)].push(new wn.Z({shape:{points:C}}));if(l&&S)m[I(m,h,b-1)].push(new pi.Z({shape:{points:C.concat(S)}}));S=C.slice().reverse()}}var D=o.getLineStyle(),T=s.getAreaStyle();y.each(m,(function(e,t){this.group.add(Re.mergePath(e,{style:y.defaults({stroke:"none",fill:h[t%h.length]},T),silent:!0}))}),this),y.each(p,(function(e,t){this.group.add(Re.mergePath(e,{style:y.defaults({fill:"none",stroke:f[t%f.length]},D),silent:!0}))}),this)}function I(e,t,n){var r=n%t.length;return e[r]=e[r]||[],r}},t.type="radar",t}(Kn.Z),Ii=Ti,Ai=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.type="value",i.angle=0,i.name="",i}return(0,De.ZT)(t,e),t}(yr.Z),Mi=function(){function e(e,t,n){this.dimensions=[],this._model=e,this._indicatorAxes=(0,y.map)(e.getIndicatorModels(),(function(e,t){var n="indicator_"+t,r=new Ai(n,new kr.Z);return r.name=e.get("name"),r.model=e,e.axis=r,this.dimensions.push(n),r}),this),this.resize(e,n)}return e.prototype.getIndicatorAxes=function(){return this._indicatorAxes},e.prototype.dataToPoint=function(e,t){var n=this._indicatorAxes[t];return this.coordToPoint(n.dataToCoord(e),t)},e.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(n),this.cy-e*Math.sin(n)]},e.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,r=Math.sqrt(t*t+n*n);t/=r,n/=r;for(var i,a=Math.atan2(-n,t),o=1/0,s=-1,u=0;u<this._indicatorAxes.length;u++){var l=this._indicatorAxes[u],c=Math.abs(a-l.angle);c<o&&(i=l,s=u,o=c)}return[s,+(i&&i.coordToData(r))]},e.prototype.resize=function(e,t){var n=e.get("center"),r=t.getWidth(),i=t.getHeight(),a=Math.min(r,i)/2;this.cx=dt.GM(n[0],r),this.cy=dt.GM(n[1],i),this.startAngle=e.get("startAngle")*Math.PI/180;var o=e.get("radius");((0,y.isString)(o)||(0,y.isNumber)(o))&&(o=[0,o]),this.r0=dt.GM(o[0],a),this.r=dt.GM(o[1],a),(0,y.each)(this._indicatorAxes,(function(e,t){e.setExtent(this.r0,this.r);var n=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),e.angle=n}),this)},e.prototype.update=function(e,t){var n=this._indicatorAxes,r=this._model;(0,y.each)(n,(function(e){e.scale.setExtent(1/0,-1/0)})),e.eachSeriesByType("radar",(function(t,i){if("radar"===t.get("coordinateSystem")&&e.getComponent("radar",t.get("radarIndex"))===r){var a=t.getData();(0,y.each)(n,(function(e){e.scale.unionExtentFromData(a,a.mapDimension(e.dim))}))}}),this);var i=r.get("splitNumber"),a=new kr.Z;a.setExtent(0,i),a.setInterval(1),(0,y.each)(n,(function(e,t){Tr(e.scale,e.model,a)}))},e.prototype.convertToPixel=function(e,t,n){return console.warn("Not implemented."),null},e.prototype.convertFromPixel=function(e,t,n){return console.warn("Not implemented."),null},e.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},e.create=function(t,n){var r=[];return t.eachComponent("radar",(function(i){var a=new e(i,t,n);r.push(a),i.coordinateSystem=a})),t.eachSeriesByType("radar",(function(e){"radar"===e.get("coordinateSystem")&&(e.coordinateSystem=r[e.get("radarIndex")||0])})),r},e.dimensions=[],e}(),Ei=Mi;function Ni(e){e.registerCoordinateSystem("radar",Ei),e.registerComponentModel(Si),e.registerComponentView(Ii),e.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each((function(e){t.setItemVisual(e,"legendIcon","roundRect")})),t.setVisual("legendIcon","roundRect")}})}var Ri=n(85363),Pi=n(43100),Oi=n(14913),Li="\0_ec_interaction_mutex";function Fi(e,t){return!!Zi(e)[t]}function Zi(e){return e[Li]||(e[Li]={})}function Bi(e,t,n,r,i){e.pointerChecker&&e.pointerChecker(r,i.originX,i.originY)&&(Pi.sT(r.event),zi(e,t,n,r,i))}function zi(e,t,n,r,i){i.isAvailableBehavior=(0,y.bind)(Vi,null,n,r),e.trigger(t,i)}function Vi(e,t,n){var r=n[e];return!e||r&&(!(0,y.isString)(r)||t.event[r+"Key"])}Oi.zl({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},y.noop);var ji=function(e){function t(t){var n=e.call(this)||this;n._zr=t;var r=(0,y.bind)(n._mousedownHandler,n),i=(0,y.bind)(n._mousemoveHandler,n),a=(0,y.bind)(n._mouseupHandler,n),o=(0,y.bind)(n._mousewheelHandler,n),s=(0,y.bind)(n._pinchHandler,n);return n.enable=function(e,n){this.disable(),this._opt=(0,y.defaults)((0,y.clone)(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",r),t.on("mousemove",i),t.on("mouseup",a)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",o),t.on("pinch",s))},n.disable=function(){t.off("mousedown",r),t.off("mousemove",i),t.off("mouseup",a),t.off("mousewheel",o),t.off("pinch",s)},n}return(0,De.ZT)(t,e),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!(Pi.x1(e)||e.target&&e.target.draggable)){var t=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,n)&&(this._x=t,this._y=n,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&Vi("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!Fi(this._zr,"globalPan")){var t=e.offsetX,n=e.offsetY,r=this._x,i=this._y,a=t-r,o=n-i;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&Pi.sT(e.event),zi(this,"pan","moveOnMouseMove",e,{dx:a,dy:o,oldX:r,oldY:i,newX:t,newY:n,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){Pi.x1(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var t=Vi("zoomOnMouseWheel",e,this._opt),n=Vi("moveOnMouseWheel",e,this._opt),r=e.wheelDelta,i=Math.abs(r),a=e.offsetX,o=e.offsetY;if(0!==r&&(t||n)){if(t){var s=i>3?1.4:i>1?1.2:1.1;Bi(this,"zoom","zoomOnMouseWheel",e,{scale:r>0?s:1/s,originX:a,originY:o,isAvailableBehavior:null})}if(n){var u=Math.abs(r);Bi(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(r>0?1:-1)*(u>3?.4:u>1?.15:.05),originX:a,originY:o,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){Fi(this._zr,"globalPan")||Bi(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},t}(Ri.Z);function Wi(e,t,n){var r=e.target;r.x+=t,r.y+=n,r.dirty()}function Ui(e,t,n,r){var i=e.target,a=e.zoomLimit,o=e.zoom=e.zoom||1;if(o*=t,a){var s=a.min||0,u=a.max||1/0;o=Math.max(Math.min(u,o),s)}var l=o/e.zoom;e.zoom=o,i.x-=(n-i.x)*(l-1),i.y-=(r-i.y)*(l-1),i.scaleX*=l,i.scaleY*=l,i.dirty()}var Hi={axisPointer:1,tooltip:1,brush:1};function Gi(e,t,n){var r=t.getComponentByElement(e.topTarget),i=r&&r.coordinateSystem;return r&&r!==n&&!Hi.hasOwnProperty(r.mainType)&&i&&i.model!==n}var Xi,qi=n(44446),Yi=n(96061),Ki=n(85721);function Qi(e){(0,y.isString)(e)&&(e=(new DOMParser).parseFromString(e,"text/xml"));var t=e;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var Ji={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},$i=(0,y.keys)(Ji),ea={"alignment-baseline":"textBaseline","stop-color":"stopColor"},ta=(0,y.keys)(ea),na=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(e,t){t=t||{};var n=Qi(e);this._defsUsePending=[];var r=new Me.Z;this._root=r;var i=[],a=n.getAttribute("viewBox")||"",o=parseFloat(n.getAttribute("width")||t.width),s=parseFloat(n.getAttribute("height")||t.height);isNaN(o)&&(o=null),isNaN(s)&&(s=null),ua(n,r,null,!0,!1);for(var u,l,c=n.firstChild;c;)this._parseNode(c,r,i,null,!1,!1),c=c.nextSibling;if(function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r[0].style[r[1]]=e[r[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],a){var d=fa(a);d.length>=4&&(u={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(u&&null!=o&&null!=s&&(l=va(u,{x:0,y:0,width:o,height:s}),!t.ignoreViewBox)){var f=r;(r=new Me.Z).add(f),f.scaleX=f.scaleY=l.scale,f.x=l.x,f.y=l.y}return t.ignoreRootClip||null==o||null==s||r.setClipPath(new lt.Z({shape:{x:0,y:0,width:o,height:s}})),{root:r,width:o,height:s,viewBoxRect:u,viewBoxTransform:l,named:i}},e.prototype._parseNode=function(e,t,n,r,i,a){var o,s=e.nodeName.toLowerCase(),u=r;if("defs"===s&&(i=!0),"text"===s&&(a=!0),"defs"===s||"switch"===s)o=t;else{if(!i){var l=Xi[s];if(l&&(0,y.hasOwn)(Xi,s)){o=l.call(this,e,t);var c=e.getAttribute("name");if(c){var d={name:c,namedFrom:null,svgNodeTagLower:s,el:o};n.push(d),"g"===s&&(u=d)}else r&&n.push({name:r.name,namedFrom:r,svgNodeTagLower:s,el:o});t.add(o)}}var f=ra[s];if(f&&(0,y.hasOwn)(ra,s)){var h=f.call(this,e),p=e.getAttribute("id");p&&(this._defs[p]=h)}}if(o&&o.isGroup)for(var m=e.firstChild;m;)1===m.nodeType?this._parseNode(m,o,n,u,i,a):3===m.nodeType&&a&&this._parseText(m,o),m=m.nextSibling},e.prototype._parseText=function(e,t){var n=new l.Z({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});oa(t,n),ua(e,n,this._defsUsePending,!1,!1),function(e,t){var n=t.__selfStyle;if(n){var r=n.textBaseline,i=r;r&&"auto"!==r?"baseline"===r?i="alphabetic":"before-edge"===r||"text-before-edge"===r?i="top":"after-edge"===r||"text-after-edge"===r?i="bottom":"central"!==r&&"mathematical"!==r||(i="middle"):i="alphabetic",e.style.textBaseline=i}var a=t.__inheritedStyle;if(a){var o=a.textAlign,s=o;o&&("middle"===o&&(s="center"),e.style.textAlign=s)}}(n,t);var r=n.style,i=r.fontSize;i&&i<9&&(r.fontSize=9,n.scaleX*=i/9,n.scaleY*=i/9);var a=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=a;var o=n.getBoundingRect();return this._textX+=o.width,t.add(n),n},e.internalField=void(Xi={g:function(e,t){var n=new Me.Z;return oa(t,n),ua(e,n,this._defsUsePending,!1,!1),n},rect:function(e,t){var n=new lt.Z;return oa(t,n),ua(e,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(e,t){var n=new Ci.Z;return oa(t,n),ua(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),n.silent=!0,n},line:function(e,t){var n=new Rr.Z;return oa(t,n),ua(e,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(e,t){var n=new qi.Z;return oa(t,n),ua(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(e,t){var n,r=e.getAttribute("points");r&&(n=sa(r));var i=new pi.Z({shape:{points:n||[]},silent:!0});return oa(t,i),ua(e,i,this._defsUsePending,!1,!1),i},polyline:function(e,t){var n,r=e.getAttribute("points");r&&(n=sa(r));var i=new wn.Z({shape:{points:n||[]},silent:!0});return oa(t,i),ua(e,i,this._defsUsePending,!1,!1),i},image:function(e,t){var n=new s.ZP;return oa(t,n),ua(e,n,this._defsUsePending,!1,!1),n.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),n.silent=!0,n},text:function(e,t){var n=e.getAttribute("x")||"0",r=e.getAttribute("y")||"0",i=e.getAttribute("dx")||"0",a=e.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(i),this._textY=parseFloat(r)+parseFloat(a);var o=new Me.Z;return oa(t,o),ua(e,o,this._defsUsePending,!1,!0),o},tspan:function(e,t){var n=e.getAttribute("x"),r=e.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=r&&(this._textY=parseFloat(r));var i=e.getAttribute("dx")||"0",a=e.getAttribute("dy")||"0",o=new Me.Z;return oa(t,o),ua(e,o,this._defsUsePending,!1,!0),this._textX+=parseFloat(i),this._textY+=parseFloat(a),o},path:function(e,t){var n=e.getAttribute("d")||"",r=(0,Yi.iR)(n);return oa(t,r),ua(e,r,this._defsUsePending,!1,!1),r.silent=!0,r}}),e}(),ra={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),n=parseInt(e.getAttribute("y1")||"0",10),r=parseInt(e.getAttribute("x2")||"10",10),i=parseInt(e.getAttribute("y2")||"0",10),a=new Qe.Z(t,n,r,i);return ia(e,a),aa(e,a),a},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10),n=parseInt(e.getAttribute("cy")||"0",10),r=parseInt(e.getAttribute("r")||"0",10),i=new Ki.Z(t,n,r);return ia(e,i),aa(e,i),i}};function ia(e,t){"userSpaceOnUse"===e.getAttribute("gradientUnits")&&(t.global=!0)}function aa(e,t){for(var n=e.firstChild;n;){if(1===n.nodeType&&"stop"===n.nodeName.toLocaleLowerCase()){var r=n.getAttribute("offset"),i=void 0;i=r&&r.indexOf("%")>0?parseInt(r,10)/100:r?parseFloat(r):0;var a={};ga(n,a,a);var o=a.stopColor||n.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:i,color:o})}n=n.nextSibling}}function oa(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),(0,y.defaults)(t.__inheritedStyle,e.__inheritedStyle))}function sa(e){for(var t=fa(e),n=[],r=0;r<t.length;r+=2){var i=parseFloat(t[r]),a=parseFloat(t[r+1]);n.push([i,a])}return n}function ua(e,t,n,r,i){var a=t,o=a.__inheritedStyle=a.__inheritedStyle||{},s={};1===e.nodeType&&(function(e,t){var n=e.getAttribute("transform");if(n){n=n.replace(/,/g," ");var r=[],i=null;n.replace(ha,(function(e,t,n){return r.push(t,n),""}));for(var a=r.length-1;a>0;a-=2){var o=r[a],s=r[a-1],u=fa(o);switch(i=i||fr.create(),s){case"translate":fr.translate(i,i,[parseFloat(u[0]),parseFloat(u[1]||"0")]);break;case"scale":fr.scale(i,i,[parseFloat(u[0]),parseFloat(u[1]||u[0])]);break;case"rotate":fr.rotate(i,i,-parseFloat(u[0])*pa);break;case"skewX":var l=Math.tan(parseFloat(u[0])*pa);fr.mul(i,[1,0,l,1,0,0],i);break;case"skewY":var c=Math.tan(parseFloat(u[0])*pa);fr.mul(i,[1,c,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(u[0]),i[1]=parseFloat(u[1]),i[2]=parseFloat(u[2]),i[3]=parseFloat(u[3]),i[4]=parseFloat(u[4]),i[5]=parseFloat(u[5])}}t.setLocalTransform(i)}}(e,t),ga(e,o,s),r||function(e,t,n){for(var r=0;r<$i.length;r++){var i=$i[r];null!=(a=e.getAttribute(i))&&(t[Ji[i]]=a)}for(r=0;r<ta.length;r++){var a;i=ta[r];null!=(a=e.getAttribute(i))&&(n[ea[i]]=a)}}(e,o,s)),a.style=a.style||{},null!=o.fill&&(a.style.fill=ca(a,"fill",o.fill,n)),null!=o.stroke&&(a.style.stroke=ca(a,"stroke",o.stroke,n)),(0,y.each)(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(e){null!=o[e]&&(a.style[e]=parseFloat(o[e]))})),(0,y.each)(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(e){null!=o[e]&&(a.style[e]=o[e])})),i&&(a.__selfStyle=s),o.lineDash&&(a.style.lineDash=(0,y.map)(fa(o.lineDash),(function(e){return parseFloat(e)}))),"hidden"!==o.visibility&&"collapse"!==o.visibility||(a.invisible=!0),"none"===o.display&&(a.ignore=!0)}var la=/^url\(\s*#(.*?)\)/;function ca(e,t,n,r){var i=n&&n.match(la);if(!i)return"none"===n&&(n=null),n;var a=(0,y.trim)(i[1]);r.push([e,t,a])}var da=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function fa(e){return e.match(da)||[]}var ha=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,pa=Math.PI/180;var ma=/([^\s:;]+)\s*:\s*([^:;]+)/g;function ga(e,t,n){var r,i=e.getAttribute("style");if(i)for(ma.lastIndex=0;null!=(r=ma.exec(i));){var a=r[1],o=(0,y.hasOwn)(Ji,a)?Ji[a]:null;o&&(t[o]=r[2]);var s=(0,y.hasOwn)(ea,a)?ea[a]:null;s&&(n[s]=r[2])}}function va(e,t){var n=t.width/e.width,r=t.height/e.height,i=Math.min(n,r);return{scale:i,x:-(e.x+e.width/2)*i+(t.x+t.width/2),y:-(e.y+e.height/2)*i+(t.y+t.height/2)}}var ya=n(2899),xa=(0,y.createHashMap)(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),ba=function(){function e(e,t){this.type="geoSVG",this._usedGraphicMap=(0,y.createHashMap)(),this._freedGraphics=[],this._mapName=e,this._parsedXML=Qi(t)}return e.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=function(e){var t=[],n=(0,y.createHashMap)();return(0,y.each)(e,(function(e){if(null==e.namedFrom){var r=new ya.Im(e.name,e.el);t.push(r),n.set(e.name,r)}})),{regions:t,regionsMap:n}}(e.named),n=t.regions,r=t.regionsMap;this._regions=n,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(e){var t,n,r,i;try{n=(t=e&&(r=e,i={ignoreViewBox:!0,ignoreRootClip:!0},(new na).parse(r,i))||{}).root,(0,y.assert)(null!=n)}catch(v){throw new Error("Invalid svg format\n"+v.message)}var a=new Me.Z;a.add(n),a.isGeoSVGGraphicRoot=!0;var o=t.width,s=t.height,u=t.viewBoxRect,l=this._boundingRect;if(!l){var c=void 0,d=void 0,f=void 0,h=void 0;if(null!=o?(c=0,f=o):u&&(c=u.x,f=u.width),null!=s?(d=0,h=s):u&&(d=u.y,h=u.height),null==c||null==d){var p=n.getBoundingRect();null==c&&(c=p.x,f=p.width),null==d&&(d=p.y,h=p.height)}l=this._boundingRect=new Wn.Z(c,d,f,h)}if(u){var m=va(u,l);n.scaleX=n.scaleY=m.scale,n.x=m.x,n.y=m.y}a.setClipPath(new lt.Z({shape:l.plain()}));var g=[];return(0,y.each)(t.named,(function(e){var t;null!=xa.get(e.svgNodeTagLower)&&(g.push(e),(t=e.el).silent=!1,t.isGroup&&t.traverse((function(e){e.silent=!1})))})),{root:a,boundingRect:l,named:g}},e.prototype.useGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,n),n)},e.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);n&&(t.removeKey(e),this._freedGraphics.push(n))},e}();for(var wa=n(93265),_a=[126,25],Sa="\u5357\u6d77\u8bf8\u5c9b",Ca=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],ka=0;ka<Ca.length;ka++)for(var Da=0;Da<Ca[ka].length;Da++)Ca[ka][Da][0]/=10.5,Ca[ka][Da][1]/=-14,Ca[ka][Da][0]+=_a[0],Ca[ka][Da][1]+=_a[1];var Ta=n(58051),Ia=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];var Aa=function(){function e(e,t,n){var r;this.type="geoJSON",this._parsedMap=(0,y.createHashMap)(),this._mapName=e,this._specialAreas=n,this._geoJSON=(r=t,(0,y.isString)(r)?"undefined"!==typeof JSON&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r)}return e.prototype.load=function(e,t){t=t||"name";var n=this._parsedMap.get(t);if(!n){var r=this._parseToRegions(t);n=this._parsedMap.set(t,{regions:r,boundingRect:Ma(r)})}var i=(0,y.createHashMap)(),a=[];return(0,y.each)(n.regions,(function(t){var n=t.name;e&&(0,y.hasOwn)(e,n)&&(t=t.cloneShallow(n=e[n])),a.push(t),i.set(n,t)})),{regions:a,boundingRect:n.boundingRect||new Wn.Z(0,0,0,0),regionsMap:i}},e.prototype._parseToRegions=function(e){var t,n=this._mapName,r=this._geoJSON;try{t=r?(0,wa.Z)(r,e):[]}catch(i){throw new Error("Invalid geoJson format\n"+i.message)}return function(e,t){if("china"===e){for(var n=0;n<t.length;n++)if(t[n].name===Sa)return;t.push(new ya.Ni(Sa,y.map(Ca,(function(e){return{type:"polygon",exterior:e}})),_a))}}(n,t),(0,y.each)(t,(function(e){var t=e.name;(0,Ta.Z)(n,e),function(e,t){"china"===e&&"\u53f0\u6e7e"===t.name&&t.geometries.push({type:"polygon",exterior:Ia[0]})}(n,e);var r=this._specialAreas&&this._specialAreas[t];r&&e.transformTo(r.left,r.top,r.width,r.height)}),this),t},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}();function Ma(e){for(var t,n=0;n<e.length;n++){var r=e[n].getBoundingRect();(t=t||r.clone()).union(r)}return t}var Ea=(0,y.createHashMap)(),Na=function(e,t,n){if(t.svg){var r=new ba(e,t.svg);Ea.set(e,r)}else{var i=t.geoJson||t.geoJSON;i&&!t.features?n=t.specialAreas:i=t;r=new Aa(e,i,n);Ea.set(e,r)}},Ra=function(e){return Ea.get(e)},Pa=function(e){var t=Ea.get(e);return t&&"geoJSON"===t.type&&t.getMapForUser()},Oa=function(e,t,n){var r=Ea.get(e);if(r)return r.load(t,n)},La=n(7434),Fa=n(75624),Za=["rect","circle","line","ellipse","polygon","polyline","path"],Ba=y.createHashMap(Za),za=y.createHashMap(Za.concat(["g"])),Va=y.createHashMap(Za.concat(["g"])),ja=(0,Je.Yf)();function Wa(e){var t=e.getItemStyle(),n=e.get("areaColor");return null!=n&&(t.fill=n),t}function Ua(e){var t=e.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var Ha=function(){function e(e){var t=new Me.Z;this.uid=(0,Zt.Kr)("ec_map_draw"),this._controller=new ji(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new Me.Z),t.add(this._svgGroup=new Me.Z)}return e.prototype.draw=function(e,t,n,r,i){var a="geo"===e.mainType,o=e.getData&&e.getData();a&&t.eachComponent({mainType:"series",subType:"map"},(function(t){o||t.getHostGeoModel()!==e||(o=t.getData())}));var s=e.coordinateSystem,u=this._regionsGroup,l=this.group,c=s.getTransformInfo(),d=c.raw,f=c.roam;!u.childAt(0)||i?(l.x=f.x,l.y=f.y,l.scaleX=f.scaleX,l.scaleY=f.scaleY,l.dirty()):Pe.D(l,f,e);var h=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0,p={api:n,geo:s,mapOrGeoModel:e,data:o,isVisualEncodedByVisualMap:h,isGeo:a,transformInfoRaw:d};"geoJSON"===s.resourceType?this._buildGeoJSON(p):"geoSVG"===s.resourceType&&this._buildSVG(p),this._updateController(e,t,n),this._updateMapSelectHandler(e,u,n,r)},e.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=y.createHashMap(),n=y.createHashMap(),r=this._regionsGroup,i=e.transformInfoRaw,a=e.mapOrGeoModel,o=e.data,s=e.geo.projection,u=s&&s.stream;function l(e,t){return t&&(e=t(e)),e&&[e[0]*i.scaleX+i.x,e[1]*i.scaleY+i.y]}function c(e){for(var t=[],n=!u&&s&&s.project,r=0;r<e.length;++r){var i=l(e[r],n);i&&t.push(i)}return t}function d(e){return{shape:{points:c(e)}}}r.removeAll(),y.each(e.geo.regions,(function(i){var c=i.name,f=t.get(c),h=n.get(c)||{},p=h.dataIdx,m=h.regionModel;f||(f=t.set(c,new Me.Z),r.add(f),p=o?o.indexOfName(c):null,m=e.isGeo?a.getRegionModel(c):o?o.getItemModel(p):null,n.set(c,{dataIdx:p,regionModel:m}));var g=[],v=[];y.each(i.geometries,(function(e){if("polygon"===e.type){var t=[e.exterior].concat(e.interiors||[]);u&&(t=Qa(t,u)),y.each(t,(function(e){g.push(new pi.Z(d(e)))}))}else{var n=e.points;u&&(n=Qa(n,u,!0)),y.each(n,(function(e){v.push(new wn.Z(d(e)))}))}}));var x=l(i.getCenter(),s&&s.project);function b(t,n){if(t.length){var r=new P.Z({culling:!0,segmentIgnoreThreshold:1,shape:{paths:t}});f.add(r),Ga(e,r,p,m),Xa(e,r,c,m,a,p,x),n&&(Ua(r),y.each(r.states,Ua))}}b(g),b(v,!0)})),t.each((function(t,r){var i=n.get(r),o=i.dataIdx,s=i.regionModel;qa(e,t,r,s,a,o),Ya(e,t,r,s,a),Ka(e,t,r,s,a)}),this)},e.prototype._buildSVG=function(e){var t=e.geo.map,n=e.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var r=this._svgDispatcherMap=y.createHashMap(),i=!1;y.each(this._svgGraphicRecord.named,(function(t){var n=t.name,a=e.mapOrGeoModel,o=e.data,s=t.svgNodeTagLower,u=t.el,l=o?o.indexOfName(n):null,c=a.getRegionModel(n);(null!=Ba.get(s)&&u instanceof Fa.ZP&&Ga(e,u,l,c),u instanceof Fa.ZP&&(u.culling=!0),u.z2EmphasisLift=0,t.namedFrom)||(null!=Va.get(s)&&Xa(e,u,n,c,a,l,null),qa(e,u,n,c,a,l),Ya(e,u,n,c,a),null!=za.get(s)&&("self"===Ka(e,u,n,c,a)&&(i=!0),(r.get(n)||r.set(n,[])).push(u)))}),this),this._enableBlurEntireSVG(i,e)},e.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var n=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse((function(e){if(!e.isGroup){(0,Le.MA)(e);var t=e.ensureState("blur").style||{};null==t.opacity&&null!=n&&(t.opacity=n),e.ensureState("emphasis")}}))}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(e,t){if(null==e)return[];var n=t.coordinateSystem;if("geoJSON"===n.resourceType){var r=this._regionsGroupByName;if(r){var i=r.get(e);return i?[i]:[]}}else if("geoSVG"===n.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},e.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},e.prototype._useSVG=function(e){var t=Ra(e);if(t&&"geoSVG"===t.type){var n=t.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=e}},e.prototype._freeSVG=function(){var e=this._svgMapName;if(null!=e){var t=Ra(e);t&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(e,t,n){var r=e.coordinateSystem,i=this._controller,a=this._controllerHost;a.zoomLimit=e.get("scaleLimit"),a.zoom=r.getZoom(),i.enable(e.get("roam")||!1);var o=e.mainType;function s(){var t={type:"geoRoam",componentType:o};return t[o+"Id"]=e.id,t}i.off("pan").on("pan",(function(e){this._mouseDownFlag=!1,Wi(a,e.dx,e.dy),n.dispatchAction(y.extend(s(),{dx:e.dx,dy:e.dy,animation:{duration:0}}))}),this),i.off("zoom").on("zoom",(function(e){this._mouseDownFlag=!1,Ui(a,e.scale,e.originX,e.originY),n.dispatchAction(y.extend(s(),{zoom:e.scale,originX:e.originX,originY:e.originY,animation:{duration:0}}))}),this),i.setPointerChecker((function(t,i,a){return r.containPoint([i,a])&&!Gi(t,n,e)}))},e.prototype.resetForLabelLayout=function(){this.group.traverse((function(e){var t=e.getTextContent();t&&(t.ignore=ja(t).ignore)}))},e.prototype._updateMapSelectHandler=function(e,t,n,r){var i=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",(function(){i._mouseDownFlag=!0})),t.on("click",(function(e){i._mouseDownFlag&&(i._mouseDownFlag=!1)})))},e}();function Ga(e,t,n,r){var i=r.getModel("itemStyle"),a=r.getModel(["emphasis","itemStyle"]),o=r.getModel(["blur","itemStyle"]),s=r.getModel(["select","itemStyle"]),u=Wa(i),l=Wa(a),c=Wa(s),d=Wa(o),f=e.data;if(f){var h=f.getItemVisual(n,"style"),p=f.getItemVisual(n,"decal");e.isVisualEncodedByVisualMap&&h.fill&&(u.fill=h.fill),p&&(u.decal=(0,La.I)(p,e.api))}t.setStyle(u),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=l,t.ensureState("select").style=c,t.ensureState("blur").style=d,(0,Le.MA)(t)}function Xa(e,t,n,r,i,a,o){var s=e.data,u=e.isGeo,l=s&&isNaN(s.get(s.mapDimension("value"),a)),c=s&&s.getItemLayout(a);if(u||l||c&&c.showLabel){var d=u?n:a,f=void 0;(!s||a>=0)&&(f=i);var h=o?{normal:{align:"center",verticalAlign:"middle"}}:null;(0,ze.ni)(t,(0,ze.k3)(r),{labelFetcher:f,labelDataIndex:d,defaultText:n},h);var p=t.getTextContent();if(p&&(ja(p).ignore=p.ignore,t.textConfig&&o)){var m=t.getBoundingRect().clone();t.textConfig.layoutRect=m,t.textConfig.position=[(o[0]-m.x)/m.width*100+"%",(o[1]-m.y)/m.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function qa(e,t,n,r,i,a){e.data?e.data.setItemGraphicEl(a,t):(0,Oe.A)(t).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:n,region:r&&r.option||{}}}function Ya(e,t,n,r,i){e.data||Re.setTooltipConfig({el:t,componentModel:i,itemName:n,itemTooltipOption:r.get("tooltip")})}function Ka(e,t,n,r,i){t.highDownSilentOnTouch=!!i.get("selectedMode");var a=r.getModel("emphasis"),o=a.get("focus");return(0,Le.k5)(t,o,a.get("blurScope"),a.get("disabled")),e.isGeo&&(0,Le.th)(t,i,n),o}function Qa(e,t,n){var r,i=[];function a(){r=[]}function o(){r.length&&(i.push(r),r=[])}var s=t({polygonStart:a,polygonEnd:o,lineStart:a,lineEnd:o,point:function(e,t){isFinite(e)&&isFinite(t)&&r.push([e,t])},sphere:function(){}});return!n&&s.polygonStart(),y.each(e,(function(e){s.lineStart();for(var t=0;t<e.length;t++)s.point(e[t][0],e[t][1]);s.lineEnd()})),!n&&s.polygonEnd(),i}var Ja=Ha,$a=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n,r){if(!r||"mapToggleSelect"!==r.type||r.from!==this.uid){var i=this.group;if(i.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&r&&"geoRoam"===r.type&&this._mapDraw.resetForLabelLayout(),r&&"geoRoam"===r.type&&"series"===r.componentType&&r.seriesId===e.id)(a=this._mapDraw)&&i.add(a.group);else if(e.needsDrawMap){var a=this._mapDraw||new Ja(n);i.add(a.group),a.draw(e,t,n,this,r),this._mapDraw=a}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,t,n){var r=e.originalData,i=this.group;r.each(r.mapDimension("value"),(function(t,n){if(!isNaN(t)){var a=r.getItemLayout(n);if(a&&a.point){var o=a.point,s=a.offset,u=new Ci.Z({style:{fill:e.getData().getVisual("style").fill},shape:{cx:o[0]+9*s,cy:o[1],r:3},silent:!0,z2:8+(s?0:Le.zr+1)});if(!s){var l=e.mainSeries.getData(),c=r.getName(n),d=l.indexOfName(c),f=r.getItemModel(n),h=f.getModel("label"),p=l.getItemGraphicEl(d);(0,ze.ni)(u,(0,ze.k3)(f),{labelFetcher:{getFormattedLabel:function(t,n){return e.getFormattedLabel(d,n)}},defaultText:c}),u.disableLabelAnimation=!0,h.get("position")||u.setTextConfig({position:"bottom"}),p.onHoverStateChange=function(e){(0,Le.Gl)(u,e)}}i.add(u)}}}))},t.type="map",t}(ut.Z),eo=$a,to=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(e){if(null!=e){var t=this.getData().getName(e),n=this.coordinateSystem,r=n.getRegion(t);return r&&n.dataToPoint(r.getCenter())}},n}return(0,De.ZT)(t,e),t.prototype.getInitialData=function(e){for(var t=Ln(this,{coordDimensions:["value"],encodeDefaulter:y.curry(Fn.Ss,this)}),n=y.createHashMap(),r=[],i=0,a=t.count();i<a;i++){var o=t.getName(i);n.set(o,!0)}var s=Oa(this.getMapType(),this.option.nameMap,this.option.nameProperty);return y.each(s.regions,(function(e){var t=e.name;n.get(t)||r.push(t)})),t.appendValues([],r),t},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},t.prototype.formatTooltip=function(e,t,n){for(var r=this.getData(),i=this.getRawValue(e),a=r.getName(e),o=this.seriesGroup,s=[],u=0;u<o.length;u++){var l=o[u].originalData.indexOfName(a),c=r.mapDimension("value");isNaN(o[u].originalData.get(c,l))||s.push(o[u].name)}return(0,vi.TX)("section",{header:s.join(", "),noHeader:!s.length,blocks:[(0,vi.TX)("nameValue",{name:a,value:i})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var t=e.icon||"roundRect",n=(0,Ae.th)(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return n.setStyle(e.itemStyle),n.style.stroke="none",t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(Ie.Z),no=to;function ro(e){var t={};e.eachSeriesByType("map",(function(e){var n=e.getHostGeoModel(),r=n?"o"+n.id:"i"+e.getMapType();(t[r]=t[r]||[]).push(e)})),y.each(t,(function(e,t){for(var n=function(e,t){var n={};return y.each(e,(function(e){e.each(e.mapDimension("value"),(function(t,r){var i="ec-"+e.getName(r);n[i]=n[i]||[],isNaN(t)||n[i].push(t)}))})),e[0].map(e[0].mapDimension("value"),(function(r,i){for(var a="ec-"+e[0].getName(i),o=0,s=1/0,u=-1/0,l=n[a].length,c=0;c<l;c++)s=Math.min(s,n[a][c]),u=Math.max(u,n[a][c]),o+=n[a][c];return 0===l?NaN:"min"===t?s:"max"===t?u:"average"===t?o/l:o}))}(y.map(e,(function(e){return e.getData()})),e[0].get("mapValueCalculation")),r=0;r<e.length;r++)e[r].originalData=e[r].getData();for(r=0;r<e.length;r++)e[r].seriesGroup=e,e[r].needsDrawMap=0===r&&!e[r].getHostGeoModel(),e[r].setData(n.cloneShallow()),e[r].mainSeries=e[0]}))}function io(e){var t={};e.eachSeriesByType("map",(function(n){var r=n.getMapType();if(!n.getHostGeoModel()&&!t[r]){var i={};y.each(n.seriesGroup,(function(t){var n=t.coordinateSystem,r=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&r.each(r.mapDimension("value"),(function(e,t){var a=r.getName(t),o=n.getRegion(a);if(o&&!isNaN(e)){var s=i[a]||0,u=n.dataToPoint(o.getCenter());i[a]=s+1,r.setItemLayout(t,{point:u,offset:s})}}))}));var a=n.getData();a.each((function(e){var t=a.getName(e),n=a.getItemLayout(e)||{};n.showLabel=!i[t],a.setItemLayout(e,n)})),t[r]=!0}}))}var ao=hr.applyTransform,oo=function(e){function t(t){var n=e.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new N.ZP,n._rawTransformable=new N.ZP,n.name=t,n}return(0,De.ZT)(t,e),t.prototype.setBoundingRect=function(e,t,n,r){return this._rect=new Wn.Z(e,t,n,r),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,t,n,r){this._transformTo(e,t,n,r),this._viewRect=new Wn.Z(e,t,n,r)},t.prototype._transformTo=function(e,t,n,r){var i=this.getBoundingRect(),a=this._rawTransformable;a.transform=i.calculateTransform(new Wn.Z(e,t,n,r));var o=a.parent;a.parent=null,a.decomposeTransform(),a.parent=o,this._updateTransform()},t.prototype.setCenter=function(e){e&&(this._center=e,this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,n=this.getDefaultCenter(),r=this.getCenter(),i=this.getZoom();r=hr.applyTransform([],r,e),n=hr.applyTransform([],n,e),t.originX=r[0],t.originY=r[1],t.x=n[0]-r[0],t.y=n[1]-r[1],t.scaleX=t.scaleY=i,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),fr.copy(this.transform||(this.transform=[]),t.transform||fr.create()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],fr.invert(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,t=this._roamTransformable,n=new N.ZP;return n.transform=t.transform,n.decomposeTransform(),{roam:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,t,n){var r=t?this._rawTransform:this.transform;return n=n||[],r?ao(n,e,r):hr.copy(n,e)},t.prototype.pointToData=function(e){var t=this.invTransform;return t?ao([],e,t):[e[0],e[1]]},t.prototype.convertToPixel=function(e,t,n){var r=so(t);return r===this?r.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,t,n){var r=so(t);return r===this?r.pointToData(n):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(N.ZP);function so(e){var t=e.seriesModel;return t?t.coordinateSystem:null}var uo=oo,lo={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},co=["lng","lat"],fo=function(e){function t(t,n,r){var i=e.call(this,t)||this;i.dimensions=co,i.type="geo",i._nameCoordMap=y.createHashMap(),i.map=n;var a,o=r.projection,s=Oa(n,r.nameMap,r.nameProperty),u=Ra(n),l=(i.resourceType=u?u.type:null,i.regions=s.regions),c=lo[u.type];if(i._regionsMap=s.regionsMap,i.regions=s.regions,i.projection=o,o)for(var d=0;d<l.length;d++){var f=l[d].getBoundingRect(o);(a=a||f.clone()).union(f)}else a=s.boundingRect;return i.setBoundingRect(a.x,a.y,a.width,a.height),i.aspectScale=o?1:y.retrieve2(r.aspectScale,c.aspectScale),i._invertLongitute=!o&&c.invertLongitute,i}return(0,De.ZT)(t,e),t.prototype._transformTo=function(e,t,n,r){var i=this.getBoundingRect(),a=this._invertLongitute;i=i.clone(),a&&(i.y=-i.y-i.height);var o=this._rawTransformable;o.transform=i.calculateTransform(new Wn.Z(e,t,n,r));var s=o.parent;o.parent=null,o.decomposeTransform(),o.parent=s,a&&(o.scaleY=-o.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var t=this.regions,n=0;n<t.length;n++){var r=t[n];if("geoJSON"===r.type&&r.contain(e))return t[n]}},t.prototype.addGeoCoord=function(e,t){this._nameCoordMap.set(e,t)},t.prototype.getGeoCoord=function(e){var t=this._regionsMap.get(e);return this._nameCoordMap.get(e)||t&&t.getCenter()},t.prototype.dataToPoint=function(e,t,n){if(y.isString(e)&&(e=this.getGeoCoord(e)),e){var r=this.projection;return r&&(e=r.project(e)),e&&this.projectedToPoint(e)}},t.prototype.pointToData=function(e){var t=this.projection;return t&&(e=t.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(t){return e.prototype.pointToData.call(this,t)},t.prototype.projectedToPoint=function(t,n,r){return e.prototype.dataToPoint.call(this,t,n,r)},t.prototype.convertToPixel=function(e,t,n){var r=ho(t);return r===this?r.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,t,n){var r=ho(t);return r===this?r.pointToData(n):null},t}(uo);function ho(e){var t=e.geoModel,n=e.seriesModel;return t?t.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",Je.C6).models[0]||{}).coordinateSystem:null}y.mixin(fo,uo);var po=fo;function mo(e,t){var n=e.get("boundingCoords");if(null!=n){var r=n[0],i=n[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1])){var a=this.projection;if(a){var o=r[0],s=r[1],u=i[0],l=i[1];r=[1/0,1/0],i=[-1/0,-1/0];var c=function(e,t,n,o){for(var s=n-e,u=o-t,l=0;l<=100;l++){var c=l/100,d=a.project([e+s*c,t+u*c]);hr.min(r,r,d),hr.max(i,i,d)}};c(o,s,u,s),c(u,s,u,l),c(u,l,o,l),c(o,l,u,s)}this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}else 0}var d,f,h,p=this.getBoundingRect(),m=e.get("layoutCenter"),g=e.get("layoutSize"),v=t.getWidth(),y=t.getHeight(),x=p.width/p.height*this.aspectScale,b=!1;if(m&&g&&(d=[dt.GM(m[0],v),dt.GM(m[1],y)],f=dt.GM(g,Math.min(v,y)),isNaN(d[0])||isNaN(d[1])||isNaN(f)||(b=!0)),b)h={},x>1?(h.width=f,h.height=f/x):(h.height=f,h.width=f*x),h.y=d[1]-h.height/2,h.x=d[0]-h.width/2;else{var w=e.getBoxLayoutParams();w.aspect=x,h=pn.ME(w,{width:v,height:y})}this.setViewRect(h.x,h.y,h.width,h.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}var go=function(){function e(){this.dimensions=co}return e.prototype.create=function(e,t){var n=[];function r(e){return{nameProperty:e.get("nameProperty"),aspectScale:e.get("aspectScale"),projection:e.get("projection")}}e.eachComponent("geo",(function(e,i){var a=e.get("map"),o=new po(a+i,a,y.extend({nameMap:e.get("nameMap")},r(e)));o.zoomLimit=e.get("scaleLimit"),n.push(o),e.coordinateSystem=o,o.model=e,o.resize=mo,o.resize(e,t)})),e.eachSeries((function(e){if("geo"===e.get("coordinateSystem")){var t=e.get("geoIndex")||0;e.coordinateSystem=n[t]}}));var i={};return e.eachSeriesByType("map",(function(e){if(!e.getHostGeoModel()){var t=e.getMapType();i[t]=i[t]||[],i[t].push(e)}})),y.each(i,(function(e,i){var a=y.map(e,(function(e){return e.get("nameMap")})),o=new po(i,i,y.extend({nameMap:y.mergeAll(a)},r(e[0])));o.zoomLimit=y.retrieve.apply(null,y.map(e,(function(e){return e.get("scaleLimit")}))),n.push(o),o.resize=mo,o.resize(e[0],t),y.each(e,(function(e){e.coordinateSystem=o,function(e,t){y.each(t.get("geoCoord"),(function(t,n){e.addGeoCoord(n,t)}))}(o,e)}))})),n},e.prototype.getFilledRegions=function(e,t,n,r){for(var i=(e||[]).slice(),a=y.createHashMap(),o=0;o<i.length;o++)a.set(i[o].name,i[o]);var s=Oa(t,n,r);return y.each(s.regions,(function(e){var t=e.name;!a.get(t)&&i.push({name:t})})),i},e}(),vo=new go,yo=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.init=function(e,t,n){var r=Ra(e.map);if(r&&"geoJSON"===r.type){var i=e.itemStyle=e.itemStyle||{};"color"in i||(i.color="#eee")}this.mergeDefaultAndTheme(e,n),Je.Cc(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,t=this.option;t.regions=vo.getFilledRegions(t.regions,t.map,t.nameMap,t.nameProperty);var n={};this._optionModelMap=y.reduce(t.regions||[],(function(t,r){var i=r.name;return i&&(t.set(i,new Pr.Z(r,e,e.ecModel)),r.selected&&(n[i]=!0)),t}),y.createHashMap()),t.selectedMap||(t.selectedMap=n)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Pr.Z(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,t){var n=this.getRegionModel(e),r="normal"===t?n.get(["label","formatter"]):n.get(["emphasis","label","formatter"]),i={name:e};return y.isFunction(r)?(i.status=t,r(i)):y.isString(r)?r.replace("{a}",null!=e?e:""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var t=this.option,n=t.selectedMode;n&&("multiple"!==n&&(t.selectedMap=null),(t.selectedMap||(t.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var t=this.option.selectedMap;t&&(t[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var t=this.option.selectedMap;return!(!t||!t[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(Qn.Z),xo=yo;function bo(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function wo(e,t,n){var r=e.getZoom(),i=e.getCenter(),a=t.zoom,o=e.projectedToPoint?e.projectedToPoint(i):e.dataToPoint(i);if(null!=t.dx&&null!=t.dy&&(o[0]-=t.dx,o[1]-=t.dy,e.setCenter(bo(e,o))),null!=a){if(n){var s=n.min||0,u=n.max||1/0;a=Math.max(Math.min(r*a,u),s)/r}e.scaleX*=a,e.scaleY*=a;var l=(t.originX-e.x)*(a-1),c=(t.originY-e.y)*(a-1);e.x-=l,e.y-=c,e.updateTransform(),e.setCenter(bo(e,o)),e.setZoom(a*r)}return{center:e.getCenter(),zoom:e.getZoom()}}var _o=n(23508),So=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.focusBlurEnabled=!0,n}return(0,De.ZT)(t,e),t.prototype.init=function(e,t){this._api=t},t.prototype.render=function(e,t,n,r){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new Ja(n));var i=this._mapDraw;i.draw(e,t,n,this,r),i.group.on("click",this._handleRegionClick,this),i.group.silent=e.get("silent"),this.group.add(i.group),this.updateSelectStatus(e,t,n)},t.prototype._handleRegionClick=function(e){var t;(0,_o.o)(e.target,(function(e){return null!=(t=(0,Oe.A)(e).eventData)}),!0),t&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:t.name})},t.prototype.updateSelectStatus=function(e,t,n){var r=this;this._mapDraw.group.traverse((function(e){var t=(0,Oe.A)(e).eventData;if(t)return r._model.isSelected(t.name)?n.enterSelect(e):n.leaveSelect(e),!0}))},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(Kn.Z),Co=So;function ko(e,t,n){Na(e,t,n)}function Do(e){function t(t,n){n.update="geo:updateSelectStatus",e.registerAction(n,(function(e,n){var r={},i=[];return n.eachComponent({mainType:"geo",query:e},(function(n){n[t](e.name);var a=n.coordinateSystem;(0,y.each)(a.regions,(function(e){r[e.name]=n.isSelected(e.name)||!1}));var o=[];(0,y.each)(r,(function(e,t){r[t]&&o.push(t)})),i.push({geoIndex:n.componentIndex,name:o})})),{selected:r,allSelected:i,name:e.name}}))}e.registerCoordinateSystem("geo",vo),e.registerComponentModel(xo),e.registerComponentView(Co),e.registerImpl("registerMap",ko),e.registerImpl("getMap",(function(e){return Pa(e)})),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},(function(t){var r=t.coordinateSystem;if("geo"===r.type){var i=wo(r,e,t.get("scaleLimit"));t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom),"series"===n&&(0,y.each)(t.seriesGroup,(function(e){e.setCenter(i.center),e.setZoom(i.zoom)}))}}))}))}var To=n(2730);function Io(e,t){var n=e.isExpand?e.children:[],r=e.parentNode.children,i=e.hierNode.i?r[e.hierNode.i-1]:null;if(n.length){!function(e){var t=e.children,n=t.length,r=0,i=0;for(;--n>=0;){var a=t[n];a.hierNode.prelim+=r,a.hierNode.modifier+=r,i+=a.hierNode.change,r+=a.hierNode.shift+i}}(e);var a=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;i?(e.hierNode.prelim=i.hierNode.prelim+t(e,i),e.hierNode.modifier=e.hierNode.prelim-a):e.hierNode.prelim=a}else i&&(e.hierNode.prelim=i.hierNode.prelim+t(e,i));e.parentNode.hierNode.defaultAncestor=function(e,t,n,r){if(t){for(var i=e,a=e,o=a.parentNode.children[0],s=t,u=i.hierNode.modifier,l=a.hierNode.modifier,c=o.hierNode.modifier,d=s.hierNode.modifier;s=Ro(s),a=Po(a),s&&a;){i=Ro(i),o=Po(o),i.hierNode.ancestor=e;var f=s.hierNode.prelim+d-a.hierNode.prelim-l+r(s,a);f>0&&(Lo(Oo(s,e,n),e,f),l+=f,u+=f),d+=s.hierNode.modifier,l+=a.hierNode.modifier,u+=i.hierNode.modifier,c+=o.hierNode.modifier}s&&!Ro(i)&&(i.hierNode.thread=s,i.hierNode.modifier+=d-u),a&&!Po(o)&&(o.hierNode.thread=a,o.hierNode.modifier+=l-c,n=e)}return n}(e,i,e.parentNode.hierNode.defaultAncestor||r[0],t)}function Ao(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function Mo(e){return arguments.length?e:Fo}function Eo(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function No(e,t){return pn.ME(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Ro(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function Po(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function Oo(e,t,n){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:n}function Lo(e,t,n){var r=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=r,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=r}function Fo(e,t){return e.parentNode===t.parentNode?1:2}var Zo=n(70264),Bo=function(){this.parentPoint=[],this.childPoints=[]},zo=function(e){function t(t){return e.call(this,t)||this}return(0,De.ZT)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Bo},t.prototype.buildPath=function(e,t){var n=t.childPoints,r=n.length,i=t.parentPoint,a=n[0],o=n[r-1];if(1===r)return e.moveTo(i[0],i[1]),void e.lineTo(a[0],a[1]);var s=t.orient,u="TB"===s||"BT"===s?0:1,l=1-u,c=(0,dt.GM)(t.forkPosition,1),d=[];d[u]=i[u],d[l]=i[l]+(o[l]-i[l])*c,e.moveTo(i[0],i[1]),e.lineTo(d[0],d[1]),e.moveTo(a[0],a[1]),d[u]=a[u],e.lineTo(d[0],d[1]),d[u]=o[u],e.lineTo(d[0],d[1]),e.lineTo(o[0],o[1]);for(var f=1;f<r-1;f++){var h=n[f];e.moveTo(h[0],h[1]),d[u]=h[u],e.lineTo(d[0],d[1])}},t}(o.ZP),Vo=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._mainGroup=new Me.Z,n}return(0,De.ZT)(t,e),t.prototype.init=function(e,t){this._controller=new ji(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,n){var r=e.getData(),i=e.layoutInfo,a=this._mainGroup;"radial"===e.get("layout")?(a.x=i.x+i.width/2,a.y=i.y+i.height/2):(a.x=i.x,a.y=i.y),this._updateViewCoordSys(e),this._updateController(e,t,n);var o=this._data;r.diff(o).add((function(t){jo(r,t)&&Wo(r,t,null,a,e)})).update((function(t,n){var i=o.getItemGraphicEl(n);jo(r,t)?Wo(r,t,i,a,e):i&&Go(o,n,i,a,e)})).remove((function(t){var n=o.getItemGraphicEl(t);n&&Go(o,t,n,a,e)})).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&r.eachItemGraphicEl((function(t,r){t.off("click").on("click",(function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:r})}))})),this._data=r},t.prototype._updateViewCoordSys=function(e){var t=e.getData(),n=[];t.each((function(e){var r=t.getItemLayout(e);!r||isNaN(r.x)||isNaN(r.y)||n.push([+r.x,+r.y])}));var r=[],i=[];Zo.zk(n,r,i);var a=this._min,o=this._max;i[0]-r[0]===0&&(r[0]=a?a[0]:r[0]-1,i[0]=o?o[0]:i[0]+1),i[1]-r[1]===0&&(r[1]=a?a[1]:r[1]-1,i[1]=o?o[1]:i[1]+1);var s=e.coordinateSystem=new uo;s.zoomLimit=e.get("scaleLimit"),s.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1]),s.setCenter(e.get("center")),s.setZoom(e.get("zoom")),this.group.attr({x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY}),this._min=r,this._max=i},t.prototype._updateController=function(e,t,n){var r=this,i=this._controller,a=this._controllerHost,o=this.group;i.setPointerChecker((function(t,r,i){var a=o.getBoundingRect();return a.applyTransform(o.transform),a.contain(r,i)&&!Gi(t,n,e)})),i.enable(e.get("roam")),a.zoomLimit=e.get("scaleLimit"),a.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",(function(t){Wi(a,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){Ui(a,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),r._updateNodeAndLinkScale(e),n.updateLabelLayout()}))},t.prototype._updateNodeAndLinkScale=function(e){var t=e.getData(),n=this._getNodeGlobalScale(e);t.eachItemGraphicEl((function(e,t){e.setSymbolScale(n)}))},t.prototype._getNodeGlobalScale=function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=this._nodeScaleRatio,r=t.scaleX||1;return((t.getZoom()-1)*n+1)/r},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(ut.Z);function jo(e,t){var n=e.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)}function Wo(e,t,n,r,i){var a=!n,o=e.tree.getNodeByDataIndex(t),s=o.getModel(),u=o.getVisual("style").fill,l=!1===o.isExpand&&0!==o.children.length?u:"#fff",c=e.tree.root,d=o.parentNode===c?o:o.parentNode||o,f=e.getItemGraphicEl(d.dataIndex),h=d.getLayout(),p=f?{x:f.__oldX,y:f.__oldY,rawX:f.__radialOldRawX,rawY:f.__radialOldRawY}:h,m=o.getLayout();a?((n=new je(e,t,null,{symbolInnerColor:l,useNameLabel:!0})).x=p.x,n.y=p.y):n.updateData(e,t,null,{symbolInnerColor:l,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=m.rawX,n.__radialRawY=m.rawY,r.add(n),e.setItemGraphicEl(t,n),n.__oldX=n.x,n.__oldY=n.y,Pe.D(n,{x:m.x,y:m.y},i);var g=n.getSymbolPath();if("radial"===i.get("layout")){var v=c.children[0],x=v.getLayout(),b=v.children.length,w=void 0,_=void 0;if(m.x===x.x&&!0===o.isExpand){var S={x:(v.children[0].getLayout().x+v.children[b-1].getLayout().x)/2,y:(v.children[0].getLayout().y+v.children[b-1].getLayout().y)/2};(w=Math.atan2(S.y-x.y,S.x-x.x))<0&&(w=2*Math.PI+w),(_=S.x<x.x)&&(w-=Math.PI)}else(w=Math.atan2(m.y-x.y,m.x-x.x))<0&&(w=2*Math.PI+w),0===o.children.length||0!==o.children.length&&!1===o.isExpand?(_=m.x<x.x)&&(w-=Math.PI):(_=m.x>x.x)||(w-=Math.PI);var C=_?"left":"right",k=s.getModel("label"),D=k.get("rotate"),T=D*(Math.PI/180),I=g.getTextContent();I&&(g.setTextConfig({position:k.get("position")||C,rotation:null==D?-w:T,origin:"center"}),I.setStyle("verticalAlign","middle"))}var A=s.get(["emphasis","focus"]),M="ancestor"===A?o.getAncestorsIndices():"descendant"===A?o.getDescendantIndices():null;M&&((0,Oe.A)(n).focus=M),function(e,t,n,r,i,a,o,s){var u=t.getModel(),l=e.get("edgeShape"),c=e.get("layout"),d=e.getOrient(),f=e.get(["lineStyle","curveness"]),h=e.get("edgeForkPosition"),p=u.getModel("lineStyle").getLineStyle(),m=r.__edge;if("curve"===l)t.parentNode&&t.parentNode!==n&&(m||(m=r.__edge=new To.Z({shape:Xo(c,d,f,i,i)})),Pe.D(m,{shape:Xo(c,d,f,a,o)},e));else if("polyline"===l)if("orthogonal"===c){if(t!==n&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var g=t.children,v=[],x=0;x<g.length;x++){var b=g[x].getLayout();v.push([b.x,b.y])}m||(m=r.__edge=new zo({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:d,forkPosition:h}})),Pe.D(m,{shape:{parentPoint:[o.x,o.y],childPoints:v}},e)}}else 0;m&&(m.useStyle(y.defaults({strokeNoScale:!0,fill:null},p)),(0,Le.WO)(m,u,"lineStyle"),(0,Le.MA)(m),s.add(m))}(i,o,c,n,p,h,m,r),n.__edge&&(n.onHoverStateChange=function(t){if("blur"!==t){var r=o.parentNode&&e.getItemGraphicEl(o.parentNode.dataIndex);r&&r.hoverState===Le.CX||(0,Le.Gl)(n.__edge,t)}})}function Uo(e,t,n,r,i){var a=Ho(t.tree.root,e),o=a.source,s=a.sourceLayout,u=t.getItemGraphicEl(e.dataIndex);if(u){var l=t.getItemGraphicEl(o.dataIndex).__edge,c=u.__edge||(!1===o.isExpand||1===o.children.length?l:void 0),d=r.get("edgeShape"),f=r.get("layout"),h=r.get("orient"),p=r.get(["lineStyle","curveness"]);c&&("curve"===d?Pe.bX(c,{shape:Xo(f,h,p,s,s),style:{opacity:0}},r,{cb:function(){n.remove(c)},removeOpt:i}):"polyline"===d&&"orthogonal"===r.get("layout")&&Pe.bX(c,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},r,{cb:function(){n.remove(c)},removeOpt:i}))}}function Ho(e,t){for(var n,r=t.parentNode===e?t:t.parentNode||t;null==(n=r.getLayout());)r=r.parentNode===e?r:r.parentNode||r;return{source:r,sourceLayout:n}}function Go(e,t,n,r,i){var a=e.tree.getNodeByDataIndex(t),o=Ho(e.tree.root,a).sourceLayout,s={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};Pe.bX(n,{x:o.x+1,y:o.y+1},i,{cb:function(){r.remove(n),e.setItemGraphicEl(t,null)},removeOpt:s}),n.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:s}),a.children.forEach((function(t){Uo(t,e,r,i,s)})),Uo(a,e,r,i,s)}function Xo(e,t,n,r,i){var a,o,s,u,l,c,d,f;if("radial"===e){l=r.rawX,d=r.rawY,c=i.rawX,f=i.rawY;var h=Eo(l,d),p=Eo(l,d+(f-d)*n),m=Eo(c,f+(d-f)*n),g=Eo(c,f);return{x1:h.x||0,y1:h.y||0,x2:g.x||0,y2:g.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:m.x||0,cpy2:m.y||0}}return l=r.x,d=r.y,c=i.x,f=i.y,"LR"!==t&&"RL"!==t||(a=l+(c-l)*n,o=d,s=c+(l-c)*n,u=f),"TB"!==t&&"BT"!==t||(a=l,o=d+(f-d)*n,s=c,u=f+(d-f)*n),{x1:l,y1:d,x2:c,y2:f,cpx1:a,cpy1:o,cpx2:s,cpy2:u}}var qo=Vo,Yo=n(53684),Ko=function(){function e(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(e,t,n){y.isFunction(e)&&(n=t,t=e,e=null),e=e||{},y.isString(e)&&(e={order:e});var r,i=e.order||"preorder",a=this[e.attr||"children"];"preorder"===i&&(r=t.call(n,this));for(var o=0;!r&&o<a.length;o++)a[o].eachNode(e,t,n);"postorder"===i&&t.call(n,this)},e.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var r=this.children[n];r.updateDepthAndHeight(e+1),r.height>t&&(t=r.height)}this.height=t+1},e.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,r=n.length;t<r;t++){var i=n[t].getNodeById(e);if(i)return i}},e.prototype.contains=function(e){if(e===this)return!0;for(var t=0,n=this.children,r=n.length;t<r;t++){var i=n[t].contains(e);if(i)return i}},e.prototype.getAncestors=function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},e.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},e.prototype.getDescendantIndices=function(){var e=[];return this.eachNode((function(t){e.push(t.dataIndex)})),e},e.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},e.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},e.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},e.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},e.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},e}(),Qo=function(){function e(e){this.type="tree",this._nodes=[],this.hostModel=e}return e.prototype.eachNode=function(e,t,n){this.root.eachNode(e,t,n)},e.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},e.prototype.getNodeById=function(e){return this.root.getNodeById(e)},e.prototype.update=function(){for(var e=this.data,t=this._nodes,n=0,r=t.length;n<r;n++)t[n].dataIndex=-1;for(n=0,r=e.count();n<r;n++)t[e.getRawIndex(n)].dataIndex=n},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,n,r){var i=new e(n),a=[],o=1;!function e(t,n){var r=t.value;o=Math.max(o,y.isArray(r)?r.length:1),a.push(t);var s=new Ko((0,Je.U5)(t.name,""),i);n?function(e,t){var n=t.children;if(e.parentNode===t)return;n.push(e),e.parentNode=t}(s,n):i.root=s,i._nodes.push(s);var u=t.children;if(u)for(var l=0;l<u.length;l++)e(u[l],s)}(t),i.root.updateDepthAndHeight(0);var s=(0,Pn.Z)(a,{coordDimensions:["value"],dimensionsCount:o}).dimensions,u=new On.Z(s,n);return u.initData(a),r&&r(u),(0,Yo.Z)({mainData:u,struct:i,structAttr:"tree"}),i.update(),i},e}();var Jo=Qo;function $o(e,t,n){if(e&&y.indexOf(t,e.type)>=0){var r=n.getData().tree.root,i=e.targetNode;if(y.isString(i)&&(i=r.getNodeById(i)),i&&r.contains(i))return{node:i};var a=e.targetNodeId;if(null!=a&&(i=r.getNodeById(a)))return{node:i}}}function es(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}function ts(e,t){var n=es(e);return y.indexOf(n,t)>=0}function ns(e,t){for(var n=[];e;){var r=e.dataIndex;n.push({name:e.name,dataIndex:r,value:t.getRawValue(r)}),e=e.parentNode}return n.reverse(),n}var rs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return(0,De.ZT)(t,e),t.prototype.getInitialData=function(e){var t={name:e.name,children:e.data},n=e.leaves||{},r=new Pr.Z(n,this,this.ecModel),i=Jo.createTree(t,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=i.getNodeByDataIndex(t);return n&&n.children.length&&n.isExpand||(e.parentModel=r),e}))}));var a=0;i.eachNode("preorder",(function(e){e.depth>a&&(a=e.depth)}));var o=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:a;return i.root.eachNode("preorder",(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=o})),i.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,t,n){for(var r=this.getData().tree,i=r.root.children[0],a=r.getNodeByDataIndex(e),o=a.getValue(),s=a.name;a&&a!==i;)s=a.parentNode.name+"."+s,a=a.parentNode;return(0,vi.TX)("nameValue",{name:s,value:o,noValue:isNaN(o)||null==o})},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=ns(r,this),n.collapsed=!r.isExpand,n},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(Ie.Z),is=rs;function as(e,t){for(var n,r=[e];n=r.pop();)if(t(n),n.isExpand){var i=n.children;if(i.length)for(var a=i.length-1;a>=0;a--)r.push(i[a])}}function os(e,t){e.eachSeriesByType("tree",(function(e){!function(e,t){var n=No(e,t);e.layoutInfo=n;var r=e.get("layout"),i=0,a=0,o=null;"radial"===r?(i=2*Math.PI,a=Math.min(n.height,n.width)/2,o=Mo((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))):(i=n.width,a=n.height,o=Mo());var s=e.getData().tree.root,u=s.children[0];if(u){!function(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n,r,i=[t];n=i.pop();)if(r=n.children,n.isExpand&&r.length)for(var a=r.length-1;a>=0;a--){var o=r[a];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:a,thread:null},i.push(o)}}(s),function(e,t,n){for(var r,i=[e],a=[];r=i.pop();)if(a.push(r),r.isExpand){var o=r.children;if(o.length)for(var s=0;s<o.length;s++)i.push(o[s])}for(;r=a.pop();)t(r,n)}(u,Io,o),s.hierNode.modifier=-u.hierNode.prelim,as(u,Ao);var l=u,c=u,d=u;as(u,(function(e){var t=e.getLayout().x;t<l.getLayout().x&&(l=e),t>c.getLayout().x&&(c=e),e.depth>d.depth&&(d=e)}));var f=l===c?1:o(l,c)/2,h=f-l.getLayout().x,p=0,m=0,g=0,v=0;if("radial"===r)p=i/(c.getLayout().x+f+h),m=a/(d.depth-1||1),as(u,(function(e){g=(e.getLayout().x+h)*p,v=(e.depth-1)*m;var t=Eo(g,v);e.setLayout({x:t.x,y:t.y,rawX:g,rawY:v},!0)}));else{var y=e.getOrient();"RL"===y||"LR"===y?(m=a/(c.getLayout().x+f+h),p=i/(d.depth-1||1),as(u,(function(e){v=(e.getLayout().x+h)*m,g="LR"===y?(e.depth-1)*p:i-(e.depth-1)*p,e.setLayout({x:g,y:v},!0)}))):"TB"!==y&&"BT"!==y||(p=i/(c.getLayout().x+f+h),m=a/(d.depth-1||1),as(u,(function(e){g=(e.getLayout().x+h)*p,v="TB"===y?(e.depth-1)*m:a-(e.depth-1)*m,e.setLayout({x:g,y:v},!0)})))}}}(e,t)}))}function ss(e){e.eachSeriesByType("tree",(function(e){var t=e.getData();t.tree.eachNode((function(e){var n=e.getModel().getModel("itemStyle").getItemStyle(),r=t.ensureUniqueItemVisual(e.dataIndex,"style");(0,y.extend)(r,n)}))}))}var us=["treemapZoomToNode","treemapRender","treemapMove"];var ls=n(7430);function cs(e){var t=e.getData().tree,n={};t.eachNode((function(t){for(var r=t;r&&r.depth>1;)r=r.parentNode;var i=(0,ls.i)(e.ecModel,r.name||r.dataIndex+"",n);t.setVisual("decal",i)}))}var ds=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.preventUsingHoverLayer=!0,n}return(0,De.ZT)(t,e),t.prototype.getInitialData=function(e,t){var n={name:e.name,children:e.data};fs(n);var r=e.levels||[],i=this.designatedVisualItemStyle={},a=new Pr.Z({itemStyle:i},this,t);r=e.levels=function(e,t){var n,r,i=(0,Je.kF)(t.get("color")),a=(0,Je.kF)(t.get(["aria","decal","decals"]));if(!i)return;e=e||[],y.each(e,(function(e){var t=new Pr.Z(e),i=t.get("color"),a=t.get("decal");(t.get(["itemStyle","color"])||i&&"none"!==i)&&(n=!0),(t.get(["itemStyle","decal"])||a&&"none"!==a)&&(r=!0)}));var o=e[0]||(e[0]={});n||(o.color=i.slice());!r&&a&&(o.decal=a.slice());return e}(r,t);var o=y.map(r||[],(function(e){return new Pr.Z(e,a,t)}),this),s=Jo.createTree(n,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=s.getNodeByDataIndex(t),r=n?o[n.depth]:null;return e.parentModel=r||a,e}))}));return s.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,t,n){var r=this.getData(),i=this.getRawValue(e),a=r.getName(e);return(0,vi.TX)("nameValue",{name:a,value:i})},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=ns(r,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},y.extend(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=y.createHashMap(),this._idIndexMapCount=0);var n=t.get(e);return null==n&&t.set(e,n=this._idIndexMapCount++),n},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){cs(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(Ie.Z);function fs(e){var t=0;y.each(e.children,(function(e){fs(e);var n=e.value;y.isArray(n)&&(n=n[0]),t+=n}));var n=e.value;y.isArray(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),y.isArray(e.value)?e.value[0]=n:e.value=n}var hs=ds,ps=n(32911),ms=function(){function e(e){this.group=new Me.Z,e.add(this.group)}return e.prototype.render=function(e,t,n,r){var i=e.getModel("breadcrumb"),a=this.group;if(a.removeAll(),i.get("show")&&n){var o=i.getModel("itemStyle"),s=o.getModel("textStyle"),u={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,u,s),this._renderContent(e,u,o,s,r),pn.p$(a,u.pos,u.box)}},e.prototype._prepare=function(e,t,n){for(var r=e;r;r=r.parentNode){var i=(0,Je.U5)(r.getModel().get("name"),""),a=n.getTextRect(i),o=Math.max(a.width+16,t.emptyItemWidth);t.totalWidth+=o+8,t.renderList.push({node:r,text:i,width:o})}},e.prototype._renderContent=function(e,t,n,r,i){for(var a=0,o=t.emptyItemWidth,s=e.get(["breadcrumb","height"]),u=pn.lq(t.pos,t.box),l=t.totalWidth,c=t.renderList,d=c.length-1;d>=0;d--){var f=c[d],h=f.node,p=f.width,m=f.text;l>u.width&&(l-=p-o,p=o,m=null);var g=new pi.Z({shape:{points:gs(a,0,p,s,d===c.length-1,0===d)},style:(0,y.defaults)(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new U.ZP({style:{text:m,fill:r.getTextColor(),font:r.getFont()}}),textConfig:{position:"inside"},z2:1e4*Le.zr,onclick:(0,y.curry)(i,h)});g.disableLabelAnimation=!0,this.group.add(g),vs(g,e,h),a+=p+8}},e.prototype.remove=function(){this.group.removeAll()},e}();function gs(e,t,n,r,i,a){var o=[[i?e:e-5,t],[e+n,t],[e+n,t+r],[i?e:e-5,t+r]];return!a&&o.splice(2,0,[e+n+5,t+r/2]),!i&&o.push([e,t+r/2]),o}function vs(e,t,n){(0,Oe.A)(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&ns(n,t)}}var ys=ms,xs=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(e,t,n,r,i){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:n,delay:r,easing:i}),!0)},e.prototype.finished=function(e){return this._finishedCallback=e,this},e.prototype.start=function(){for(var e=this,t=this._storage.length,n=function(){--t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},r=0,i=this._storage.length;r<i;r++){var a=this._storage[r];a.el.animateTo(a.target,{duration:a.duration,delay:a.delay,easing:a.easing,setToFinal:!0,done:n,aborted:n})}return this},e}();var bs=n(76592),ws=Me.Z,_s=lt.Z,Ss="label",Cs="upperLabel",ks=10*Le.zr,Ds=2*Le.zr,Ts=3*Le.zr,Is=(0,bs.Z)([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),As=function(e){var t=Is(e);return t.stroke=t.fill=t.lineWidth=null,t},Ms=(0,Je.Yf)(),Es=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._state="ready",n._storage={nodeGroup:[],background:[],content:[]},n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n,r){var i=t.findComponents({mainType:"series",subType:"treemap",query:r});if(!((0,y.indexOf)(i,e)<0)){this.seriesModel=e,this.api=n,this.ecModel=t;var a=$o(r,["treemapZoomToNode","treemapRootToNode"],e),o=r&&r.type,s=e.layoutInfo,u=!this._oldTree,l=this._storage,c="treemapRootToNode"===o&&a&&l?{rootNodeGroup:l.nodeGroup[a.node.getRawIndex()],direction:r.direction}:null,d=this._giveContainerGroup(s),f=e.get("animation"),h=this._doRender(d,e,c);!f||u||o&&"treemapZoomToNode"!==o&&"treemapRootToNode"!==o?h.renderFinally():this._doAnimation(d,h,e,c),this._resetController(n),this._renderBreadcrumb(e,n,a)}},t.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new ws,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},t.prototype._doRender=function(e,t,n){var r=t.getData().tree,i=this._oldTree,a={nodeGroup:[],background:[],content:[]},o={nodeGroup:[],background:[],content:[]},s=this._storage,u=[];function l(e,r,i,l){return function(e,t,n,r,i,a,o,s,u,l){if(!o)return;var c=o.getLayout(),d=e.getData(),f=o.getModel();if(d.setItemGraphicEl(o.dataIndex,null),!c||!c.isInView)return;var h=c.width,p=c.height,m=c.borderWidth,g=c.invisible,v=o.getRawIndex(),x=s&&s.getRawIndex(),b=o.viewChildren,w=c.upperHeight,_=b&&b.length,S=f.getModel("itemStyle"),C=f.getModel(["emphasis","itemStyle"]),k=f.getModel(["blur","itemStyle"]),D=f.getModel(["select","itemStyle"]),T=S.get("borderRadius")||0,I=V("nodeGroup",ws);if(!I)return;if(u.add(I),I.x=c.x||0,I.y=c.y||0,I.markRedraw(),Ms(I).nodeWidth=h,Ms(I).nodeHeight=p,c.isAboveViewRoot)return I;var A=V("background",_s,l,Ds);A&&L(I,A,_&&c.upperLabelHeight);var M=f.getModel("emphasis"),E=M.get("focus"),N=M.get("blurScope"),R=M.get("disabled"),P="ancestor"===E?o.getAncestorsIndices():"descendant"===E?o.getDescendantIndices():E;if(_)(0,Le.Av)(I)&&(0,Le.Nj)(I,!1),A&&((0,Le.Nj)(A,!R),d.setItemGraphicEl(o.dataIndex,A),(0,Le.Ib)(A,P,N));else{var O=V("content",_s,l,Ts);O&&F(I,O),A.disableMorphing=!0,A&&(0,Le.Av)(A)&&(0,Le.Nj)(A,!1),(0,Le.Nj)(I,!R),d.setItemGraphicEl(o.dataIndex,I),(0,Le.Ib)(I,P,N)}return I;function L(t,n,r){var i=(0,Oe.A)(n);if(i.dataIndex=o.dataIndex,i.seriesIndex=e.seriesIndex,n.setShape({x:0,y:0,width:h,height:p,r:T}),g)Z(n);else{n.invisible=!1;var a=o.getVisual("style"),s=a.stroke,u=As(S);u.fill=s;var l=Is(C);l.fill=C.get("borderColor");var c=Is(k);c.fill=k.get("borderColor");var d=Is(D);if(d.fill=D.get("borderColor"),r){var f=h-2*m;B(n,s,a.opacity,{x:m,y:0,width:f,height:w})}else n.removeTextContent();n.setStyle(u),n.ensureState("emphasis").style=l,n.ensureState("blur").style=c,n.ensureState("select").style=d,(0,Le.MA)(n)}t.add(n)}function F(t,n){var r=(0,Oe.A)(n);r.dataIndex=o.dataIndex,r.seriesIndex=e.seriesIndex;var i=Math.max(h-2*m,0),a=Math.max(p-2*m,0);if(n.culling=!0,n.setShape({x:m,y:m,width:i,height:a,r:T}),g)Z(n);else{n.invisible=!1;var s=o.getVisual("style"),u=s.fill,l=As(S);l.fill=u,l.decal=s.decal;var c=Is(C),d=Is(k),f=Is(D);B(n,u,s.opacity,null),n.setStyle(l),n.ensureState("emphasis").style=c,n.ensureState("blur").style=d,n.ensureState("select").style=f,(0,Le.MA)(n)}t.add(n)}function Z(e){!e.invisible&&a.push(e)}function B(t,n,r,i){var a=f.getModel(i?Cs:Ss),s=(0,Je.U5)(f.get("name"),null),u=a.getShallow("show");(0,ze.ni)(t,(0,ze.k3)(f,i?Cs:Ss),{defaultText:u?s:null,inheritColor:n,defaultOpacity:r,labelFetcher:e,labelDataIndex:o.dataIndex});var l=t.getTextContent();if(l){var d=l.style,h=(0,y.normalizeCssArray)(d.padding||0);i&&(t.setTextConfig({layoutRect:i}),l.disableLabelLayout=!0),l.beforeUpdate=function(){var e=Math.max((i?i.width:t.shape.width)-h[1]-h[3],0),n=Math.max((i?i.height:t.shape.height)-h[0]-h[2],0);d.width===e&&d.height===n||l.setStyle({width:e,height:n})},d.truncateMinChar=2,d.lineOverflow="truncate",z(d,i,c);var p=l.getState("emphasis");z(p?p.style:null,i,c)}}function z(t,n,r){var i=t?t.text:null;if(!n&&r.isLeafRoot&&null!=i){var a=e.get("drillDownIcon",!0);t.text=a?a+" "+i:i}}function V(e,r,a,o){var s=null!=x&&n[e][x],u=i[e];return s?(n[e][x]=null,j(u,s)):g||((s=new r)instanceof Fa.ZP&&(s.z2=function(e,t){return e*ks+t}(a,o)),W(u,s)),t[e][v]=s}function j(e,t){var n=e[v]={};t instanceof ws?(n.oldX=t.x,n.oldY=t.y):n.oldShape=(0,y.extend)({},t.shape)}function W(e,t){var n=e[v]={},a=o.parentNode,s=t instanceof Me.Z;if(a&&(!r||"drillDown"===r.direction)){var u=0,l=0,c=i.background[a.getRawIndex()];!r&&c&&c.oldShape&&(u=c.oldShape.width,l=c.oldShape.height),s?(n.oldX=0,n.oldY=l):n.oldShape={x:u,y:l,width:0,height:0}}n.fadein=!s}}(t,o,s,n,a,u,e,r,i,l)}!function e(t,n,r,i,a){i?(n=t,(0,y.each)(t,(function(e,t){!e.isRemoved()&&s(t,t)}))):new ps.Z(n,t,o,o).add(s).update(s).remove((0,y.curry)(s,null)).execute();function o(e){return e.getId()}function s(o,s){var u=null!=o?t[o]:null,c=null!=s?n[s]:null,d=l(u,c,r,a);d&&e(u&&u.viewChildren||[],c&&c.viewChildren||[],d,i,a+1)}}(r.root?[r.root]:[],i&&i.root?[i.root]:[],e,r===i||!i,0);var c=function(e){var t={nodeGroup:[],background:[],content:[]};return e&&(0,y.each)(e,(function(e,n){var r=t[n];(0,y.each)(e,(function(e){e&&(r.push(e),Ms(e).willDelete=!0)}))})),t}(s);return this._oldTree=r,this._storage=o,{lastsForAnimation:a,willDeleteEls:c,renderFinally:function(){(0,y.each)(c,(function(e){(0,y.each)(e,(function(e){e.parent&&e.parent.remove(e)}))})),(0,y.each)(u,(function(e){e.invisible=!0,e.dirty()}))}}},t.prototype._doAnimation=function(e,t,n,r){var i=n.get("animationDurationUpdate"),a=n.get("animationEasing"),o=((0,y.isFunction)(i)?0:i)||0,s=((0,y.isFunction)(a)?null:a)||"cubicOut",u=new xs;(0,y.each)(t.willDeleteEls,(function(e,t){(0,y.each)(e,(function(e,n){if(!e.invisible){var i,a=e.parent,l=Ms(a);if(r&&"drillDown"===r.direction)i=a===r.rootNodeGroup?{shape:{x:0,y:0,width:l.nodeWidth,height:l.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var c=0,d=0;l.willDelete||(c=l.nodeWidth/2,d=l.nodeHeight/2),i="nodeGroup"===t?{x:c,y:d,style:{opacity:0}}:{shape:{x:c,y:d,width:0,height:0},style:{opacity:0}}}i&&u.add(e,i,o,0,s)}}))})),(0,y.each)(this._storage,(function(e,n){(0,y.each)(e,(function(e,r){var i=t.lastsForAnimation[n][r],a={};i&&(e instanceof Me.Z?null!=i.oldX&&(a.x=e.x,a.y=e.y,e.x=i.oldX,e.y=i.oldY):(i.oldShape&&(a.shape=(0,y.extend)({},e.shape),e.setShape(i.oldShape)),i.fadein?(e.setStyle("opacity",0),a.style={opacity:1}):1!==e.style.opacity&&(a.style={opacity:1})),u.add(e,a,o,0,s))}))}),this),this._state="animating",u.finished((0,y.bind)((function(){this._state="ready",t.renderFinally()}),this)).start()},t.prototype._resetController=function(e){var t=this._controller;t||((t=this._controller=new ji(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",(0,y.bind)(this._onPan,this)),t.on("zoom",(0,y.bind)(this._onZoom,this)));var n=new Wn.Z(0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,r){return n.contain(t,r)}))},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var t=this.seriesModel.getData().tree.root;if(!t)return;var n=t.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+e.dx,y:n.y+e.dy,width:n.width,height:n.height}})}},t.prototype._onZoom=function(e){var t=e.originX,n=e.originY;if("animating"!==this._state){var r=this.seriesModel.getData().tree.root;if(!r)return;var i=r.getLayout();if(!i)return;var a=new Wn.Z(i.x,i.y,i.width,i.height),o=this.seriesModel.layoutInfo;t-=o.x,n-=o.y;var s=fr.create();fr.translate(s,s,[-t,-n]),fr.scale(s,s,[e.scale,e.scale]),fr.translate(s,s,[t,n]),a.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x,y:a.y,width:a.width,height:a.height}})}},t.prototype._initEvents=function(e){var t=this;e.on("click",(function(e){if("ready"===t._state){var n=t.seriesModel.get("nodeClick",!0);if(n){var r=t.findTarget(e.offsetX,e.offsetY);if(r){var i=r.node;if(i.getLayout().isLeafRoot)t._rootToNode(r);else if("zoomToNode"===n)t._zoomToNode(r);else if("link"===n){var a=i.hostTree.data.getItemModel(i.dataIndex),o=a.get("link",!0),s=a.get("target",!0)||"blank";o&&(0,gt.MI)(o,s)}}}}}),this)},t.prototype._renderBreadcrumb=function(e,t,n){var r=this;n||(n=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(n={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new ys(this.group))).render(e,t,n.node,(function(t){"animating"!==r._state&&(ts(e.getViewRoot(),t)?r._rootToNode({node:t}):r._zoomToNode({node:t}))}))},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,t){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(r){var i=this._storage.background[r.getRawIndex()];if(i){var a=i.transformCoordToLocal(e,t),o=i.shape;if(!(o.x<=a[0]&&a[0]<=o.x+o.width&&o.y<=a[1]&&a[1]<=o.y+o.height))return!1;n={node:r,offsetX:a[0],offsetY:a[1]}}}),this),n},t.type="treemap",t}(ut.Z);var Ns=Es,Rs=y.each,Ps=y.isObject,Os=-1,Ls=function(){function e(t){var n=t.mappingMethod,r=t.type,i=this.option=y.clone(t);this.type=r,this.mappingMethod=n,this._normalizeData=Gs[n];var a=e.visualHandlers[r];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[n],"piecewise"===n?(Fs(i),function(e){var t=e.pieceList;e.hasSpecialVisual=!1,y.each(t,(function(t,n){t.originIndex=n,null!=t.visual&&(e.hasSpecialVisual=!0)}))}(i)):"category"===n?i.categories?function(e){var t=e.categories,n=e.categoryMap={},r=e.visual;if(Rs(t,(function(e,t){n[e]=t})),!y.isArray(r)){var i=[];y.isObject(r)?Rs(r,(function(e,t){var r=n[t];i[null!=r?r:Os]=e})):i[-1]=r,r=Hs(e,i)}for(var a=t.length-1;a>=0;a--)null==r[a]&&(delete n[t[a]],t.pop())}(i):Fs(i,!0):(y.assert("linear"!==n||i.dataExtent),Fs(i))}return e.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},e.prototype.getNormalizer=function(){return y.bind(this._normalizeData,this)},e.listVisualTypes=function(){return y.keys(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(e,t,n){y.isObject(e)?y.each(e,t,n):t.call(n,e)},e.mapVisual=function(t,n,r){var i,a=y.isArray(t)?[]:y.isObject(t)?{}:(i=!0,null);return e.eachVisual(t,(function(e,t){var o=n.call(r,e,t);i?a=o:a[t]=o})),a},e.retrieveVisuals=function(t){var n,r={};return t&&Rs(e.visualHandlers,(function(e,i){t.hasOwnProperty(i)&&(r[i]=t[i],n=!0)})),n?r:null},e.prepareVisualTypes=function(e){if(y.isArray(e))e=e.slice();else{if(!Ps(e))return[];var t=[];Rs(e,(function(e,n){t.push(n)})),e=t}return e.sort((function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1})),e},e.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},e.findPieceIndex=function(e,t,n){for(var r,i=1/0,a=0,o=t.length;a<o;a++){var s=t[a].value;if(null!=s){if(s===e||y.isString(s)&&s===e+"")return a;n&&d(s,a)}}for(a=0,o=t.length;a<o;a++){var u=t[a],l=u.interval,c=u.close;if(l){if(l[0]===-1/0){if(Xs(c[1],e,l[1]))return a}else if(l[1]===1/0){if(Xs(c[0],l[0],e))return a}else if(Xs(c[0],l[0],e)&&Xs(c[1],e,l[1]))return a;n&&d(l[0],a),n&&d(l[1],a)}}if(n)return e===1/0?t.length-1:e===-1/0?0:r;function d(t,n){var a=Math.abs(t-e);a<i&&(i=a,r=n)}},e.visualHandlers={color:{applyVisual:zs("color"),getColorMapper:function(){var e=this.option;return y.bind("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),Vs.call(this,e)}:function(t,n,r){var i=!!r;return!n&&(t=this._normalizeData(t)),r=vt.fastLerp(t,e.parsedVisual,r),i?r:vt.stringify(r,"rgba")},this)},_normalizedToVisual:{linear:function(e){return vt.stringify(vt.fastLerp(e,this.option.parsedVisual),"rgba")},category:Vs,piecewise:function(e,t){var n=Us.call(this,t);return null==n&&(n=vt.stringify(vt.fastLerp(e,this.option.parsedVisual),"rgba")),n},fixed:js}},colorHue:Zs((function(e,t){return vt.modifyHSL(e,t)})),colorSaturation:Zs((function(e,t){return vt.modifyHSL(e,null,t)})),colorLightness:Zs((function(e,t){return vt.modifyHSL(e,null,null,t)})),colorAlpha:Zs((function(e,t){return vt.modifyAlpha(e,t)})),decal:{applyVisual:zs("decal"),_normalizedToVisual:{linear:null,category:Vs,piecewise:null,fixed:null}},opacity:{applyVisual:zs("opacity"),_normalizedToVisual:Ws([0,1])},liftZ:{applyVisual:zs("liftZ"),_normalizedToVisual:{linear:js,category:js,piecewise:js,fixed:js}},symbol:{applyVisual:function(e,t,n){n("symbol",this.mapValueToVisual(e))},_normalizedToVisual:{linear:Bs,category:Vs,piecewise:function(e,t){var n=Us.call(this,t);return null==n&&(n=Bs.call(this,e)),n},fixed:js}},symbolSize:{applyVisual:zs("symbolSize"),_normalizedToVisual:Ws([0,1])}},e}();function Fs(e,t){var n=e.visual,r=[];y.isObject(n)?Rs(n,(function(e){r.push(e)})):null!=n&&r.push(n);t||1!==r.length||{color:1,symbol:1}.hasOwnProperty(e.type)||(r[1]=r[0]),Hs(e,r)}function Zs(e){return{applyVisual:function(t,n,r){var i=this.mapValueToVisual(t);r("color",e(n("color"),i))},_normalizedToVisual:Ws([0,1])}}function Bs(e){var t=this.option.visual;return t[Math.round((0,dt.NU)(e,[0,1],[0,t.length-1],!0))]||{}}function zs(e){return function(t,n,r){r(e,this.mapValueToVisual(t))}}function Vs(e){var t=this.option.visual;return t[this.option.loop&&e!==Os?e%t.length:e]}function js(){return this.option.visual[0]}function Ws(e){return{linear:function(t){return(0,dt.NU)(t,e,this.option.visual,!0)},category:Vs,piecewise:function(t,n){var r=Us.call(this,n);return null==r&&(r=(0,dt.NU)(t,e,this.option.visual,!0)),r},fixed:js}}function Us(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var r=n[Ls.findPieceIndex(e,n)];if(r&&r.visual)return r.visual[this.type]}}function Hs(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=y.map(t,(function(e){var t=vt.parse(e);return t||[0,0,0,1]}))),t}var Gs={linear:function(e){return(0,dt.NU)(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=Ls.findPieceIndex(e,t,!0);if(null!=n)return(0,dt.NU)(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?Os:t},fixed:y.noop};function Xs(e,t,n){return e?t<=n:t<n}var qs=Ls,Ys=(0,Je.Yf)(),Ks={seriesType:"treemap",reset:function(e){var t=e.getData().tree.root;t.isRemoved()||Qs(t,{},e.getViewRoot().getAncestors(),e)}};function Qs(e,t,n,r){var i=e.getModel(),a=e.getLayout(),o=e.hostTree.data;if(a&&!a.invisible&&a.isInView){var s,u=i.getModel("itemStyle"),l=function(e,t,n){var r=(0,y.extend)({},t),i=n.designatedVisualItemStyle;return(0,y.each)(["color","colorAlpha","colorSaturation"],(function(n){i[n]=t[n];var a=e.get(n);i[n]=null,null!=a&&(r[n]=a)})),r}(u,t,r),c=o.ensureUniqueItemVisual(e.dataIndex,"style"),d=u.get("borderColor"),f=u.get("borderColorSaturation");null!=f&&(d=function(e,t){return null!=t?(0,vt.modifyHSL)(t,null,null,e):null}(f,s=Js(l))),c.stroke=d;var h=e.viewChildren;if(h&&h.length){var p=function(e,t,n,r,i,a){if(!a||!a.length)return;var o=eu(t,"color")||null!=i.color&&"none"!==i.color&&(eu(t,"colorAlpha")||eu(t,"colorSaturation"));if(!o)return;var s=t.get("visualMin"),u=t.get("visualMax"),l=n.dataExtent.slice();null!=s&&s<l[0]&&(l[0]=s),null!=u&&u>l[1]&&(l[1]=u);var c=t.get("colorMappingBy"),d={type:o.name,dataExtent:l,visual:o.range};"color"!==d.type||"index"!==c&&"id"!==c?d.mappingMethod="linear":(d.mappingMethod="category",d.loop=!0);var f=new qs(d);return Ys(f).drColorMappingBy=c,f}(0,i,a,0,l,h);(0,y.each)(h,(function(e,t){if(e.depth>=n.length||e===n[e.depth]){var a=function(e,t,n,r,i,a){var o=(0,y.extend)({},t);if(i){var s=i.type,u="color"===s&&Ys(i).drColorMappingBy,l="index"===u?r:"id"===u?a.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));o[s]=i.mapValueToVisual(l)}return o}(i,l,e,t,p,r);Qs(e,a,n,r)}}))}else s=Js(l),c.fill=s}}function Js(e){var t=$s(e,"color");if(t){var n=$s(e,"colorAlpha"),r=$s(e,"colorSaturation");return r&&(t=(0,vt.modifyHSL)(t,null,null,r)),n&&(t=(0,vt.modifyAlpha)(t,n)),t}}function $s(e,t){var n=e[t];if(null!=n&&"none"!==n)return n}function eu(e,t){var n=e.get(t);return(0,y.isArray)(n)&&n.length?{name:t,range:n}:null}var tu=Math.max,nu=Math.min,ru=y.retrieve,iu=y.each,au=["itemStyle","borderWidth"],ou=["itemStyle","gapWidth"],su=["upperLabel","show"],uu=["upperLabel","height"],lu={seriesType:"treemap",reset:function(e,t,n,r){var i=n.getWidth(),a=n.getHeight(),o=e.option,s=pn.ME(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),u=o.size||[],l=(0,dt.GM)(ru(s.width,u[0]),i),c=(0,dt.GM)(ru(s.height,u[1]),a),d=r&&r.type,f=$o(r,["treemapZoomToNode","treemapRootToNode"],e),h="treemapRender"===d||"treemapMove"===d?r.rootRect:null,p=e.getViewRoot(),m=es(p);if("treemapMove"!==d){var g="treemapZoomToNode"===d?function(e,t,n,r,i){var a,o=(t||{}).node,s=[r,i];if(!o||o===n)return s;var u=r*i,l=u*e.option.zoomToNodeRatio;for(;a=o.parentNode;){for(var c=0,d=a.children,f=0,h=d.length;f<h;f++)c+=d[f].getValue();var p=o.getValue();if(0===p)return s;l*=c/p;var m=a.getModel(),g=m.get(au);(l+=4*g*g+(3*g+Math.max(g,pu(m)))*Math.pow(l,.5))>dt.YM&&(l=dt.YM),o=a}l<u&&(l=u);var v=Math.pow(l/u,.5);return[r*v,i*v]}(e,f,p,l,c):h?[h.width,h.height]:[l,c],v=o.sort;v&&"asc"!==v&&"desc"!==v&&(v="desc");var x={squareRatio:o.squareRatio,sort:v,leafDepth:o.leafDepth};p.hostTree.clearLayouts();var b={x:0,y:0,width:g[0],height:g[1],area:g[0]*g[1]};p.setLayout(b),cu(p,x,!1,0),b=p.getLayout(),iu(m,(function(e,t){var n=(m[t+1]||p).getValue();e.setLayout(y.extend({dataExtent:[n,n],borderWidth:0,upperHeight:0},b))}))}var w=e.getData().tree.root;w.setLayout(function(e,t,n){if(t)return{x:t.x,y:t.y};var r={x:0,y:0};if(!n)return r;var i=n.node,a=i.getLayout();if(!a)return r;var o=[a.width/2,a.height/2],s=i;for(;s;){var u=s.getLayout();o[0]+=u.x,o[1]+=u.y,s=s.parentNode}return{x:e.width/2-o[0],y:e.height/2-o[1]}}(s,h,f),!0),e.setLayoutInfo(s),hu(w,new Wn.Z(-s.x,-s.y,i,a),m,p,0)}};function cu(e,t,n,r){var i,a;if(!e.isRemoved()){var o=e.getLayout();i=o.width,a=o.height;var s=e.getModel(),u=s.get(au),l=s.get(ou)/2,c=pu(s),d=Math.max(u,c),f=u-l,h=d-l;e.setLayout({borderWidth:u,upperHeight:d,upperLabelHeight:c},!0);var p=(i=tu(i-2*f,0))*(a=tu(a-f-h,0)),m=function(e,t,n,r,i,a){var o=e.children||[],s=r.sort;"asc"!==s&&"desc"!==s&&(s=null);var u=null!=r.leafDepth&&r.leafDepth<=a;if(i&&!u)return e.viewChildren=[];o=y.filter(o,(function(e){return!e.isRemoved()})),function(e,t){t&&e.sort((function(e,n){var r="asc"===t?e.getValue()-n.getValue():n.getValue()-e.getValue();return 0===r?"asc"===t?e.dataIndex-n.dataIndex:n.dataIndex-e.dataIndex:r}))}(o,s);var l=function(e,t,n){for(var r=0,i=0,a=t.length;i<a;i++)r+=t[i].getValue();var o,s=e.get("visualDimension");t&&t.length?"value"===s&&n?(o=[t[t.length-1].getValue(),t[0].getValue()],"asc"===n&&o.reverse()):(o=[1/0,-1/0],iu(t,(function(e){var t=e.getValue(s);t<o[0]&&(o[0]=t),t>o[1]&&(o[1]=t)}))):o=[NaN,NaN];return{sum:r,dataExtent:o}}(t,o,s);if(0===l.sum)return e.viewChildren=[];if(l.sum=function(e,t,n,r,i){if(!r)return n;for(var a=e.get("visibleMin"),o=i.length,s=o,u=o-1;u>=0;u--){var l=i["asc"===r?o-u-1:u].getValue();l/n*t<a&&(s=u,n-=l)}return"asc"===r?i.splice(0,o-s):i.splice(s,o-s),n}(t,n,l.sum,s,o),0===l.sum)return e.viewChildren=[];for(var c=0,d=o.length;c<d;c++){var f=o[c].getValue()/l.sum*n;o[c].setLayout({area:f})}u&&(o.length&&e.setLayout({isLeafRoot:!0},!0),o.length=0);return e.viewChildren=o,e.setLayout({dataExtent:l.dataExtent},!0),o}(e,s,p,t,n,r);if(m.length){var g={x:f,y:h,width:i,height:a},v=nu(i,a),x=1/0,b=[];b.area=0;for(var w=0,_=m.length;w<_;){var S=m[w];b.push(S),b.area+=S.getLayout().area;var C=du(b,v,t.squareRatio);C<=x?(w++,x=C):(b.area-=b.pop().getLayout().area,fu(b,v,g,l,!1),v=nu(g.width,g.height),b.length=b.area=0,x=1/0)}if(b.length&&fu(b,v,g,l,!0),!n){var k=s.get("childrenVisibleMin");null!=k&&p<k&&(n=!0)}for(w=0,_=m.length;w<_;w++)cu(m[w],t,n,r+1)}}}function du(e,t,n){for(var r=0,i=1/0,a=0,o=void 0,s=e.length;a<s;a++)(o=e[a].getLayout().area)&&(o<i&&(i=o),o>r&&(r=o));var u=e.area*e.area,l=t*t*n;return u?tu(l*r/u,u/(l*i)):1/0}function fu(e,t,n,r,i){var a=t===n.width?0:1,o=1-a,s=["x","y"],u=["width","height"],l=n[s[a]],c=t?e.area/t:0;(i||c>n[u[o]])&&(c=n[u[o]]);for(var d=0,f=e.length;d<f;d++){var h=e[d],p={},m=c?h.getLayout().area/c:0,g=p[u[o]]=tu(c-2*r,0),v=n[s[a]]+n[u[a]]-l,y=d===f-1||v<m?v:m,x=p[u[a]]=tu(y-2*r,0);p[s[o]]=n[s[o]]+nu(r,g/2),p[s[a]]=l+nu(r,x/2),l+=y,h.setLayout(p,!0)}n[s[o]]+=c,n[u[o]]-=c}function hu(e,t,n,r,i){var a=e.getLayout(),o=n[i],s=o&&o===e;if(!(o&&!s||i===n.length&&e!==r)){e.setLayout({isInView:!0,invisible:!s&&!t.intersect(a),isAboveViewRoot:s},!0);var u=new Wn.Z(t.x-a.x,t.y-a.y,t.width,t.height);iu(e.viewChildren||[],(function(e){hu(e,u,n,r,i+1)}))}}function pu(e){return e.get(su)?e.get(uu):0}function mu(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),r=e.getGraph().data,i=n.mapArray(n.getName);r.filterSelf((function(e){var n=r.getItemModel(e).getShallow("category");if(null!=n){(0,y.isNumber)(n)&&(n=i[n]);for(var a=0;a<t.length;a++)if(!t[a].isSelected(n))return!1}return!0}))}))}function gu(e){var t={};e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),r=e.getData(),i={};n.each((function(r){var a=n.getName(r);i["ec-"+a]=r;var o=n.getItemModel(r),s=o.getModel("itemStyle").getItemStyle();s.fill||(s.fill=e.getColorFromPalette(a,t)),n.setItemVisual(r,"style",s);for(var u=["symbol","symbolSize","symbolKeepAspect"],l=0;l<u.length;l++){var c=o.getShallow(u[l],!0);null!=c&&n.setItemVisual(r,u[l],c)}})),n.count()&&r.each((function(e){var t=r.getItemModel(e).getShallow("category");if(null!=t){(0,y.isString)(t)&&(t=i["ec-"+t]);var a=n.getItemVisual(t,"style"),o=r.ensureUniqueItemVisual(e,"style");(0,y.extend)(o,a);for(var s=["symbol","symbolSize","symbolKeepAspect"],u=0;u<s.length;u++)r.setItemVisual(e,s[u],n.getItemVisual(t,s[u]))}}))}))}function vu(e){return e instanceof Array||(e=[e,e]),e}function yu(e){e.eachSeriesByType("graph",(function(e){var t=e.getGraph(),n=e.getEdgeData(),r=vu(e.get("edgeSymbol")),i=vu(e.get("edgeSymbolSize"));n.setVisual("fromSymbol",r&&r[0]),n.setVisual("toSymbol",r&&r[1]),n.setVisual("fromSymbolSize",i&&i[0]),n.setVisual("toSymbolSize",i&&i[1]),n.setVisual("style",e.getModel("lineStyle").getLineStyle()),n.each((function(e){var r=n.getItemModel(e),i=t.getEdgeByIndex(e),a=vu(r.getShallow("symbol",!0)),o=vu(r.getShallow("symbolSize",!0)),s=r.getModel("lineStyle").getLineStyle(),u=n.ensureUniqueItemVisual(e,"style");switch((0,y.extend)(u,s),u.stroke){case"source":var l=i.node1.getVisual("style");u.stroke=l&&l.fill;break;case"target":l=i.node2.getVisual("style");u.stroke=l&&l.fill}a[0]&&i.setVisual("fromSymbol",a[0]),a[1]&&i.setVisual("toSymbol",a[1]),o[0]&&i.setVisual("fromSymbolSize",o[0]),o[1]&&i.setVisual("toSymbolSize",o[1])}))}))}var xu="--\x3e",bu=function(e){return e.get("autoCurveness")||null},wu=function(e,t){var n=bu(e),r=20,i=[];if(y.isNumber(n))r=n;else if(y.isArray(n))return void(e.__curvenessList=n);t>r&&(r=t);var a=r%2?r+2:r+3;i=[];for(var o=0;o<a;o++)i.push((o%2?o+1:o)/10*(o%2?-1:1));e.__curvenessList=i},_u=function(e,t,n){var r=[e.id,e.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[n.uid,r,i].join(xu)},Su=function(e){var t=e.split(xu);return[t[0],t[2],t[1]].join(xu)},Cu=function(e,t){var n=t.__edgeMap;return n[e]?n[e].length:0};function ku(e,t,n,r){var i=bu(t),a=y.isArray(i);if(!i)return null;var o=function(e,t){var n=_u(e.node1,e.node2,t);return t.__edgeMap[n]}(e,t);if(!o)return null;for(var s=-1,u=0;u<o.length;u++)if(o[u]===n){s=u;break}var l=function(e,t){return Cu(_u(e.node1,e.node2,t),t)+Cu(_u(e.node2,e.node1,t),t)}(e,t);wu(t,l),e.lineStyle=e.lineStyle||{};var c=_u(e.node1,e.node2,t),d=t.__curvenessList,f=a||l%2?0:1;if(o.isForward)return d[f+s];var h=Su(c),p=Cu(h,t),m=d[s+p+f];return r?a?i&&0===i[0]?(p+f)%2?m:-m:((p%2?0:1)+f)%2?m:-m:(p+f)%2?m:-m:d[s+p+f]}function Du(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=e.getGraph();n.eachNode((function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])})),Tu(n,e)}}function Tu(e,t){e.eachEdge((function(e,n){var r=y.retrieve3(e.getModel().get(["lineStyle","curveness"]),-ku(e,t,n,!0),0),i=hr.clone(e.node1.getLayout()),a=hr.clone(e.node2.getLayout()),o=[i,a];+r&&o.push([(i[0]+a[0])/2-(i[1]-a[1])*r,(i[1]+a[1])/2-(a[0]-i[0])*r]),e.setLayout(o)}))}function Iu(e,t){e.eachSeriesByType("graph",(function(e){var t=e.get("layout"),n=e.coordinateSystem;if(n&&"view"!==n.type){var r=e.getData(),i=[];(0,y.each)(n.dimensions,(function(e){i=i.concat(r.mapDimensionsAll(e))}));for(var a=0;a<r.count();a++){for(var o=[],s=!1,u=0;u<i.length;u++){var l=r.get(i[u],a);isNaN(l)||(s=!0),o.push(l)}s?r.setItemLayout(a,n.dataToPoint(o)):r.setItemLayout(a,[NaN,NaN])}Tu(r.graph,e)}else t&&"none"!==t||Du(e)}))}function Au(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=e.option.nodeScaleRatio,r=t.scaleX;return((t.getZoom()-1)*n+1)/r}function Mu(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var Eu=Math.PI,Nu=[];function Ru(e,t){var n=e.coordinateSystem;if(!n||"view"===n.type){var r=n.getBoundingRect(),i=e.getData(),a=i.graph,o=r.width/2+r.x,s=r.height/2+r.y,u=Math.min(r.width,r.height)/2,l=i.count();i.setLayout({cx:o,cy:s}),l&&(Pu[t](e,a,i,u,o,s,l),a.eachEdge((function(t,n){var r,i=y.retrieve3(t.getModel().get(["lineStyle","curveness"]),ku(t,e,n),0),a=hr.clone(t.node1.getLayout()),u=hr.clone(t.node2.getLayout()),l=(a[0]+u[0])/2,c=(a[1]+u[1])/2;+i&&(r=[o*(i*=3)+l*(1-i),s*i+c*(1-i)]),t.setLayout([a,u,r])})))}}var Pu={value:function(e,t,n,r,i,a,o){var s=0,u=n.getSum("value"),l=2*Math.PI/(u||o);t.eachNode((function(e){var t=e.getValue("value"),n=l*(u?t:1)/2;s+=n,e.setLayout([r*Math.cos(s)+i,r*Math.sin(s)+a]),s+=n}))},symbolSize:function(e,t,n,r,i,a,o){var s=0;Nu.length=o;var u=Au(e);t.eachNode((function(e){var t=Mu(e);isNaN(t)&&(t=2),t<0&&(t=0),t*=u;var n=Math.asin(t/2/r);isNaN(n)&&(n=Eu/2),Nu[e.dataIndex]=n,s+=2*n}));var l=(2*Eu-s)/o/2,c=0;t.eachNode((function(e){var t=l+Nu[e.dataIndex];c+=t,e.setLayout([r*Math.cos(c)+i,r*Math.sin(c)+a]),c+=t}))}};function Ou(e){e.eachSeriesByType("graph",(function(e){"circular"===e.get("layout")&&Ru(e,"symbolSize")}))}var Lu=hr.scaleAndAdd;function Fu(e){e.eachSeriesByType("graph",(function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var n=e.preservedPoints||{},r=e.getGraph(),i=r.data,a=r.edgeData,o=e.getModel("force"),s=o.get("initLayout");e.preservedPoints?i.each((function(e){var t=i.getId(e);i.setItemLayout(e,n[t]||[NaN,NaN])})):s&&"none"!==s?"circular"===s&&Ru(e,"value"):Du(e);var u=i.getDataExtent("value"),l=a.getDataExtent("value"),c=o.get("repulsion"),d=o.get("edgeLength"),f=y.isArray(c)?c:[c,c],h=y.isArray(d)?d:[d,d];h=[h[1],h[0]];var p=i.mapArray("value",(function(e,t){var n=i.getItemLayout(t),r=(0,dt.NU)(e,u,f);return isNaN(r)&&(r=(f[0]+f[1])/2),{w:r,rep:r,fixed:i.getItemModel(t).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),m=a.mapArray("value",(function(t,n){var i=r.getEdgeByIndex(n),a=(0,dt.NU)(t,l,h);isNaN(a)&&(a=(h[0]+h[1])/2);var o=i.getModel(),s=y.retrieve3(i.getModel().get(["lineStyle","curveness"]),-ku(i,e,n,!0),0);return{n1:p[i.node1.dataIndex],n2:p[i.node2.dataIndex],d:a,curveness:s,ignoreForceLayout:o.get("ignoreForceLayout")}})),g=t.getBoundingRect(),v=function(e,t,n){for(var r=e,i=t,a=n.rect,o=a.width,s=a.height,u=[a.x+o/2,a.y+s/2],l=null==n.gravity?.1:n.gravity,c=0;c<r.length;c++){var d=r[c];d.p||(d.p=hr.create(o*(Math.random()-.5)+u[0],s*(Math.random()-.5)+u[1])),d.pp=hr.clone(d.p),d.edges=null}var f,h,p=null==n.friction?.6:n.friction,m=p;return{warmUp:function(){m=.8*p},setFixed:function(e){r[e].fixed=!0},setUnfixed:function(e){r[e].fixed=!1},beforeStep:function(e){f=e},afterStep:function(e){h=e},step:function(e){f&&f(r,i);for(var t=[],n=r.length,a=0;a<i.length;a++){var o=i[a];if(!o.ignoreForceLayout){var s=o.n1,c=o.n2;hr.sub(t,c.p,s.p);var d=hr.len(t)-o.d,p=c.w/(s.w+c.w);isNaN(p)&&(p=0),hr.normalize(t,t),!s.fixed&&Lu(s.p,s.p,t,p*d*m),!c.fixed&&Lu(c.p,c.p,t,-(1-p)*d*m)}}for(a=0;a<n;a++)(x=r[a]).fixed||(hr.sub(t,u,x.p),Lu(x.p,x.p,t,l*m));for(a=0;a<n;a++){s=r[a];for(var g=a+1;g<n;g++){c=r[g],hr.sub(t,c.p,s.p),0===(d=hr.len(t))&&(hr.set(t,Math.random()-.5,Math.random()-.5),d=1);var v=(s.rep+c.rep)/d/d;!s.fixed&&Lu(s.pp,s.pp,t,v),!c.fixed&&Lu(c.pp,c.pp,t,-v)}}var y=[];for(a=0;a<n;a++){var x;(x=r[a]).fixed||(hr.sub(y,x.p,x.pp),Lu(x.p,x.p,y,m),hr.copy(x.pp,x.p))}var b=(m*=.992)<.01;h&&h(r,i,b),e&&e(b)}}}(p,m,{rect:g,gravity:o.get("gravity"),friction:o.get("friction")});v.beforeStep((function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].fixed&&hr.copy(e[n].p,r.getNodeByIndex(n).getLayout())})),v.afterStep((function(e,t,a){for(var o=0,s=e.length;o<s;o++)e[o].fixed||r.getNodeByIndex(o).setLayout(e[o].p),n[i.getId(o)]=e[o].p;for(o=0,s=t.length;o<s;o++){var u=t[o],l=r.getEdgeByIndex(o),c=u.n1.p,d=u.n2.p,f=l.getLayout();(f=f?f.slice():[])[0]=f[0]||[],f[1]=f[1]||[],hr.copy(f[0],c),hr.copy(f[1],d),+u.curveness&&(f[2]=[(c[0]+d[0])/2-(c[1]-d[1])*u.curveness,(c[1]+d[1])/2-(d[0]-c[0])*u.curveness]),l.setLayout(f)}})),e.forceLayout=v,e.preservedPoints=n,v.step()}else e.forceLayout=null}))}function Zu(e,t){var n=[];return e.eachSeriesByType("graph",(function(e){var r=e.get("coordinateSystem");if(!r||"view"===r){var i=e.getData(),a=i.mapArray((function(e){var t=i.getItemModel(e);return[+t.get("x"),+t.get("y")]})),o=[],s=[];Zo.zk(a,o,s),s[0]-o[0]===0&&(s[0]+=1,o[0]-=1),s[1]-o[1]===0&&(s[1]+=1,o[1]-=1);var u=(s[0]-o[0])/(s[1]-o[1]),l=function(e,t,n){var r=(0,y.extend)(e.getBoxLayoutParams(),{aspect:n});return(0,pn.ME)(r,{width:t.getWidth(),height:t.getHeight()})}(e,t,u);isNaN(u)&&(o=[l.x,l.y],s=[l.x+l.width,l.y+l.height]);var c=s[0]-o[0],d=s[1]-o[1],f=l.width,h=l.height,p=e.coordinateSystem=new uo;p.zoomLimit=e.get("scaleLimit"),p.setBoundingRect(o[0],o[1],c,d),p.setViewRect(l.x,l.y,f,h),p.setCenter(e.get("center")),p.setZoom(e.get("zoom")),n.push(p)}})),n}var Bu=Rr.Z.prototype,zu=To.Z.prototype,Vu=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(0,De.ZT)(t,e)}(Vu);function ju(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var Wu=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-line",n}return(0,De.ZT)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Vu},t.prototype.buildPath=function(e,t){ju(t)?Bu.buildPath.call(this,e,t):zu.buildPath.call(this,e,t)},t.prototype.pointAt=function(e){return ju(this.shape)?Bu.pointAt.call(this,e):zu.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var t=this.shape,n=ju(t)?[t.x2-t.x1,t.y2-t.y1]:zu.tangentAt.call(this,e);return hr.normalize(n,n)},t}(o.ZP),Uu=["fromSymbol","toSymbol"];function Hu(e){return"_"+e+"Type"}function Gu(e,t,n){var r=t.getItemVisual(n,e);if(r&&"none"!==r){var i=t.getItemVisual(n,e+"Size"),a=t.getItemVisual(n,e+"Rotate"),o=t.getItemVisual(n,e+"Offset"),s=t.getItemVisual(n,e+"KeepAspect"),u=Ae.zp(i),l=Ae.Cq(o||0,u),c=Ae.th(r,-u[0]/2+l[0],-u[1]/2+l[1],u[0],u[1],null,s);return c.__specifiedRotation=null==a||isNaN(a)?void 0:+a*Math.PI/180||0,c.name=e,c}}function Xu(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var n=t[2];n?(e.cpx1=n[0],e.cpy1=n[1]):(e.cpx1=NaN,e.cpy1=NaN)}var qu=function(e){function t(t,n,r){var i=e.call(this)||this;return i._createLine(t,n,r),i}return(0,De.ZT)(t,e),t.prototype._createLine=function(e,t,n){var r=e.hostModel,i=function(e){var t=new Wu({name:"line",subPixelOptimize:!0});return Xu(t.shape,e),t}(e.getItemLayout(t));i.shape.percent=0,Pe.KZ(i,{shape:{percent:1}},r,t),this.add(i),(0,y.each)(Uu,(function(n){var r=Gu(n,e,t);this.add(r),this[Hu(n)]=e.getItemVisual(t,n)}),this),this._updateCommonStl(e,t,n)},t.prototype.updateData=function(e,t,n){var r=e.hostModel,i=this.childOfName("line"),a=e.getItemLayout(t),o={shape:{}};Xu(o.shape,a),Pe.D(i,o,r,t),(0,y.each)(Uu,(function(n){var r=e.getItemVisual(t,n),i=Hu(n);if(this[i]!==r){this.remove(this.childOfName(n));var a=Gu(n,e,t);this.add(a)}this[i]=r}),this),this._updateCommonStl(e,t,n)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,t,n){var r=e.hostModel,i=this.childOfName("line"),a=n&&n.emphasisLineStyle,o=n&&n.blurLineStyle,s=n&&n.selectLineStyle,u=n&&n.labelStatesModels,l=n&&n.emphasisDisabled,c=n&&n.focus,d=n&&n.blurScope;if(!n||e.hasItemOption){var f=e.getItemModel(t),h=f.getModel("emphasis");a=h.getModel("lineStyle").getLineStyle(),o=f.getModel(["blur","lineStyle"]).getLineStyle(),s=f.getModel(["select","lineStyle"]).getLineStyle(),l=h.get("disabled"),c=h.get("focus"),d=h.get("blurScope"),u=(0,ze.k3)(f)}var p=e.getItemVisual(t,"style"),m=p.stroke;i.useStyle(p),i.style.fill=null,i.style.strokeNoScale=!0,i.ensureState("emphasis").style=a,i.ensureState("blur").style=o,i.ensureState("select").style=s,(0,y.each)(Uu,(function(e){var t=this.childOfName(e);if(t){t.setColor(m),t.style.opacity=p.opacity;for(var n=0;n<Le.L1.length;n++){var r=Le.L1[n],a=i.getState(r);if(a){var o=a.style||{},s=t.ensureState(r),u=s.style||(s.style={});null!=o.stroke&&(u[t.__isEmptyBrush?"stroke":"fill"]=o.stroke),null!=o.opacity&&(u.opacity=o.opacity)}}t.markRedraw()}}),this);var g=r.getRawValue(t);(0,ze.ni)(this,u,{labelDataIndex:t,labelFetcher:{getFormattedLabel:function(t,n){return r.getFormattedLabel(t,n,e.dataType)}},inheritColor:m||"#000",defaultOpacity:p.opacity,defaultText:(null==g?e.getName(t):isFinite(g)?(0,dt.NM)(g):g)+""});var v=this.getTextContent();if(v){var x=u.normal;v.__align=v.style.align,v.__verticalAlign=v.style.verticalAlign,v.__position=x.get("position")||"middle";var b=x.get("distance");(0,y.isArray)(b)||(b=[b,b]),v.__labelDistance=b}this.setTextConfig({position:null,local:!0,inside:!1}),(0,Le.k5)(this,c,d,l)},t.prototype.highlight=function(){(0,Le.fD)(this)},t.prototype.downplay=function(){(0,Le.Mh)(this)},t.prototype.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},t.prototype.setLinePoints=function(e){var t=this.childOfName("line");Xu(t.shape,e),t.dirty()},t.prototype.beforeUpdate=function(){var e=this,t=e.childOfName("fromSymbol"),n=e.childOfName("toSymbol"),r=e.getTextContent();if(t||n||r&&!r.ignore){for(var i=1,a=this.parent;a;)a.scaleX&&(i/=a.scaleX),a=a.parent;var o=e.childOfName("line");if(this.__dirty||o.__dirty){var s=o.shape.percent,u=o.pointAt(0),l=o.pointAt(s),c=hr.sub([],l,u);if(hr.normalize(c,c),t&&(t.setPosition(u),S(t,0),t.scaleX=t.scaleY=i*s,t.markRedraw()),n&&(n.setPosition(l),S(n,1),n.scaleX=n.scaleY=i*s,n.markRedraw()),r&&!r.ignore){r.x=r.y=0,r.originX=r.originY=0;var d=void 0,f=void 0,h=r.__labelDistance,p=h[0]*i,m=h[1]*i,g=s/2,v=o.tangentAt(g),y=[v[1],-v[0]],x=o.pointAt(g);y[1]>0&&(y[0]=-y[0],y[1]=-y[1]);var b=v[0]<0?-1:1;if("start"!==r.__position&&"end"!==r.__position){var w=-Math.atan2(v[1],v[0]);l[0]<u[0]&&(w=Math.PI+w),r.rotation=w}var _=void 0;switch(r.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":_=-m,f="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":_=m,f="top";break;default:_=0,f="middle"}switch(r.__position){case"end":r.x=c[0]*p+l[0],r.y=c[1]*m+l[1],d=c[0]>.8?"left":c[0]<-.8?"right":"center",f=c[1]>.8?"top":c[1]<-.8?"bottom":"middle";break;case"start":r.x=-c[0]*p+u[0],r.y=-c[1]*m+u[1],d=c[0]>.8?"right":c[0]<-.8?"left":"center",f=c[1]>.8?"bottom":c[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":r.x=p*b+u[0],r.y=u[1]+_,d=v[0]<0?"right":"left",r.originX=-p*b,r.originY=-_;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":r.x=x[0],r.y=x[1]+_,d="center",r.originY=-_;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":r.x=-p*b+l[0],r.y=l[1]+_,d=v[0]>=0?"right":"left",r.originX=p*b,r.originY=-_}r.scaleX=r.scaleY=i,r.setStyle({verticalAlign:r.__verticalAlign||f,align:r.__align||d})}}}function S(e,t){var n=e.__specifiedRotation;if(null==n){var r=o.tangentAt(t);e.attr("rotation",(1===t?-1:1)*Math.PI/2-Math.atan2(r[1],r[0]))}else e.attr("rotation",n)}},t}(Me.Z),Yu=qu;function Ku(e){var t=e.hostModel,n=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:(0,ze.k3)(t)}}function Qu(e){return isNaN(e[0])||isNaN(e[1])}function Ju(e){return e&&!Qu(e[0])&&!Qu(e[1])}var $u=function(){function e(e){this.group=new Me.Z,this._LineCtor=e||Yu}return e.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var n=this,r=n.group,i=n._lineData;n._lineData=e,i||r.removeAll();var a=Ku(e);e.diff(i).add((function(n){t._doAdd(e,n,a)})).update((function(n,r){t._doUpdate(i,e,r,n,a)})).remove((function(e){r.remove(i.getItemGraphicEl(e))})).execute()},e.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl((function(t,n){t.updateLayout(e,n)}),this)},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=Ku(e),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t){function n(e){e.isGroup||function(e){return e.animators&&e.animators.length>0}(e)||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var r=e.start;r<e.end;r++){if(Ju(t.getItemLayout(r))){var i=new this._LineCtor(t,r,this._seriesScope);i.traverse(n),this.group.add(i),t.setItemGraphicEl(r,i),this._progressiveEls.push(i)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(e){Re.traverseElements(this._progressiveEls||this.group,e)},e.prototype._doAdd=function(e,t,n){if(Ju(e.getItemLayout(t))){var r=new this._LineCtor(e,t,n);e.setItemGraphicEl(t,r),this.group.add(r)}},e.prototype._doUpdate=function(e,t,n,r,i){var a=e.getItemGraphicEl(n);Ju(t.getItemLayout(r))?(a?a.updateData(t,r,i):a=new this._LineCtor(t,r,i),t.setItemGraphicEl(r,a),this.group.add(a)):this.group.remove(a)},e}(),el=[],tl=[],nl=[],rl=$e.Zm,il=hr.distSquare,al=Math.abs;function ol(e,t,n){for(var r,i=e[0],a=e[1],o=e[2],s=1/0,u=n*n,l=.1,c=.1;c<=.9;c+=.1){el[0]=rl(i[0],a[0],o[0],c),el[1]=rl(i[1],a[1],o[1],c),(h=al(il(el,t)-u))<s&&(s=h,r=c)}for(var d=0;d<32;d++){var f=r+l;tl[0]=rl(i[0],a[0],o[0],r),tl[1]=rl(i[1],a[1],o[1],r),nl[0]=rl(i[0],a[0],o[0],f),nl[1]=rl(i[1],a[1],o[1],f);var h=il(tl,t)-u;if(al(h)<.01)break;var p=il(nl,t)-u;l/=2,h<0?p>=0?r+=l:r-=l:p>=0?r-=l:r+=l}return r}function sl(e,t){var n=[],r=$e.Lx,i=[[],[],[]],a=[[],[]],o=[];t/=2,e.eachEdge((function(e,s){var u=e.getLayout(),l=e.getVisual("fromSymbol"),c=e.getVisual("toSymbol");u.__original||(u.__original=[hr.clone(u[0]),hr.clone(u[1])],u[2]&&u.__original.push(hr.clone(u[2])));var d=u.__original;if(null!=u[2]){if(hr.copy(i[0],d[0]),hr.copy(i[1],d[2]),hr.copy(i[2],d[1]),l&&"none"!==l){var f=Mu(e.node1),h=ol(i,d[0],f*t);r(i[0][0],i[1][0],i[2][0],h,n),i[0][0]=n[3],i[1][0]=n[4],r(i[0][1],i[1][1],i[2][1],h,n),i[0][1]=n[3],i[1][1]=n[4]}if(c&&"none"!==c){f=Mu(e.node2),h=ol(i,d[1],f*t);r(i[0][0],i[1][0],i[2][0],h,n),i[1][0]=n[1],i[2][0]=n[2],r(i[0][1],i[1][1],i[2][1],h,n),i[1][1]=n[1],i[2][1]=n[2]}hr.copy(u[0],i[0]),hr.copy(u[1],i[2]),hr.copy(u[2],i[1])}else{if(hr.copy(a[0],d[0]),hr.copy(a[1],d[1]),hr.sub(o,a[1],a[0]),hr.normalize(o,o),l&&"none"!==l){f=Mu(e.node1);hr.scaleAndAdd(a[0],a[0],o,f*t)}if(c&&"none"!==c){f=Mu(e.node2);hr.scaleAndAdd(a[1],a[1],o,-f*t)}hr.copy(u[0],a[0]),hr.copy(u[1],a[1])}}))}function ul(e){return"view"===e.type}var ll=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.init=function(e,t){var n=new Ge,r=new $u,i=this.group;this._controller=new ji(t.getZr()),this._controllerHost={target:i},i.add(n.group),i.add(r.group),this._symbolDraw=n,this._lineDraw=r,this._firstRender=!0},t.prototype.render=function(e,t,n){var r=this,i=e.coordinateSystem;this._model=e;var a=this._symbolDraw,o=this._lineDraw,s=this.group;if(ul(i)){var u={x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY};this._firstRender?s.attr(u):Pe.D(s,u,e)}sl(e.getGraph(),Au(e));var l=e.getData();a.updateData(l);var c=e.getEdgeData();o.updateData(c),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout);var d=e.forceLayout,f=e.get(["force","layoutAnimation"]);d&&this._startForceLayoutIteration(d,f),l.graph.eachNode((function(e){var t=e.dataIndex,n=e.getGraphicEl(),i=e.getModel();if(n){n.off("drag").off("dragend");var a=i.get("draggable");a&&n.on("drag",(function(){d&&(d.warmUp(),!r._layouting&&r._startForceLayoutIteration(d,f),d.setFixed(t),l.setItemLayout(t,[n.x,n.y]))})).on("dragend",(function(){d&&d.setUnfixed(t)})),n.setDraggable(a&&!!d),"adjacency"===i.get(["emphasis","focus"])&&((0,Oe.A)(n).focus=e.getAdjacentDataIndices())}})),l.graph.eachEdge((function(e){var t=e.getGraphicEl(),n=e.getModel().get(["emphasis","focus"]);t&&"adjacency"===n&&((0,Oe.A)(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]})}));var h="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),p=l.getLayout("cx"),m=l.getLayout("cy");l.eachItemGraphicEl((function(e,t){var n=l.getItemModel(t).get(["label","rotate"])||0,r=e.getSymbolPath();if(h){var i=l.getItemLayout(t),a=Math.atan2(i[1]-m,i[0]-p);a<0&&(a=2*Math.PI+a);var o=i[0]<p;o&&(a-=Math.PI);var s=o?"left":"right";r.setTextConfig({rotation:-a,position:s,origin:"center"});var u=r.ensureState("emphasis");y.extend(u.textConfig||(u.textConfig={}),{position:s})}else r.setTextConfig({rotation:n*=Math.PI/180})})),this._firstRender=!1},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,t){var n=this;!function r(){e.step((function(e){n.updateLayout(n._model),(n._layouting=!e)&&(t?n._layoutTimeout=setTimeout(r,16):r())}))}()},t.prototype._updateController=function(e,t,n){var r=this,i=this._controller,a=this._controllerHost,o=this.group;i.setPointerChecker((function(t,r,i){var a=o.getBoundingRect();return a.applyTransform(o.transform),a.contain(r,i)&&!Gi(t,n,e)})),ul(e.coordinateSystem)?(i.enable(e.get("roam")),a.zoomLimit=e.get("scaleLimit"),a.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",(function(t){Wi(a,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){Ui(a,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),r._updateNodeAndLinkScale(),sl(e.getGraph(),Au(e)),r._lineDraw.updateLayout(),n.updateLabelLayout()}))):i.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,t=e.getData(),n=Au(e);t.eachItemGraphicEl((function(e,t){e&&e.setSymbolScale(n)}))},t.prototype.updateLayout=function(e){sl(e.getGraph(),Au(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(ut.Z),cl=ll,dl=n(15719),fl=n(37999);function hl(e,t,n,r,i){for(var a=new dl.ZP(r),o=0;o<e.length;o++)a.addNode(y.retrieve(e[o].id,e[o].name,o),o);var s=[],u=[],l=0;for(o=0;o<t.length;o++){var c=t[o],d=c.source,f=c.target;a.addEdge(d,f,l)&&(u.push(c),s.push(y.retrieve((0,Je.U5)(c.id,null),d+" > "+f)),l++)}var h,p=n.get("coordinateSystem");if("cartesian2d"===p||"polar"===p)h=(0,Te.Z)(e,n);else{var m=fl.Z.get(p),g=m&&m.dimensions||[];y.indexOf(g,"value")<0&&g.concat(["value"]);var v=(0,Pn.Z)(e,{coordDimensions:g,encodeDefine:n.getEncode()}).dimensions;(h=new On.Z(v,n)).initData(e)}var x=new On.Z(["value"],n);return x.initData(u,s),i&&i(h,x),(0,Yo.Z)({mainData:h,struct:a,structAttr:"graph",datas:{node:h,edge:x},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var pl=n(20289),ml=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return(0,De.ZT)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments);var n=this;function r(){return n._categoriesData}this.legendVisualProvider=new Zn(r,r),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(t){e.prototype.mergeDefaultAndTheme.apply(this,arguments),(0,Je.Cc)(t,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,t){var n,r=e.edges||e.links||[],i=e.data||e.nodes||[],a=this;if(i&&r){bu(n=this)&&(n.__curvenessList=[],n.__edgeMap={},wu(n));var o=hl(i,r,this,!0,(function(e,t){e.wrapMethod("getItemModel",(function(e){var t=a._categoriesModels[e.getShallow("category")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e}));var n=Pr.Z.prototype.getModel;function r(e,t){var r=n.call(this,e,t);return r.resolveParentPath=i,r}function i(e){if(e&&("label"===e[0]||"label"===e[1])){var t=e.slice();return"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t}return e}t.wrapMethod("getItemModel",(function(e){return e.resolveParentPath=i,e.getModel=r,e}))}));return y.each(o.edges,(function(e){!function(e,t,n,r){if(bu(n)){var i=_u(e,t,n),a=n.__edgeMap,o=a[Su(i)];a[i]&&!o?a[i].isForward=!0:o&&a[i]&&(o.isForward=!0,a[i].isForward=!1),a[i]=a[i]||[],a[i].push(r)}}(e.node1,e.node2,this,e.dataIndex)}),this),o.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,t,n){if("edge"===n){var r=this.getData(),i=this.getDataParams(e,n),a=r.graph.getEdgeByIndex(e),o=r.getName(a.node1.dataIndex),s=r.getName(a.node2.dataIndex),u=[];return null!=o&&u.push(o),null!=s&&u.push(s),(0,vi.TX)("nameValue",{name:u.join(" > "),value:i.value,noValue:null==i.value})}return(0,pl.w)({series:this,dataIndex:e,multipleSeries:t})},t.prototype._updateCategoriesData=function(){var e=y.map(this.option.categories||[],(function(e){return null!=e.value?e:y.extend({value:0},e)})),t=new On.Z(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e)}))},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Ie.Z),gl=ml,vl={type:"graphRoam",event:"graphRoam",update:"none"};var yl=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},xl=function(e){function t(t){var n=e.call(this,t)||this;return n.type="pointer",n}return(0,De.ZT)(t,e),t.prototype.getDefaultShape=function(){return new yl},t.prototype.buildPath=function(e,t){var n=Math.cos,r=Math.sin,i=t.r,a=t.width,o=t.angle,s=t.x-n(o)*a*(a>=i/3?1:2),u=t.y-r(o)*a*(a>=i/3?1:2);o=t.angle-Math.PI/2,e.moveTo(s,u),e.lineTo(t.x+n(o)*a,t.y+r(o)*a),e.lineTo(t.x+n(t.angle)*i,t.y+r(t.angle)*i),e.lineTo(t.x-n(o)*a,t.y-r(o)*a),e.lineTo(s,u)},t}(o.ZP),bl=xl;function wl(e,t){var n=null==e?"":e+"";return t&&((0,y.isString)(t)?n=t.replace("{value}",n):(0,y.isFunction)(t)&&(n=t(e))),n}var _l=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n){this.group.removeAll();var r=e.get(["axisLine","lineStyle","color"]),i=function(e,t){var n=e.get("center"),r=t.getWidth(),i=t.getHeight(),a=Math.min(r,i);return{cx:(0,dt.GM)(n[0],t.getWidth()),cy:(0,dt.GM)(n[1],t.getHeight()),r:(0,dt.GM)(e.get("radius"),a/2)}}(e,n);this._renderMain(e,t,n,r,i),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,t,n,r,i){var a=this.group,o=e.get("clockwise"),s=-e.get("startAngle")/180*Math.PI,u=-e.get("endAngle")/180*Math.PI,l=e.getModel("axisLine"),c=l.get("roundCap")?Ut:ct.C,d=l.get("show"),f=l.getModel("lineStyle"),h=f.get("width"),p=[s,u];(0,R.L)(p,!o);for(var m=(u=p[1])-(s=p[0]),g=s,v=0;d&&v<r.length;v++){var y=new c({shape:{startAngle:g,endAngle:u=s+m*Math.min(Math.max(r[v][0],0),1),cx:i.cx,cy:i.cy,clockwise:o,r0:i.r-h,r:i.r},silent:!0});y.setStyle({fill:r[v][1]}),y.setStyle(f.getLineStyle(["color","width"])),a.add(y),g=u}var x=function(e){if(e<=0)return r[0][1];var t;for(t=0;t<r.length;t++)if(r[t][0]>=e&&(0===t?0:r[t-1][0])<e)return r[t][1];return r[t-1][1]};this._renderTicks(e,t,n,x,i,s,u,o,h),this._renderTitleAndDetail(e,t,n,x,i),this._renderAnchor(e,i),this._renderPointer(e,t,n,x,i,s,u,o,h)},t.prototype._renderTicks=function(e,t,n,r,i,a,o,s,u){for(var l,c,d=this.group,f=i.cx,h=i.cy,p=i.r,m=+e.get("min"),g=+e.get("max"),v=e.getModel("splitLine"),y=e.getModel("axisTick"),x=e.getModel("axisLabel"),b=e.get("splitNumber"),w=y.get("splitNumber"),_=(0,dt.GM)(v.get("length"),p),S=(0,dt.GM)(y.get("length"),p),C=a,k=(o-a)/b,D=k/w,T=v.getModel("lineStyle").getLineStyle(),I=y.getModel("lineStyle").getLineStyle(),A=v.get("distance"),M=0;M<=b;M++){if(l=Math.cos(C),c=Math.sin(C),v.get("show")){var E=A?A+u:u,N=new Rr.Z({shape:{x1:l*(p-E)+f,y1:c*(p-E)+h,x2:l*(p-_-E)+f,y2:c*(p-_-E)+h},style:T,silent:!0});"auto"===T.stroke&&N.setStyle({stroke:r(M/b)}),d.add(N)}if(x.get("show")){E=x.get("distance")+A;var R=wl((0,dt.NM)(M/b*(g-m)+m),x.get("formatter")),P=r(M/b);d.add(new U.ZP({style:(0,ze.Lr)(x,{text:R,x:l*(p-_-E)+f,y:c*(p-_-E)+h,verticalAlign:c<-.8?"top":c>.8?"bottom":"middle",align:l<-.4?"left":l>.4?"right":"center"},{inheritColor:P}),silent:!0}))}if(y.get("show")&&M!==b){E=(E=y.get("distance"))?E+u:u;for(var O=0;O<=w;O++){l=Math.cos(C),c=Math.sin(C);var L=new Rr.Z({shape:{x1:l*(p-E)+f,y1:c*(p-E)+h,x2:l*(p-S-E)+f,y2:c*(p-S-E)+h},silent:!0,style:I});"auto"===I.stroke&&L.setStyle({stroke:r((M+O/w)/b)}),d.add(L),C+=D}C-=D}else C+=k}},t.prototype._renderPointer=function(e,t,n,r,i,a,o,u,l){var c=this.group,d=this._data,f=this._progressEls,h=[],p=e.get(["pointer","show"]),m=e.getModel("progress"),g=m.get("show"),v=e.getData(),x=v.mapDimension("value"),b=+e.get("min"),w=+e.get("max"),_=[b,w],S=[a,o];function C(t,n){var r,a=v.getItemModel(t).getModel("pointer"),o=(0,dt.GM)(a.get("width"),i.r),s=(0,dt.GM)(a.get("length"),i.r),u=e.get(["pointer","icon"]),l=a.get("offsetCenter"),c=(0,dt.GM)(l[0],i.r),d=(0,dt.GM)(l[1],i.r),f=a.get("keepAspect");return(r=u?(0,Ae.th)(u,c-o/2,d-s,o,s,null,f):new bl({shape:{angle:-Math.PI/2,width:o,r:s,x:c,y:d}})).rotation=-(n+Math.PI/2),r.x=i.cx,r.y=i.cy,r}function k(e,t){var n=m.get("roundCap")?Ut:ct.C,r=m.get("overlap"),o=r?m.get("width"):l/v.count(),s=r?i.r-o:i.r-(e+1)*o,c=r?i.r:i.r-e*o,d=new n({shape:{startAngle:a,endAngle:t,cx:i.cx,cy:i.cy,clockwise:u,r0:s,r:c}});return r&&(d.z2=w-v.get(x,e)%w),d}(g||p)&&(v.diff(d).add((function(t){var n=v.get(x,t);if(p){var r=C(t,a);Pe.KZ(r,{rotation:-((isNaN(+n)?S[0]:(0,dt.NU)(n,_,S,!0))+Math.PI/2)},e),c.add(r),v.setItemGraphicEl(t,r)}if(g){var i=k(t,a),o=m.get("clip");Pe.KZ(i,{shape:{endAngle:(0,dt.NU)(n,_,S,o)}},e),c.add(i),(0,Oe.Q)(e.seriesIndex,v.dataType,t,i),h[t]=i}})).update((function(t,n){var r=v.get(x,t);if(p){var i=d.getItemGraphicEl(n),o=i?i.rotation:a,s=C(t,o);s.rotation=o,Pe.D(s,{rotation:-((isNaN(+r)?S[0]:(0,dt.NU)(r,_,S,!0))+Math.PI/2)},e),c.add(s),v.setItemGraphicEl(t,s)}if(g){var u=f[n],l=k(t,u?u.shape.endAngle:a),y=m.get("clip");Pe.D(l,{shape:{endAngle:(0,dt.NU)(r,_,S,y)}},e),c.add(l),(0,Oe.Q)(e.seriesIndex,v.dataType,t,l),h[t]=l}})).execute(),v.each((function(e){var t=v.getItemModel(e),n=t.getModel("emphasis"),i=n.get("focus"),a=n.get("blurScope"),o=n.get("disabled");if(p){var u=v.getItemGraphicEl(e),l=v.getItemVisual(e,"style"),c=l.fill;if(u instanceof s.ZP){var d=u.style;u.useStyle((0,y.extend)({image:d.image,x:d.x,y:d.y,width:d.width,height:d.height},l))}else u.useStyle(l),"pointer"!==u.type&&u.setColor(c);u.setStyle(t.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===u.style.fill&&u.setStyle("fill",r((0,dt.NU)(v.get(x,e),_,[0,1],!0))),u.z2EmphasisLift=0,(0,Le.WO)(u,t),(0,Le.k5)(u,i,a,o)}if(g){var f=h[e];f.useStyle(v.getItemVisual(e,"style")),f.setStyle(t.getModel(["progress","itemStyle"]).getItemStyle()),f.z2EmphasisLift=0,(0,Le.WO)(f,t),(0,Le.k5)(f,i,a,o)}})),this._progressEls=h)},t.prototype._renderAnchor=function(e,t){var n=e.getModel("anchor");if(n.get("show")){var r=n.get("size"),i=n.get("icon"),a=n.get("offsetCenter"),o=n.get("keepAspect"),s=(0,Ae.th)(i,t.cx-r/2+(0,dt.GM)(a[0],t.r),t.cy-r/2+(0,dt.GM)(a[1],t.r),r,r,null,o);s.z2=n.get("showAbove")?1:0,s.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(s)}},t.prototype._renderTitleAndDetail=function(e,t,n,r,i){var a=this,o=e.getData(),s=o.mapDimension("value"),u=+e.get("min"),l=+e.get("max"),c=new Me.Z,d=[],f=[],h=e.isAnimationEnabled(),p=e.get(["pointer","showAbove"]);o.diff(this._data).add((function(e){d[e]=new U.ZP({silent:!0}),f[e]=new U.ZP({silent:!0})})).update((function(e,t){d[e]=a._titleEls[t],f[e]=a._detailEls[t]})).execute(),o.each((function(t){var n=o.getItemModel(t),a=o.get(s,t),m=new Me.Z,g=r((0,dt.NU)(a,[u,l],[0,1],!0)),v=n.getModel("title");if(v.get("show")){var y=v.get("offsetCenter"),x=i.cx+(0,dt.GM)(y[0],i.r),b=i.cy+(0,dt.GM)(y[1],i.r);(I=d[t]).attr({z2:p?0:2,style:(0,ze.Lr)(v,{x:x,y:b,text:o.getName(t),align:"center",verticalAlign:"middle"},{inheritColor:g})}),m.add(I)}var w=n.getModel("detail");if(w.get("show")){var _=w.get("offsetCenter"),S=i.cx+(0,dt.GM)(_[0],i.r),C=i.cy+(0,dt.GM)(_[1],i.r),k=(0,dt.GM)(w.get("width"),i.r),D=(0,dt.GM)(w.get("height"),i.r),T=e.get(["progress","show"])?o.getItemVisual(t,"style").fill:g,I=f[t],A=w.get("formatter");I.attr({z2:p?0:2,style:(0,ze.Lr)(w,{x:S,y:C,text:wl(a,A),width:isNaN(k)?null:k,height:isNaN(D)?null:D,align:"center",verticalAlign:"middle"},{inheritColor:T})}),(0,ze.pe)(I,{normal:w},a,(function(e){return wl(e,A)})),h&&(0,ze.tD)(I,t,o,e,{getFormattedLabel:function(e,t,n,r,i,o){return wl(o?o.interpolatedValue:a,A)}}),m.add(I)}c.add(m)})),this.group.add(c),this._titleEls=d,this._detailEls=f},t.type="gauge",t}(ut.Z),Sl=_l,Cl=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="itemStyle",n}return(0,De.ZT)(t,e),t.prototype.getInitialData=function(e,t){return Ln(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(Ie.Z),kl=Cl;var Dl=["itemStyle","opacity"],Tl=function(e){function t(t,n){var r=e.call(this)||this,i=r,a=new wn.Z,o=new U.ZP;return i.setTextContent(o),r.setTextGuideLine(a),r.updateData(t,n,!0),r}return(0,De.ZT)(t,e),t.prototype.updateData=function(e,t,n){var r=this,i=e.hostModel,a=e.getItemModel(t),o=e.getItemLayout(t),s=a.getModel("emphasis"),u=a.get(Dl);u=null==u?1:u,n||(0,Pe.Zi)(r),r.useStyle(e.getItemVisual(t,"style")),r.style.lineJoin="round",n?(r.setShape({points:o.points}),r.style.opacity=0,Pe.KZ(r,{style:{opacity:u}},i,t)):Pe.D(r,{style:{opacity:u},shape:{points:o.points}},i,t),(0,Le.WO)(r,a),this._updateLabel(e,t),(0,Le.k5)(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))},t.prototype._updateLabel=function(e,t){var n=this,r=this.getTextGuideLine(),i=n.getTextContent(),a=e.hostModel,o=e.getItemModel(t),s=e.getItemLayout(t).label,u=e.getItemVisual(t,"style"),l=u.fill;(0,ze.ni)(i,(0,ze.k3)(o),{labelFetcher:e.hostModel,labelDataIndex:t,defaultOpacity:u.opacity,defaultText:e.getName(t)},{normal:{align:s.textAlign,verticalAlign:s.verticalAlign}}),n.setTextConfig({local:!0,inside:!!s.inside,insideStroke:l,outsideFill:l});var c=s.linePoints;r.setShape({points:c}),n.textGuideLineConfig={anchor:c?new _n.Z(c[0][0],c[0][1]):null},Pe.D(i,{style:{x:s.x,y:s.y}},a,t),i.attr({rotation:s.rotation,originX:s.x,originY:s.y,z2:10}),(0,Sn.Iu)(n,(0,Sn.$x)(o),{stroke:l})},t}(pi.Z),Il=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreLabelLineUpdate=!0,n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n){var r=e.getData(),i=this._data,a=this.group;r.diff(i).add((function(e){var t=new Tl(r,e);r.setItemGraphicEl(e,t),a.add(t)})).update((function(e,t){var n=i.getItemGraphicEl(t);n.updateData(r,e),a.add(n),r.setItemGraphicEl(e,n)})).remove((function(t){var n=i.getItemGraphicEl(t);Pe.XD(n,e,t)})).execute(),this._data=r},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(ut.Z),Al=Il,Ml=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new Zn(y.bind(this.getData,this),y.bind(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.getInitialData=function(e,t){return Ln(this,{coordDimensions:["value"],encodeDefaulter:y.curry(Fn.Ss,this)})},t.prototype._defaultLabelLine=function(e){(0,Je.Cc)(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.prototype.getDataParams=function(t){var n=this.getData(),r=e.prototype.getDataParams.call(this,t),i=n.mapDimension("value"),a=n.getSum(i);return r.percent=a?+(n.get(i,t)/a*100).toFixed(2):0,r.$vars.push("percent"),r},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Ie.Z),El=Ml;function Nl(e,t){e.eachSeriesByType("funnel",(function(e){var n=e.getData(),r=n.mapDimension("value"),i=e.get("sort"),a=function(e,t){return pn.ME(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t),o=e.get("orient"),s=a.width,u=a.height,l=function(e,t){for(var n=e.mapDimension("value"),r=e.mapArray(n,(function(e){return e})),i=[],a="ascending"===t,o=0,s=e.count();o<s;o++)i[o]=o;return(0,y.isFunction)(t)?i.sort(t):"none"!==t&&i.sort((function(e,t){return a?r[e]-r[t]:r[t]-r[e]})),i}(n,i),c=a.x,d=a.y,f="horizontal"===o?[(0,dt.GM)(e.get("minSize"),u),(0,dt.GM)(e.get("maxSize"),u)]:[(0,dt.GM)(e.get("minSize"),s),(0,dt.GM)(e.get("maxSize"),s)],h=n.getDataExtent(r),p=e.get("min"),m=e.get("max");null==p&&(p=Math.min(h[0],0)),null==m&&(m=h[1]);var g=e.get("funnelAlign"),v=e.get("gap"),x=(("horizontal"===o?s:u)-v*(n.count()-1))/n.count(),b=function(e,t){if("horizontal"===o){var i=n.get(r,e)||0,a=(0,dt.NU)(i,[p,m],f,!0),l=void 0;switch(g){case"top":l=d;break;case"center":l=d+(u-a)/2;break;case"bottom":l=d+(u-a)}return[[t,l],[t,l+a]]}var h,v=n.get(r,e)||0,y=(0,dt.NU)(v,[p,m],f,!0);switch(g){case"left":h=c;break;case"center":h=c+(s-y)/2;break;case"right":h=c+s-y}return[[h,t],[h+y,t]]};"ascending"===i&&(x=-x,v=-v,"horizontal"===o?c+=s:d+=u,l=l.reverse());for(var w=0;w<l.length;w++){var _=l[w],S=l[w+1],C=n.getItemModel(_);if("horizontal"===o){var k=C.get(["itemStyle","width"]);null==k?k=x:(k=(0,dt.GM)(k,s),"ascending"===i&&(k=-k));var D=b(_,c),T=b(S,c+k);c+=k+v,n.setItemLayout(_,{points:D.concat(T.slice().reverse())})}else{var I=C.get(["itemStyle","height"]);null==I?I=x:(I=(0,dt.GM)(I,u),"ascending"===i&&(I=-I));D=b(_,d),T=b(S,d+I);d+=I+v,n.setItemLayout(_,{points:D.concat(T.slice().reverse())})}}!function(e){var t=e.hostModel.get("orient");e.each((function(n){var r,i,a,o,s=e.getItemModel(n),u=s.getModel("label").get("position"),l=s.getModel("labelLine"),c=e.getItemLayout(n),d=c.points,f="inner"===u||"inside"===u||"center"===u||"insideLeft"===u||"insideRight"===u;if(f)"insideLeft"===u?(i=(d[0][0]+d[3][0])/2+5,a=(d[0][1]+d[3][1])/2,r="left"):"insideRight"===u?(i=(d[1][0]+d[2][0])/2-5,a=(d[1][1]+d[2][1])/2,r="right"):(i=(d[0][0]+d[1][0]+d[2][0]+d[3][0])/4,a=(d[0][1]+d[1][1]+d[2][1]+d[3][1])/4,r="center"),o=[[i,a],[i,a]];else{var h=void 0,p=void 0,m=void 0,g=void 0,v=l.get("length");"left"===u?(h=(d[3][0]+d[0][0])/2,p=(d[3][1]+d[0][1])/2,i=(m=h-v)-5,r="right"):"right"===u?(h=(d[1][0]+d[2][0])/2,p=(d[1][1]+d[2][1])/2,i=(m=h+v)+5,r="left"):"top"===u?(h=(d[3][0]+d[0][0])/2,a=(g=(p=(d[3][1]+d[0][1])/2)-v)-5,r="center"):"bottom"===u?(h=(d[1][0]+d[2][0])/2,a=(g=(p=(d[1][1]+d[2][1])/2)+v)+5,r="center"):"rightTop"===u?(h="horizontal"===t?d[3][0]:d[1][0],p="horizontal"===t?d[3][1]:d[1][1],"horizontal"===t?(a=(g=p-v)-5,r="center"):(i=(m=h+v)+5,r="top")):"rightBottom"===u?(h=d[2][0],p=d[2][1],"horizontal"===t?(a=(g=p+v)+5,r="center"):(i=(m=h+v)+5,r="bottom")):"leftTop"===u?(h=d[0][0],p="horizontal"===t?d[0][1]:d[1][1],"horizontal"===t?(a=(g=p-v)-5,r="center"):(i=(m=h-v)-5,r="right")):"leftBottom"===u?(h="horizontal"===t?d[1][0]:d[3][0],p="horizontal"===t?d[1][1]:d[2][1],"horizontal"===t?(a=(g=p+v)+5,r="center"):(i=(m=h-v)-5,r="right")):(h=(d[1][0]+d[2][0])/2,p=(d[1][1]+d[2][1])/2,"horizontal"===t?(a=(g=p+v)+5,r="center"):(i=(m=h+v)+5,r="left")),"horizontal"===t?i=m=h:a=g=p,o=[[h,p],[m,g]]}c.label={linePoints:o,x:i,y:a,verticalAlign:"middle",textAlign:r,inside:f}}))}(n)}))}var Rl=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._dataGroup=new Me.Z,n._initialized=!1,n}return(0,De.ZT)(t,e),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,t,n,r){this._progressiveEls=null;var i=this._dataGroup,a=e.getData(),o=this._data,s=e.coordinateSystem,u=s.dimensions,l=Ll(e);if(a.diff(o).add((function(e){Fl(Ol(a,i,e,u,s),a,e,l)})).update((function(t,n){var r=o.getItemGraphicEl(n),i=Pl(a,t,u,s);a.setItemGraphicEl(t,r),Pe.D(r,{shape:{points:i}},e,t),(0,Pe.Zi)(r),Fl(r,a,t,l)})).remove((function(e){var t=o.getItemGraphicEl(e);i.remove(t)})).execute(),!this._initialized){this._initialized=!0;var c=function(e,t,n){var r=e.model,i=e.getRect(),a=new lt.Z({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),o="horizontal"===r.get("layout")?"width":"height";return a.setShape(o,0),Pe.KZ(a,{shape:{width:i.width,height:i.height}},t,n),a}(s,e,(function(){setTimeout((function(){i.removeClipPath()}))}));i.setClipPath(c)}this._data=a},t.prototype.incrementalPrepareRender=function(e,t,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,t,n){for(var r=t.getData(),i=t.coordinateSystem,a=i.dimensions,o=Ll(t),s=this._progressiveEls=[],u=e.start;u<e.end;u++){var l=Ol(r,this._dataGroup,u,a,i);l.incremental=!0,Fl(l,r,u,o),s.push(l)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(ut.Z);function Pl(e,t,n,r){for(var i,a=[],o=0;o<n.length;o++){var s=n[o],u=e.get(e.mapDimension(s),t);i=u,("category"===r.getAxis(s).type?null==i:null==i||isNaN(i))||a.push(r.dataToPoint(u,s))}return a}function Ol(e,t,n,r,i){var a=Pl(e,n,r,i),o=new wn.Z({shape:{points:a},z2:10});return t.add(o),e.setItemGraphicEl(n,o),o}function Ll(e){var t=e.get("smooth",!0);return!0===t&&(t=.3),t=(0,dt.FK)(t),(0,y.eqNaN)(t)&&(t=0),{smooth:t}}function Fl(e,t,n,r){e.useStyle(t.getItemVisual(n,"style")),e.style.fill=null,e.setShape("smooth",r.smooth);var i=t.getItemModel(n),a=i.getModel("emphasis");(0,Le.WO)(e,i,"lineStyle"),(0,Le.k5)(e,a.get("focus"),a.get("blurScope"),a.get("disabled"))}var Zl=Rl,Bl=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return(0,De.ZT)(t,e),t.prototype.getInitialData=function(e,t){return(0,Te.Z)(null,this,{useEncodeDefaulter:(0,y.bind)(zl,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var t=this.coordinateSystem,n=this.getData(),r=[];return t.eachActiveState(n,(function(t,i){e===t&&r.push(n.getRawIndex(i))})),r},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(Ie.Z);function zl(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var n={};return(0,y.each)(t.dimensions,(function(e){var t=+e.replace("dim","");n[e]=t})),n}}var Vl=Bl,jl=["lineStyle","opacity"],Wl={seriesType:"parallel",reset:function(e,t){var n=e.coordinateSystem,r={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(e,t){n.eachActiveState(t,(function(e,n){var i=r[e];if("normal"===e&&t.hasItemOption){var a=t.getItemModel(n).get(jl,!0);null!=a&&(i=a)}t.ensureUniqueItemVisual(n,"style").opacity=i}),e.start,e.end)}}}};function Ul(e){!function(e){if(e.parallel)return;var t=!1;y.each(e.series,(function(e){e&&"parallel"===e.type&&(t=!0)})),t&&(e.parallel=[{}])}(e),function(e){var t=Je.kF(e.parallelAxis);y.each(t,(function(t){if(y.isObject(t)){var n=t.parallelIndex||0,r=Je.kF(e.parallel)[n];r&&r.parallelAxisDefault&&y.merge(t,r.parallelAxisDefault,!1)}}))}(e)}var Hl=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n){this._model=e,this._api=n,this._handlers||(this._handlers={},(0,y.each)(Gl,(function(e,t){n.getZr().on(t,this._handlers[t]=(0,y.bind)(e,this))}),this)),(0,Vt.T9)(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,t){(0,Vt.ZH)(this,"_throttledDispatchExpand"),(0,y.each)(this._handlers,(function(e,n){t.getZr().off(n,e)})),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction((0,y.extend)({type:"parallelAxisExpand"},e))},t.type="parallel",t}(Kn.Z),Gl={mousedown:function(e){Xl(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(Xl(this,"click")&&t){var n=[e.offsetX,e.offsetY];if(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2)>5)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==r.behavior&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&Xl(this,"mousemove")){var t=this._model,n=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),r=n.behavior;"jump"===r&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===r?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===r?null:{duration:0}})}}};function Xl(e,t){var n=e._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===t}var ql=Hl,Yl=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.init=function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var t=this.option;e&&y.merge(t,e,!0),this._initDimensions()},t.prototype.contains=function(e,t){var n=e.get("parallelIndex");return null!=n&&t.getComponent("parallel",n)===this},t.prototype.setAxisExpand=function(e){y.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])}),this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[],n=y.filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(e){return(e.get("parallelIndex")||0)===this.componentIndex}),this);y.each(n,(function(n){e.push("dim"+n.get("dim")),t.push(n.componentIndex)}))},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(Qn.Z),Kl=Yl,Ql=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r)||this;return o.type=i||"value",o.axisIndex=a,o}return(0,De.ZT)(t,e),t.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},t}(yr.Z);function Jl(e,t,n,r,i,a){e=e||0;var o=n[1]-n[0];if(null!=i&&(i=ec(i,[0,o])),null!=a&&(a=Math.max(a,null!=i?i:0)),"all"===r){var s=Math.abs(t[1]-t[0]);s=ec(s,[0,o]),i=a=ec(s,[i,a]),r=0}t[0]=ec(t[0],n),t[1]=ec(t[1],n);var u=$l(t,r);t[r]+=e;var l,c=i||0,d=n.slice();return u.sign<0?d[0]+=c:d[1]-=c,t[r]=ec(t[r],d),l=$l(t,r),null!=i&&(l.sign!==u.sign||l.span<i)&&(t[1-r]=t[r]+u.sign*i),l=$l(t,r),null!=a&&l.span>a&&(t[1-r]=t[r]+l.sign*a),t}function $l(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function ec(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}var tc=y.each,nc=Math.min,rc=Math.max,ic=Math.floor,ac=Math.ceil,oc=dt.NM,sc=Math.PI,uc=function(){function e(e,t,n){this.type="parallel",this._axesMap=y.createHashMap(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,n)}return e.prototype._init=function(e,t,n){var r=e.dimensions,i=e.parallelAxisIndex;tc(r,(function(e,n){var r=i[n],a=t.getComponent("parallelAxis",r),o=this._axesMap.set(e,new Ql(e,cr.aG(a),[0,0],a.get("type"),r)),s="category"===o.type;o.onBand=s&&a.get("boundaryGap"),o.inverse=a.get("inverse"),a.axis=o,o.model=a,o.coordinateSystem=a.coordinateSystem=this}),this)},e.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},e.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),n=t.axisBase,r=t.layoutBase,i=t.pixelDimIndex,a=e[1-i],o=e[i];return a>=n&&a<=n+t.axisLength&&o>=r&&o<=r+t.layoutLength},e.prototype.getModel=function(){return this._model},e.prototype._updateAxesFromSeries=function(e,t){t.eachSeries((function(n){if(e.contains(n,t)){var r=n.getData();tc(this.dimensions,(function(e){var t=this._axesMap.get(e);t.scale.unionExtentFromData(r,r.mapDimension(e)),cr.Jk(t.scale,t.model)}),this)}}),this)},e.prototype.resize=function(e,t){this._rect=pn.ME(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},e.prototype.getRect=function(){return this._rect},e.prototype._makeLayoutInfo=function(){var e,t=this._model,n=this._rect,r=["x","y"],i=["width","height"],a=t.get("layout"),o="horizontal"===a?0:1,s=n[i[o]],u=[0,s],l=this.dimensions.length,c=lc(t.get("axisExpandWidth"),u),d=lc(t.get("axisExpandCount")||0,[0,l]),f=t.get("axisExpandable")&&l>3&&l>d&&d>1&&c>0&&s>0,h=t.get("axisExpandWindow");h?(e=lc(h[1]-h[0],u),h[1]=h[0]+e):(e=lc(c*(d-1),u),(h=[c*(t.get("axisExpandCenter")||ic(l/2))-e/2])[1]=h[0]+e);var p=(s-e)/(l-d);p<3&&(p=0);var m=[ic(oc(h[0]/c,1))+1,ac(oc(h[1]/c,1))-1],g=p/c*h[0];return{layout:a,pixelDimIndex:o,layoutBase:n[r[o]],layoutLength:s,axisBase:n[r[1-o]],axisLength:n[i[1-o]],axisExpandable:f,axisExpandWidth:c,axisCollapseWidth:p,axisExpandWindow:h,axisCount:l,winInnerIndices:m,axisExpandWindow0Pos:g}},e.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,n=this.dimensions,r=this._makeLayoutInfo(),i=r.layout;t.each((function(e){var t=[0,r.axisLength],n=e.inverse?1:0;e.setExtent(t[n],t[1-n])})),tc(n,(function(t,n){var a=(r.axisExpandable?dc:cc)(n,r),o={horizontal:{x:a.position,y:r.axisLength},vertical:{x:0,y:a.position}},s={horizontal:sc/2,vertical:0},u=[o[i].x+e.x,o[i].y+e.y],l=s[i],c=fr.create();fr.rotate(c,c,l),fr.translate(c,c,u),this._axesLayout[t]={position:u,rotation:l,transform:c,axisNameAvailableWidth:a.axisNameAvailableWidth,axisLabelShow:a.axisLabelShow,nameTruncateMaxWidth:a.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},e.prototype.getAxis=function(e){return this._axesMap.get(e)},e.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},e.prototype.eachActiveState=function(e,t,n,r){null==n&&(n=0),null==r&&(r=e.count());var i=this._axesMap,a=this.dimensions,o=[],s=[];y.each(a,(function(t){o.push(e.mapDimension(t)),s.push(i.get(t).model)}));for(var u=this.hasAxisBrushed(),l=n;l<r;l++){var c=void 0;if(u){c="active";for(var d=e.getValues(o,l),f=0,h=a.length;f<h;f++){if("inactive"===s[f].getActiveState(d[f])){c="inactive";break}}}else c="normal";t(c,l)}},e.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,n=!1,r=0,i=e.length;r<i;r++)"normal"!==t.get(e[r]).model.getActiveState()&&(n=!0);return n},e.prototype.axisCoordToPoint=function(e,t){var n=this._axesLayout[t];return Re.applyTransform([e,0],n.transform)},e.prototype.getAxisLayout=function(e){return y.clone(this._axesLayout[e])},e.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,r=t.axisExpandWindow.slice(),i=r[1]-r[0],a=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:r};var o,s=e[n]-t.layoutBase-t.axisExpandWindow0Pos,u="slide",l=t.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),d=null!=c[0];if(l)d&&l&&s<i*c[0]?(u="jump",o=s-i*c[2]):d&&l&&s>i*(1-c[0])?(u="jump",o=s-i*(1-c[2])):(o=s-i*c[1])>=0&&(o=s-i*(1-c[1]))<=0&&(o=0),(o*=t.axisExpandWidth/l)?Jl(o,r,a,"all"):u="none";else{var f=r[1]-r[0];(r=[rc(0,a[1]*s/f-f/2)])[1]=nc(a[1],r[0]+f),r[0]=r[1]-f}return{axisExpandWindow:r,behavior:u}},e}();function lc(e,t){return nc(rc(e,t[0]),t[1])}function cc(e,t){var n=t.layoutLength/(t.axisCount-1);return{position:n*e,axisNameAvailableWidth:n,axisLabelShow:!0}}function dc(e,t){var n,r,i=t.layoutLength,a=t.axisExpandWidth,o=t.axisCount,s=t.axisCollapseWidth,u=t.winInnerIndices,l=s,c=!1;return e<u[0]?(n=e*s,r=s):e<=u[1]?(n=t.axisExpandWindow0Pos+e*a-t.axisExpandWindow[0],l=a,c=!0):(n=i-(o-1-e)*s,r=s),{position:n,axisNameAvailableWidth:l,axisLabelShow:c,nameTruncateMaxWidth:r}}var fc=uc;var hc={create:function(e,t){var n=[];return e.eachComponent("parallel",(function(r,i){var a=new fc(r,e,t);a.name="parallel_"+i,a.resize(r,t),r.coordinateSystem=a,a.model=r,n.push(a)})),e.eachSeries((function(e){if("parallel"===e.get("coordinateSystem")){var t=e.getReferringComponents("parallel",Je.C6).models[0];e.coordinateSystem=t.coordinateSystem}})),n}},pc=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.activeIntervals=[],n}return(0,De.ZT)(t,e),t.prototype.getAreaSelectStyle=function(){return(0,bs.Z)([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var t=this.activeIntervals=y.clone(e);if(t)for(var n=t.length-1;n>=0;n--)dt.dt(t[n])},t.prototype.getActiveState=function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===t.length){var n=t[0];if(n[0]<=e&&e<=n[1])return"active"}else for(var r=0,i=t.length;r<i;r++)if(t[r][0]<=e&&e<=t[r][1])return"active";return"inactive"},t}(Qn.Z);y.mixin(pc,er.W);var mc=pc,gc=!0,vc=Math.min,yc=Math.max,xc=Math.pow,bc="globalPan",wc={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},_c={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Sc={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Cc=0,kc=function(e){function t(t){var n=e.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=t,n.group=new Me.Z,n._uid="brushController_"+Cc++,(0,y.each)(Jc,(function(e,t){this._handlers[t]=(0,y.bind)(e,this)}),n),n}return(0,De.ZT)(t,e),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var t=this._zr;this._enableGlobalPan||function(e,t,n){Zi(e)[t]=n}(t,bc,this._uid),(0,y.each)(this._handlers,(function(e,n){t.on(n,e)})),this._brushType=e.brushType,this._brushOption=(0,y.merge)((0,y.clone)(Sc),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;!function(e,t,n){var r=Zi(e);r[t]===n&&(r[t]=null)}(e,bc,this._uid),(0,y.each)(this._handlers,(function(t,n){e.off(n,t)})),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var t=this._panels={};(0,y.each)(e,(function(e){t[e.panelId]=(0,y.clone)(e)}))}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=t.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=(0,y.map)(e,(function(e){return(0,y.merge)((0,y.clone)(Sc),e,!0)}));var t=this._covers,n=this._covers=[],r=this,i=this._creatingCover;return new ps.Z(t,e,(function(e,t){return a(e.__brushOption,t)}),a).add(o).update(o).remove((function(e){t[e]!==i&&r.group.remove(t[e])})).execute(),this;function a(e,t){return(null!=e.id?e.id:"\0-brush-index-"+t)+"-"+e.brushType}function o(a,o){var s=e[a];if(null!=o&&t[o]===i)n[a]=t[o];else{var u=n[a]=null!=o?(t[o].__brushOption=s,t[o]):Tc(r,Dc(r,s));Mc(r,u)}}},t.prototype.unmount=function(){return this.enableBrush(!1),Pc(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(Ri.Z);function Dc(e,t){var n=ed[t.brushType].createCover(e,t);return n.__brushOption=t,Ac(n,t),e.group.add(n),n}function Tc(e,t){var n=Ec(t);return n.endCreating&&(n.endCreating(e,t),Ac(t,t.__brushOption)),t}function Ic(e,t){var n=t.__brushOption;Ec(t).updateCoverShape(e,t,n.range,n)}function Ac(e,t){var n=t.z;null==n&&(n=1e4),e.traverse((function(e){e.z=n,e.z2=n}))}function Mc(e,t){Ec(t).updateCommon(e,t),Ic(e,t)}function Ec(e){return ed[e.__brushOption.brushType]}function Nc(e,t,n){var r,i=e._panels;if(!i)return gc;var a=e._transform;return(0,y.each)(i,(function(e){e.isTargetByCursor(t,n,a)&&(r=e)})),r}function Rc(e,t){var n=e._panels;if(!n)return gc;var r=t.__brushOption.panelId;return null!=r?n[r]:gc}function Pc(e){var t=e._covers,n=t.length;return(0,y.each)(t,(function(t){e.group.remove(t)}),e),t.length=0,!!n}function Oc(e,t){var n=(0,y.map)(e._covers,(function(e){var t=e.__brushOption,n=(0,y.clone)(t.range);return{brushType:t.brushType,panelId:t.panelId,range:n}}));e.trigger("brush",{areas:n,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function Lc(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function Fc(e,t,n,r){var i=new Me.Z;return i.add(new lt.Z({name:"main",style:Vc(n),silent:!0,draggable:!0,cursor:"move",drift:(0,y.curry)(Uc,e,t,i,["n","s","w","e"]),ondragend:(0,y.curry)(Oc,t,{isEnd:!0})})),(0,y.each)(r,(function(n){i.add(new lt.Z({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:(0,y.curry)(Uc,e,t,i,n),ondragend:(0,y.curry)(Oc,t,{isEnd:!0})}))})),i}function Zc(e,t,n,r){var i=r.brushStyle.lineWidth||0,a=yc(i,6),o=n[0][0],s=n[1][0],u=o-i/2,l=s-i/2,c=n[0][1],d=n[1][1],f=c-a+i/2,h=d-a+i/2,p=c-o,m=d-s,g=p+i,v=m+i;zc(e,t,"main",o,s,p,m),r.transformable&&(zc(e,t,"w",u,l,a,v),zc(e,t,"e",f,l,a,v),zc(e,t,"n",u,l,g,a),zc(e,t,"s",u,h,g,a),zc(e,t,"nw",u,l,a,a),zc(e,t,"ne",f,l,a,a),zc(e,t,"sw",u,h,a,a),zc(e,t,"se",f,h,a,a))}function Bc(e,t){var n=t.__brushOption,r=n.transformable,i=t.childAt(0);i.useStyle(Vc(n)),i.attr({silent:!r,cursor:r?"move":"default"}),(0,y.each)([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(n){var i=t.childOfName(n.join("")),a=1===n.length?Wc(e,n[0]):function(e,t){var n=[Wc(e,t[0]),Wc(e,t[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}(e,n);i&&i.attr({silent:!r,invisible:!r,cursor:r?_c[a]+"-resize":null})}))}function zc(e,t,n,r,i,a,o){var s=t.childOfName(n);s&&s.setShape(function(e){var t=vc(e[0][0],e[1][0]),n=vc(e[0][1],e[1][1]),r=yc(e[0][0],e[1][0]),i=yc(e[0][1],e[1][1]);return{x:t,y:n,width:r-t,height:i-n}}(Xc(e,t,[[r,i],[r+a,i+o]])))}function Vc(e){return(0,y.defaults)({strokeNoScale:!0},e.brushStyle)}function jc(e,t,n,r){var i=[vc(e,n),vc(t,r)],a=[yc(e,n),yc(t,r)];return[[i[0],a[0]],[i[1],a[1]]]}function Wc(e,t){var n=Re.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[t],function(e){return Re.getTransform(e.group)}(e));return{left:"w",right:"e",top:"n",bottom:"s"}[n]}function Uc(e,t,n,r,i,a){var o=n.__brushOption,s=e.toRectRange(o.range),u=Gc(t,i,a);(0,y.each)(r,(function(e){var t=wc[e];s[t[0]][t[1]]+=u[t[0]]})),o.range=e.fromRectRange(jc(s[0][0],s[1][0],s[0][1],s[1][1])),Mc(t,n),Oc(t,{isEnd:!1})}function Hc(e,t,n,r){var i=t.__brushOption.range,a=Gc(e,n,r);(0,y.each)(i,(function(e){e[0]+=a[0],e[1]+=a[1]})),Mc(e,t),Oc(e,{isEnd:!1})}function Gc(e,t,n){var r=e.group,i=r.transformCoordToLocal(t,n),a=r.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function Xc(e,t,n){var r=Rc(e,t);return r&&r!==gc?r.clipPath(n,e._transform):(0,y.clone)(n)}function qc(e){var t=e.event;t.preventDefault&&t.preventDefault()}function Yc(e,t,n){return e.childOfName("main").contain(t,n)}function Kc(e,t,n,r){var i,a=e._creatingCover,o=e._creatingPanel,s=e._brushOption;if(e._track.push(n.slice()),function(e){var t=e._track;if(!t.length)return!1;var n=t[t.length-1],r=t[0],i=n[0]-r[0],a=n[1]-r[1];return xc(i*i+a*a,.5)>6}(e)||a){if(o&&!a){"single"===s.brushMode&&Pc(e);var u=(0,y.clone)(s);u.brushType=Qc(u.brushType,o),u.panelId=o===gc?null:o.panelId,a=e._creatingCover=Dc(e,u),e._covers.push(a)}if(a){var l=ed[Qc(e._brushType,o)];a.__brushOption.range=l.getCreatingRange(Xc(e,a,e._track)),r&&(Tc(e,a),l.updateCommon(e,a)),Ic(e,a),i={isEnd:r}}}else r&&"single"===s.brushMode&&s.removeOnClick&&Nc(e,t,n)&&Pc(e)&&(i={isEnd:r,removeOnClick:!0});return i}function Qc(e,t){return"auto"===e?t.defaultBrushType:e}var Jc={mousedown:function(e){if(this._dragging)$c(this,e);else if(!e.target||!e.target.draggable){qc(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=Nc(this,e,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,n=e.offsetY,r=this.group.transformCoordToLocal(t,n);if(function(e,t,n){if(e._brushType&&!function(e,t,n){var r=e._zr;return t<0||t>r.getWidth()||n<0||n>r.getHeight()}(e,t.offsetX,t.offsetY)){var r=e._zr,i=e._covers,a=Nc(e,t,n);if(!e._dragging)for(var o=0;o<i.length;o++){var s=i[o].__brushOption;if(a&&(a===gc||s.panelId===a.panelId)&&ed[s.brushType].contain(i[o],n[0],n[1]))return}a&&r.setCursorStyle("crosshair")}}(this,e,r),this._dragging){qc(e);var i=Kc(this,e,r,!1);i&&Oc(this,i)}},mouseup:function(e){$c(this,e)}};function $c(e,t){if(e._dragging){qc(t);var n=t.offsetX,r=t.offsetY,i=e.group.transformCoordToLocal(n,r),a=Kc(e,t,i,!0);e._dragging=!1,e._track=[],e._creatingCover=null,a&&Oc(e,a)}}var ed={lineX:td(0),lineY:td(1),rect:{createCover:function(e,t){function n(e){return e}return Fc({toRectRange:n,fromRectRange:n},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var t=Lc(e);return jc(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,r){Zc(e,t,n,r)},updateCommon:Bc,contain:Yc},polygon:{createCover:function(e,t){var n=new Me.Z;return n.add(new wn.Z({name:"main",style:Vc(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new pi.Z({name:"main",draggable:!0,drift:(0,y.curry)(Hc,e,t),ondragend:(0,y.curry)(Oc,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,r){t.childAt(0).setShape({points:Xc(e,t,n)})},updateCommon:Bc,contain:Yc}};function td(e){return{createCover:function(t,n){return Fc({toRectRange:function(t){var n=[t,[0,100]];return e&&n.reverse(),n},fromRectRange:function(t){return t[e]}},t,n,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(t){var n=Lc(t);return[vc(n[0][e],n[1][e]),yc(n[0][e],n[1][e])]},updateCoverShape:function(t,n,r,i){var a,o=Rc(t,n);if(o!==gc&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(e);else{var s=t._zr;a=[0,[s.getWidth(),s.getHeight()][1-e]]}var u=[r,a];e&&u.reverse(),Zc(t,n,u,i)},updateCommon:Bc,contain:Yc}}var nd=kc;function rd(e){return e=od(e),function(t){return Re.clipPointsByRect(t,e)}}function id(e,t){return e=od(e),function(n){var r=null!=t?t:n,i=r?e.width:e.height,a=r?e.x:e.y;return[a,a+(i||0)]}}function ad(e,t,n){var r=od(e);return function(e,i){return r.contain(i[0],i[1])&&!Gi(e,t,n)}}function od(e){return Wn.Z.create(e)}var sd=["axisLine","axisTickLabel","axisName"],ud=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.init=function(t,n){e.prototype.init.apply(this,arguments),(this._brushController=new nd(n.getZr())).on("brush",y.bind(this._onBrush,this))},t.prototype.render=function(e,t,n,r){if(!function(e,t,n){return n&&"axisAreaSelect"===n.type&&t.findComponents({mainType:"parallelAxis",query:n})[0]===e}(e,t,r)){this.axisModel=e,this.api=n,this.group.removeAll();var i=this._axisGroup;if(this._axisGroup=new Me.Z,this.group.add(this._axisGroup),e.get("show")){var a=function(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}(e,t),o=a.coordinateSystem,s=e.getAreaSelectStyle(),u=s.width,l=e.axis.dim,c=o.getAxisLayout(l),d=y.extend({strokeContainThreshold:u},c),f=new jr(e,d);y.each(sd,f.add,f),this._axisGroup.add(f.getGroup()),this._refreshBrushController(d,s,e,a,u,n),Re.groupTransition(i,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,t,n,r,i,a){var o=n.axis.getExtent(),s=o[1]-o[0],u=Math.min(30,.1*Math.abs(s)),l=Wn.Z.create({x:o[0],y:-i/2,width:s,height:i});l.x-=u,l.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:rd(l),isTargetByCursor:ad(l,a,r),getLinearBrushOtherExtent:id(l,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers(function(e){var t=e.axis;return y.map(e.activeIntervals,(function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}}))}(n))},t.prototype._onBrush=function(e){var t=e.areas,n=this.axisModel,r=n.axis,i=y.map(t,(function(e){return[r.coordToData(e.range[0],!0),r.coordToData(e.range[1],!0)]}));(!n.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:i})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(Kn.Z);var ld=ud,cd={type:"axisAreaSelect",event:"axisAreaSelected"};var dd={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function fd(e){e.registerComponentView(ql),e.registerComponentModel(Kl),e.registerCoordinateSystem("parallel",hc),e.registerPreprocessor(Ul),e.registerComponentModel(mc),e.registerComponentView(ld),ur(e,"parallel",mc,dd),function(e){e.registerAction(cd,(function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},(function(t){t.axis.model.setActiveIntervals(e.intervals)}))})),e.registerAction("parallelAxisExpand",(function(e,t){t.eachComponent({mainType:"parallel",query:e},(function(t){t.setAxisExpand(e)}))}))}(e)}var hd=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},pd=function(e){function t(t){return e.call(this,t)||this}return(0,De.ZT)(t,e),t.prototype.getDefaultShape=function(){return new hd},t.prototype.buildPath=function(e,t){var n=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+n,t.y2),e.bezierCurveTo(t.cpx2+n,t.cpy2,t.cpx1+n,t.cpy1,t.x1+n,t.y1)):(e.lineTo(t.x2,t.y2+n),e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n)),e.closePath()},t.prototype.highlight=function(){(0,Le.fD)(this)},t.prototype.downplay=function(){(0,Le.Mh)(this)},t}(o.ZP),md=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._focusAdjacencyDisabled=!1,n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n){var r=this,i=e.getGraph(),a=this.group,o=e.layoutInfo,s=o.width,u=o.height,l=e.getData(),c=e.getData("edge"),d=e.get("orient");this._model=e,a.removeAll(),a.x=o.x,a.y=o.y,i.eachEdge((function(t){var n=new pd,r=(0,Oe.A)(n);r.dataIndex=t.dataIndex,r.seriesIndex=e.seriesIndex,r.dataType="edge";var i,o,l,f,h,p,m,g,v=t.getModel(),x=v.getModel("lineStyle"),b=x.get("curveness"),w=t.node1.getLayout(),_=t.node1.getModel(),S=_.get("localX"),C=_.get("localY"),k=t.node2.getLayout(),D=t.node2.getModel(),T=D.get("localX"),I=D.get("localY"),A=t.getLayout();switch(n.shape.extent=Math.max(1,A.dy),n.shape.orient=d,"vertical"===d?(i=(null!=S?S*s:w.x)+A.sy,o=(null!=C?C*u:w.y)+w.dy,l=(null!=T?T*s:k.x)+A.ty,h=i,p=o*(1-b)+(f=null!=I?I*u:k.y)*b,m=l,g=o*b+f*(1-b)):(i=(null!=S?S*s:w.x)+w.dx,o=(null!=C?C*u:w.y)+A.sy,h=i*(1-b)+(l=null!=T?T*s:k.x)*b,p=o,m=i*b+l*(1-b),g=f=(null!=I?I*u:k.y)+A.ty),n.setShape({x1:i,y1:o,x2:l,y2:f,cpx1:h,cpy1:p,cpx2:m,cpy2:g}),n.useStyle(x.getItemStyle()),n.style.fill){case"source":n.style.fill=t.node1.getVisual("color"),n.style.decal=t.node1.getVisual("style").decal;break;case"target":n.style.fill=t.node2.getVisual("color"),n.style.decal=t.node2.getVisual("style").decal;break;case"gradient":var M=t.node1.getVisual("color"),E=t.node2.getVisual("color");(0,y.isString)(M)&&(0,y.isString)(E)&&(n.style.fill=new Qe.Z(0,0,+("horizontal"===d),+("vertical"===d),[{color:M,offset:0},{color:E,offset:1}]))}var N=v.getModel("emphasis");(0,Le.WO)(n,v,"lineStyle",(function(e){return e.getItemStyle()})),a.add(n),c.setItemGraphicEl(t.dataIndex,n);var R=N.get("focus");(0,Le.k5)(n,"adjacency"===R?t.getAdjacentDataIndices():R,N.get("blurScope"),N.get("disabled")),(0,Oe.A)(n).dataType="edge"})),i.eachNode((function(t){var n=t.getLayout(),r=t.getModel(),i=r.get("localX"),o=r.get("localY"),c=r.getModel("emphasis"),d=new lt.Z({shape:{x:null!=i?i*s:n.x,y:null!=o?o*u:n.y,width:n.dx,height:n.dy},style:r.getModel("itemStyle").getItemStyle(),z2:10});(0,ze.ni)(d,(0,ze.k3)(r),{labelFetcher:e,labelDataIndex:t.dataIndex,defaultText:t.id}),d.disableLabelAnimation=!0,d.setStyle("fill",t.getVisual("color")),d.setStyle("decal",t.getVisual("style").decal),(0,Le.WO)(d,r),a.add(d),l.setItemGraphicEl(t.dataIndex,d),(0,Oe.A)(d).dataType="node";var f=c.get("focus");(0,Le.k5)(d,"adjacency"===f?t.getAdjacentDataIndices():f,c.get("blurScope"),c.get("disabled"))})),l.eachItemGraphicEl((function(t,i){l.getItemModel(i).get("draggable")&&(t.drift=function(t,a){r._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=a,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:l.getRawIndex(i),localX:this.shape.x/s,localY:this.shape.y/u})},t.ondragend=function(){r._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move")})),!this._data&&e.isAnimationEnabled()&&a.setClipPath(function(e,t,n){var r=new lt.Z({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Pe.KZ(r,{shape:{width:e.width+20}},t,n),r}(a.getBoundingRect(),e,(function(){a.removeClipPath()}))),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(ut.Z);var gd=md,vd=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.getInitialData=function(e,t){var n=e.edges||e.links,r=e.data||e.nodes,i=e.levels;this.levelModels=[];for(var a=this.levelModels,o=0;o<i.length;o++)null!=i[o].depth&&i[o].depth>=0&&(a[i[o].depth]=new Pr.Z(i[o],this,t));if(r&&n){var s=hl(r,n,this,!0,(function(e,t){e.wrapMethod("getItemModel",(function(e,t){var n=e.parentModel,r=n.getData().getItemLayout(t);if(r){var i=r.depth,a=n.levelModels[i];a&&(e.parentModel=a)}return e})),t.wrapMethod("getItemModel",(function(e,t){var n=e.parentModel,r=n.getGraph().getEdgeByIndex(t).node1.getLayout();if(r){var i=r.depth,a=n.levelModels[i];a&&(e.parentModel=a)}return e}))}));return s.data}},t.prototype.setNodePosition=function(e,t){var n=(this.option.data||this.option.nodes)[e];n.localX=t[0],n.localY=t[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,t,n){function r(e){return isNaN(e)||null==e}if("edge"===n){var i=this.getDataParams(e,n),a=i.data,o=i.value,s=a.source+" -- "+a.target;return(0,vi.TX)("nameValue",{name:s,value:o,noValue:r(o)})}var u=this.getGraph().getNodeByIndex(e).getLayout().value,l=this.getDataParams(e,n).data.name;return(0,vi.TX)("nameValue",{name:null!=l?l+"":null,value:u,noValue:r(u)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(t,n){var r=e.prototype.getDataParams.call(this,t,n);if(null==r.value&&"node"===n){var i=this.getGraph().getNodeByIndex(t).getLayout().value;r.value=i}return r},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(Ie.Z),yd=vd;function xd(e,t){e.eachSeriesByType("sankey",(function(e){var n=e.get("nodeWidth"),r=e.get("nodeGap"),i=function(e,t){return pn.ME(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=i;var a=i.width,o=i.height,s=e.getGraph(),u=s.nodes,l=s.edges;!function(e){y.each(e,(function(e){var t=Ad(e.outEdges,Id),n=Ad(e.inEdges,Id),r=e.getValue()||0,i=Math.max(t,n,r);e.setLayout({value:i},!0)}))}(u),function(e,t,n,r,i,a,o,s,u){(function(e,t,n,r,i,a,o){for(var s=[],u=[],l=[],c=[],d=0,f=0;f<t.length;f++)s[f]=1;for(f=0;f<e.length;f++)u[f]=e[f].inEdges.length,0===u[f]&&l.push(e[f]);var h=-1;for(;l.length;){for(var p=0;p<l.length;p++){var m=l[p],g=m.hostGraph.data.getRawDataItem(m.dataIndex),v=null!=g.depth&&g.depth>=0;v&&g.depth>h&&(h=g.depth),m.setLayout({depth:v?g.depth:d},!0),"vertical"===a?m.setLayout({dy:n},!0):m.setLayout({dx:n},!0);for(var x=0;x<m.outEdges.length;x++){var b=m.outEdges[x];s[t.indexOf(b)]=0;var w=b.node2;0===--u[e.indexOf(w)]&&c.indexOf(w)<0&&c.push(w)}}++d,l=c,c=[]}for(f=0;f<s.length;f++)if(1===s[f])throw new Error("Sankey is a DAG, the original data has cycle!");var _=h>d-1?h:d-1;o&&"left"!==o&&function(e,t,n,r){if("right"===t){for(var i=[],a=e,o=0;a.length;){for(var s=0;s<a.length;s++){var u=a[s];u.setLayout({skNodeHeight:o},!0);for(var l=0;l<u.inEdges.length;l++){var c=u.inEdges[l];i.indexOf(c.node1)<0&&i.push(c.node1)}}a=i,i=[],++o}y.each(e,(function(e){bd(e)||e.setLayout({depth:Math.max(0,r-e.getLayout().skNodeHeight)},!0)}))}else"justify"===t&&function(e,t){y.each(e,(function(e){bd(e)||e.outEdges.length||e.setLayout({depth:t},!0)}))}(e,r)}(e,o,0,_);!function(e,t,n){y.each(e,(function(e){var r=e.getLayout().depth*t;"vertical"===n?e.setLayout({y:r},!0):e.setLayout({x:r},!0)}))}(e,"vertical"===a?(i-n)/_:(r-n)/_,a)})(e,t,n,i,a,s,u),function(e,t,n,r,i,a,o){var s=function(e,t){var n=[],r="vertical"===t?"y":"x",i=(0,Je.pv)(e,(function(e){return e.getLayout()[r]}));return i.keys.sort((function(e,t){return e-t})),y.each(i.keys,(function(e){n.push(i.buckets.get(e))})),n}(e,o);(function(e,t,n,r,i,a){var o=1/0;y.each(e,(function(e){var t=e.length,s=0;y.each(e,(function(e){s+=e.getLayout().value}));var u="vertical"===a?(r-(t-1)*i)/s:(n-(t-1)*i)/s;u<o&&(o=u)})),y.each(e,(function(e){y.each(e,(function(e,t){var n=e.getLayout().value*o;"vertical"===a?(e.setLayout({x:t},!0),e.setLayout({dx:n},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:n},!0))}))})),y.each(t,(function(e){var t=+e.getValue()*o;e.setLayout({dy:t},!0)}))})(s,t,n,r,i,o),wd(s,i,n,r,o);for(var u=1;a>0;a--)_d(s,u*=.99,o),wd(s,i,n,r,o),Md(s,u,o),wd(s,i,n,r,o)}(e,t,a,i,r,o,s),function(e,t){var n="vertical"===t?"x":"y";y.each(e,(function(e){e.outEdges.sort((function(e,t){return e.node2.getLayout()[n]-t.node2.getLayout()[n]})),e.inEdges.sort((function(e,t){return e.node1.getLayout()[n]-t.node1.getLayout()[n]}))})),y.each(e,(function(e){var t=0,n=0;y.each(e.outEdges,(function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy})),y.each(e.inEdges,(function(e){e.setLayout({ty:n},!0),n+=e.getLayout().dy}))}))}(e,s)}(u,l,n,r,a,o,0!==y.filter(u,(function(e){return 0===e.getLayout().value})).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))}))}function bd(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function wd(e,t,n,r,i){var a="vertical"===i?"x":"y";y.each(e,(function(e){var o,s,u;e.sort((function(e,t){return e.getLayout()[a]-t.getLayout()[a]}));for(var l=0,c=e.length,d="vertical"===i?"dx":"dy",f=0;f<c;f++)(u=l-(s=e[f]).getLayout()[a])>0&&(o=s.getLayout()[a]+u,"vertical"===i?s.setLayout({x:o},!0):s.setLayout({y:o},!0)),l=s.getLayout()[a]+s.getLayout()[d]+t;if((u=l-t-("vertical"===i?r:n))>0){o=s.getLayout()[a]-u,"vertical"===i?s.setLayout({x:o},!0):s.setLayout({y:o},!0),l=o;for(f=c-2;f>=0;--f)(u=(s=e[f]).getLayout()[a]+s.getLayout()[d]+t-l)>0&&(o=s.getLayout()[a]-u,"vertical"===i?s.setLayout({x:o},!0):s.setLayout({y:o},!0)),l=s.getLayout()[a]}}))}function _d(e,t,n){y.each(e.slice().reverse(),(function(e){y.each(e,(function(e){if(e.outEdges.length){var r=Ad(e.outEdges,Sd,n)/Ad(e.outEdges,Id);if(isNaN(r)){var i=e.outEdges.length;r=i?Ad(e.outEdges,Cd,n)/i:0}if("vertical"===n){var a=e.getLayout().x+(r-Td(e,n))*t;e.setLayout({x:a},!0)}else{var o=e.getLayout().y+(r-Td(e,n))*t;e.setLayout({y:o},!0)}}}))}))}function Sd(e,t){return Td(e.node2,t)*e.getValue()}function Cd(e,t){return Td(e.node2,t)}function kd(e,t){return Td(e.node1,t)*e.getValue()}function Dd(e,t){return Td(e.node1,t)}function Td(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function Id(e){return e.getValue()}function Ad(e,t,n){for(var r=0,i=e.length,a=-1;++a<i;){var o=+t(e[a],n);isNaN(o)||(r+=o)}return r}function Md(e,t,n){y.each(e,(function(e){y.each(e,(function(e){if(e.inEdges.length){var r=Ad(e.inEdges,kd,n)/Ad(e.inEdges,Id);if(isNaN(r)){var i=e.inEdges.length;r=i?Ad(e.inEdges,Dd,n)/i:0}if("vertical"===n){var a=e.getLayout().x+(r-Td(e,n))*t;e.setLayout({x:a},!0)}else{var o=e.getLayout().y+(r-Td(e,n))*t;e.setLayout({y:o},!0)}}}))}))}function Ed(e){e.eachSeriesByType("sankey",(function(e){var t=e.getGraph().nodes;if(t.length){var n=1/0,r=-1/0;y.each(t,(function(e){var t=e.getLayout().value;t<n&&(n=t),t>r&&(r=t)})),y.each(t,(function(t){var i=new qs({type:"color",mappingMethod:"linear",dataExtent:[n,r],visual:e.get("color")}).mapValueToVisual(t.getLayout().value),a=t.getModel().get(["itemStyle","color"]);null!=a?(t.setVisual("color",a),t.setVisual("style",{fill:a})):(t.setVisual("color",i),t.setVisual("style",{fill:i}))}))}}))}var Nd=n(32670),Rd=function(){function e(){}return e.prototype.getInitialData=function(e,t){var n,r,i=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),o=i.get("type"),s=a.get("type");"category"===o?(e.layout="horizontal",n=i.getOrdinalMeta(),r=!0):"category"===s?(e.layout="vertical",n=a.getOrdinalMeta(),r=!0):e.layout=e.layout||"horizontal";var u=["x","y"],l="horizontal"===e.layout?0:1,c=this._baseAxisDim=u[l],d=u[1-l],f=[i,a],h=f[l].get("type"),p=f[1-l].get("type"),m=e.data;if(m&&r){var g=[];y.each(m,(function(e,t){var n;y.isArray(e)?(n=e.slice(),e.unshift(t)):y.isArray(e.value)?((n=y.extend({},e)).value=n.value.slice(),e.value.unshift(t)):n=e,g.push(n)})),e.data=g}var v=this.defaultValueDimensions,x=[{name:c,type:(0,Nd.T)(h),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:d,type:(0,Nd.T)(p),dimsDef:v.slice()}];return Ln(this,{coordDimensions:x,dimensionsCount:v.length+1,encodeDefaulter:y.curry(Fn.pY,x,this)})},e.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},e}(),Pd=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return(0,De.ZT)(t,e),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(Ie.Z);(0,y.mixin)(Pd,Rd,!0);var Od=Pd,Ld=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n){var r=e.getData(),i=this.group,a=this._data;this._data||i.removeAll();var o="horizontal"===e.get("layout")?1:0;r.diff(a).add((function(e){if(r.hasValue(e)){var t=Bd(r.getItemLayout(e),r,e,o,!0);r.setItemGraphicEl(e,t),i.add(t)}})).update((function(e,t){var n=a.getItemGraphicEl(t);if(r.hasValue(e)){var s=r.getItemLayout(e);n?((0,Pe.Zi)(n),zd(s,n,r,e)):n=Bd(s,r,e,o),i.add(n),r.setItemGraphicEl(e,n)}else i.remove(n)})).remove((function(e){var t=a.getItemGraphicEl(e);t&&i.remove(t)})).execute(),this._data=r},t.prototype.remove=function(e){var t=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl((function(e){e&&t.remove(e)}))},t.type="boxplot",t}(ut.Z),Fd=function(){},Zd=function(e){function t(t){var n=e.call(this,t)||this;return n.type="boxplotBoxPath",n}return(0,De.ZT)(t,e),t.prototype.getDefaultShape=function(){return new Fd},t.prototype.buildPath=function(e,t){var n=t.points,r=0;for(e.moveTo(n[r][0],n[r][1]),r++;r<4;r++)e.lineTo(n[r][0],n[r][1]);for(e.closePath();r<n.length;r++)e.moveTo(n[r][0],n[r][1]),r++,e.lineTo(n[r][0],n[r][1])},t}(o.ZP);function Bd(e,t,n,r,i){var a=e.ends,o=new Zd({shape:{points:i?Vd(a,r,e):a}});return zd(e,o,t,n,i),o}function zd(e,t,n,r,i){var a=n.hostModel;(0,Re[i?"initProps":"updateProps"])(t,{shape:{points:e.ends}},a,r),t.useStyle(n.getItemVisual(r,"style")),t.style.strokeNoScale=!0,t.z2=100;var o=n.getItemModel(r),s=o.getModel("emphasis");(0,Le.WO)(t,o),(0,Le.k5)(t,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function Vd(e,t,n){return y.map(e,(function(e){return(e=e.slice())[t]=n.initBaseline,e}))}var jd=Ld;function Wd(e,t){}var Ud=y.each;function Hd(e){var t=function(e){var t=[],n=[];return e.eachSeriesByType("boxplot",(function(e){var r=e.getBaseAxis(),i=y.indexOf(n,r);i<0&&(i=n.length,n[i]=r,t[i]={axis:r,seriesModels:[]}),t[i].seriesModels.push(e)})),t}(e);Ud(t,(function(e){var t=e.seriesModels;t.length&&(!function(e){var t,n=e.axis,r=e.seriesModels,i=r.length,a=e.boxWidthList=[],o=e.boxOffsetList=[],s=[];if("category"===n.type)t=n.getBandWidth();else{var u=0;Ud(r,(function(e){u=Math.max(u,e.getData().count())}));var l=n.getExtent();t=Math.abs(l[1]-l[0])/u}Ud(r,(function(e){var n=e.get("boxWidth");y.isArray(n)||(n=[n,n]),s.push([(0,dt.GM)(n[0],t)||0,(0,dt.GM)(n[1],t)||0])}));var c=.8*t-2,d=c/i*.3,f=(c-d*(i-1))/i,h=f/2-c/2;Ud(r,(function(e,t){o.push(h),h+=d+f,a.push(Math.min(Math.max(f,s[t][0]),s[t][1]))}))}(e),Ud(t,(function(t,n){!function(e,t,n){var r=e.coordinateSystem,i=e.getData(),a=n/2,o="horizontal"===e.get("layout")?0:1,s=1-o,u=["x","y"],l=i.mapDimension(u[o]),c=i.mapDimensionsAll(u[s]);if(null==l||c.length<5)return;for(var d=0;d<i.count();d++){var f=i.get(l,d),h=x(f,c[2],d),p=x(f,c[0],d),m=x(f,c[1],d),g=x(f,c[3],d),v=x(f,c[4],d),y=[];b(y,m,!1),b(y,g,!0),y.push(p,m,v,g),w(y,p),w(y,v),w(y,h),i.setItemLayout(d,{initBaseline:h[s],ends:y})}function x(e,n,a){var u,l=i.get(n,a),c=[];return c[o]=e,c[s]=l,isNaN(e)||isNaN(l)?u=[NaN,NaN]:(u=r.dataToPoint(c))[o]+=t,u}function b(e,t,n){var r=t.slice(),i=t.slice();r[o]+=a,i[o]-=a,n?e.push(r,i):e.push(i,r)}function w(e,t){var n=t.slice(),r=t.slice();n[o]-=a,r[o]+=a,e.push(n,r)}}(t,e.boxOffsetList[n],e.boxWidthList[n])})))}))}var Gd=n(85326),Xd=n(88542),qd={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==Xd.XD){0,(0,Gd._y)("")}var n=function(e,t){for(var n=[],r=[],i=(t=t||{}).boundIQR,a="none"===i||0===i,o=0;o<e.length;o++){var s=(0,dt.dt)(e[o].slice()),u=(0,dt.VR)(s,.25),l=(0,dt.VR)(s,.5),c=(0,dt.VR)(s,.75),d=s[0],f=s[s.length-1],h=(null==i?1.5:i)*(c-u),p=a?d:Math.max(d,u-h),m=a?f:Math.min(f,c+h),g=t.itemNameFormatter,v=(0,y.isFunction)(g)?g({value:o}):(0,y.isString)(g)?g.replace("{value}",o+""):o+"";n.push([v,p,u,l,c,m]);for(var x=0;x<s.length;x++){var b=s[x];if(b<p||b>m){var w=[v,b];r.push(w)}}}return{boxData:n,outliers:r}}(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:n.boxData},{data:n.outliers}]}};var Yd=["color","borderColor"],Kd=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,t,n){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,t,n,r){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},t.prototype.eachRendered=function(e){Re.traverseElements(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e){var t=e.getData(),n=this._data,r=this.group,i=t.getLayout("isSimpleBox"),a=e.get("clip",!0),o=e.coordinateSystem,s=o.getArea&&o.getArea();this._data||r.removeAll(),t.diff(n).add((function(n){if(t.hasValue(n)){var o=t.getItemLayout(n);if(a&&ef(s,o))return;var u=$d(o,n,!0);Pe.KZ(u,{shape:{points:o.ends}},e,n),tf(u,t,n,i),r.add(u),t.setItemGraphicEl(n,u)}})).update((function(o,u){var l=n.getItemGraphicEl(u);if(t.hasValue(o)){var c=t.getItemLayout(o);a&&ef(s,c)?r.remove(l):(l?(Pe.D(l,{shape:{points:c.ends}},e,o),(0,Pe.Zi)(l)):l=$d(c,o),tf(l,t,o,i),r.add(l),t.setItemGraphicEl(o,l))}else r.remove(l)})).remove((function(e){var t=n.getItemGraphicEl(e);t&&r.remove(t)})).execute(),this._data=t},t.prototype._renderLarge=function(e){this._clear(),of(e,this.group);var t=e.get("clip",!0)?pt(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,t){for(var n,r=t.getData(),i=r.getLayout("isSimpleBox");null!=(n=e.next());){var a=$d(r.getItemLayout(n),n);tf(a,r,n,i),a.incremental=!0,this.group.add(a),this._progressiveEls.push(a)}},t.prototype._incrementalRenderLarge=function(e,t){of(t,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(ut.Z),Qd=function(){},Jd=function(e){function t(t){var n=e.call(this,t)||this;return n.type="normalCandlestickBox",n}return(0,De.ZT)(t,e),t.prototype.getDefaultShape=function(){return new Qd},t.prototype.buildPath=function(e,t){var n=t.points;this.__simpleBox?(e.moveTo(n[4][0],n[4][1]),e.lineTo(n[6][0],n[6][1])):(e.moveTo(n[0][0],n[0][1]),e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]),e.lineTo(n[3][0],n[3][1]),e.closePath(),e.moveTo(n[4][0],n[4][1]),e.lineTo(n[5][0],n[5][1]),e.moveTo(n[6][0],n[6][1]),e.lineTo(n[7][0],n[7][1]))},t}(o.ZP);function $d(e,t,n){var r=e.ends;return new Jd({shape:{points:n?nf(r,e):r},z2:100})}function ef(e,t){for(var n=!0,r=0;r<t.ends.length;r++)if(e.contain(t.ends[r][0],t.ends[r][1])){n=!1;break}return n}function tf(e,t,n,r){var i=t.getItemModel(n);e.useStyle(t.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.__simpleBox=r,(0,Le.WO)(e,i)}function nf(e,t){return y.map(e,(function(e){return(e=e.slice())[1]=t.initBaseline,e}))}var rf=function(){},af=function(e){function t(t){var n=e.call(this,t)||this;return n.type="largeCandlestickBox",n}return(0,De.ZT)(t,e),t.prototype.getDefaultShape=function(){return new rf},t.prototype.buildPath=function(e,t){for(var n=t.points,r=0;r<n.length;)if(this.__sign===n[r++]){var i=n[r++];e.moveTo(i,n[r++]),e.lineTo(i,n[r++])}else r+=3},t}(o.ZP);function of(e,t,n,r){var i=e.getData(),a=i.getLayout("largePoints"),o=new af({shape:{points:a},__sign:1});t.add(o);var s=new af({shape:{points:a},__sign:-1});t.add(s),sf(1,o,e,i),sf(-1,s,e,i),r&&(o.incremental=!0,s.incremental=!0),n&&n.push(o,s)}function sf(e,t,n,r){var i=n.get(["itemStyle",e>0?"borderColor":"borderColor0"])||n.get(["itemStyle",e>0?"color":"color0"]),a=n.getModel("itemStyle").getItemStyle(Yd);t.useStyle(a),t.style.fill=null,t.style.stroke=i}var uf=Kd,lf=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return(0,De.ZT)(t,e),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,t,n){var r=t.getItemLayout(e);return r&&n.rect(r.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(Ie.Z);(0,y.mixin)(lf,Rd,!0);var cf=lf;function df(e){e&&y.isArray(e.series)&&y.each(e.series,(function(e){y.isObject(e)&&"k"===e.type&&(e.type="candlestick")}))}var ff=["itemStyle","borderColor"],hf=["itemStyle","borderColor0"],pf=["itemStyle","color"],mf=["itemStyle","color0"],gf={seriesType:"candlestick",plan:(0,Mt.Z)(),performRawSeries:!0,reset:function(e,t){function n(e,t){return t.get(e>0?pf:mf)}function r(e,t){return t.get(e>0?ff:hf)}if(!t.isSeriesFiltered(e))return!e.pipelineContext.large&&{progress:function(e,t){for(var i;null!=(i=e.next());){var a=t.getItemModel(i),o=t.getItemLayout(i).sign,s=a.getItemStyle();s.fill=n(o,a),s.stroke=r(o,a)||s.fill;var u=t.ensureUniqueItemVisual(i,"style");(0,y.extend)(u,s)}}}}},vf={seriesType:"candlestick",plan:(0,Mt.Z)(),reset:function(e){var t=e.coordinateSystem,n=e.getData(),r=function(e,t){var n,r=e.getBaseAxis(),i="category"===r.type?r.getBandWidth():(n=r.getExtent(),Math.abs(n[1]-n[0])/t.count()),a=(0,dt.GM)((0,y.retrieve2)(e.get("barMaxWidth"),i),i),o=(0,dt.GM)((0,y.retrieve2)(e.get("barMinWidth"),1),i),s=e.get("barWidth");return null!=s?(0,dt.GM)(s,i):Math.max(Math.min(i/2,a),o)}(e,n),i=["x","y"],a=n.getDimensionIndex(n.mapDimension(i[0])),o=(0,y.map)(n.mapDimensionsAll(i[1]),n.getDimensionIndex,n),s=o[0],u=o[1],l=o[2],c=o[3];if(n.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),!(a<0||o.length<4))return{progress:e.pipelineContext.large?function(e,n){var r,i,o=(0,Ke.o)(4*e.count),d=0,f=[],h=[],p=n.getStore();for(;null!=(i=e.next());){var m=p.get(a,i),g=p.get(s,i),v=p.get(u,i),y=p.get(l,i),x=p.get(c,i);isNaN(m)||isNaN(y)||isNaN(x)?(o[d++]=NaN,d+=3):(o[d++]=yf(p,i,g,v,u),f[0]=m,f[1]=y,r=t.dataToPoint(f,null,h),o[d++]=r?r[0]:NaN,o[d++]=r?r[1]:NaN,f[1]=x,r=t.dataToPoint(f,null,h),o[d++]=r?r[1]:NaN)}n.setLayout("largePoints",o)}:function(e,n){var i,o=n.getStore();for(;null!=(i=e.next());){var d=o.get(a,i),f=o.get(s,i),h=o.get(u,i),p=o.get(l,i),m=o.get(c,i),g=Math.min(f,h),v=Math.max(f,h),y=S(g,d),x=S(v,d),b=S(p,d),w=S(m,d),_=[];C(_,x,0),C(_,y,1),_.push(D(w),D(x),D(b),D(y)),n.setItemLayout(i,{sign:yf(o,i,f,h,u),initBaseline:f>h?x[1]:y[1],ends:_,brushRect:k(p,m,d)})}function S(e,n){var r=[];return r[0]=n,r[1]=e,isNaN(n)||isNaN(e)?[NaN,NaN]:t.dataToPoint(r)}function C(e,t,n){var i=t.slice(),a=t.slice();i[0]=(0,Re.subPixelOptimize)(i[0]+r/2,1,!1),a[0]=(0,Re.subPixelOptimize)(a[0]-r/2,1,!0),n?e.push(i,a):e.push(a,i)}function k(e,t,n){var i=S(e,n),a=S(t,n);return i[0]-=r/2,a[0]-=r/2,{x:i[0],y:i[1],width:r,height:a[1]-i[1]}}function D(e){return e[0]=(0,Re.subPixelOptimize)(e[0],1),e}}}}};function yf(e,t,n,r,i){return n>r?-1:n<r?1:t>0?e.get(i,t-1)<=r?1:-1:1}var xf=vf;function bf(e,t){var n=t.rippleEffectColor||t.color;e.eachChild((function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?n:null,fill:"fill"===t.brushType?n:null}})}))}var wf=function(e){function t(t,n){var r=e.call(this)||this,i=new je(t,n),a=new Me.Z;return r.add(i),r.add(a),r.updateData(t,n),r}return(0,De.ZT)(t,e),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,r=e.rippleNumber,i=this.childAt(1),a=0;a<r;a++){var o=(0,Ae.th)(t,-1,-1,2,2,n);o.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var s=-a/r*e.period+e.effectOffset;o.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(s).start(),o.animateStyle(!0).when(e.period,{opacity:0}).delay(s).start(),i.add(o)}bf(i,e)},t.prototype.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),r=["symbolType","period","rippleScale","rippleNumber"],i=0;i<r.length;i++){var a=r[i];if(t[a]!==e[a])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}bf(n,e)},t.prototype.highlight=function(){(0,Le.fD)(this)},t.prototype.downplay=function(){(0,Le.Mh)(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,t){var n=this,r=e.hostModel;this.childAt(0).updateData(e,t);var i=this.childAt(1),a=e.getItemModel(t),o=e.getItemVisual(t,"symbol"),s=(0,Ae.zp)(e.getItemVisual(t,"symbolSize")),u=e.getItemVisual(t,"style"),l=u&&u.fill,c=a.getModel("emphasis");i.setScale(s),i.traverse((function(e){e.setStyle("fill",l)}));var d=(0,Ae.Cq)(e.getItemVisual(t,"symbolOffset"),s);d&&(i.x=d[0],i.y=d[1]);var f=e.getItemVisual(t,"symbolRotate");i.rotation=(f||0)*Math.PI/180||0;var h={};h.showEffectOn=r.get("showEffectOn"),h.rippleScale=a.get(["rippleEffect","scale"]),h.brushType=a.get(["rippleEffect","brushType"]),h.period=1e3*a.get(["rippleEffect","period"]),h.effectOffset=t/e.count(),h.z=r.getShallow("z")||0,h.zlevel=r.getShallow("zlevel")||0,h.symbolType=o,h.color=l,h.rippleEffectColor=a.get(["rippleEffect","color"]),h.rippleNumber=a.get(["rippleEffect","number"]),"render"===h.showEffectOn?(this._effectCfg?this.updateEffectAnimation(h):this.startEffectAnimation(h),this._effectCfg=h):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(e){"emphasis"===e?"render"!==h.showEffectOn&&n.startEffectAnimation(h):"normal"===e&&"render"!==h.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=h,(0,Le.k5)(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(Me.Z),_f=wf,Sf=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.init=function(){this._symbolDraw=new Ge(_f)},t.prototype.render=function(e,t,n){var r=e.getData(),i=this._symbolDraw;i.updateData(r,{clipShape:this._getClipShape(e)}),this.group.add(i.group)},t.prototype._getClipShape=function(e){var t=e.coordinateSystem,n=t&&t.getArea&&t.getArea();return e.get("clip",!0)?n:null},t.prototype.updateTransform=function(e,t,n){var r=e.getData();this.group.dirty();var i=Et("").reset(e,t,n);i.progress&&i.progress({start:0,end:r.count(),count:r.count()},r),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=fr.clone(t.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(ut.Z),Cf=Sf,kf=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return(0,De.ZT)(t,e),t.prototype.getInitialData=function(e,t){return(0,Te.Z)(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(Ie.Z),Df=kf;var Tf=function(e){function t(t,n,r){var i=e.call(this)||this;return i.add(i.createLine(t,n,r)),i._updateEffectSymbol(t,n),i}return(0,De.ZT)(t,e),t.prototype.createLine=function(e,t,n){return new Yu(e,t,n)},t.prototype._updateEffectSymbol=function(e,t){var n=e.getItemModel(t).getModel("effect"),r=n.get("symbolSize"),i=n.get("symbol");y.isArray(r)||(r=[r,r]);var a=e.getItemVisual(t,"style"),o=n.get("color")||a&&a.stroke,s=this.childAt(1);this._symbolType!==i&&(this.remove(s),(s=(0,Ae.th)(i,-.5,-.5,1,1,o)).z2=100,s.culling=!0,this.add(s)),s&&(s.setStyle("shadowColor",o),s.setStyle(n.getItemStyle(["color"])),s.scaleX=r[0],s.scaleY=r[1],s.setColor(o),this._symbolType=i,this._symbolScale=r,this._updateEffectAnimation(e,n,t))},t.prototype._updateEffectAnimation=function(e,t,n){var r=this.childAt(1);if(r){var i=e.getItemLayout(n),a=1e3*t.get("period"),o=t.get("loop"),s=t.get("constantSpeed"),u=y.retrieve(t.get("delay"),(function(t){return t/e.count()*a/3}));if(r.ignore=!0,this._updateAnimationPoints(r,i),s>0&&(a=this._getLineLength(r)/s*1e3),a!==this._period||o!==this._loop){r.stopAnimation();var l=void 0;l=y.isFunction(u)?u(n):u,r.__t>0&&(l=-a*r.__t),this._animateSymbol(r,a,l,o)}this._period=a,this._loop=o}},t.prototype._animateSymbol=function(e,t,n,r){if(t>0){e.__t=0;var i=this,a=e.animate("",r).when(t,{__t:1}).delay(n).during((function(){i._updateSymbolPosition(e)}));r||a.done((function(){i.remove(e)})),a.start()}},t.prototype._getLineLength=function(e){return hr.dist(e.__p1,e.__cp1)+hr.dist(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},t.prototype.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},t.prototype._updateSymbolPosition=function(e){var t=e.__p1,n=e.__p2,r=e.__cp1,i=e.__t,a=[e.x,e.y],o=a.slice(),s=$e.Zm,u=$e.AZ;a[0]=s(t[0],r[0],n[0],i),a[1]=s(t[1],r[1],n[1],i);var l=u(t[0],r[0],n[0],i),c=u(t[1],r[1],n[1],i);e.rotation=-Math.atan2(c,l)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*hr.dist(o,a),1===i&&(a[0]=o[0]+(a[0]-o[0])/2,a[1]=o[1]+(a[1]-o[1])/2)):1===e.__lastT?e.scaleY=2*hr.dist(t,a):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=a[0],e.y=a[1]},t.prototype.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)},t}(Me.Z),If=Tf,Af=function(e){function t(t,n,r){var i=e.call(this)||this;return i._createPolyline(t,n,r),i}return(0,De.ZT)(t,e),t.prototype._createPolyline=function(e,t,n){var r=e.getItemLayout(t),i=new wn.Z({shape:{points:r}});this.add(i),this._updateCommonStl(e,t,n)},t.prototype.updateData=function(e,t,n){var r=e.hostModel,i=this.childAt(0),a={shape:{points:e.getItemLayout(t)}};Pe.D(i,a,r,t),this._updateCommonStl(e,t,n)},t.prototype._updateCommonStl=function(e,t,n){var r=this.childAt(0),i=e.getItemModel(t),a=n&&n.emphasisLineStyle,o=n&&n.focus,s=n&&n.blurScope,u=n&&n.emphasisDisabled;if(!n||e.hasItemOption){var l=i.getModel("emphasis");a=l.getModel("lineStyle").getLineStyle(),u=l.get("disabled"),o=l.get("focus"),s=l.get("blurScope")}r.useStyle(e.getItemVisual(t,"style")),r.style.fill=null,r.style.strokeNoScale=!0,r.ensureState("emphasis").style=a,(0,Le.k5)(this,o,s,u)},t.prototype.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},t}(Me.Z),Mf=Af,Ef=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return(0,De.ZT)(t,e),t.prototype.createLine=function(e,t,n){return new Mf(e,t,n)},t.prototype._updateAnimationPoints=function(e,t){this._points=t;for(var n=[0],r=0,i=1;i<t.length;i++){var a=t[i-1],o=t[i];r+=hr.dist(a,o),n.push(r)}if(0!==r){for(i=0;i<n.length;i++)n[i]/=r;this._offsets=n,this._length=r}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var t=e.__t,n=this._points,r=this._offsets,i=n.length;if(r){var a,o=this._lastFrame;if(t<this._lastFramePercent){for(a=Math.min(o+1,i-1);a>=0&&!(r[a]<=t);a--);a=Math.min(a,i-2)}else{for(a=o;a<i&&!(r[a]>t);a++);a=Math.min(a-1,i-2)}var s=(t-r[a])/(r[a+1]-r[a]),u=n[a],l=n[a+1];e.x=u[0]*(1-s)+s*l[0],e.y=u[1]*(1-s)+s*l[1];var c=l[0]-u[0],d=l[1]-u[1];e.rotation=-Math.atan2(d,c)-Math.PI/2,this._lastFrame=a,this._lastFramePercent=t,e.ignore=!1}},t}(If),Nf=Ef,Rf=n(49155),Pf=n(33723),Of=function(){this.polyline=!1,this.curveness=0,this.segs=[]},Lf=function(e){function t(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return(0,De.ZT)(t,e),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Of},t.prototype.buildPath=function(e,t){var n,r=t.segs,i=t.curveness;if(t.polyline)for(n=this._off;n<r.length;){var a=r[n++];if(a>0){e.moveTo(r[n++],r[n++]);for(var o=1;o<a;o++)e.lineTo(r[n++],r[n++])}}else for(n=this._off;n<r.length;){var s=r[n++],u=r[n++],l=r[n++],c=r[n++];if(e.moveTo(s,u),i>0){var d=(s+l)/2-(u-c)*i,f=(u+c)/2-(l-s)*i;e.quadraticCurveTo(d,f,l,c)}else e.lineTo(l,c)}this.incremental&&(this._off=n,this.notClear=!0)},t.prototype.findDataIndex=function(e,t){var n=this.shape,r=n.segs,i=n.curveness,a=this.style.lineWidth;if(n.polyline)for(var o=0,s=0;s<r.length;){var u=r[s++];if(u>0)for(var l=r[s++],c=r[s++],d=1;d<u;d++){var f=r[s++],h=r[s++];if(Rf.m(l,c,f,h,a,e,t))return o}o++}else for(o=0,s=0;s<r.length;){l=r[s++],c=r[s++],f=r[s++],h=r[s++];if(i>0){var p=(l+f)/2-(c-h)*i,m=(c+h)/2-(f-l)*i;if(Pf.m(l,c,p,m,f,h,a,e,t))return o}else if(Rf.m(l,c,f,h,a,e,t))return o;o++}return-1},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect();return e=n[0],t=n[1],r.contain(e,t)?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape.segs,n=1/0,r=1/0,i=-1/0,a=-1/0,o=0;o<t.length;){var s=t[o++],u=t[o++];n=Math.min(s,n),i=Math.max(s,i),r=Math.min(u,r),a=Math.max(u,a)}e=this._rect=new Wn.Z(n,r,i,a)}return e},t}(o.ZP),Ff=function(){function e(){this.group=new Me.Z}return e.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},e.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(e,t){var n=this._newAdded[0],r=t.getLayout("linesPoints"),i=n&&n.shape.segs;if(i&&i.length<2e4){var a=i.length,o=new Float32Array(a+r.length);o.set(i),o.set(r,a),n.setShape({segs:o})}else{this._newAdded=[];var s=this._create();s.incremental=!0,s.setShape({segs:r}),this._setCommon(s,t),s.__startIndex=e.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new Lf({cursor:"default"});return this._newAdded.push(e),this.group.add(e),e},e.prototype._setCommon=function(e,t,n){var r=t.hostModel;e.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),e.useStyle(r.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var i=t.getVisual("style");i&&i.stroke&&e.setStyle("stroke",i.stroke),e.setStyle("fill",null);var a=(0,Oe.A)(e);a.seriesIndex=r.seriesIndex,e.on("mousemove",(function(t){a.dataIndex=null;var n=e.hoverDataIdx;n>0&&(a.dataIndex=n+e.__startIndex)}))},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),Zf={seriesType:"lines",plan:(0,Mt.Z)(),reset:function(e){var t=e.coordinateSystem;if(t){var n=e.get("polyline"),r=e.pipelineContext.large;return{progress:function(i,a){var o=[];if(r){var s=void 0,u=i.end-i.start;if(n){for(var l=0,c=i.start;c<i.end;c++)l+=e.getLineCoordsCount(c);s=new Float32Array(u+2*l)}else s=new Float32Array(4*u);var d=0,f=[];for(c=i.start;c<i.end;c++){var h=e.getLineCoords(c,o);n&&(s[d++]=h);for(var p=0;p<h;p++)f=t.dataToPoint(o[p],!1,f),s[d++]=f[0],s[d++]=f[1]}a.setLayout("linesPoints",s)}else for(c=i.start;c<i.end;c++){var m=a.getItemModel(c),g=(h=e.getLineCoords(c,o),[]);if(n)for(var v=0;v<h;v++)g.push(t.dataToPoint(o[v]));else{g[0]=t.dataToPoint(o[0]),g[1]=t.dataToPoint(o[1]);var y=m.get(["lineStyle","curveness"]);+y&&(g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*y,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*y])}a.setItemLayout(c,g)}}}}}},Bf=Zf,zf=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n){var r=e.getData(),i=this._updateLineDraw(r,e),a=e.get("zlevel"),o=e.get(["effect","trailLength"]),s=n.getZr(),u="svg"===s.painter.getType();u||s.painter.getLayer(a).clear(!0),null==this._lastZlevel||u||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&o>0&&(u||s.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(o/10+.9,1),0)})),i.updateData(r);var l=e.get("clip",!0)&&pt(e.coordinateSystem,!1,e);l?this.group.setClipPath(l):this.group.removeClipPath(),this._lastZlevel=a,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,n){var r=e.getData();this._updateLineDraw(r,e).incrementalPrepareUpdate(r),this._clearLayer(n),this._finished=!1},t.prototype.incrementalRender=function(e,t,n){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,t,n){var r=e.getData(),i=e.pipelineContext;if(!this._finished||i.large||i.progressiveRender)return{update:!0};var a=Bf.reset(e,t,n);a.progress&&a.progress({start:0,end:r.count(),count:r.count()},r),this._lineDraw.updateLayout(),this._clearLayer(n)},t.prototype._updateLineDraw=function(e,t){var n=this._lineDraw,r=this._showEffect(t),i=!!t.get("polyline"),a=t.pipelineContext.large;return n&&r===this._hasEffet&&i===this._isPolyline&&a===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=a?new Ff:new $u(i?r?Nf:Mf:r?If:Yu),this._hasEffet=r,this._isPolyline=i,this._isLargeDraw=a),this.group.add(n.group),n},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var t=e.getZr();"svg"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.type="lines",t}(ut.Z),Vf=zf,jf="undefined"===typeof Uint32Array?Array:Uint32Array,Wf="undefined"===typeof Float64Array?Array:Float64Array;function Uf(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=(0,y.map)(t,(function(e){var t={coords:[e[0].coord,e[1].coord]};return e[0].name&&(t.fromName=e[0].name),e[1].name&&(t.toName=e[1].name),(0,y.mergeAll)([t,e[0],e[1]])})))}var Hf=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return(0,De.ZT)(t,e),t.prototype.init=function(t){t.data=t.data||[],Uf(t);var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(t){if(Uf(t),t.data){var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=(0,y.concatArray)(this._flatCoords,t.flatCoords),this._flatCoordsOffset=(0,y.concatArray)(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],r=this._flatCoordsOffset[2*e+1],i=0;i<r;i++)t[i]=t[i]||[],t[i][0]=this._flatCoords[n+2*i],t[i][1]=this._flatCoords[n+2*i+1];return r}var a=this._getCoordsFromItemModel(e);for(i=0;i<a.length;i++)t[i]=t[i]||[],t[i][0]=a[i][0],t[i][1]=a[i][1];return a.length},t.prototype._processFlatCoordsArray=function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),(0,y.isNumber)(e[0])){for(var n=e.length,r=new jf(n),i=new Wf(n),a=0,o=0,s=0,u=0;u<n;){s++;var l=e[u++];r[o++]=a+t,r[o++]=l;for(var c=0;c<l;c++){var d=e[u++],f=e[u++];i[a++]=d,i[a++]=f}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,o),flatCoords:i,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,t){var n=new On.Z(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],(function(e,t,r,i){if(e instanceof Array)return NaN;n.hasItemOption=!0;var a=e.value;return null!=a?a instanceof Array?a[i]:a:void 0})),n},t.prototype.formatTooltip=function(e,t,n){var r=this.getData().getItemModel(e),i=r.get("name");if(i)return i;var a=r.get("fromName"),o=r.get("toName"),s=[];return null!=a&&s.push(a),null!=o&&s.push(o),(0,vi.TX)("nameValue",{name:s.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),t=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&t>0?t+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(Ie.Z),Gf=Hf;function Xf(e){return e instanceof Array||(e=[e,e]),e}var qf={seriesType:"lines",reset:function(e){var t=Xf(e.get("symbol")),n=Xf(e.get("symbolSize")),r=e.getData();return r.setVisual("fromSymbol",t&&t[0]),r.setVisual("toSymbol",t&&t[1]),r.setVisual("fromSymbolSize",n&&n[0]),r.setVisual("toSymbolSize",n&&n[1]),{dataEach:r.hasItemOption?function(e,t){var n=e.getItemModel(t),r=Xf(n.getShallow("symbol",!0)),i=Xf(n.getShallow("symbolSize",!0));r[0]&&e.setItemVisual(t,"fromSymbol",r[0]),r[1]&&e.setItemVisual(t,"toSymbol",r[1]),i[0]&&e.setItemVisual(t,"fromSymbolSize",i[0]),i[1]&&e.setItemVisual(t,"toSymbolSize",i[1])}:null}}};var Yf=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=H.qW.createCanvas();this.canvas=e}return e.prototype.update=function(e,t,n,r,i,a){var o=this._getBrush(),s=this._getGradient(i,"inRange"),u=this._getGradient(i,"outOfRange"),l=this.pointSize+this.blurSize,c=this.canvas,d=c.getContext("2d"),f=e.length;c.width=t,c.height=n;for(var h=0;h<f;++h){var p=e[h],m=p[0],g=p[1],v=r(p[2]);d.globalAlpha=v,d.drawImage(o,m-l,g-l)}if(!c.width||!c.height)return c;for(var y=d.getImageData(0,0,c.width,c.height),x=y.data,b=0,w=x.length,_=this.minOpacity,S=this.maxOpacity-_;b<w;){v=x[b+3]/256;var C=4*Math.floor(255*v);if(v>0){var k=a(v)?s:u;v>0&&(v=v*S+_),x[b++]=k[C],x[b++]=k[C+1],x[b++]=k[C+2],x[b++]=k[C+3]*v*256}else b+=4}return d.putImageData(y,0,0),c},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=H.qW.createCanvas()),t=this.pointSize+this.blurSize,n=2*t;e.width=n,e.height=n;var r=e.getContext("2d");return r.clearRect(0,0,n,n),r.shadowOffsetX=n,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-t,t,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),e},e.prototype._getGradient=function(e,t){for(var n=this._gradientPixels,r=n[t]||(n[t]=new Uint8ClampedArray(1024)),i=[0,0,0,0],a=0,o=0;o<256;o++)e[t](o/255,!0,i),r[a++]=i[0],r[a++]=i[1],r[a++]=i[2],r[a++]=i[3];return r},e}(),Kf=Yf;function Qf(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}var Jf=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n){var r;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(n){n===e&&(r=t)}))})),this._progressiveEls=null,this.group.removeAll();var i=e.coordinateSystem;"cartesian2d"===i.type||"calendar"===i.type?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):Qf(i)&&this._renderOnGeo(i,e,r,n)},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,n,r){var i=t.coordinateSystem;i&&(Qf(i)?this.render(t,n,r):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(t,r,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){Re.traverseElements(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,t,n,r,i){var a,o,s,u,l=e.coordinateSystem,c=mt(l,"cartesian2d");if(c){var d=l.getAxis("x"),f=l.getAxis("y");0,a=d.getBandWidth()+.5,o=f.getBandWidth()+.5,s=d.scale.getExtent(),u=f.scale.getExtent()}for(var h=this.group,p=e.getData(),m=e.getModel(["emphasis","itemStyle"]).getItemStyle(),g=e.getModel(["blur","itemStyle"]).getItemStyle(),v=e.getModel(["select","itemStyle"]).getItemStyle(),y=e.get(["itemStyle","borderRadius"]),x=(0,ze.k3)(e),b=e.getModel("emphasis"),w=b.get("focus"),_=b.get("blurScope"),S=b.get("disabled"),C=c?[p.mapDimension("x"),p.mapDimension("y"),p.mapDimension("value")]:[p.mapDimension("time"),p.mapDimension("value")],k=n;k<r;k++){var D=void 0,T=p.getItemVisual(k,"style");if(c){var I=p.get(C[0],k),A=p.get(C[1],k);if(isNaN(p.get(C[2],k))||I<s[0]||I>s[1]||A<u[0]||A>u[1])continue;var M=l.dataToPoint([I,A]);D=new lt.Z({shape:{x:M[0]-a/2,y:M[1]-o/2,width:a,height:o},style:T})}else{if(isNaN(p.get(C[1],k)))continue;D=new lt.Z({z2:1,shape:l.dataToRect([p.get(C[0],k)]).contentShape,style:T})}if(p.hasItemOption){var E=p.getItemModel(k),N=E.getModel("emphasis");m=N.getModel("itemStyle").getItemStyle(),g=E.getModel(["blur","itemStyle"]).getItemStyle(),v=E.getModel(["select","itemStyle"]).getItemStyle(),y=E.get(["itemStyle","borderRadius"]),w=N.get("focus"),_=N.get("blurScope"),S=N.get("disabled"),x=(0,ze.k3)(E)}D.shape.r=y;var R=e.getRawValue(k),P="-";R&&null!=R[2]&&(P=R[2]+""),(0,ze.ni)(D,x,{labelFetcher:e,labelDataIndex:k,defaultOpacity:T.opacity,defaultText:P}),D.ensureState("emphasis").style=m,D.ensureState("blur").style=g,D.ensureState("select").style=v,(0,Le.k5)(D,w,_,S),D.incremental=i,i&&(D.states.emphasis.hoverLayer=!0),h.add(D),p.setItemGraphicEl(k,D),this._progressiveEls&&this._progressiveEls.push(D)}},t.prototype._renderOnGeo=function(e,t,n,r){var i=n.targetVisuals.inRange,a=n.targetVisuals.outOfRange,o=t.getData(),u=this._hmLayer||this._hmLayer||new Kf;u.blurSize=t.get("blurSize"),u.pointSize=t.get("pointSize"),u.minOpacity=t.get("minOpacity"),u.maxOpacity=t.get("maxOpacity");var l=e.getViewRect().clone(),c=e.getRoamTransform();l.applyTransform(c);var d=Math.max(l.x,0),f=Math.max(l.y,0),h=Math.min(l.width+l.x,r.getWidth()),p=Math.min(l.height+l.y,r.getHeight()),m=h-d,g=p-f,v=[o.mapDimension("lng"),o.mapDimension("lat"),o.mapDimension("value")],x=o.mapArray(v,(function(t,n,r){var i=e.dataToPoint([t,n]);return i[0]-=d,i[1]-=f,i.push(r),i})),b=n.getExtent(),w="visualMap.continuous"===n.type?function(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(e){return e>=t[0]&&e<=t[1]}}(b,n.option.range):function(e,t,n){var r=e[1]-e[0],i=(t=y.map(t,(function(t){return{interval:[(t.interval[0]-e[0])/r,(t.interval[1]-e[0])/r]}}))).length,a=0;return function(e){var r;for(r=a;r<i;r++)if((o=t[r].interval)[0]<=e&&e<=o[1]){a=r;break}if(r===i)for(r=a-1;r>=0;r--){var o;if((o=t[r].interval)[0]<=e&&e<=o[1]){a=r;break}}return r>=0&&r<i&&n[r]}}(b,n.getPieceList(),n.option.selected);u.update(x,m,g,i.color.getNormalizer(),{inRange:i.color.getColorMapper(),outOfRange:a.color.getColorMapper()},w);var _=new s.ZP({style:{width:m,height:g,x:d,y:f,image:u.canvas},silent:!0});this.group.add(_)},t.type="heatmap",t}(ut.Z),$f=Jf,eh=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.getInitialData=function(e,t){return(0,Te.Z)(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=fl.Z.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(Ie.Z),th=eh;var nh=["itemStyle","borderWidth"],rh=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],ih=new Ci.Z,ah=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n){var r=this.group,i=e.getData(),a=this._data,o=e.coordinateSystem,s=o.getBaseAxis().isHorizontal(),u=o.master.getRect(),l={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:o,coordSysExtent:[[u.x,u.x+u.width],[u.y,u.y+u.height]],isHorizontal:s,valueDim:rh[+s],categoryDim:rh[1-+s]};return i.diff(a).add((function(e){if(i.hasValue(e)){var t=hh(i,e),n=oh(i,e,t,l),a=gh(i,l,n);i.setItemGraphicEl(e,a),r.add(a),wh(a,l,n)}})).update((function(e,t){var n=a.getItemGraphicEl(t);if(i.hasValue(e)){var o=hh(i,e),s=oh(i,e,o,l),u=yh(i,s);n&&u!==n.__pictorialShapeStr&&(r.remove(n),i.setItemGraphicEl(e,null),n=null),n?function(e,t,n){var r=n.animationModel,i=n.dataIndex,a=e.__pictorialBundle;Pe.D(a,{x:n.bundlePosition[0],y:n.bundlePosition[1]},r,i),n.symbolRepeat?lh(e,t,n,!0):ch(e,t,n,!0);dh(e,n,!0),fh(e,t,n,!0)}(n,l,s):n=gh(i,l,s,!0),i.setItemGraphicEl(e,n),n.__pictorialSymbolMeta=s,r.add(n),wh(n,l,s)}else r.remove(n)})).remove((function(e){var t=a.getItemGraphicEl(e);t&&vh(a,e,t.__pictorialSymbolMeta.animationModel,t)})).execute(),this._data=i,this.group},t.prototype.remove=function(e,t){var n=this.group,r=this._data;e.get("animation")?r&&r.eachItemGraphicEl((function(t){vh(r,(0,Oe.A)(t).dataIndex,e,t)})):n.removeAll()},t.type="pictorialBar",t}(ut.Z);function oh(e,t,n,r){var i=e.getItemLayout(t),a=n.get("symbolRepeat"),o=n.get("symbolClip"),s=n.get("symbolPosition")||"start",u=(n.get("symbolRotate")||0)*Math.PI/180||0,l=n.get("symbolPatternSize")||2,c=n.isAnimationEnabled(),d={dataIndex:t,layout:i,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:o,symbolRepeat:a,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:l,rotation:u,animationModel:c?n:null,hoverScale:c&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};!function(e,t,n,r,i){var a,o=r.valueDim,s=e.get("symbolBoundingData"),u=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),l=u.toGlobalCoord(u.dataToCoord(0)),c=1-+(n[o.wh]<=0);if(y.isArray(s)){var d=[sh(u,s[0])-l,sh(u,s[1])-l];d[1]<d[0]&&d.reverse(),a=d[c]}else a=null!=s?sh(u,s)-l:t?r.coordSysExtent[o.index][c]-l:n[o.wh];i.boundingLength=a,t&&(i.repeatCutLength=n[o.wh]);i.pxSign=a>0?1:-1}(n,a,i,r,d),function(e,t,n,r,i,a,o,s,u,l){var c,d=u.valueDim,f=u.categoryDim,h=Math.abs(n[f.wh]),p=e.getItemVisual(t,"symbolSize");c=y.isArray(p)?p.slice():null==p?["100%","100%"]:[p,p];c[f.index]=(0,dt.GM)(c[f.index],h),c[d.index]=(0,dt.GM)(c[d.index],r?h:Math.abs(a)),l.symbolSize=c,(l.symbolScale=[c[0]/s,c[1]/s])[d.index]*=(u.isHorizontal?-1:1)*o}(e,t,i,a,0,d.boundingLength,d.pxSign,l,r,d),function(e,t,n,r,i){var a=e.get(nh)||0;a&&(ih.attr({scaleX:t[0],scaleY:t[1],rotation:n}),ih.updateTransform(),a/=ih.getLineScale(),a*=t[r.valueDim.index]);i.valueLineWidth=a||0}(n,d.symbolScale,u,r,d);var f=d.symbolSize,h=(0,Ae.Cq)(n.get("symbolOffset"),f);return function(e,t,n,r,i,a,o,s,u,l,c,d){var f=c.categoryDim,h=c.valueDim,p=d.pxSign,m=Math.max(t[h.index]+s,0),g=m;if(r){var v=Math.abs(u),x=y.retrieve(e.get("symbolMargin"),"15%")+"",b=!1;x.lastIndexOf("!")===x.length-1&&(b=!0,x=x.slice(0,x.length-1));var w=(0,dt.GM)(x,t[h.index]),_=Math.max(m+2*w,0),S=b?0:2*w,C=(0,dt.kE)(r),k=C?r:_h((v+S)/_);_=m+2*(w=(v-k*m)/2/(b?k:Math.max(k-1,1))),S=b?0:2*w,C||"fixed"===r||(k=l?_h((Math.abs(l)+S)/_):0),g=k*_-S,d.repeatTimes=k,d.symbolMargin=w}var D=p*(g/2),T=d.pathPosition=[];T[f.index]=n[f.wh]/2,T[h.index]="start"===o?D:"end"===o?u-D:u/2,a&&(T[0]+=a[0],T[1]+=a[1]);var I=d.bundlePosition=[];I[f.index]=n[f.xy],I[h.index]=n[h.xy];var A=d.barRectShape=y.extend({},n);A[h.wh]=p*Math.max(Math.abs(n[h.wh]),Math.abs(T[h.index]+D)),A[f.wh]=n[f.wh];var M=d.clipShape={};M[f.xy]=-n[f.xy],M[f.wh]=c.ecSize[f.wh],M[h.xy]=0,M[h.wh]=n[h.wh]}(n,f,i,a,0,h,s,d.valueLineWidth,d.boundingLength,d.repeatCutLength,r,d),d}function sh(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function uh(e){var t=e.symbolPatternSize,n=(0,Ae.th)(e.symbolType,-t/2,-t/2,t,t);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function lh(e,t,n,r){var i=e.__pictorialBundle,a=n.symbolSize,o=n.valueLineWidth,s=n.pathPosition,u=t.valueDim,l=n.repeatTimes||0,c=0,d=a[t.valueDim.index]+o+2*n.symbolMargin;for(xh(e,(function(e){e.__pictorialAnimationIndex=c,e.__pictorialRepeatTimes=l,c<l?bh(e,null,p(c),n,r):bh(e,null,{scaleX:0,scaleY:0},n,r,(function(){i.remove(e)})),c++}));c<l;c++){var f=uh(n);f.__pictorialAnimationIndex=c,f.__pictorialRepeatTimes=l,i.add(f);var h=p(c);bh(f,{x:h.x,y:h.y,scaleX:0,scaleY:0},{scaleX:h.scaleX,scaleY:h.scaleY,rotation:h.rotation},n,r)}function p(e){var t=s.slice(),r=n.pxSign,i=e;return("start"===n.symbolRepeatDirection?r>0:r<0)&&(i=l-1-e),t[u.index]=d*(i-l/2+.5)+s[u.index],{x:t[0],y:t[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function ch(e,t,n,r){var i=e.__pictorialBundle,a=e.__pictorialMainPath;a?bh(a,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,r):(a=e.__pictorialMainPath=uh(n),i.add(a),bh(a,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,r))}function dh(e,t,n){var r=y.extend({},t.barRectShape),i=e.__pictorialBarRect;i?bh(i,null,{shape:r},t,n):((i=e.__pictorialBarRect=new lt.Z({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,e.add(i))}function fh(e,t,n,r){if(n.symbolClip){var i=e.__pictorialClipPath,a=y.extend({},n.clipShape),o=t.valueDim,s=n.animationModel,u=n.dataIndex;if(i)Pe.D(i,{shape:a},s,u);else{a[o.wh]=0,i=new lt.Z({shape:a}),e.__pictorialBundle.setClipPath(i),e.__pictorialClipPath=i;var l={};l[o.wh]=n.clipShape[o.wh],Re[r?"updateProps":"initProps"](i,{shape:l},s,u)}}}function hh(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=ph,n.isAnimationEnabled=mh,n}function ph(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function mh(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function gh(e,t,n,r){var i=new Me.Z,a=new Me.Z;return i.add(a),i.__pictorialBundle=a,a.x=n.bundlePosition[0],a.y=n.bundlePosition[1],n.symbolRepeat?lh(i,t,n):ch(i,0,n),dh(i,n,r),fh(i,t,n,r),i.__pictorialShapeStr=yh(e,n),i.__pictorialSymbolMeta=n,i}function vh(e,t,n,r){var i=r.__pictorialBarRect;i&&i.removeTextContent();var a=[];xh(r,(function(e){a.push(e)})),r.__pictorialMainPath&&a.push(r.__pictorialMainPath),r.__pictorialClipPath&&(n=null),y.each(a,(function(e){Pe.bX(e,{scaleX:0,scaleY:0},n,t,(function(){r.parent&&r.parent.remove(r)}))})),e.setItemGraphicEl(t,null)}function yh(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function xh(e,t,n){y.each(e.__pictorialBundle.children(),(function(r){r!==e.__pictorialBarRect&&t.call(n,r)}))}function bh(e,t,n,r,i,a){t&&e.attr(t),r.symbolClip&&!i?n&&e.attr(n):n&&Re[i?"updateProps":"initProps"](e,n,r.animationModel,r.dataIndex,a)}function wh(e,t,n){var r=n.dataIndex,i=n.itemModel,a=i.getModel("emphasis"),o=a.getModel("itemStyle").getItemStyle(),u=i.getModel(["blur","itemStyle"]).getItemStyle(),l=i.getModel(["select","itemStyle"]).getItemStyle(),c=i.getShallow("cursor"),d=a.get("focus"),f=a.get("blurScope"),h=a.get("scale");xh(e,(function(e){if(e instanceof s.ZP){var t=e.style;e.useStyle(y.extend({image:t.image,x:t.x,y:t.y,width:t.width,height:t.height},n.style))}else e.useStyle(n.style);var r=e.ensureState("emphasis");r.style=o,h&&(r.scaleX=1.1*e.scaleX,r.scaleY=1.1*e.scaleY),e.ensureState("blur").style=u,e.ensureState("select").style=l,c&&(e.cursor=c),e.z2=n.z2}));var p=t.valueDim.posDesc[+(n.boundingLength>0)],m=e.__pictorialBarRect;(0,ze.ni)(m,(0,ze.k3)(i),{labelFetcher:t.seriesModel,labelDataIndex:r,defaultText:Ze(t.seriesModel.getData(),r),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:p}),(0,Le.k5)(e,d,f,a.get("disabled"))}function _h(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var Sh=ah,Ch=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return(0,De.ZT)(t,e),t.prototype.getInitialData=function(t){return t.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=(0,Zt.ZL)(Ft.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(Ft),kh=Ch;var Dh=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._layers=[],n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n){var r=e.getData(),i=this,a=this.group,o=e.getLayerSeries(),s=r.getLayout("layoutInfo"),u=s.rect,l=s.boundaryGap;function c(e){return e.name}a.x=0,a.y=u.y+l[0];var d=new ps.Z(this._layersSeries||[],o,c,c),f=[];function h(t,n,s){var u=i._layers;if("remove"!==t){for(var l,c,d=[],h=[],p=o[n].indices,m=0;m<p.length;m++){var g=r.getItemLayout(p[m]),v=g.x,y=g.y0,x=g.y;d.push(v,y),h.push(v,y+x),l=r.getItemVisual(p[m],"style")}var b=r.getItemLayout(p[0]),w=e.getModel("label").get("margin"),_=e.getModel("emphasis");if("add"===t){var S=f[n]=new Me.Z;c=new st({shape:{points:d,stackedOnPoints:h,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),S.add(c),a.add(S),e.isAnimationEnabled()&&c.setClipPath(function(e,t,n){var r=new lt.Z({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Pe.KZ(r,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,n),r}(c.getBoundingRect(),e,(function(){c.removeClipPath()})))}else{S=u[s];c=S.childAt(0),a.add(S),f[n]=S,Pe.D(c,{shape:{points:d,stackedOnPoints:h}},e),(0,Pe.Zi)(c)}(0,ze.ni)(c,(0,ze.k3)(e),{labelDataIndex:p[m-1],defaultText:r.getName(p[m-1]),inheritColor:l.fill},{normal:{verticalAlign:"middle"}}),c.setTextConfig({position:null,local:!0});var C=c.getTextContent();C&&(C.x=b.x-w,C.y=b.y0+b.y/2),c.useStyle(l),r.setItemGraphicEl(n,c),(0,Le.WO)(c,e),(0,Le.k5)(c,_.get("focus"),_.get("blurScope"),_.get("disabled"))}else a.remove(u[n])}d.add((0,y.bind)(h,this,"add")).update((0,y.bind)(h,this,"update")).remove((0,y.bind)(h,this,"remove")).execute(),this._layersSeries=o,this._layers=f},t.type="themeRiver",t}(ut.Z);var Th=Dh,Ih=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new Zn(y.bind(this.getData,this),y.bind(this.getRawData,this))},t.prototype.fixData=function(e){var t=e.length,n={},r=(0,Je.pv)(e,(function(e){return n.hasOwnProperty(e[0]+"")||(n[e[0]+""]=-1),e[2]})),i=[];r.buckets.each((function(e,t){i.push({name:t,dataList:e})}));for(var a=i.length,o=0;o<a;++o){for(var s=i[o].name,u=0;u<i[o].dataList.length;++u){var l=i[o].dataList[u][0]+"";n[l]=o}for(var l in n)n.hasOwnProperty(l)&&n[l]!==o&&(n[l]=o,e[t]=[l,0,s],t++)}return e},t.prototype.getInitialData=function(e,t){for(var n=this.getReferringComponents("singleAxis",Je.C6).models[0].get("type"),r=y.filter(e.data,(function(e){return void 0!==e[2]})),i=this.fixData(r||[]),a=[],o=this.nameMap=y.createHashMap(),s=0,u=0;u<i.length;++u)a.push(i[u][2]),o.get(i[u][2])||(o.set(i[u][2],s),s++);var l=(0,Pn.Z)(i,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:(0,Nd.T)(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,c=new On.Z(l,this);return c.initData(i),c},t.prototype.getLayerSeries=function(){for(var e=this.getData(),t=e.count(),n=[],r=0;r<t;++r)n[r]=r;var i=e.mapDimension("single"),a=(0,Je.pv)(n,(function(t){return e.get("name",t)})),o=[];return a.buckets.each((function(t,n){t.sort((function(t,n){return e.get(i,t)-e.get(i,n)})),o.push({name:n,indices:t})})),o},t.prototype.getAxisTooltipData=function(e,t,n){y.isArray(e)||(e=e?[e]:[]);for(var r,i=this.getData(),a=this.getLayerSeries(),o=[],s=a.length,u=0;u<s;++u){for(var l=Number.MAX_VALUE,c=-1,d=a[u].indices.length,f=0;f<d;++f){var h=i.get(e[0],a[u].indices[f]),p=Math.abs(h-t);p<=l&&(r=h,l=p,c=a[u].indices[f])}o.push(c)}return{dataIndices:o,nestestValue:r}},t.prototype.formatTooltip=function(e,t,n){var r=this.getData(),i=r.getName(e),a=r.get(r.mapDimension("value"),e);return(0,vi.TX)("nameValue",{name:i,value:a})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(Ie.Z),Ah=Ih;function Mh(e,t){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData(),n=e.coordinateSystem,r={},i=n.getRect();r.rect=i;var a=e.get("boundaryGap"),o=n.getAxis();(r.boundaryGap=a,"horizontal"===o.orient)?(a[0]=dt.GM(a[0],i.height),a[1]=dt.GM(a[1],i.height),Eh(t,e,i.height-a[0]-a[1])):(a[0]=dt.GM(a[0],i.width),a[1]=dt.GM(a[1],i.width),Eh(t,e,i.width-a[0]-a[1]));t.setLayout("layoutInfo",r)}))}function Eh(e,t,n){if(e.count())for(var r,i=t.coordinateSystem,a=t.getLayerSeries(),o=e.mapDimension("single"),s=e.mapDimension("value"),u=y.map(a,(function(t){return y.map(t.indices,(function(t){var n=i.dataToPoint(e.get(o,t));return n[1]=e.get(s,t),n}))})),l=function(e){for(var t=e.length,n=e[0].length,r=[],i=[],a=0,o=0;o<n;++o){for(var s=0,u=0;u<t;++u)s+=e[u][o][1];s>a&&(a=s),r.push(s)}for(var l=0;l<n;++l)i[l]=(a-r[l])/2;a=0;for(var c=0;c<n;++c){var d=r[c]+i[c];d>a&&(a=d)}return{y0:i,max:a}}(u),c=l.y0,d=n/l.max,f=a.length,h=a[0].indices.length,p=0;p<h;++p){r=c[p]*d,e.setItemLayout(a[0].indices[p],{layerIndex:0,x:u[0][p][0],y0:r,y:u[0][p][1]*d});for(var m=1;m<f;++m)r+=u[m-1][p][1]*d,e.setItemLayout(a[m].indices[p],{layerIndex:m,x:u[m][p][0],y0:r,y:u[m][p][1]*d})}}var Nh=function(e){function t(t,n,r,i){var a=e.call(this)||this;a.z2=2,a.textConfig={inside:!0},(0,Oe.A)(a).seriesIndex=n.seriesIndex;var o=new U.ZP({z2:4,silent:t.getModel().get(["label","silent"])});return a.setTextContent(o),a.updateData(!0,t,n,r,i),a}return(0,De.ZT)(t,e),t.prototype.updateData=function(e,t,n,r,i){this.node=t,t.piece=this,n=n||this._seriesModel,r=r||this._ecModel;var a=this;(0,Oe.A)(a).dataIndex=t.dataIndex;var o=t.getModel(),s=o.getModel("emphasis"),u=t.getLayout(),l=y.extend({},u);l.label=null;var c=t.getVisual("style");c.lineJoin="bevel";var d=t.getVisual("decal");d&&(c.decal=(0,La.I)(d,i));var f=Mn(o.getModel("itemStyle"),l,!0);y.extend(l,f),y.each(Le.L1,(function(e){var t=a.ensureState(e),n=o.getModel([e,"itemStyle"]);t.style=n.getItemStyle();var r=Mn(n,l);r&&(t.shape=r)})),e?(a.setShape(l),a.shape.r=u.r0,Pe.D(a,{shape:{r:u.r}},n,t.dataIndex)):(Pe.D(a,{shape:l},n),(0,Pe.Zi)(a)),a.useStyle(c),this._updateLabel(n);var h=o.getShallow("cursor");h&&a.attr("cursor",h),this._seriesModel=n||this._seriesModel,this._ecModel=r||this._ecModel;var p=s.get("focus"),m="ancestor"===p?t.getAncestorsIndices():"descendant"===p?t.getDescendantIndices():p;(0,Le.k5)(this,m,s.get("blurScope"),s.get("disabled"))},t.prototype._updateLabel=function(e){var t=this,n=this.node.getModel(),r=n.getModel("label"),i=this.node.getLayout(),a=i.endAngle-i.startAngle,o=(i.startAngle+i.endAngle)/2,s=Math.cos(o),u=Math.sin(o),l=this,c=l.getTextContent(),d=this.node.dataIndex,f=r.get("minAngle")/180*Math.PI,h=r.get("show")&&!(null!=f&&Math.abs(a)<f);function p(e,t){var n=e.get(t);return null==n?r.get(t):n}c.ignore=!h,y.each(Le.qc,(function(r){var f="normal"===r?n.getModel("label"):n.getModel([r,"label"]),h="normal"===r,m=h?c:c.ensureState(r),g=e.getFormattedLabel(d,r);h&&(g=g||t.node.name),m.style=(0,ze.Lr)(f,{},null,"normal"!==r,!0),g&&(m.style.text=g);var v=f.get("show");null==v||h||(m.ignore=!v);var x,b=p(f,"position"),w=h?l:l.states[r],_=w.style.fill;w.textConfig={outsideFill:"inherit"===f.get("color")?_:null,inside:"outside"!==b};var S=p(f,"distance")||0,C=p(f,"align");"outside"===b?(x=i.r+S,C=o>Math.PI/2?"right":"left"):C&&"center"!==C?"left"===C?(x=i.r0+S,o>Math.PI/2&&(C="right")):"right"===C&&(x=i.r-S,o>Math.PI/2&&(C="left")):(x=a===2*Math.PI&&0===i.r0?0:(i.r+i.r0)/2,C="center"),m.style.align=C,m.style.verticalAlign=p(f,"verticalAlign")||"middle",m.x=x*s+i.cx,m.y=x*u+i.cy;var k=p(f,"rotate"),D=0;"radial"===k?(D=-o)<-Math.PI/2&&(D+=Math.PI):"tangential"===k?(D=Math.PI/2-o)>Math.PI/2?D-=Math.PI:D<-Math.PI/2&&(D+=Math.PI):y.isNumber(k)&&(D=k*Math.PI/180),m.rotation=D})),c.dirtyStyle()},t}(ct.C),Rh=Nh,Ph="sunburstRootToNode",Oh="sunburstHighlight";var Lh=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n,r){var i=this;this.seriesModel=e,this.api=n,this.ecModel=t;var a=e.getData(),o=a.tree.root,s=e.getViewRoot(),u=this.group,l=e.get("renderLabelForZeroData"),c=[];s.eachNode((function(e){c.push(e)}));var d=this._oldChildren||[];!function(r,i){if(0===r.length&&0===i.length)return;function s(e){return e.getId()}function c(s,c){!function(r,i){l||!r||r.getValue()||(r=null);if(r!==o&&i!==o)if(i&&i.piece)r?(i.piece.updateData(!1,r,e,t,n),a.setItemGraphicEl(r.dataIndex,i.piece)):function(e){if(!e)return;e.piece&&(u.remove(e.piece),e.piece=null)}(i);else if(r){var s=new Rh(r,e,t,n);u.add(s),a.setItemGraphicEl(r.dataIndex,s)}}(null==s?null:r[s],null==c?null:i[c])}new ps.Z(i,r,s,s).add(c).update(c).remove(y.curry(c,null)).execute()}(c,d),function(r,a){a.depth>0?(i.virtualPiece?i.virtualPiece.updateData(!1,r,e,t,n):(i.virtualPiece=new Rh(r,e,t,n),u.add(i.virtualPiece)),a.piece.off("click"),i.virtualPiece.on("click",(function(e){i._rootToNode(a.parentNode)}))):i.virtualPiece&&(u.remove(i.virtualPiece),i.virtualPiece=null)}(o,s),this._initEvents(),this._oldChildren=c},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",(function(t){var n=!1;e.seriesModel.getViewRoot().eachNode((function(r){if(!n&&r.piece&&r.piece===t.target){var i=r.getModel().get("nodeClick");if("rootToNode"===i)e._rootToNode(r);else if("link"===i){var a=r.getModel(),o=a.get("link");if(o){var s=a.get("target",!0)||"_blank";(0,gt.MI)(o,s)}}n=!0}}))}))},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Ph,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,t){var n=t.getData().getItemLayout(0);if(n){var r=e[0]-n.cx,i=e[1]-n.cy,a=Math.sqrt(r*r+i*i);return a<=n.r&&a>=n.r0}},t.type="sunburst",t}(ut.Z),Fh=Lh,Zh=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreStyleOnData=!0,n}return(0,De.ZT)(t,e),t.prototype.getInitialData=function(e,t){var n={name:e.name,children:e.data};Bh(n);var r=this._levelModels=y.map(e.levels||[],(function(e){return new Pr.Z(e,this,t)}),this),i=Jo.createTree(n,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=i.getNodeByDataIndex(t),a=r[n.depth];return a&&(e.parentModel=a),e}))}));return i.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return n.treePathInfo=ns(r,this),n},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){cs(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(Ie.Z);function Bh(e){var t=0;y.each(e.children,(function(e){Bh(e);var n=e.value;y.isArray(n)&&(n=n[0]),t+=n}));var n=e.value;y.isArray(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),y.isArray(e.value)?e.value[0]=n:e.value=n}var zh=Zh,Vh=Math.PI/180;function jh(e,t,n){t.eachSeriesByType(e,(function(e){var t=e.get("center"),r=e.get("radius");y.isArray(r)||(r=[0,r]),y.isArray(t)||(t=[t,t]);var i=n.getWidth(),a=n.getHeight(),o=Math.min(i,a),s=(0,dt.GM)(t[0],i),u=(0,dt.GM)(t[1],a),l=(0,dt.GM)(r[0],o/2),c=(0,dt.GM)(r[1],o/2),d=-e.get("startAngle")*Vh,f=e.get("minAngle")*Vh,h=e.getData().tree.root,p=e.getViewRoot(),m=p.depth,g=e.get("sort");null!=g&&Wh(p,g);var v=0;y.each(p.children,(function(e){!isNaN(e.getValue())&&v++}));var x=p.getValue(),b=Math.PI/(x||v)*2,w=p.depth>0,_=p.height-(w?-1:1),S=(c-l)/(_||1),C=e.get("clockwise"),k=e.get("stillShowZeroSum"),D=C?1:-1;if(w){var T=l,I=l+S,A=2*Math.PI;h.setLayout({angle:A,startAngle:d,endAngle:d+A,clockwise:C,cx:s,cy:u,r0:T,r:I})}!function t(n,r){if(n){var i=r;if(n!==h){var a=n.getValue(),c=0===x&&k?b:a*b;c<f&&(c=f),i=r+D*c;var d=n.depth-m-(w?-1:1),p=l+S*d,g=l+S*(d+1),v=e.getLevelModel(n);if(v){var _=v.get("r0",!0),T=v.get("r",!0),I=v.get("radius",!0);null!=I&&(_=I[0],T=I[1]),null!=_&&(p=(0,dt.GM)(_,o/2)),null!=T&&(g=(0,dt.GM)(T,o/2))}n.setLayout({angle:c,startAngle:r,endAngle:i,clockwise:C,cx:s,cy:u,r0:p,r:g})}if(n.children&&n.children.length){var A=0;y.each(n.children,(function(e){A+=t(e,r+A)}))}return i-r}}(p,d)}))}function Wh(e,t){var n=e.children||[];e.children=function(e,t){if(y.isFunction(t)){var n=y.map(e,(function(e,t){var n=e.getValue();return{params:{depth:e.depth,height:e.height,dataIndex:e.dataIndex,getValue:function(){return n}},index:t}}));return n.sort((function(e,n){return t(e.params,n.params)})),y.map(n,(function(t){return e[t.index]}))}var r="asc"===t;return e.sort((function(e,t){var n=(e.getValue()-t.getValue())*(r?1:-1);return 0===n?(e.dataIndex-t.dataIndex)*(r?-1:1):n}))}(n,t),n.length&&y.each(e.children,(function(e){Wh(e,t)}))}function Uh(e){var t={};e.eachSeriesByType("sunburst",(function(e){var n=e.getData(),r=n.tree;r.eachNode((function(i){var a=i.getModel().getModel("itemStyle").getItemStyle();a.fill||(a.fill=function(e,n,r){for(var i=e;i&&i.depth>1;)i=i.parentNode;var a=n.getColorFromPalette(i.name||i.dataIndex+"",t);return e.depth>1&&(0,y.isString)(a)&&(a=(0,vt.lift)(a,(e.depth-1)/(r-1)*.5)),a}(i,e,r.root.height));var o=n.ensureUniqueItemVisual(i.dataIndex,"style");(0,y.extend)(o,a)}))}))}var Hh={color:"fill",borderColor:"stroke"},Gh={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Xh=(0,Je.Yf)(),qh=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,t){return(0,Te.Z)(null,this)},t.prototype.getDataParams=function(t,n,r){var i=e.prototype.getDataParams.call(this,t,n);return r&&(i.info=Xh(r).info),i},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(Ie.Z),Yh=qh;function Kh(e,t){return t=t||[0,0],y.map(["x","y"],(function(n,r){var i=this.getAxis(n),a=t[r],o=e[r]/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(a-o)-i.dataToCoord(a+o))}),this)}function Qh(e,t){return t=t||[0,0],y.map([0,1],(function(n){var r=t[n],i=e[n]/2,a=[],o=[];return a[n]=r-i,o[n]=r+i,a[1-n]=o[1-n]=t[1-n],Math.abs(this.dataToPoint(a)[n]-this.dataToPoint(o)[n])}),this)}function Jh(e,t){var n=this.getAxis(),r=t instanceof Array?t[0]:t,i=(e instanceof Array?e[0]:e)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(r-i)-n.dataToCoord(r+i))}function $h(e,t){return t=t||[0,0],y.map(["Radius","Angle"],(function(n,r){var i=this["get"+n+"Axis"](),a=t[r],o=e[r]/2,s="category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(a-o)-i.dataToCoord(a+o));return"Angle"===n&&(s=s*Math.PI/180),s}),this)}function ep(e,t,n,r){return e&&(e.legacy||!1!==e.legacy&&!n&&!r&&"tspan"!==t&&("text"===t||(0,y.hasOwn)(e,"text")))}function tp(e,t,n){var r,i,a,o=e;if("text"===t)a=o;else{a={},(0,y.hasOwn)(o,"text")&&(a.text=o.text),(0,y.hasOwn)(o,"rich")&&(a.rich=o.rich),(0,y.hasOwn)(o,"textFill")&&(a.fill=o.textFill),(0,y.hasOwn)(o,"textStroke")&&(a.stroke=o.textStroke),(0,y.hasOwn)(o,"fontFamily")&&(a.fontFamily=o.fontFamily),(0,y.hasOwn)(o,"fontSize")&&(a.fontSize=o.fontSize),(0,y.hasOwn)(o,"fontStyle")&&(a.fontStyle=o.fontStyle),(0,y.hasOwn)(o,"fontWeight")&&(a.fontWeight=o.fontWeight),i={type:"text",style:a,silent:!0},r={};var s=(0,y.hasOwn)(o,"textPosition");n?r.position=s?o.textPosition:"inside":s&&(r.position=o.textPosition),(0,y.hasOwn)(o,"textPosition")&&(r.position=o.textPosition),(0,y.hasOwn)(o,"textOffset")&&(r.offset=o.textOffset),(0,y.hasOwn)(o,"textRotation")&&(r.rotation=o.textRotation),(0,y.hasOwn)(o,"textDistance")&&(r.distance=o.textDistance)}return np(a,e),(0,y.each)(a.rich,(function(e){np(e,e)})),{textConfig:r,textContent:i}}function np(e,t){t&&(t.font=t.textFont||t.font,(0,y.hasOwn)(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),(0,y.hasOwn)(t,"textAlign")&&(e.align=t.textAlign),(0,y.hasOwn)(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),(0,y.hasOwn)(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),(0,y.hasOwn)(t,"textWidth")&&(e.width=t.textWidth),(0,y.hasOwn)(t,"textHeight")&&(e.height=t.textHeight),(0,y.hasOwn)(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),(0,y.hasOwn)(t,"textPadding")&&(e.padding=t.textPadding),(0,y.hasOwn)(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),(0,y.hasOwn)(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),(0,y.hasOwn)(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),(0,y.hasOwn)(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),(0,y.hasOwn)(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),(0,y.hasOwn)(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),(0,y.hasOwn)(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}function rp(e,t,n){var r=e;r.textPosition=r.textPosition||n.position||"inside",null!=n.offset&&(r.textOffset=n.offset),null!=n.rotation&&(r.textRotation=n.rotation),null!=n.distance&&(r.textDistance=n.distance);var i=r.textPosition.indexOf("inside")>=0,a=e.fill||"#000";ip(r,t);var o=null==r.textFill;return i?o&&(r.textFill=n.insideFill||"#fff",!r.textStroke&&n.insideStroke&&(r.textStroke=n.insideStroke),!r.textStroke&&(r.textStroke=a),null==r.textStrokeWidth&&(r.textStrokeWidth=2)):(o&&(r.textFill=e.fill||n.outsideFill||"#000"),!r.textStroke&&n.outsideStroke&&(r.textStroke=n.outsideStroke)),r.text=t.text,r.rich=t.rich,(0,y.each)(t.rich,(function(e){ip(e,e)})),r}function ip(e,t){t&&((0,y.hasOwn)(t,"fill")&&(e.textFill=t.fill),(0,y.hasOwn)(t,"stroke")&&(e.textStroke=t.fill),(0,y.hasOwn)(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth),(0,y.hasOwn)(t,"font")&&(e.font=t.font),(0,y.hasOwn)(t,"fontStyle")&&(e.fontStyle=t.fontStyle),(0,y.hasOwn)(t,"fontWeight")&&(e.fontWeight=t.fontWeight),(0,y.hasOwn)(t,"fontSize")&&(e.fontSize=t.fontSize),(0,y.hasOwn)(t,"fontFamily")&&(e.fontFamily=t.fontFamily),(0,y.hasOwn)(t,"align")&&(e.textAlign=t.align),(0,y.hasOwn)(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign),(0,y.hasOwn)(t,"lineHeight")&&(e.textLineHeight=t.lineHeight),(0,y.hasOwn)(t,"width")&&(e.textWidth=t.width),(0,y.hasOwn)(t,"height")&&(e.textHeight=t.height),(0,y.hasOwn)(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor),(0,y.hasOwn)(t,"padding")&&(e.textPadding=t.padding),(0,y.hasOwn)(t,"borderColor")&&(e.textBorderColor=t.borderColor),(0,y.hasOwn)(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth),(0,y.hasOwn)(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius),(0,y.hasOwn)(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor),(0,y.hasOwn)(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur),(0,y.hasOwn)(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX),(0,y.hasOwn)(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY),(0,y.hasOwn)(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor),(0,y.hasOwn)(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur),(0,y.hasOwn)(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX),(0,y.hasOwn)(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY))}var ap=n(14963),op={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},sp=(0,y.keys)(op),up=((0,y.reduce)(N.dN,(function(e,t){return e[t]=1,e}),{}),N.dN.join(", "),["","style","shape","extra"]),lp=(0,Je.Yf)();function cp(e,t,n,r,i){var a=e+"Animation",o=(0,Pe.ke)(e,r,i)||{},s=lp(t).userDuring;return o.duration>0&&(o.during=s?(0,y.bind)(vp,{el:t,userDuring:s}):null,o.setToFinal=!0,o.scope=e),(0,y.extend)(o,n[a]),o}function dp(e,t,n,r){var i=(r=r||{}).dataIndex,a=r.isInit,s=r.clearStyle,u=n.isAnimationEnabled(),l=lp(e),c=t.style;l.userDuring=t.during;var d={},f={};if(function(e,t,n){for(var r=0;r<sp.length;r++){var i=sp[r],a=op[i],o=t[i];o&&(n[a[0]]=o[0],n[a[1]]=o[1])}for(r=0;r<N.dN.length;r++){var s=N.dN[r];null!=t[s]&&(n[s]=t[s])}}(0,t,f),xp("shape",t,f),xp("extra",t,f),!a&&u&&(function(e,t,n){for(var r=t.transition,i=pp(r)?N.dN:(0,Je.kF)(r||[]),a=0;a<i.length;a++){var o=i[a];if("style"!==o&&"shape"!==o&&"extra"!==o){var s=e[o];0,n[o]=s}}}(e,t,d),yp("shape",e,t,d),yp("extra",e,t,d),function(e,t,n,r){if(!n)return;var i,a=e.style;if(a){var o=n.transition,s=t.transition;if(o&&!pp(o)){var u=(0,Je.kF)(o);!i&&(i=r.style={});for(var l=0;l<u.length;l++){var c=a[p=u[l]];i[p]=c}}else if(e.getAnimationStyleProps&&(pp(s)||pp(o)||(0,y.indexOf)(s,"style")>=0)){var d=e.getAnimationStyleProps(),f=d?d.style:null;if(f){!i&&(i=r.style={});var h=(0,y.keys)(n);for(l=0;l<h.length;l++){var p;if(f[p=h[l]]){c=a[p];i[p]=c}}}}}}(e,t,c,d)),f.style=c,function(e,t,n){var r=t.style;if(!e.isGroup&&r){if(n){e.useStyle({});for(var i=e.animators,a=0;a<i.length;a++){var o=i[a];"style"===o.targetName&&o.changeTarget(e.style)}}e.setStyle(r)}t&&(t.style=null,t&&e.attr(t),t.style=r)}(e,f,s),function(e,t){(0,y.hasOwn)(t,"silent")&&(e.silent=t.silent),(0,y.hasOwn)(t,"ignore")&&(e.ignore=t.ignore),e instanceof Fa.ZP&&(0,y.hasOwn)(t,"invisible")&&(e.invisible=t.invisible);e instanceof o.ZP&&(0,y.hasOwn)(t,"autoBatch")&&(e.autoBatch=t.autoBatch)}(e,t),u)if(a){var h={};(0,y.each)(up,(function(e){var n=e?t[e]:t;n&&n.enterFrom&&(e&&(h[e]=h[e]||{}),(0,y.extend)(e?h[e]:h,n.enterFrom))}));var p=cp("enter",e,t,n,i);p.duration>0&&e.animateFrom(h,p)}else!function(e,t,n,r,i){if(i){var a=cp("update",e,t,r,n);a.duration>0&&e.animateFrom(i,a)}}(e,t,i||0,n,d);fp(e,t),c?e.dirty():e.markRedraw()}function fp(e,t){for(var n=lp(e).leaveToProps,r=0;r<up.length;r++){var i=up[r],a=i?t[i]:t;a&&a.leaveTo&&(n||(n=lp(e).leaveToProps={}),i&&(n[i]=n[i]||{}),(0,y.extend)(i?n[i]:n,a.leaveTo))}}function hp(e,t,n,r){if(e){var i=e.parent,a=lp(e).leaveToProps;if(a){var o=cp("update",e,t,n,0);o.done=function(){i.remove(e),r&&r()},e.animateTo(a,o)}else i.remove(e),r&&r()}}function pp(e){return"all"===e}var mp={},gp={setTransform:function(e,t){return mp.el[e]=t,this},getTransform:function(e){return mp.el[e]},setShape:function(e,t){var n=mp.el;return(n.shape||(n.shape={}))[e]=t,n.dirtyShape&&n.dirtyShape(),this},getShape:function(e){var t=mp.el.shape;if(t)return t[e]},setStyle:function(e,t){var n=mp.el,r=n.style;return r&&(r[e]=t,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(e){var t=mp.el.style;if(t)return t[e]},setExtra:function(e,t){return(mp.el.extra||(mp.el.extra={}))[e]=t,this},getExtra:function(e){var t=mp.el.extra;if(t)return t[e]}};function vp(){var e=this,t=e.el;if(t){var n=lp(t).userDuring,r=e.userDuring;n===r?(mp.el=t,r(gp)):e.el=e.userDuring=null}}function yp(e,t,n,r){var i=n[e];if(i){var a,o=t[e];if(o){var s=n.transition,u=i.transition;if(u)if(!a&&(a=r[e]={}),pp(u))(0,y.extend)(a,o);else for(var l=(0,Je.kF)(u),c=0;c<l.length;c++){var d=o[h=l[c]];a[h]=d}else if(pp(s)||(0,y.indexOf)(s,e)>=0){!a&&(a=r[e]={});var f=(0,y.keys)(o);for(c=0;c<f.length;c++){var h;d=o[h=f[c]];bp(i[h],d)&&(a[h]=d)}}}}}function xp(e,t,n){var r=t[e];if(r)for(var i=n[e]={},a=(0,y.keys)(r),o=0;o<a.length;o++){var s=a[o];i[s]=(0,ap.V)(r[s])}}function bp(e,t){return(0,y.isArrayLike)(e)?e!==t:null!=e&&isFinite(e)}var wp=(0,Je.Yf)(),_p=["percent","easing","shape","style","extra"];function Sp(e){e.stopAnimation("keyframe"),e.attr(wp(e))}function Cp(e,t,n){if(n.isAnimationEnabled()&&t)if((0,y.isArray)(t))(0,y.each)(t,(function(t){Cp(e,t,n)}));else{var r=t.keyframes,i=t.duration;if(n&&null==i){var a=(0,Pe.ke)("enter",n,0);i=a&&a.duration}if(r&&i){var o=wp(e);(0,y.each)(up,(function(n){if(!n||e[n]){var a;r.sort((function(e,t){return e.percent-t.percent})),(0,y.each)(r,(function(r){var s=e.animators,u=n?r[n]:r;if(u){var l=(0,y.keys)(u);if(n||(l=(0,y.filter)(l,(function(e){return(0,y.indexOf)(_p,e)<0}))),l.length){a||((a=e.animate(n,t.loop,!0)).scope="keyframe");for(var c=0;c<s.length;c++)s[c]!==a&&s[c].targetName===a.targetName&&s[c].stopTracks(l);n&&(o[n]=o[n]||{});var d=n?o[n]:o;(0,y.each)(l,(function(t){d[t]=((n?e[n]:e)||{})[t]})),a.whenWithKeys(i*r.percent,u,l,r.easing)}}})),a&&a.delay(t.delay||0).duration(i).start(t.easing)}}))}}}var kp="emphasis",Dp="normal",Tp="blur",Ip="select",Ap=[Dp,kp,Tp,Ip],Mp={normal:["itemStyle"],emphasis:[kp,"itemStyle"],blur:[Tp,"itemStyle"],select:[Ip,"itemStyle"]},Ep={normal:["label"],emphasis:[kp,"label"],blur:[Tp,"label"],select:[Ip,"label"]},Np=["x","y"],Rp={normal:{},emphasis:{},blur:{},select:{}},Pp={cartesian2d:function(e){var t=e.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:y.bind(Kh,e)}}},geo:function(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(t){return e.dataToPoint(t)},size:y.bind(Qh,e)}}},singleAxis:function(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:(0,y.bind)(Jh,e)}}},polar:function(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),r=t.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:r[1],r0:r[0]},api:{coord:function(r){var i=t.dataToRadius(r[0]),a=n.dataToAngle(r[1]),o=e.coordToPoint([i,a]);return o.push(i,a*Math.PI/180),o},size:y.bind($h,e)}}},calendar:function(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(t,n){return e.dataToPoint(t,n)}}}}};function Op(e){return e instanceof o.ZP}function Lp(e){return e instanceof Fa.ZP}var Fp=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n,r){this._progressiveEls=null;var i=this._data,a=e.getData(),o=this.group,s=Wp(e,a,t,n);i||o.removeAll(),a.diff(i).add((function(t){Hp(n,null,t,s(t,r),e,o,a)})).remove((function(t){var n=i.getItemGraphicEl(t);hp(n,Xh(n).option,e)})).update((function(t,u){var l=i.getItemGraphicEl(u);Hp(n,l,t,s(t,r),e,o,a)})).execute();var u=e.get("clip",!0)?pt(e.coordinateSystem,!1,e):null;u?o.setClipPath(u):o.removeClipPath(),this._data=a},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,t,n,r,i){var a=t.getData(),o=Wp(t,a,n,r),s=this._progressiveEls=[];function u(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}for(var l=e.start;l<e.end;l++){var c=Hp(null,null,l,o(l,i),t,this.group,a);c&&(c.traverse(u),s.push(c))}},t.prototype.eachRendered=function(e){Re.traverseElements(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,t,n,r){var i=t.element;if(null==i||n.name===i)return!0;for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===i)return!0;return!1},t.type="custom",t}(ut.Z),Zp=Fp;function Bp(e){var t,n=e.type;if("path"===n){var r=e.shape,i=null!=r.width&&null!=r.height?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,a=em(r);t=Re.makePath(a,null,i,r.layout||"center"),Xh(t).customPathData=a}else if("image"===n)t=new s.ZP({}),Xh(t).customImagePath=e.style.image;else if("text"===n)t=new U.ZP({});else if("group"===n)t=new Me.Z;else{if("compoundPath"===n)throw new Error('"compoundPath" is not supported yet.');var o=Re.getShapeClass(n);if(!o){0,(0,Gd._y)("")}t=new o}return Xh(t).customGraphicType=n,t.name=e.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function zp(e,t,n,r,i,a,o){Sp(t);var s=i&&i.normal.cfg;s&&t.setTextConfig(s),r&&null==r.transition&&(r.transition=Np);var u=r&&r.style;if(u){if("text"===t.type){var l=u;(0,y.hasOwn)(l,"textFill")&&(l.fill=l.textFill),(0,y.hasOwn)(l,"textStroke")&&(l.stroke=l.textStroke)}var c=void 0,d=Op(t)?u.decal:null;e&&d&&(d.dirty=!0,c=(0,La.I)(d,e)),u.__decalPattern=c}Lp(t)&&(u&&(c=u.__decalPattern)&&(u.decal=c));dp(t,r,a,{dataIndex:n,isInit:o,clearStyle:!0}),Cp(t,r.keyframeAnimation,a)}function Vp(e,t,n,r,i){var a=t.isGroup?null:t,o=i&&i[e].cfg;if(a){var s=a.ensureState(e);if(!1===r){var u=a.getState(e);u&&(u.style=null)}else s.style=r||null;o&&(s.textConfig=o),(0,Le.MA)(a)}}function jp(e,t,n){var r=n===Dp,i=r?t:Yp(t,n),a=i?i.z2:null;null!=a&&((r?e:e.ensureState(n)).z2=a||0)}function Wp(e,t,n,r){var i=e.get("renderItem"),a=e.coordinateSystem,o={};a&&(o=a.prepareCustoms?a.prepareCustoms(a):Pp[a.type](a));for(var s,u,l=(0,y.defaults)({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:function(e,n){return null==n&&(n=s),t.getStore().get(t.getDimensionIndex(e||0),n)},style:function(n,r){0;null==r&&(r=s);var i=t.getItemVisual(r,"style"),a=i&&i.fill,o=i&&i.opacity,u=x(r,Dp).getItemStyle();null!=a&&(u.fill=a),null!=o&&(u.opacity=o);var l={inheritColor:(0,y.isString)(a)?a:"#000"},c=b(r,Dp),d=ze.Lr(c,null,l,!1,!0);d.text=c.getShallow("show")?(0,y.retrieve2)(e.getFormattedLabel(r,Dp),Ze(t,r)):null;var f=ze.nC(c,l,!1);return _(n,u),u=rp(u,d,f),n&&w(u,n),u.legacy=!0,u},ordinalRawValue:function(e,n){null==n&&(n=s),e=e||0;var r=t.getDimensionInfo(e);if(!r){var i=t.getDimensionIndex(e);return i>=0?t.getStore().get(i,n):void 0}var a=t.get(r.name,n),o=r&&r.ordinalMeta;return o?o.categories[a]:a},styleEmphasis:function(n,r){0;null==r&&(r=s);var i=x(r,kp).getItemStyle(),a=b(r,kp),o=ze.Lr(a,null,null,!0,!0);o.text=a.getShallow("show")?(0,y.retrieve3)(e.getFormattedLabel(r,kp),e.getFormattedLabel(r,Dp),Ze(t,r)):null;var u=ze.nC(a,null,!0);return _(n,i),i=rp(i,o,u),n&&w(i,n),i.legacy=!0,i},visual:function(e,n){if(null==n&&(n=s),(0,y.hasOwn)(Hh,e)){var r=t.getItemVisual(n,"style");return r?r[Hh[e]]:null}if((0,y.hasOwn)(Gh,e))return t.getItemVisual(n,e)},barLayout:function(e){if("cartesian2d"===a.type){var t=a.getBaseAxis();return(0,Ot.Gk)((0,y.defaults)({axis:t},e))}},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(e){return ze.qT(e,n)}},o.api||{}),c={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:o.coordSys,dataInsideLength:t.count(),encode:Up(e.getData())},d={},f={},h={},p={},m=0;m<Ap.length;m++){var g=Ap[m];h[g]=e.getModel(Mp[g]),p[g]=e.getModel(Ep[g])}function v(e){return e===s?u||(u=t.getItemModel(e)):t.getItemModel(e)}function x(e,n){return t.hasItemOption?e===s?d[n]||(d[n]=v(e).getModel(Mp[n])):v(e).getModel(Mp[n]):h[n]}function b(e,n){return t.hasItemOption?e===s?f[n]||(f[n]=v(e).getModel(Ep[n])):v(e).getModel(Ep[n]):p[n]}return function(e,n){return s=e,u=null,d={},f={},i&&i((0,y.defaults)({dataIndexInside:e,dataIndex:t.getRawIndex(e),actionType:n?n.type:null},c),l)};function w(e,t){for(var n in t)(0,y.hasOwn)(t,n)&&(e[n]=t[n])}function _(e,t){e&&(e.textFill&&(t.textFill=e.textFill),e.textPosition&&(t.textPosition=e.textPosition))}}function Up(e){var t={};return(0,y.each)(e.dimensions,(function(n){var r=e.getDimensionInfo(n);if(!r.isExtraCoord){var i=r.coordDim;(t[i]=t[i]||[])[r.coordDimIndex]=e.getDimensionIndex(n)}})),t}function Hp(e,t,n,r,i,a,o){if(r){var s=Gp(e,t,n,r,i,a);return s&&o.setItemGraphicEl(n,s),s&&(0,Le.k5)(s,r.focus,r.blurScope,r.emphasisDisabled),s}a.remove(t)}function Gp(e,t,n,r,i,a){var o=-1,s=t;t&&Xp(t,r,i)&&(o=(0,y.indexOf)(a.childrenRef(),t),t=null);var u,l,c=!t,d=t;d?d.clearStates():(d=Bp(r),s&&(u=s,(l=d).copyTransform(u),Lp(l)&&Lp(u)&&(l.setStyle(u.style),l.z=u.z,l.z2=u.z2,l.zlevel=u.zlevel,l.invisible=u.invisible,l.ignore=u.ignore,Op(l)&&Op(u)&&l.setShape(u.shape)))),!1===r.morph?d.disableMorphing=!0:d.disableMorphing&&(d.disableMorphing=!1),Rp.normal.cfg=Rp.normal.conOpt=Rp.emphasis.cfg=Rp.emphasis.conOpt=Rp.blur.cfg=Rp.blur.conOpt=Rp.select.cfg=Rp.select.conOpt=null,Rp.isLegacy=!1,function(e,t,n,r,i,a){if(e.isGroup)return;qp(n,null,a),qp(n,kp,a);var o=a.normal.conOpt,s=a.emphasis.conOpt,u=a.blur.conOpt,l=a.select.conOpt;if(null!=o||null!=s||null!=l||null!=u){var c=e.getTextContent();if(!1===o)c&&e.removeTextContent();else{o=a.normal.conOpt=o||{type:"text"},c?c.clearStates():(c=Bp(o),e.setTextContent(c)),zp(null,c,t,o,null,r,i);for(var d=o&&o.style,f=0;f<Ap.length;f++){var h=Ap[f];if(h!==Dp){var p=a[h].conOpt;Vp(h,c,0,Kp(o,p,h),null)}}d?c.dirty():c.markRedraw()}}}(d,n,r,i,c,Rp),function(e,t,n,r,i){var a=n.clipPath;if(!1===a)e&&e.getClipPath()&&e.removeClipPath();else if(a){var o=e.getClipPath();o&&Xp(o,a,r)&&(o=null),o||(o=Bp(a),e.setClipPath(o)),zp(null,o,t,a,null,r,i)}}(d,n,r,i,c),zp(e,d,n,r,Rp,i,c),(0,y.hasOwn)(r,"info")&&(Xh(d).info=r.info);for(var f=0;f<Ap.length;f++){var h=Ap[f];if(h!==Dp){var p=Yp(r,h);Vp(h,d,0,Kp(r,p,h),Rp)}}return function(e,t,n){if(!e.isGroup){var r=e,i=n.currentZ,a=n.currentZLevel;r.z=i,r.zlevel=a;var o=t.z2;null!=o&&(r.z2=o||0);for(var s=0;s<Ap.length;s++)jp(r,t,Ap[s])}}(d,r,i),"group"===r.type&&function(e,t,n,r,i){var a=r.children,o=a?a.length:0,s=r.$mergeChildren,u="byName"===s||r.diffChildrenByName,l=!1===s;if(!o&&!u&&!l)return;if(u)return c={api:e,oldChildren:t.children()||[],newChildren:a||[],dataIndex:n,seriesModel:i,group:t},void new ps.Z(c.oldChildren,c.newChildren,Qp,Qp,c).add(Jp).update(Jp).remove($p).execute();var c;l&&t.removeAll();for(var d=0;d<o;d++)a[d]&&Gp(e,t.childAt(d),n,a[d],i,t);for(var f=t.childCount()-1;f>=d;f--){hp(t.childAt(f),Xh(t).option,i)}}(e,d,n,r,i),o>=0?a.replaceAt(d,o):a.add(d),d}function Xp(e,t,n){var r,i=Xh(e),a=t.type,o=t.shape,s=t.style;return n.isUniversalTransitionEnabled()||null!=a&&a!==i.customGraphicType||"path"===a&&((r=o)&&((0,y.hasOwn)(r,"pathData")||(0,y.hasOwn)(r,"d")))&&em(o)!==i.customPathData||"image"===a&&(0,y.hasOwn)(s,"image")&&s.image!==i.customImagePath}function qp(e,t,n){var r=t?Yp(e,t):e,i=t?Kp(e,r,kp):e.style,a=e.type,o=r?r.textConfig:null,s=e.textContent,u=s?t?Yp(s,t):s:null;if(i&&(n.isLegacy||ep(i,a,!!o,!!u))){n.isLegacy=!0;var l=tp(i,a,!t);!o&&l.textConfig&&(o=l.textConfig),!u&&l.textContent&&(u=l.textContent)}if(!t&&u){var c=u;!c.type&&(c.type="text")}var d=t?n[t]:n.normal;d.cfg=o,d.conOpt=u}function Yp(e,t){return t?e?e[t]:null:e}function Kp(e,t,n){var r=t&&t.style;return null==r&&n===kp&&e&&(r=e.styleEmphasis),r}function Qp(e,t){var n=e&&e.name;return null!=n?n:"e\0\0"+t}function Jp(e,t){var n=this.context,r=null!=e?n.newChildren[e]:null,i=null!=t?n.oldChildren[t]:null;Gp(n.api,i,n.dataIndex,r,n.seriesModel,n.group)}function $p(e){var t=this.context,n=t.oldChildren[e];hp(n,Xh(n).option,t.seriesModel)}function em(e){return e&&(e.pathData||e.d)}var tm=(0,Je.Yf)(),nm=y.clone,rm=y.bind,im=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(e,t,n,r){var i=t.get("value"),a=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,r||this._lastValue!==i||this._lastStatus!==a){this._lastValue=i,this._lastStatus=a;var o=this._group,s=this._handle;if(!a||"hide"===a)return o&&o.hide(),void(s&&s.hide());o&&o.show(),s&&s.show();var u={};this.makeElOption(u,i,e,t,n);var l=u.graphicKey;l!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=l;var c=this._moveAnimation=this.determineAnimation(e,t);if(o){var d=y.curry(am,t,c);this.updatePointerEl(o,u,d),this.updateLabelEl(o,u,d,t)}else o=this._group=new Me.Z,this.createPointerEl(o,u,e,t),this.createLabelEl(o,u,e,t),n.getZr().add(o);lm(o,t,!0),this._renderHandle(i)}},e.prototype.remove=function(e){this.clear(e)},e.prototype.dispose=function(e){this.clear(e)},e.prototype.determineAnimation=function(e,t){var n=t.get("animation"),r=e.axis,i="category"===r.type,a=t.get("snap");if(!a&&!i)return!1;if("auto"===n||null==n){var o=this.animationThreshold;if(i&&r.getBandWidth()>o)return!0;if(a){var s=Gr(e).seriesDataCount,u=r.getExtent();return Math.abs(u[0]-u[1])/s>o}return!1}return!0===n},e.prototype.makeElOption=function(e,t,n,r,i){},e.prototype.createPointerEl=function(e,t,n,r){var i=t.pointer;if(i){var a=tm(e).pointerEl=new Re[i.type](nm(t.pointer));e.add(a)}},e.prototype.createLabelEl=function(e,t,n,r){if(t.label){var i=tm(e).labelEl=new U.ZP(nm(t.label));e.add(i),sm(i,r)}},e.prototype.updatePointerEl=function(e,t,n){var r=tm(e).pointerEl;r&&t.pointer&&(r.setStyle(t.pointer.style),n(r,{shape:t.pointer.shape}))},e.prototype.updateLabelEl=function(e,t,n,r){var i=tm(e).labelEl;i&&(i.setStyle(t.label.style),n(i,{x:t.label.x,y:t.label.y}),sm(i,r))},e.prototype._renderHandle=function(e){if(!this._dragging&&this.updateHandleTransform){var t,n=this._axisPointerModel,r=this._api.getZr(),i=this._handle,a=n.getModel("handle"),o=n.get("status");if(!a.get("show")||!o||"hide"===o)return i&&r.remove(i),void(this._handle=null);this._handle||(t=!0,i=this._handle=Re.createIcon(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){Pi.sT(e.event)},onmousedown:rm(this._onHandleDragMove,this,0,0),drift:rm(this._onHandleDragMove,this),ondragend:rm(this._onHandleDragEnd,this)}),r.add(i)),lm(i,n,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=a.get("size");y.isArray(s)||(s=[s,s]),i.scaleX=s[0]/2,i.scaleY=s[1]/2,Vt.T9(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},e.prototype._moveHandleToValue=function(e,t){am(this._axisPointerModel,!t&&this._moveAnimation,this._handle,um(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(e,t){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(um(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(um(r)),tm(n).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,r=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),Vt.ZH(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}},e}();function am(e,t,n,r){om(tm(n).lastProp,r)||(tm(n).lastProp=r,t?Pe.D(n,r,e):(n.stopAnimation(),n.attr(r)))}function om(e,t){if(y.isObject(e)&&y.isObject(t)){var n=!0;return y.each(t,(function(t,r){n=n&&om(e[r],t)})),!!n}return e===t}function sm(e,t){e[t.get(["label","show"])?"show":"hide"]()}function um(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function lm(e,t,n){var r=t.get("z"),i=t.get("zlevel");e&&e.traverse((function(e){"group"!==e.type&&(null!=r&&(e.z=r),null!=i&&(e.zlevel=i),e.silent=n)}))}var cm=im;function dm(e){var t,n=e.get("type"),r=e.getModel(n+"Style");return"line"===n?(t=r.getLineStyle()).fill=null:"shadow"===n&&((t=r.getAreaStyle()).stroke=null),t}function fm(e,t,n,r,i){var a=hm(n.get("value"),t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),o=n.getModel("label"),s=gt.MY(o.get("padding")||0),l=o.getFont(),c=u.lP(a,l),d=i.position,f=c.width+s[1]+s[3],h=c.height+s[0]+s[2],p=i.align;"right"===p&&(d[0]-=f),"center"===p&&(d[0]-=f/2);var m=i.verticalAlign;"bottom"===m&&(d[1]-=h),"middle"===m&&(d[1]-=h/2),function(e,t,n,r){var i=r.getWidth(),a=r.getHeight();e[0]=Math.min(e[0]+t,i)-t,e[1]=Math.min(e[1]+n,a)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}(d,f,h,r);var g=o.get("backgroundColor");g&&"auto"!==g||(g=t.get(["axisLine","lineStyle","color"])),e.label={x:d[0],y:d[1],style:(0,ze.Lr)(o,{text:a,font:l,fill:o.getTextColor(),padding:s,backgroundColor:g}),z2:10}}function hm(e,t,n,r,i){e=t.scale.parse(e);var a=t.scale.getLabel({value:e},{precision:i.precision}),o=i.formatter;if(o){var s={value:cr.DX(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};y.each(r,(function(e){var t=n.getSeriesByIndex(e.seriesIndex),r=e.dataIndexInside,i=t&&t.getDataParams(r);i&&s.seriesData.push(i)})),y.isString(o)?a=o.replace("{value}",a):y.isFunction(o)&&(a=o(s))}return a}function pm(e,t,n){var r=fr.create();return fr.rotate(r,r,n.rotation),fr.translate(r,r,n.position),Re.applyTransform([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function mm(e,t,n,r,i,a){var o=jr.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get(["label","margin"]),fm(t,r,i,a,{position:pm(r.axis,e,n),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function gm(e,t,n){return{x1:e[n=n||0],y1:e[1-n],x2:t[n],y2:t[1-n]}}function vm(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}function ym(e,t,n,r,i,a){return{cx:e,cy:t,r0:n,r:r,startAngle:i,endAngle:a,clockwise:!0}}var xm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,De.ZT)(t,e),t.prototype.makeElOption=function(e,t,n,r,i){var a=n.axis,o=a.grid,s=r.get("type"),u=bm(o,a).getOtherAxis(a).getGlobalExtent(),l=a.toGlobalCoord(a.dataToCoord(t,!0));if(s&&"none"!==s){var c=dm(r),d=wm[s](a,l,u);d.style=c,e.graphicKey=d.type,e.pointer=d}mm(t,e,wr(o.model,n),n,r,i)},t.prototype.getHandleTransform=function(e,t,n){var r=wr(t.axis.grid.model,t,{labelInside:!1});r.labelMargin=n.get(["handle","margin"]);var i=pm(t.axis,e,r);return{x:i[0],y:i[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,t,n,r){var i=n.axis,a=i.grid,o=i.getGlobalExtent(!0),s=bm(a,i).getOtherAxis(i).getGlobalExtent(),u="x"===i.dim?0:1,l=[e.x,e.y];l[u]+=t[u],l[u]=Math.min(o[1],l[u]),l[u]=Math.max(o[0],l[u]);var c=(s[1]+s[0])/2,d=[c,c];d[u]=l[u];return{x:l[0],y:l[1],rotation:e.rotation,cursorPoint:d,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][u]}},t}(cm);function bm(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}var wm={line:function(e,t,n){return{type:"Line",subPixelOptimize:!0,shape:gm([t,n[0]],[t,n[1]],_m(e))}},shadow:function(e,t,n){var r=Math.max(1,e.getBandWidth()),i=n[1]-n[0];return{type:"Rect",shape:vm([t-r/2,n[0]],[r,i],_m(e))}}};function _m(e){return"x"===e.dim?0:1}var Sm=xm,Cm=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(Qn.Z),km=Cm,Dm=n(71118),Tm=(0,Je.Yf)(),Im=y.each;function Am(e,t,n){if(!Dm.Z.node){var r=t.getZr();Tm(r).records||(Tm(r).records={}),function(e,t){if(Tm(e).initialized)return;function n(n,r){e.on(n,(function(n){var i=function(e){var t={showTip:[],hideTip:[]};return{dispatchAction:function n(r){var i=t[r.type];i?i.push(r):(r.dispatchAction=n,e.dispatchAction(r))},pendings:t}}(t);Im(Tm(e).records,(function(e){e&&r(e,n,i.dispatchAction)})),function(e,t){var n,r=e.showTip.length,i=e.hideTip.length;r?n=e.showTip[r-1]:i&&(n=e.hideTip[i-1]);n&&(n.dispatchAction=null,t.dispatchAction(n))}(i.pendings,t)}))}Tm(e).initialized=!0,n("click",y.curry(Em,"click")),n("mousemove",y.curry(Em,"mousemove")),n("globalout",Mm)}(r,t),(Tm(r).records[e]||(Tm(r).records[e]={})).handler=n}}function Mm(e,t,n){e.handler("leave",null,n)}function Em(e,t,n,r){t.handler(e,n,r)}function Nm(e,t){if(!Dm.Z.node){var n=t.getZr();(Tm(n).records||{})[e]&&(Tm(n).records[e]=null)}}var Rm=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n){var r=t.getComponent("tooltip"),i=e.get("triggerOn")||r&&r.get("triggerOn")||"mousemove|click";Am("axisPointer",n,(function(e,t,n){"none"!==i&&("leave"===e||i.indexOf(e)>=0)&&n({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})}))},t.prototype.remove=function(e,t){Nm("axisPointer",t)},t.prototype.dispose=function(e,t){Nm("axisPointer",t)},t.type="axisPointer",t}(Kn.Z),Pm=Rm;function Om(e,t){var n,r=[],i=e.seriesIndex;if(null==i||!(n=t.getSeriesByIndex(i)))return{point:[]};var a=n.getData(),o=Je.gO(a,e);if(null==o||o<0||y.isArray(o))return{point:[]};var s=a.getItemGraphicEl(o),u=n.coordinateSystem;if(n.getTooltipPosition)r=n.getTooltipPosition(o)||[];else if(u&&u.dataToPoint)if(e.isStacked){var l=u.getBaseAxis(),c=u.getOtherAxis(l).dim,d=l.dim,f="x"===c||"radius"===c?1:0,h=a.mapDimension(d),p=[];p[f]=a.get(h,o),p[1-f]=a.get(a.getCalculationInfo("stackResultDimension"),o),r=u.dataToPoint(p)||[]}else r=u.dataToPoint(a.getValues(y.map(u.dimensions,(function(e){return a.mapDimension(e)})),o))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),r=[m.x+m.width/2,m.y+m.height/2]}return{point:r,el:s}}var Lm=(0,Je.Yf)();function Fm(e,t,n){var r=e.currTrigger,i=[e.x,e.y],a=e,o=e.dispatchAction||(0,y.bind)(n.dispatchAction,n),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){jm(i)&&(i=Om({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var u=jm(i),l=a.axesInfo,c=s.axesInfo,d="leave"===r||jm(i),f={},h={},p={list:[],map:{}},m={showPointer:(0,y.curry)(Bm,h),showTooltip:(0,y.curry)(zm,p)};(0,y.each)(s.coordSysMap,(function(e,t){var n=u||e.containPoint(i);(0,y.each)(s.coordSysAxesInfo[t],(function(e,t){var r=e.axis,a=function(e,t){for(var n=0;n<(e||[]).length;n++){var r=e[n];if(t.axis.dim===r.axisDim&&t.axis.model.componentIndex===r.axisIndex)return r}}(l,e);if(!d&&n&&(!l||a)){var o=a&&a.value;null!=o||u||(o=r.pointToData(i)),null!=o&&Zm(e,o,m,!1,f)}}))}));var g={};return(0,y.each)(c,(function(e,t){var n=e.linkGroup;n&&!h[t]&&(0,y.each)(n.axesInfo,(function(t,r){var i=h[r];if(t!==e&&i){var a=i.value;n.mapper&&(a=e.axis.scale.parse(n.mapper(a,Vm(t),Vm(e)))),g[e.key]=a}}))})),(0,y.each)(g,(function(e,t){Zm(c[t],e,m,!0,f)})),function(e,t,n){var r=n.axesInfo=[];(0,y.each)(t,(function(t,n){var i=t.axisPointerModel.option,a=e[n];a?(!t.useHandle&&(i.status="show"),i.value=a.value,i.seriesDataIndices=(a.payloadBatch||[]).slice()):!t.useHandle&&(i.status="hide"),"show"===i.status&&r.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:i.value})}))}(h,c,f),function(e,t,n,r){if(jm(t)||!e.list.length)return void r({type:"hideTip"});var i=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:e.list})}(p,i,e,o),function(e,t,n){var r=n.getZr(),i="axisPointerLastHighlights",a=Lm(r)[i]||{},o=Lm(r)[i]={};(0,y.each)(e,(function(e,t){var n=e.axisPointerModel.option;"show"===n.status&&(0,y.each)(n.seriesDataIndices,(function(e){var t=e.seriesIndex+" | "+e.dataIndex;o[t]=e}))}));var s=[],u=[];(0,y.each)(a,(function(e,t){!o[t]&&u.push(e)})),(0,y.each)(o,(function(e,t){!a[t]&&s.push(e)})),u.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:u}),s.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}(c,0,n),f}}function Zm(e,t,n,r,i){var a=e.axis;if(!a.scale.isBlank()&&a.containData(t))if(e.involveSeries){var o=function(e,t){var n=t.axis,r=n.dim,i=e,a=[],o=Number.MAX_VALUE,s=-1;return(0,y.each)(t.seriesModels,(function(t,u){var l,c,d=t.getData().mapDimensionsAll(r);if(t.getAxisTooltipData){var f=t.getAxisTooltipData(d,e,n);c=f.dataIndices,l=f.nestestValue}else{if(!(c=t.getData().indicesOfNearest(d[0],e,"category"===n.type?.5:null)).length)return;l=t.getData().get(d[0],c[0])}if(null!=l&&isFinite(l)){var h=e-l,p=Math.abs(h);p<=o&&((p<o||h>=0&&s<0)&&(o=p,s=h,i=l,a.length=0),(0,y.each)(c,(function(e){a.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})})))}})),{payloadBatch:a,snapToValue:i}}(t,e),s=o.payloadBatch,u=o.snapToValue;s[0]&&null==i.seriesIndex&&(0,y.extend)(i,s[0]),!r&&e.snap&&a.containData(u)&&null!=u&&(t=u),n.showPointer(e,t,s),n.showTooltip(e,o,u)}else n.showPointer(e,t)}function Bm(e,t,n,r){e[t.key]={value:n,payloadBatch:r}}function zm(e,t,n,r){var i=n.payloadBatch,a=t.axis,o=a.model,s=t.axisPointerModel;if(t.triggerTooltip&&i.length){var u=t.coordSys.model,l=qr(u),c=e.map[l];c||(c=e.map[l]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function Vm(e){var t=e.axis.model,n={},r=n.axisDim=e.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=t.componentIndex,n.axisName=n[r+"AxisName"]=t.name,n.axisId=n[r+"AxisId"]=t.id,n}function jm(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}function Wm(e){Qr.registerAxisPointerClass("CartesianAxisPointer",Sm),e.registerComponentModel(km),e.registerComponentView(Pm),e.registerPreprocessor((function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!(0,y.isArray)(t)&&(e.axisPointer.link=[t])}})),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,(function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=Wr(e,t)})),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Fm)}var Um=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,De.ZT)(t,e),t.prototype.makeElOption=function(e,t,n,r,i){var a=n.axis;"angle"===a.dim&&(this.animationThreshold=Math.PI/18);var o=a.polar,s=o.getOtherAxis(a).getExtent(),u=a.dataToCoord(t),l=r.get("type");if(l&&"none"!==l){var c=dm(r),d=Hm[l](a,o,u,s);d.style=c,e.graphicKey=d.type,e.pointer=d}var f=function(e,t,n,r,i){var a=t.axis,o=a.dataToCoord(e),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var u,l,c,d=r.getRadiusAxis().getExtent();if("radius"===a.dim){var f=fr.create();fr.rotate(f,f,s),fr.translate(f,f,[r.cx,r.cy]),u=Re.applyTransform([o,-i],f);var h=t.getModel("axisLabel").get("rotate")||0,p=jr.innerTextLayout(s,h*Math.PI/180,-1);l=p.textAlign,c=p.textVerticalAlign}else{var m=d[1];u=r.coordToPoint([m+i,o]);var g=r.cx,v=r.cy;l=Math.abs(u[0]-g)/m<.3?"center":u[0]>g?"left":"right",c=Math.abs(u[1]-v)/m<.3?"middle":u[1]>v?"top":"bottom"}return{position:u,align:l,verticalAlign:c}}(t,n,0,o,r.get(["label","margin"]));fm(e,n,r,i,f)},t}(cm);var Hm={line:function(e,t,n,r){return"angle"===e.dim?{type:"Line",shape:gm(t.coordToPoint([r[0],n]),t.coordToPoint([r[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,r){var i=Math.max(1,e.getBandWidth()),a=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:ym(t.cx,t.cy,r[0],r[1],(-n-i/2)*a,(i/2-n)*a)}:{type:"Sector",shape:ym(t.cx,t.cy,n-i/2,n+i/2,0,2*Math.PI)}}},Gm=Um,Xm=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.findAxisModel=function(e){var t;return this.ecModel.eachComponent(e,(function(e){e.getCoordSysModel()===this&&(t=e)}),this),t},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(Qn.Z),qm=Xm,Ym=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,De.ZT)(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Je.C6).models[0]},t.type="polarAxis",t}(Qn.Z);y.mixin(Ym,er.W);var Km=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.type="angleAxis",t}(Ym),Qm=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.type="radiusAxis",t}(Ym),Jm=function(e){function t(t,n){return e.call(this,"radius",t,n)||this}return(0,De.ZT)(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},t}(yr.Z);Jm.prototype.dataToRadius=yr.Z.prototype.dataToCoord,Jm.prototype.radiusToData=yr.Z.prototype.coordToData;var $m=Jm,eg=(0,Je.Yf)(),tg=function(e){function t(t,n){return e.call(this,"angle",t,n||[0,360])||this}return(0,De.ZT)(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,t=e.getLabelModel(),n=e.scale,r=n.getExtent(),i=n.count();if(r[1]-r[0]<1)return 0;var a=r[0],o=e.dataToCoord(a+1)-e.dataToCoord(a),s=Math.abs(o),l=u.lP(null==a?"":a+"",t.getFont(),"center","top"),c=Math.max(l.height,7)/s;isNaN(c)&&(c=1/0);var d=Math.max(0,Math.floor(c)),f=eg(e.model),h=f.lastAutoInterval,p=f.lastTickCount;return null!=h&&null!=p&&Math.abs(h-d)<=1&&Math.abs(p-i)<=1&&h>d?d=h:(f.lastTickCount=i,f.lastAutoInterval=d),d},t}(yr.Z);tg.prototype.dataToAngle=yr.Z.prototype.dataToCoord,tg.prototype.angleToData=yr.Z.prototype.coordToData;var ng=tg,rg=["radius","angle"],ig=function(){function e(e){this.dimensions=rg,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new $m,this._angleAxis=new ng,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return e.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},e.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},e.prototype.getAxis=function(e){return this["_"+e+"Axis"]},e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},e.prototype.getAxesByScale=function(e){var t=[],n=this._angleAxis,r=this._radiusAxis;return n.scale.type===e&&t.push(n),r.scale.type===e&&t.push(r),t},e.prototype.getAngleAxis=function(){return this._angleAxis},e.prototype.getRadiusAxis=function(){return this._radiusAxis},e.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},e.prototype.getTooltipAxes=function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},e.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},e.prototype.pointToData=function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},e.prototype.pointToCoord=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,r=this.getAngleAxis(),i=r.getExtent(),a=Math.min(i[0],i[1]),o=Math.max(i[0],i[1]);r.inverse?a=o-360:o=a+360;var s=Math.sqrt(t*t+n*n);t/=s,n/=s;for(var u=Math.atan2(-n,t)/Math.PI*180,l=u<a?1:-1;u<a||u>o;)u+=360*l;return[s,u]},e.prototype.coordToPoint=function(e){var t=e[0],n=e[1]/180*Math.PI;return[Math.cos(n)*t+this.cx,-Math.sin(n)*t+this.cy]},e.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis().getExtent().slice();t[0]>t[1]&&t.reverse();var n=e.getExtent(),r=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:t[0],r:t[1],startAngle:-n[0]*r,endAngle:-n[1]*r,clockwise:e.inverse,contain:function(e,t){var n=e-this.cx,r=t-this.cy,i=n*n+r*r-1e-4,a=this.r,o=this.r0;return i<=a*a&&i>=o*o}}},e.prototype.convertToPixel=function(e,t,n){return ag(t)===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(e,t,n){return ag(t)===this?this.pointToData(n):null},e}();function ag(e){var t=e.seriesModel,n=e.polarModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}var og=ig;function sg(e,t){var n=this,r=n.getAngleAxis(),i=n.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),e.eachSeries((function(e){if(e.coordinateSystem===n){var t=e.getData();y.each((0,cr.PY)(t,"radius"),(function(e){i.scale.unionExtentFromData(t,e)})),y.each((0,cr.PY)(t,"angle"),(function(e){r.scale.unionExtentFromData(t,e)}))}})),(0,cr.Jk)(r.scale,r.model),(0,cr.Jk)(i.scale,i.model),"category"===r.type&&!r.onBand){var a=r.getExtent(),o=360/r.scale.count();r.inverse?a[1]+=o:a[1]-=o,r.setExtent(a[0],a[1])}}function ug(e,t){if(e.type=t.get("type"),e.scale=(0,cr.aG)(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),function(e){return"angleAxis"===e.mainType}(t)){e.inverse=e.inverse!==t.get("clockwise");var n=t.get("startAngle");e.setExtent(n,n+(e.inverse?-360:360))}t.axis=e,e.model=t}var lg={dimensions:rg,create:function(e,t){var n=[];return e.eachComponent("polar",(function(e,r){var i=new og(r+"");i.update=sg;var a=i.getRadiusAxis(),o=i.getAngleAxis(),s=e.findAxisModel("radiusAxis"),u=e.findAxisModel("angleAxis");ug(a,s),ug(o,u),function(e,t,n){var r=t.get("center"),i=n.getWidth(),a=n.getHeight();e.cx=(0,dt.GM)(r[0],i),e.cy=(0,dt.GM)(r[1],a);var o=e.getRadiusAxis(),s=Math.min(i,a)/2,u=t.get("radius");null==u?u=[0,"100%"]:y.isArray(u)||(u=[0,u]);var l=[(0,dt.GM)(u[0],s),(0,dt.GM)(u[1],s)];o.inverse?o.setExtent(l[1],l[0]):o.setExtent(l[0],l[1])}(i,e,t),n.push(i),e.coordinateSystem=i,i.model=e})),e.eachSeries((function(e){if("polar"===e.get("coordinateSystem")){var t=e.getReferringComponents("polar",Je.C6).models[0];0,e.coordinateSystem=t.coordinateSystem}})),n}},cg=lg,dg=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function fg(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var r=e.coordToPoint([t[0],n]),i=e.coordToPoint([t[1],n]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function hg(e){return e.getRadiusAxis().inverse?0:1}function pg(e){var t=e[0],n=e[e.length-1];t&&n&&Math.abs(Math.abs(t.coord-n.coord)-360)<1e-4&&e.pop()}var mg=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,r=n.polar,i=r.getRadiusAxis().getExtent(),a=n.getTicksCoords(),o=n.getMinorTicksCoords(),s=y.map(n.getViewLabels(),(function(e){e=y.clone(e);var t=n.scale,r="ordinal"===t.type?t.getRawOrdinalNumber(e.tickValue):e.tickValue;return e.coord=n.dataToCoord(r),e}));pg(s),pg(a),y.each(dg,(function(t){!e.get([t,"show"])||n.scale.isBlank()&&"axisLine"!==t||gg[t](this.group,e,r,a,o,i,s)}),this)}},t.type="angleAxis",t}(Qr),gg={axisLine:function(e,t,n,r,i,a){var o,s=t.getModel(["axisLine","lineStyle"]),u=hg(n),l=u?0:1;(o=0===a[l]?new Ci.Z({shape:{cx:n.cx,cy:n.cy,r:a[u]},style:s.getLineStyle(),z2:1,silent:!0}):new ki.Z({shape:{cx:n.cx,cy:n.cy,r:a[u],r0:a[l]},style:s.getLineStyle(),z2:1,silent:!0})).style.fill=null,e.add(o)},axisTick:function(e,t,n,r,i,a){var o=t.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),u=a[hg(n)],l=y.map(r,(function(e){return new Rr.Z({shape:fg(n,[u,u+s],e.coord)})}));e.add(Re.mergePath(l,{style:y.defaults(o.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,t,n,r,i,a){if(i.length){for(var o=t.getModel("axisTick"),s=t.getModel("minorTick"),u=(o.get("inside")?-1:1)*s.get("length"),l=a[hg(n)],c=[],d=0;d<i.length;d++)for(var f=0;f<i[d].length;f++)c.push(new Rr.Z({shape:fg(n,[l,l+u],i[d][f].coord)}));e.add(Re.mergePath(c,{style:y.defaults(s.getModel("lineStyle").getLineStyle(),y.defaults(o.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(e,t,n,r,i,a,o){var s=t.getCategories(!0),u=t.getModel("axisLabel"),l=u.get("margin"),c=t.get("triggerEvent");y.each(o,(function(r,i){var o=u,d=r.tickValue,f=a[hg(n)],h=n.coordToPoint([f+l,r.coord]),p=n.cx,m=n.cy,g=Math.abs(h[0]-p)/f<.3?"center":h[0]>p?"left":"right",v=Math.abs(h[1]-m)/f<.3?"middle":h[1]>m?"top":"bottom";if(s&&s[d]){var x=s[d];y.isObject(x)&&x.textStyle&&(o=new Pr.Z(x.textStyle,u,u.ecModel))}var b=new U.ZP({silent:jr.isLabelSilent(t),style:(0,ze.Lr)(o,{x:h[0],y:h[1],fill:o.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:r.formattedLabel,align:g,verticalAlign:v})});if(e.add(b),c){var w=jr.makeAxisEventDataBase(t);w.targetType="axisLabel",w.value=r.rawLabel,(0,Oe.A)(b).eventData=w}}),this)},splitLine:function(e,t,n,r,i,a){var o=t.getModel("splitLine").getModel("lineStyle"),s=o.get("color"),u=0;s=s instanceof Array?s:[s];for(var l=[],c=0;c<r.length;c++){var d=u++%s.length;l[d]=l[d]||[],l[d].push(new Rr.Z({shape:fg(n,a,r[c].coord)}))}for(c=0;c<l.length;c++)e.add(Re.mergePath(l[c],{style:y.defaults({stroke:s[c%s.length]},o.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(e,t,n,r,i,a){if(i.length){for(var o=t.getModel("minorSplitLine").getModel("lineStyle"),s=[],u=0;u<i.length;u++)for(var l=0;l<i[u].length;l++)s.push(new Rr.Z({shape:fg(n,a,i[u][l].coord)}));e.add(Re.mergePath(s,{style:o.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(e,t,n,r,i,a){if(r.length){var o=t.getModel("splitArea").getModel("areaStyle"),s=o.get("color"),u=0;s=s instanceof Array?s:[s];for(var l=[],c=Math.PI/180,d=-r[0].coord*c,f=Math.min(a[0],a[1]),h=Math.max(a[0],a[1]),p=t.get("clockwise"),m=1,g=r.length;m<=g;m++){var v=m===g?r[0].coord:r[m].coord,x=u++%s.length;l[x]=l[x]||[],l[x].push(new ct.C({shape:{cx:n.cx,cy:n.cy,r0:f,r:h,startAngle:d,endAngle:-v*c,clockwise:p},silent:!0})),d=-v*c}for(m=0;m<l.length;m++)e.add(Re.mergePath(l[m],{style:y.defaults({fill:s[m%s.length]},o.getAreaStyle()),silent:!0}))}}},vg=mg,yg=["axisLine","axisTickLabel","axisName"],xg=["splitLine","splitArea","minorSplitLine"],bg=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t){if(this.group.removeAll(),e.get("show")){var n=this._axisGroup,r=this._axisGroup=new Me.Z;this.group.add(r);var i=e.axis,a=i.polar,o=a.getAngleAxis(),s=i.getTicksCoords(),u=i.getMinorTicksCoords(),l=o.getExtent()[0],c=i.getExtent(),d=function(e,t,n){return{position:[e.cx,e.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}(a,e,l),f=new jr(e,d);y.each(yg,f.add,f),r.add(f.getGroup()),Re.groupTransition(n,r,e),y.each(xg,(function(t){e.get([t,"show"])&&!i.scale.isBlank()&&wg[t](this.group,e,a,l,c,s,u)}),this)}},t.type="radiusAxis",t}(Qr),wg={splitLine:function(e,t,n,r,i,a){var o=t.getModel("splitLine").getModel("lineStyle"),s=o.get("color"),u=0;s=s instanceof Array?s:[s];for(var l=[],c=0;c<a.length;c++){var d=u++%s.length;l[d]=l[d]||[],l[d].push(new Ci.Z({shape:{cx:n.cx,cy:n.cy,r:Math.max(a[c].coord,0)}}))}for(c=0;c<l.length;c++)e.add(Re.mergePath(l[c],{style:y.defaults({stroke:s[c%s.length],fill:null},o.getLineStyle()),silent:!0}))},minorSplitLine:function(e,t,n,r,i,a,o){if(o.length){for(var s=t.getModel("minorSplitLine").getModel("lineStyle"),u=[],l=0;l<o.length;l++)for(var c=0;c<o[l].length;c++)u.push(new Ci.Z({shape:{cx:n.cx,cy:n.cy,r:o[l][c].coord}}));e.add(Re.mergePath(u,{style:y.defaults({fill:null},s.getLineStyle()),silent:!0}))}},splitArea:function(e,t,n,r,i,a){if(a.length){var o=t.getModel("splitArea").getModel("areaStyle"),s=o.get("color"),u=0;s=s instanceof Array?s:[s];for(var l=[],c=a[0].coord,d=1;d<a.length;d++){var f=u++%s.length;l[f]=l[f]||[],l[f].push(new ct.C({shape:{cx:n.cx,cy:n.cy,r0:c,r:a[d].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),c=a[d].coord}for(d=0;d<l.length;d++)e.add(Re.mergePath(l[d],{style:y.defaults({fill:s[d%s.length]},o.getAreaStyle()),silent:!0}))}}};var _g=bg;function Sg(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function Cg(e,t){return t.dim+e.model.componentIndex}var kg=function(e,t,n){var r={},i=function(e){var t={};y.each(e,(function(e,n){var r=e.getData(),i=e.coordinateSystem,a=i.getBaseAxis(),o=Cg(i,a),s=a.getExtent(),u="category"===a.type?a.getBandWidth():Math.abs(s[1]-s[0])/r.count(),l=t[o]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},c=l.stacks;t[o]=l;var d=Sg(e);c[d]||l.autoWidthCount++,c[d]=c[d]||{width:0,maxWidth:0};var f=(0,dt.GM)(e.get("barWidth"),u),h=(0,dt.GM)(e.get("barMaxWidth"),u),p=e.get("barGap"),m=e.get("barCategoryGap");f&&!c[d].width&&(f=Math.min(l.remainedWidth,f),c[d].width=f,l.remainedWidth-=f),h&&(c[d].maxWidth=h),null!=p&&(l.gap=p),null!=m&&(l.categoryGap=m)}));var n={};return y.each(t,(function(e,t){n[t]={};var r=e.stacks,i=e.bandWidth,a=(0,dt.GM)(e.categoryGap,i),o=(0,dt.GM)(e.gap,1),s=e.remainedWidth,u=e.autoWidthCount,l=(s-a)/(u+(u-1)*o);l=Math.max(l,0),y.each(r,(function(e,t){var n=e.maxWidth;n&&n<l&&(n=Math.min(n,s),e.width&&(n=Math.min(n,e.width)),s-=n,e.width=n,u--)})),l=(s-a)/(u+(u-1)*o),l=Math.max(l,0);var c,d=0;y.each(r,(function(e,t){e.width||(e.width=l),c=e,d+=e.width*(1+o)})),c&&(d-=c.width*o);var f=-d/2;y.each(r,(function(e,r){n[t][r]=n[t][r]||{offset:f,width:e.width},f+=e.width*(1+o)}))})),n}(y.filter(t.getSeriesByType(e),(function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&"polar"===e.coordinateSystem.type})));t.eachSeriesByType(e,(function(e){if("polar"===e.coordinateSystem.type){var t=e.getData(),n=e.coordinateSystem,a=n.getBaseAxis(),o=Cg(n,a),s=Sg(e),u=i[o][s],l=u.offset,c=u.width,d=n.getOtherAxis(a),f=e.coordinateSystem.cx,h=e.coordinateSystem.cy,p=e.get("barMinHeight")||0,m=e.get("barMinAngle")||0;r[s]=r[s]||[];for(var g=t.mapDimension(d.dim),v=t.mapDimension(a.dim),y=(0,Xe.M)(t,g),x="radius"!==a.dim||!e.get("roundCap",!0),b=d.dataToCoord(0),w=0,_=t.count();w<_;w++){var S=t.get(g,w),C=t.get(v,w),k=S>=0?"p":"n",D=b;y&&(r[s][C]||(r[s][C]={p:b,n:b}),D=r[s][C][k]);var T=void 0,I=void 0,A=void 0,M=void 0;if("radius"===d.dim){var E=d.dataToCoord(S)-b,N=a.dataToCoord(C);Math.abs(E)<p&&(E=(E<0?-1:1)*p),T=D,I=D+E,M=(A=N-l)-c,y&&(r[s][C][k]=I)}else{var R=d.dataToCoord(S,x)-b,P=a.dataToCoord(C);Math.abs(R)<m&&(R=(R<0?-1:1)*m),I=(T=P+l)+c,A=D,M=D+R,y&&(r[s][C][k]=M)}t.setItemLayout(w,{cx:f,cy:h,r0:T,r:I,startAngle:-A*Math.PI/180,endAngle:-M*Math.PI/180,clockwise:A>=M})}}}))},Dg={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},Tg={splitNumber:5},Ig=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.type="polar",t}(Kn.Z);function Ag(e,t){t=t||{};var n=e.coordinateSystem,r=e.axis,i={},a=r.position,o=r.orient,s=n.getRect(),u=[s.x,s.x+s.width,s.y,s.y+s.height],l={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};i.position=["vertical"===o?l.vertical[a]:u[0],"horizontal"===o?l.horizontal[a]:u[3]];i.rotation=Math.PI/2*{horizontal:0,vertical:1}[o];i.labelDirection=i.tickDirection=i.nameDirection={top:-1,bottom:1,right:1,left:-1}[a],e.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),y.retrieve(t.labelInside,e.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var c=t.rotate;return null==c&&(c=e.get(["axisLabel","rotate"])),i.labelRotation="top"===a?-c:c,i.z2=1,i}var Mg=["axisLine","axisTickLabel","axisName"],Eg=["splitArea","splitLine"],Ng=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="SingleAxisPointer",n}return(0,De.ZT)(t,e),t.prototype.render=function(t,n,r,i){var a=this.group;a.removeAll();var o=this._axisGroup;this._axisGroup=new Me.Z;var s=Ag(t),u=new jr(t,s);y.each(Mg,u.add,u),a.add(this._axisGroup),a.add(u.getGroup()),y.each(Eg,(function(e){t.get([e,"show"])&&Rg[e](this,this.group,this._axisGroup,t)}),this),Re.groupTransition(o,this._axisGroup,t),e.prototype.render.call(this,t,n,r,i)},t.prototype.remove=function(){ei(this)},t.type="singleAxis",t}(Qr),Rg={splitLine:function(e,t,n,r){var i=r.axis;if(!i.scale.isBlank()){var a=r.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=s instanceof Array?s:[s];for(var u=r.coordinateSystem.getRect(),l=i.isHorizontal(),c=[],d=0,f=i.getTicksCoords({tickModel:a}),h=[],p=[],m=0;m<f.length;++m){var g=i.toGlobalCoord(f[m].coord);l?(h[0]=g,h[1]=u.y,p[0]=g,p[1]=u.y+u.height):(h[0]=u.x,h[1]=g,p[0]=u.x+u.width,p[1]=g);var v=d++%s.length;c[v]=c[v]||[],c[v].push(new Rr.Z({subPixelOptimize:!0,shape:{x1:h[0],y1:h[1],x2:p[0],y2:p[1]},silent:!0}))}var x=o.getLineStyle(["color"]);for(m=0;m<c.length;++m)t.add(Re.mergePath(c[m],{style:y.defaults({stroke:s[m%s.length]},x),silent:!0}))}},splitArea:function(e,t,n,r){$r(e,n,r,r)}},Pg=Ng,Og=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(Qn.Z);(0,y.mixin)(Og,er.W.prototype);var Lg=Og,Fg=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r)||this;return o.type=i||"value",o.position=a||"bottom",o}return(0,De.ZT)(t,e),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.pointToData=function(e,t){return this.coordinateSystem.pointToData(e)[0]},t}(yr.Z),Zg=Fg,Bg=["single"];function zg(e){var t=e.seriesModel,n=e.singleAxisModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}var Vg=function(){function e(e,t,n){this.type="single",this.dimension="single",this.dimensions=Bg,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,n)}return e.prototype._init=function(e,t,n){var r=this.dimension,i=new Zg(r,cr.aG(e),[0,0],e.get("type"),e.get("position")),a="category"===i.type;i.onBand=a&&e.get("boundaryGap"),i.inverse=e.get("inverse"),i.orient=e.get("orient"),e.axis=i,i.model=e,i.coordinateSystem=this,this._axis=i},e.prototype.update=function(e,t){e.eachSeries((function(e){if(e.coordinateSystem===this){var t=e.getData();(0,y.each)(t.mapDimensionsAll(this.dimension),(function(e){this._axis.scale.unionExtentFromData(t,e)}),this),cr.Jk(this._axis.scale,this._axis.model)}}),this)},e.prototype.resize=function(e,t){this._rect=(0,pn.ME)({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},e.prototype.getRect=function(){return this._rect},e.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),r=n?[0,e.width]:[0,e.height],i=t.reverse?1:0;t.setExtent(r[i],r[1-i]),this._updateAxisTransform(t,n?e.x:e.y)},e.prototype._updateAxisTransform=function(e,t){var n=e.getExtent(),r=n[0]+n[1],i=e.isHorizontal();e.toGlobalCoord=i?function(e){return e+t}:function(e){return r-e+t},e.toLocalCoord=i?function(e){return e-t}:function(e){return r-e+t}},e.prototype.getAxis=function(){return this._axis},e.prototype.getBaseAxis=function(){return this._axis},e.prototype.getAxes=function(){return[this._axis]},e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},e.prototype.containPoint=function(e){var t=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},e.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},e.prototype.dataToPoint=function(e){var t=this.getAxis(),n=this.getRect(),r=[],i="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),r[i]=t.toGlobalCoord(t.dataToCoord(+e)),r[1-i]=0===i?n.y+n.height/2:n.x+n.width/2,r},e.prototype.convertToPixel=function(e,t,n){return zg(t)===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(e,t,n){return zg(t)===this?this.pointToData(n):null},e}();var jg={create:function(e,t){var n=[];return e.eachComponent("singleAxis",(function(r,i){var a=new Vg(r,e,t);a.name="single_"+i,a.resize(r,t),r.coordinateSystem=a,n.push(a)})),e.eachSeries((function(e){if("singleAxis"===e.get("coordinateSystem")){var t=e.getReferringComponents("singleAxis",Je.C6).models[0];e.coordinateSystem=t&&t.coordinateSystem}})),n},dimensions:Bg},Wg=["x","y"],Ug=["width","height"],Hg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,De.ZT)(t,e),t.prototype.makeElOption=function(e,t,n,r,i){var a=n.axis,o=a.coordinateSystem,s=qg(o,1-Xg(a)),u=o.dataToPoint(t)[0],l=r.get("type");if(l&&"none"!==l){var c=dm(r),d=Gg[l](a,u,s);d.style=c,e.graphicKey=d.type,e.pointer=d}mm(t,e,Ag(n),n,r,i)},t.prototype.getHandleTransform=function(e,t,n){var r=Ag(t,{labelInside:!1});r.labelMargin=n.get(["handle","margin"]);var i=pm(t.axis,e,r);return{x:i[0],y:i[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,t,n,r){var i=n.axis,a=i.coordinateSystem,o=Xg(i),s=qg(a,o),u=[e.x,e.y];u[o]+=t[o],u[o]=Math.min(s[1],u[o]),u[o]=Math.max(s[0],u[o]);var l=qg(a,1-o),c=(l[1]+l[0])/2,d=[c,c];return d[o]=u[o],{x:u[0],y:u[1],rotation:e.rotation,cursorPoint:d,tooltipOption:{verticalAlign:"middle"}}},t}(cm),Gg={line:function(e,t,n){return{type:"Line",subPixelOptimize:!0,shape:gm([t,n[0]],[t,n[1]],Xg(e))}},shadow:function(e,t,n){var r=e.getBandWidth(),i=n[1]-n[0];return{type:"Rect",shape:vm([t-r/2,n[0]],[r,i],Xg(e))}}};function Xg(e){return e.isHorizontal()?0:1}function qg(e,t){var n=e.getRect();return[n[Wg[t]],n[Wg[t]]+n[Ug[t]]]}var Yg=Hg,Kg=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.type="single",t}(Kn.Z);var Qg=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.init=function(t,n,r){var i=(0,pn.tE)(t);e.prototype.init.apply(this,arguments),Jg(t,i)},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),Jg(this.option,t)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(Qn.Z);function Jg(e,t){var n,r=e.cellSize;1===(n=y.isArray(r)?r:e.cellSize=[r,r]).length&&(n[1]=n[0]);var i=y.map([0,1],(function(e){return(0,pn.QM)(t,e)&&(n[e]="auto"),null!=n[e]&&"auto"!==n[e]}));(0,pn.dt)(e,t,{type:"box",ignoreSize:i})}var $g=Qg,ev=n(7334),tv=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n){var r=this.group;r.removeAll();var i=e.coordinateSystem,a=i.getRangeInfo(),o=i.getOrient(),s=t.getLocaleModel();this._renderDayRect(e,a,r),this._renderLines(e,a,o,r),this._renderYearText(e,a,o,r),this._renderMonthText(e,s,o,r),this._renderWeekText(e,s,a,o,r)},t.prototype._renderDayRect=function(e,t,n){for(var r=e.coordinateSystem,i=e.getModel("itemStyle").getItemStyle(),a=r.getCellWidth(),o=r.getCellHeight(),s=t.start.time;s<=t.end.time;s=r.getNextNDay(s,1).time){var u=r.dataToRect([s],!1).tl,l=new lt.Z({shape:{x:u[0],y:u[1],width:a,height:o},cursor:"default",style:i});n.add(l)}},t.prototype._renderLines=function(e,t,n,r){var i=this,a=e.coordinateSystem,o=e.getModel(["splitLine","lineStyle"]).getLineStyle(),s=e.get(["splitLine","show"]),u=o.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var l=t.start,c=0;l.time<=t.end.time;c++){f(l.formatedDate),0===c&&(l=a.getDateInfo(t.start.y+"-"+t.start.m));var d=l.date;d.setMonth(d.getMonth()+1),l=a.getDateInfo(d)}function f(t){i._firstDayOfMonth.push(a.getDateInfo(t)),i._firstDayPoints.push(a.dataToRect([t],!1).tl);var u=i._getLinePointsOfOneWeek(e,t,n);i._tlpoints.push(u[0]),i._blpoints.push(u[u.length-1]),s&&i._drawSplitline(u,o,r)}f(a.getNextNDay(t.end.time,1).formatedDate),s&&this._drawSplitline(i._getEdgesPoints(i._tlpoints,u,n),o,r),s&&this._drawSplitline(i._getEdgesPoints(i._blpoints,u,n),o,r)},t.prototype._getEdgesPoints=function(e,t,n){var r=[e[0].slice(),e[e.length-1].slice()],i="horizontal"===n?0:1;return r[0][i]=r[0][i]-t/2,r[1][i]=r[1][i]+t/2,r},t.prototype._drawSplitline=function(e,t,n){var r=new wn.Z({z2:20,shape:{points:e},style:t});n.add(r)},t.prototype._getLinePointsOfOneWeek=function(e,t,n){for(var r=e.coordinateSystem,i=r.getDateInfo(t),a=[],o=0;o<7;o++){var s=r.getNextNDay(i.time,o),u=r.dataToRect([s.time],!1);a[2*s.day]=u.tl,a[2*s.day+1]=u["horizontal"===n?"bl":"tr"]}return a},t.prototype._formatterLabel=function(e,t){return(0,y.isString)(e)&&e?(0,gt.wx)(e,t):(0,y.isFunction)(e)?e(t):t.nameMap},t.prototype._yearTextPositionControl=function(e,t,n,r,i){var a=t[0],o=t[1],s=["center","bottom"];"bottom"===r?(o+=i,s=["center","top"]):"left"===r?a-=i:"right"===r?(a+=i,s=["center","top"]):o-=i;var u=0;return"left"!==r&&"right"!==r||(u=Math.PI/2),{rotation:u,x:a,y:o,style:{align:s[0],verticalAlign:s[1]}}},t.prototype._renderYearText=function(e,t,n,r){var i=e.getModel("yearLabel");if(i.get("show")){var a=i.get("margin"),o=i.get("position");o||(o="horizontal"!==n?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],u=(s[0][0]+s[1][0])/2,l=(s[0][1]+s[1][1])/2,c="horizontal"===n?0:1,d={top:[u,s[c][1]],bottom:[u,s[1-c][1]],left:[s[1-c][0],l],right:[s[c][0],l]},f=t.start.y;+t.end.y>+t.start.y&&(f=f+"-"+t.end.y);var h=i.get("formatter"),p={start:t.start.y,end:t.end.y,nameMap:f},m=this._formatterLabel(h,p),g=new U.ZP({z2:30,style:(0,ze.Lr)(i,{text:m})});g.attr(this._yearTextPositionControl(g,d[o],n,o,a)),r.add(g)}},t.prototype._monthTextPositionControl=function(e,t,n,r,i){var a="left",o="top",s=e[0],u=e[1];return"horizontal"===n?(u+=i,t&&(a="center"),"start"===r&&(o="bottom")):(s+=i,t&&(o="middle"),"start"===r&&(a="right")),{x:s,y:u,align:a,verticalAlign:o}},t.prototype._renderMonthText=function(e,t,n,r){var i=e.getModel("monthLabel");if(i.get("show")){var a=i.get("nameMap"),o=i.get("margin"),s=i.get("position"),u=i.get("align"),l=[this._tlpoints,this._blpoints];a&&!(0,y.isString)(a)||(a&&(t=(0,ev.G8)(a)||t),a=t.get(["time","monthAbbr"])||[]);var c="start"===s?0:1,d="horizontal"===n?0:1;o="start"===s?-o:o;for(var f="center"===u,h=0;h<l[c].length-1;h++){var p=l[c][h].slice(),m=this._firstDayOfMonth[h];if(f){var g=this._firstDayPoints[h];p[d]=(g[d]+l[0][h+1][d])/2}var v=i.get("formatter"),x=a[+m.m-1],b={yyyy:m.y,yy:(m.y+"").slice(2),MM:m.m,M:+m.m,nameMap:x},w=this._formatterLabel(v,b),_=new U.ZP({z2:30,style:(0,y.extend)((0,ze.Lr)(i,{text:w}),this._monthTextPositionControl(p,f,n,s,o))});r.add(_)}}},t.prototype._weekTextPositionControl=function(e,t,n,r,i){var a="center",o="middle",s=e[0],u=e[1],l="start"===n;return"horizontal"===t?(s=s+r+(l?1:-1)*i[0]/2,a=l?"right":"left"):(u=u+r+(l?1:-1)*i[1]/2,o=l?"bottom":"top"),{x:s,y:u,align:a,verticalAlign:o}},t.prototype._renderWeekText=function(e,t,n,r,i){var a=e.getModel("dayLabel");if(a.get("show")){var o=e.coordinateSystem,s=a.get("position"),u=a.get("nameMap"),l=a.get("margin"),c=o.getFirstDayOfWeek();if(!u||(0,y.isString)(u))u&&(t=(0,ev.G8)(u)||t),u=t.get(["time","dayOfWeekShort"])||(0,y.map)(t.get(["time","dayOfWeekAbbr"]),(function(e){return e[0]}));var d=o.getNextNDay(n.end.time,7-n.lweek).time,f=[o.getCellWidth(),o.getCellHeight()];l=(0,dt.GM)(l,Math.min(f[1],f[0])),"start"===s&&(d=o.getNextNDay(n.start.time,-(7+n.fweek)).time,l=-l);for(var h=0;h<7;h++){var p,m=o.getNextNDay(d,h),g=o.dataToRect([m.time],!1).center;p=Math.abs((h+c)%7);var v=new U.ZP({z2:30,style:(0,y.extend)((0,ze.Lr)(a,{text:u[p]}),this._weekTextPositionControl(g,r,s,l,f))});i.add(v)}}},t.type="calendar",t}(Kn.Z),nv=tv,rv=864e5;function iv(e){var t=e.calendarModel,n=e.seriesModel;return t?t.coordinateSystem:n?n.coordinateSystem:null}var av=function(){function e(t,n,r){this.type="calendar",this.dimensions=e.dimensions,this.getDimensionsInfo=e.getDimensionsInfo,this._model=t}return e.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},e.prototype.getRangeInfo=function(){return this._rangeInfo},e.prototype.getModel=function(){return this._model},e.prototype.getRect=function(){return this._rect},e.prototype.getCellWidth=function(){return this._sw},e.prototype.getCellHeight=function(){return this._sh},e.prototype.getOrient=function(){return this._orient},e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},e.prototype.getDateInfo=function(e){var t=(e=dt.sG(e)).getFullYear(),n=e.getMonth()+1,r=n<10?"0"+n:""+n,i=e.getDate(),a=i<10?"0"+i:""+i,o=e.getDay();return{y:t+"",m:r,d:a,day:o=Math.abs((o+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+r+"-"+a,date:e}},e.prototype.getNextNDay=function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},e.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,r=["width","height"],i=this._model.getCellSize().slice(),a=this._model.getBoxLayoutParams(),o="horizontal"===this._orient?[n,7]:[7,n];y.each([0,1],(function(e){l(i,e)&&(a[r[e]]=i[e]*o[e])}));var s={width:t.getWidth(),height:t.getHeight()},u=this._rect=pn.ME(a,s);function l(e,t){return null!=e[t]&&"auto"!==e[t]}y.each([0,1],(function(e){l(i,e)||(i[e]=u[r[e]]/o[e])})),this._sw=i[0],this._sh=i[1]},e.prototype.dataToPoint=function(e,t){y.isArray(e)&&(e=e[0]),null==t&&(t=!0);var n=this.getDateInfo(e),r=this._rangeInfo,i=n.formatedDate;if(t&&!(n.time>=r.start.time&&n.time<r.end.time+rv))return[NaN,NaN];var a=n.day,o=this._getRangeInfo([r.start.time,i]).nthWeek;return"vertical"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]:[this._rect.x+o*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},e.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},e.prototype.dataToRect=function(e,t){var n=this.dataToPoint(e,t);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},e.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,t-1,r):this._getDateByWeeksAndDay(t,n-1,r)},e.prototype.convertToPixel=function(e,t,n){var r=iv(t);return r===this?r.dataToPoint(n):null},e.prototype.convertFromPixel=function(e,t,n){var r=iv(t);return r===this?r.pointToData(n):null},e.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},e.prototype._initRangeOption=function(){var e,t=this._model.get("range");if(y.isArray(t)&&1===t.length&&(t=t[0]),y.isArray(t))e=t;else{var n=t.toString();if(/^\d{4}$/.test(n)&&(e=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var r=this.getDateInfo(n),i=r.date;i.setMonth(i.getMonth()+1);var a=this.getNextNDay(i,-1);e=[r.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(e=[n,n])}if(!e)return t;var o=this._getRangeInfo(e);return o.start.time>o.end.time&&e.reverse(),e},e.prototype._getRangeInfo=function(e){var t,n=[this.getDateInfo(e[0]),this.getDateInfo(e[1])];n[0].time>n[1].time&&(t=!0,n.reverse());var r=Math.floor(n[1].time/rv)-Math.floor(n[0].time/rv)+1,i=new Date(n[0].time),a=i.getDate(),o=n[1].date.getDate();i.setDate(a+r-1);var s=i.getDate();if(s!==o)for(var u=i.getTime()-n[1].time>0?1:-1;(s=i.getDate())!==o&&(i.getTime()-n[1].time)*u>0;)r-=u,i.setDate(s-u);var l=Math.floor((r+n[0].day+6)/7),c=t?1-l:l-1;return t&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:r,weeks:l,nthWeek:c,fweek:n[0].day,lweek:n[1].day}},e.prototype._getDateByWeeksAndDay=function(e,t,n){var r=this._getRangeInfo(n);if(e>r.weeks||0===e&&t<r.fweek||e===r.weeks&&t>r.lweek)return null;var i=7*(e-1)-r.fweek+t,a=new Date(r.start.time);return a.setDate(+r.start.d+i),this.getDateInfo(a)},e.create=function(t,n){var r=[];return t.eachComponent("calendar",(function(i){var a=new e(i,t,n);r.push(a),i.coordinateSystem=a})),t.eachSeries((function(e){"calendar"===e.get("coordinateSystem")&&(e.coordinateSystem=r[e.get("calendarIndex")||0])})),r},e.dimensions=["time","value"],e}();function ov(e,t){var n;return y.each(t,(function(t){null!=e[t]&&"auto"!==e[t]&&(n=!0)})),n}var sv=["transition","enterFrom","leaveTo"],uv=sv.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function lv(e,t,n){if(n&&(!e[n]&&t[n]&&(e[n]={}),e=e[n],t=t[n]),e&&t)for(var r=n?sv:uv,i=0;i<r.length;i++){var a=r[i];null==e[a]&&null!=t[a]&&(e[a]=t[a])}}var cv=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.preventAutoZ=!0,n}return(0,De.ZT)(t,e),t.prototype.mergeOption=function(t,n){var r=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,t,n),this.option.elements=r},t.prototype.optionUpdated=function(e,t){var n=this.option,r=(t?n:e).elements,i=n.elements=t?[]:n.elements,a=[];this._flatten(r,a,null);var o=Je.ab(i,a,"normalMerge"),s=this._elOptionsToUpdate=[];y.each(o,(function(e,t){var n=e.newOption;n&&(s.push(n),function(e,t){var n=e.existing;if(t.id=e.keyInfo.id,!t.type&&n&&(t.type=n.type),null==t.parentId){var r=t.parentOption;r?t.parentId=r.id:n&&(t.parentId=n.parentId)}t.parentOption=null}(e,n),function(e,t,n){var r=y.extend({},n),i=e[t],a=n.$action||"merge";"merge"===a?i?(y.merge(i,r,!0),(0,pn.dt)(i,r,{ignoreSize:!0}),(0,pn.QT)(n,i),lv(n,i),lv(n,i,"shape"),lv(n,i,"style"),lv(n,i,"extra"),n.clipPath=i.clipPath):e[t]=r:"replace"===a?e[t]=r:"remove"===a&&i&&(e[t]=null)}(i,t,n),function(e,t){if(e&&(e.hv=t.hv=[ov(t,["left","right"]),ov(t,["top","bottom"])],"group"===e.type)){var n=e,r=t;null==n.width&&(n.width=r.width=0),null==n.height&&(n.height=r.height=0)}}(i[t],n))}),this),n.elements=y.filter(i,(function(e){return e&&delete e.$action,null!=e}))},t.prototype._flatten=function(e,t,n){y.each(e,(function(e){if(e){n&&(e.parentOption=n),t.push(e);var r=e.children;"group"===e.type&&r&&this._flatten(r,t,e),delete e.children}}),this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(Qn.Z),dv={path:null,compoundPath:null,group:Me.Z,image:s.ZP,text:U.ZP},fv=Je.Yf(),hv=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.init=function(){this._elMap=y.createHashMap()},t.prototype.render=function(e,t,n){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,n)},t.prototype._updateElements=function(e){var t=e.useElOptionsToUpdate();if(t){var n=this._elMap,r=this.group,i=e.get("z"),a=e.get("zlevel");y.each(t,(function(t){var o=Je.U5(t.id,null),s=null!=o?n.get(o):null,u=Je.U5(t.parentId,null),l=null!=u?n.get(u):r,c=t.type,d=t.style;"text"===c&&d&&t.hv&&t.hv[1]&&(d.textVerticalAlign=d.textBaseline=d.verticalAlign=d.align=null);var f=t.textContent,h=t.textConfig;if(d&&ep(d,c,!!h,!!f)){var p=tp(d,c,!0);!h&&p.textConfig&&(h=t.textConfig=p.textConfig),!f&&p.textContent&&(f=p.textContent)}var m=function(e){return e=y.extend({},e),y.each(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(pn.gN),(function(t){delete e[t]})),e}(t);var g=t.$action||"merge",v="merge"===g,x="replace"===g;if(v){var b=s;(T=!s)?b=mv(o,l,t.type,n):(b&&(fv(b).isNew=!1),Sp(b)),b&&(dp(b,m,e,{isInit:T}),vv(b,t,i,a))}else if(x){gv(s,t,n,e);var w=mv(o,l,t.type,n);w&&(dp(w,m,e,{isInit:!0}),vv(w,t,i,a))}else"remove"===g&&(fp(s,t),gv(s,t,n,e));var _=n.get(o);if(_&&f)if(v){var S=_.getTextContent();S?S.attr(f):_.setTextContent(new U.ZP(f))}else x&&_.setTextContent(new U.ZP(f));if(_){var C=t.clipPath;if(C){var k=C.type,D=void 0,T=!1;if(v){var I=_.getClipPath();D=(T=!I||fv(I).type!==k)?pv(k):I}else x&&(T=!0,D=pv(k));_.setClipPath(D),dp(D,C,e,{isInit:T}),Cp(D,C.keyframeAnimation,e)}var A=fv(_);_.setTextConfig(h),A.option=t,function(e,t,n){var r=(0,Oe.A)(e).eventData;e.silent||e.ignore||r||(r=(0,Oe.A)(e).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name});r&&(r.info=n.info)}(_,e,t),Re.setTooltipConfig({el:_,componentModel:e,itemName:_.name,itemTooltipOption:t.tooltip}),Cp(_,t.keyframeAnimation,e)}}))}},t.prototype._relocate=function(e,t){for(var n=e.option.elements,r=this.group,i=this._elMap,a=t.getWidth(),o=t.getHeight(),s=["x","y"],u=0;u<n.length;u++){var l=n[u];if((p=null!=(h=Je.U5(l.id,null))?i.get(h):null)&&p.isGroup){var c=(m=p.parent)===r,d=fv(p),f=fv(m);d.width=(0,dt.GM)(d.option.width,c?a:f.width)||0,d.height=(0,dt.GM)(d.option.height,c?o:f.height)||0}}for(u=n.length-1;u>=0;u--){var h,p;l=n[u];if(p=null!=(h=Je.U5(l.id,null))?i.get(h):null){var m=p.parent,g=(f=fv(m),m===r?{width:a,height:o}:{width:f.width,height:f.height}),v={},x=pn.p$(p,l,g,null,{hv:l.hv,boundingMode:l.bounding},v);if(!fv(p).isNew&&x){for(var b=l.transition,w={},_=0;_<s.length;_++){var S=s[_],C=v[S];b&&(pp(b)||y.indexOf(b,S)>=0)?w[S]=C:p[S]=C}(0,Pe.D)(p,w,e,0)}else p.attr(v)}}},t.prototype._clear=function(){var e=this,t=this._elMap;t.each((function(n){gv(n,fv(n).option,t,e._lastGraphicModel)})),this._elMap=y.createHashMap()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(Kn.Z);function pv(e){var t=new(y.hasOwn(dv,e)?dv[e]:Re.getShapeClass(e))({});return fv(t).type=e,t}function mv(e,t,n,r){var i=pv(n);return t.add(i),r.set(e,i),fv(i).id=e,fv(i).isNew=!0,i}function gv(e,t,n,r){e&&e.parent&&("group"===e.type&&e.traverse((function(e){gv(e,t,n,r)})),hp(e,t,r),n.removeKey(fv(e).id))}function vv(e,t,n,r){if(!e.isGroup){var i=e;i.cursor=y.retrieve2(t.cursor,Fa.ZP.prototype.cursor),i.z=y.retrieve2(t.z,n||0),i.zlevel=y.retrieve2(t.zlevel,r||0);var a=t.z2;null!=a&&(i.z2=a||0)}y.each(y.keys(t),(function(n){var r=t[n];0===n.indexOf("on")&&y.isFunction(r)&&(e[n]=r)})),e.draggable=t.draggable,null!=t.name&&(e.name=t.name),null!=t.id&&(e.id=t.id)}var yv=["x","y","radius","angle","single"],xv=["cartesian2d","polar","singleAxis"];function bv(e){return e+"Axis"}function wv(e,t){var n,r=(0,y.createHashMap)(),i=[],a=(0,y.createHashMap)();e.eachComponent({mainType:"dataZoom",query:t},(function(e){a.get(e.uid)||s(e)}));do{n=!1,e.eachComponent("dataZoom",o)}while(n);function o(e){!a.get(e.uid)&&function(e){var t=!1;return e.eachTargetAxis((function(e,n){var i=r.get(e);i&&i[n]&&(t=!0)})),t}(e)&&(s(e),n=!0)}function s(e){a.set(e.uid,!0),i.push(e),e.eachTargetAxis((function(e,t){(r.get(e)||r.set(e,[]))[t]=!0}))}return i}function _v(e){var t=e.ecModel,n={infoList:[],infoMap:(0,y.createHashMap)()};return e.eachTargetAxis((function(e,r){var i=t.getComponent(bv(e),r);if(i){var a=i.getCoordSysModel();if(a){var o=a.uid,s=n.infoMap.get(o);s||(s={model:a,axisModels:[]},n.infoList.push(s),n.infoMap.set(o,s)),s.axisModels.push(i)}}})),n}var Sv=function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},e}(),Cv=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return(0,De.ZT)(t,e),t.prototype.init=function(e,t,n){var r=kv(e);this.settledOption=r,this.mergeDefaultAndTheme(e,n),this._doInit(r)},t.prototype.mergeOption=function(e){var t=kv(e);(0,y.merge)(this.option,e,!0),(0,y.merge)(this.settledOption,t,!0),this._doInit(t)},t.prototype._doInit=function(e){var t=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var n=this.settledOption;(0,y.each)([["start","startValue"],["end","endValue"]],(function(e,r){"value"===this._rangePropMode[r]&&(t[e[0]]=n[e[0]]=null)}),this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),t=this._targetAxisInfoMap=(0,y.createHashMap)();this._fillSpecifiedTargetAxis(t)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(t,this._orient)),this._noTarget=!0,t.each((function(e){e.indexList.length&&(this._noTarget=!1)}),this)},t.prototype._fillSpecifiedTargetAxis=function(e){var t=!1;return(0,y.each)(yv,(function(n){var r=this.getReferringComponents(bv(n),Je.iP);if(r.specified){t=!0;var i=new Sv;(0,y.each)(r.models,(function(e){i.add(e.componentIndex)})),e.set(n,i)}}),this),t},t.prototype._fillAutoTargetAxisByOrient=function(e,t){var n=this.ecModel,r=!0;if(r){var i="vertical"===t?"y":"x";a(n.findComponents({mainType:i+"Axis"}),i)}r&&a(n.findComponents({mainType:"singleAxis",filter:function(e){return e.get("orient",!0)===t}}),"single");function a(t,n){var i=t[0];if(i){var a=new Sv;if(a.add(i.componentIndex),e.set(n,a),r=!1,"x"===n||"y"===n){var o=i.getReferringComponents("grid",Je.C6).models[0];o&&(0,y.each)(t,(function(e){i.componentIndex!==e.componentIndex&&o===e.getReferringComponents("grid",Je.C6).models[0]&&a.add(e.componentIndex)}))}}}r&&(0,y.each)(yv,(function(t){if(r){var i=n.findComponents({mainType:bv(t),filter:function(e){return"category"===e.get("type",!0)}});if(i[0]){var a=new Sv;a.add(i[0].componentIndex),e.set(t,a),r=!1}}}),this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis((function(t){!e&&(e=t)}),this),"y"===e?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var t=this._rangePropMode,n=this.get("rangeMode");(0,y.each)([["start","startValue"],["end","endValue"]],(function(r,i){var a=null!=e[r[0]],o=null!=e[r[1]];a&&!o?t[i]="percent":!a&&o?t[i]="value":n?t[i]=n[i]:a&&(t[i]="percent")}))},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis((function(t,n){null==e&&(e=this.ecModel.getComponent(bv(t),n))}),this),e},t.prototype.eachTargetAxis=function(e,t){this._targetAxisInfoMap.each((function(n,r){(0,y.each)(n.indexList,(function(n){e.call(t,r,n)}))}))},t.prototype.getAxisProxy=function(e,t){var n=this.getAxisModel(e,t);if(n)return n.__dzAxisProxy},t.prototype.getAxisModel=function(e,t){var n=this._targetAxisInfoMap.get(e);if(n&&n.indexMap[t])return this.ecModel.getComponent(bv(e),t)},t.prototype.setRawRange=function(e){var t=this.option,n=this.settledOption;(0,y.each)([["start","startValue"],["end","endValue"]],(function(r){null==e[r[0]]&&null==e[r[1]]||(t[r[0]]=n[r[0]]=e[r[0]],t[r[1]]=n[r[1]]=e[r[1]])}),this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var t=this.option;(0,y.each)(["start","startValue","end","endValue"],(function(n){t[n]=e[n]}))},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var t,n=this._targetAxisInfoMap.keys(),r=0;r<n.length;r++)for(var i=n[r],a=this._targetAxisInfoMap.get(i),o=0;o<a.indexList.length;o++){var s=this.getAxisProxy(i,a.indexList[o]);if(s.hostedBy(this))return s;t||(t=s)}return t},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(Qn.Z);function kv(e){var t={};return(0,y.each)(["start","end","startValue","endValue","throttle"],(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}var Dv=Cv,Tv=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.type="dataZoom.select",t}(Dv),Iv=Tv,Av=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n,r){this.dataZoomModel=e,this.ecModel=t,this.api=n},t.type="dataZoom",t}(Kn.Z),Mv=Av,Ev=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.type="dataZoom.select",t}(Mv),Nv=Ev,Rv=n(73156),Pv=y.each,Ov=dt.dt,Lv=function(){function e(e,t,n,r){this._dimName=e,this._axisIndex=t,this.ecModel=r,this._dataZoomModel=n}return e.prototype.hostedBy=function(e){return this._dataZoomModel===e},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries((function(t){if(function(e){var t=e.get("coordinateSystem");return(0,y.indexOf)(xv,t)>=0}(t)){var n=bv(this._dimName),r=t.getReferringComponents(n,Je.C6).models[0];r&&this._axisIndex===r.componentIndex&&e.push(t)}}),this),e},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return y.clone(this._minMaxSpan)},e.prototype.calculateDataWindow=function(e){var t,n=this._dataExtent,r=this.getAxisModel().axis.scale,i=this._dataZoomModel.getRangePropMode(),a=[0,100],o=[],s=[];Pv(["start","end"],(function(u,l){var c=e[u],d=e[u+"Value"];"percent"===i[l]?(null==c&&(c=a[l]),d=r.parse(dt.NU(c,a,n))):(t=!0,d=null==d?n[l]:r.parse(d),c=dt.NU(d,n,a)),s[l]=d,o[l]=c})),Ov(s),Ov(o);var u=this._minMaxSpan;function l(e,t,n,i,a){var o=a?"Span":"ValueSpan";Jl(0,e,n,"all",u["min"+o],u["max"+o]);for(var s=0;s<2;s++)t[s]=dt.NU(e[s],n,i,!0),a&&(t[s]=r.parse(t[s]))}return t?l(s,o,n,a,!1):l(o,s,a,n,!0),{valueWindow:s,percentWindow:o}},e.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function(e,t,n){var r=[1/0,-1/0];Pv(n,(function(e){(0,cr.AH)(r,e.getData(),t)}));var i=e.getAxisModel(),a=(0,Rv.Qw)(i.axis.scale,i,r).calculate();return[a.min,a.max]}(this,this._dimName,t),this._updateMinMaxSpan();var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(e,t){if(e===this._dataZoomModel){var n=this._dimName,r=this.getTargetSeriesModels(),i=e.get("filterMode"),a=this._valueWindow;"none"!==i&&Pv(r,(function(e){var t=e.getData(),r=t.mapDimensionsAll(n);if(r.length){if("weakFilter"===i){var o=t.getStore(),s=y.map(r,(function(e){return t.getDimensionIndex(e)}),t);t.filterSelf((function(e){for(var t,n,i,u=0;u<r.length;u++){var l=o.get(s[u],e),c=!isNaN(l),d=l<a[0],f=l>a[1];if(c&&!d&&!f)return!0;c&&(i=!0),d&&(t=!0),f&&(n=!0)}return i&&t&&n}))}else Pv(r,(function(n){if("empty"===i)e.setData(t=t.map(n,(function(e){return function(e){return e>=a[0]&&e<=a[1]}(e)?e:NaN})));else{var r={};r[n]=a,t.selectRange(r)}}));Pv(r,(function(e){t.setApproximateExtent(a,e)}))}}))}},e.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,n=this._dataExtent;Pv(["min","max"],(function(r){var i=t.get(r+"Span"),a=t.get(r+"ValueSpan");null!=a&&(a=this.getAxisModel().axis.scale.parse(a)),null!=a?i=dt.NU(n[0]+a,n,[0,100],!0):null!=i&&(a=dt.NU(i,[0,100],n,!0)-n[0]),e[r+"Span"]=i,e[r+"ValueSpan"]=a}),this)},e.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,n=this._valueWindow;if(t){var r=dt.M9(n,[0,500]);r=Math.min(r,20);var i=e.axis.scale.rawExtentInfo;0!==t[0]&&i.setDeterminedMinMax("min",+n[0].toFixed(r)),100!==t[1]&&i.setDeterminedMinMax("max",+n[1].toFixed(r)),i.freeze()}},e}();var Fv=Lv,Zv={getTargetSeries:function(e){function t(t){e.eachComponent("dataZoom",(function(n){n.eachTargetAxis((function(r,i){var a=e.getComponent(bv(r),i);t(r,i,a,n)}))}))}t((function(e,t,n,r){n.__dzAxisProxy=null}));var n=[];t((function(t,r,i,a){i.__dzAxisProxy||(i.__dzAxisProxy=new Fv(t,r,a,e),n.push(i.__dzAxisProxy))}));var r=(0,y.createHashMap)();return(0,y.each)(n,(function(e){(0,y.each)(e.getTargetSeriesModels(),(function(e){r.set(e.uid,e)}))})),r},overallReset:function(e,t){e.eachComponent("dataZoom",(function(e){e.eachTargetAxis((function(t,n){e.getAxisProxy(t,n).reset(e)})),e.eachTargetAxis((function(n,r){e.getAxisProxy(n,r).filterData(e,t)}))})),e.eachComponent("dataZoom",(function(e){var t=e.findRepresentativeAxisProxy();if(t){var n=t.getDataPercentWindow(),r=t.getDataValueWindow();e.setCalculatedRange({start:n[0],end:n[1],startValue:r[0],endValue:r[1]})}}))}};var Bv=!1;function zv(e){Bv||(Bv=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,Zv),function(e){e.registerAction("dataZoom",(function(e,t){var n=wv(t,e);(0,y.each)(n,(function(t){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})}))}))}(e),e.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function Vv(e){e.registerComponentModel(Iv),e.registerComponentView(Nv),zv(e)}var jv=function(){},Wv={};function Uv(e,t){Wv[e]=t}function Hv(e){return Wv[e]}var Gv=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;y.each(this.option.feature,(function(e,n){var r=Hv(n);r&&(r.getDefaultOption&&(r.defaultOption=r.getDefaultOption(t)),y.merge(e,r.defaultOption))}))},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(Qn.Z),Xv=Gv;function qv(e,t){var n=gt.MY(t.get("padding")),r=t.getItemStyle(["color","opacity"]);return r.fill=t.get("backgroundColor"),e=new lt.Z({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1})}var Yv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n,r){var i=this.group;if(i.removeAll(),e.get("show")){var a=+e.get("itemSize"),o="vertical"===e.get("orient"),s=e.get("feature")||{},l=this._features||(this._features={}),c=[];y.each(s,(function(e,t){c.push(t)})),new ps.Z(this._featureNames||[],c).add(d).update(d).remove(y.curry(d,null)).execute(),this._featureNames=c,function(e,t,n){var r=t.getBoxLayoutParams(),i=t.get("padding"),a={width:n.getWidth(),height:n.getHeight()},o=(0,pn.ME)(r,a,i);(0,pn.BZ)(t.get("orient"),e,t.get("itemGap"),o.width,o.height),(0,pn.p$)(e,r,a,i)}(i,e,n),i.add(qv(i.getBoundingRect(),e)),o||i.eachChild((function(e){var t=e.__title,r=e.ensureState("emphasis"),o=r.textConfig||(r.textConfig={}),s=e.getTextContent(),l=s&&s.ensureState("emphasis");if(l&&!y.isFunction(l)&&t){var c=l.style||(l.style={}),d=u.lP(t,U.ZP.makeFont(c)),f=e.x+i.x,h=!1;e.y+i.y+a+d.height>n.getHeight()&&(o.position="top",h=!0);var p=h?-5-d.height:a+10;f+d.width/2>n.getWidth()?(o.position=["100%",p],c.align="right"):f-d.width/2<0&&(o.position=[0,p],c.align="left")}}))}function d(u,d){var f,h=c[u],p=c[d],m=s[h],g=new Pr.Z(m,e,e.ecModel);if(r&&null!=r.newTitle&&r.featureName===h&&(m.title=r.newTitle),h&&!p){if(function(e){return 0===e.indexOf("my")}(h))f={onclick:g.option.onclick,featureName:h};else{var v=Hv(h);if(!v)return;f=new v}l[h]=f}else if(!(f=l[p]))return;f.uid=(0,Zt.Kr)("toolbox-feature"),f.model=g,f.ecModel=t,f.api=n;var x=f instanceof jv;h||!p?!g.get("show")||x&&f.unusable?x&&f.remove&&f.remove(t,n):(!function(r,s,u){var l,c,d=r.getModel("iconStyle"),f=r.getModel(["emphasis","iconStyle"]),h=s instanceof jv&&s.getIcons?s.getIcons():r.get("icon"),p=r.get("title")||{};y.isString(h)?(l={})[u]=h:l=h;y.isString(p)?(c={})[u]=p:c=p;var m=r.iconPaths={};y.each(l,(function(u,l){var h=Re.createIcon(u,{},{x:-a/2,y:-a/2,width:a,height:a});h.setStyle(d.getItemStyle()),h.ensureState("emphasis").style=f.getItemStyle();var p=new U.ZP({style:{text:c[l],align:f.get("textAlign"),borderRadius:f.get("textBorderRadius"),padding:f.get("textPadding"),fill:null},ignore:!0});h.setTextContent(p),Re.setTooltipConfig({el:h,componentModel:e,itemName:l,formatterParamsExtra:{title:c[l]}}),h.__title=c[l],h.on("mouseover",(function(){var t=f.getItemStyle(),r=o?null==e.get("right")&&"right"!==e.get("left")?"right":"left":null==e.get("bottom")&&"bottom"!==e.get("top")?"bottom":"top";p.setStyle({fill:f.get("textFill")||t.fill||t.stroke||"#000",backgroundColor:f.get("textBackgroundColor")}),h.setTextConfig({position:f.get("textPosition")||r}),p.ignore=!e.get("showTitle"),n.enterEmphasis(this)})).on("mouseout",(function(){"emphasis"!==r.get(["iconStatus",l])&&n.leaveEmphasis(this),p.hide()})),("emphasis"===r.get(["iconStatus",l])?Le.fD:Le.Mh)(h),i.add(h),h.on("click",y.bind(s.onclick,s,t,n,l)),m[l]=h}))}(g,f,h),g.setIconStatus=function(e,t){var n=this.option,r=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[e]=t,r[e]&&("emphasis"===t?Le.fD:Le.Mh)(r[e])},f instanceof jv&&f.render&&f.render(g,t,n,r)):x&&f.dispose&&f.dispose(t,n)}},t.prototype.updateView=function(e,t,n,r){y.each(this._features,(function(e){e instanceof jv&&e.updateView&&e.updateView(e.model,t,n,r)}))},t.prototype.remove=function(e,t){y.each(this._features,(function(n){n instanceof jv&&n.remove&&n.remove(e,t)})),this.group.removeAll()},t.prototype.dispose=function(e,t){y.each(this._features,(function(n){n instanceof jv&&n.dispose&&n.dispose(e,t)}))},t.type="toolbox",t}(Kn.Z);var Kv=Yv,Qv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,De.ZT)(t,e),t.prototype.onclick=function(e,t){var n=this.model,r=n.get("name")||e.get("title.0.text")||"echarts",i="svg"===t.getZr().painter.getType(),a=i?"svg":n.get("type",!0)||"png",o=t.getConnectedDataURL({type:a,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")}),s=Dm.Z.browser;if((0,y.isFunction)(MouseEvent)&&(s.newEdge||!s.ie&&!s.edge)){var u=document.createElement("a");u.download=r+"."+a,u.target="_blank",u.href=o;var l=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});u.dispatchEvent(l)}else if(window.navigator.msSaveOrOpenBlob||i){var c=o.split(","),d=c[0].indexOf("base64")>-1,f=i?decodeURIComponent(c[1]):c[1];d&&(f=window.atob(f));var h=r+"."+a;if(window.navigator.msSaveOrOpenBlob){for(var p=f.length,m=new Uint8Array(p);p--;)m[p]=f.charCodeAt(p);var g=new Blob([m]);window.navigator.msSaveOrOpenBlob(g,h)}else{var v=document.createElement("iframe");document.body.appendChild(v);var x=v.contentWindow,b=x.document;b.open("image/svg+xml","replace"),b.write(f),b.close(),x.focus(),b.execCommand("SaveAs",!0,h),document.body.removeChild(v)}}else{var w=n.get("lang"),_='<body style="margin:0;"><img src="'+o+'" style="max-width:100%;" title="'+(w&&w[0]||"")+'" /></body>',S=window.open();S.document.write(_),S.document.title=r}},t.getDefaultOption=function(e){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},t}(jv),Jv=Qv,$v="__ec_magicType_stack__",ey=[["line","bar"],["stack"]],ty=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,De.ZT)(t,e),t.prototype.getIcons=function(){var e=this.model,t=e.get("icon"),n={};return y.each(e.get("type"),(function(e){t[e]&&(n[e]=t[e])})),n},t.getDefaultOption=function(e){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},t.prototype.onclick=function(e,t,n){var r=this.model,i=r.get(["seriesIndex",n]);if(ny[n]){var a,o={series:[]};y.each(ey,(function(e){y.indexOf(e,n)>=0&&y.each(e,(function(e){r.setIconStatus(e,"normal")}))})),r.setIconStatus(n,"emphasis"),e.eachComponent({mainType:"series",query:null==i?null:{seriesIndex:i}},(function(e){var t=e.subType,i=e.id,a=ny[n](t,i,e,r);a&&(y.defaults(a,e.option),o.series.push(a));var s=e.coordinateSystem;if(s&&"cartesian2d"===s.type&&("line"===n||"bar"===n)){var u=s.getAxesByScale("ordinal")[0];if(u){var l=u.dim+"Axis",c=e.getReferringComponents(l,Je.C6).models[0].componentIndex;o[l]=o[l]||[];for(var d=0;d<=c;d++)o[l][c]=o[l][c]||{};o[l][c].boundaryGap="bar"===n}}}));var s=n;"stack"===n&&(a=y.merge({stack:r.option.title.tiled,tiled:r.option.title.stack},r.option.title),"emphasis"!==r.get(["iconStatus",n])&&(s="tiled")),t.dispatchAction({type:"changeMagicType",currentType:s,newOption:o,newTitle:a,featureName:"magicType"})}},t}(jv),ny={line:function(e,t,n,r){if("bar"===e)return y.merge({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(e,t,n,r){if("line"===e)return y.merge({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(e,t,n,r){var i=n.get("stack")===$v;if("line"===e||"bar"===e)return r.setIconStatus("stack",i?"normal":"emphasis"),y.merge({id:t,stack:i?"":$v},r.get(["option","stack"])||{},!0)}};Oi.zl({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(e,t){t.mergeOption(e.newOption)}));var ry=ty,iy=new Array(60).join("-"),ay="\t";function oy(e){var t=[];return y.each(e,(function(e,n){var r=e.categoryAxis,i=e.valueAxis.dim,a=[" "].concat(y.map(e.series,(function(e){return e.name}))),o=[r.model.getCategories()];y.each(e.series,(function(e){var t=e.getRawData();o.push(e.getRawData().mapArray(t.mapDimension(i),(function(e){return e})))}));for(var s=[a.join(ay)],u=0;u<o[0].length;u++){for(var l=[],c=0;c<o.length;c++)l.push(o[c][u]);s.push(l.join(ay))}t.push(s.join("\n"))})),t.join("\n\n"+iy+"\n\n")}function sy(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var uy=new RegExp("[\t]+","g");function ly(e,t){var n=e.split(new RegExp("\n*"+iy+"\n*","g")),r={series:[]};return y.each(n,(function(e,n){if(function(e){if(e.slice(0,e.indexOf("\n")).indexOf(ay)>=0)return!0}(e)){var i=function(e){for(var t=e.split(/\n+/g),n=sy(t.shift()).split(uy),r=[],i=y.map(n,(function(e){return{name:e,data:[]}})),a=0;a<t.length;a++){var o=sy(t[a]).split(uy);r.push(o.shift());for(var s=0;s<o.length;s++)i[s]&&(i[s].data[a]=o[s])}return{series:i,categories:r}}(e),a=t[n],o=a.axisDim+"Axis";a&&(r[o]=r[o]||[],r[o][a.axisIndex]={data:i.categories},r.series=r.series.concat(i.series))}else{i=function(e){for(var t=e.split(/\n+/g),n=sy(t.shift()),r=[],i=0;i<t.length;i++){var a=sy(t[i]);if(a){var o=a.split(uy),s="",u=void 0,l=!1;isNaN(o[0])?(l=!0,s=o[0],o=o.slice(1),r[i]={name:s,value:[]},u=r[i].value):u=r[i]=[];for(var c=0;c<o.length;c++)u.push(+o[c]);1===u.length&&(l?r[i].value=u[0]:r[i]=u[0])}}return{name:n,data:r}}(e);r.series.push(i)}})),r}var cy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,De.ZT)(t,e),t.prototype.onclick=function(e,t){setTimeout((function(){t.dispatchAction({type:"hideTip"})}));var n=t.getDom(),r=this.model;this._dom&&n.removeChild(this._dom);var i=document.createElement("div");i.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",i.style.backgroundColor=r.get("backgroundColor")||"#fff";var a=document.createElement("h4"),o=r.get("lang")||[];a.innerHTML=o[0]||r.get("title"),a.style.cssText="margin:10px 20px",a.style.color=r.get("textColor");var s=document.createElement("div"),u=document.createElement("textarea");s.style.cssText="overflow:auto";var l=r.get("optionToContent"),c=r.get("contentToOption"),d=function(e){var t,n=function(e){var t={},n=[],r=[];return e.eachRawSeries((function(e){var i=e.coordinateSystem;if(!i||"cartesian2d"!==i.type&&"polar"!==i.type)n.push(e);else{var a=i.getBaseAxis();if("category"===a.type){var o=a.dim+"_"+a.index;t[o]||(t[o]={categoryAxis:a,valueAxis:i.getOtherAxis(a),series:[]},r.push({axisDim:a.dim,axisIndex:a.index})),t[o].series.push(e)}else n.push(e)}})),{seriesGroupByCategoryAxis:t,other:n,meta:r}}(e);return{value:y.filter([oy(n.seriesGroupByCategoryAxis),(t=n.other,y.map(t,(function(e){var t=e.getRawData(),n=[e.name],r=[];return t.each(t.dimensions,(function(){for(var e=arguments.length,i=arguments[e-1],a=t.getName(i),o=0;o<e-1;o++)r[o]=arguments[o];n.push((a?a+ay:"")+r.join(ay))})),n.join("\n")})).join("\n\n"+iy+"\n\n"))],(function(e){return!!e.replace(/[\n\t\s]/g,"")})).join("\n\n"+iy+"\n\n"),meta:n.meta}}(e);if(y.isFunction(l)){var f=l(t.getOption());y.isString(f)?s.innerHTML=f:y.isDom(f)&&s.appendChild(f)}else{u.readOnly=r.get("readOnly");var h=u.style;h.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",h.color=r.get("textColor"),h.borderColor=r.get("textareaBorderColor"),h.backgroundColor=r.get("textareaColor"),u.value=d.value,s.appendChild(u)}var p=d.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:5px;left:0;right:0";var g="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",v=document.createElement("div"),x=document.createElement("div");g+=";background-color:"+r.get("buttonColor"),g+=";color:"+r.get("buttonTextColor");var b=this;function w(){n.removeChild(i),b._dom=null}(0,Pi.Oo)(v,"click",w),(0,Pi.Oo)(x,"click",(function(){if(null==c&&null!=l||null!=c&&null==l)w();else{var e;try{e=y.isFunction(c)?c(s,t.getOption()):ly(u.value,p)}catch(n){throw w(),new Error("Data view format error "+n)}e&&t.dispatchAction({type:"changeDataView",newOption:e}),w()}})),v.innerHTML=o[1],x.innerHTML=o[2],x.style.cssText=v.style.cssText=g,!r.get("readOnly")&&m.appendChild(x),m.appendChild(v),i.appendChild(a),i.appendChild(s),i.appendChild(m),s.style.height=n.clientHeight-80+"px",n.appendChild(i),this._dom=i},t.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},t}(jv);function dy(e,t){return y.map(e,(function(e,n){var r=t&&t[n];if(y.isObject(r)&&!y.isArray(r)){y.isObject(e)&&!y.isArray(e)||(e={value:e});var i=null!=r.name&&null==e.name;return e=y.defaults(e,r),i&&delete e.name,e}return e}))}Oi.zl({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(e,t){var n=[];y.each(e.newOption.series,(function(e){var r=t.getSeriesByName(e.name)[0];if(r){var i=r.get("data");n.push({name:e.name,data:dy(e.data,i)})}else n.push(y.extend({type:"scatter"},e))})),t.mergeOption(y.defaults({series:n},e.newOption))}));var fy=cy,hy=y.each,py=(0,Je.Yf)();function my(e){var t=py(e);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var gy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,De.ZT)(t,e),t.prototype.onclick=function(e,t){!function(e){py(e).snapshots=null}(e),t.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])}},t}(jv);Oi.zl({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(e,t){t.resetOption("recreate")}));var vy=gy,yy=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],xy=function(){function e(e,t,n){var r=this;this._targetInfoList=[];var i=wy(t,e);(0,y.each)(_y,(function(e,t){(!n||!n.include||(0,y.indexOf)(n.include,t)>=0)&&e(i,r._targetInfoList)}))}return e.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,(function(e,t,n){if((e.coordRanges||(e.coordRanges=[])).push(t),!e.coordRange){e.coordRange=t;var r=ky[e.brushType](0,n,t);e.__rangeOffset={offset:Ty[e.brushType](r.values,e.range,[1,1]),xyMinMax:r.xyMinMax}}})),e},e.prototype.matchOutputRanges=function(e,t,n){(0,y.each)(e,(function(e){var r=this.findTargetInfo(e,t);r&&!0!==r&&(0,y.each)(r.coordSyses,(function(r){var i=ky[e.brushType](1,r,e.range,!0);n(e,i.values,r,t)}))}),this)},e.prototype.setInputRanges=function(e,t){(0,y.each)(e,(function(e){var n=this.findTargetInfo(e,t);if(e.range=e.range||[],n&&!0!==n){e.panelId=n.panelId;var r=ky[e.brushType](0,n.coordSys,e.coordRange),i=e.__rangeOffset;e.range=i?Ty[e.brushType](r.values,i.offset,function(e,t){var n=Ay(e),r=Ay(t),i=[n[0]/r[0],n[1]/r[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}(r.xyMinMax,i.xyMinMax)):r.values}}),this)},e.prototype.makePanelOpts=function(e,t){return(0,y.map)(this._targetInfoList,(function(n){var r=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t?t(n):null,clipPath:rd(r),isTargetByCursor:ad(r,e,n.coordSysModel),getLinearBrushOtherExtent:id(r)}}))},e.prototype.controlSeries=function(e,t,n){var r=this.findTargetInfo(e,n);return!0===r||r&&(0,y.indexOf)(r.coordSyses,t.coordinateSystem)>=0},e.prototype.findTargetInfo=function(e,t){for(var n=this._targetInfoList,r=wy(t,e),i=0;i<n.length;i++){var a=n[i],o=e.panelId;if(o){if(a.panelId===o)return a}else for(var s=0;s<Sy.length;s++)if(Sy[s](r,a))return a}return!0},e}();function by(e){return e[0]>e[1]&&e.reverse(),e}function wy(e,t){return(0,Je.pm)(e,t,{includeMainTypes:yy})}var _y={grid:function(e,t){var n=e.xAxisModels,r=e.yAxisModels,i=e.gridModels,a=(0,y.createHashMap)(),o={},s={};(n||r||i)&&((0,y.each)(n,(function(e){var t=e.axis.grid.model;a.set(t.id,t),o[t.id]=!0})),(0,y.each)(r,(function(e){var t=e.axis.grid.model;a.set(t.id,t),s[t.id]=!0})),(0,y.each)(i,(function(e){a.set(e.id,e),o[e.id]=!0,s[e.id]=!0})),a.each((function(e){var i=e.coordinateSystem,a=[];(0,y.each)(i.getCartesians(),(function(e,t){((0,y.indexOf)(n,e.getAxis("x").model)>=0||(0,y.indexOf)(r,e.getAxis("y").model)>=0)&&a.push(e)})),t.push({panelId:"grid--"+e.id,gridModel:e,coordSysModel:e,coordSys:a[0],coordSyses:a,getPanelRect:Cy.grid,xAxisDeclared:o[e.id],yAxisDeclared:s[e.id]})})))},geo:function(e,t){(0,y.each)(e.geoModels,(function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:Cy.geo})}))}},Sy=[function(e,t){var n=e.xAxisModel,r=e.yAxisModel,i=e.gridModel;return!i&&n&&(i=n.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],Cy={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(Re.getTransform(e)),t}},ky={lineX:(0,y.curry)(Dy,0),lineY:(0,y.curry)(Dy,1),rect:function(e,t,n,r){var i=e?t.pointToData([n[0][0],n[1][0]],r):t.dataToPoint([n[0][0],n[1][0]],r),a=e?t.pointToData([n[0][1],n[1][1]],r):t.dataToPoint([n[0][1],n[1][1]],r),o=[by([i[0],a[0]]),by([i[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(e,t,n,r){var i=[[1/0,-1/0],[1/0,-1/0]];return{values:(0,y.map)(n,(function(n){var a=e?t.pointToData(n,r):t.dataToPoint(n,r);return i[0][0]=Math.min(i[0][0],a[0]),i[1][0]=Math.min(i[1][0],a[1]),i[0][1]=Math.max(i[0][1],a[0]),i[1][1]=Math.max(i[1][1],a[1]),a})),xyMinMax:i}}};function Dy(e,t,n,r){var i=n.getAxis(["x","y"][e]),a=by((0,y.map)([0,1],(function(e){return t?i.coordToData(i.toLocalCoord(r[e]),!0):i.toGlobalCoord(i.dataToCoord(r[e]))}))),o=[];return o[e]=a,o[1-e]=[NaN,NaN],{values:a,xyMinMax:o}}var Ty={lineX:(0,y.curry)(Iy,0),lineY:(0,y.curry)(Iy,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return(0,y.map)(e,(function(e,r){return[e[0]-n[0]*t[r][0],e[1]-n[1]*t[r][1]]}))}};function Iy(e,t,n,r){return[t[0]-r[e]*n[0],t[1]-r[e]*n[1]]}function Ay(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var My=xy,Ey=n(4090),Ny=y.each,Ry=(0,Je.g0)("toolbox-dataZoom_"),Py=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n,r){this._brushController||(this._brushController=new nd(n.getZr()),this._brushController.on("brush",y.bind(this._onBrush,this)).mount()),function(e,t,n,r,i){var a=n._isZoomActive;r&&"takeGlobalCursor"===r.type&&(a="dataZoomSelect"===r.key&&r.dataZoomSelectActive);n._isZoomActive=a,e.setIconStatus("zoom",a?"emphasis":"normal");var o=new My(Ly(e),t,{include:["grid"]}).makePanelOpts(i,(function(e){return e.xAxisDeclared&&!e.yAxisDeclared?"lineX":!e.xAxisDeclared&&e.yAxisDeclared?"lineY":"rect"}));n._brushController.setPanels(o).enableBrush(!(!a||!o.length)&&{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()})}(e,t,this,r,n),function(e,t){e.setIconStatus("back",function(e){return my(e).length}(t)>1?"emphasis":"normal")}(e,t)},t.prototype.onclick=function(e,t,n){Oy[n].call(this)},t.prototype.remove=function(e,t){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,t){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var t=e.areas;if(e.isEnd&&t.length){var n={},r=this.ecModel;this._brushController.updateCovers([]),new My(Ly(this.model),r,{include:["grid"]}).matchOutputRanges(t,r,(function(e,t,n){if("cartesian2d"===n.type){var r=e.brushType;"rect"===r?(i("x",n,t[0]),i("y",n,t[1])):i({lineX:"x",lineY:"y"}[r],n,t)}})),function(e,t){var n=my(e);hy(t,(function(t,r){for(var i=n.length-1;i>=0&&!n[i][r];i--);if(i<0){var a=e.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(a){var o=a.getPercentRange();n[0][r]={dataZoomId:r,start:o[0],end:o[1]}}}})),n.push(t)}(r,n),this._dispatchZoomAction(n)}function i(e,t,i){var a=t.getAxis(e),o=a.model,s=function(e,t,n){var r;return n.eachComponent({mainType:"dataZoom",subType:"select"},(function(n){n.getAxisModel(e,t.componentIndex)&&(r=n)})),r}(e,o,r),u=s.findRepresentativeAxisProxy(o).getMinMaxSpan();null==u.minValueSpan&&null==u.maxValueSpan||(i=Jl(0,i.slice(),a.scale.getExtent(),0,u.minValueSpan,u.maxValueSpan)),s&&(n[s.id]={dataZoomId:s.id,startValue:i[0],endValue:i[1]})}},t.prototype._dispatchZoomAction=function(e){var t=[];Ny(e,(function(e,n){t.push(y.clone(e))})),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},t.getDefaultOption=function(e){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},t}(jv),Oy={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(function(e){var t=my(e),n=t[t.length-1];t.length>1&&t.pop();var r={};return hy(n,(function(e,n){for(var i=t.length-1;i>=0;i--)if(e=t[i][n]){r[n]=e;break}})),r}(this.ecModel))}};function Ly(e){var t={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}(0,Ey.f)("dataZoom",(function(e){var t=e.getComponent("toolbox",0),n=["feature","dataZoom"];if(t&&null!=t.get(n)){var r=t.getModel(n),i=[],a=Ly(r),o=(0,Je.pm)(e,a);return Ny(o.xAxisModels,(function(e){return s(e,"xAxis","xAxisIndex")})),Ny(o.yAxisModels,(function(e){return s(e,"yAxis","yAxisIndex")})),i}function s(e,t,n){var a=e.componentIndex,o={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:Ry+t+a};o[n]=a,i.push(o)}}));var Fy=Py;var Zy=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(Qn.Z),By=Zy,zy=n(12248);function Vy(e){var t=e.get("confine");return null!=t?!!t:"richText"===e.get("renderMode")}function jy(e){if(Dm.Z.domSupported)for(var t=document.documentElement.style,n=0,r=e.length;n<r;n++)if(e[n]in t)return e[n]}var Wy=jy(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function Uy(e,t){if(!e)return t;t=(0,gt.zW)(t,!0);var n=e.indexOf(t);return(e=-1===n?t:"-"+e.slice(0,n)+"-"+t).toLowerCase()}var Hy=Uy(jy(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),Gy=Uy(Wy,"transform"),Xy="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Dm.Z.transform3dSupported?"will-change:transform;":"");function qy(e,t,n){var r=e.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!Dm.Z.transformSupported)return n?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var a=Dm.Z.transform3dSupported,o="translate"+(a?"3d":"")+"("+r+","+i+(a?",0":"")+")";return n?"top:0;left:0;"+Gy+":"+o+";":[["top",0],["left",0],[Wy,o]]}function Yy(e,t,n){var r=[],i=e.get("transitionDuration"),a=e.get("backgroundColor"),o=e.get("shadowBlur"),s=e.get("shadowColor"),u=e.get("shadowOffsetX"),l=e.get("shadowOffsetY"),c=e.getModel("textStyle"),d=(0,vi.d_)(e,"html"),f=u+"px "+l+"px "+o+"px "+s;return r.push("box-shadow:"+f),t&&i&&r.push(function(e,t){var n="cubic-bezier(0.23,1,0.32,1)",r=" "+e/2+"s "+n,i="opacity"+r+",visibility"+r;return t||(r=" "+e+"s "+n,i+=Dm.Z.transformSupported?","+Gy+r:",left"+r+",top"+r),Hy+":"+i}(i,n)),a&&r.push("background-color:"+a),(0,y.each)(["width","color","radius"],(function(t){var n="border-"+t,i=(0,gt.zW)(n),a=e.get(i);null!=a&&r.push(n+":"+a+("color"===t?"":"px"))})),r.push(function(e){var t=[],n=e.get("fontSize"),r=e.getTextColor();r&&t.push("color:"+r),t.push("font:"+e.getFont()),n&&t.push("line-height:"+Math.round(3*n/2)+"px");var i=e.get("textShadowColor"),a=e.get("textShadowBlur")||0,o=e.get("textShadowOffsetX")||0,s=e.get("textShadowOffsetY")||0;return i&&a&&t.push("text-shadow:"+o+"px "+s+"px "+a+"px "+i),(0,y.each)(["decoration","align"],(function(n){var r=e.get(n);r&&t.push("text-"+n+":"+r)})),t.join(";")}(c)),null!=d&&r.push("padding:"+(0,gt.MY)(d).join("px ")+"px"),r.join(";")+";"}function Ky(e,t,n,r,i){var a=t&&t.painter;if(n){var o=a&&a.getViewportRoot();o&&(0,zy.YB)(e,o,document.body,r,i)}else{e[0]=r,e[1]=i;var s=a&&a.getViewportRootOffset();s&&(e[0]+=s.offsetLeft,e[1]+=s.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var Qy=function(){function e(e,t,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,Dm.Z.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var i=this._zr=t.getZr(),a=this._appendToBody=n&&n.appendToBody;Ky(this._styleCoord,i,a,t.getWidth()/2,t.getHeight()/2),a?document.body.appendChild(r):e.appendChild(r),this._container=e;var o=this;r.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},r.onmousemove=function(e){if(e=e||window.event,!o._enterable){var t=i.handler,n=i.painter.getViewportRoot();(0,Pi.OD)(n,e,!0),t.dispatch("mousemove",e)}},r.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return e.prototype.update=function(e){var t=this._container,n=function(e,t){var n=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return n?t?n[t]:n:null}(t,"position"),r=t.style;"absolute"!==r.position&&"absolute"!==n&&(r.position="relative"),e.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=e.get("className")||""},e.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,r=n.style,i=this._styleCoord;n.innerHTML?r.cssText=Xy+Yy(e,!this._firstShow,this._longHide)+qy(i[0],i[1],!0)+"border-color:"+(0,gt.Lz)(t)+";"+(e.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(e,t,n,r,i){var a=this.el;if(null!=e){var o="";if((0,y.isString)(i)&&"item"===n.get("trigger")&&!Vy(n)&&(o=function(e,t,n){if(!(0,y.isString)(n)||"inside"===n)return"";var r=e.get("backgroundColor"),i=e.get("borderWidth");t=(0,gt.Lz)(t);var a,o,s="left"===(a=n)?"right":"right"===a?"left":"top"===a?"bottom":"top",u=Math.max(1.5*Math.round(i),6),l="",c=Gy+":";(0,y.indexOf)(["left","right"],s)>-1?(l+="top:50%",c+="translateY(-50%) rotate("+(o="left"===s?-225:-45)+"deg)"):(l+="left:50%",c+="translateX(-50%) rotate("+(o="top"===s?225:45)+"deg)");var d=o*Math.PI/180,f=u+i,h=f*Math.abs(Math.cos(d))+f*Math.abs(Math.sin(d)),p=t+" solid "+i+"px;";return'<div style="'+["position:absolute;width:"+u+"px;height:"+u+"px;",(l+=";"+s+":-"+Math.round(100*((h-Math.SQRT2*i)/2+Math.SQRT2*i-(h-f)/2))/100+"px")+";"+c+";","border-bottom:"+p,"border-right:"+p,"background-color:"+r+";"].join("")+'"></div>'}(n,r,i)),(0,y.isString)(e))a.innerHTML=e+o;else if(e){a.innerHTML="",(0,y.isArray)(e)||(e=[e]);for(var s=0;s<e.length;s++)(0,y.isDom)(e[s])&&e[s].parentNode!==a&&a.appendChild(e[s]);if(o&&a.childNodes.length){var u=document.createElement("div");u.innerHTML=o,a.appendChild(u)}}}else a.innerHTML=""},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},e.prototype.moveTo=function(e,t){var n=this._styleCoord;if(Ky(n,this._zr,this._appendToBody,e,t),null!=n[0]&&null!=n[1]){var r=this.el.style,i=qy(n[0],n[1]);(0,y.each)(i,(function(e){r[e[0]]=e[1]}))}},e.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",Dm.Z.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return e._longHide=!0}),500)},e.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout((0,y.bind)(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},e}(),Jy=Qy,$y=function(){function e(e){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=e.getZr(),nx(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return e.prototype.update=function(e){e.get("alwaysShowContent")&&this._moveIfResized()},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(e,t,n,r,i){var a=this;y.isObject(e)&&(0,Gd._y)(""),this.el&&this._zr.remove(this.el);var o=n.getModel("textStyle");this.el=new U.ZP({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:o.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:(0,vi.d_)(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),y.each(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(e){a.el.style[e]=n.get(e)})),y.each(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(e){a.el.style[e]=o.get(e)||0})),this._zr.add(this.el);var s=this;this.el.on("mouseover",(function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0})),this.el.on("mouseout",(function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1}))},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),n=tx(e.style);return[t.width+n.left+n.right,t.height+n.top+n.bottom]},e.prototype.moveTo=function(e,t){var n=this.el;if(n){var r=this._styleCoord;nx(r,this._zr,e,t),e=r[0],t=r[1];var i=n.style,a=ex(i.borderWidth||0),o=tx(i);n.x=e+a+o.left,n.y=t+a+o.top,n.markRedraw()}},e.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(y.bind(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function ex(e){return Math.max(0,e)}function tx(e){var t=ex(e.shadowBlur||0),n=ex(e.shadowOffsetX||0),r=ex(e.shadowOffsetY||0);return{left:ex(t-n),right:ex(t+n),top:ex(t-r),bottom:ex(t+r)}}function nx(e,t,n,r){e[0]=n,e[1]=r,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var rx=$y,ix=n(10481),ax=n(33313),ox=new lt.Z({shape:{x:-1,y:-1,width:2,height:2}}),sx=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.init=function(e,t){if(!Dm.Z.node&&t.getDom()){var n=e.getComponent("tooltip"),r=this._renderMode=(0,Je.U9)(n.get("renderMode"));this._tooltipContent="richText"===r?new rx(t):new Jy(t.getDom(),t,{appendToBody:n.get("appendToBody",!0)})}},t.prototype.render=function(e,t,n){if(!Dm.Z.node&&n.getDom()){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n,this._alwaysShowContent=e.get("alwaysShowContent");var r=this._tooltipContent;r.update(e),r.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&e.get("transitionDuration")?(0,Vt.T9)(this,"_updatePosition",50,"fixRate"):(0,Vt.ZH)(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel.get("triggerOn");Am("itemTooltip",this._api,(0,y.bind)((function(t,n,r){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(n,r):"leave"===t&&this._hide(r))}),this))},t.prototype._keepShow=function(){var e=this._tooltipModel,t=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var r=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!n.isDisposed()&&r.manuallyShowTip(e,t,n,{x:r._lastX,y:r._lastY,dataByCoordSys:r._lastDataByCoordSys})}))}},t.prototype.manuallyShowTip=function(e,t,n,r){if(r.from!==this.uid&&!Dm.Z.node&&n.getDom()){var i=lx(r,n);this._ticket="";var a=r.dataByCoordSys,o=function(e,t,n){var r=(0,Je.zH)(e).queryOptionMap,i=r.keys()[0];if(!i||"series"===i)return;var a,o=(0,Je.HZ)(t,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(!o)return;if(n.getViewOfComponentModel(o).group.traverse((function(t){var n=(0,Oe.A)(t).tooltipConfig;if(n&&n.name===e.name)return a=t,!0})),a)return{componentMainType:i,componentIndex:o.componentIndex,el:a}}(r,t,n);if(o){var s=o.el.getBoundingRect().clone();s.applyTransform(o.el.transform),this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:o.el,position:r.position,positionDefault:"bottom"},i)}else if(r.tooltip&&null!=r.x&&null!=r.y){var u=ox;u.x=r.x,u.y=r.y,u.update(),(0,Oe.A)(u).tooltipConfig={name:null,option:r.tooltip},this._tryShow({offsetX:r.x,offsetY:r.y,target:u},i)}else if(a)this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,dataByCoordSys:a,tooltipOption:r.tooltipOption},i);else if(null!=r.seriesIndex){if(this._manuallyAxisShowTip(e,t,n,r))return;var l=Om(r,t),c=l.point[0],d=l.point[1];null!=c&&null!=d&&this._tryShow({offsetX:c,offsetY:d,target:l.el,position:r.position,positionDefault:"bottom"},i)}else null!=r.x&&null!=r.y&&(n.dispatchAction({type:"updateAxisPointer",x:r.x,y:r.y}),this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,target:n.getZr().findHover(r.x,r.y).target},i))}},t.prototype.manuallyHideTip=function(e,t,n,r){var i=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&i.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,r.from!==this.uid&&this._hide(lx(r,n))},t.prototype._manuallyAxisShowTip=function(e,t,n,r){var i=r.seriesIndex,a=r.dataIndex,o=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=i&&null!=a&&null!=o){var s=t.getSeriesByIndex(i);if(s)if("axis"===ux([s.getData().getItemModel(a),s,(s.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:i,dataIndex:a,position:r.position}),!0}},t.prototype._tryShow=function(e,t){var n=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var r=e.dataByCoordSys;if(r&&r.length)this._showAxisTooltip(r,e);else if(n){var i,a;this._lastDataByCoordSys=null,(0,_o.o)(n,(function(e){return null!=(0,Oe.A)(e).dataIndex?(i=e,!0):null!=(0,Oe.A)(e).tooltipConfig?(a=e,!0):void 0}),!0),i?this._showSeriesItemTooltip(e,i,t):a?this._showComponentItemTooltip(e,a,t):this._hide(t)}else this._lastDataByCoordSys=null,this._hide(t)}},t.prototype._showOrMove=function(e,t){var n=e.get("showDelay");t=(0,y.bind)(t,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(t,n):t()},t.prototype._showAxisTooltip=function(e,t){var n=this._ecModel,r=this._tooltipModel,i=[t.offsetX,t.offsetY],a=ux([t.tooltipOption],r),o=this._renderMode,s=[],u=(0,vi.TX)("section",{blocks:[],noHeader:!0}),l=[],c=new vi.iv;(0,y.each)(e,(function(e){(0,y.each)(e.dataByAxis,(function(e){var t=n.getComponent(e.axisDim+"Axis",e.axisIndex),i=e.value;if(t&&null!=i){var a=hm(i,t.axis,n,e.seriesDataIndices,e.valueLabelOpt),d=(0,vi.TX)("section",{header:a,noHeader:!(0,y.trim)(a),sortBlocks:!0,blocks:[]});u.blocks.push(d),(0,y.each)(e.seriesDataIndices,(function(u){var f=n.getSeriesByIndex(u.seriesIndex),h=u.dataIndexInside,p=f.getDataParams(h);if(!(p.dataIndex<0)){p.axisDim=e.axisDim,p.axisIndex=e.axisIndex,p.axisType=e.axisType,p.axisId=e.axisId,p.axisValue=cr.DX(t.axis,{value:i}),p.axisValueLabel=a,p.marker=c.makeTooltipMarker("item",(0,gt.Lz)(p.color),o);var m=(0,ax.f)(f.formatTooltip(h,!0,null)),g=m.frag;if(g){var v=ux([f],r).get("valueFormatter");d.blocks.push(v?(0,y.extend)({valueFormatter:v},g):g)}m.text&&l.push(m.text),s.push(p)}}))}}))})),u.blocks.reverse(),l.reverse();var d=t.position,f=a.get("order"),h=(0,vi.BY)(u,c,o,f,n.get("useUTC"),a.get("textStyle"));h&&l.unshift(h);var p="richText"===o?"\n\n":"<br/>",m=l.join(p);this._showOrMove(a,(function(){this._updateContentNotChangedOnAxis(e,s)?this._updatePosition(a,d,i[0],i[1],this._tooltipContent,s):this._showTooltipContent(a,m,s,Math.random()+"",i[0],i[1],d,null,c)}))},t.prototype._showSeriesItemTooltip=function(e,t,n){var r=this._ecModel,i=(0,Oe.A)(t),a=i.seriesIndex,o=r.getSeriesByIndex(a),s=i.dataModel||o,u=i.dataIndex,l=i.dataType,c=s.getData(l),d=this._renderMode,f=e.positionDefault,h=ux([c.getItemModel(u),s,o&&(o.coordinateSystem||{}).model],this._tooltipModel,f?{position:f}:null),p=h.get("trigger");if(null==p||"item"===p){var m=s.getDataParams(u,l),g=new vi.iv;m.marker=g.makeTooltipMarker("item",(0,gt.Lz)(m.color),d);var v=(0,ax.f)(s.formatTooltip(u,!1,l)),x=h.get("order"),b=h.get("valueFormatter"),w=v.frag,_=w?(0,vi.BY)(b?(0,y.extend)({valueFormatter:b},w):w,g,d,x,r.get("useUTC"),h.get("textStyle")):v.text,S="item_"+s.name+"_"+u;this._showOrMove(h,(function(){this._showTooltipContent(h,_,m,S,e.offsetX,e.offsetY,e.position,e.target,g)})),n({type:"showTip",dataIndexInside:u,dataIndex:c.getRawIndex(u),seriesIndex:a,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,t,n){var r=(0,Oe.A)(t),i=r.tooltipConfig.option||{};if((0,y.isString)(i)){i={content:i,formatter:i}}var a=[i],o=this._ecModel.getComponent(r.componentMainType,r.componentIndex);o&&a.push(o),a.push({formatter:i.content});var s=e.positionDefault,u=ux(a,this._tooltipModel,s?{position:s}:null),l=u.get("content"),c=Math.random()+"",d=new vi.iv;this._showOrMove(u,(function(){var n=(0,y.clone)(u.get("formatterParams")||{});this._showTooltipContent(u,l,n,c,e.offsetX,e.offsetY,e.position,t,d)})),n({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,t,n,r,i,a,o,s,u){if(this._ticket="",e.get("showContent")&&e.get("show")){var l=this._tooltipContent;l.setEnterable(e.get("enterable"));var c=e.get("formatter");o=o||e.get("position");var d=t,f=this._getNearestPoint([i,a],n,e.get("trigger"),e.get("borderColor")).color;if(c)if((0,y.isString)(c)){var h=e.ecModel.get("useUTC"),p=(0,y.isArray)(n)?n[0]:n;d=c,p&&p.axisType&&p.axisType.indexOf("time")>=0&&(d=(0,ix.WU)(p.axisValue,d,h)),d=(0,gt.kF)(d,n,!0)}else if((0,y.isFunction)(c)){var m=(0,y.bind)((function(t,r){t===this._ticket&&(l.setContent(r,u,e,f,o),this._updatePosition(e,o,i,a,l,n,s))}),this);this._ticket=r,d=c(n,r,m)}else d=c;l.setContent(d,u,e,f,o),l.show(e,f),this._updatePosition(e,o,i,a,l,n,s)}},t.prototype._getNearestPoint=function(e,t,n,r){return"axis"===n||(0,y.isArray)(t)?{color:r||("html"===this._renderMode?"#fff":"none")}:(0,y.isArray)(t)?void 0:{color:r||t.color||t.borderColor}},t.prototype._updatePosition=function(e,t,n,r,i,a,o){var s=this._api.getWidth(),u=this._api.getHeight();t=t||e.get("position");var l=i.getSize(),c=e.get("align"),d=e.get("verticalAlign"),f=o&&o.getBoundingRect().clone();if(o&&f.applyTransform(o.transform),(0,y.isFunction)(t)&&(t=t([n,r],a,i.el,f,{viewSize:[s,u],contentSize:l.slice()})),(0,y.isArray)(t))n=(0,dt.GM)(t[0],s),r=(0,dt.GM)(t[1],u);else if((0,y.isObject)(t)){var h=t;h.width=l[0],h.height=l[1];var p=(0,pn.ME)(h,{width:s,height:u});n=p.x,r=p.y,c=null,d=null}else if((0,y.isString)(t)&&o){var m=function(e,t,n,r){var i=n[0],a=n[1],o=Math.ceil(Math.SQRT2*r)+8,s=0,u=0,l=t.width,c=t.height;switch(e){case"inside":s=t.x+l/2-i/2,u=t.y+c/2-a/2;break;case"top":s=t.x+l/2-i/2,u=t.y-a-o;break;case"bottom":s=t.x+l/2-i/2,u=t.y+c+o;break;case"left":s=t.x-i-o,u=t.y+c/2-a/2;break;case"right":s=t.x+l+o,u=t.y+c/2-a/2}return[s,u]}(t,f,l,e.get("borderWidth"));n=m[0],r=m[1]}else{m=function(e,t,n,r,i,a,o){var s=n.getSize(),u=s[0],l=s[1];null!=a&&(e+u+a+2>r?e-=u+a:e+=a);null!=o&&(t+l+o>i?t-=l+o:t+=o);return[e,t]}(n,r,i,s,u,c?null:20,d?null:20);n=m[0],r=m[1]}if(c&&(n-=cx(c)?l[0]/2:"right"===c?l[0]:0),d&&(r-=cx(d)?l[1]/2:"bottom"===d?l[1]:0),Vy(e)){m=function(e,t,n,r,i){var a=n.getSize(),o=a[0],s=a[1];return e=Math.min(e+o,r)-o,t=Math.min(t+s,i)-s,e=Math.max(e,0),t=Math.max(t,0),[e,t]}(n,r,i,s,u);n=m[0],r=m[1]}i.moveTo(n,r)},t.prototype._updateContentNotChangedOnAxis=function(e,t){var n=this._lastDataByCoordSys,r=this._cbParamsList,i=!!n&&n.length===e.length;return i&&(0,y.each)(n,(function(n,a){var o=n.dataByAxis||[],s=(e[a]||{}).dataByAxis||[];(i=i&&o.length===s.length)&&(0,y.each)(o,(function(e,n){var a=s[n]||{},o=e.seriesDataIndices||[],u=a.seriesDataIndices||[];(i=i&&e.value===a.value&&e.axisType===a.axisType&&e.axisId===a.axisId&&o.length===u.length)&&(0,y.each)(o,(function(e,t){var n=u[t];i=i&&e.seriesIndex===n.seriesIndex&&e.dataIndex===n.dataIndex})),r&&(0,y.each)(e.seriesDataIndices,(function(e){var n=e.seriesIndex,a=t[n],o=r[n];a&&o&&o.data!==a.data&&(i=!1)}))}))})),this._lastDataByCoordSys=e,this._cbParamsList=t,!!i},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,t){!Dm.Z.node&&t.getDom()&&((0,Vt.ZH)(this,"_updatePosition"),this._tooltipContent.dispose(),Nm("itemTooltip",t))},t.type="tooltip",t}(Kn.Z);function ux(e,t,n){var r,i=t.ecModel;n?(r=new Pr.Z(n,i,i),r=new Pr.Z(t.option,r,i)):r=t;for(var a=e.length-1;a>=0;a--){var o=e[a];o&&(o instanceof Pr.Z&&(o=o.get("tooltip",!0)),(0,y.isString)(o)&&(o={formatter:o}),o&&(r=new Pr.Z(o,r,i)))}return r}function lx(e,t){return e.dispatchAction||(0,y.bind)(t.dispatchAction,t)}function cx(e){return"center"===e||"middle"===e}var dx=sx;var fx=["rect","polygon","keep","clear"];function hx(e,t){var n=(0,Je.kF)(e?e.brush:[]);if(n.length){var r=[];y.each(n,(function(e){var t=e.hasOwnProperty("toolbox")?e.toolbox:[];t instanceof Array&&(r=r.concat(t))}));var i=e&&e.toolbox;y.isArray(i)&&(i=i[0]),i||(i={feature:{}},e.toolbox=[i]);var a=i.feature||(i.feature={}),o=a.brush||(a.brush={}),s=o.type||(o.type=[]);s.push.apply(s,r),function(e){var t={};y.each(e,(function(e){t[e]=1})),e.length=0,y.each(t,(function(t,n){e.push(n)}))}(s),t&&!s.length&&s.push.apply(s,fx)}}var px=n(16552),mx=y.each;function gx(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function vx(e,t,n){var r={};return mx(t,(function(t){var i=r[t]=function(){var e=function(){};return e.prototype.__hidden=e.prototype,new e}();mx(e[t],(function(e,r){if(qs.isValidType(r)){var a={type:r,visual:e};n&&n(a,t),i[r]=new qs(a),"opacity"===r&&((a=y.clone(a)).type="colorAlpha",i.__hidden.__alphaForOpacity=new qs(a))}}))})),r}function yx(e,t,n){var r;y.each(n,(function(e){t.hasOwnProperty(e)&&gx(t[e])&&(r=!0)})),r&&y.each(n,(function(n){t.hasOwnProperty(n)&&gx(t[n])?e[n]=y.clone(t[n]):delete e[n]}))}var xx=n(34961);var bx={lineX:wx(0),lineY:wx(1),rect:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])},rect:function(e,t,n){return e&&n.boundingRect.intersect(e)}},polygon:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])&&xx.X(n.range,e[0],e[1])},rect:function(e,t,n){var r=n.range;if(!e||r.length<=1)return!1;var i=e.x,a=e.y,o=e.width,s=e.height,u=r[0];return!!(xx.X(r,i,a)||xx.X(r,i+o,a)||xx.X(r,i,a+s)||xx.X(r,i+o,a+s)||Wn.Z.create(e).contain(u[0],u[1])||(0,Re.linePolygonIntersect)(i,a,i+o,a,r)||(0,Re.linePolygonIntersect)(i,a,i,a+s,r)||(0,Re.linePolygonIntersect)(i+o,a,i+o,a+s,r)||(0,Re.linePolygonIntersect)(i,a+s,i+o,a+s,r))||void 0}}};function wx(e){var t=["x","y"],n=["width","height"];return{point:function(t,n,r){if(t){var i=r.range;return _x(t[e],i)}},rect:function(r,i,a){if(r){var o=a.range,s=[r[t[e]],r[t[e]]+r[n[e]]];return s[1]<s[0]&&s.reverse(),_x(s[0],o)||_x(s[1],o)||_x(o[0],s)||_x(o[1],s)}}}}function _x(e,t){return t[0]<=e&&e<=t[1]}var Sx=["inBrush","outOfBrush"],Cx="__ecBrushSelect",kx="__ecInBrushSelectEvent";function Dx(e){e.eachComponent({mainType:"brush"},(function(t){(t.brushTargetManager=new My(t.option,e)).setInputRanges(t.areas,e)}))}function Tx(e,t,n){var r,i,a=[];e.eachComponent({mainType:"brush"},(function(e){n&&"takeGlobalCursor"===n.type&&e.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1})})),Dx(e),e.eachComponent({mainType:"brush"},(function(t,n){var o={brushId:t.id,brushIndex:n,brushName:t.name,areas:y.clone(t.areas),selected:[]};a.push(o);var s=t.option,u=s.brushLink,l=[],c=[],d=[],f=!1;n||(r=s.throttleType,i=s.throttleDelay);var h=y.map(t.areas,(function(e){var t=Mx[e.brushType],n=y.defaults({boundingRect:t?t(e):void 0},e);return n.selectors=function(e){var t=e.brushType,n={point:function(r){return bx[t].point(r,n,e)},rect:function(r){return bx[t].rect(r,n,e)}};return n}(n),n})),p=vx(t.option,Sx,(function(e){e.mappingMethod="fixed"}));function m(e){return"all"===u||!!l[e]}function g(e){return!!e.length}y.isArray(u)&&y.each(u,(function(e){l[e]=1})),e.eachSeries((function(n,r){var i=d[r]=[];"parallel"===n.subType?function(e,t){var n=e.coordinateSystem;f=f||n.hasAxisBrushed(),m(t)&&n.eachActiveState(e.getData(),(function(e,t){"active"===e&&(c[t]=1)}))}(n,r):function(n,r,i){if(!n.brushSelector||function(e,t){var n=e.option.seriesIndex;return null!=n&&"all"!==n&&(y.isArray(n)?y.indexOf(n,t)<0:t!==n)}(t,r))return;if(y.each(h,(function(r){t.brushTargetManager.controlSeries(r,n,e)&&i.push(r),f=f||g(i)})),m(r)&&g(i)){var a=n.getData();a.each((function(e){Ax(n,i,a,e)&&(c[e]=1)}))}}(n,r,i)})),e.eachSeries((function(e,t){var n={seriesId:e.id,seriesIndex:t,seriesName:e.name,dataIndex:[]};o.selected.push(n);var r=d[t],i=e.getData(),a=m(t)?function(e){return c[e]?(n.dataIndex.push(i.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(t){return Ax(e,r,i,t)?(n.dataIndex.push(i.getRawIndex(t)),"inBrush"):"outOfBrush"};(m(t)?f:g(r))&&function(e,t,n,r,i,a){var o,s={};function u(e){return(0,px.Or)(n,o,e)}function l(e,t){(0,px.LZ)(n,o,e,t)}function c(e,c){o=null==a?e:c;var d=n.getRawDataItem(o);if(!d||!1!==d.visualMap)for(var f=r.call(i,e),h=t[f],p=s[f],m=0,g=p.length;m<g;m++){var v=p[m];h[v]&&h[v].applyVisual(e,u,l)}}y.each(e,(function(e){var n=qs.prepareVisualTypes(t[e]);s[e]=n})),null==a?n.each(c):n.each([a],c)}(Sx,p,i,a)}))})),function(e,t,n,r,i){if(!i)return;var a=e.getZr();if(a[kx])return;a.__ecBrushSelect||(a.__ecBrushSelect=Ix);Vt.T9(a,Cx,n,t)(e,r)}(t,r,i,a,n)}function Ix(e,t){if(!e.isDisposed()){var n=e.getZr();n[kx]=!0,e.dispatchAction({type:"brushSelect",batch:t}),n[kx]=!1}}function Ax(e,t,n,r){for(var i=0,a=t.length;i<a;i++){var o=t[i];if(e.brushSelector(r,n,o.selectors,o))return!0}}var Mx={rect:function(e){return Ex(e.range)},polygon:function(e){for(var t,n=e.range,r=0,i=n.length;r<i;r++){t=t||[[1/0,-1/0],[1/0,-1/0]];var a=n[r];a[0]<t[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&Ex(t)}};function Ex(e){return new Wn.Z(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var Nx=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t,this.model,(this._brushController=new nd(t.getZr())).on("brush",y.bind(this._onBrush,this)).mount()},t.prototype.render=function(e,t,n,r){this.model=e,this._updateController(e,t,n,r)},t.prototype.updateTransform=function(e,t,n,r){Dx(t),this._updateController(e,t,n,r)},t.prototype.updateVisual=function(e,t,n,r){this.updateTransform(e,t,n,r)},t.prototype.updateView=function(e,t,n,r){this._updateController(e,t,n,r)},t.prototype._updateController=function(e,t,n,r){(!r||r.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(n)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var t=this.model.id,n=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:t,areas:y.clone(n),$from:t}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:t,areas:y.clone(n),$from:t})},t.type="brush",t}(Kn.Z),Rx=Nx,Px=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.areas=[],n.brushOption={},n}return(0,De.ZT)(t,e),t.prototype.optionUpdated=function(e,t){var n=this.option;!t&&yx(n,e,["inBrush","outOfBrush"]);var r=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:"#ddd"},r.hasOwnProperty("liftZ")||(r.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=y.map(e,(function(e){return Ox(this.option,e)}),this))},t.prototype.setBrushOption=function(e){this.brushOption=Ox(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(Qn.Z);function Ox(e,t){return y.merge({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new Pr.Z(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}var Lx=Px,Fx=["rect","polygon","lineX","lineY","keep","clear"],Zx=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n){var r,i,a;t.eachComponent({mainType:"brush"},(function(e){r=e.brushType,i=e.brushOption.brushMode||"single",a=a||!!e.areas.length})),this._brushType=r,this._brushMode=i,y.each(e.get("type",!0),(function(t){e.setIconStatus(t,("keep"===t?"multiple"===i:"clear"===t?a:t===r)?"emphasis":"normal")}))},t.prototype.updateView=function(e,t,n){this.render(e,t,n)},t.prototype.getIcons=function(){var e=this.model,t=e.get("icon",!0),n={};return y.each(e.get("type",!0),(function(e){t[e]&&(n[e]=t[e])})),n},t.prototype.onclick=function(e,t,n){var r=this._brushType,i=this._brushMode;"clear"===n?(t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?r:r!==n&&n,brushMode:"keep"===n?"multiple"===i?"single":"multiple":i}})},t.getDefaultOption=function(e){return{show:!0,type:Fx.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])}},t}(jv),Bx=Zx;var zx=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return(0,De.ZT)(t,e),t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(Qn.Z),Vx=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.render=function(e,t,n){if(this.group.removeAll(),e.get("show")){var r=this.group,i=e.getModel("textStyle"),a=e.getModel("subtextStyle"),o=e.get("textAlign"),s=y.retrieve2(e.get("textBaseline"),e.get("textVerticalAlign")),u=new U.ZP({style:(0,ze.Lr)(i,{text:e.get("text"),fill:i.getTextColor()},{disableBox:!0}),z2:10}),l=u.getBoundingRect(),c=e.get("subtext"),d=new U.ZP({style:(0,ze.Lr)(a,{text:c,fill:a.getTextColor(),y:l.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),f=e.get("link"),h=e.get("sublink"),p=e.get("triggerEvent",!0);u.silent=!f&&!p,d.silent=!h&&!p,f&&u.on("click",(function(){(0,gt.MI)(f,"_"+e.get("target"))})),h&&d.on("click",(function(){(0,gt.MI)(h,"_"+e.get("subtarget"))})),(0,Oe.A)(u).eventData=(0,Oe.A)(d).eventData=p?{componentType:"title",componentIndex:e.componentIndex}:null,r.add(u),c&&r.add(d);var m=r.getBoundingRect(),g=e.getBoxLayoutParams();g.width=m.width,g.height=m.height;var v=(0,pn.ME)(g,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));o||("middle"===(o=e.get("left")||e.get("right"))&&(o="center"),"right"===o?v.x+=v.width:"center"===o&&(v.x+=v.width/2)),s||("center"===(s=e.get("top")||e.get("bottom"))&&(s="middle"),"bottom"===s?v.y+=v.height:"middle"===s&&(v.y+=v.height/2),s=s||"top"),r.x=v.x,r.y=v.y,r.markRedraw();var x={align:o,verticalAlign:s};u.setStyle(x),d.setStyle(x),m=r.getBoundingRect();var b=v.margin,w=e.getItemStyle(["color","opacity"]);w.fill=e.get("backgroundColor");var _=new lt.Z({shape:{x:m.x-b[3],y:m.y-b[0],width:m.width+b[1]+b[3],height:m.height+b[0]+b[2],r:e.get("borderRadius")},style:w,subPixelOptimize:!0,silent:!0});r.add(_)}},t.type="title",t}(Kn.Z);var jx=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode="box",n}return(0,De.ZT)(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),this._initData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(e>=t&&(e=t-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e,t=this.option,n=t.data||[],r=t.axisType,i=this._names=[];"category"===r?(e=[],(0,y.each)(n,(function(t,n){var r,a=(0,Je.U5)((0,Je.C4)(t),"");(0,y.isObject)(t)?(r=(0,y.clone)(t)).value=n:r=n,e.push(r),i.push(a)}))):e=n;var a={category:"ordinal",time:"time",value:"number"}[r]||"number";(this._data=new On.Z([{name:"value",type:a}],this)).initData(e,i)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(Qn.Z),Wx=jx,Ux=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.type="timeline.slider",t.defaultOption=(0,Zt.ZL)(Wx.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(Wx);(0,y.mixin)(Ux,ax.X.prototype);var Hx=Ux,Gx=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.type="timeline",t}(Kn.Z),Xx=Gx,qx=function(e){function t(t,n,r,i){var a=e.call(this,t,n,r)||this;return a.type=i||"value",a}return(0,De.ZT)(t,e),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},t}(yr.Z),Yx=n(99398),Kx=n(49134),Qx=Math.PI,Jx=(0,Je.Yf)(),$x=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.init=function(e,t){this.api=t},t.prototype.render=function(e,t,n){if(this.model=e,this.api=n,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var r=this._layout(e,n),i=this._createGroup("_mainGroup"),a=this._createGroup("_labelGroup"),o=this._axis=this._createAxis(r,e);e.formatTooltip=function(e){var t=o.scale.getLabel({value:e});return(0,vi.TX)("nameValue",{noName:!0,value:t})},(0,y.each)(["AxisLine","AxisTick","Control","CurrentPointer"],(function(t){this["_render"+t](r,i,o,e)}),this),this._renderAxisLabel(r,a,o,e),this._position(r,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,t){var n,r,i,a,o=e.get(["label","position"]),s=e.get("orient"),u=function(e,t){return pn.ME(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}(e,t),l={horizontal:"center",vertical:(n=null==o||"auto"===o?"horizontal"===s?u.y+u.height/2<t.getHeight()/2?"-":"+":u.x+u.width/2<t.getWidth()/2?"+":"-":(0,y.isString)(o)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[s][o]:o)>=0||"+"===n?"left":"right"},c={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},d={horizontal:0,vertical:Qx/2},f="vertical"===s?u.height:u.width,h=e.getModel("controlStyle"),p=h.get("show",!0),m=p?h.get("itemSize"):0,g=p?h.get("itemGap"):0,v=m+g,x=e.get(["label","rotate"])||0;x=x*Qx/180;var b=h.get("position",!0),w=p&&h.get("showPlayBtn",!0),_=p&&h.get("showPrevBtn",!0),S=p&&h.get("showNextBtn",!0),C=0,k=f;"left"===b||"bottom"===b?(w&&(r=[0,0],C+=v),_&&(i=[C,0],C+=v),S&&(a=[k-m,0],k-=v)):(w&&(r=[k-m,0],k-=v),_&&(i=[0,0],C+=v),S&&(a=[k-m,0],k-=v));var D=[C,k];return e.get("inverse")&&D.reverse(),{viewRect:u,mainLength:f,orient:s,rotation:d[s],labelRotation:x,labelPosOpt:n,labelAlign:e.get(["label","align"])||l[s],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||c[s],playPosition:r,prevBtnPosition:i,nextBtnPosition:a,axisExtent:D,controlSize:m,controlGap:g}},t.prototype._position=function(e,t){var n=this._mainGroup,r=this._labelGroup,i=e.viewRect;if("vertical"===e.orient){var a=fr.create(),o=i.x,s=i.y+i.height;fr.translate(a,a,[-o,-s]),fr.rotate(a,a,-Qx/2),fr.translate(a,a,[o,s]),(i=i.clone()).applyTransform(a)}var u=g(i),l=g(n.getBoundingRect()),c=g(r.getBoundingRect()),d=[n.x,n.y],f=[r.x,r.y];f[0]=d[0]=u[0][0];var h,p=e.labelPosOpt;null==p||(0,y.isString)(p)?(v(d,l,u,1,h="+"===p?0:1),v(f,c,u,1,1-h)):(v(d,l,u,1,h=p>=0?0:1),f[1]=d[1]+p);function m(e){e.originX=u[0][0]-e.x,e.originY=u[1][0]-e.y}function g(e){return[[e.x,e.x+e.width],[e.y,e.y+e.height]]}function v(e,t,n,r,i){e[r]+=n[r][i]-t[r][i]}n.setPosition(d),r.setPosition(f),n.rotation=r.rotation=e.rotation,m(n),m(r)},t.prototype._createAxis=function(e,t){var n=t.getData(),r=t.get("axisType"),i=function(e,t){if(t=t||e.get("type"))switch(t){case"category":return new Yx.Z({ordinalMeta:e.getCategories(),extent:[1/0,-1/0]});case"time":return new Kx.Z({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new kr.Z}}(t,r);i.getTicks=function(){return n.mapArray(["value"],(function(e){return{value:e}}))};var a=n.getDataExtent("value");i.setExtent(a[0],a[1]),i.calcNiceTicks();var o=new qx("value",i,e.axisExtent,r);return o.model=t,o},t.prototype._createGroup=function(e){var t=this[e]=new Me.Z;return this.group.add(t),t},t.prototype._renderAxisLine=function(e,t,n,r){var i=n.getExtent();if(r.get(["lineStyle","show"])){var a=new Rr.Z({shape:{x1:i[0],y1:0,x2:i[1],y2:0},style:(0,y.extend)({lineCap:"round"},r.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});t.add(a);var o=this._progressLine=new Rr.Z({shape:{x1:i[0],x2:this._currentPointer?this._currentPointer.x:i[0],y1:0,y2:0},style:(0,y.defaults)({lineCap:"round",lineWidth:a.style.lineWidth},r.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});t.add(o)}},t.prototype._renderAxisTick=function(e,t,n,r){var i=this,a=r.getData(),o=n.scale.getTicks();this._tickSymbols=[],(0,y.each)(o,(function(e){var o=n.dataToCoord(e.value),s=a.getItemModel(e.value),u=s.getModel("itemStyle"),l=s.getModel(["emphasis","itemStyle"]),c=s.getModel(["progress","itemStyle"]),d={x:o,y:0,onclick:(0,y.bind)(i._changeTimeline,i,e.value)},f=eb(s,u,t,d);f.ensureState("emphasis").style=l.getItemStyle(),f.ensureState("progress").style=c.getItemStyle(),(0,Le.vF)(f);var h=(0,Oe.A)(f);s.get("tooltip")?(h.dataIndex=e.value,h.dataModel=r):h.dataIndex=h.dataModel=null,i._tickSymbols.push(f)}))},t.prototype._renderAxisLabel=function(e,t,n,r){var i=this;if(n.getLabelModel().get("show")){var a=r.getData(),o=n.getViewLabels();this._tickLabels=[],(0,y.each)(o,(function(r){var o=r.tickValue,s=a.getItemModel(o),u=s.getModel("label"),l=s.getModel(["emphasis","label"]),c=s.getModel(["progress","label"]),d=n.dataToCoord(r.tickValue),f=new U.ZP({x:d,y:0,rotation:e.labelRotation-e.rotation,onclick:(0,y.bind)(i._changeTimeline,i,o),silent:!1,style:(0,ze.Lr)(u,{text:r.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});f.ensureState("emphasis").style=(0,ze.Lr)(l),f.ensureState("progress").style=(0,ze.Lr)(c),t.add(f),(0,Le.vF)(f),Jx(f).dataIndex=o,i._tickLabels.push(f)}))}},t.prototype._renderControl=function(e,t,n,r){var i=e.controlSize,a=e.rotation,o=r.getModel("controlStyle").getItemStyle(),s=r.getModel(["emphasis","controlStyle"]).getItemStyle(),l=r.getPlayState(),c=r.get("inverse",!0);function d(e,n,l,c){if(e){var d=(0,u.GM)((0,y.retrieve2)(r.get(["controlStyle",n+"BtnSize"]),i),i),f=function(e,t,n,r){var i=r.style,a=Re.createIcon(e.get(["controlStyle",t]),r||{},new Wn.Z(n[0],n[1],n[2],n[3]));i&&a.setStyle(i);return a}(r,n+"Icon",[0,-d/2,d,d],{x:e[0],y:e[1],originX:i/2,originY:0,rotation:c?-a:0,rectHover:!0,style:o,onclick:l});f.ensureState("emphasis").style=s,t.add(f),(0,Le.vF)(f)}}d(e.nextBtnPosition,"next",(0,y.bind)(this._changeTimeline,this,c?"-":"+")),d(e.prevBtnPosition,"prev",(0,y.bind)(this._changeTimeline,this,c?"+":"-")),d(e.playPosition,l?"stop":"play",(0,y.bind)(this._handlePlayClick,this,!l),!0)},t.prototype._renderCurrentPointer=function(e,t,n,r){var i=r.getData(),a=r.getCurrentIndex(),o=i.getItemModel(a).getModel("checkpointStyle"),s=this,u={onCreate:function(e){e.draggable=!0,e.drift=(0,y.bind)(s._handlePointerDrag,s),e.ondragend=(0,y.bind)(s._handlePointerDragend,s),tb(e,s._progressLine,a,n,r,!0)},onUpdate:function(e){tb(e,s._progressLine,a,n,r)}};this._currentPointer=eb(o,o,this._mainGroup,{},this._currentPointer,u)},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,t,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,t){var n=this._toAxisCoord(e)[0],r=this._axis,i=dt.dt(r.getExtent().slice());n>i[1]&&(n=i[1]),n<i[0]&&(n=i[0]),this._currentPointer.x=n,this._currentPointer.markRedraw(),this._progressLine.shape.x2=n,this._progressLine.dirty();var a=this._findNearestTick(n),o=this.model;(t||a!==o.getCurrentIndex()&&o.get("realtime"))&&this._changeTimeline(a)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout((function(){var t=e.model;e._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))}),this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){var t=this._mainGroup.getLocalTransform();return Re.applyTransform(e,t,!0)},t.prototype._findNearestTick=function(e){var t,n=this.model.getData(),r=1/0,i=this._axis;return n.each(["value"],(function(n,a){var o=i.dataToCoord(n),s=Math.abs(o-e);s<r&&(r=s,t=a)})),t},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var t=this.model.getCurrentIndex();"+"===e?e=t+1:"-"===e&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),t=this._tickSymbols,n=this._tickLabels;if(t)for(var r=0;r<t.length;r++)t&&t[r]&&t[r].toggleState("progress",r<e);if(n)for(r=0;r<n.length;r++)n&&n[r]&&n[r].toggleState("progress",Jx(n[r]).dataIndex<=e)},t.type="timeline.slider",t}(Xx);function eb(e,t,n,r,i,a){var o=t.get("color");if(i)i.setColor(o),n.add(i),a&&a.onUpdate(i);else{var s=e.get("symbol");(i=(0,Ae.th)(s,-1,-1,2,2,o)).setStyle("strokeNoScale",!0),n.add(i),a&&a.onCreate(i)}var u=t.getItemStyle(["color"]);i.setStyle(u),r=(0,y.merge)({rectHover:!0,z2:100},r,!0);var l=(0,Ae.zp)(e.get("symbolSize"));r.scaleX=l[0]/2,r.scaleY=l[1]/2;var c=(0,Ae.Cq)(e.get("symbolOffset"),l);c&&(r.x=(r.x||0)+c[0],r.y=(r.y||0)+c[1]);var d=e.get("symbolRotate");return r.rotation=(d||0)*Math.PI/180||0,i.attr(r),i.updateTransform(),i}function tb(e,t,n,r,i,a){if(!e.dragging){var o=i.getModel("checkpointStyle"),s=r.dataToCoord(i.getData().get("value",n));if(a||!o.get("animation",!0))e.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var u={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};e.stopAnimation(null,!0),e.animateTo({x:s,y:0},u),t&&t.animateTo({shape:{x2:s}},u)}}}var nb=$x;function rb(e){var t=e&&e.timeline;y.isArray(t)||(t=t?[t]:[]),y.each(t,(function(e){e&&function(e){var t=e.type,n={number:"value",time:"time"};n[t]&&(e.axisType=n[t],delete e.type);if(ib(e),ab(e,"controlPosition")){var r=e.controlStyle||(e.controlStyle={});ab(r,"position")||(r.position=e.controlPosition),"none"!==r.position||ab(r,"show")||(r.show=!1,delete r.position),delete e.controlPosition}y.each(e.data||[],(function(e){y.isObject(e)&&!y.isArray(e)&&(!ab(e,"value")&&ab(e,"name")&&(e.value=e.name),ib(e))}))}(e)}))}function ib(e){var t=e.itemStyle||(e.itemStyle={}),n=t.emphasis||(t.emphasis={}),r=e.label||e.label||{},i=r.normal||(r.normal={}),a={normal:1,emphasis:1};y.each(r,(function(e,t){a[t]||ab(i,t)||(i[t]=e)})),n.label&&!ab(r,"emphasis")&&(r.emphasis=n.label,delete n.label)}function ab(e,t){return e.hasOwnProperty(t)}function ob(e,t){if(!e)return!1;for(var n=(0,y.isArray)(e)?e:[e],r=0;r<n.length;r++)if(n[r]&&n[r][t])return!0;return!1}function sb(e){(0,Je.Cc)(e,"label",["show"])}var ub=(0,Je.Yf)(),lb=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.createdBySelf=!1,n}return(0,De.ZT)(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),this._mergeOption(e,n,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Dm.Z.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,t){this._mergeOption(e,t,!1,!1)},t.prototype._mergeOption=function(e,t,n,r){var i=this.mainType;n||t.eachSeries((function(e){var n=e.get(this.mainType,!0),a=ub(e)[i];n&&n.data?(a?a._mergeOption(n,t,!0):(r&&sb(n),y.each(n.data,(function(e){e instanceof Array?(sb(e[0]),sb(e[1])):sb(e)})),a=this.createMarkerModelFromSeries(n,this,t),y.extend(a,{mainType:this.mainType,seriesIndex:e.seriesIndex,name:e.name,createdBySelf:!0}),a.__hostSeries=e),ub(e)[i]=a):ub(e)[i]=null}),this)},t.prototype.formatTooltip=function(e,t,n){var r=this.getData(),i=this.getRawValue(e),a=r.getName(e);return(0,vi.TX)("section",{header:this.name,blocks:[(0,vi.TX)("nameValue",{name:a,value:i,noName:!a,noValue:null==i})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.getMarkerModelFromSeries=function(e,t){return ub(e)[t]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(Qn.Z);y.mixin(lb,ax.X.prototype);var cb=lb,db=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.createMarkerModelFromSeries=function(e,n,r){return new t(e,n,r)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(cb),fb=db,hb=n(1233);function pb(e,t,n,r,i,a){var o=[],s=(0,Xe.M)(t,r)?t.getCalculationInfo("stackResultDimension"):r,u=bb(t,s,e),l=t.indicesOfNearest(s,u)[0];o[i]=t.get(n,l),o[a]=t.get(s,l);var c=t.get(r,l),d=dt.p8(t.get(r,l));return(d=Math.min(d,20))>=0&&(o[a]=+o[a].toFixed(d)),[o,c]}var mb={min:(0,y.curry)(pb,"min"),max:(0,y.curry)(pb,"max"),average:(0,y.curry)(pb,"average"),median:(0,y.curry)(pb,"median")};function gb(e,t){var n=e.getData(),r=e.coordinateSystem;if(t&&!function(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}(t)&&!(0,y.isArray)(t.coord)&&r){var i=r.dimensions,a=vb(t,n,r,e);if((t=(0,y.clone)(t)).type&&mb[t.type]&&a.baseAxis&&a.valueAxis){var o=(0,y.indexOf)(i,a.baseAxis.dim),s=(0,y.indexOf)(i,a.valueAxis.dim),u=mb[t.type](n,a.baseDataDim,a.valueDataDim,o,s);t.coord=u[0],t.value=u[1]}else{for(var l=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],c=0;c<2;c++)mb[l[c]]&&(l[c]=bb(n,n.mapDimension(i[c]),l[c]));t.coord=l}}return t}function vb(e,t,n,r){var i={};return null!=e.valueIndex||null!=e.valueDim?(i.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,i.valueAxis=n.getAxis(function(e,t){var n=e.getData().getDimensionInfo(t);return n&&n.coordDim}(r,i.valueDataDim)),i.baseAxis=n.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=r.getBaseAxis(),i.valueAxis=n.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function yb(e,t){return!(e&&e.containData&&t.coord&&!function(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}(t))||e.containData(t.coord)}function xb(e,t){return e?function(e,n,r,i){var a=i<2?e.coord&&e.coord[i]:e.value;return(0,hb.yQ)(a,t[i])}:function(e,n,r,i){return(0,hb.yQ)(e.value,t[i])}}function bb(e,t,n){if("average"===n){var r=0,i=0;return e.each(t,(function(e,t){isNaN(e)||(r+=e,i++)})),r/i}return"median"===n?e.getMedian(t):e.getDataExtent(t)["max"===n?1:0]}var wb=(0,Je.Yf)(),_b=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.init=function(){this.markerGroupMap=(0,y.createHashMap)()},t.prototype.render=function(e,t,n){var r=this,i=this.markerGroupMap;i.each((function(e){wb(e).keep=!1})),t.eachSeries((function(e){var i=cb.getMarkerModelFromSeries(e,r.type);i&&r.renderSeries(e,i,t,n)})),i.each((function(e){!wb(e).keep&&r.group.remove(e.group)}))},t.prototype.markKeep=function(e){wb(e).keep=!0},t.prototype.toggleBlurSeries=function(e,t){var n=this;(0,y.each)(e,(function(e){var r=cb.getMarkerModelFromSeries(e,n.type);r&&r.getData().eachItemGraphicEl((function(e){e&&(t?(0,Le.SX)(e):(0,Le.VP)(e))}))}))},t.type="marker",t}(Kn.Z),Sb=_b;function Cb(e,t,n){var r=t.coordinateSystem;e.each((function(i){var a,o=e.getItemModel(i),s=dt.GM(o.get("x"),n.getWidth()),u=dt.GM(o.get("y"),n.getHeight());if(isNaN(s)||isNaN(u)){if(t.getMarkerPosition)a=t.getMarkerPosition(e.getValues(e.dimensions,i));else if(r){var l=e.get(r.dimensions[0],i),c=e.get(r.dimensions[1],i);a=r.dataToPoint([l,c])}}else a=[s,u];isNaN(s)||(a[0]=s),isNaN(u)||(a[1]=u),e.setItemLayout(i,a)}))}var kb=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.updateTransform=function(e,t,n){t.eachSeries((function(e){var t=cb.getMarkerModelFromSeries(e,"markPoint");t&&(Cb(t.getData(),e,n),this.markerGroupMap.get(e.id).updateLayout())}),this)},t.prototype.renderSeries=function(e,t,n,r){var i=e.coordinateSystem,a=e.id,o=e.getData(),s=this.markerGroupMap,u=s.get(a)||s.set(a,new Ge),l=function(e,t,n){var r;r=e?(0,y.map)(e&&e.dimensions,(function(e){var n=t.getData().getDimensionInfo(t.getData().mapDimension(e))||{};return(0,y.extend)((0,y.extend)({},n),{name:e,ordinalMeta:null})})):[{name:"value",type:"float"}];var i=new On.Z(r,n),a=(0,y.map)(n.get("data"),(0,y.curry)(gb,t));e&&(a=(0,y.filter)(a,(0,y.curry)(yb,e)));var o=xb(!!e,r);return i.initData(a,null,o),i}(i,e,t);t.setData(l),Cb(t.getData(),e,r),l.each((function(e){var n=l.getItemModel(e),r=n.getShallow("symbol"),i=n.getShallow("symbolSize"),a=n.getShallow("symbolRotate"),s=n.getShallow("symbolOffset"),u=n.getShallow("symbolKeepAspect");if((0,y.isFunction)(r)||(0,y.isFunction)(i)||(0,y.isFunction)(a)||(0,y.isFunction)(s)){var c=t.getRawValue(e),d=t.getDataParams(e);(0,y.isFunction)(r)&&(r=r(c,d)),(0,y.isFunction)(i)&&(i=i(c,d)),(0,y.isFunction)(a)&&(a=a(c,d)),(0,y.isFunction)(s)&&(s=s(c,d))}var f=n.getModel("itemStyle").getItemStyle(),h=(0,px.UL)(o,"color");f.fill||(f.fill=h),l.setItemVisual(e,{symbol:r,symbolSize:i,symbolRotate:a,symbolOffset:s,symbolKeepAspect:u,style:f})})),u.updateData(l),this.group.add(u.group),l.eachItemGraphicEl((function(e){e.traverse((function(e){(0,Oe.A)(e).dataModel=t}))})),this.markKeep(u),u.group.silent=t.get("silent")||e.get("silent")},t.type="markPoint",t}(Sb);var Db=kb;var Tb=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.createMarkerModelFromSeries=function(e,n,r){return new t(e,n,r)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(cb),Ib=Tb,Ab=(0,Je.Yf)(),Mb=function(e,t,n,r){var i,a=e.getData();if((0,y.isArray)(r))i=r;else{var o=r.type;if("min"===o||"max"===o||"average"===o||"median"===o||null!=r.xAxis||null!=r.yAxis){var s=void 0,u=void 0;if(null!=r.yAxis||null!=r.xAxis)s=t.getAxis(null!=r.yAxis?"y":"x"),u=(0,y.retrieve)(r.yAxis,r.xAxis);else{var l=vb(r,a,t,e);s=l.valueAxis,u=bb(a,(0,Xe.IR)(a,l.valueDataDim),o)}var c="x"===s.dim?0:1,d=1-c,f=(0,y.clone)(r),h={coord:[]};f.type=null,f.coord=[],f.coord[d]=-1/0,h.coord[d]=1/0;var p=n.get("precision");p>=0&&(0,y.isNumber)(u)&&(u=+u.toFixed(Math.min(p,20))),f.coord[c]=h.coord[c]=u,i=[f,h,{type:o,valueIndex:r.valueIndex,value:u}]}else i=[]}var m=[gb(e,i[0]),gb(e,i[1]),(0,y.extend)({},i[2])];return m[2].type=m[2].type||null,(0,y.merge)(m[2],m[0]),(0,y.merge)(m[2],m[1]),m};function Eb(e){return!isNaN(e)&&!isFinite(e)}function Nb(e,t,n,r){var i=1-e,a=r.dimensions[e];return Eb(t[i])&&Eb(n[i])&&t[e]===n[e]&&r.getAxis(a).containData(t[e])}function Rb(e,t){if("cartesian2d"===e.type){var n=t[0].coord,r=t[1].coord;if(n&&r&&(Nb(1,n,r,e)||Nb(0,n,r,e)))return!0}return yb(e,t[0])&&yb(e,t[1])}function Pb(e,t,n,r,i){var a,o=r.coordinateSystem,s=e.getItemModel(t),u=dt.GM(s.get("x"),i.getWidth()),l=dt.GM(s.get("y"),i.getHeight());if(isNaN(u)||isNaN(l)){if(r.getMarkerPosition)a=r.getMarkerPosition(e.getValues(e.dimensions,t));else{var c=o.dimensions,d=e.get(c[0],t),f=e.get(c[1],t);a=o.dataToPoint([d,f])}if(mt(o,"cartesian2d")){var h=o.getAxis("x"),p=o.getAxis("y");c=o.dimensions;Eb(e.get(c[0],t))?a[0]=h.toGlobalCoord(h.getExtent()[n?0:1]):Eb(e.get(c[1],t))&&(a[1]=p.toGlobalCoord(p.getExtent()[n?0:1]))}isNaN(u)||(a[0]=u),isNaN(l)||(a[1]=l)}else a=[u,l];e.setItemLayout(t,a)}var Ob=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.updateTransform=function(e,t,n){t.eachSeries((function(e){var t=cb.getMarkerModelFromSeries(e,"markLine");if(t){var r=t.getData(),i=Ab(t).from,a=Ab(t).to;i.each((function(t){Pb(i,t,!0,e,n),Pb(a,t,!1,e,n)})),r.each((function(e){r.setItemLayout(e,[i.getItemLayout(e),a.getItemLayout(e)])})),this.markerGroupMap.get(e.id).updateLayout()}}),this)},t.prototype.renderSeries=function(e,t,n,r){var i=e.coordinateSystem,a=e.id,o=e.getData(),s=this.markerGroupMap,u=s.get(a)||s.set(a,new $u);this.group.add(u.group);var l=function(e,t,n){var r;r=e?(0,y.map)(e&&e.dimensions,(function(e){var n=t.getData().getDimensionInfo(t.getData().mapDimension(e))||{};return(0,y.extend)((0,y.extend)({},n),{name:e,ordinalMeta:null})})):[{name:"value",type:"float"}];var i=new On.Z(r,n),a=new On.Z(r,n),o=new On.Z([],n),s=(0,y.map)(n.get("data"),(0,y.curry)(Mb,t,e,n));e&&(s=(0,y.filter)(s,(0,y.curry)(Rb,e)));var u=xb(!!e,r);return i.initData((0,y.map)(s,(function(e){return e[0]})),null,u),a.initData((0,y.map)(s,(function(e){return e[1]})),null,u),o.initData((0,y.map)(s,(function(e){return e[2]}))),o.hasItemOption=!0,{from:i,to:a,line:o}}(i,e,t),c=l.from,d=l.to,f=l.line;Ab(t).from=c,Ab(t).to=d,t.setData(f);var h=t.get("symbol"),p=t.get("symbolSize"),m=t.get("symbolRotate"),g=t.get("symbolOffset");function v(t,n,i){var a=t.getItemModel(n);Pb(t,n,i,e,r);var s=a.getModel("itemStyle").getItemStyle();null==s.fill&&(s.fill=(0,px.UL)(o,"color")),t.setItemVisual(n,{symbolKeepAspect:a.get("symbolKeepAspect"),symbolOffset:(0,y.retrieve2)(a.get("symbolOffset",!0),g[i?0:1]),symbolRotate:(0,y.retrieve2)(a.get("symbolRotate",!0),m[i?0:1]),symbolSize:(0,y.retrieve2)(a.get("symbolSize"),p[i?0:1]),symbol:(0,y.retrieve2)(a.get("symbol",!0),h[i?0:1]),style:s})}(0,y.isArray)(h)||(h=[h,h]),(0,y.isArray)(p)||(p=[p,p]),(0,y.isArray)(m)||(m=[m,m]),(0,y.isArray)(g)||(g=[g,g]),l.from.each((function(e){v(c,e,!0),v(d,e,!1)})),f.each((function(e){var t=f.getItemModel(e).getModel("lineStyle").getLineStyle();f.setItemLayout(e,[c.getItemLayout(e),d.getItemLayout(e)]),null==t.stroke&&(t.stroke=c.getItemVisual(e,"style").fill),f.setItemVisual(e,{fromSymbolKeepAspect:c.getItemVisual(e,"symbolKeepAspect"),fromSymbolOffset:c.getItemVisual(e,"symbolOffset"),fromSymbolRotate:c.getItemVisual(e,"symbolRotate"),fromSymbolSize:c.getItemVisual(e,"symbolSize"),fromSymbol:c.getItemVisual(e,"symbol"),toSymbolKeepAspect:d.getItemVisual(e,"symbolKeepAspect"),toSymbolOffset:d.getItemVisual(e,"symbolOffset"),toSymbolRotate:d.getItemVisual(e,"symbolRotate"),toSymbolSize:d.getItemVisual(e,"symbolSize"),toSymbol:d.getItemVisual(e,"symbol"),style:t})})),u.updateData(f),l.line.eachItemGraphicEl((function(e,n){e.traverse((function(e){(0,Oe.A)(e).dataModel=t}))})),this.markKeep(u),u.group.silent=t.get("silent")||e.get("silent")},t.type="markLine",t}(Sb);var Lb=Ob;var Fb=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.createMarkerModelFromSeries=function(e,n,r){return new t(e,n,r)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(cb),Zb=Fb,Bb=(0,Je.Yf)(),zb=function(e,t,n,r){var i=gb(e,r[0]),a=gb(e,r[1]),o=i.coord,s=a.coord;o[0]=(0,y.retrieve)(o[0],-1/0),o[1]=(0,y.retrieve)(o[1],-1/0),s[0]=(0,y.retrieve)(s[0],1/0),s[1]=(0,y.retrieve)(s[1],1/0);var u=(0,y.mergeAll)([{},i,a]);return u.coord=[i.coord,a.coord],u.x0=i.x,u.y0=i.y,u.x1=a.x,u.y1=a.y,u};function Vb(e){return!isNaN(e)&&!isFinite(e)}function jb(e,t,n,r){var i=1-e;return Vb(t[i])&&Vb(n[i])}function Wb(e,t){var n=t.coord[0],r=t.coord[1];return!!(mt(e,"cartesian2d")&&n&&r&&(jb(1,n,r)||jb(0,n,r)))||(yb(e,{coord:n,x:t.x0,y:t.y0})||yb(e,{coord:r,x:t.x1,y:t.y1}))}function Ub(e,t,n,r,i){var a,o=r.coordinateSystem,s=e.getItemModel(t),u=dt.GM(s.get(n[0]),i.getWidth()),l=dt.GM(s.get(n[1]),i.getHeight());if(isNaN(u)||isNaN(l)){if(r.getMarkerPosition)a=r.getMarkerPosition(e.getValues(n,t));else{var c=[h=e.get(n[0],t),p=e.get(n[1],t)];o.clampData&&o.clampData(c,c),a=o.dataToPoint(c,!0)}if(mt(o,"cartesian2d")){var d=o.getAxis("x"),f=o.getAxis("y"),h=e.get(n[0],t),p=e.get(n[1],t);Vb(h)?a[0]=d.toGlobalCoord(d.getExtent()["x0"===n[0]?0:1]):Vb(p)&&(a[1]=f.toGlobalCoord(f.getExtent()["y0"===n[1]?0:1]))}isNaN(u)||(a[0]=u),isNaN(l)||(a[1]=l)}else a=[u,l];return a}var Hb=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],Gb=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.updateTransform=function(e,t,n){t.eachSeries((function(e){var t=cb.getMarkerModelFromSeries(e,"markArea");if(t){var r=t.getData();r.each((function(t){var i=(0,y.map)(Hb,(function(i){return Ub(r,t,i,e,n)}));r.setItemLayout(t,i),r.getItemGraphicEl(t).setShape("points",i)}))}}),this)},t.prototype.renderSeries=function(e,t,n,r){var i=e.coordinateSystem,a=e.id,o=e.getData(),s=this.markerGroupMap,u=s.get(a)||s.set(a,{group:new Me.Z});this.group.add(u.group),this.markKeep(u);var l=function(e,t,n){var r,i,a=["x0","y0","x1","y1"];if(e){var o=(0,y.map)(e&&e.dimensions,(function(e){var n=t.getData(),r=n.getDimensionInfo(n.mapDimension(e))||{};return(0,y.extend)((0,y.extend)({},r),{name:e,ordinalMeta:null})}));i=(0,y.map)(a,(function(e,t){return{name:e,type:o[t%2].type}})),r=new On.Z(i,n)}else i=[{name:"value",type:"float"}],r=new On.Z(i,n);var s=(0,y.map)(n.get("data"),(0,y.curry)(zb,t,e,n));e&&(s=(0,y.filter)(s,(0,y.curry)(Wb,e)));var u=e?function(e,t,n,r){var a=e.coord[Math.floor(r/2)][r%2];return(0,hb.yQ)(a,i[r])}:function(e,t,n,r){return(0,hb.yQ)(e.value,i[r])};return r.initData(s,null,u),r.hasItemOption=!0,r}(i,e,t);t.setData(l),l.each((function(t){var n=(0,y.map)(Hb,(function(n){return Ub(l,t,n,e,r)})),a=i.getAxis("x").scale,s=i.getAxis("y").scale,u=a.getExtent(),c=s.getExtent(),d=[a.parse(l.get("x0",t)),a.parse(l.get("x1",t))],f=[s.parse(l.get("y0",t)),s.parse(l.get("y1",t))];dt.dt(d),dt.dt(f);var h=!!(u[0]>d[1]||u[1]<d[0]||c[0]>f[1]||c[1]<f[0]);l.setItemLayout(t,{points:n,allClipped:h});var p=l.getItemModel(t).getModel("itemStyle").getItemStyle(),m=(0,px.UL)(o,"color");p.fill||(p.fill=m,(0,y.isString)(p.fill)&&(p.fill=vt.modifyAlpha(p.fill,.4))),p.stroke||(p.stroke=m),l.setItemVisual(t,"style",p)})),l.diff(Bb(u).data).add((function(e){var t=l.getItemLayout(e);if(!t.allClipped){var n=new pi.Z({shape:{points:t.points}});l.setItemGraphicEl(e,n),u.group.add(n)}})).update((function(e,n){var r=Bb(u).data.getItemGraphicEl(n),i=l.getItemLayout(e);i.allClipped?r&&u.group.remove(r):(r?Pe.D(r,{shape:{points:i.points}},t,e):r=new pi.Z({shape:{points:i.points}}),l.setItemGraphicEl(e,r),u.group.add(r))})).remove((function(e){var t=Bb(u).data.getItemGraphicEl(e);u.group.remove(t)})).execute(),l.eachItemGraphicEl((function(e,n){var r=l.getItemModel(n),i=l.getItemVisual(n,"style");e.useStyle(l.getItemVisual(n,"style")),(0,ze.ni)(e,(0,ze.k3)(r),{labelFetcher:t,labelDataIndex:n,defaultText:l.getName(n)||"",inheritColor:(0,y.isString)(i.fill)?vt.modifyAlpha(i.fill,1):"#000"}),(0,Le.WO)(e,r),(0,Le.k5)(e,null,null,r.get(["emphasis","disabled"])),(0,Oe.A)(e).dataModel=t})),Bb(u).data=l,u.group.silent=t.get("silent")||e.get("silent")},t.type="markArea",t}(Sb);var Xb=Gb;var qb=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return(0,De.ZT)(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),this._updateSelector(t)},t.prototype._updateSelector=function(e){var t=e.selector,n=this.ecModel;!0===t&&(t=e.selector=["all","inverse"]),y.isArray(t)&&y.each(t,(function(e,r){y.isString(e)&&(e={type:e}),t[r]=y.merge(e,function(e,t){return"all"===t?{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])}:"inverse"===t?{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(n,e.type))}))},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,n=0;n<e.length;n++){var r=e[n].get("name");if(this.isSelected(r)){this.select(r),t=!0;break}}!t&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var t=[],n=[];e.eachRawSeries((function(r){var i,a=r.name;if(n.push(a),r.legendVisualProvider){var o=r.legendVisualProvider.getAllNames();e.isSeriesFiltered(r)||(n=n.concat(o)),o.length?t=t.concat(o):i=!0}else i=!0;i&&(0,Je.yu)(r)&&t.push(r.name)})),this._availableNames=n;var r=this.get("data")||t,i=y.map(r,(function(e){return(y.isString(e)||y.isNumber(e))&&(e={name:e}),new Pr.Z(e,this,this.ecModel)}),this);this._data=i},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var t=this.option.selected;if("single"===this.get("selectedMode")){var n=this._data;y.each(n,(function(e){t[e.get("name")]=!1}))}t[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,t=this.option.selected;y.each(e,(function(e){t[e.get("name",!0)]=!0}))},t.prototype.inverseSelect=function(){var e=this._data,t=this.option.selected;y.each(e,(function(e){var n=e.get("name",!0);t.hasOwnProperty(n)||(t[n]=!0),t[n]=!t[n]}))},t.prototype.isSelected=function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&y.indexOf(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(Qn.Z),Yb=qb,Kb=y.curry,Qb=y.each,Jb=Me.Z,$b=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!1,n}return(0,De.ZT)(t,e),t.prototype.init=function(){this.group.add(this._contentGroup=new Jb),this.group.add(this._selectorGroup=new Jb),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,t,n){var r=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var i=e.get("align"),a=e.get("orient");i&&"auto"!==i||(i="right"===e.get("left")&&"vertical"===a?"right":"left");var o=e.get("selector",!0),s=e.get("selectorPosition",!0);!o||s&&"auto"!==s||(s="horizontal"===a?"end":"start"),this.renderInner(i,e,t,n,o,a,s);var u=e.getBoxLayoutParams(),l={width:n.getWidth(),height:n.getHeight()},c=e.get("padding"),d=pn.ME(u,l,c),f=this.layoutInner(e,i,d,r,o,s),h=pn.ME(y.defaults({width:f.width,height:f.height},u),l,c);this.group.x=h.x-f.x,this.group.y=h.y-f.y,this.group.markRedraw(),this.group.add(this._backgroundEl=qv(f,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,t,n,r,i,a,o){var s=this.getContentGroup(),u=y.createHashMap(),l=t.get("selectedMode"),c=[];n.eachRawSeries((function(e){!e.get("legendHoverLink")&&c.push(e.id)})),Qb(t.getData(),(function(i,a){var o=i.get("name");if(!this.newlineDisabled&&(""===o||"\n"===o)){var d=new Jb;return d.newline=!0,void s.add(d)}var f=n.getSeriesByName(o)[0];if(!u.get(o)){if(f){var h=f.getData(),p=h.getVisual("legendLineStyle")||{},m=h.getVisual("legendIcon"),g=h.getVisual("style");this._createItem(f,o,a,i,t,e,p,g,m,l).on("click",Kb(ew,o,null,r,c)).on("mouseover",Kb(nw,f.name,null,r,c)).on("mouseout",Kb(rw,f.name,null,r,c)),u.set(o,!0)}else n.eachRawSeries((function(n){if(!u.get(o)&&n.legendVisualProvider){var s=n.legendVisualProvider;if(!s.containName(o))return;var d=s.indexOfName(o),f=s.getItemVisual(d,"style"),h=s.getItemVisual(d,"legendIcon"),p=(0,vt.parse)(f.fill);p&&0===p[3]&&(p[3]=.2,f=y.extend(y.extend({},f),{fill:(0,vt.stringify)(p,"rgba")})),this._createItem(n,o,a,i,t,e,{},f,h,l).on("click",Kb(ew,null,o,r,c)).on("mouseover",Kb(nw,null,o,r,c)).on("mouseout",Kb(rw,null,o,r,c)),u.set(o,!0)}}),this);0}}),this),i&&this._createSelector(i,t,r,a,o)},t.prototype._createSelector=function(e,t,n,r,i){var a=this.getSelectorGroup();Qb(e,(function(e){var r=e.type,i=new U.ZP({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===r?"legendAllSelect":"legendInverseSelect"})}});a.add(i);var o=t.getModel("selectorLabel"),s=t.getModel(["emphasis","selectorLabel"]);(0,ze.ni)(i,{normal:o,emphasis:s},{defaultText:e.title}),(0,Le.vF)(i)}))},t.prototype._createItem=function(e,t,n,r,i,a,o,s,u,l){var c=e.visualDrawType,d=i.get("itemWidth"),f=i.get("itemHeight"),h=i.isSelected(t),p=r.get("symbolRotate"),m=r.get("symbolKeepAspect"),g=r.get("icon"),v=function(e,t,n,r,i,a){function o(e,t){"auto"===e.lineWidth&&(e.lineWidth=t.lineWidth>0?2:0),Qb(e,(function(n,r){"inherit"===e[r]&&(e[r]=t[r])}))}var s=t.getModel("itemStyle").getItemStyle(),u=0===e.lastIndexOf("empty",0)?"fill":"stroke";s.decal=r.decal,"inherit"===s.fill&&(s.fill=r[i]);"inherit"===s.stroke&&(s.stroke=r[u]);"inherit"===s.opacity&&(s.opacity=("fill"===i?r:n).opacity);o(s,r);var l=t.getModel("lineStyle"),c=l.getLineStyle();if(o(c,n),"auto"===s.fill&&(s.fill=r.fill),"auto"===s.stroke&&(s.stroke=r.fill),"auto"===c.stroke&&(c.stroke=r.fill),!a){var d=t.get("inactiveBorderWidth"),f=s[u];s.lineWidth="auto"===d?r.lineWidth>0&&f?2:0:s.lineWidth,s.fill=t.get("inactiveColor"),s.stroke=t.get("inactiveBorderColor"),c.stroke=l.get("inactiveColor"),c.lineWidth=l.get("inactiveWidth")}return{itemStyle:s,lineStyle:c}}(u=g||u||"roundRect",r,o,s,c,h),x=new Jb,b=r.getModel("textStyle");if(!y.isFunction(e.getLegendIcon)||g&&"inherit"!==g){var w="inherit"===g&&e.getData().getVisual("symbol")?"inherit"===p?e.getData().getVisual("symbolRotate"):p:0;x.add(function(e){var t=e.icon||"roundRect",n=(0,Ae.th)(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);n.setStyle(e.itemStyle),n.rotation=(e.iconRotate||0)*Math.PI/180,n.setOrigin([e.itemWidth/2,e.itemHeight/2]),t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2);return n}({itemWidth:d,itemHeight:f,icon:u,iconRotate:w,itemStyle:v.itemStyle,lineStyle:v.lineStyle,symbolKeepAspect:m}))}else x.add(e.getLegendIcon({itemWidth:d,itemHeight:f,icon:u,iconRotate:p,itemStyle:v.itemStyle,lineStyle:v.lineStyle,symbolKeepAspect:m}));var _="left"===a?d+5:-5,S=a,C=i.get("formatter"),k=t;y.isString(C)&&C?k=C.replace("{name}",null!=t?t:""):y.isFunction(C)&&(k=C(t));var D=r.get("inactiveColor");x.add(new U.ZP({style:(0,ze.Lr)(b,{text:k,x:_,y:f/2,fill:h?b.getTextColor():D,align:S,verticalAlign:"middle"})}));var T=new lt.Z({shape:x.getBoundingRect(),invisible:!0}),I=r.getModel("tooltip");return I.get("show")&&Re.setTooltipConfig({el:T,componentModel:i,itemName:t,itemTooltipOption:I.option}),x.add(T),x.eachChild((function(e){e.silent=!0})),T.silent=!l,this.getContentGroup().add(x),(0,Le.vF)(x),x.__legendDataIndex=n,x},t.prototype.layoutInner=function(e,t,n,r,i,a){var o=this.getContentGroup(),s=this.getSelectorGroup();pn.BZ(e.get("orient"),o,e.get("itemGap"),n.width,n.height);var u=o.getBoundingRect(),l=[-u.x,-u.y];if(s.markRedraw(),o.markRedraw(),i){pn.BZ("horizontal",s,e.get("selectorItemGap",!0));var c=s.getBoundingRect(),d=[-c.x,-c.y],f=e.get("selectorButtonGap",!0),h=e.getOrient().index,p=0===h?"width":"height",m=0===h?"height":"width",g=0===h?"y":"x";"end"===a?d[h]+=u[p]+f:l[h]+=c[p]+f,d[1-h]+=u[m]/2-c[m]/2,s.x=d[0],s.y=d[1],o.x=l[0],o.y=l[1];var v={x:0,y:0};return v[p]=u[p]+f+c[p],v[m]=Math.max(u[m],c[m]),v[g]=Math.min(0,c[g]+d[1-h]),v}return o.x=l[0],o.y=l[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(Kn.Z);function ew(e,t,n,r){rw(e,t,n,r),n.dispatchAction({type:"legendToggleSelect",name:null!=e?e:t}),nw(e,t,n,r)}function tw(e){for(var t,n=e.getZr().storage.getDisplayList(),r=0,i=n.length;r<i&&!(t=n[r].states.emphasis);)r++;return t&&t.hoverLayer}function nw(e,t,n,r){tw(n)||n.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:r})}function rw(e,t,n,r){tw(n)||n.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:r})}var iw=$b;function aw(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries((function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0}))}function ow(e,t,n){var r,i={},a="toggleSelected"===e;return n.eachComponent("legend",(function(n){a&&null!=r?n[r?"select":"unSelect"](t.name):"allSelect"===e||"inverseSelect"===e?n[e]():(n[e](t.name),r=n.isSelected(t.name));var o=n.getData();(0,y.each)(o,(function(e){var t=e.get("name");if("\n"!==t&&""!==t){var r=n.isSelected(t);i.hasOwnProperty(t)?i[t]=i[t]&&r:i[t]=r}}))})),"allSelect"===e||"inverseSelect"===e?{selected:i}:{name:t.name,selected:i}}function sw(e){e.registerComponentModel(Yb),e.registerComponentView(iw),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,aw),e.registerSubTypeDefaulter("legend",(function(){return"plain"})),function(e){e.registerAction("legendToggleSelect","legendselectchanged",(0,y.curry)(ow,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",(0,y.curry)(ow,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",(0,y.curry)(ow,"inverseSelect")),e.registerAction("legendSelect","legendselected",(0,y.curry)(ow,"select")),e.registerAction("legendUnSelect","legendunselected",(0,y.curry)(ow,"unSelect"))}(e)}var uw=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(t,n,r){var i=(0,pn.tE)(t);e.prototype.init.call(this,t,n,r),lw(this,t,i)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),lw(this,this.option,t)},t.type="legend.scroll",t.defaultOption=(0,Zt.ZL)(Yb.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(Yb);function lw(e,t,n){var r=[1,1];r[e.getOrient().index]=0,(0,pn.dt)(t,n,{type:"box",ignoreSize:!!r})}var cw=uw,dw=Me.Z,fw=["width","height"],hw=["x","y"],pw=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!0,n._currentIndex=0,n}return(0,De.ZT)(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new dw),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new dw)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(t,n,r,i,a,o,s){var u=this;e.prototype.renderInner.call(this,t,n,r,i,a,o,s);var l=this._controllerGroup,c=n.get("pageIconSize",!0),d=y.isArray(c)?c:[c,c];h("pagePrev",0);var f=n.getModel("pageTextStyle");function h(e,t){var r=e+"DataIndex",a=Re.createIcon(n.get("pageIcons",!0)[n.getOrient().name][t],{onclick:y.bind(u._pageGo,u,r,n,i)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});a.name=e,l.add(a)}l.add(new U.ZP({name:"pageText",style:{text:"xx/xx",fill:f.getTextColor(),font:f.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),h("pageNext",1)},t.prototype.layoutInner=function(e,t,n,r,i,a){var o=this.getSelectorGroup(),s=e.getOrient().index,u=fw[s],l=hw[s],c=fw[1-s],d=hw[1-s];i&&pn.BZ("horizontal",o,e.get("selectorItemGap",!0));var f=e.get("selectorButtonGap",!0),h=o.getBoundingRect(),p=[-h.x,-h.y],m=y.clone(n);i&&(m[u]=n[u]-h[u]-f);var g=this._layoutContentAndController(e,r,m,s,u,c,d,l);if(i){if("end"===a)p[s]+=g[u]+f;else{var v=h[u]+f;p[s]-=v,g[l]-=v}g[u]+=h[u]+f,p[1-s]+=g[d]+g[c]/2-h[c]/2,g[c]=Math.max(g[c],h[c]),g[d]=Math.min(g[d],h[d]+p[1-s]),o.x=p[0],o.y=p[1],o.markRedraw()}return g},t.prototype._layoutContentAndController=function(e,t,n,r,i,a,o,s){var u=this.getContentGroup(),l=this._containerGroup,c=this._controllerGroup;pn.BZ(e.get("orient"),u,e.get("itemGap"),r?n.width:null,r?null:n.height),pn.BZ("horizontal",c,e.get("pageButtonItemGap",!0));var d=u.getBoundingRect(),f=c.getBoundingRect(),h=this._showController=d[i]>n[i],p=[-d.x,-d.y];t||(p[r]=u[s]);var m=[0,0],g=[-f.x,-f.y],v=y.retrieve2(e.get("pageButtonGap",!0),e.get("itemGap",!0));h&&("end"===e.get("pageButtonPosition",!0)?g[r]+=n[i]-f[i]:m[r]+=f[i]+v);g[1-r]+=d[a]/2-f[a]/2,u.setPosition(p),l.setPosition(m),c.setPosition(g);var x={x:0,y:0};if(x[i]=h?n[i]:d[i],x[a]=Math.max(d[a],f[a]),x[o]=Math.min(0,f[o]+g[1-r]),l.__rectSize=n[i],h){var b={x:0,y:0};b[i]=Math.max(n[i]-f[i]-v,0),b[a]=x[a],l.setClipPath(new lt.Z({shape:b})),l.__rectSize=b[i]}else c.eachChild((function(e){e.attr({invisible:!0,silent:!0})}));var w=this._getPageInfo(e);return null!=w.pageIndex&&Pe.D(u,{x:w.contentPosition[0],y:w.contentPosition[1]},h?e:null),this._updatePageInfoView(e,w),x},t.prototype._pageGo=function(e,t,n){var r=this._getPageInfo(t)[e];null!=r&&n.dispatchAction({type:"legendScroll",scrollDataIndex:r,legendId:t.id})},t.prototype._updatePageInfoView=function(e,t){var n=this._controllerGroup;y.each(["pagePrev","pageNext"],(function(r){var i=null!=t[r+"DataIndex"],a=n.childOfName(r);a&&(a.setStyle("fill",i?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),a.cursor=i?"pointer":"default")}));var r=n.childOfName("pageText"),i=e.get("pageFormatter"),a=t.pageIndex,o=null!=a?a+1:0,s=t.pageCount;r&&i&&r.setStyle("text",y.isString(i)?i.replace("{current}",null==o?"":o+"").replace("{total}",null==s?"":s+""):i({current:o,total:s}))},t.prototype._getPageInfo=function(e){var t=e.get("scrollDataIndex",!0),n=this.getContentGroup(),r=this._containerGroup.__rectSize,i=e.getOrient().index,a=fw[i],o=hw[i],s=this._findTargetItemIndex(t),u=n.children(),l=u[s],c=u.length,d=c?1:0,f={contentPosition:[n.x,n.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!l)return f;var h=y(l);f.contentPosition[i]=-h.s;for(var p=s+1,m=h,g=h,v=null;p<=c;++p)(!(v=y(u[p]))&&g.e>m.s+r||v&&!x(v,m.s))&&(m=g.i>m.i?g:v)&&(null==f.pageNextDataIndex&&(f.pageNextDataIndex=m.i),++f.pageCount),g=v;for(p=s-1,m=h,g=h,v=null;p>=-1;--p)(v=y(u[p]))&&x(g,v.s)||!(m.i<g.i)||(g=m,null==f.pagePrevDataIndex&&(f.pagePrevDataIndex=m.i),++f.pageCount,++f.pageIndex),m=v;return f;function y(e){if(e){var t=e.getBoundingRect(),n=t[o]+e[o];return{s:n,e:n+t[a],i:e.__legendDataIndex}}}function x(e,t){return e.e>=t&&e.s<=t+r}},t.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild((function(r,i){var a=r.__legendDataIndex;null==n&&null!=a&&(n=i),a===e&&(t=i)})),null!=t?t:n):0;var t,n},t.type="legend.scroll",t}(iw),mw=pw;function gw(e){(0,r.D)(sw),e.registerComponentModel(cw),e.registerComponentView(mw),function(e){e.registerAction("legendScroll","legendscroll",(function(e,t){var n=e.scrollDataIndex;null!=n&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},(function(e){e.setScrollDataIndex(n)}))}))}(e)}var vw=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.type="dataZoom.inside",t.defaultOption=(0,Zt.ZL)(Dv.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(Dv),yw=vw,xw=(0,Je.Yf)();function bw(e,t,n){xw(e).coordSysRecordMap.each((function(e){var r=e.dataZoomInfoMap.get(t.uid);r&&(r.getRange=n)}))}function ww(e,t){if(t){e.removeKey(t.model.uid);var n=t.controller;n&&n.dispose()}}function _w(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function Sw(e,t,n,r){return e.coordinateSystem.containPoint([n,r])}function Cw(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,(function(e,t){var n=xw(t),r=n.coordSysRecordMap||(n.coordSysRecordMap=(0,y.createHashMap)());r.each((function(e){e.dataZoomInfoMap=null})),e.eachComponent({mainType:"dataZoom",subType:"inside"},(function(e){var n=_v(e);(0,y.each)(n.infoList,(function(n){var i=n.model.uid,a=r.get(i)||r.set(i,function(e,t){var n={model:t,containsPoint:(0,y.curry)(Sw,t),dispatchAction:(0,y.curry)(_w,e),dataZoomInfoMap:null,controller:null},r=n.controller=new ji(e.getZr());return(0,y.each)(["pan","zoom","scrollMove"],(function(e){r.on(e,(function(t){var r=[];n.dataZoomInfoMap.each((function(i){if(t.isAvailableBehavior(i.model.option)){var a=(i.getRange||{})[e],o=a&&a(i.dzReferCoordSysInfo,n.model.mainType,n.controller,t);!i.model.get("disabled",!0)&&o&&r.push({dataZoomId:i.model.id,start:o[0],end:o[1]})}})),r.length&&n.dispatchAction(r)}))})),n}(t,n.model));(a.dataZoomInfoMap||(a.dataZoomInfoMap=(0,y.createHashMap)())).set(e.uid,{dzReferCoordSysInfo:n,model:e,getRange:null})}))})),r.each((function(e){var t,n=e.controller,i=e.dataZoomInfoMap;if(i){var a=i.keys()[0];null!=a&&(t=i.get(a))}if(t){var o=function(e){var t,n="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return e.each((function(e){var a=e.model,o=!a.get("disabled",!0)&&(!a.get("zoomLock",!0)||"move");r[n+o]>r[n+t]&&(t=o),i=i&&a.get("preventDefaultMouseMove",!0)})),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}(i);n.enable(o.controlType,o.opt),n.setPointerChecker(e.containsPoint),Vt.T9(e,"dispatchAction",t.model.get("throttle",!0),"fixRate")}else ww(r,e)}))}))}var kw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return(0,De.ZT)(t,e),t.prototype.render=function(t,n,r){e.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),bw(r,t,{pan:(0,y.bind)(Dw.pan,this),zoom:(0,y.bind)(Dw.zoom,this),scrollMove:(0,y.bind)(Dw.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){!function(e,t){for(var n=xw(e).coordSysRecordMap,r=n.keys(),i=0;i<r.length;i++){var a=r[i],o=n.get(a),s=o.dataZoomInfoMap;if(s){var u=t.uid;s.get(u)&&(s.removeKey(u),s.keys().length||ww(n,o))}}}(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(Mv),Dw={zoom:function(e,t,n,r){var i=this.range,a=i.slice(),o=e.axisModels[0];if(o){var s=Iw[t](null,[r.originX,r.originY],o,n,e),u=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],l=Math.max(1/r.scale,0);a[0]=(a[0]-u)*l+u,a[1]=(a[1]-u)*l+u;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Jl(0,a,[0,100],0,c.minSpan,c.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1]?a:void 0}},pan:Tw((function(e,t,n,r,i,a){var o=Iw[r]([a.oldX,a.oldY],[a.newX,a.newY],t,i,n);return o.signal*(e[1]-e[0])*o.pixel/o.pixelLength})),scrollMove:Tw((function(e,t,n,r,i,a){return Iw[r]([0,0],[a.scrollDelta,a.scrollDelta],t,i,n).signal*(e[1]-e[0])*a.scrollDelta}))};function Tw(e){return function(t,n,r,i){var a=this.range,o=a.slice(),s=t.axisModels[0];if(s)return Jl(e(o,s,t,n,r,i),o,[0,100],"all"),this.range=o,a[0]!==o[0]||a[1]!==o[1]?o:void 0}}var Iw={grid:function(e,t,n,r,i){var a=n.axis,o={},s=i.model.coordinateSystem.getRect();return e=e||[0,0],"x"===a.dim?(o.pixel=t[0]-e[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o},polar:function(e,t,n,r,i){var a=n.axis,o={},s=i.model.coordinateSystem,u=s.getRadiusAxis().getExtent(),l=s.getAngleAxis().getExtent();return e=e?s.pointToCoord(e):[0,0],t=s.pointToCoord(t),"radiusAxis"===n.mainType?(o.pixel=t[0]-e[0],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=a.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=a.inverse?-1:1),o},singleAxis:function(e,t,n,r,i){var a=n.axis,o=i.model.coordinateSystem.getRect(),s={};return e=e||[0,0],"horizontal"===a.orient?(s.pixel=t[0]-e[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s}},Aw=kw;function Mw(e){zv(e),e.registerComponentModel(yw),e.registerComponentView(Aw),Cw(e)}var Ew=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=(0,Zt.ZL)(Dv.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(Dv),Nw=Ew,Rw=lt.Z,Pw="horizontal",Ow="vertical",Lw=["line","bar","candlestick","scatter"],Fw={easing:"cubicOut",duration:100,delay:0},Zw=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._displayables={},n}return(0,De.ZT)(t,e),t.prototype.init=function(e,t){this.api=t,this._onBrush=(0,y.bind)(this._onBrush,this),this._onBrushEnd=(0,y.bind)(this._onBrushEnd,this)},t.prototype.render=function(t,n,r,i){if(e.prototype.render.apply(this,arguments),Vt.T9(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1!==t.get("show")){if(t.noTarget())return this._clear(),void this.group.removeAll();i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){Vt.ZH(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var t=this._displayables.sliderGroup=new Me.Z;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,t=this.api,n=e.get("brushSelect")?7:0,r=this._findCoordRect(),i={width:t.getWidth(),height:t.getHeight()},a=this._orient===Pw?{right:i.width-r.x-r.width,top:i.height-30-7-n,width:r.width,height:30}:{right:7,top:r.y,width:30,height:r.height},o=pn.tE(e.option);(0,y.each)(["right","top","width","height"],(function(e){"ph"===o[e]&&(o[e]=a[e])}));var s=pn.ME(o,i);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],this._orient===Ow&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,t=this._location,n=this._orient,r=this.dataZoomModel.getFirstTargetAxisModel(),i=r&&r.get("inverse"),a=this._displayables.sliderGroup,o=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(n!==Pw||i?n===Pw&&i?{scaleY:o?1:-1,scaleX:-1}:n!==Ow||i?{scaleY:o?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:o?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:o?1:-1,scaleX:1});var s=e.getBoundingRect([a]);e.x=t.x-s.x,e.y=t.y-s.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,t=this._size,n=this._displayables.sliderGroup,r=e.get("brushSelect");n.add(new Rw({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var i=new Rw({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:(0,y.bind)(this._onClickPanel,this)}),a=this.api.getZr();r?(i.on("mousedown",this._onBrushStart,this),i.cursor="crosshair",a.on("mousemove",this._onBrush),a.on("mouseup",this._onBrushEnd)):(a.off("mousemove",this._onBrush),a.off("mouseup",this._onBrushEnd)),n.add(i)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var t=this._size,n=this._shadowSize||[],r=e.series,i=r.getRawData(),a=r.getShadowDim?r.getShadowDim():e.otherDim;if(null!=a){var o=this._shadowPolygonPts,s=this._shadowPolylinePts;if(i!==this._shadowData||a!==this._shadowDim||t[0]!==n[0]||t[1]!==n[1]){var u=i.getDataExtent(a),l=.3*(u[1]-u[0]);u=[u[0]-l,u[1]+l];var c,d=[0,t[1]],f=[0,t[0]],h=[[t[0],0],[0,0]],p=[],m=f[1]/(i.count()-1),g=0,v=Math.round(i.count()/t[0]);i.each([a],(function(e,t){if(v>0&&t%v)g+=m;else{var n=null==e||isNaN(e)||""===e,r=n?0:(0,dt.NU)(e,u,d,!0);n&&!c&&t?(h.push([h[h.length-1][0],0]),p.push([p[p.length-1][0],0])):!n&&c&&(h.push([g,0]),p.push([g,0])),h.push([g,r]),p.push([g,r]),g+=m,c=n}})),o=this._shadowPolygonPts=h,s=this._shadowPolylinePts=p}this._shadowData=i,this._shadowDim=a,this._shadowSize=[t[0],t[1]];for(var y=this.dataZoomModel,x=0;x<3;x++){var b=w(1===x);this._displayables.sliderGroup.add(b),this._displayables.dataShadowSegs.push(b)}}}function w(e){var t=y.getModel(e?"selectedDataBackground":"dataBackground"),n=new Me.Z,r=new pi.Z({shape:{points:o},segmentIgnoreThreshold:1,style:t.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),i=new wn.Z({shape:{points:s},segmentIgnoreThreshold:1,style:t.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return n.add(r),n.add(i),n}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(!1!==t){var n,r=this.ecModel;return e.eachTargetAxis((function(i,a){var o=e.getAxisProxy(i,a).getTargetSeriesModels();(0,y.each)(o,(function(e){if(!n&&!(!0!==t&&(0,y.indexOf)(Lw,e.get("type"))<0)){var o,s=r.getComponent(bv(i),a).axis,u={x:"y",y:"x",radius:"angle",angle:"radius"}[i],l=e.coordinateSystem;null!=u&&l.getOtherAxis&&(o=l.getOtherAxis(s).inverse),u=e.getData().mapDimension(u),n={thisAxis:s,series:e,thisDim:i,otherDim:u,otherAxisInverse:o}}}),this)}),this),n}},t.prototype._renderHandle=function(){var e=this.group,t=this._displayables,n=t.handles=[null,null],r=t.handleLabels=[null,null],i=this._displayables.sliderGroup,a=this._size,o=this.dataZoomModel,s=this.api,u=o.get("borderRadius")||0,l=o.get("brushSelect"),c=t.filler=new Rw({silent:l,style:{fill:o.get("fillerColor")},textConfig:{position:"inside"}});i.add(c),i.add(new Rw({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:a[0],height:a[1],r:u},style:{stroke:o.get("dataBackgroundColor")||o.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),(0,y.each)([0,1],(function(t){var a=o.get("handleIcon");!Ae.Pw[a]&&a.indexOf("path://")<0&&a.indexOf("image://")<0&&(a="path://"+a);var s=(0,Ae.th)(a,-1,0,2,2,null,!0);s.attr({cursor:Bw(this._orient),draggable:!0,drift:(0,y.bind)(this._onDragMove,this,t),ondragend:(0,y.bind)(this._onDragEnd,this),onmouseover:(0,y.bind)(this._showDataInfo,this,!0),onmouseout:(0,y.bind)(this._showDataInfo,this,!1),z2:5});var u=s.getBoundingRect(),l=o.get("handleSize");this._handleHeight=(0,dt.GM)(l,this._size[1]),this._handleWidth=u.width/u.height*this._handleHeight,s.setStyle(o.getModel("handleStyle").getItemStyle()),s.style.strokeNoScale=!0,s.rectHover=!0,s.ensureState("emphasis").style=o.getModel(["emphasis","handleStyle"]).getItemStyle(),(0,Le.vF)(s);var c=o.get("handleColor");null!=c&&(s.style.fill=c),i.add(n[t]=s);var d=o.getModel("textStyle");e.add(r[t]=new U.ZP({silent:!0,invisible:!0,style:(0,ze.Lr)(d,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:d.getTextColor(),font:d.getFont()}),z2:10}))}),this);var d=c;if(l){var f=(0,dt.GM)(o.get("moveHandleSize"),a[1]),h=t.moveHandle=new lt.Z({style:o.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:a[1]-.5,height:f}}),p=.8*f,m=t.moveHandleIcon=(0,Ae.th)(o.get("moveHandleIcon"),-p/2,-p/2,p,p,"#fff",!0);m.silent=!0,m.y=a[1]+f/2-.5,h.ensureState("emphasis").style=o.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var g=Math.min(a[1]/2,Math.max(f,10));(d=t.moveZone=new lt.Z({invisible:!0,shape:{y:a[1]-g,height:f+g}})).on("mouseover",(function(){s.enterEmphasis(h)})).on("mouseout",(function(){s.leaveEmphasis(h)})),i.add(h),i.add(m),i.add(d)}d.attr({draggable:!0,cursor:Bw(this._orient),drift:(0,y.bind)(this._onDragMove,this,"all"),ondragstart:(0,y.bind)(this._showDataInfo,this,!0),ondragend:(0,y.bind)(this._onDragEnd,this),onmouseover:(0,y.bind)(this._showDataInfo,this,!0),onmouseout:(0,y.bind)(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[(0,dt.NU)(e[0],[0,100],t,!0),(0,dt.NU)(e[1],[0,100],t,!0)]},t.prototype._updateInterval=function(e,t){var n=this.dataZoomModel,r=this._handleEnds,i=this._getViewExtent(),a=n.findRepresentativeAxisProxy().getMinMaxSpan(),o=[0,100];Jl(t,r,i,n.get("zoomLock")?"all":e,null!=a.minSpan?(0,dt.NU)(a.minSpan,o,i,!0):null,null!=a.maxSpan?(0,dt.NU)(a.maxSpan,o,i,!0):null);var s=this._range,u=this._range=(0,dt.dt)([(0,dt.NU)(r[0],i,o,!0),(0,dt.NU)(r[1],i,o,!0)]);return!s||s[0]!==u[0]||s[1]!==u[1]},t.prototype._updateView=function(e){var t=this._displayables,n=this._handleEnds,r=(0,dt.dt)(n.slice()),i=this._size;(0,y.each)([0,1],(function(e){var r=t.handles[e],a=this._handleHeight;r.attr({scaleX:a/2,scaleY:a/2,x:n[e]+(e?-1:1),y:i[1]/2-a/2})}),this),t.filler.setShape({x:r[0],y:0,width:r[1]-r[0],height:i[1]});var a={x:r[0],width:r[1]-r[0]};t.moveHandle&&(t.moveHandle.setShape(a),t.moveZone.setShape(a),t.moveZone.getBoundingRect(),t.moveHandleIcon&&t.moveHandleIcon.attr("x",a.x+a.width/2));for(var o=t.dataShadowSegs,s=[0,r[0],r[1],i[0]],u=0;u<o.length;u++){var l=o[u],c=l.getClipPath();c||(c=new lt.Z,l.setClipPath(c)),c.setShape({x:s[u],y:0,width:s[u+1]-s[u],height:i[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var t=this.dataZoomModel,n=this._displayables,r=n.handleLabels,i=this._orient,a=["",""];if(t.get("showDetail")){var o=t.findRepresentativeAxisProxy();if(o){var s=o.getAxisModel().axis,u=this._range,l=e?o.calculateDataWindow({start:u[0],end:u[1]}).valueWindow:o.getDataValueWindow();a=[this._formatLabel(l[0],s),this._formatLabel(l[1],s)]}}var c=(0,dt.dt)(this._handleEnds.slice());function d(e){var t=Re.getTransform(n.handles[e].parent,this.group),o=Re.transformDirection(0===e?"right":"left",t),s=this._handleWidth/2+5,u=Re.applyTransform([c[e]+(0===e?-s:s),this._size[1]/2],t);r[e].setStyle({x:u[0],y:u[1],verticalAlign:i===Pw?"middle":o,align:i===Pw?o:"center",text:a[e]})}d.call(this,0),d.call(this,1)},t.prototype._formatLabel=function(e,t){var n=this.dataZoomModel,r=n.get("labelFormatter"),i=n.get("labelPrecision");null!=i&&"auto"!==i||(i=t.getPixelPrecision());var a=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(i,20));return(0,y.isFunction)(r)?r(e,a):(0,y.isString)(r)?r.replace("{value}",a):a},t.prototype._showDataInfo=function(e){e=this._dragging||e;var t=this._displayables,n=t.handleLabels;n[0].attr("invisible",!e),n[1].attr("invisible",!e),t.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](t.moveHandle,1)},t.prototype._onDragMove=function(e,t,n,r){this._dragging=!0,Pi.sT(r.event);var i=this._displayables.sliderGroup.getLocalTransform(),a=Re.applyTransform([t,n],i,!0),o=this._updateInterval(e,a[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),o&&s&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var t=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(n[0]<0||n[0]>t[0]||n[1]<0||n[1]>t[1])){var r=this._handleEnds,i=(r[0]+r[1])/2,a=this._updateInterval("all",n[0]-i);this._updateView(),a&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var t=e.offsetX,n=e.offsetY;this._brushStart=new _n.Z(t,n),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var t=this._displayables.brushRect;if(this._brushing=!1,t){t.attr("ignore",!0);var n=t.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(n.width)<5)){var r=this._getViewExtent(),i=[0,100];this._range=(0,dt.dt)([(0,dt.NU)(n.x,r,i,!0),(0,dt.NU)(n.x+n.width,r,i,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(Pi.sT(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,t){var n=this._displayables,r=this.dataZoomModel,i=n.brushRect;i||(i=n.brushRect=new Rw({silent:!0,style:r.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(i)),i.attr("ignore",!1);var a=this._brushStart,o=this._displayables.sliderGroup,s=o.transformCoordToLocal(e,t),u=o.transformCoordToLocal(a.x,a.y),l=this._size;s[0]=Math.max(Math.min(l[0],s[0]),0),i.setShape({x:u[0],y:0,width:s[0]-u[0],height:l[1]})},t.prototype._dispatchZoomAction=function(e){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?Fw:null,start:t[0],end:t[1]})},t.prototype._findCoordRect=function(){var e,t=_v(this.dataZoomModel).infoList;if(!e&&t.length){var n=t[0].model.coordinateSystem;e=n.getRect&&n.getRect()}if(!e){var r=this.api.getWidth(),i=this.api.getHeight();e={x:.2*r,y:.2*i,width:.6*r,height:.6*i}}return e},t.type="dataZoom.slider",t}(Mv);function Bw(e){return"vertical"===e?"ns-resize":"ew-resize"}var zw=Zw;function Vw(e){e.registerComponentModel(Nw),e.registerComponentView(zw),zv(e)}var jw={get:function(e,t,n){var r=y.clone((Ww[e]||{})[t]);return n&&y.isArray(r)?r[r.length-1]:r}},Ww={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},Uw=jw,Hw=qs.mapVisual,Gw=qs.eachVisual,Xw=y.isArray,qw=y.each,Yw=dt.dt,Kw=dt.NU,Qw=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return(0,De.ZT)(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)},t.prototype.optionUpdated=function(e,t){var n=this.option;!t&&yx(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var t=this.stateList;e=y.bind(e,this),this.controllerVisuals=vx(this.option.controller,t,e),this.targetVisuals=vx(this.option.target,t,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries((function(e,n){t.push(n)})):t=Je.kF(e),t},t.prototype.eachTargetSeries=function(e,t){y.each(this.getTargetSeriesIndices(),(function(n){var r=this.ecModel.getSeriesByIndex(n);r&&e.call(t,r)}),this)},t.prototype.isTargetSeries=function(e){var t=!1;return this.eachTargetSeries((function(n){n===e&&(t=!0)})),t},t.prototype.formatValueText=function(e,t,n){var r,i=this.option,a=i.precision,o=this.dataBound,s=i.formatter;n=n||["<",">"],y.isArray(e)&&(e=e.slice(),r=!0);var u=t?e:r?[l(e[0]),l(e[1])]:l(e);return y.isString(s)?s.replace("{value}",r?u[0]:u).replace("{value2}",r?u[1]:u):y.isFunction(s)?r?s(e[0],e[1]):s(e):r?e[0]===o[0]?n[0]+" "+u[1]:e[1]===o[1]?n[1]+" "+u[0]:u[0]+" - "+u[1]:u;function l(e){return e===o[0]?"min":e===o[1]?"max":(+e).toFixed(Math.min(a,20))}},t.prototype.resetExtent=function(){var e=this.option,t=Yw([e.min,e.max]);this._dataExtent=t},t.prototype.getDataDimensionIndex=function(e){var t=this.option.dimension;if(null!=t)return e.getDimensionIndex(t);for(var n=e.dimensions,r=n.length-1;r>=0;r--){var i=n[r],a=e.getDimensionInfo(i);if(!a.isCalculationCoord)return a.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,t=this.option,n={inRange:t.inRange,outOfRange:t.outOfRange},r=t.target||(t.target={}),i=t.controller||(t.controller={});y.merge(r,n),y.merge(i,n);var a=this.isCategory();function o(n){Xw(t.color)&&!n.inRange&&(n.inRange={color:t.color.slice().reverse()}),n.inRange=n.inRange||{color:e.get("gradientColor")}}o.call(this,r),o.call(this,i),function(e,t,n){var r=e[t],i=e[n];r&&!i&&(i=e[n]={},qw(r,(function(e,t){if(qs.isValidType(t)){var n=Uw.get(t,"inactive",a);null!=n&&(i[t]=n,"color"!==t||i.hasOwnProperty("opacity")||i.hasOwnProperty("colorAlpha")||(i.opacity=[0,0]))}})))}.call(this,r,"inRange","outOfRange"),function(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,n=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,r=this.get("inactiveColor"),i=this.getItemSymbol()||"roundRect";qw(this.stateList,(function(o){var s=this.itemSize,u=e[o];u||(u=e[o]={color:a?r:[r]}),null==u.symbol&&(u.symbol=t&&y.clone(t)||(a?i:[i])),null==u.symbolSize&&(u.symbolSize=n&&y.clone(n)||(a?s[0]:[s[0],s[0]])),u.symbol=Hw(u.symbol,(function(e){return"none"===e?i:e}));var l=u.symbolSize;if(null!=l){var c=-1/0;Gw(l,(function(e){e>c&&(c=e)})),u.symbolSize=Hw(l,(function(e){return Kw(e,[0,c],[0,s[0]],!0)}))}}),this)}.call(this,i)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(Qn.Z),Jw=Qw,$w=[20,140],e_=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.optionUpdated=function(t,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()})),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=$w[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=$w[1])},t.prototype._resetRange=function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):y.isArray(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),y.each(this.stateList,(function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=t[1]/3)}),this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),t=dt.dt((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},t.prototype.getValueState=function(e){var t=this.option.range,n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[];return this.eachTargetSeries((function(n){var r=[],i=n.getData();i.each(this.getDataDimensionIndex(i),(function(t,n){e[0]<=t&&t<=e[1]&&r.push(n)}),this),t.push({seriesId:n.id,dataIndex:r})}),this),t},t.prototype.getVisualMeta=function(e){var t=t_(this,"outOfRange",this.getExtent()),n=t_(this,"inRange",this.option.range.slice()),r=[];function i(t,n){r.push({value:t,color:e(t,n)})}for(var a=0,o=0,s=n.length,u=t.length;o<u&&(!n.length||t[o]<=n[0]);o++)t[o]<n[a]&&i(t[o],"outOfRange");for(var l=1;a<s;a++,l=0)l&&r.length&&i(n[a],"outOfRange"),i(n[a],"inRange");for(l=1;o<u;o++)(!n.length||n[n.length-1]<t[o])&&(l&&(r.length&&i(r[r.length-1].value,"outOfRange"),l=0),i(t[o],"outOfRange"));var c=r.length;return{stops:r,outerColors:[c?r[0].color:"transparent",c?r[c-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=(0,Zt.ZL)(Jw.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(Jw);function t_(e,t,n){if(n[0]===n[1])return n.slice();for(var r=(n[1]-n[0])/200,i=n[0],a=[],o=0;o<=200&&i<n[1];o++)a.push(i),i+=r;return a.push(n[1]),a}var n_=e_,r_=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return(0,De.ZT)(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t},t.prototype.render=function(e,t,n,r){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,t,n,r):this.group.removeAll()},t.prototype.renderBackground=function(e){var t=this.visualMapModel,n=gt.MY(t.get("padding")||0),r=e.getBoundingRect();e.add(new lt.Z({z2:-1,silent:!0,shape:{x:r.x-n[3],y:r.y-n[0],width:r.width+n[3]+n[1],height:r.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,t,n){var r=(n=n||{}).forceState,i=this.visualMapModel,a={};if("color"===t){var o=i.get("contentColor");a.color=o}function s(e){return a[e]}function u(e,t){a[e]=t}var l=i.controllerVisuals[r||i.getValueState(e)],c=qs.prepareVisualTypes(l);return y.each(c,(function(r){var i=l[r];n.convertOpacityToAlpha&&"opacity"===r&&(r="colorAlpha",i=l.__alphaForOpacity),qs.dependsOn(r,t)&&i&&i.applyVisual(e,s,u)})),a[t]},t.prototype.positionGroup=function(e){var t=this.visualMapModel,n=this.api;pn.p$(e,t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},t.prototype.doRender=function(e,t,n,r){},t.type="visualMap",t}(Kn.Z),i_=r_,a_=[["left","right","width"],["top","bottom","height"]];function o_(e,t,n){var r=e.option,i=r.align;if(null!=i&&"auto"!==i)return i;for(var a={width:t.getWidth(),height:t.getHeight()},o="horizontal"===r.orient?1:0,s=a_[o],u=[0,null,10],l={},c=0;c<3;c++)l[a_[1-o][c]]=u[c],l[s[c]]=2===c?n[0]:r[s[c]];var d=[["x","width",3],["y","height",0]][o],f=(0,pn.ME)(l,a,r.padding);return s[(f.margin[d[2]]||0)+f[d[0]]+.5*f[d[1]]<.5*a[d[1]]?0:1]}function s_(e,t){return y.each(e||[],(function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")})),e}var u_=dt.NU,l_=y.each,c_=Math.min,d_=Math.max,f_=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return(0,De.ZT)(t,e),t.prototype.doRender=function(e,t,n,r){this._api=n,r&&"selectDataRange"===r.type&&r.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var n=e.get("text");this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},t.prototype._renderEndsText=function(e,t,n){if(t){var r=t[1-n];r=null!=r?r+"":"";var i=this.visualMapModel,a=i.get("textGap"),o=i.itemSize,s=this._shapes.mainGroup,u=this._applyTransform([o[0]/2,0===n?-a:o[1]+a],s),l=this._applyTransform(0===n?"bottom":"top",s),c=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new U.ZP({style:(0,ze.Lr)(d,{x:u[0],y:u[1],verticalAlign:"horizontal"===c?"middle":l,align:"horizontal"===c?l:"center",text:r})}))}},t.prototype._renderBar=function(e){var t=this.visualMapModel,n=this._shapes,r=t.itemSize,i=this._orient,a=this._useHandle,o=o_(t,this.api,r),s=n.mainGroup=this._createBarGroup(o),u=new Me.Z;s.add(u),u.add(n.outOfRange=h_()),u.add(n.inRange=h_(null,a?m_(this._orient):null,y.bind(this._dragHandle,this,"all",!1),y.bind(this._dragHandle,this,"all",!0))),u.setClipPath(new lt.Z({shape:{x:0,y:0,width:r[0],height:r[1],r:3}}));var l=t.textStyleModel.getTextRect("\u56fd"),c=d_(l.width,l.height);a&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(t,s,0,r,c,i),this._createHandle(t,s,1,r,c,i)),this._createIndicator(t,s,r,c,i),e.add(s)},t.prototype._createHandle=function(e,t,n,r,i,a){var o=y.bind(this._dragHandle,this,n,!1),s=y.bind(this._dragHandle,this,n,!0),l=(0,u.GM)(e.get("handleSize"),r[0]),c=(0,Ae.th)(e.get("handleIcon"),-l/2,-l/2,l,l,null,!0),d=m_(this._orient);c.attr({cursor:d,draggable:!0,drift:o,ondragend:s,onmousemove:function(e){Pi.sT(e.event)}}),c.x=r[0]/2,c.useStyle(e.getModel("handleStyle").getItemStyle()),c.setStyle({strokeNoScale:!0,strokeFirst:!0}),c.style.lineWidth*=2,c.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),(0,Le.Nj)(c,!0),t.add(c);var f=this.visualMapModel.textStyleModel,h=new U.ZP({cursor:d,draggable:!0,drift:o,onmousemove:function(e){Pi.sT(e.event)},ondragend:s,style:(0,ze.Lr)(f,{x:0,y:0,text:""})});h.ensureState("blur").style={opacity:.1},h.stateTransition={duration:200},this.group.add(h);var p=[l,0],m=this._shapes;m.handleThumbs[n]=c,m.handleLabelPoints[n]=p,m.handleLabels[n]=h},t.prototype._createIndicator=function(e,t,n,r,i){var a=(0,u.GM)(e.get("indicatorSize"),n[0]),o=(0,Ae.th)(e.get("indicatorIcon"),-a/2,-a/2,a,a,null,!0);o.attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2});var l=e.getModel("indicatorStyle").getItemStyle();if(o instanceof s.ZP){var c=o.style;o.useStyle(y.extend({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},l))}else o.useStyle(l);t.add(o);var d=this.visualMapModel.textStyleModel,f=new U.ZP({silent:!0,invisible:!0,style:(0,ze.Lr)(d,{x:0,y:0,text:""})});this.group.add(f);var h=[("horizontal"===i?r/2:6)+n[0]/2,0],p=this._shapes;p.indicator=o,p.indicatorLabel=f,p.indicatorLabelPoint=h,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,t,n,r){if(this._useHandle){if(this._dragging=!t,!t){var i=this._applyTransform([n,r],this._shapes.mainGroup,!0);this._updateInterval(e,i[1]),this._hideIndicator(),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():p_(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),r=[0,e.itemSize[1]];this._handleEnds=[u_(t[0],n,r,!0),u_(t[1],n,r,!0)]},t.prototype._updateInterval=function(e,t){t=t||0;var n=this.visualMapModel,r=this._handleEnds,i=[0,n.itemSize[1]];Jl(t,r,i,e,0);var a=n.getExtent();this._dataInterval=[u_(r[0],i,a,!0),u_(r[1],i,a,!0)]},t.prototype._updateView=function(e){var t=this.visualMapModel,n=t.getExtent(),r=this._shapes,i=[0,t.itemSize[1]],a=e?i:this._handleEnds,o=this._createBarVisual(this._dataInterval,n,a,"inRange"),s=this._createBarVisual(n,n,i,"outOfRange");r.inRange.setStyle({fill:o.barColor}).setShape("points",o.barPoints),r.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),this._updateHandle(a,o)},t.prototype._createBarVisual=function(e,t,n,r){var i={forceState:r,convertOpacityToAlpha:!0},a=this._makeColorGradient(e,i),o=[this.getControllerVisual(e[0],"symbolSize",i),this.getControllerVisual(e[1],"symbolSize",i)],s=this._createBarPoints(n,o);return{barColor:new Qe.Z(0,0,0,1,a),barPoints:s,handlesColor:[a[0].color,a[a.length-1].color]}},t.prototype._makeColorGradient=function(e,t){var n=[],r=(e[1]-e[0])/100;n.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var i=1;i<100;i++){var a=e[0]+r*i;if(a>e[1])break;n.push({color:this.getControllerVisual(a,"color",t),offset:i/100})}return n.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),n},t.prototype._createBarPoints=function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},t.prototype._createBarGroup=function(e){var t=this._orient,n=this.visualMapModel.get("inverse");return new Me.Z("horizontal"!==t||n?"horizontal"===t&&n?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==t||n?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,t){if(this._useHandle){var n=this._shapes,r=this.visualMapModel,i=n.handleThumbs,a=n.handleLabels,o=r.itemSize,s=r.getExtent();l_([0,1],(function(u){var l=i[u];l.setStyle("fill",t.handlesColor[u]),l.y=e[u];var c=u_(e[u],[0,o[1]],s,!0),d=this.getControllerVisual(c,"symbolSize");l.scaleX=l.scaleY=d/o[0],l.x=o[0]-d/2;var f=Re.applyTransform(n.handleLabelPoints[u],Re.getTransform(l,this.group));a[u].setStyle({x:f[0],y:f[1],text:r.formatValueText(this._dataInterval[u]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",n.mainGroup):"center"})}),this)}},t.prototype._showIndicator=function(e,t,n,r){var i=this.visualMapModel,a=i.getExtent(),o=i.itemSize,s=[0,o[1]],u=this._shapes,l=u.indicator;if(l){l.attr("invisible",!1);var c=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),d=this.getControllerVisual(e,"symbolSize"),f=u_(e,a,s,!0),h=o[0]-d/2,p={x:l.x,y:l.y};l.y=f,l.x=h;var m=Re.applyTransform(u.indicatorLabelPoint,Re.getTransform(l,this.group)),g=u.indicatorLabel;g.attr("invisible",!1);var v=this._applyTransform("left",u.mainGroup),y="horizontal"===this._orient;g.setStyle({text:(n||"")+i.formatValueText(t),verticalAlign:y?v:"middle",align:y?"center":v});var x={x:h,y:f,style:{fill:c}},b={style:{x:m[0],y:m[1]}};if(i.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var w={duration:100,easing:"cubicInOut",additive:!0};l.x=p.x,l.y=p.y,l.animateTo(x,w),g.animateTo(b,w)}else l.attr(x),g.attr(b);this._firstShowIndicator=!1;var _=this._shapes.handleLabels;if(_)for(var S=0;S<_.length;S++)this._api.enterBlur(_[S])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",(function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,r=e._applyTransform([t.offsetX,t.offsetY],e._shapes.mainGroup,!0,!0);r[1]=c_(d_(0,r[1]),n[1]),e._doHoverLinkToSeries(r[1],0<=r[0]&&r[0]<=n[0])}})).on("mouseout",(function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()}))},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,t){var n=this.visualMapModel,r=n.itemSize;if(n.option.hoverLink){var i=[0,r[1]],a=n.getExtent();e=c_(d_(i[0],e),i[1]);var o=function(e,t,n){var r=6,i=e.get("hoverLinkDataSize");i&&(r=u_(i,t,n,!0)/2);return r}(n,a,i),s=[e-o,e+o],u=u_(e,i,a,!0),l=[u_(s[0],i,a,!0),u_(s[1],i,a,!0)];s[0]<i[0]&&(l[0]=-1/0),s[1]>i[1]&&(l[1]=1/0),t&&(l[0]===-1/0?this._showIndicator(u,l[1],"< ",o):l[1]===1/0?this._showIndicator(u,l[0],"> ",o):this._showIndicator(u,u,"\u2248 ",o));var c=this._hoverLinkDataIndices,d=[];(t||p_(n))&&(d=this._hoverLinkDataIndices=n.findTargetDataIndices(l));var f=Je.XI(c,d);this._dispatchHighDown("downplay",s_(f[0],n)),this._dispatchHighDown("highlight",s_(f[1],n))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var t=e.target,n=this.visualMapModel;if(t&&null!=(0,Oe.A)(t).dataIndex){var r=(0,Oe.A)(t),i=this.ecModel.getSeriesByIndex(r.seriesIndex);if(n.isTargetSeries(i)){var a=i.getData(r.dataType),o=a.getStore().get(n.getDataDimensionIndex(a),r.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var t=this._shapes.handleLabels;if(t)for(var n=0;n<t.length;n++)this._api.leaveBlur(t[n])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",s_(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,t,n,r){var i=Re.getTransform(t,r?null:this.group);return y.isArray(e)?Re.applyTransform(e,i,n):Re.transformDirection(e,i,n)},t.prototype._dispatchHighDown=function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(i_);function h_(e,t,n,r){return new pi.Z({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(e){Pi.sT(e.event)},ondragend:r})}function p_(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function m_(e){return"vertical"===e?"ns-resize":"ew-resize"}var g_=f_,v_={type:"selectDataRange",event:"dataRangeSelected",update:"update"},y_=function(e,t){t.eachComponent({mainType:"visualMap",query:e},(function(t){t.setSelected(e.selected)}))},x_=[{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",(function(t){var r=e.pipelineContext;!t.isTargetSeries(e)||r&&r.large||n.push(function(e,t,n,r){var i={};return y.each(e,(function(e){var n=qs.prepareVisualTypes(t[e]);i[e]=n})),{progress:function(e,a){var o,s;function u(e){return(0,px.Or)(a,s,e)}function l(e,t){(0,px.LZ)(a,s,e,t)}null!=r&&(o=a.getDimensionIndex(r));for(var c=a.getStore();null!=(s=e.next());){var d=a.getRawDataItem(s);if(!d||!1!==d.visualMap)for(var f=null!=r?c.get(o,s):s,h=n(f),p=t[h],m=i[h],g=0,v=m.length;g<v;g++){var y=m[g];p[y]&&p[y].applyVisual(f,u,l)}}}}}(t.stateList,t.targetVisuals,y.bind(t.getValueState,t),t.getDataDimensionIndex(e.getData())))})),n}},{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),r=[];t.eachComponent("visualMap",(function(t){if(t.isTargetSeries(e)){var i=t.getVisualMeta(y.bind(b_,null,e,t))||{stops:[],outerColors:[]},a=t.getDataDimensionIndex(n);a>=0&&(i.dimension=a,r.push(i))}})),e.getData().setVisual("visualMeta",r)}}];function b_(e,t,n,r){for(var i=t.targetVisuals[r],a=qs.prepareVisualTypes(i),o={color:(0,px.UL)(e.getData(),"color")},s=0,u=a.length;s<u;s++){var l=a[s],c=i["opacity"===l?"__alphaForOpacity":l];c&&c.applyVisual(n,d,f)}return o.color;function d(e){return o[e]}function f(e,t){o[e]=t}}var w_=y.each;function __(e){var t=e&&e.visualMap;y.isArray(t)||(t=t?[t]:[]),w_(t,(function(e){if(e){S_(e,"splitList")&&!S_(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&y.isArray(t)&&w_(t,(function(e){y.isObject(e)&&(S_(e,"start")&&!S_(e,"min")&&(e.min=e.start),S_(e,"end")&&!S_(e,"max")&&(e.max=e.end))}))}}))}function S_(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var C_=!1;function k_(e){C_||(C_=!0,e.registerSubTypeDefaulter("visualMap",(function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"})),e.registerAction(v_,y_),(0,y.each)(x_,(function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)})),e.registerPreprocessor(__))}function D_(e){e.registerComponentModel(n_),e.registerComponentView(g_),k_(e)}var T_=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._pieceList=[],n}return(0,De.ZT)(t,e),t.prototype.optionUpdated=function(t,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],I_[this._mode].call(this,this._pieceList),this._resetSelected(t,n);var i=this.option.categories;this.resetVisual((function(e,t){"categories"===r?(e.mappingMethod="category",e.categories=y.clone(i)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=y.map(this._pieceList,(function(e){return e=y.clone(e),"inRange"!==t&&(e.visual=null),e})))}))},t.prototype.completeVisualOption=function(){var t=this.option,n={},r=qs.listVisualTypes(),i=this.isCategory();function a(e,t,n){return e&&e[t]&&e[t].hasOwnProperty(n)}y.each(t.pieces,(function(e){y.each(r,(function(t){e.hasOwnProperty(t)&&(n[t]=1)}))})),y.each(n,(function(e,n){var r=!1;y.each(this.stateList,(function(e){r=r||a(t,e,n)||a(t.target,e,n)}),this),!r&&y.each(this.stateList,(function(e){(t[e]||(t[e]={}))[n]=Uw.get(n,"inRange"===e?"active":"inactive",i)}))}),this),e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,t){var n=this.option,r=this._pieceList,i=(t?n:e).selected||{};if(n.selected=i,y.each(r,(function(e,t){var n=this.getSelectedMapKey(e);i.hasOwnProperty(n)||(i[n]=!0)}),this),"single"===n.selectedMode){var a=!1;y.each(r,(function(e,t){var n=this.getSelectedMapKey(e);i[n]&&(a?i[n]=!1:a=!0)}),this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=y.clone(e)},t.prototype.getValueState=function(e){var t=qs.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[],n=this._pieceList;return this.eachTargetSeries((function(r){var i=[],a=r.getData();a.each(this.getDataDimensionIndex(a),(function(t,r){qs.findPieceIndex(t,n)===e&&i.push(r)}),this),t.push({seriesId:r.id,dataIndex:i})}),this),t},t.prototype.getRepresentValue=function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var n=e.interval||[];t=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return t},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var t=[],n=["",""],r=this,i=this._pieceList.slice();if(i.length){var a=i[0].interval[0];a!==-1/0&&i.unshift({interval:[-1/0,a]}),(a=i[i.length-1].interval[1])!==1/0&&i.push({interval:[a,1/0]})}else i.push({interval:[-1/0,1/0]});var o=-1/0;return y.each(i,(function(e){var t=e.interval;t&&(t[0]>o&&s([o,t[0]],"outOfRange"),s(t.slice()),o=t[1])}),this),{stops:t,outerColors:n}}function s(i,a){var o=r.getRepresentValue({interval:i});a||(a=r.getValueState(o));var s=e(o,a);i[0]===-1/0?n[0]=s:i[1]===1/0?n[1]=s:t.push({value:i[0],color:s},{value:i[1],color:s})}},t.type="visualMap.piecewise",t.defaultOption=(0,Zt.ZL)(Jw.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(Jw),I_={splitNumber:function(e){var t=this.option,n=Math.min(t.precision,20),r=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var a=(r[1]-r[0])/i;+a.toFixed(n)!==a&&n<5;)n++;t.precision=n,a=+a.toFixed(n),t.minOpen&&e.push({interval:[-1/0,r[0]],close:[0,0]});for(var o=0,s=r[0];o<i;s+=a,o++){var u=o===i-1?r[1]:s+a;e.push({interval:[s,u],close:[1,1]})}t.maxOpen&&e.push({interval:[r[1],1/0],close:[0,0]}),(0,dt.nR)(e),y.each(e,(function(e,t){e.index=t,e.text=this.formatValueText(e.interval)}),this)},categories:function(e){var t=this.option;y.each(t.categories,(function(t){e.push({text:this.formatValueText(t,!0),value:t})}),this),A_(t,e)},pieces:function(e){var t=this.option;y.each(t.pieces,(function(t,n){y.isObject(t)||(t={value:t});var r={text:"",index:n};if(null!=t.label&&(r.text=t.label),t.hasOwnProperty("value")){var i=r.value=t.value;r.interval=[i,i],r.close=[1,1]}else{for(var a=r.interval=[],o=r.close=[0,0],s=[1,0,1],u=[-1/0,1/0],l=[],c=0;c<2;c++){for(var d=[["gte","gt","min"],["lte","lt","max"]][c],f=0;f<3&&null==a[c];f++)a[c]=t[d[f]],o[c]=s[f],l[c]=2===f;null==a[c]&&(a[c]=u[c])}l[0]&&a[1]===1/0&&(o[0]=0),l[1]&&a[0]===-1/0&&(o[1]=0),a[0]===a[1]&&o[0]&&o[1]&&(r.value=a[0])}r.visual=qs.retrieveVisuals(t),e.push(r)}),this),A_(t,e),(0,dt.nR)(e),y.each(e,(function(e){var t=e.close,n=[["<","\u2264"][t[1]],[">","\u2265"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,n)}),this)}};function A_(e,t){var n=e.inverse;("vertical"===e.orient?!n:n)&&t.reverse()}var M_=T_,E_=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,De.ZT)(t,e),t.prototype.doRender=function(){var e=this.group;e.removeAll();var t=this.visualMapModel,n=t.get("textGap"),r=t.textStyleModel,i=r.getFont(),a=r.getTextColor(),o=this._getItemAlign(),s=t.itemSize,u=this._getViewData(),l=u.endsText,c=y.retrieve(t.get("showLabel",!0),!l);l&&this._renderEndsText(e,l[0],s,c,o),y.each(u.viewPieceList,(function(r){var u=r.piece,l=new Me.Z;l.onclick=y.bind(this._onItemClick,this,u),this._enableHoverLink(l,r.indexInModelPieceList);var d=t.getRepresentValue(u);if(this._createItemSymbol(l,d,[0,0,s[0],s[1]]),c){var f=this.visualMapModel.getValueState(d);l.add(new U.ZP({style:{x:"right"===o?-n:s[0]+n,y:s[1]/2,text:u.text,verticalAlign:"middle",align:o,font:i,fill:a,opacity:"outOfRange"===f?.5:1}}))}e.add(l)}),this),l&&this._renderEndsText(e,l[1],s,c,o),pn.BZ(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,t){var n=this;e.on("mouseover",(function(){return r("highlight")})).on("mouseout",(function(){return r("downplay")}));var r=function(e){var r=n.visualMapModel;r.option.hoverLink&&n.api.dispatchAction({type:e,batch:s_(r.findTargetDataIndices(t),r)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return o_(e,this.api,e.itemSize);var n=t.align;return n&&"auto"!==n||(n="left"),n},t.prototype._renderEndsText=function(e,t,n,r,i){if(t){var a=new Me.Z,o=this.visualMapModel.textStyleModel;a.add(new U.ZP({style:(0,ze.Lr)(o,{x:r?"right"===i?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:r?i:"center",text:t})})),e.add(a)}},t.prototype._getViewData=function(){var e=this.visualMapModel,t=y.map(e.getPieceList(),(function(e,t){return{piece:e,indexInModelPieceList:t}})),n=e.get("text"),r=e.get("orient"),i=e.get("inverse");return("horizontal"===r?i:!i)?t.reverse():n&&(n=n.slice().reverse()),{viewPieceList:t,endsText:n}},t.prototype._createItemSymbol=function(e,t,n){e.add((0,Ae.th)(this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,"color")))},t.prototype._onItemClick=function(e){var t=this.visualMapModel,n=t.option,r=y.clone(n.selected),i=t.getSelectedMapKey(e);"single"===n.selectedMode?(r[i]=!0,y.each(r,(function(e,t){r[t]=t===i}))):r[i]=!r[i],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:r})},t.type="visualMap.piecewise",t}(i_),N_=E_;function R_(e){e.registerComponentModel(M_),e.registerComponentView(N_),k_(e)}var P_={label:{enabled:!0},decal:{show:!1}},O_=(0,Je.Yf)(),L_={};function F_(e,t){var n=e.getModel("aria");if(n.get("enabled")){var r=y.clone(P_);y.merge(r.label,e.getLocaleModel().get("aria"),!1),y.merge(n.option,r,!1),function(){if(n.getModel("decal").get("show")){var t=y.createHashMap();e.eachSeries((function(e){if(!e.isColorBySeries()){var n=t.get(e.type);n||(n={},t.set(e.type,n)),O_(e).scope=n}})),e.eachRawSeries((function(t){if(!e.isSeriesFiltered(t))if(y.isFunction(t.enableAriaDecal))t.enableAriaDecal();else{var n=t.getData();if(t.isColorBySeries()){var r=(0,ls.i)(t.ecModel,t.name,L_,e.getSeriesCount()),i=n.getVisual("decal");n.setVisual("decal",l(i,r))}else{var a=t.getRawData(),o={},s=O_(t).scope;n.each((function(e){var t=n.getRawIndex(e);o[t]=e}));var u=a.count();a.each((function(e){var r=o[e],i=a.getName(e)||e+"",c=(0,ls.i)(t.ecModel,i,s,u),d=n.getItemVisual(r,"decal");n.setItemVisual(r,"decal",l(d,c))}))}}function l(e,t){var n=e?y.extend(y.extend({},t),e):t;return n.dirty=!0,n}}))}}(),function(){var r=e.getLocaleModel().get("aria"),a=n.getModel("label");if(a.option=y.defaults(a.option,r),!a.get("enabled"))return;var o=t.getZr().dom;if(a.get("description"))return void o.setAttribute("aria-label",a.get("description"));var s,u=e.getSeriesCount(),l=a.get(["data","maxCount"])||10,c=a.get(["series","maxCount"])||10,d=Math.min(u,c);if(u<1)return;var f=function(){var t=e.get("title");t&&t.length&&(t=t[0]);return t&&t.text}();if(f){var h=a.get(["general","withTitle"]);s=i(h,{title:f})}else s=a.get(["general","withoutTitle"]);var p=[],m=u>1?a.get(["series","multiple","prefix"]):a.get(["series","single","prefix"]);s+=i(m,{seriesCount:u}),e.eachSeries((function(t,n){if(n<d){var r=void 0,o=t.get("name")?"withName":"withoutName";r=i(r=u>1?a.get(["series","multiple",o]):a.get(["series","single",o]),{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:(x=t.subType,e.getLocaleModel().get(["series","typeNames"])[x]||"\u81ea\u5b9a\u4e49\u56fe")});var s=t.getData();if(s.count()>l)r+=i(a.get(["data","partialData"]),{displayCnt:l});else r+=a.get(["data","allData"]);for(var c=a.get(["data","separator","middle"]),f=a.get(["data","separator","end"]),h=[],m=0;m<s.count();m++)if(m<l){var g=s.getName(m),v=s.getValues(m),y=a.get(["data",g?"withName":"withoutName"]);h.push(i(y,{name:g,value:v.join(c)}))}r+=h.join(c)+f,p.push(r)}var x}));var g=a.getModel(["series","multiple","separator"]),v=g.get("middle"),x=g.get("end");s+=p.join(v)+x,o.setAttribute("aria-label",s)}()}function i(e,t){if(!y.isString(e))return e;var n=e;return y.each(t,(function(e,t){n=n.replace(new RegExp("\\{\\s*"+t+"\\s*\\}","g"),e)})),n}}function Z_(e){if(e&&e.aria){var t=e.aria;null!=t.show&&(t.enabled=t.show),t.label=t.label||{},y.each(["description","general","series","data"],(function(e){null!=t[e]&&(t.label[e]=t[e])}))}}var B_={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},z_=function(){function e(e){if(null==(this._condVal=(0,y.isString)(e)?new RegExp(e):(0,y.isRegExp)(e)?e:null)){0,(0,Gd._y)("")}}return e.prototype.evaluate=function(e){var t=typeof e;return(0,y.isString)(t)?this._condVal.test(e):!!(0,y.isNumber)(t)&&this._condVal.test(e+"")},e}(),V_=function(){function e(){}return e.prototype.evaluate=function(){return this.value},e}(),j_=function(){function e(){}return e.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},e}(),W_=function(){function e(){}return e.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},e}(),U_=function(){function e(){}return e.prototype.evaluate=function(){return!this.child.evaluate()},e}(),H_=function(){function e(){}return e.prototype.evaluate=function(){for(var e=!!this.valueParser,t=(0,this.getValue)(this.valueGetterParam),n=e?this.valueParser(t):null,r=0;r<this.subCondList.length;r++)if(!this.subCondList[r].evaluate(e?n:t))return!1;return!0},e}();function G_(e,t){if(!0===e||!1===e){var n=new V_;return n.value=e,n}return q_(e)||(0,Gd._y)(""),e.and?X_("and",e,t):e.or?X_("or",e,t):e.not?function(e,t){var n=e.not,r="";0;q_(n)||(0,Gd._y)(r);var i=new U_;i.child=G_(n,t),i.child||(0,Gd._y)(r);return i}(e,t):function(e,t){for(var n="",r=t.prepareGetValue(e),i=[],a=(0,y.keys)(e),o=e.parser,s=o?(0,hb.o2)(o):null,u=0;u<a.length;u++){var l=a[u];if("parser"!==l&&!t.valueGetterAttrMap.get(l)){var c=(0,y.hasOwn)(B_,l)?B_[l]:l,d=e[l],f=s?s(d):d,h=(0,hb.tR)(c,f)||"reg"===c&&new z_(f);h||(0,Gd._y)(n),i.push(h)}}i.length||(0,Gd._y)(n);var p=new H_;return p.valueGetterParam=r,p.valueParser=s,p.getValue=t.getValue,p.subCondList=i,p}(e,t)}function X_(e,t,n){var r=t[e];(0,y.isArray)(r)||(0,Gd._y)(""),r.length||(0,Gd._y)("");var i="and"===e?new j_:new W_;return i.children=(0,y.map)(r,(function(e){return G_(e,n)})),i.children.length||(0,Gd._y)(""),i}function q_(e){return(0,y.isObject)(e)&&!(0,y.isArrayLike)(e)}var Y_=function(){function e(e,t){this._cond=G_(e,t)}return e.prototype.evaluate=function(){return this._cond.evaluate()},e}();var K_={type:"echarts:filter",transform:function(e){for(var t,n,r,i=e.upstream,a=(n=e.config,r={valueGetterAttrMap:(0,y.createHashMap)({dimension:!0}),prepareGetValue:function(e){var t=e.dimension;(0,y.hasOwn)(e,"dimension")||(0,Gd._y)("");var n=i.getDimensionInfo(t);return n||(0,Gd._y)(""),{dimIdx:n.index}},getValue:function(e){return i.retrieveValueFromItem(t,e.dimIdx)}},new Y_(n,r)),o=[],s=0,u=i.count();s<u;s++)t=i.getRawDataItem(s),a.evaluate()&&o.push(t);return{data:o}}};var Q_={type:"echarts:sort",transform:function(e){var t=e.upstream,n=e.config,r="",i=(0,Je.kF)(n);i.length||(0,Gd._y)(r);var a=[];(0,y.each)(i,(function(e){var n=e.dimension,i=e.order,o=e.parser,s=e.incomparable;if(null==n&&(0,Gd._y)(r),"asc"!==i&&"desc"!==i&&(0,Gd._y)(r),s&&"min"!==s&&"max"!==s){0,(0,Gd._y)("")}if("asc"!==i&&"desc"!==i){0,(0,Gd._y)("")}var u=t.getDimensionInfo(n);u||(0,Gd._y)(r);var l=o?(0,hb.o2)(o):null;o&&!l&&(0,Gd._y)(r),a.push({dimIdx:u.index,parser:l,comparator:new hb.ID(i,s)})}));var o=t.sourceFormat;o!==Xd.XD&&o!==Xd.qb&&(0,Gd._y)(r);for(var s=[],u=0,l=t.count();u<l;u++)s.push(t.getRawDataItem(u));return s.sort((function(e,n){for(var r=0;r<a.length;r++){var i=a[r],o=t.retrieveValueFromItem(e,i.dimIdx),s=t.retrieveValueFromItem(n,i.dimIdx);i.parser&&(o=i.parser(o),s=i.parser(s));var u=i.comparator.evaluate(o,s);if(0!==u)return u}return 0})),{data:s}}};var J_=n(3027),$_=R.Z.CMD;function eS(e,t){return Math.abs(e-t)<1e-5}function tS(e){var t,n,r,i,a,o=e.data,s=e.len(),u=[],l=0,c=0,d=0,f=0;function h(e,n){t&&t.length>2&&u.push(t),t=[e,n]}function p(e,n,r,i){eS(e,r)&&eS(n,i)||t.push(e,n,r,i,r,i)}function m(e,n,r,i,a,o){var s=Math.abs(n-e),u=4*Math.tan(s/4)/3,l=n<e?-1:1,c=Math.cos(e),d=Math.sin(e),f=Math.cos(n),h=Math.sin(n),p=c*a+r,m=d*o+i,g=f*a+r,v=h*o+i,y=a*u*l,x=o*u*l;t.push(p-y*d,m+x*c,g+y*h,v-x*f,g,v)}for(var g=0;g<s;){var v=o[g++],y=1===g;switch(y&&(d=l=o[g],f=c=o[g+1],v!==$_.L&&v!==$_.C&&v!==$_.Q||(t=[d,f])),v){case $_.M:l=d=o[g++],c=f=o[g++],h(d,f);break;case $_.L:p(l,c,n=o[g++],r=o[g++]),l=n,c=r;break;case $_.C:t.push(o[g++],o[g++],o[g++],o[g++],l=o[g++],c=o[g++]);break;case $_.Q:n=o[g++],r=o[g++],i=o[g++],a=o[g++],t.push(l+2/3*(n-l),c+2/3*(r-c),i+2/3*(n-i),a+2/3*(r-a),i,a),l=i,c=a;break;case $_.A:var x=o[g++],b=o[g++],w=o[g++],_=o[g++],S=o[g++],C=o[g++]+S;g+=1;var k=!o[g++];n=Math.cos(S)*w+x,r=Math.sin(S)*_+b,y?h(d=n,f=r):p(l,c,n,r),l=Math.cos(C)*w+x,c=Math.sin(C)*_+b;for(var D=(k?-1:1)*Math.PI/2,T=S;k?T>C:T<C;T+=D){m(T,k?Math.max(T+D,C):Math.min(T+D,C),x,b,w,_)}break;case $_.R:d=l=o[g++],f=c=o[g++],n=d+o[g++],r=f+o[g++],h(n,f),p(n,f,n,r),p(n,r,d,r),p(d,r,d,f),p(d,f,n,f);break;case $_.Z:t&&p(l,c,d,f),l=d,c=f}}return t&&t.length>2&&u.push(t),u}function nS(e,t,n,r,i,a,o,s,u,l){if(eS(e,n)&&eS(t,r)&&eS(i,o)&&eS(a,s))u.push(o,s);else{var c=2/l,d=c*c,f=o-e,h=s-t,p=Math.sqrt(f*f+h*h);f/=p,h/=p;var m=n-e,g=r-t,v=i-o,y=a-s,x=m*m+g*g,b=v*v+y*y;if(x<d&&b<d)u.push(o,s);else{var w=f*m+h*g,_=-f*v-h*y;if(x-w*w<d&&w>=0&&b-_*_<d&&_>=0)u.push(o,s);else{var S=[],C=[];(0,$e.Vz)(e,n,i,o,.5,S),(0,$e.Vz)(t,r,a,s,.5,C),nS(S[0],C[0],S[1],C[1],S[2],C[2],S[3],C[3],u,l),nS(S[4],C[4],S[5],C[5],S[6],C[6],S[7],C[7],u,l)}}}}function rS(e,t,n){var r=e[t],i=e[1-t],a=Math.abs(r/i),o=Math.ceil(Math.sqrt(a*n)),s=Math.floor(n/o);0===s&&(s=1,o=n);for(var u=[],l=0;l<o;l++)u.push(s);var c=n-o*s;if(c>0)for(l=0;l<c;l++)u[l%o]+=1;return u}function iS(e,t,n){for(var r=e.r0,i=e.r,a=e.startAngle,o=e.endAngle,s=Math.abs(o-a),u=s*i,l=i-r,c=u>Math.abs(l),d=rS([u,l],c?0:1,t),f=(c?s:l)/d.length,h=0;h<d.length;h++)for(var p=(c?l:s)/d[h],m=0;m<d[h];m++){var g={};c?(g.startAngle=a+f*h,g.endAngle=a+f*(h+1),g.r0=r+p*m,g.r=r+p*(m+1)):(g.startAngle=a+p*m,g.endAngle=a+p*(m+1),g.r0=r+f*h,g.r=r+f*(h+1)),g.clockwise=e.clockwise,g.cx=e.cx,g.cy=e.cy,n.push(g)}}function aS(e,t,n,r){return e*r-n*t}function oS(e,t,n,r,i,a,o,s){var u=n-e,l=r-t,c=o-i,d=s-a,f=aS(c,d,u,l);if(Math.abs(f)<1e-6)return null;var h=aS(e-i,t-a,c,d)/f;return h<0||h>1?null:new _n.Z(h*u+e,h*l+t)}function sS(e,t,n){var r=new _n.Z;_n.Z.sub(r,n,t),r.normalize();var i=new _n.Z;return _n.Z.sub(i,e,t),i.dot(r)}function uS(e,t){var n=e[e.length-1];n&&n[0]===t[0]&&n[1]===t[1]||e.push(t)}function lS(e){var t=e.points,n=[],r=[];(0,Zo.zk)(t,n,r);var i=new Wn.Z(n[0],n[1],r[0]-n[0],r[1]-n[1]),a=i.width,o=i.height,s=i.x,u=i.y,l=new _n.Z,c=new _n.Z;return a>o?(l.x=c.x=s+a/2,l.y=u,c.y=u+o):(l.y=c.y=u+o/2,l.x=s,c.x=s+a),function(e,t,n){for(var r=e.length,i=[],a=0;a<r;a++){var o=e[a],s=e[(a+1)%r],u=oS(o[0],o[1],s[0],s[1],t.x,t.y,n.x,n.y);u&&i.push({projPt:sS(u,t,n),pt:u,idx:a})}if(i.length<2)return[{points:e},{points:e}];i.sort((function(e,t){return e.projPt-t.projPt}));var l=i[0],c=i[i.length-1];if(c.idx<l.idx){var d=l;l=c,c=d}var f=[l.pt.x,l.pt.y],h=[c.pt.x,c.pt.y],p=[f],m=[h];for(a=l.idx+1;a<=c.idx;a++)uS(p,e[a].slice());for(uS(p,h),uS(p,f),a=c.idx+1;a<=l.idx+r;a++)uS(m,e[a%r].slice());return uS(m,f),uS(m,h),[{points:p},{points:m}]}(t,l,c)}function cS(e,t,n,r){if(1===n)r.push(t);else{var i=Math.floor(n/2),a=e(t);cS(e,a[0],i,r),cS(e,a[1],n-i,r)}return r}function dS(e,t){var n,r=[],i=e.shape;switch(e.type){case"rect":!function(e,t,n){for(var r=e.width,i=e.height,a=r>i,o=rS([r,i],a?0:1,t),s=a?"width":"height",u=a?"height":"width",l=a?"x":"y",c=a?"y":"x",d=e[s]/o.length,f=0;f<o.length;f++)for(var h=e[u]/o[f],p=0;p<o[f];p++){var m={};m[l]=f*d,m[c]=p*h,m[s]=d,m[u]=h,m.x+=e.x,m.y+=e.y,n.push(m)}}(i,t,r),n=lt.Z;break;case"sector":iS(i,t,r),n=ct.C;break;case"circle":iS({r0:0,r:i.r,startAngle:0,endAngle:2*Math.PI,cx:i.cx,cy:i.cy},t,r),n=ct.C;break;default:var a=e.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=(0,y.map)(function(e,t){var n=tS(e),r=[];t=t||1;for(var i=0;i<n.length;i++){var a=n[i],o=[],s=a[0],u=a[1];o.push(s,u);for(var l=2;l<a.length;){var c=a[l++],d=a[l++],f=a[l++],h=a[l++],p=a[l++],m=a[l++];nS(s,u,c,d,f,h,p,m,o,t),s=p,u=m}r.push(o)}return r}(e.getUpdatedPathProxy(),o),(function(e){return function(e){for(var t=[],n=0;n<e.length;)t.push([e[n++],e[n++]]);return t}(e)})),u=s.length;if(0===u)cS(lS,{points:s[0]},t,r);else if(u===t)for(var l=0;l<u;l++)r.push({points:s[l]});else{var c=0,d=(0,y.map)(s,(function(e){var t=[],n=[];(0,Zo.zk)(e,t,n);var r=(n[1]-t[1])*(n[0]-t[0]);return c+=r,{poly:e,area:r}}));d.sort((function(e,t){return t.area-e.area}));var f=t;for(l=0;l<u;l++){var h=d[l];if(f<=0)break;var p=l===u-1?f:Math.ceil(h.area/c*t);p<0||(cS(lS,{points:h.poly},p,r),f-=p)}}n=pi.Z}if(!n)return function(e,t){for(var n=[],r=0;r<t;r++)n.push((0,Yi.U5)(e));return n}(e,t);var m,g,v=[];for(l=0;l<r.length;l++){var x=new n;x.setShape(r[l]),m=e,(g=x).setStyle(m.style),g.z=m.z,g.z2=m.z2,g.zlevel=m.zlevel,v.push(x)}return v}function fS(e,t){var n=e.length,r=t.length;if(n===r)return[e,t];for(var i=[],a=[],o=n<r?e:t,s=Math.min(n,r),u=Math.abs(r-n)/6,l=(s-2)/6,c=Math.ceil(u/l)+1,d=[o[0],o[1]],f=u,h=2;h<s;){var p=o[h-2],m=o[h-1],g=o[h++],v=o[h++],y=o[h++],x=o[h++],b=o[h++],w=o[h++];if(f<=0)d.push(g,v,y,x,b,w);else{for(var _=Math.min(f,c-1)+1,S=1;S<=_;S++){var C=S/_;(0,$e.Vz)(p,g,y,b,C,i),(0,$e.Vz)(m,v,x,w,C,a),p=i[3],m=a[3],d.push(i[1],a[1],i[2],a[2],p,m),g=i[5],v=a[5],y=i[6],x=a[6]}f-=_-1}}return o===e?[d,t]:[e,d]}function hS(e,t){for(var n=e.length,r=e[n-2],i=e[n-1],a=[],o=0;o<t.length;)a[o++]=r,a[o++]=i;return a}function pS(e){for(var t=0,n=0,r=0,i=e.length,a=0,o=i-2;a<i;o=a,a+=2){var s=e[o],u=e[o+1],l=e[a],c=e[a+1],d=s*c-l*u;t+=d,n+=(s+l)*d,r+=(u+c)*d}return 0===t?[e[0]||0,e[1]||0]:[n/t/3,r/t/3,t]}function mS(e,t,n,r){for(var i=(e.length-2)/6,a=1/0,o=0,s=e.length,u=s-2,l=0;l<i;l++){for(var c=6*l,d=0,f=0;f<s;f+=2){var h=0===f?c:(c+f-2)%u+2,p=e[h]-n[0],m=e[h+1]-n[1],g=t[f]-r[0]-p,v=t[f+1]-r[1]-m;d+=g*g+v*v}d<a&&(a=d,o=l)}return o}function gS(e){for(var t=[],n=e.length,r=0;r<n;r+=2)t[r]=e[n-r-2],t[r+1]=e[n-r-1];return t}function vS(e){return e.__isCombineMorphing}var yS="__mOriginal_";function xS(e,t,n){var r=yS+t,i=e[r]||e[t];e[r]||(e[r]=e[t]);var a=n.replace,o=n.after,s=n.before;e[t]=function(){var e,t=arguments;return s&&s.apply(this,t),e=a?a.apply(this,t):i.apply(this,t),o&&o.apply(this,t),e}}function bS(e,t){var n=yS+t;e[n]&&(e[t]=e[n],e[n]=null)}function wS(e,t){for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;){var a=r[i],o=r[i+1];r[i++]=t[0]*a+t[2]*o+t[4],r[i++]=t[1]*a+t[3]*o+t[5]}}function _S(e,t){var n=e.getUpdatedPathProxy(),r=t.getUpdatedPathProxy(),i=function(e,t){for(var n,r,i,a=[],o=[],s=0;s<Math.max(e.length,t.length);s++){var u=e[s],l=t[s],c=void 0,d=void 0;u?l?(r=c=(n=fS(u,l))[0],i=d=n[1]):(d=hS(i||u,u),c=u):(c=hS(r||l,l),d=l),a.push(c),o.push(d)}return[a,o]}(tS(n),tS(r)),a=i[0],o=i[1],s=e.getComputedTransform(),u=t.getComputedTransform();s&&wS(a,s),u&&wS(o,u),xS(t,"updateTransform",{replace:function(){this.transform=null}}),t.transform=null;var l=function(e,t,n,r){for(var i,a=[],o=0;o<e.length;o++){var s=e[o],u=t[o],l=pS(s),c=pS(u);null==i&&(i=l[2]<0!==c[2]<0);var d=[],f=[],h=0,p=1/0,m=[],g=s.length;i&&(s=gS(s));for(var v=6*mS(s,u,l,c),y=g-2,x=0;x<y;x+=2){var b=(v+x)%y+2;d[x+2]=s[b]-l[0],d[x+3]=s[b+1]-l[1]}if(d[0]=s[v]-l[0],d[1]=s[v+1]-l[1],n>0)for(var w=r/n,_=-r/2;_<=r/2;_+=w){var S=Math.sin(_),C=Math.cos(_),k=0;for(x=0;x<s.length;x+=2){var D=d[x],T=d[x+1],I=u[x]-c[0],A=u[x+1]-c[1],M=I*C-A*S,E=I*S+A*C;m[x]=M,m[x+1]=E;var N=M-D,R=E-T;k+=N*N+R*R}if(k<p){p=k,h=_;for(var P=0;P<m.length;P++)f[P]=m[P]}}else for(var O=0;O<g;O+=2)f[O]=u[O]-c[0],f[O+1]=u[O+1]-c[1];a.push({from:d,to:f,fromCp:l,toCp:c,rotation:-h})}return a}(a,o,10,Math.PI),c=[];xS(t,"buildPath",{replace:function(e){for(var n=t.__morphT,r=1-n,i=[],a=0;a<l.length;a++){var o=l[a],s=o.from,u=o.to,d=o.rotation*n,f=o.fromCp,h=o.toCp,p=Math.sin(d),m=Math.cos(d);(0,hr.lerp)(i,f,h,n);for(var g=0;g<s.length;g+=2){var v=s[g],y=s[g+1],x=v*r+(S=u[g])*n,b=y*r+(C=u[g+1])*n;c[g]=x*m-b*p+i[0],c[g+1]=x*p+b*m+i[1]}var w=c[0],_=c[1];e.moveTo(w,_);for(g=2;g<s.length;){var S=c[g++],C=c[g++],k=c[g++],D=c[g++],T=c[g++],I=c[g++];w===S&&_===C&&k===T&&D===I?e.lineTo(T,I):e.bezierCurveTo(S,C,k,D,T,I),w=T,_=I}}}})}function SS(e,t,n){if(!e||!t)return t;var r=n.done,i=n.during;return _S(e,t),t.__morphT=0,t.animateTo({__morphT:1},(0,y.defaults)({during:function(e){t.dirtyShape(),i&&i(e)},done:function(){bS(t,"buildPath"),bS(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape(),r&&r()}},n)),t}function CS(e,t,n,r,i,a){e=i===n?0:Math.round(32767*(e-n)/(i-n)),t=a===r?0:Math.round(32767*(t-r)/(a-r));for(var o,s=0,u=32768;u>0;u/=2){var l=0,c=0;(e&u)>0&&(l=1),(t&u)>0&&(c=1),s+=u*u*(3*l^c),0===c&&(1===l&&(e=u-1-e,t=u-1-t),o=e,e=t,t=o)}return s}function kS(e){var t=1/0,n=1/0,r=-1/0,i=-1/0,a=(0,y.map)(e,(function(e){var a=e.getBoundingRect(),o=e.getComputedTransform(),s=a.x+a.width/2+(o?o[4]:0),u=a.y+a.height/2+(o?o[5]:0);return t=Math.min(s,t),n=Math.min(u,n),r=Math.max(s,r),i=Math.max(u,i),[s,u]}));return(0,y.map)(a,(function(a,o){return{cp:a,z:CS(a[0],a[1],t,n,r,i),path:e[o]}})).sort((function(e,t){return e.z-t.z})).map((function(e){return e.path}))}function DS(e){return dS(e.path,e.count)}function TS(e){return(0,y.isArray)(e[0])}function IS(e,t){for(var n=[],r=e.length,i=0;i<r;i++)n.push({one:e[i],many:[]});for(i=0;i<t.length;i++){var a=t[i].length,o=void 0;for(o=0;o<a;o++)n[o%r].many.push(t[i][o])}var s=0;for(i=r-1;i>=0;i--)if(!n[i].many.length){var u=n[s].many;if(u.length<=1){if(!s)return n;s=0}a=u.length;var l=Math.ceil(a/2);n[i].many=u.slice(l,a),n[s].many=u.slice(0,l),s++}return n}var AS={clone:function(e){for(var t=[],n=1-Math.pow(1-e.path.style.opacity,1/e.count),r=0;r<e.count;r++){var i=(0,Yi.U5)(e.path);i.setStyle("opacity",n),t.push(i)}return t},split:null};function MS(e,t,n,r,i,a){if(e.length&&t.length){var s=(0,Pe.ke)("update",r,i);if(s&&s.duration>0){var u,l,c=r.getModel("universalTransition").get("delay"),d=Object.assign({setToFinal:!0},s);TS(e)&&(u=e,l=t),TS(t)&&(u=t,l=e);for(var f=u?u===e:e.length>t.length,h=u?IS(l,u):IS(f?t:e,[f?e:t]),p=0,m=0;m<h.length;m++)p+=h[m].many.length;var g=0;for(m=0;m<h.length;m++)v(h[m],f,g,p),g+=h[m].many.length}}function v(e,t,r,i,s){var u=e.many,l=e.one;if(1!==u.length||s)for(var f=(0,y.defaults)({dividePath:AS[n],individualDelay:c&&function(e,t,n,a){return c(e+r,i)}},d),h=t?function(e,t,n){var r=[];!function e(t){for(var n=0;n<t.length;n++){var i=t[n];vS(i)?e(i.childrenRef()):i instanceof o.ZP&&r.push(i)}}(e);var i=r.length;if(!i)return{fromIndividuals:[],toIndividuals:[],count:0};var a=(n.dividePath||DS)({path:t,count:i});if(a.length!==i)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};r=kS(r),a=kS(a);for(var s=n.done,u=n.during,l=n.individualDelay,c=new N.ZP,d=0;d<i;d++){var f=r[d],h=a[d];h.parent=t,h.copyTransform(c),l||_S(f,h)}function p(e){for(var t=0;t<a.length;t++)a[t].addSelfToZr(e)}function m(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,bS(t,"addSelfToZr"),bS(t,"removeSelfFromZr")}t.__isCombineMorphing=!0,t.childrenRef=function(){return a},xS(t,"addSelfToZr",{after:function(e){p(e)}}),xS(t,"removeSelfFromZr",{after:function(e){for(var t=0;t<a.length;t++)a[t].removeSelfFromZr(e)}});var g=a.length;if(l){var v=g,x=function(){0===--v&&(m(),s&&s())};for(d=0;d<g;d++){var b=l?(0,y.defaults)({delay:(n.delay||0)+l(d,g,r[d],a[d]),done:x},n):n;SS(r[d],a[d],b)}}else t.__morphT=0,t.animateTo({__morphT:1},(0,y.defaults)({during:function(e){for(var n=0;n<g;n++){var r=a[n];r.__morphT=t.__morphT,r.dirtyShape()}u&&u(e)},done:function(){m();for(var t=0;t<e.length;t++)bS(e[t],"updateTransform");s&&s()}},n));return t.__zr&&p(t.__zr),{fromIndividuals:r,toIndividuals:a,count:g}}(u,l,f):function(e,t,n){var r=t.length,i=[],a=n.dividePath||DS;if(vS(e)){!function e(t){for(var n=0;n<t.length;n++){var r=t[n];vS(r)?e(r.childrenRef()):r instanceof o.ZP&&i.push(r)}}(e.childrenRef());var s=i.length;if(s<r)for(var u=0,l=s;l<r;l++)i.push((0,Yi.U5)(i[u++%s]));i.length=r}else{i=a({path:e,count:r});var c=e.getComputedTransform();for(l=0;l<i.length;l++)i[l].setLocalTransform(c);if(i.length!==r)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}i=kS(i),t=kS(t);var d=n.individualDelay;for(l=0;l<r;l++){var f=d?(0,y.defaults)({delay:(n.delay||0)+d(l,r,i[l],t[l])},n):n;SS(i[l],t[l],f)}return{fromIndividuals:i,toIndividuals:t,count:t.length}}(l,u,f),p=h.fromIndividuals,m=h.toIndividuals,g=p.length,x=0;x<g;x++){b=c?(0,y.defaults)({delay:c(x,g)},d):d;a(p[x],m[x],t?u[x]:e.one,t?e.one:u[x],b)}else{var b,w=t?u[0]:l,_=t?l:u[0];if(vS(w))v({many:[w],one:_},!0,r,i,!0);else SS(w,_,b=c?(0,y.defaults)({delay:c(r,i)},d):d),a(w,_,w,_,b)}}}function ES(e){if(!e)return[];if((0,y.isArray)(e)){for(var t=[],n=0;n<e.length;n++)t.push(ES(e[n]));return t}var r=[];return e.traverse((function(e){e instanceof o.ZP&&!e.disableMorphing&&!e.invisible&&!e.ignore&&r.push(e)})),r}var NS=(0,Je.Yf)();function RS(e){var t=[];return(0,y.each)(e,(function(e){var n=e.data;if(!(n.count()>1e4))for(var r=n.getIndices(),i=function(e){for(var t=e.dimensions,n=0;n<t.length;n++){var r=e.getDimensionInfo(t[n]);if(r&&0===r.otherDims.itemGroupId)return t[n]}}(n),a=0;a<r.length;a++)t.push({data:n,dim:e.dim||i,divide:e.divide,dataIndex:a})})),t}function PS(e,t,n){e.traverse((function(e){e instanceof o.ZP&&(0,Pe.KZ)(e,{style:{opacity:0}},t,{dataIndex:n,isFrom:!0})}))}function OS(e){if(e.parent){var t=e.getComputedTransform();e.setLocalTransform(t),e.parent.remove(e)}}function LS(e){e.stopAnimation(),e.isGroup&&e.traverse((function(e){e.stopAnimation()}))}function FS(e,t,n){var r=RS(e),i=RS(t);function a(e,t,n,r,i){(n||e)&&t.animateFrom({style:n&&n!==e?(0,y.extend)((0,y.extend)({},n.style),e.style):e.style},i)}function s(e){for(var t=0;t<e.length;t++)if(e[t].dim)return e[t].dim}var u=s(r),l=s(i),c=!1;function d(e,t){return function(n){var r=n.data,i=n.dataIndex;if(t)return r.getId(i);var a=r.hostModel&&r.hostModel.get("dataGroupId"),o=e?u||l:l||u,s=o&&r.getDimensionInfo(o),c=s&&s.ordinalMeta;if(s){var d=r.get(s.name,i);return c&&c.categories[d]||d+""}var f=r.getRawDataItem(i);return f&&f.groupId?f.groupId+"":a||r.getId(i)}}var f=function(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++){var i=e[r],a=t[r];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}(r,i),h={};if(!f)for(var p=0;p<i.length;p++){var m=i[p],g=m.data.getItemGraphicEl(m.dataIndex);g&&(h[g.id]=!0)}function v(e,t){var n=r[t],o=i[e],s=o.data.hostModel,u=n.data.getItemGraphicEl(n.dataIndex),l=o.data.getItemGraphicEl(o.dataIndex);u!==l?u&&h[u.id]||l&&(LS(l),u?(LS(u),OS(u),c=!0,MS(ES(u),ES(l),o.divide,s,e,a)):PS(l,s,e)):l&&function(e,t,n){var r=(0,Pe.ke)("update",n,t);r&&e.traverse((function(e){if(e instanceof Fa.ZP){var t=(0,Pe._W)(e);t&&e.animateFrom({style:t},r)}}))}(l,o.dataIndex,s)}new ps.Z(r,i,d(!0,f),d(!1,f),null,"multiple").update(v).updateManyToOne((function(e,t){var n=i[e],o=n.data,s=o.hostModel,u=o.getItemGraphicEl(n.dataIndex),l=(0,y.filter)((0,y.map)(t,(function(e){return r[e].data.getItemGraphicEl(r[e].dataIndex)})),(function(e){return e&&e!==u&&!h[e.id]}));u&&(LS(u),l.length?((0,y.each)(l,(function(e){LS(e),OS(e)})),c=!0,MS(ES(l),ES(u),n.divide,s,e,a)):PS(u,s,n.dataIndex))})).updateOneToMany((function(e,t){var n=r[t],o=n.data.getItemGraphicEl(n.dataIndex);if(!o||!h[o.id]){var s=(0,y.filter)((0,y.map)(e,(function(e){return i[e].data.getItemGraphicEl(i[e].dataIndex)})),(function(e){return e&&e!==o})),u=i[e[0]].data.hostModel;s.length&&((0,y.each)(s,(function(e){return LS(e)})),o?(LS(o),OS(o),c=!0,MS(ES(o),ES(s),n.divide,u,e[0],a)):(0,y.each)(s,(function(t){return PS(t,u,e[0])})))}})).updateManyToMany((function(e,t){new ps.Z(t,e,(function(e){return r[e].data.getId(r[e].dataIndex)}),(function(e){return i[e].data.getId(i[e].dataIndex)})).update((function(n,r){v(e[n],t[r])})).execute()})).execute(),c&&(0,y.each)(t,(function(e){var t=e.data.hostModel,r=t&&n.getViewOfSeriesModel(t),i=(0,Pe.ke)("update",t,0);r&&t.isAnimationEnabled()&&i&&i.duration>0&&r.group.traverse((function(e){e instanceof o.ZP&&!e.animators.length&&e.animateFrom({style:{opacity:0}},i)}))}))}function ZS(e){var t=e.getModel("universalTransition").get("seriesKey");return t||e.id}function BS(e){return(0,y.isArray)(e)?e.sort().join(","):e}function zS(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function VS(e,t){for(var n=0;n<e.length;n++){if(null!=t.seriesIndex&&t.seriesIndex===e[n].seriesIndex||null!=t.seriesId&&t.seriesId===e[n].id)return n}}var jS=n(45687);(0,r.D)([ke.N]),(0,r.D)([function(e){e.registerPainter("svg",Ce)}]),(0,r.D)([function(e){e.registerChartView(At),e.registerSeriesModel(Ne),e.registerLayout(Et("line",!0)),e.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),n=e.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",n)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Pt("line"))},function(e){e.registerChartView(fn),e.registerSeriesModel(zt),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,y.curry(Ot.bK,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,(0,Ot.Bk)("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Pt("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},(function(t){e.sortInfo&&t.axis.setCategorySortInfo(e.sortInfo)}))}))},function(e){e.registerChartView(Rn),e.registerSeriesModel(zn),(0,hn.y)("pie",e.registerAction),e.registerLayout((0,y.curry)(xn,"pie")),e.registerProcessor(bn("pie")),e.registerProcessor({seriesType:"pie",reset:function(e,t){var n=e.getData();n.filterSelf((function(e){var t=n.mapDimension("value"),r=n.get(t,e);return!((0,y.isNumber)(r)&&!isNaN(r)&&r<0)}))}})},function(e){(0,r.D)(li),e.registerSeriesModel(jn),e.registerChartView(Yn),e.registerLayout(Et("scatter"))},function(e){(0,r.D)(Ni),e.registerChartView(gi),e.registerSeriesModel(xi),e.registerLayout(ci),e.registerProcessor(bn("radar")),e.registerPreprocessor(hi)},function(e){(0,r.D)(Do),e.registerChartView(eo),e.registerSeriesModel(no),e.registerLayout(io),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,ro),(0,hn.y)("map",e.registerAction)},function(e){e.registerChartView(qo),e.registerSeriesModel(is),e.registerLayout(os),e.registerVisual(ss),function(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var n=e.dataIndex,r=t.getData().tree.getNodeByDataIndex(n);r.isExpand=!r.isExpand}))})),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var n=wo(t.coordinateSystem,e);t.setCenter&&t.setCenter(n.center),t.setZoom&&t.setZoom(n.zoom)}))}))}(e)},function(e){e.registerSeriesModel(hs),e.registerChartView(Ns),e.registerVisual(Ks),e.registerLayout(lu),function(e){for(var t=0;t<us.length;t++)e.registerAction({type:us[t],update:"updateView"},y.noop);e.registerAction({type:"treemapRootToNode",update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},(function(t,n){var r=$o(e,["treemapZoomToNode","treemapRootToNode"],t);if(r){var i=t.getViewRoot();i&&(e.direction=ts(i,r.node)?"rollUp":"drillDown"),t.resetViewRoot(r.node)}}))}))}(e)},function(e){e.registerChartView(cl),e.registerSeriesModel(gl),e.registerProcessor(mu),e.registerVisual(gu),e.registerVisual(yu),e.registerLayout(Iu),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,Ou),e.registerLayout(Fu),e.registerCoordinateSystem("graphView",{dimensions:uo.dimensions,create:Zu}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},y.noop),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},y.noop),e.registerAction(vl,(function(e,t){t.eachComponent({mainType:"series",query:e},(function(t){var n=wo(t.coordinateSystem,e);t.setCenter&&t.setCenter(n.center),t.setZoom&&t.setZoom(n.zoom)}))}))},function(e){e.registerChartView(Sl),e.registerSeriesModel(kl)},function(e){e.registerChartView(Al),e.registerSeriesModel(El),e.registerLayout(Nl),e.registerProcessor(bn("funnel"))},function(e){(0,r.D)(fd),e.registerChartView(Zl),e.registerSeriesModel(Vl),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,Wl)},function(e){e.registerChartView(gd),e.registerSeriesModel(yd),e.registerLayout(xd),e.registerVisual(Ed),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},(function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])}))}))},function(e){e.registerSeriesModel(Od),e.registerChartView(jd),e.registerVisual(Wd),e.registerLayout(Hd),e.registerTransform(qd)},function(e){e.registerChartView(uf),e.registerSeriesModel(cf),e.registerPreprocessor(df),e.registerVisual(gf),e.registerLayout(xf)},function(e){e.registerChartView(Cf),e.registerSeriesModel(Df),e.registerLayout(Et("effectScatter"))},function(e){e.registerChartView(Vf),e.registerSeriesModel(Gf),e.registerLayout(Bf),e.registerVisual(qf)},function(e){e.registerChartView($f),e.registerSeriesModel(th)},function(e){e.registerChartView(Sh),e.registerSeriesModel(kh),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,(0,y.curry)(Ot.bK,"pictorialBar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,(0,Ot.Bk)("pictorialBar"))},function(e){e.registerChartView(Th),e.registerSeriesModel(Ah),e.registerLayout(Mh),e.registerProcessor(bn("themeRiver"))},function(e){e.registerChartView(Fh),e.registerSeriesModel(zh),e.registerLayout((0,y.curry)(jh,"sunburst")),e.registerProcessor((0,y.curry)(bn,"sunburst")),e.registerVisual(Uh),function(e){e.registerAction({type:Ph,update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t,n){var r=$o(e,[Ph],t);if(r){var i=t.getViewRoot();i&&(e.direction=ts(i,r.node)?"rollUp":"drillDown"),t.resetViewRoot(r.node)}}))})),e.registerAction({type:Oh,update:"none"},(function(e,t,n){e=(0,y.extend)({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t){var n=$o(e,[Oh],t);n&&(e.dataIndex=n.node.dataIndex)})),n.dispatchAction((0,y.extend)(e,{type:"highlight"}))})),e.registerAction({type:"sunburstUnhighlight",update:"updateView"},(function(e,t,n){e=(0,y.extend)({},e),n.dispatchAction((0,y.extend)(e,{type:"downplay"}))}))}(e)},function(e){e.registerChartView(Zp),e.registerSeriesModel(Yh)}]),(0,r.D)((function(e){(0,r.D)(li),(0,r.D)(Wm)})),(0,r.D)((function(e){(0,r.D)(Wm),Qr.registerAxisPointerClass("PolarAxisPointer",Gm),e.registerCoordinateSystem("polar",cg),e.registerComponentModel(qm),e.registerComponentView(Ig),ur(e,"angle",Km,Dg),ur(e,"radius",Qm,Tg),e.registerComponentView(vg),e.registerComponentView(_g),e.registerLayout((0,y.curry)(kg,"bar"))})),(0,r.D)(Do),(0,r.D)((function(e){(0,r.D)(Wm),Qr.registerAxisPointerClass("SingleAxisPointer",Yg),e.registerComponentView(Kg),e.registerComponentView(Pg),e.registerComponentModel(Lg),ur(e,"single",Lg,Lg.defaultOption),e.registerCoordinateSystem("single",jg)})),(0,r.D)(fd),(0,r.D)((function(e){e.registerComponentModel($g),e.registerComponentView(nv),e.registerCoordinateSystem("calendar",av)})),(0,r.D)((function(e){e.registerComponentModel(cv),e.registerComponentView(hv),e.registerPreprocessor((function(e){var t=e.graphic;(0,y.isArray)(t)?t[0]&&t[0].elements?e.graphic=[e.graphic[0]]:e.graphic=[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])}))})),(0,r.D)((function(e){e.registerComponentModel(Xv),e.registerComponentView(Kv),Uv("saveAsImage",Jv),Uv("magicType",ry),Uv("dataView",fy),Uv("dataZoom",Fy),Uv("restore",vy),(0,r.D)(Vv)})),(0,r.D)((function(e){(0,r.D)(Wm),e.registerComponentModel(By),e.registerComponentView(dx),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},y.noop),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},y.noop)})),(0,r.D)(Wm),(0,r.D)((function(e){e.registerComponentView(Rx),e.registerComponentModel(Lx),e.registerPreprocessor(hx),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,Tx),e.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(e,t){t.eachComponent({mainType:"brush",query:e},(function(t){t.setAreas(e.areas)}))})),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},y.noop),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},y.noop),Uv("brush",Bx)})),(0,r.D)((function(e){e.registerComponentModel(zx),e.registerComponentView(Vx)})),(0,r.D)((function(e){e.registerComponentModel(Hx),e.registerComponentView(nb),e.registerSubTypeDefaulter("timeline",(function(){return"slider"})),function(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(e,t,n){var r=t.getComponent("timeline");return r&&null!=e.currentIndex&&(r.setCurrentIndex(e.currentIndex),!r.get("loop",!0)&&r.isIndexMax()&&r.getPlayState()&&(r.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:r.get("replaceMerge",!0)}),(0,y.defaults)({currentIndex:r.option.currentIndex},e)})),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(e,t){var n=t.getComponent("timeline");n&&null!=e.playState&&n.setPlayState(e.playState)}))}(e),e.registerPreprocessor(rb)})),(0,r.D)((function(e){e.registerComponentModel(fb),e.registerComponentView(Db),e.registerPreprocessor((function(e){ob(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})}))})),(0,r.D)((function(e){e.registerComponentModel(Ib),e.registerComponentView(Lb),e.registerPreprocessor((function(e){ob(e.series,"markLine")&&(e.markLine=e.markLine||{})}))})),(0,r.D)((function(e){e.registerComponentModel(Zb),e.registerComponentView(Xb),e.registerPreprocessor((function(e){ob(e.series,"markArea")&&(e.markArea=e.markArea||{})}))})),(0,r.D)((function(e){(0,r.D)(sw),(0,r.D)(gw)})),(0,r.D)((function(e){(0,r.D)(Mw),(0,r.D)(Vw)})),(0,r.D)(Mw),(0,r.D)(Vw),(0,r.D)((function(e){(0,r.D)(D_),(0,r.D)(R_)})),(0,r.D)(D_),(0,r.D)(R_),(0,r.D)((function(e){e.registerPreprocessor(Z_),e.registerVisual(e.PRIORITY.VISUAL.ARIA,F_)})),(0,r.D)((function(e){e.registerTransform(K_),e.registerTransform(Q_)})),(0,r.D)(J_.N),(0,r.D)((function(e){e.registerUpdateLifecycle("series:beforeupdate",(function(e,t,n){(0,y.each)((0,Je.kF)(n.seriesTransition),(function(e){(0,y.each)((0,Je.kF)(e.to),(function(e){for(var t=n.updatedSeries,r=0;r<t.length;r++)(null!=e.seriesIndex&&e.seriesIndex===t[r].seriesIndex||null!=e.seriesId&&e.seriesId===t[r].id)&&(t[r][Ie.V]=!0)}))}))})),e.registerUpdateLifecycle("series:transition",(function(e,t,n){var r=NS(t);if(r.oldSeries&&n.updatedSeries&&n.optionChanged){var i=n.seriesTransition;if(i)(0,y.each)((0,Je.kF)(i),(function(e){!function(e,t,n,r){var i=[],a=[];(0,y.each)((0,Je.kF)(e.from),(function(e){var n=VS(t.oldSeries,e);n>=0&&i.push({data:t.oldData[n],divide:zS(t.oldData[n]),dim:e.dimension})})),(0,y.each)((0,Je.kF)(e.to),(function(e){var t=VS(n.updatedSeries,e);if(t>=0){var r=n.updatedSeries[t].getData();a.push({data:r,divide:zS(r),dim:e.dimension})}})),i.length>0&&a.length>0&&FS(i,a,r)}(e,r,n,t)}));else{var a=function(e,t){var n=(0,y.createHashMap)(),r=(0,y.createHashMap)(),i=(0,y.createHashMap)();return(0,y.each)(e.oldSeries,(function(t,n){var a=e.oldData[n],o=ZS(t),s=BS(o);r.set(s,a),(0,y.isArray)(o)&&(0,y.each)(o,(function(e){i.set(e,{data:a,key:s})}))})),(0,y.each)(t.updatedSeries,(function(e){if(e.isUniversalTransitionEnabled()&&e.isAnimationEnabled()){var t=e.getData(),a=ZS(e),o=BS(a),s=r.get(o);if(s)n.set(o,{oldSeries:[{divide:zS(s),data:s}],newSeries:[{divide:zS(t),data:t}]});else if((0,y.isArray)(a)){var u=[];(0,y.each)(a,(function(e){var t=r.get(e);t&&u.push({divide:zS(t),data:t})})),u.length&&n.set(o,{oldSeries:u,newSeries:[{data:t,divide:zS(t)}]})}else{var l=i.get(a);if(l){var c=n.get(l.key);c||(c={oldSeries:[{data:l.data,divide:zS(l.data)}],newSeries:[]},n.set(l.key,c)),c.newSeries.push({data:t,divide:zS(t)})}}}})),n}(r,n);(0,y.each)(a.keys(),(function(e){var n=a.get(e);FS(n.oldSeries,n.newSeries,t)}))}(0,y.each)(n.updatedSeries,(function(e){e[Ie.V]&&(e[Ie.V]=!1)}))}for(var o=e.getSeries(),s=r.oldSeries=[],u=r.oldData=[],l=0;l<o.length;l++){var c=o[l].getData();c.count()<1e4&&(s.push(o[l]),u.push(c))}}))})),(0,r.D)(jS.T)},33187:function(e,t,n){"use strict";n.d(t,{D:function(){return s},KZ:function(){return u},XD:function(){return f},Zi:function(){return h},_W:function(){return p},bX:function(){return c},eq:function(){return l},ke:function(){return a}});var r=n(76884),i=(0,n(71169).Yf)();function a(e,t,n,i,a){var o;if(t&&t.ecModel){var s=t.ecModel.getUpdatePayload();o=s&&s.animation}var u="update"===e;if(t&&t.isAnimationEnabled()){var l=void 0,c=void 0,d=void 0;return i?(l=(0,r.retrieve2)(i.duration,200),c=(0,r.retrieve2)(i.easing,"cubicOut"),d=0):(l=t.getShallow(u?"animationDurationUpdate":"animationDuration"),c=t.getShallow(u?"animationEasingUpdate":"animationEasing"),d=t.getShallow(u?"animationDelayUpdate":"animationDelay")),o&&(null!=o.duration&&(l=o.duration),null!=o.easing&&(c=o.easing),null!=o.delay&&(d=o.delay)),(0,r.isFunction)(d)&&(d=d(n,a)),(0,r.isFunction)(l)&&(l=l(n)),{duration:l||0,delay:d,easing:c}}return null}function o(e,t,n,i,o,s,u){var l,c=!1;(0,r.isFunction)(o)?(u=s,s=o,o=null):(0,r.isObject)(o)&&(s=o.cb,u=o.during,c=o.isFrom,l=o.removeOpt,o=o.dataIndex);var d="leave"===e;d||t.stopAnimation("leave");var f=a(e,i,o,d?l||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(t,o):null);if(f&&f.duration>0){var h={duration:f.duration,delay:f.delay||0,easing:f.easing,done:s,force:!!s||!!u,setToFinal:!d,scope:e,during:u};c?t.animateFrom(n,h):t.animateTo(n,h)}else t.stopAnimation(),!c&&t.attr(n),u&&u(1),s&&s()}function s(e,t,n,r,i,a){o("update",e,t,n,r,i,a)}function u(e,t,n,r,i,a){o("enter",e,t,n,r,i,a)}function l(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){if("leave"===e.animators[t].scope)return!0}return!1}function c(e,t,n,r,i,a){l(e)||o("leave",e,t,n,r,i,a)}function d(e,t,n,r){e.removeTextContent(),e.removeTextGuideLine(),c(e,{style:{opacity:0}},t,n,r)}function f(e,t,n){function r(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse((function(e){e.isGroup||d(e,t,n,r)})):d(e,t,n,r)}function h(e){i(e).oldStyle=e.style}function p(e){return i(e).oldStyle}},5402:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(71169);function i(){var e=(0,r.Yf)();return function(t){var n=e(t),r=t.pipelineContext,i=!!n.large,a=!!n.progressiveRender,o=n.large=!(!r||!r.large),s=n.progressiveRender=!(!r||!r.progressiveRender);return!(i===o&&a===s)&&"reset"}}},96106:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(76884),i=n(76495),a=n(62653),o=n(32670),s=n(71169),u=n(37999),l=function(e){this.coordSysDims=[],this.axisMap=(0,r.createHashMap)(),this.categoryAxisMap=(0,r.createHashMap)(),this.coordSysName=e};var c={cartesian2d:function(e,t,n,r){var i=e.getReferringComponents("xAxis",s.C6).models[0],a=e.getReferringComponents("yAxis",s.C6).models[0];t.coordSysDims=["x","y"],n.set("x",i),n.set("y",a),d(i)&&(r.set("x",i),t.firstCategoryDimIndex=0),d(a)&&(r.set("y",a),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,n,r){var i=e.getReferringComponents("singleAxis",s.C6).models[0];t.coordSysDims=["single"],n.set("single",i),d(i)&&(r.set("single",i),t.firstCategoryDimIndex=0)},polar:function(e,t,n,r){var i=e.getReferringComponents("polar",s.C6).models[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",a),n.set("angle",o),d(a)&&(r.set("radius",a),t.firstCategoryDimIndex=0),d(o)&&(r.set("angle",o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,r){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,i){var a=e.ecModel,o=a.getComponent("parallel",e.get("parallelIndex")),s=t.coordSysDims=o.dimensions.slice();(0,r.each)(o.parallelAxisIndex,(function(e,r){var o=a.getComponent("parallelAxis",e),u=s[r];n.set(u,o),d(o)&&(i.set(u,o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=r))}))}};function d(e){return"category"===e.get("type")}var f=n(93240),h=n(84239),p=n(62770),m=n(88542);var g=function(e,t,n){n=n||{};var d,g=t.getSourceManager(),v=!1;e?(v=!0,d=(0,f.nx)(e)):v=(d=g.getSource()).sourceFormat===m.cy;var y=function(e){var t=e.get("coordinateSystem"),n=new l(t),r=c[t];if(r)return r(e,n,n.axisMap,n.categoryAxisMap),n}(t),x=function(e,t){var n,i=e.get("coordinateSystem"),a=u.Z.get(i);return t&&t.coordSysDims&&(n=r.map(t.coordSysDims,(function(e){var n={name:e},r=t.axisMap.get(e);if(r){var i=r.get("type");n.type=(0,o.T)(i)}return n}))),n||(n=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"]),n}(t,y),b=n.useEncodeDefaulter,w=r.isFunction(b)?b:b?r.curry(p.pY,x,t):null,_={coordDimensions:x,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:w,canOmitUnusedDimensions:!v},S=(0,a.Z)(d,_),C=function(e,t,n){var i,a;return n&&r.each(e,(function(e,r){var o=e.coordDim,s=n.categoryAxisMap.get(o);s&&(null==i&&(i=r),e.ordinalMeta=s.getOrdinalMeta(),t&&(e.createInvertedIndices=!0)),null!=e.otherDims.itemName&&(a=!0)})),a||null==i||(e[i].otherDims.itemName=0),i}(S.dimensions,n.createInvertedIndices,y),k=v?null:g.getSharedDataStore(S),D=(0,h.BM)(t,{schema:S,store:k}),T=new i.Z(S,t);T.setCalculationInfo(D);var I=null!=C&&function(e){if(e.sourceFormat===m.cy){var t=function(e){var t=0;for(;t<e.length&&null==e[t];)t++;return e[t]}(e.data||[]);return!r.isArray((0,s.C4)(t))}}(d)?function(e,t,n,r){return r===C?n:this.defaultDimValueGetter(e,t,n,r)}:null;return T.hasItemOption=!1,T.initData(v?d:k,null,I),T}},3027:function(e,t,n){"use strict";n.d(t,{N:function(){return c}});var r=n(48609),i=n(62648),a=n(10484),o=n(88542),s=n(10331),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return(0,r.ZT)(t,e),t.prototype.init=function(t,n,r){e.prototype.init.call(this,t,n,r),this._sourceManager=new s.U(this),(0,s.t)(this)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),(0,s.t)(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:o.fY},t}(i.Z),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return(0,r.ZT)(t,e),t.type="dataset",t}(a.Z);function c(e){e.registerComponentModel(u),e.registerComponentView(l)}},20289:function(e,t,n){"use strict";n.d(t,{w:function(){return s}});var r=n(76884),i=n(6865),a=n(24305),o=n(71169);function s(e){var t,n,s,u,l=e.series,c=e.dataIndex,d=e.multipleSeries,f=l.getData(),h=f.mapDimensionsAll("defaultedTooltip"),p=h.length,m=l.getRawValue(c),g=(0,r.isArray)(m),v=(0,i.jT)(l,c);if(p>1||g&&!p){var y=function(e,t,n,o,s){var u=t.getData(),l=(0,r.reduce)(e,(function(e,t,n){var r=u.getDimensionInfo(n);return e||r&&!1!==r.tooltip&&null!=r.displayName}),!1),c=[],d=[],f=[];function h(e,t){var n=u.getDimensionInfo(t);n&&!1!==n.otherDims.tooltip&&(l?f.push((0,i.TX)("nameValue",{markerType:"subItem",markerColor:s,name:n.displayName,value:e,valueType:n.type})):(c.push(e),d.push(n.type)))}return o.length?(0,r.each)(o,(function(e){h((0,a.hk)(u,n,e),e)})):(0,r.each)(e,h),{inlineValues:c,inlineValueTypes:d,blocks:f}}(m,l,c,h,v);t=y.inlineValues,n=y.inlineValueTypes,s=y.blocks,u=y.inlineValues[0]}else if(p){var x=f.getDimensionInfo(h[0]);u=t=(0,a.hk)(f,c,h[0]),n=x.type}else u=t=g?m[0]:m;var b=(0,o.yu)(l),w=b&&l.name||"",_=f.getName(c),S=d?w:_;return(0,i.TX)("section",{header:w,noHeader:d||!b,sortParam:u,blocks:[(0,i.TX)("nameValue",{markerType:"item",markerColor:v,name:S,noName:!(0,r.trim)(S),value:t,valueType:n})].concat(s||[])})}},6865:function(e,t,n){"use strict";n.d(t,{BY:function(){return g},TX:function(){return c},d_:function(){return b},iv:function(){return w},jT:function(){return x}});var r=n(51186),i=n(76884),a=n(1233),o=n(11671);function s(e,t){var n=e.color||"#6e7079",i=e.fontSize||12,a=e.fontWeight||"400",o=e.color||"#464646",s=e.fontSize||14,u=e.fontWeight||"900";return"html"===t?{nameStyle:"font-size:"+(0,r.F1)(i+"")+"px;color:"+(0,r.F1)(n)+";font-weight:"+(0,r.F1)(a+""),valueStyle:"font-size:"+(0,r.F1)(s+"")+"px;color:"+(0,r.F1)(o)+";font-weight:"+(0,r.F1)(u+"")}:{nameStyle:{fontSize:i,fill:n,fontWeight:a},valueStyle:{fontSize:s,fill:o,fontWeight:u}}}var u=[0,10,20,30],l=["","\n","\n\n","\n\n\n"];function c(e,t){return t.type=e,t}function d(e){return"section"===e.type}function f(e){return d(e)?p:m}function h(e){if(d(e)){var t=0,n=e.blocks.length,r=n>1||n>0&&!e.noHeader;return(0,i.each)(e.blocks,(function(e){var n=h(e);n>=t&&(t=n+ +(r&&(!n||d(e)&&!e.noHeader)))})),t}return 0}function p(e,t,n,o){var c,d=t.noHeader,p=(c=h(t),{html:u[c],richText:l[c]}),m=[],g=t.blocks||[];(0,i.assert)(!g||(0,i.isArray)(g)),g=g||[];var x=e.orderMode;if(t.sortBlocks&&x){g=g.slice();var b={valueAsc:"asc",valueDesc:"desc"};if((0,i.hasOwn)(b,x)){var w=new a.ID(b[x],null);g.sort((function(e,t){return w.evaluate(e.sortParam,t.sortParam)}))}else"seriesDesc"===x&&g.reverse()}(0,i.each)(g,(function(n,r){var a=t.valueFormatter,s=f(n)(a?(0,i.extend)((0,i.extend)({},e),{valueFormatter:a}):e,n,r>0?p.html:0,o);null!=s&&m.push(s)}));var _="richText"===e.renderMode?m.join(p.richText):v(m.join(""),d?n:p.html);if(d)return _;var S=(0,r.uX)(t.header,"ordinal",e.useUTC),C=s(o,e.renderMode).nameStyle;return"richText"===e.renderMode?y(e,S,C)+p.richText+_:v('<div style="'+C+";"+'line-height:1;">'+(0,r.F1)(S)+"</div>"+_,n)}function m(e,t,n,a){var o=e.renderMode,u=t.noName,l=t.noValue,c=!t.markerType,d=t.name,f=e.useUTC,h=t.valueFormatter||e.valueFormatter||function(e){return e=(0,i.isArray)(e)?e:[e],(0,i.map)(e,(function(e,t){return(0,r.uX)(e,(0,i.isArray)(g)?g[t]:g,f)}))};if(!u||!l){var p=c?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",o),m=u?"":(0,r.uX)(d,"ordinal",f),g=t.valueType,x=l?[]:h(t.value),b=!c||!u,w=!c&&u,_=s(a,o),S=_.nameStyle,C=_.valueStyle;return"richText"===o?(c?"":p)+(u?"":y(e,m,S))+(l?"":function(e,t,n,r,a){var o=[a],s=r?10:20;return n&&o.push({padding:[0,0,0,s],align:"right"}),e.markupStyleCreator.wrapRichTextStyle((0,i.isArray)(t)?t.join("  "):t,o)}(e,x,b,w,C)):v((c?"":p)+(u?"":function(e,t,n){return'<span style="'+n+";"+(t?"margin-left:2px":"")+'">'+(0,r.F1)(e)+"</span>"}(m,!c,S))+(l?"":function(e,t,n,a){var o=n?"10px":"20px",s=t?"float:right;margin-left:"+o:"";return e=(0,i.isArray)(e)?e:[e],'<span style="'+s+";"+a+'">'+(0,i.map)(e,(function(e){return(0,r.F1)(e)})).join("&nbsp;&nbsp;")+"</span>"}(x,b,w,C)),n)}}function g(e,t,n,r,i,a){if(e)return f(e)({useUTC:i,renderMode:n,orderMode:r,markupStyleCreator:t,valueFormatter:e.valueFormatter},e,0,a)}function v(e,t){return'<div style="'+("margin: "+t+"px 0 0")+";"+'line-height:1;">'+e+'<div style="clear:both"></div></div>'}function y(e,t,n){return e.markupStyleCreator.wrapRichTextStyle(t,n)}function x(e,t){var n=e.getData().getItemVisual(t,"style")[e.visualDrawType];return(0,r.Lz)(n)}function b(e,t){var n=e.get("padding");return null!=n?n:"richText"===t?[8,10]:10}var w=function(){function e(){this.richTextStyles={},this._nextStyleNameId=(0,o.jj)()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(e,t,n){var a="richText"===n?this._generateStyleName():null,o=(0,r.A0)({color:t,type:e,renderMode:n,markerId:a});return(0,i.isString)(o)?o:(this.richTextStyles[a]=o.style,o.content)},e.prototype.wrapRichTextStyle=function(e,t){var n={};(0,i.isArray)(t)?(0,i.each)(t,(function(e){return(0,i.extend)(n,e)})):(0,i.extend)(n,t);var r=this._generateStyleName();return this.richTextStyles[r]=n,"{"+r+"|"+e+"}"},e}()},93855:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(76884),i=n(11671),a=n(15849),o=n(71169),s=n(32655),u=(0,o.Yf)();function l(e){return"category"===e.type?function(e){var t=e.getLabelModel(),n=d(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(e):function(e){var t=e.scale.getTicks(),n=(0,s.J9)(e);return{labels:r.map(t,(function(t,r){return{level:t.level,formattedLabel:n(t,r),rawLabel:e.scale.getLabel(t),tickValue:t.value}}))}}(e)}function c(e,t){return"category"===e.type?function(e,t){var n,i,a=f(e,"ticks"),o=(0,s.rk)(t),u=h(a,o);if(u)return u;t.get("show")&&!e.scale.isBlank()||(n=[]);if(r.isFunction(o))n=g(e,o,!0);else if("auto"===o){var l=d(e,e.getLabelModel());i=l.labelCategoryInterval,n=r.map(l.labels,(function(e){return e.tickValue}))}else n=m(e,i=o,!0);return p(a,o,{ticks:n,tickCategoryInterval:i})}(e,t):{ticks:r.map(e.scale.getTicks(),(function(e){return e.value}))}}function d(e,t){var n,i,a=f(e,"labels"),o=(0,s.rk)(t),l=h(a,o);return l||(r.isFunction(o)?n=g(e,o):(i="auto"===o?function(e){var t=u(e).autoInterval;return null!=t?t:u(e).autoInterval=e.calculateCategoryInterval()}(e):o,n=m(e,i)),p(a,o,{labels:n,labelCategoryInterval:i}))}function f(e,t){return u(e)[t]||(u(e)[t]=[])}function h(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function p(e,t,n){return e.push({key:t,value:n}),n}function m(e,t,n){var r=(0,s.J9)(e),i=e.scale,a=i.getExtent(),o=e.getLabelModel(),u=[],l=Math.max((t||0)+1,1),c=a[0],d=i.count();0!==c&&l>1&&d/l>2&&(c=Math.round(Math.ceil(c/l)*l));var f=(0,s.WY)(e),h=o.get("showMinLabel")||f,p=o.get("showMaxLabel")||f;h&&c!==a[0]&&g(a[0]);for(var m=c;m<=a[1];m+=l)g(m);function g(e){var t={value:e};u.push(n?e:{formattedLabel:r(t),rawLabel:i.getLabel(t),tickValue:e})}return p&&m-l!==a[1]&&g(a[1]),u}function g(e,t,n){var i=e.scale,a=(0,s.J9)(e),o=[];return r.each(i.getTicks(),(function(e){var r=i.getLabel(e),s=e.value;t(e.value,r)&&o.push(n?s:{formattedLabel:a(e),rawLabel:r,tickValue:s})})),o}var v=[0,1];function y(e,t){var n=(e[1]-e[0])/t/2;e[0]+=n,e[1]-=n}var x=function(){function e(e,t,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=n||[0,0]}return e.prototype.contain=function(e){var t=this._extent,n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return e>=n&&e<=r},e.prototype.containData=function(e){return this.scale.contain(e)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(e){return(0,i.M9)(e||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(e,t){var n=this._extent;n[0]=e,n[1]=t},e.prototype.dataToCoord=function(e,t){var n=this._extent,r=this.scale;return e=r.normalize(e),this.onBand&&"ordinal"===r.type&&y(n=n.slice(),r.count()),(0,i.NU)(e,v,n,t)},e.prototype.coordToData=function(e,t){var n=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&y(n=n.slice(),r.count());var a=(0,i.NU)(e,n,v,t);return this.scale.scale(a)},e.prototype.pointToData=function(e,t){},e.prototype.getTicksCoords=function(e){var t=(e=e||{}).tickModel||this.getTickModel(),n=c(this,t).ticks,a=(0,r.map)(n,(function(e){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(e):e),tickValue:e}}),this);return function(e,t,n,a){var o=t.length;if(!e.onBand||n||!o)return;var s,u,l=e.getExtent();if(1===o)t[0].coord=l[0],s=t[1]={coord:l[0]};else{var c=t[o-1].tickValue-t[0].tickValue,d=(t[o-1].coord-t[0].coord)/c;(0,r.each)(t,(function(e){e.coord-=d/2})),u=1+e.scale.getExtent()[1]-t[o-1].tickValue,s={coord:t[o-1].coord+d*u},t.push(s)}var f=l[0]>l[1];h(t[0].coord,l[0])&&(a?t[0].coord=l[0]:t.shift());a&&h(l[0],t[0].coord)&&t.unshift({coord:l[0]});h(l[1],s.coord)&&(a?s.coord=l[1]:t.pop());a&&h(s.coord,l[1])&&t.push({coord:l[1]});function h(e,t){return e=(0,i.NM)(e),t=(0,i.NM)(t),f?e>t:e<t}}(this,a,t.get("alignWithLabel"),e.clamp),a},e.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick").get("splitNumber");e>0&&e<100||(e=5);var t=this.scale.getMinorTicks(e);return(0,r.map)(t,(function(e){return(0,r.map)(e,(function(e){return{coord:this.dataToCoord(e),tickValue:e}}),this)}),this)},e.prototype.getViewLabels=function(){return l(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var r=Math.abs(e[1]-e[0]);return Math.abs(r)/n},e.prototype.calculateCategoryInterval=function(){return function(e){var t=function(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}(e),n=(0,s.J9)(e),r=(t.axisRotate-t.labelRotate)/180*Math.PI,i=e.scale,o=i.getExtent(),l=i.count();if(o[1]-o[0]<1)return 0;var c=1;l>40&&(c=Math.max(1,Math.floor(l/40)));for(var d=o[0],f=e.dataToCoord(d+1)-e.dataToCoord(d),h=Math.abs(f*Math.cos(r)),p=Math.abs(f*Math.sin(r)),m=0,g=0;d<=o[1];d+=c){var v,y,x=a.lP(n({value:d}),t.font,"center","top");v=1.3*x.width,y=1.3*x.height,m=Math.max(m,v,7),g=Math.max(g,y,7)}var b=m/h,w=g/p;isNaN(b)&&(b=1/0),isNaN(w)&&(w=1/0);var _=Math.max(0,Math.floor(Math.min(b,w))),S=u(e.model),C=e.getExtent(),k=S.lastAutoInterval,D=S.lastTickCount;return null!=k&&null!=D&&Math.abs(k-_)<=1&&Math.abs(D-l)<=1&&k>_&&S.axisExtent0===C[0]&&S.axisExtent1===C[1]?_=k:(S.lastTickCount=l,S.lastAutoInterval=_,S.axisExtent0=C[0],S.axisExtent1=C[1]),_}(this)},e}()},32655:function(e,t,n){"use strict";n.d(t,{aG:function(){return I},Do:function(){return N},DX:function(){return E},PY:function(){return L},rk:function(){return P},Xv:function(){return D},Yb:function(){return A},J9:function(){return M},Jk:function(){return T},WY:function(){return O},AH:function(){return F}});var r=n(76884),i=n(99398),a=n(68748),o=n(28788),s=n(89562),u=n(97057),l=n(49134),c=n(48609),d=n(11671),f=n(88647),h=o.Z.prototype,p=a.Z.prototype,m=d.NM,g=Math.floor,v=Math.ceil,y=Math.pow,x=Math.log,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new a.Z,t._interval=0,t}return(0,c.ZT)(t,e),t.prototype.getTicks=function(e){var t=this._originalScale,n=this._extent,i=t.getExtent(),a=p.getTicks.call(this,e);return r.map(a,(function(e){var t=e.value,r=d.NM(y(this.base,t));return r=t===n[0]&&this._fixMin?_(r,i[0]):r,{value:r=t===n[1]&&this._fixMax?_(r,i[1]):r}}),this)},t.prototype.setExtent=function(e,t){var n=this.base;e=x(e)/x(n),t=x(t)/x(n),p.setExtent.call(this,e,t)},t.prototype.getExtent=function(){var e=this.base,t=h.getExtent.call(this);t[0]=y(e,t[0]),t[1]=y(e,t[1]);var n=this._originalScale.getExtent();return this._fixMin&&(t[0]=_(t[0],n[0])),this._fixMax&&(t[1]=_(t[1],n[1])),t},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=x(e[0])/x(t),e[1]=x(e[1])/x(t),h.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},t.prototype.calcNiceTicks=function(e){e=e||10;var t=this._extent,n=t[1]-t[0];if(!(n===1/0||n<=0)){var r=d.Xd(n);for(e/n*r<=.5&&(r*=10);!isNaN(r)&&Math.abs(r)<1&&Math.abs(r)>0;)r*=10;var i=[d.NM(v(t[0]/r)*r),d.NM(g(t[1]/r)*r)];this._interval=r,this._niceExtent=i}},t.prototype.calcNiceExtent=function(e){p.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return e=x(e)/x(this.base),f.XS(e,this._extent)},t.prototype.normalize=function(e){return e=x(e)/x(this.base),f.Fv(e,this._extent)},t.prototype.scale=function(e){return e=f.bA(e,this._extent),y(this.base,e)},t.type="log",t}(o.Z),w=b.prototype;function _(e,t){return m(e,d.p8(t))}w.getMinorTicks=p.getMinorTicks,w.getLabel=p.getLabel,o.Z.registerClass(b);var S=b,C=n(84239),k=n(73156);function D(e,t){var n=e.type,i=(0,k.Qw)(e,t,e.getExtent()).calculate();e.setBlank(i.isBlank);var a=i.min,o=i.max,u=t.ecModel;if(u&&"time"===n){var l=(0,s.Ge)("bar",u),c=!1;if(r.each(l,(function(e){c=c||e.getBaseAxis()===t.axis})),c){var d=(0,s.My)(l),f=function(e,t,n,i){var a=n.axis.getExtent(),o=a[1]-a[0],u=(0,s.G_)(i,n.axis);if(void 0===u)return{min:e,max:t};var l=1/0;r.each(u,(function(e){l=Math.min(e.offset,l)}));var c=-1/0;r.each(u,(function(e){c=Math.max(e.offset+e.width,c)})),l=Math.abs(l),c=Math.abs(c);var d=l+c,f=t-e,h=f/(1-(l+c)/o)-f;return{min:e-=h*(l/d),max:t+=h*(c/d)}}(a,o,t,d);a=f.min,o=f.max}}return{extent:[a,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function T(e,t){var n=t,r=D(e,n),i=r.extent,a=n.get("splitNumber");e instanceof S&&(e.base=n.get("logBase"));var o=e.type,s=n.get("interval"),u="interval"===o||"time"===o;e.setExtent(i[0],i[1]),e.calcNiceExtent({splitNumber:a,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:u?n.get("minInterval"):null,maxInterval:u?n.get("maxInterval"):null}),null!=s&&e.setInterval&&e.setInterval(s)}function I(e,t){if(t=t||e.get("type"))switch(t){case"category":return new i.Z({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new l.Z({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(o.Z.getClass(t)||a.Z)}}function A(e){var t=e.scale.getExtent(),n=t[0],r=t[1];return!(n>0&&r>0||n<0&&r<0)}function M(e){var t,n,i=e.getLabelModel().get("formatter"),a="category"===e.type?e.scale.getExtent()[0]:null;return"time"===e.scale.type?(n=i,function(t,r){return e.scale.getFormattedLabel(t,r,n)}):r.isString(i)?function(t){return function(n){var r=e.scale.getLabel(n);return t.replace("{value}",null!=r?r:"")}}(i):r.isFunction(i)?(t=i,function(n,r){return null!=a&&(r=n.value-a),t(E(e,n),r,null!=n.level?{level:n.level}:null)}):function(t){return e.scale.getLabel(t)}}function E(e,t){return"category"===e.type?e.scale.getLabel(t):t.value}function N(e){var t=e.model,n=e.scale;if(t.get(["axisLabel","show"])&&!n.isBlank()){var r,a,o=n.getExtent();a=n instanceof i.Z?n.count():(r=n.getTicks()).length;var s,u=e.getLabelModel(),l=M(e),c=1;a>40&&(c=Math.ceil(a/40));for(var d=0;d<a;d+=c){var f=l(r?r[d]:{value:o[0]+d},d),h=R(u.getTextRect(f),u.get("rotate")||0);s?s.union(h):s=h}return s}}function R(e,t){var n=t*Math.PI/180,r=e.width,i=e.height,a=r*Math.abs(Math.cos(n))+Math.abs(i*Math.sin(n)),o=r*Math.abs(Math.sin(n))+Math.abs(i*Math.cos(n));return new u.Z(e.x,e.y,a,o)}function P(e){var t=e.get("interval");return null==t?"auto":t}function O(e){return"category"===e.type&&0===P(e.getLabelModel())}function L(e,t){var n={};return r.each(e.mapDimensionsAll(t),(function(t){n[(0,C.IR)(e,t)]=!0})),r.keys(n)}function F(e,t,n){t&&r.each(L(t,n),(function(n){var r=t.getApproximateExtent(n);r[0]<e[0]&&(e[0]=r[0]),r[1]>e[1]&&(e[1]=r[1])}))}},20230:function(e,t,n){"use strict";n.d(t,{W:function(){return r}});var r=function(){function e(){}return e.prototype.getNeedCrossZero=function(){return!this.option.scale},e.prototype.getCoordSysModel=function(){},e}()},74810:function(e,t,n){"use strict";var r=n(76884),i=function(){function e(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return e.prototype.getAxis=function(e){return this._axes[e]},e.prototype.getAxes=function(){return r.map(this._dimList,(function(e){return this._axes[e]}),this)},e.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),r.filter(this.getAxes(),(function(t){return t.scale.type===e}))},e.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},e}();t.Z=i},2899:function(e,t,n){"use strict";n.d(t,{Im:function(){return g},Ni:function(){return m},Qh:function(){return h},jM:function(){return p}});var r=n(48609),i=n(97057),a=n(75784),o=n(34961),s=n(21432),u=n(76884),l=[];function c(e,t){for(var n=0;n<e.length;n++)a.applyTransform(e[n],e[n],t)}function d(e,t,n,r){for(var i=0;i<e.length;i++){var o=e[i];r&&(o=r.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(a.min(t,t,o),a.max(n,n,o))}}var f=function(){function e(e){this.name=e}return e.prototype.setCenter=function(e){this._center=e},e.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},e}(),h=function(e,t){this.type="polygon",this.exterior=e,this.interiors=t},p=function(e){this.type="linestring",this.points=e},m=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.type="geoJSON",i.geometries=n,i._center=r&&[r[0],r[1]],i}return(0,r.ZT)(t,e),t.prototype.calcCenter=function(){for(var e,t=this.geometries,n=0,r=0;r<t.length;r++){var i=t[r],a=i.exterior,o=a&&a.length;o>n&&(e=i,n=o)}if(e)return function(e){for(var t=0,n=0,r=0,i=e.length,a=e[i-1][0],o=e[i-1][1],s=0;s<i;s++){var u=e[s][0],l=e[s][1],c=a*l-u*o;t+=c,n+=(a+u)*c,r+=(o+l)*c,a=u,o=l}return t?[n/t/3,r/t/3,t]:[e[0][0]||0,e[0][1]||0]}(e.exterior);var s=this.getBoundingRect();return[s.x+s.width/2,s.y+s.height/2]},t.prototype.getBoundingRect=function(e){var t=this._rect;if(t&&!e)return t;var n=[1/0,1/0],r=[-1/0,-1/0],a=this.geometries;return(0,u.each)(a,(function(t){"polygon"===t.type?d(t.exterior,n,r,e):(0,u.each)(t.points,(function(t){d(t,n,r,e)}))})),isFinite(n[0])&&isFinite(n[1])&&isFinite(r[0])&&isFinite(r[1])||(n[0]=n[1]=r[0]=r[1]=0),t=new i.Z(n[0],n[1],r[0]-n[0],r[1]-n[1]),e||(this._rect=t),t},t.prototype.contain=function(e){var t=this.getBoundingRect(),n=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var r=0,i=n.length;r<i;r++){var a=n[r];if("polygon"===a.type){var s=a.exterior,u=a.interiors;if(o.X(s,e[0],e[1])){for(var l=0;l<(u?u.length:0);l++)if(o.X(u[l],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,t,n,r){var a=this.getBoundingRect(),o=a.width/a.height;n?r||(r=n/o):n=o*r;for(var s=new i.Z(e,t,n,r),l=a.calculateTransform(s),d=this.geometries,f=0;f<d.length;f++){var h=d[f];"polygon"===h.type?(c(h.exterior,l),(0,u.each)(h.interiors,(function(e){c(e,l)}))):(0,u.each)(h.points,(function(e){c(e,l)}))}(a=this._rect).copy(s),this._center=[a.x+a.width/2,a.y+a.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var n=new t(e,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},t}(f),g=function(e){function t(t,n){var r=e.call(this,t)||this;return r.type="geoSVG",r._elOnlyForCalculate=n,r}return(0,r.ZT)(t,e),t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,t=e.getBoundingRect(),n=[t.x+t.width/2,t.y+t.height/2],r=s.identity(l),i=e;i&&!i.isGeoSVGGraphicRoot;)s.mul(r,i.getLocalTransform(),r),i=i.parent;return s.invert(r,r),a.applyTransform(n,n,r),n},t}(f)},58051:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r={"\u5357\u6d77\u8bf8\u5c9b":[32,80],"\u5e7f\u4e1c":[0,-10],"\u9999\u6e2f":[10,5],"\u6fb3\u95e8":[-10,10],"\u5929\u6d25":[5,5]};function i(e,t){if("china"===e){var n=r[t.name];if(n){var i=t.getCenter();i[0]+=n[0]/10.5,i[1]+=-n[1]/14,t.setCenter(i)}}}},93265:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(76884),i=n(2899);function a(e,t,n){for(var r=0;r<e.length;r++)e[r]=o(e[r],t[r],n)}function o(e,t,n){for(var r=[],i=t[0],a=t[1],o=0;o<e.length;o+=2){var s=e.charCodeAt(o)-64,u=e.charCodeAt(o+1)-64;s=s>>1^-(1&s),u=u>>1^-(1&u),i=s+=i,a=u+=a,r.push([s/n,u/n])}return r}function s(e,t){return e=function(e){if(!e.UTF8Encoding)return e;var t=e,n=t.UTF8Scale;null==n&&(n=1024);var i=t.features;return r.each(i,(function(e){var t=e.geometry,i=t.encodeOffsets,s=t.coordinates;if(i)switch(t.type){case"LineString":t.coordinates=o(s,i,n);break;case"Polygon":case"MultiLineString":a(s,i,n);break;case"MultiPolygon":r.each(s,(function(e,t){return a(e,i[t],n)}))}})),t.UTF8Encoding=!1,t}(e),r.map(r.filter(e.features,(function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0})),(function(e){var n=e.properties,a=e.geometry,o=[];switch(a.type){case"Polygon":var s=a.coordinates;o.push(new i.Qh(s[0],s.slice(1)));break;case"MultiPolygon":r.each(a.coordinates,(function(e){e[0]&&o.push(new i.Qh(e[0],e.slice(1)))}));break;case"LineString":o.push(new i.jM([a.coordinates]));break;case"MultiLineString":o.push(new i.jM(a.coordinates))}var u=new i.Ni(n[t||"name"],o,n.cp);return u.properties=n,u}))}},73156:function(e,t,n){"use strict";n.d(t,{Qw:function(){return u}});var r=n(76884),i=n(15849),a=function(){function e(e,t,n){this._prepareParams(e,t,n)}return e.prototype._prepareParams=function(e,t,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var a=this._isOrdinal="ordinal"===e.type;this._needCrossZero="interval"===e.type&&t.getNeedCrossZero&&t.getNeedCrossZero();var o=this._modelMinRaw=t.get("min",!0);(0,r.isFunction)(o)?this._modelMinNum=l(e,o({min:n[0],max:n[1]})):"dataMin"!==o&&(this._modelMinNum=l(e,o));var s=this._modelMaxRaw=t.get("max",!0);if((0,r.isFunction)(s)?this._modelMaxNum=l(e,s({min:n[0],max:n[1]})):"dataMax"!==s&&(this._modelMaxNum=l(e,s)),a)this._axisDataLen=t.getCategories().length;else{var u=t.get("boundaryGap"),c=(0,r.isArray)(u)?u:[u||0,u||0];"boolean"===typeof c[0]||"boolean"===typeof c[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[(0,i.GM)(c[0],1),(0,i.GM)(c[1],1)]}},e.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,n=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,o=e?null:n-t||Math.abs(t),s="dataMin"===this._modelMinRaw?t:this._modelMinNum,u="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,l=null!=s,c=null!=u;null==s&&(s=e?i?0:NaN:t-a[0]*o),null==u&&(u=e?i?i-1:NaN:n+a[1]*o),(null==s||!isFinite(s))&&(s=NaN),(null==u||!isFinite(u))&&(u=NaN);var d=(0,r.eqNaN)(s)||(0,r.eqNaN)(u)||e&&!i;this._needCrossZero&&(s>0&&u>0&&!l&&(s=0),s<0&&u<0&&!c&&(u=0));var f=this._determinedMin,h=this._determinedMax;return null!=f&&(s=f,l=!0),null!=h&&(u=h,c=!0),{min:s,max:u,minFixed:l,maxFixed:c,isBlank:d}},e.prototype.modifyDataMinMax=function(e,t){this[s[e]]=t},e.prototype.setDeterminedMinMax=function(e,t){this[o[e]]=t},e.prototype.freeze=function(){this.frozen=!0},e}(),o={min:"_determinedMin",max:"_determinedMax"},s={min:"_dataMin",max:"_dataMax"};function u(e,t,n){var r=e.rawExtentInfo;return r||(r=new a(e,t,n),e.rawExtentInfo=r,r)}function l(e,t){return null==t?null:(0,r.eqNaN)(t)?NaN:e.parse(t)}},37999:function(e,t,n){"use strict";var r=n(76884),i={},a=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(e,t){var n=[];r.each(i,(function(r,i){var a=r.create(e,t);n=n.concat(a||[])})),this._coordinateSystems=n},e.prototype.update=function(e,t){r.each(this._coordinateSystems,(function(n){n.update&&n.update(e,t)}))},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(e,t){i[e]=t},e.get=function(e){return i[e]},e}();t.Z=a},14913:function(e,t,n){"use strict";n.d(t,{Hr:function(){return bt},$j:function(){return cn},Ok:function(){return Pn},HO:function(){return vt},eU:function(){return dn},zP:function(){return fn},B9:function(){return hn},wL:function(){return Cn},JE:function(){return pn},rp:function(){return mn},FU:function(){return Nn},S1:function(){return ln},zl:function(){return _n},RS:function(){return Sn},qR:function(){return kn},yn:function(){return An},I2:function(){return lt.I2},je:function(){return En},sq:function(){return xn},Br:function(){return bn},ds:function(){return vn},Pu:function(){return yn},aW:function(){return gn},OB:function(){return Rn},YK:function(){return wn},Og:function(){return Dn},jQ:function(){return Mn},i8:function(){return gt}});var r=n(48609),i=n(83338),a=n(76884),o=n(71118),s=n(8788),u=n(85363),l=n(71169),c=n(81149),d=n(62648),f="";"undefined"!==typeof navigator&&(f=navigator.platform||"");var h,p,m,g="rgba(0, 0, 0, 0.2)",v={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:g,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:g,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:g,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:g,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:g,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:g,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:f.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},y=n(62770),x=n(4090),b=n(7430);var w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.init=function(e,t,n,r,i,a){r=r||{},this.option=null,this._theme=new c.Z(r),this._locale=new c.Z(i),this._optionManager=a},t.prototype.setOption=function(e,t,n){var r=C(t);this._optionManager.setOption(e,n,r),this._resetOption(null,r)},t.prototype.resetOption=function(e,t){return this._resetOption(e,C(t))},t.prototype._resetOption=function(e,t){var n=!1,r=this._optionManager;if(!e||"recreate"===e){var i=r.mountOption("recreate"===e);0,this.option&&"recreate"!==e?(this.restoreData(),this._mergeOption(i,t)):m(this,i),n=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var o=r.getTimelineOption(this);o&&(n=!0,this._mergeOption(o,t))}if(!e||"recreate"===e||"media"===e){var s=r.getMediaOption(this);s.length&&(0,a.each)(s,(function(e){n=!0,this._mergeOption(e,t)}),this)}return n},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,t){var n=this.option,r=this._componentsMap,i=this._componentsCount,o=[],s=(0,a.createHashMap)(),u=t&&t.replaceMergeMainTypeMap;(0,y.md)(this),(0,a.each)(e,(function(e,t){null!=e&&(d.Z.hasClass(t)?t&&(o.push(t),s.set(t,!0)):n[t]=null==n[t]?(0,a.clone)(e):(0,a.merge)(n[t],e,!0))})),u&&u.each((function(e,t){d.Z.hasClass(t)&&!s.get(t)&&(o.push(t),s.set(t,!0))})),d.Z.topologicalTravel(o,d.Z.getAllClassMainTypes(),(function(t){var o=(0,x.R)(this,t,l.kF(e[t])),s=r.get(t),c=s?u&&u.get(t)?"replaceMerge":"normalMerge":"replaceAll",f=l.ab(s,o,c);l.O0(f,t,d.Z),n[t]=null,r.set(t,null),i.set(t,0);var p,m=[],g=[],v=0;(0,a.each)(f,(function(e,n){var r=e.existing,i=e.newOption;if(i){var o="series"===t,s=d.Z.getClass(t,e.keyInfo.subType,!o);if(!s)return;if("tooltip"===t){if(p)return void 0;p=!0}if(r&&r.constructor===s)r.name=e.keyInfo.name,r.mergeOption(i,this),r.optionUpdated(i,!1);else{var u=(0,a.extend)({componentIndex:n},e.keyInfo);r=new s(i,this,this,u),(0,a.extend)(r,u),e.brandNew&&(r.__requireNewView=!0),r.init(i,this,this),r.optionUpdated(null,!0)}}else r&&(r.mergeOption({},this),r.optionUpdated({},!1));r?(m.push(r.option),g.push(r),v++):(m.push(void 0),g.push(void 0))}),this),n[t]=m,r.set(t,g),i.set(t,v),"series"===t&&h(this)}),this),this._seriesIndices||h(this)},t.prototype.getOption=function(){var e=(0,a.clone)(this.option);return(0,a.each)(e,(function(t,n){if(d.Z.hasClass(n)){for(var r=l.kF(t),i=r.length,a=!1,o=i-1;o>=0;o--)r[o]&&!l.lY(r[o])?a=!0:(r[o]=null,!a&&i--);r.length=i,e[n]=r}})),delete e["\0_ec_inner"],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,t){var n=this._componentsMap.get(e);if(n){var r=n[t||0];if(r)return r;if(null==t)for(var i=0;i<n.length;i++)if(n[i])return n[i]}},t.prototype.queryComponents=function(e){var t=e.mainType;if(!t)return[];var n,r=e.index,i=e.id,o=e.name,s=this._componentsMap.get(t);return s&&s.length?(null!=r?(n=[],(0,a.each)(l.kF(r),(function(e){s[e]&&n.push(s[e])}))):n=null!=i?_("id",i,s):null!=o?_("name",o,s):(0,a.filter)(s,(function(e){return!!e})),S(n,e)):[]},t.prototype.findComponents=function(e){var t,n=e.query,r=e.mainType,i=function(e){var t=r+"Index",n=r+"Id",i=r+"Name";return!e||null==e[t]&&null==e[n]&&null==e[i]?null:{mainType:r,index:e[t],id:e[n],name:e[i]}}(n),o=i?this.queryComponents(i):(0,a.filter)(this._componentsMap.get(r),(function(e){return!!e}));return t=S(o,e),e.filter?(0,a.filter)(t,e.filter):t},t.prototype.eachComponent=function(e,t,n){var r=this._componentsMap;if((0,a.isFunction)(e)){var i=t,o=e;r.each((function(e,t){for(var n=0;e&&n<e.length;n++){var r=e[n];r&&o.call(i,t,r,r.componentIndex)}}))}else for(var s=(0,a.isString)(e)?r.get(e):(0,a.isObject)(e)?this.findComponents(e):null,u=0;s&&u<s.length;u++){var l=s[u];l&&t.call(n,l,l.componentIndex)}},t.prototype.getSeriesByName=function(e){var t=l.U5(e,null);return(0,a.filter)(this._componentsMap.get("series"),(function(e){return!!e&&null!=t&&e.name===t}))},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return(0,a.filter)(this._componentsMap.get("series"),(function(t){return!!t&&t.subType===e}))},t.prototype.getSeries=function(){return(0,a.filter)(this._componentsMap.get("series"),(function(e){return!!e}))},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,t){p(this),(0,a.each)(this._seriesIndices,(function(n){var r=this._componentsMap.get("series")[n];e.call(t,r,n)}),this)},t.prototype.eachRawSeries=function(e,t){(0,a.each)(this._componentsMap.get("series"),(function(n){n&&e.call(t,n,n.componentIndex)}))},t.prototype.eachSeriesByType=function(e,t,n){p(this),(0,a.each)(this._seriesIndices,(function(r){var i=this._componentsMap.get("series")[r];i.subType===e&&t.call(n,i,r)}),this)},t.prototype.eachRawSeriesByType=function(e,t,n){return(0,a.each)(this.getSeriesByType(e),t,n)},t.prototype.isSeriesFiltered=function(e){return p(this),null==this._seriesIndicesMap.get(e.componentIndex)},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,t){p(this);var n=[];(0,a.each)(this._seriesIndices,(function(r){var i=this._componentsMap.get("series")[r];e.call(t,i,r)&&n.push(r)}),this),this._seriesIndices=n,this._seriesIndicesMap=(0,a.createHashMap)(n)},t.prototype.restoreData=function(e){h(this);var t=this._componentsMap,n=[];t.each((function(e,t){d.Z.hasClass(t)&&n.push(t)})),d.Z.topologicalTravel(n,d.Z.getAllClassMainTypes(),(function(n){(0,a.each)(t.get(n),(function(t){!t||"series"===n&&function(e,t){if(t){var n=t.seriesIndex,r=t.seriesId,i=t.seriesName;return null!=n&&e.componentIndex!==n||null!=r&&e.id!==r||null!=i&&e.name!==i}}(t,e)||t.restoreData()}))}))},t.internalField=(h=function(e){var t=e._seriesIndices=[];(0,a.each)(e._componentsMap.get("series"),(function(e){e&&t.push(e.componentIndex)})),e._seriesIndicesMap=(0,a.createHashMap)(t)},p=function(e){},void(m=function(e,t){e.option={},e.option["\0_ec_inner"]=1,e._componentsMap=(0,a.createHashMap)({series:[]}),e._componentsCount=(0,a.createHashMap)();var n=t.aria;(0,a.isObject)(n)&&null==n.enabled&&(n.enabled=!0),function(e,t){var n=e.color&&!e.colorLayer;(0,a.each)(t,(function(t,r){"colorLayer"===r&&n||d.Z.hasClass(r)||("object"===typeof t?e[r]=e[r]?(0,a.merge)(e[r],t,!1):(0,a.clone)(t):null==e[r]&&(e[r]=t))}))}(t,e._theme.option),(0,a.merge)(t,v,!1),e._mergeOption(t,null)})),t}(c.Z);function _(e,t,n){if((0,a.isArray)(t)){var r=(0,a.createHashMap)();return(0,a.each)(t,(function(e){null!=e&&(null!=l.U5(e,null)&&r.set(e,!0))})),(0,a.filter)(n,(function(t){return t&&r.get(t[e])}))}var i=l.U5(t,null);return(0,a.filter)(n,(function(t){return t&&null!=i&&t[e]===i}))}function S(e,t){return t.hasOwnProperty("subType")?(0,a.filter)(e,(function(e){return e&&e.subType===t.subType})):e}function C(e){var t=(0,a.createHashMap)();return e&&(0,a.each)(l.kF(e.replaceMerge),(function(e){t.set(e,!0)})),{replaceMergeMainTypeMap:t}}(0,a.mixin)(w,b._);var k=w,D=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],T=function(e){a.each(D,(function(t){this[t]=a.bind(e[t],e)}),this)},I=n(37999),A=/^(min|max)?(.+)$/,M=function(){function e(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return e.prototype.setOption=function(e,t,n){e&&((0,a.each)((0,l.kF)(e.series),(function(e){e&&e.data&&(0,a.isTypedArray)(e.data)&&(0,a.setAsPrimitive)(e.data)})),(0,a.each)((0,l.kF)(e.dataset),(function(e){e&&e.source&&(0,a.isTypedArray)(e.source)&&(0,a.setAsPrimitive)(e.source)}))),e=(0,a.clone)(e);var r=this._optionBackup,i=function(e,t,n){var r,i,o=[],s=e.baseOption,u=e.timeline,l=e.options,c=e.media,d=!!e.media,f=!!(l||u||s&&s.timeline);s?(i=s).timeline||(i.timeline=u):((f||d)&&(e.options=e.media=null),i=e);d&&(0,a.isArray)(c)&&(0,a.each)(c,(function(e){e&&e.option&&(e.query?o.push(e):r||(r=e))}));function h(e){(0,a.each)(t,(function(t){t(e,n)}))}return h(i),(0,a.each)(l,(function(e){return h(e)})),(0,a.each)(o,(function(e){return h(e.option)})),{baseOption:i,timelineOptions:l||[],mediaDefault:r,mediaList:o}}(e,t,!r);this._newBaseOption=i.baseOption,r?(i.timelineOptions.length&&(r.timelineOptions=i.timelineOptions),i.mediaList.length&&(r.mediaList=i.mediaList),i.mediaDefault&&(r.mediaDefault=i.mediaDefault)):this._optionBackup=i},e.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],(0,a.clone)(e?t.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(e){var t,n=this._timelineOptions;if(n.length){var r=e.getComponent("timeline");r&&(t=(0,a.clone)(n[r.getCurrentIndex()]))}return t},e.prototype.getMediaOption=function(e){var t,n,r=this._api.getWidth(),i=this._api.getHeight(),o=this._mediaList,s=this._mediaDefault,u=[],l=[];if(!o.length&&!s)return l;for(var c=0,d=o.length;c<d;c++)E(o[c].query,r,i)&&u.push(c);return!u.length&&s&&(u=[-1]),u.length&&(t=u,n=this._currentMediaIndices,t.join(",")!==n.join(","))&&(l=(0,a.map)(u,(function(e){return(0,a.clone)(-1===e?s.option:o[e].option)}))),this._currentMediaIndices=u,l},e}();function E(e,t,n){var r={width:t,height:n,aspectratio:t/n},i=!0;return(0,a.each)(e,(function(e,t){var n=t.match(A);if(n&&n[1]&&n[2]){var a=n[1],o=n[2].toLowerCase();(function(e,t,n){return"min"===n?e>=t:"max"===n?e<=t:e===t})(r[o],e,a)||(i=!1)}})),i}var N=M,R=a.each,P=a.isObject,O=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function L(e){var t=e&&e.itemStyle;if(t)for(var n=0,r=O.length;n<r;n++){var i=O[n],o=t.normal,s=t.emphasis;o&&o[i]&&(e[i]=e[i]||{},e[i].normal?a.merge(e[i].normal,o[i]):e[i].normal=o[i],o[i]=null),s&&s[i]&&(e[i]=e[i]||{},e[i].emphasis?a.merge(e[i].emphasis,s[i]):e[i].emphasis=s[i],s[i]=null)}}function F(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var r=e[t].normal,i=e[t].emphasis;r&&(n?(e[t].normal=e[t].emphasis=null,a.defaults(e[t],r)):e[t]=r),i&&(e.emphasis=e.emphasis||{},e.emphasis[t]=i,i.focus&&(e.emphasis.focus=i.focus),i.blurScope&&(e.emphasis.blurScope=i.blurScope))}}function Z(e){F(e,"itemStyle"),F(e,"lineStyle"),F(e,"areaStyle"),F(e,"label"),F(e,"labelLine"),F(e,"upperLabel"),F(e,"edgeLabel")}function B(e,t){var n=P(e)&&e[t],r=P(n)&&n.textStyle;if(r){0;for(var i=0,a=l.Td.length;i<a;i++){var o=l.Td[i];r.hasOwnProperty(o)&&(n[o]=r[o])}}}function z(e){e&&(Z(e),B(e,"label"),e.emphasis&&B(e.emphasis,"label"))}function V(e){return a.isArray(e)?e:e?[e]:[]}function j(e){return(a.isArray(e)?e[0]:e)||{}}function W(e,t){R(V(e.series),(function(e){P(e)&&function(e){if(P(e)){L(e),Z(e),B(e,"label"),B(e,"upperLabel"),B(e,"edgeLabel"),e.emphasis&&(B(e.emphasis,"label"),B(e.emphasis,"upperLabel"),B(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(L(t),z(t));var n=e.markLine;n&&(L(n),z(n));var r=e.markArea;r&&z(r);var i=e.data;if("graph"===e.type){i=i||e.nodes;var o=e.links||e.edges;if(o&&!a.isTypedArray(o))for(var s=0;s<o.length;s++)z(o[s]);a.each(e.categories,(function(e){Z(e)}))}if(i&&!a.isTypedArray(i))for(s=0;s<i.length;s++)z(i[s]);if((t=e.markPoint)&&t.data){var u=t.data;for(s=0;s<u.length;s++)z(u[s])}if((n=e.markLine)&&n.data){var l=n.data;for(s=0;s<l.length;s++)a.isArray(l[s])?(z(l[s][0]),z(l[s][1])):z(l[s])}"gauge"===e.type?(B(e,"axisLabel"),B(e,"title"),B(e,"detail")):"treemap"===e.type?(F(e.breadcrumb,"itemStyle"),a.each(e.levels,(function(e){Z(e)}))):"tree"===e.type&&Z(e.leaves)}}(e)}));var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),R(n,(function(t){R(V(e[t]),(function(e){e&&(B(e,"axisLabel"),B(e.axisPointer,"label"))}))})),R(V(e.parallel),(function(e){var t=e&&e.parallelAxisDefault;B(t,"axisLabel"),B(t&&t.axisPointer,"label")})),R(V(e.calendar),(function(e){F(e,"itemStyle"),B(e,"dayLabel"),B(e,"monthLabel"),B(e,"yearLabel")})),R(V(e.radar),(function(e){B(e,"name"),e.name&&null==e.axisName&&(e.axisName=e.name,delete e.name),null!=e.nameGap&&null==e.axisNameGap&&(e.axisNameGap=e.nameGap,delete e.nameGap)})),R(V(e.geo),(function(e){P(e)&&(z(e),R(V(e.regions),(function(e){z(e)})))})),R(V(e.timeline),(function(e){z(e),F(e,"label"),F(e,"itemStyle"),F(e,"controlStyle",!0);var t=e.data;a.isArray(t)&&a.each(t,(function(e){a.isObject(e)&&(F(e,"label"),F(e,"itemStyle"))}))})),R(V(e.toolbox),(function(e){F(e,"iconStyle"),R(e.feature,(function(e){F(e,"iconStyle")}))})),B(j(e.axisPointer),"label"),B(j(e.tooltip).axisPointer,"label")}function U(e){e&&(0,a.each)(H,(function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])}))}var H=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],G=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],X=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function q(e){var t=e&&e.itemStyle;if(t)for(var n=0;n<X.length;n++){var r=X[n][1],i=X[n][0];null!=t[r]&&(t[i]=t[r])}}function Y(e){e&&"edge"===e.alignTo&&null!=e.margin&&null==e.edgeDistance&&(e.edgeDistance=e.margin)}function K(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function Q(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n]),e[n]&&Q(e[n].children,t)}function J(e,t){W(e,t),e.series=(0,l.kF)(e.series),(0,a.each)(e.series,(function(e){if((0,a.isObject)(e)){var t=e.type;if("line"===t)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===t||"gauge"===t){if(null!=e.clockWise&&(e.clockwise=e.clockWise),Y(e.label),(i=e.data)&&!(0,a.isTypedArray)(i))for(var n=0;n<i.length;n++)Y(i[n]);null!=e.hoverOffset&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if("gauge"===t){var r=function(e,t){for(var n=t.split(","),r=e,i=0;i<n.length&&null!=(r=r&&r[n[i]]);i++);return r}(e,"pointer.color");null!=r&&function(e,t,n,r){for(var i,a=t.split(","),o=e,s=0;s<a.length-1;s++)null==o[i=a[s]]&&(o[i]={}),o=o[i];(r||null==o[a[s]])&&(o[a[s]]=n)}(e,"itemStyle.color",r)}else if("bar"===t){var i;if(q(e),q(e.backgroundStyle),q(e.emphasis),(i=e.data)&&!(0,a.isTypedArray)(i))for(n=0;n<i.length;n++)"object"===typeof i[n]&&(q(i[n]),q(i[n]&&i[n].emphasis))}else if("sunburst"===t){var o=e.highlightPolicy;o&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=o)),K(e),Q(e.data,K)}else"graph"===t||"sankey"===t?function(e){e&&null!=e.focusNodeAdjacency&&(e.emphasis=e.emphasis||{},null==e.emphasis.focus&&(e.emphasis.focus="adjacency"))}(e):"map"===t&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&(0,a.defaults)(e,e.mapLocation));null!=e.hoverAnimation&&(e.emphasis=e.emphasis||{},e.emphasis&&null==e.emphasis.scale&&(e.emphasis.scale=e.hoverAnimation)),U(e)}})),e.dataRange&&(e.visualMap=e.dataRange),(0,a.each)(G,(function(t){var n=e[t];n&&((0,a.isArray)(n)||(n=[n]),(0,a.each)(n,(function(e){U(e)})))}))}var $=n(11671);function ee(e){(0,a.each)(e,(function(t,n){var r=[],i=[NaN,NaN],a=[t.stackResultDimension,t.stackedOverDimension],o=t.data,s=t.isStackedByIndex;o.modify(a,(function(a,u,l){var c,d,f=o.get(t.stackedDimension,l);if(isNaN(f))return i;s?d=o.getRawIndex(l):c=o.get(t.stackedByDimension,l);for(var h=NaN,p=n-1;p>=0;p--){var m=e[p];if(s||(d=m.data.rawIndexOf(m.stackedByDimension,c)),d>=0){var g=m.data.getByRawIndex(m.stackResultDimension,d);if(f>=0&&g>0||f<=0&&g<0){f=(0,$.S$)(f,g),h=g;break}}}return r[0]=f,r[1]=h,r}))}))}var te=n(80654),ne=n(10484),re=n(52037),ie=n(60595),ae=n(44046),oe=n(33187),se=n(45162),ue=n(37890),le=n(60886),ce=n(90964),de=n(76592),fe=n(72563),he=n(38354),pe=(0,l.Yf)(),me={itemStyle:(0,de.Z)(fe.t,!0),lineStyle:(0,de.Z)(he.v,!0)},ge={lineStyle:"stroke",itemStyle:"fill"};function ve(e,t){var n=e.visualStyleMapper||me[t];return n||(console.warn("Unkown style type '"+t+"'."),me.itemStyle)}function ye(e,t){var n=e.visualDrawType||ge[t];return n||(console.warn("Unkown style type '"+t+"'."),"fill")}var xe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),r=e.visualStyleAccessPath||"itemStyle",i=e.getModel(r),o=ve(e,r)(i),s=i.getShallow("decal");s&&(n.setVisual("decal",s),s.dirty=!0);var u=ye(e,r),l=o[u],c=(0,a.isFunction)(l)?l:null,d="auto"===o.fill||"auto"===o.stroke;if(!o[u]||c||d){var f=e.getColorFromPalette(e.name,null,t.getSeriesCount());o[u]||(o[u]=f,n.setVisual("colorFromPalette",!0)),o.fill="auto"===o.fill||(0,a.isFunction)(o.fill)?f:o.fill,o.stroke="auto"===o.stroke||(0,a.isFunction)(o.stroke)?f:o.stroke}if(n.setVisual("style",o),n.setVisual("drawType",u),!t.isSeriesFiltered(e)&&c)return n.setVisual("colorFromPalette",!1),{dataEach:function(t,n){var r=e.getDataParams(n),i=(0,a.extend)({},o);i[u]=c(r),t.setItemVisual(n,"style",i)}}}},be=new c.Z,we={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.ignoreStyleOnData&&!t.isSeriesFiltered(e)){var n=e.getData(),r=e.visualStyleAccessPath||"itemStyle",i=ve(e,r),o=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(e,t){var n=e.getRawDataItem(t);if(n&&n[r]){be.option=n[r];var s=i(be),u=e.ensureUniqueItemVisual(t,"style");(0,a.extend)(u,s),be.option.decal&&(e.setItemVisual(t,"decal",be.option.decal),be.option.decal.dirty=!0),o in s&&e.setItemVisual(t,"colorFromPalette",!1)}}:null}}}},_e={performRawSeries:!0,overallReset:function(e){var t=(0,a.createHashMap)();e.eachSeries((function(e){var n=e.getColorBy();if(!e.isColorBySeries()){var r=e.type+"-"+n,i=t.get(r);i||(i={},t.set(r,i)),pe(e).scope=i}})),e.eachSeries((function(t){if(!t.isColorBySeries()&&!e.isSeriesFiltered(t)){var n=t.getRawData(),r={},i=t.getData(),a=pe(t).scope,o=t.visualStyleAccessPath||"itemStyle",s=ye(t,o);i.each((function(e){var t=i.getRawIndex(e);r[t]=e})),n.each((function(e){var o=r[e];if(i.getItemVisual(o,"colorFromPalette")){var u=i.ensureUniqueItemVisual(o,"style"),l=n.getName(e)||e+"",c=n.count();u[s]=t.getColorFromPalette(l,a,c)}}))}}))}},Se=n(94060),Ce=n(56114),ke=n(52620),De=Math.PI;var Te=n(6011),Ie=n(8927),Ae=function(){function e(e,t,n,r){this._stageTaskMap=(0,a.createHashMap)(),this.ecInstance=e,this.api=t,n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=n.concat(r)}return e.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each((function(e){var t=e.overallTask;t&&t.dirty()}))},e.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),r=n.context,i=!t&&n.progressiveEnabled&&(!r||r.progressiveRender)&&e.__idxInPipeline>n.blockIndex?n.step:null,a=r&&r.modDataCount;return{step:i,modBy:null!=a?Math.ceil(a/i):null,modDataCount:a}}},e.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},e.prototype.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),r=e.getData().count(),i=n.progressiveEnabled&&t.incrementalPrepareRender&&r>=n.threshold,a=e.get("large")&&r>=e.get("largeThreshold"),o="mod"===e.get("progressiveChunkMode")?r:null;e.pipelineContext=n.context={progressiveRender:i,modDataCount:o,large:a}},e.prototype.restorePipelines=function(e){var t=this,n=t._pipelineMap=(0,a.createHashMap)();e.eachSeries((function(e){var r=e.getProgressive(),i=e.uid;n.set(i,{id:i,head:null,tail:null,threshold:e.getProgressiveThreshold(),progressiveEnabled:r&&!(e.preventIncremental&&e.preventIncremental()),blockIndex:-1,step:Math.round(r||700),count:0}),t._pipe(e,e.dataTask)}))},e.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),n=this.api;(0,a.each)(this._allHandlers,(function(r){var i=e.get(r.uid)||e.set(r.uid,{});(0,a.assert)(!(r.reset&&r.overallReset),""),r.reset&&this._createSeriesStageTask(r,i,t,n),r.overallReset&&this._createOverallStageTask(r,i,t,n)}),this)},e.prototype.prepareView=function(e,t,n,r){var i=e.renderTask,a=i.context;a.model=t,a.ecModel=n,a.api=r,i.__block=!e.incrementalPrepareRender,this._pipe(t,i)},e.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},e.prototype.performVisualTasks=function(e,t,n){this._performStageTasks(this._visualHandlers,e,t,n)},e.prototype._performStageTasks=function(e,t,n,r){r=r||{};var i=!1,o=this;function s(e,t){return e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(t.__pipeline.id))}(0,a.each)(e,(function(e,a){if(!r.visualType||r.visualType===e.visualType){var u=o._stageTaskMap.get(e.uid),l=u.seriesTaskMap,c=u.overallTask;if(c){var d,f=c.agentStubMap;f.each((function(e){s(r,e)&&(e.dirty(),d=!0)})),d&&c.dirty(),o.updatePayload(c,n);var h=o.getPerformArgs(c,r.block);f.each((function(e){e.perform(h)})),c.perform(h)&&(i=!0)}else l&&l.each((function(a,u){s(r,a)&&a.dirty();var l=o.getPerformArgs(a,r.block);l.skip=!e.performRawSeries&&t.isSeriesFiltered(a.context.model),o.updatePayload(a,n),a.perform(l)&&(i=!0)}))}})),this.unfinished=i||this.unfinished},e.prototype.performSeriesTasks=function(e){var t;e.eachSeries((function(e){t=e.dataTask.perform()||t})),this.unfinished=t||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each((function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)}))},e.prototype.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)},e.prototype._createSeriesStageTask=function(e,t,n,r){var i=this,o=t.seriesTaskMap,s=t.seriesTaskMap=(0,a.createHashMap)(),u=e.seriesType,l=e.getTargetSeries;function c(t){var a=t.uid,u=s.set(a,o&&o.get(a)||(0,Te.v)({plan:Pe,reset:Oe,count:Ze}));u.context={model:t,ecModel:n,api:r,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:i},i._pipe(t,u)}e.createOnAllSeries?n.eachRawSeries(c):u?n.eachRawSeriesByType(u,c):l&&l(n,r).each(c)},e.prototype._createOverallStageTask=function(e,t,n,r){var i=this,o=t.overallTask=t.overallTask||(0,Te.v)({reset:Me});o.context={ecModel:n,api:r,overallReset:e.overallReset,scheduler:i};var s=o.agentStubMap,u=o.agentStubMap=(0,a.createHashMap)(),l=e.seriesType,c=e.getTargetSeries,d=!0,f=!1;function h(e){var t=e.uid,n=u.set(t,s&&s.get(t)||(f=!0,(0,Te.v)({reset:Ee,onDirty:Re})));n.context={model:e,overallProgress:d},n.agent=o,n.__block=d,i._pipe(e,n)}(0,a.assert)(!e.createOnAllSeries,""),l?n.eachRawSeriesByType(l,h):c?c(n,r).each(h):(d=!1,(0,a.each)(n.getSeries(),h)),f&&o.dirty()},e.prototype._pipe=function(e,t){var n=e.uid,r=this._pipelineMap.get(n);!r.head&&(r.head=t),r.tail&&r.tail.pipe(t),r.tail=t,t.__idxInPipeline=r.count++,t.__pipeline=r},e.wrapStageHandler=function(e,t){return(0,a.isFunction)(e)&&(e={overallReset:e,seriesType:Be(e)}),e.uid=(0,Ie.Kr)("stageHandler"),t&&(e.visualType=t),e},e}();function Me(e){e.overallReset(e.ecModel,e.api,e.payload)}function Ee(e){return e.overallProgress&&Ne}function Ne(){this.agent.dirty(),this.getDownstream().dirty()}function Re(){this.agent&&this.agent.dirty()}function Pe(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function Oe(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=(0,l.kF)(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?(0,a.map)(t,(function(e,t){return Fe(t)})):Le}var Le=Fe(0);function Fe(e){return function(t,n){var r=n.data,i=n.resetDefines[e];if(i&&i.dataEach)for(var a=t.start;a<t.end;a++)i.dataEach(r,a);else i&&i.progress&&i.progress(t,r)}}function Ze(e){return e.data.count()}function Be(e){ze=null;try{e(Ve,je)}catch(t){}return ze}var ze,Ve={},je={};function We(e,t){for(var n in t.prototype)e[n]=a.noop}We(Ve,k),We(je,T),Ve.eachSeriesByType=Ve.eachRawSeriesByType=function(e){ze=e},Ve.eachComponent=function(e){"series"===e.mainType&&e.subType&&(ze=e.subType)};var Ue=Ae,He=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],Ge={color:He,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],He]},Xe="#B9B8CE",qe="#100C2A",Ye=function(){return{axisLine:{lineStyle:{color:Xe}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Ke=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Qe={darkMode:!0,color:Ke,backgroundColor:qe,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Xe}},textStyle:{color:Xe},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Xe}},dataZoom:{borderColor:"#71708A",textStyle:{color:Xe},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Xe}},timeline:{lineStyle:{color:Xe},label:{color:Xe},controlStyle:{color:Xe,borderColor:Xe}},calendar:{itemStyle:{color:qe},dayLabel:{color:Xe},monthLabel:{color:Xe},yearLabel:{color:Xe}},timeAxis:Ye(),logAxis:Ye(),valueAxis:Ye(),categoryAxis:Ye(),line:{symbol:"circle"},graph:{color:Ke},gauge:{title:{color:Xe},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Xe},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Qe.categoryAxis.splitLine.show=!1;var Je=Qe,$e=n(64657),et=function(){function e(){}return e.prototype.normalizeQuery=function(e){var t={},n={},r={};if(a.isString(e)){var i=(0,$e.u9)(e);t.mainType=i.main||null,t.subType=i.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};a.each(e,(function(e,i){for(var a=!1,u=0;u<o.length;u++){var l=o[u],c=i.lastIndexOf(l);if(c>0&&c===i.length-l.length){var d=i.slice(0,c);"data"!==d&&(t.mainType=d,t[l.toLowerCase()]=e,a=!0)}}s.hasOwnProperty(i)&&(n[i]=e,a=!0),a||(r[i]=e)}))}return{cptQuery:t,dataQuery:n,otherQuery:r}},e.prototype.filter=function(e,t){var n=this.eventInfo;if(!n)return!0;var r=n.targetEl,i=n.packedEvent,a=n.model,o=n.view;if(!a||!o)return!0;var s=t.cptQuery,u=t.dataQuery;return l(s,a,"mainType")&&l(s,a,"subType")&&l(s,a,"index","componentIndex")&&l(s,a,"name")&&l(s,a,"id")&&l(u,i,"name")&&l(u,i,"dataIndex")&&l(u,i,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(e,t.otherQuery,r,i));function l(e,t,n,r){return null==e[n]||t[r||n]===e[n]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),tt=["symbol","symbolSize","symbolRotate","symbolOffset"],nt=tt.concat(["symbolKeepAspect"]),rt={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData();if(e.legendIcon&&n.setVisual("legendIcon",e.legendIcon),e.hasSymbolVisual){for(var r={},i={},o=!1,s=0;s<tt.length;s++){var u=tt[s],l=e.get(u);(0,a.isFunction)(l)?(o=!0,i[u]=l):r[u]=l}if(r.symbol=r.symbol||e.defaultSymbol,n.setVisual((0,a.extend)({legendIcon:e.legendIcon||r.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},r)),!t.isSeriesFiltered(e)){var c=(0,a.keys)(i);return{dataEach:o?function(t,n){for(var r=e.getRawValue(n),a=e.getDataParams(n),o=0;o<c.length;o++){var s=c[o];t.setItemVisual(n,s,i[s](r,a))}}:null}}}}},it={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(e.hasSymbolVisual&&!t.isSeriesFiltered(e))return{dataEach:e.getData().hasItemOption?function(e,t){for(var n=e.getItemModel(t),r=0;r<nt.length;r++){var i=nt[r],a=n.getShallow(i,!0);null!=a&&e.setItemVisual(t,i,a)}}:null}}},at=n(16552),ot=n(85326),st=n(27091),ut=n(4385),lt=n(7334),ct=n(23508),dt=n(7434);var ft=new u.Z,ht=n(29315),pt=n(68503),mt="undefined"!==typeof window,gt="5.3.2",vt={zrender:"5.3.1"},yt=2e3,xt=4500,bt={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:yt,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:xt,ARIA:6e3,DECAL:7e3}},wt=/^[a-zA-Z0-9_]+$/,_t="__connectUpdateStatus";function St(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!this.isDisposed())return kt(this,e,t);Yt(this.id)}}function Ct(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return kt(this,e,t)}}function kt(e,t,n){return n[0]=n[0]&&n[0].toLowerCase(),u.Z.prototype[t].apply(e,n)}var Dt,Tt,It,At,Mt,Et,Nt,Rt,Pt,Ot,Lt,Ft,Zt,Bt,zt,Vt,jt,Wt,Ut=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t}(u.Z),Ht=Ut.prototype;Ht.on=Ct("on"),Ht.off=Ct("off");var Gt=function(e){function t(t,n,r){var o=e.call(this,new et)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],r=r||{},(0,a.isString)(n)&&(n=tn[n]),o._dom=t;var u=o._zr=i.init(t,{renderer:r.renderer||"canvas",devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:null!=r.useDirtyRect&&r.useDirtyRect});o._ssr=r.ssr,o._throttledZrFlush=(0,ce.P2)((0,a.bind)(u.flush,u),17),(n=(0,a.clone)(n))&&J(n,!0),o._theme=n,o._locale=(0,lt.D0)(r.locale||lt.sO),o._coordSysMgr=new I.Z;var l=o._api=zt(o);function c(e,t){return e.__prio-t.__prio}return(0,s.Z)(en,c),(0,s.Z)(Jt,c),o._scheduler=new Ue(o,l,Jt,en),o._messageCenter=new Ut,o._initEvents(),o.resize=(0,a.bind)(o.resize,o),u.animation.on("frame",o._onframe,o),Ot(u,o),Lt(u,o),(0,a.setAsPrimitive)(o),o}return(0,r.ZT)(t,e),t.prototype._onframe=function(){if(!this._disposed){Wt(this);var e=this._scheduler;if(this.__pendingUpdate){var t=this.__pendingUpdate.silent;this.__flagInMainProcess=!0;try{Dt(this),At.update.call(this,null,this.__pendingUpdate.updateParams)}catch(o){throw this.__flagInMainProcess=!1,this.__pendingUpdate=null,o}this._zr.flush(),this.__flagInMainProcess=!1,this.__pendingUpdate=null,Rt.call(this,t),Pt.call(this,t)}else if(e.unfinished){var n=1,r=this._model,i=this._api;e.unfinished=!1;do{var a=+new Date;e.performSeriesTasks(r),e.performDataProcessorTasks(r),Et(this,r),e.performVisualTasks(r),Bt(this,this._model,i,"remain",{}),n-=+new Date-a}while(n>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,t,n){if(!this.__flagInMainProcess)if(this._disposed)Yt(this.id);else{var r,i,o;if((0,a.isObject)(t)&&(n=t.lazyUpdate,r=t.silent,i=t.replaceMerge,o=t.transition,t=t.notMerge),this.__flagInMainProcess=!0,!this._model||t){var s=new N(this._api),u=this._theme,l=this._model=new k;l.scheduler=this._scheduler,l.ssr=this._ssr,l.init(null,null,null,u,this._locale,s)}this._model.setOption(e,{replaceMerge:i},$t);var c={seriesTransition:o,optionChanged:!0};if(n)this.__pendingUpdate={silent:r,updateParams:c},this.__flagInMainProcess=!1,this.getZr().wakeUp();else{try{Dt(this),At.update.call(this,null,c)}catch(d){throw this.__pendingUpdate=null,this.__flagInMainProcess=!1,d}this._ssr||this._zr.flush(),this.__pendingUpdate=null,this.__flagInMainProcess=!1,Rt.call(this,r),Pt.call(this,r)}}},t.prototype.setTheme=function(){(0,ot.Sh)("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||mt&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){return e=e||{},this._zr.painter.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){return e=e||{},this._zr.painter.renderToString({useViewBox:e.useViewBox})},t.prototype.getSvgDataURL=function(){if(o.Z.svgSupported){var e=this._zr,t=e.storage.getDisplayList();return(0,a.each)(t,(function(e){e.stopAnimation(null,!0)})),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(!this._disposed){var t=(e=e||{}).excludeComponents,n=this._model,r=[],i=this;(0,a.each)(t,(function(e){n.eachComponent({mainType:e},(function(e){var t=i._componentsMap[e.__viewId];t.group.ignore||(r.push(t),t.group.ignore=!0)}))}));var o="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return(0,a.each)(r,(function(e){e.group.ignore=!1})),o}Yt(this.id)},t.prototype.getConnectedDataURL=function(e){if(!this._disposed){var t="svg"===e.type,n=this.group,r=Math.min,o=Math.max,s=1/0;if(an[n]){var u=s,l=s,c=-1/0,d=-1/0,f=[],h=e&&e.pixelRatio||this.getDevicePixelRatio();(0,a.each)(rn,(function(i,s){if(i.group===n){var h=t?i.getZr().painter.getSvgDom().innerHTML:i.renderToCanvas((0,a.clone)(e)),p=i.getDom().getBoundingClientRect();u=r(p.left,u),l=r(p.top,l),c=o(p.right,c),d=o(p.bottom,d),f.push({dom:h,left:p.left,top:p.top})}}));var p=(c*=h)-(u*=h),m=(d*=h)-(l*=h),g=ht.qW.createCanvas(),v=i.init(g,{renderer:t?"svg":"canvas"});if(v.resize({width:p,height:m}),t){var y="";return(0,a.each)(f,(function(e){var t=e.left-u,n=e.top-l;y+='<g transform="translate('+t+","+n+')">'+e.dom+"</g>"})),v.painter.getSvgRoot().innerHTML=y,e.connectedBackgroundColor&&v.painter.setBackgroundColor(e.connectedBackgroundColor),v.refreshImmediately(),v.painter.toDataURL()}return e.connectedBackgroundColor&&v.add(new ie.Z({shape:{x:0,y:0,width:p,height:m},style:{fill:e.connectedBackgroundColor}})),(0,a.each)(f,(function(e){var t=new ae.ZP({style:{x:e.left*h-u,y:e.top*h-l,image:e.dom}});v.add(t)})),v.refreshImmediately(),g.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}Yt(this.id)},t.prototype.convertToPixel=function(e,t){return Mt(this,"convertToPixel",e,t)},t.prototype.convertFromPixel=function(e,t){return Mt(this,"convertFromPixel",e,t)},t.prototype.containPixel=function(e,t){if(!this._disposed){var n,r=this._model,i=l.pm(r,e);return(0,a.each)(i,(function(e,r){r.indexOf("Models")>=0&&(0,a.each)(e,(function(e){var i=e.coordinateSystem;if(i&&i.containPoint)n=n||!!i.containPoint(t);else if("seriesModels"===r){var a=this._chartsMap[e.__viewId];a&&a.containPoint&&(n=n||a.containPoint(t,e))}else 0}),this)}),this),!!n}Yt(this.id)},t.prototype.getVisual=function(e,t){var n=this._model,r=l.pm(n,e,{defaultMainType:"series"});var i=r.seriesModel.getData(),a=r.hasOwnProperty("dataIndexInside")?r.dataIndexInside:r.hasOwnProperty("dataIndex")?i.indexOfRawIndex(r.dataIndex):null;return null!=a?(0,at.Or)(i,a,t):(0,at.UL)(i,t)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;(0,a.each)(qt,(function(t){var n=function(n){var r,i=e.getModel(),o=n.target;if("globalout"===t?r={}:o&&(0,ct.o)(o,(function(e){var t=(0,ue.A)(e);if(t&&null!=t.dataIndex){var n=t.dataModel||i.getSeriesByIndex(t.seriesIndex);return r=n&&n.getDataParams(t.dataIndex,t.dataType)||{},!0}if(t.eventData)return r=(0,a.extend)({},t.eventData),!0}),!0),r){var s=r.componentType,u=r.componentIndex;"markLine"!==s&&"markPoint"!==s&&"markArea"!==s||(s="series",u=r.seriesIndex);var l=s&&null!=u&&i.getComponent(s,u),c=l&&e["series"===l.mainType?"_chartsMap":"_componentsMap"][l.__viewId];0,r.event=n,r.type=t,e._$eventProcessor.eventInfo={targetEl:o,packedEvent:r,model:l,view:c},e.trigger(t,r)}};n.zrEventfulCallAtLast=!0,e._zr.on(t,n,e)})),(0,a.each)(Qt,(function(t,n){e._messageCenter.on(n,(function(e){this.trigger(n,e)}),e)})),(0,a.each)(["selectchanged"],(function(t){e._messageCenter.on(t,(function(e){this.trigger(t,e)}),e)})),(0,st.s)(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){this._disposed?Yt(this.id):this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed)Yt(this.id);else{this._disposed=!0,this.getDom()&&l.P$(this.getDom(),un,"");var e=this,t=e._api,n=e._model;(0,a.each)(e._componentsViews,(function(e){e.dispose(n,t)})),(0,a.each)(e._chartsViews,(function(e){e.dispose(n,t)})),e._zr.dispose(),e._dom=e._model=e._chartsMap=e._componentsMap=e._chartsViews=e._componentsViews=e._scheduler=e._api=e._zr=e._throttledZrFlush=e._theme=e._coordSysMgr=e._messageCenter=null,delete rn[e.id]}},t.prototype.resize=function(e){if(!this.__flagInMainProcess)if(this._disposed)Yt(this.id);else{this._zr.resize(e);var t=this._model;if(this._loadingFX&&this._loadingFX.resize(),t){var n=t.resetOption("media"),r=e&&e.silent;this.__pendingUpdate&&(null==r&&(r=this.__pendingUpdate.silent),n=!0,this.__pendingUpdate=null),this.__flagInMainProcess=!0;try{n&&Dt(this),At.update.call(this,{type:"resize",animation:(0,a.extend)({duration:0},e&&e.animation)})}catch(i){throw this.__flagInMainProcess=!1,i}this.__flagInMainProcess=!1,Rt.call(this,r),Pt.call(this,r)}}},t.prototype.showLoading=function(e,t){if(this._disposed)Yt(this.id);else if((0,a.isObject)(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),nn[e]){var n=nn[e](this._api,t),r=this._zr;this._loadingFX=n,r.add(n)}},t.prototype.hideLoading=function(){this._disposed?Yt(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},t.prototype.makeActionFromEvent=function(e){var t=(0,a.extend)({},e);return t.type=Qt[e.type],t},t.prototype.dispatchAction=function(e,t){if(this._disposed)Yt(this.id);else if((0,a.isObject)(t)||(t={silent:!!t}),Kt[e.type]&&this._model)if(this.__flagInMainProcess)this._pendingActions.push(e);else{var n=t.silent;Nt.call(this,e,n);var r=t.flush;r?this._zr.flush():!1!==r&&o.Z.browser.weChat&&this._throttledZrFlush(),Rt.call(this,n),Pt.call(this,n)}},t.prototype.updateLabelLayout=function(){ft.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed)Yt(this.id);else{var t=e.seriesIndex;0,this.getModel().getSeriesByIndex(t).appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},t.internalField=function(){function e(e){e.clearColorPalette(),e.eachSeries((function(e){e.clearColorPalette()}))}function t(e){for(var t=[],n=e.currentStates,r=0;r<n.length;r++){var i=n[r];"emphasis"!==i&&"blur"!==i&&"select"!==i&&t.push(i)}e.selected&&e.states.select&&t.push("select"),e.hoverState===le.wU&&e.states.emphasis?t.push("emphasis"):e.hoverState===le.CX&&e.states.blur&&t.push("blur"),e.useStates(t)}function n(e,t){if(!e.preventAutoZ){var n=e.get("z")||0,r=e.get("zlevel")||0;t.eachRendered((function(e){return i(e,n,r,-1/0),!0}))}}function i(e,t,n,r){var a=e.getTextContent(),o=e.getTextGuideLine();if(e.isGroup)for(var s=e.childrenRef(),u=0;u<s.length;u++)r=Math.max(i(s[u],t,n,r),r);else e.z=t,e.zlevel=n,r=Math.max(e.z2,r);if(a&&(a.z=t,a.zlevel=n,isFinite(r)&&(a.z2=r+2)),o){var l=e.textGuideLineConfig;o.z=t,o.zlevel=n,isFinite(r)&&(o.z2=r+(l&&l.showAbove?1:-1))}return r}function u(e,t){t.eachRendered((function(e){if(!oe.eq(e)){var t=e.getTextContent(),n=e.getTextGuideLine();e.stateTransition&&(e.stateTransition=null),t&&t.stateTransition&&(t.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),e.hasState()?(e.prevStates=e.currentStates,e.clearStates()):e.prevStates&&(e.prevStates=null)}}))}function c(e,n){var r=e.getModel("stateAnimation"),i=e.isAnimationEnabled(),a=r.get("duration"),o=a>0?{duration:a,delay:r.get("delay"),easing:r.get("easing")}:null;n.eachRendered((function(e){if(e.states&&e.states.emphasis){if(oe.eq(e))return;if(e instanceof se.ZP&&(0,le.e9)(e),e.__dirty){var n=e.prevStates;n&&e.useStates(n)}if(i){e.stateTransition=o;var r=e.getTextContent(),a=e.getTextGuideLine();r&&(r.stateTransition=o),a&&(a.stateTransition=o)}e.__dirty&&t(e)}}))}Dt=function(e){var t=e._scheduler;t.restorePipelines(e._model),t.prepareStageTasks(),Tt(e,!0),Tt(e,!1),t.plan()},Tt=function(e,t){for(var n=e._model,r=e._scheduler,i=t?e._componentsViews:e._chartsViews,a=t?e._componentsMap:e._chartsMap,o=e._zr,s=e._api,u=0;u<i.length;u++)i[u].__alive=!1;function l(e){var u=e.__requireNewView;e.__requireNewView=!1;var l="_ec_"+e.id+"_"+e.type,c=!u&&a[l];if(!c){var d=(0,$e.u9)(e.type);0,(c=new(t?ne.Z.getClass(d.main,d.sub):re.Z.getClass(d.sub))).init(n,s),a[l]=c,i.push(c),o.add(c.group)}e.__viewId=c.__id=l,c.__alive=!0,c.__model=e,c.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex},!t&&r.prepareView(c,e,n,s)}t?n.eachComponent((function(e,t){"series"!==e&&l(t)})):n.eachSeries(l);for(u=0;u<i.length;){var c=i[u];c.__alive?u++:(!t&&c.renderTask.dispose(),o.remove(c.group),c.dispose(n,s),i.splice(u,1),a[c.__id]===c&&delete a[c.__id],c.__id=c.group.__ecComponentInfo=null)}},It=function(e,t,n,r,i){var o=e._model;if(o.setUpdatePayload(n),r){var s={};s[r+"Id"]=n[r+"Id"],s[r+"Index"]=n[r+"Index"],s[r+"Name"]=n[r+"Name"];var u={mainType:r,query:s};i&&(u.subType=i);var c,d=n.excludeSeriesId;null!=d&&(c=(0,a.createHashMap)(),(0,a.each)(l.kF(d),(function(e){var t=l.U5(e,null);null!=t&&c.set(t,!0)}))),o&&o.eachComponent(u,(function(t){if(!(c&&null!==c.get(t.id)))if((0,le.xp)(n))if(t instanceof te.Z)n.type!==le.Ki||n.notBlur||t.get(["emphasis","disabled"])||(0,le.UL)(t,n,e._api);else{var r=(0,le.oJ)(t.mainType,t.componentIndex,n.name,e._api),i=r.focusSelf,o=r.dispatchers;n.type===le.Ki&&i&&!n.notBlur&&(0,le.zI)(t.mainType,t.componentIndex,e._api),o&&(0,a.each)(o,(function(e){n.type===le.Ki?(0,le.fD)(e):(0,le.Mh)(e)}))}else(0,le.aG)(n)&&t instanceof te.Z&&((0,le.og)(t,n,e._api),(0,le.ci)(t),jt(e))}),e),o&&o.eachComponent(u,(function(t){c&&null!==c.get(t.id)||f(e["series"===r?"_chartsMap":"_componentsMap"][t.__viewId])}),e)}else(0,a.each)([].concat(e._componentsViews).concat(e._chartsViews),f);function f(r){r&&r.__alive&&r[t]&&r[t](r.__model,o,e._api,n)}},At={prepareAndUpdate:function(e){Dt(this),At.update.call(this,e,{optionChanged:null!=e.newOption})},update:function(t,n){var r=this._model,i=this._api,a=this._zr,o=this._coordSysMgr,s=this._scheduler;if(r){r.setUpdatePayload(t),s.restoreData(r,t),s.performSeriesTasks(r),o.create(r,i),s.performDataProcessorTasks(r,t),Et(this,r),o.update(r,i),e(r),s.performVisualTasks(r,t),Ft(this,r,i,t,n);var u=r.get("backgroundColor")||"transparent",l=r.get("darkMode");a.setBackgroundColor(u),null!=l&&"auto"!==l&&a.setDarkMode(l),ft.trigger("afterupdate",r,i)}},updateTransform:function(t){var n=this,r=this._model,i=this._api;if(r){r.setUpdatePayload(t);var o=[];r.eachComponent((function(e,a){if("series"!==e){var s=n.getViewOfComponentModel(a);if(s&&s.__alive)if(s.updateTransform){var u=s.updateTransform(a,r,i,t);u&&u.update&&o.push(s)}else o.push(s)}}));var s=(0,a.createHashMap)();r.eachSeries((function(e){var a=n._chartsMap[e.__viewId];if(a.updateTransform){var o=a.updateTransform(e,r,i,t);o&&o.update&&s.set(e.uid,1)}else s.set(e.uid,1)})),e(r),this._scheduler.performVisualTasks(r,t,{setDirty:!0,dirtyMap:s}),Bt(this,r,i,t,{},s),ft.trigger("afterupdate",r,i)}},updateView:function(t){var n=this._model;n&&(n.setUpdatePayload(t),re.Z.markUpdateMethod(t,"updateView"),e(n),this._scheduler.performVisualTasks(n,t,{setDirty:!0}),Ft(this,n,this._api,t,{}),ft.trigger("afterupdate",n,this._api))},updateVisual:function(t){var n=this,r=this._model;r&&(r.setUpdatePayload(t),r.eachSeries((function(e){e.getData().clearAllVisual()})),re.Z.markUpdateMethod(t,"updateVisual"),e(r),this._scheduler.performVisualTasks(r,t,{visualType:"visual",setDirty:!0}),r.eachComponent((function(e,i){if("series"!==e){var a=n.getViewOfComponentModel(i);a&&a.__alive&&a.updateVisual(i,r,n._api,t)}})),r.eachSeries((function(e){n._chartsMap[e.__viewId].updateVisual(e,r,n._api,t)})),ft.trigger("afterupdate",r,this._api))},updateLayout:function(e){At.update.call(this,e)}},Mt=function(e,t,n,r){if(e._disposed)Yt(e.id);else{for(var i,a=e._model,o=e._coordSysMgr.getCoordinateSystems(),s=l.pm(a,n),u=0;u<o.length;u++){var c=o[u];if(c[t]&&null!=(i=c[t](a,s,r)))return i}0}},Et=function(e,t){var n=e._chartsMap,r=e._scheduler;t.eachSeries((function(e){r.updateStreamModes(e,n[e.__viewId])}))},Nt=function(e,t){var n=this,r=this.getModel(),i=e.type,o=e.escapeConnect,s=Kt[i],u=s.actionInfo,c=(u.update||"update").split(":"),d=c.pop(),f=null!=c[0]&&(0,$e.u9)(c[0]);this.__flagInMainProcess=!0;var h=[e],p=!1;e.batch&&(p=!0,h=(0,a.map)(e.batch,(function(t){return(t=(0,a.defaults)((0,a.extend)({},t),e)).batch=null,t})));var m,g=[],v=(0,le.aG)(e),y=(0,le.xp)(e);if(y&&(0,le.T5)(this._api),(0,a.each)(h,(function(t){if((m=(m=s.action(t,n._model,n._api))||(0,a.extend)({},t)).type=u.event||m.type,g.push(m),y){var r=l.zH(e),i=r.queryOptionMap,o=r.mainTypeSpecified?i.keys()[0]:"series";It(n,d,t,o),jt(n)}else v?(It(n,d,t,"series"),jt(n)):f&&It(n,d,t,f.main,f.sub)})),"none"!==d&&!y&&!v&&!f)try{this.__pendingUpdate?(Dt(this),At.update.call(this,e),this.__pendingUpdate=null):At[d].call(this,e)}catch(w){throw this.__flagInMainProcess=!1,w}if(m=p?{type:u.event||i,escapeConnect:o,batch:g}:g[0],this.__flagInMainProcess=!1,!t){var x=this._messageCenter;if(x.trigger(m.type,m),v){var b={type:"selectchanged",escapeConnect:o,selected:(0,le.C5)(r),isFromClick:e.isFromClick||!1,fromAction:e.type,fromActionPayload:e};x.trigger(b.type,b)}}},Rt=function(e){for(var t=this._pendingActions;t.length;){var n=t.shift();Nt.call(this,n,e)}},Pt=function(e){!e&&this.trigger("updated")},Ot=function(e,t){e.on("rendered",(function(n){t.trigger("rendered",n),!e.animation.isFinished()||t.__pendingUpdate||t._scheduler.unfinished||t._pendingActions.length||t.trigger("finished")}))},Lt=function(e,t){e.on("mouseover",(function(e){var n=e.target,r=(0,ct.o)(n,le.Av);r&&((0,le.$l)(r,e,t._api),jt(t))})).on("mouseout",(function(e){var n=e.target,r=(0,ct.o)(n,le.Av);r&&((0,le.xr)(r,e,t._api),jt(t))})).on("click",(function(e){var n=e.target,r=(0,ct.o)(n,(function(e){return null!=(0,ue.A)(e).dataIndex}),!0);if(r){var i=r.selected?"unselect":"select",a=(0,ue.A)(r);t._api.dispatchAction({type:i,dataType:a.dataType,dataIndexInside:a.dataIndex,seriesIndex:a.seriesIndex,isFromClick:!0})}}))},Ft=function(e,t,n,r,i){!function(e){var t=[],n=[],r=!1;if(e.eachComponent((function(e,i){var a=i.get("zlevel")||0,o=i.get("z")||0,s=i.getZLevelKey();r=r||!!s,("series"===e?n:t).push({zlevel:a,z:o,idx:i.componentIndex,type:e,key:s})})),r){var i,o,u=t.concat(n);(0,s.Z)(u,(function(e,t){return e.zlevel===t.zlevel?e.z-t.z:e.zlevel-t.zlevel})),(0,a.each)(u,(function(t){var n=e.getComponent(t.type,t.idx),r=t.zlevel,a=t.key;null!=i&&(r=Math.max(i,r)),a?(r===i&&a!==o&&r++,o=a):o&&(r===i&&r++,o=""),i=r,n.setZLevel(r)}))}}(t),Zt(e,t,n,r,i),(0,a.each)(e._chartsViews,(function(e){e.__alive=!1})),Bt(e,t,n,r,i),(0,a.each)(e._chartsViews,(function(e){e.__alive||e.remove(t,n)}))},Zt=function(e,t,r,i,o,s){(0,a.each)(s||e._componentsViews,(function(e){var a=e.__model;u(a,e),e.render(a,t,r,i),n(a,e),c(a,e)}))},Bt=function(e,t,r,i,s,l){var d=e._scheduler;s=(0,a.extend)(s||{},{updatedSeries:t.getSeries()}),ft.trigger("series:beforeupdate",t,r,s);var f=!1;t.eachSeries((function(t){var n=e._chartsMap[t.__viewId];n.__alive=!0;var r=n.renderTask;d.updatePayload(r,i),u(t,n),l&&l.get(t.uid)&&r.dirty(),r.perform(d.getPerformArgs(r))&&(f=!0),n.group.silent=!!t.get("silent"),function(e,t){var n=e.get("blendMode")||null;t.eachRendered((function(e){e.isGroup||(e.style.blend=n)}))}(t,n),(0,le.ci)(t)})),d.unfinished=f||d.unfinished,ft.trigger("series:layoutlabels",t,r,s),ft.trigger("series:transition",t,r,s),t.eachSeries((function(t){var r=e._chartsMap[t.__viewId];n(t,r),c(t,r)})),function(e,t){var n=e._zr.storage,r=0;n.traverse((function(e){e.isGroup||r++})),r>t.get("hoverLayerThreshold")&&!o.Z.node&&!o.Z.worker&&t.eachSeries((function(t){if(!t.preventUsingHoverLayer){var n=e._chartsMap[t.__viewId];n.__alive&&n.eachRendered((function(e){e.states.emphasis&&(e.states.emphasis.hoverLayer=!0)}))}}))}(e,t),ft.trigger("series:afterupdate",t,r,s)},jt=function(e){e.__needsUpdateStatus=!0,e.getZr().wakeUp()},Wt=function(e){e.__needsUpdateStatus&&(e.getZr().storage.traverse((function(e){oe.eq(e)||t(e)})),e.__needsUpdateStatus=!1)},zt=function(e){return new(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(n,t),n.prototype.getCoordinateSystems=function(){return e._coordSysMgr.getCoordinateSystems()},n.prototype.getComponentByElement=function(t){for(;t;){var n=t.__ecComponentInfo;if(null!=n)return e._model.getComponent(n.mainType,n.index);t=t.parent}},n.prototype.enterEmphasis=function(t,n){(0,le.fD)(t,n),jt(e)},n.prototype.leaveEmphasis=function(t,n){(0,le.Mh)(t,n),jt(e)},n.prototype.enterBlur=function(t){(0,le.SX)(t),jt(e)},n.prototype.leaveBlur=function(t){(0,le.VP)(t),jt(e)},n.prototype.enterSelect=function(t){(0,le.XX)(t),jt(e)},n.prototype.leaveSelect=function(t){(0,le.SJ)(t),jt(e)},n.prototype.getModel=function(){return e.getModel()},n.prototype.getViewOfComponentModel=function(t){return e.getViewOfComponentModel(t)},n.prototype.getViewOfSeriesModel=function(t){return e.getViewOfSeriesModel(t)},n}(T))(e)},Vt=function(e){function t(e,t){for(var n=0;n<e.length;n++){e[n][_t]=t}}(0,a.each)(Qt,(function(n,r){e._messageCenter.on(r,(function(n){if(an[e.group]&&0!==e[_t]){if(n&&n.escapeConnect)return;var r=e.makeActionFromEvent(n),i=[];(0,a.each)(rn,(function(t){t!==e&&t.group===e.group&&i.push(t)})),t(i,0),(0,a.each)(i,(function(e){1!==e[_t]&&e.dispatchAction(r)})),t(i,2)}}))}))}}(),t}(u.Z),Xt=Gt.prototype;Xt.on=St("on"),Xt.off=St("off"),Xt.one=function(e,t,n){var r=this;(0,ot.Sh)("ECharts#one is deprecated."),this.on.call(this,e,(function n(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];t&&t.apply&&t.apply(this,i),r.off(e,n)}),n)};var qt=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function Yt(e){0}var Kt={},Qt={},Jt=[],$t=[],en=[],tn={},nn={},rn={},an={},on=+new Date-0,sn=+new Date-0,un="_echarts_instance_";function ln(e,t,n){var r=!(n&&n.ssr);if(r){0;var i=pn(e);if(i)return i;0}var a=new Gt(e,t,n);return a.id="ec_"+on++,rn[a.id]=a,r&&l.P$(e,un,a.id),Vt(a),ft.trigger("afterinit",a),a}function cn(e){if((0,a.isArray)(e)){var t=e;e=null,(0,a.each)(t,(function(t){null!=t.group&&(e=t.group)})),e=e||"g_"+sn++,(0,a.each)(t,(function(t){t.group=e}))}return an[e]=!0,e}function dn(e){an[e]=!1}var fn=dn;function hn(e){(0,a.isString)(e)?e=rn[e]:e instanceof Gt||(e=pn(e)),e instanceof Gt&&!e.isDisposed()&&e.dispose()}function pn(e){return rn[l.IL(e,un)]}function mn(e){return rn[e]}function gn(e,t){tn[e]=t}function vn(e){(0,a.indexOf)($t,e)<0&&$t.push(e)}function yn(e,t){In(Jt,e,t,2e3)}function xn(e){wn("afterinit",e)}function bn(e){wn("afterupdate",e)}function wn(e,t){ft.on(e,t)}function _n(e,t,n){(0,a.isFunction)(t)&&(n=t,t="");var r=(0,a.isObject)(e)?e.type:[e,e={event:t}][0];e.event=(e.event||r).toLowerCase(),t=e.event,Qt[t]||((0,a.assert)(wt.test(r)&&wt.test(t)),Kt[r]||(Kt[r]={action:n,actionInfo:e}),Qt[t]=r)}function Sn(e,t){I.Z.register(e,t)}function Cn(e){var t=I.Z.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function kn(e,t){In(en,e,t,1e3,"layout")}function Dn(e,t){In(en,e,t,3e3,"visual")}var Tn=[];function In(e,t,n,r,i){if(((0,a.isFunction)(t)||(0,a.isObject)(t))&&(n=t,t=r),!((0,a.indexOf)(Tn,n)>=0)){Tn.push(n);var o=Ue.wrapStageHandler(n,i);o.__prio=t,o.__raw=n,e.push(o)}}function An(e,t){nn[e]=t}function Mn(e){(0,ht.g2)({createCanvas:e})}function En(e,t,n){var r=(0,pt.C)("registerMap");r&&r(e,t,n)}function Nn(e){var t=(0,pt.C)("getMap");return t&&t(e)}var Rn=ut.DA;Dn(yt,xe),Dn(xt,we),Dn(xt,_e),Dn(yt,rt),Dn(xt,it),Dn(7e3,(function(e,t){e.eachRawSeries((function(n){if(!e.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each((function(e){var n=r.getItemVisual(e,"decal");n&&(r.ensureUniqueItemVisual(e,"style").decal=(0,dt.I)(n,t))}));var i=r.getVisual("decal");if(i)r.getVisual("style").decal=(0,dt.I)(i,t)}}))})),vn(J),yn(900,(function(e){var t=(0,a.createHashMap)();e.eachSeries((function(e){var n=e.get("stack");if(n){var r=t.get(n)||t.set(n,[]),i=e.getData(),a={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:e};if(!a.stackedDimension||!a.isStackedByIndex&&!a.stackedByDimension)return;r.length&&i.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(a)}})),t.each(ee)})),An("default",(function(e,t){t=t||{},a.defaults(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new Se.Z,r=new ie.Z({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(r);var i,o=new Ce.ZP({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),s=new ie.Z({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});return n.add(s),t.showSpinner&&((i=new ke.Z({shape:{startAngle:-De/2,endAngle:-De/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*De/2}).start("circularInOut"),i.animateShape(!0).when(1e3,{startAngle:3*De/2}).delay(300).start("circularInOut"),n.add(i)),n.resize=function(){var n=o.getBoundingRect().width,a=t.showSpinner?t.spinnerRadius:0,u=(e.getWidth()-2*a-(t.showSpinner&&n?10:0)-n)/2-(t.showSpinner&&n?0:5+n/2)+(t.showSpinner?0:n/2)+(n?0:a),l=e.getHeight()/2;t.showSpinner&&i.setShape({cx:u,cy:l}),s.setShape({x:u-a,y:l-a,width:2*a,height:2*a}),r.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n})),_n({type:le.Ki,event:le.Ki,update:le.Ki},a.noop),_n({type:le.yx,event:le.yx,update:le.yx},a.noop),_n({type:le.Hg,event:le.Hg,update:le.Hg},a.noop),_n({type:le.JQ,event:le.JQ,update:le.JQ},a.noop),_n({type:le.iK,event:le.iK,update:le.iK},a.noop),gn("light",Ge),gn("dark",Je);var Pn={}},68503:function(e,t,n){"use strict";n.d(t,{C:function(){return a},M:function(){return i}});var r={};function i(e,t){r[e]=t}function a(e){return r[e]}},7334:function(e,t,n){"use strict";n.d(t,{sO:function(){return d},D0:function(){return h},Li:function(){return m},G8:function(){return p},I2:function(){return f}});var r=n(81149),i=n(71118),a=n(76884),o="ZH",s="EN",u=s,l={},c={},d=i.Z.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf(o)>-1?o:u;function f(e,t){e=e.toUpperCase(),c[e]=new r.Z(t),l[e]=t}function h(e){if((0,a.isString)(e)){var t=l[e.toUpperCase()]||{};return e===o||e===s?(0,a.clone)(t):(0,a.merge)((0,a.clone)(t),(0,a.clone)(l.EN),!1)}return(0,a.merge)((0,a.clone)(e),(0,a.clone)(l.EN),!1)}function p(e){return c[e]}function m(){return c.EN}f(s,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),f(o,{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}})},6011:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});var r=n(76884);function i(e){return new a(e)}var a=function(){function e(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return e.prototype.perform=function(e){var t,n=this._upstream,i=e&&e.skip;if(this._dirty&&n){var a=this.context;a.data=a.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(t=this._plan(this.context));var o,s=d(this._modBy),u=this._modDataCount||0,l=d(e&&e.modBy),c=e&&e.modDataCount||0;function d(e){return!(e>=1)&&(e=1),e}s===l&&u===c||(t="reset"),(this._dirty||"reset"===t)&&(this._dirty=!1,o=this._doReset(i)),this._modBy=l,this._modDataCount=c;var f=e&&e.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,p=Math.min(null!=f?this._dueIndex+f:1/0,this._dueEnd);if(!i&&(o||h<p)){var m=this._progress;if((0,r.isArray)(m))for(var g=0;g<m.length;g++)this._doProgress(m[g],h,p,l,c);else this._doProgress(m,h,p,l,c)}this._dueIndex=p;var v=null!=this._settedOutputEnd?this._settedOutputEnd:p;0,this._outputDueEnd=v}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(e,t,n,r,i){o.reset(t,n,r,i),this._callingProgress=e,this._callingProgress({start:t,end:n,count:n-t,next:o.next},this.context)},e.prototype._doReset=function(e){var t,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!e&&this._reset&&((t=this._reset(this.context))&&t.progress&&(n=t.forceFirstProgress,t=t.progress),(0,r.isArray)(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},e}(),o=function(){var e,t,n,r,i,a={reset:function(u,l,c,d){t=u,e=l,n=c,r=d,i=Math.ceil(r/n),a.next=n>1&&r>0?s:o}};return a;function o(){return t<e?t++:null}function s(){var a=t%i*n+Math.ceil(t/i),o=t>=e?null:a<r?a:t;return t++,o}}()},32911:function(e,t){"use strict";function n(e){return null==e?0:e.length||1}function r(e){return e}var i=function(){function e(e,t,n,i,a,o){this._old=e,this._new=t,this._oldKeyGetter=n||r,this._newKeyGetter=i||r,this.context=a,this._diffModeMultiple="multiple"===o}return e.prototype.add=function(e){return this._add=e,this},e.prototype.update=function(e){return this._update=e,this},e.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},e.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},e.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},e.prototype.remove=function(e){return this._remove=e,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var e=this._old,t=this._new,r={},i=new Array(e.length),a=new Array(t.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(t,r,a,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=i[o],u=r[s],l=n(u);if(l>1){var c=u.shift();1===u.length&&(r[s]=u[0]),this._update&&this._update(c,o)}else 1===l?(r[s]=null,this._update&&this._update(u,o)):this._remove&&this._remove(o)}this._performRestAdd(a,r)},e.prototype._executeMultiple=function(){var e=this._old,t=this._new,r={},i={},a=[],o=[];this._initIndexMap(e,r,a,"_oldKeyGetter"),this._initIndexMap(t,i,o,"_newKeyGetter");for(var s=0;s<a.length;s++){var u=a[s],l=r[u],c=i[u],d=n(l),f=n(c);if(d>1&&1===f)this._updateManyToOne&&this._updateManyToOne(c,l),i[u]=null;else if(1===d&&f>1)this._updateOneToMany&&this._updateOneToMany(c,l),i[u]=null;else if(1===d&&1===f)this._update&&this._update(c,l),i[u]=null;else if(d>1&&f>1)this._updateManyToMany&&this._updateManyToMany(c,l),i[u]=null;else if(d>1)for(var h=0;h<d;h++)this._remove&&this._remove(l[h]);else this._remove&&this._remove(l)}this._performRestAdd(o,i)},e.prototype._performRestAdd=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],a=t[i],o=n(a);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(a[s]);else 1===o&&this._add&&this._add(a);t[i]=null}},e.prototype._initIndexMap=function(e,t,r,i){for(var a=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[i](e[o],o);if(a||(r[o]=s),t){var u=t[s],l=n(u);0===l?(t[s]=o,a&&r.push(s)):1===l?t[s]=[u,o]:u.push(o)}}},e}();t.Z=i},57647:function(e,t,n){"use strict";n.d(t,{hG:function(){return c}});var r,i=n(76884),a=n(1233),o=n(93240),s="undefined",u=typeof Uint32Array===s?Array:Uint32Array,l=typeof Uint16Array===s?Array:Uint16Array,c=typeof Int32Array===s?Array:Int32Array,d=typeof Float64Array===s?Array:Float64Array,f={float:d,int:c,ordinal:Array,number:Array,time:d};function h(e){return e>65535?u:l}function p(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function m(e,t,n,r,i){var a=f[n||"float"];if(i){var o=e[t],s=o&&o.length;if(s!==r){for(var u=new a(r),l=0;l<s;l++)u[l]=o[l];e[t]=u}}else e[t]=new a(r)}var g=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=(0,i.createHashMap)()}return e.prototype.initData=function(e,t,n){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var a=e.getSource(),s=this.defaultDimValueGetter=r[a.sourceFormat];this._dimValueGetter=n||s,this._rawExtent=[];(0,o.QY)(a);this._dimensions=(0,i.map)(t,(function(e){return{type:e.type,property:e.property}})),this._initDataFromProvider(0,e.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(e,t){var n=this._calcDimNameToIdx,r=this._dimensions,i=n.get(e);if(null!=i){if(r[i].type===t)return i}else i=r.length;return r[i]={type:t},n.set(e,i),this._chunks[i]=new f[t||"float"](this._rawCount),this._rawExtent[i]=[1/0,-1/0],i},e.prototype.collectOrdinalMeta=function(e,t){var n=this._chunks[e],r=this._dimensions[e],i=this._rawExtent,a=r.ordinalOffset||0,o=n.length;0===a&&(i[e]=[1/0,-1/0]);for(var s=i[e],u=a;u<o;u++){var l=n[u]=t.parseAndCollect(n[u]);isNaN(l)||(s[0]=Math.min(l,s[0]),s[1]=Math.max(l,s[1]))}r.ordinalMeta=t,r.ordinalOffset=o,r.type="ordinal"},e.prototype.getOrdinalMeta=function(e){return this._dimensions[e].ordinalMeta},e.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},e.prototype.appendData=function(e){var t=this._provider,n=this.count();t.appendData(e);var r=t.count();return t.persistent||(r+=n),n<r&&this._initDataFromProvider(n,r,!0),[n,r]},e.prototype.appendValues=function(e,t){for(var n=this._chunks,i=this._dimensions,a=i.length,o=this._rawExtent,s=this.count(),u=s+Math.max(e.length,t||0),l=0;l<a;l++){m(n,l,(p=i[l]).type,u,!0)}for(var c=[],d=s;d<u;d++)for(var f=d-s,h=0;h<a;h++){var p=i[h],g=r.arrayRows.call(this,e[f]||c,p.property,f,h);n[h][d]=g;var v=o[h];g<v[0]&&(v[0]=g),g>v[1]&&(v[1]=g)}return this._rawCount=this._count=u,{start:s,end:u}},e.prototype._initDataFromProvider=function(e,t,n){for(var r=this._provider,a=this._chunks,o=this._dimensions,s=o.length,u=this._rawExtent,l=(0,i.map)(o,(function(e){return e.property})),c=0;c<s;c++){var d=o[c];u[c]||(u[c]=[1/0,-1/0]),m(a,c,d.type,t,n)}if(r.fillStorage)r.fillStorage(e,t,a,u);else for(var f=[],h=e;h<t;h++){f=r.getItem(h,f);for(var p=0;p<s;p++){var g=a[p],v=this._dimValueGetter(f,l[p],h,p);g[h]=v;var y=u[p];v<y[0]&&(y[0]=v),v>y[1]&&(y[1]=v)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=t,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(t)]:NaN},e.prototype.getValues=function(e,t){var n=[],r=[];if(null==t){t=e,e=[];for(var i=0;i<this._dimensions.length;i++)r.push(i)}else r=e;i=0;for(var a=r.length;i<a;i++)n.push(this.get(r[i],t));return n},e.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var n=this._chunks[e];return n?n[t]:NaN},e.prototype.getSum=function(e){var t=0;if(this._chunks[e])for(var n=0,r=this.count();n<r;n++){var i=this.get(e,n);isNaN(i)||(t+=i)}return t},e.prototype.getMedian=function(e){var t=[];this.each([e],(function(e){isNaN(e)||t.push(e)}));var n=t.sort((function(e,t){return e-t})),r=this.count();return 0===r?0:r%2===1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},e.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,n=t[e];if(null!=n&&n<this._count&&n===e)return e;for(var r=0,i=this._count-1;r<=i;){var a=(r+i)/2|0;if(t[a]<e)r=a+1;else{if(!(t[a]>e))return a;i=a-1}}return-1},e.prototype.indicesOfNearest=function(e,t,n){var r=this._chunks[e],i=[];if(!r)return i;null==n&&(n=1/0);for(var a=1/0,o=-1,s=0,u=0,l=this.count();u<l;u++){var c=t-r[this.getRawIndex(u)],d=Math.abs(c);d<=n&&((d<a||d===a&&c>=0&&o<0)&&(a=d,o=c,s=0),c===o&&(i[s++]=u))}return i.length=s,i},e.prototype.getIndices=function(){var e,t=this._indices;if(t){var n=t.constructor,r=this._count;if(n===Array){e=new n(r);for(var i=0;i<r;i++)e[i]=t[i]}else e=new n(t.buffer,0,r)}else{e=new(n=h(this._rawCount))(this.count());for(i=0;i<e.length;i++)e[i]=i}return e},e.prototype.filter=function(e,t){if(!this._count)return this;for(var n=this.clone(),r=n.count(),i=new(h(n._rawCount))(r),a=[],o=e.length,s=0,u=e[0],l=n._chunks,c=0;c<r;c++){var d=void 0,f=n.getRawIndex(c);if(0===o)d=t(c);else if(1===o){d=t(l[u][f],c)}else{for(var p=0;p<o;p++)a[p]=l[e[p]][f];a[p]=c,d=t.apply(null,a)}d&&(i[s++]=f)}return s<r&&(n._indices=i),n._count=s,n._extent=[],n._updateGetRawIdx(),n},e.prototype.selectRange=function(e){var t=this.clone(),n=t._count;if(!n)return this;var r=(0,i.keys)(e),a=r.length;if(!a)return this;var o=t.count(),s=new(h(t._rawCount))(o),u=0,l=r[0],c=e[l][0],d=e[l][1],f=t._chunks,p=!1;if(!t._indices){var m=0;if(1===a){for(var g=f[r[0]],v=0;v<n;v++){((w=g[v])>=c&&w<=d||isNaN(w))&&(s[u++]=m),m++}p=!0}else if(2===a){g=f[r[0]];var y=f[r[1]],x=e[r[1]][0],b=e[r[1]][1];for(v=0;v<n;v++){var w=g[v],_=y[v];(w>=c&&w<=d||isNaN(w))&&(_>=x&&_<=b||isNaN(_))&&(s[u++]=m),m++}p=!0}}if(!p)if(1===a)for(v=0;v<o;v++){var S=t.getRawIndex(v);((w=f[r[0]][S])>=c&&w<=d||isNaN(w))&&(s[u++]=S)}else for(v=0;v<o;v++){for(var C=!0,k=(S=t.getRawIndex(v),0);k<a;k++){var D=r[k];((w=f[D][S])<e[D][0]||w>e[D][1])&&(C=!1)}C&&(s[u++]=t.getRawIndex(v))}return u<o&&(t._indices=s),t._count=u,t._extent=[],t._updateGetRawIdx(),t},e.prototype.map=function(e,t){var n=this.clone(e);return this._updateDims(n,e,t),n},e.prototype.modify=function(e,t){this._updateDims(this,e,t)},e.prototype._updateDims=function(e,t,n){for(var r=e._chunks,i=[],a=t.length,o=e.count(),s=[],u=e._rawExtent,l=0;l<t.length;l++)u[t[l]]=[1/0,-1/0];for(var c=0;c<o;c++){for(var d=e.getRawIndex(c),f=0;f<a;f++)s[f]=r[t[f]][d];s[a]=c;var h=n&&n.apply(null,s);if(null!=h){"object"!==typeof h&&(i[0]=h,h=i);for(l=0;l<h.length;l++){var p=t[l],m=h[l],g=u[p],v=r[p];v&&(v[d]=m),m<g[0]&&(g[0]=m),m>g[1]&&(g[1]=m)}}}},e.prototype.lttbDownSample=function(e,t){var n,r,i,a=this.clone([e],!0),o=a._chunks[e],s=this.count(),u=0,l=Math.floor(1/t),c=this.getRawIndex(0),d=new(h(this._rawCount))(Math.min(2*(Math.ceil(s/l)+2),s));d[u++]=c;for(var f=1;f<s-1;f+=l){for(var p=Math.min(f+l,s-1),m=Math.min(f+2*l,s),g=(m+p)/2,v=0,y=p;y<m;y++){var x=o[D=this.getRawIndex(y)];isNaN(x)||(v+=x)}v/=m-p;var b=f,w=Math.min(f+l,s),_=f-1,S=o[c];n=-1,i=b;var C=-1,k=0;for(y=b;y<w;y++){var D;x=o[D=this.getRawIndex(y)];isNaN(x)?(k++,C<0&&(C=D)):(r=Math.abs((_-g)*(x-S)-(_-y)*(v-S)))>n&&(n=r,i=D)}k>0&&k<w-b&&(d[u++]=Math.min(C,i),i=Math.max(C,i)),d[u++]=i,c=i}return d[u++]=this.getRawIndex(s-1),a._count=u,a._indices=d,a.getRawIndex=this._getRawIdx,a},e.prototype.downSample=function(e,t,n,r){for(var i=this.clone([e],!0),a=i._chunks,o=[],s=Math.floor(1/t),u=a[e],l=this.count(),c=i._rawExtent[e]=[1/0,-1/0],d=new(h(this._rawCount))(Math.ceil(l/s)),f=0,p=0;p<l;p+=s){s>l-p&&(s=l-p,o.length=s);for(var m=0;m<s;m++){var g=this.getRawIndex(p+m);o[m]=u[g]}var v=n(o),y=this.getRawIndex(Math.min(p+r(o,v)||0,l-1));u[y]=v,v<c[0]&&(c[0]=v),v>c[1]&&(c[1]=v),d[f++]=y}return i._count=f,i._indices=d,i._updateGetRawIdx(),i},e.prototype.each=function(e,t){if(this._count)for(var n=e.length,r=this._chunks,i=0,a=this.count();i<a;i++){var o=this.getRawIndex(i);switch(n){case 0:t(i);break;case 1:t(r[e[0]][o],i);break;case 2:t(r[e[0]][o],r[e[1]][o],i);break;default:for(var s=0,u=[];s<n;s++)u[s]=r[e[s]][o];u[s]=i,t.apply(null,u)}}},e.prototype.getDataExtent=function(e){var t=this._chunks[e],n=[1/0,-1/0];if(!t)return n;var r,i=this.count();if(!this._indices)return this._rawExtent[e].slice();if(r=this._extent[e])return r.slice();for(var a=(r=n)[0],o=r[1],s=0;s<i;s++){var u=t[this.getRawIndex(s)];u<a&&(a=u),u>o&&(o=u)}return r=[a,o],this._extent[e]=r,r},e.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var n=[],r=this._chunks,i=0;i<r.length;i++)n.push(r[i][t]);return n},e.prototype.clone=function(t,n){var r=new e,a=this._chunks,o=t&&(0,i.reduce)(t,(function(e,t){return e[t]=!0,e}),{});if(o)for(var s=0;s<a.length;s++)r._chunks[s]=o[s]?p(a[s]):a[s];else r._chunks=a;return this._copyCommonProps(r),n||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},e.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=(0,i.clone)(this._extent),e._rawExtent=(0,i.clone)(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var n=this._indices.length;t=new e(n);for(var r=0;r<n;r++)t[r]=this._indices[r]}else t=new e(this._indices);return t}return null},e.prototype._getRawIdxIdentity=function(e){return e},e.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function e(e,t,n,r){return(0,a.yQ)(e[r],this._dimensions[r])}r={arrayRows:e,objectRows:function(e,t,n,r){return(0,a.yQ)(e[t],this._dimensions[r])},keyedColumns:e,original:function(e,t,n,r){var i=e&&(null==e.value?e:e.value);return(0,a.yQ)(i instanceof Array?i[r]:i,this._dimensions[r])},typedArray:function(e,t,n,r){return e[r]}}}(),e}();t.ZP=g},15719:function(e,t,n){"use strict";var r=n(76884);function i(e){return"_EC_"+e}var a=function(){function e(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(e,t){e=null==e?""+t:""+e;var n=this._nodesMap;if(!n[i(e)]){var r=new o(e,t);return r.hostGraph=this,this.nodes.push(r),n[i(e)]=r,r}},e.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},e.prototype.getNodeById=function(e){return this._nodesMap[i(e)]},e.prototype.addEdge=function(e,t,n){var a=this._nodesMap,u=this._edgesMap;if(r.isNumber(e)&&(e=this.nodes[e]),r.isNumber(t)&&(t=this.nodes[t]),e instanceof o||(e=a[i(e)]),t instanceof o||(t=a[i(t)]),e&&t){var l=e.id+"-"+t.id,c=new s(e,t,n);return c.hostGraph=this,this._directed&&(e.outEdges.push(c),t.inEdges.push(c)),e.edges.push(c),e!==t&&t.edges.push(c),this.edges.push(c),u[l]=c,c}},e.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},e.prototype.getEdge=function(e,t){e instanceof o&&(e=e.id),t instanceof o&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},e.prototype.eachNode=function(e,t){for(var n=this.nodes,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&e.call(t,n[i],i)},e.prototype.eachEdge=function(e,t){for(var n=this.edges,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&e.call(t,n[i],i)},e.prototype.breadthFirstTraverse=function(e,t,n,r){if(t instanceof o||(t=this._nodesMap[i(t)]),t){for(var a="out"===n?"outEdges":"in"===n?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!e.call(r,t,null))for(var u=[t];u.length;){var l=u.shift(),c=l[a];for(s=0;s<c.length;s++){var d=c[s],f=d.node1===l?d.node2:d.node1;if(!f.__visited){if(e.call(r,f,l))return;u.push(f),f.__visited=!0}}}}},e.prototype.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,r=this.edges,i=0,a=n.length;i<a;i++)n[i].dataIndex=-1;for(i=0,a=e.count();i<a;i++)n[e.getRawIndex(i)].dataIndex=i;t.filterSelf((function(e){var n=r[t.getRawIndex(e)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}));for(i=0,a=r.length;i<a;i++)r[i].dataIndex=-1;for(i=0,a=t.count();i<a;i++)r[t.getRawIndex(i)].dataIndex=i},e.prototype.clone=function(){for(var t=new e(this._directed),n=this.nodes,r=this.edges,i=0;i<n.length;i++)t.addNode(n[i].id,n[i].dataIndex);for(i=0;i<r.length;i++){var a=r[i];t.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return t},e}(),o=function(){function e(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==e?"":e,this.dataIndex=null==t?-1:t}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var n=this.edges[t];n.dataIndex<0||(e.edge.push(n.dataIndex),e.node.push(n.node1.dataIndex,n.node2.dataIndex))}return e},e}(),s=function(){function e(e,t,n){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=null==n?-1:n}return e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e}();function u(e,t){return{getValue:function(n){var r=this[e][t];return r.getStore().get(r.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,r)},getVisual:function(n){return this[e][t].getItemVisual(this.dataIndex,n)},setLayout:function(n,r){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}r.mixin(o,u("hostGraph","data")),r.mixin(s,u("hostGraph","edgeData")),t.ZP=a},53447:function(e,t,n){"use strict";var r=n(76884),i=0,a=function(){function e(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++i}return e.createByAxisModel=function(t){var n=t.option,i=n.data,a=i&&(0,r.map)(i,o);return new e({categories:a,needCollect:!a,deduplication:!1!==n.dedplication})},e.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},e.prototype.parseAndCollect=function(e){var t,n=this._needCollect;if(!(0,r.isString)(e)&&!n)return e;if(n&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var i=this._getOrCreateMap();return null==(t=i.get(e))&&(n?(t=this.categories.length,this.categories[t]=e,i.set(e,t)):t=NaN),t},e.prototype._getOrCreateMap=function(){return this._map||(this._map=(0,r.createHashMap)(this.categories))},e}();function o(e){return(0,r.isObject)(e)&&null!=e.value?e.value:e+""}t.Z=a},76495:function(e,t,n){"use strict";var r,i,a,o,s,u,l,c=n(76884),d=n(81149),f=n(32911),h=n(24305),p=n(32670),m=n(79383),g=n(88542),v=n(71169),y=n(37890),x=n(93240),b=n(57647),w=n(26523),_=c.isObject,S=c.map,C="undefined"===typeof Int32Array?Array:Int32Array,k=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],D=["_approximateExtent"],T=function(){function e(e,t){var n;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r=!1;(0,w.bB)(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(r=!0,n=e),n=n||["x","y"];for(var i={},a=[],o={},s=!1,u={},l=0;l<n.length;l++){var d=n[l],f=c.isString(d)?new m.Z({name:d}):d instanceof m.Z?d:new m.Z(d),h=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=h,f.coordDimIndex=0);var p=f.otherDims=f.otherDims||{};a.push(h),i[h]=f,null!=u[h]&&(s=!0),f.createInvertedIndices&&(o[h]=[]),0===p.itemName&&(this._nameDimIdx=l),0===p.itemId&&(this._idDimIdx=l),r&&(f.storeDimIndex=l)}if(this.dimensions=a,this._dimInfos=i,this._initGetDimensionInfo(s),this.hostModel=t,this._invertedIndicesMap=o,this._dimOmitted){var g=this._dimIdxToName=c.createHashMap();c.each(a,(function(e){g.set(i[e].storeDimIndex,e)}))}}return e.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(null==t)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var n=this._dimIdxToName.get(t);if(null!=n)return n;var r=this._schema.getSourceDimension(t);return r?r.name:void 0},e.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(null!=t)return t;if(null==e)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},e.prototype._recognizeDimIndex=function(e){if(c.isNumber(e)||null!=e&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},e.prototype._getStoreDimIndex=function(e){return this.getDimensionIndex(e)},e.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},e.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(e){return t.hasOwnProperty(e)?t[e]:void 0}:function(e){return t[e]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(e,t){var n=this._dimSummary;if(null==t)return n.encodeFirstDimNotExtra[e];var r=n.encode[e];return r?r[t]:null},e.prototype.mapDimensionsAll=function(e){return(this._dimSummary.encode[e]||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(e,t,n){var r,i=this;if(e instanceof b.ZP&&(r=e),!r){var a=this.dimensions,o=(0,x.Ld)(e)||c.isArrayLike(e)?new h.Pl(e,a.length):e;r=new b.ZP;var s=S(a,(function(e){return{type:i._dimInfos[e].type,property:e}}));r.initData(o,s,n)}this._store=r,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,r.count()),this._dimSummary=(0,p.y)(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},e.prototype.appendValues=function(e,t){var n=this._store.appendValues(e,t.length),r=n.start,i=n.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var o=r;o<i;o++){var s=o-r;this._nameList[o]=t[s],a&&l(this,o)}},e.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,n=0;n<t.length;n++){var r=this._dimInfos[t[n]];r.ordinalMeta&&e.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return null==this._idDimIdx&&e.getSource().sourceFormat!==g.J5&&!e.fillStorage},e.prototype._doInit=function(e,t){if(!(e>=t)){var n=this._store.getProvider();this._updateOrdinalMeta();var i=this._nameList,a=this._idList;if(n.getSource().sourceFormat===g.cy&&!n.pure)for(var o=[],s=e;s<t;s++){var u=n.getItem(s,o);if(!this.hasItemOption&&(0,v.Co)(u)&&(this.hasItemOption=!0),u){var c=u.name;null==i[s]&&null!=c&&(i[s]=(0,v.U5)(c,null));var d=u.id;null==a[s]&&null!=d&&(a[s]=(0,v.U5)(d,null))}}if(this._shouldMakeIdFromName())for(s=e;s<t;s++)l(this,s);r(this)}},e.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},e.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},e.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},e.prototype.setCalculationInfo=function(e,t){_(e)?c.extend(this._calculationInfo,e):this._calculationInfo[e]=t},e.prototype.getName=function(e){var t=this.getRawIndex(e),n=this._nameList[t];return null==n&&null!=this._nameDimIdx&&(n=a(this,this._nameDimIdx,t)),null==n&&(n=""),n},e.prototype._getCategory=function(e,t){var n=this._store.get(e,t),r=this._store.getOrdinalMeta(e);return r?r.categories[n]:n},e.prototype.getId=function(e){return i(this,this.getRawIndex(e))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(e,t){var n=this._store,r=this._dimInfos[e];if(r)return n.get(r.storeDimIndex,t)},e.prototype.getByRawIndex=function(e,t){var n=this._store,r=this._dimInfos[e];if(r)return n.getByRawIndex(r.storeDimIndex,t)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},e.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},e.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},e.prototype.getValues=function(e,t){var n=this,r=this._store;return c.isArray(e)?r.getValues(S(e,(function(e){return n._getStoreDimIndex(e)})),t):r.getValues(e)},e.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,n=0,r=t.length;n<r;n++)if(isNaN(this._store.get(t[n],e)))return!1;return!0},e.prototype.indexOfName=function(e){for(var t=0,n=this._store.count();t<n;t++)if(this.getName(t)===e)return t;return-1},e.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},e.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},e.prototype.rawIndexOf=function(e,t){var n=(e&&this._invertedIndicesMap[e])[t];return null==n||isNaN(n)?-1:n},e.prototype.indicesOfNearest=function(e,t,n){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,n)},e.prototype.each=function(e,t,n){c.isFunction(e)&&(n=t,t=e,e=[]);var r=n||this,i=S(o(e),this._getStoreDimIndex,this);this._store.each(i,r?c.bind(t,r):t)},e.prototype.filterSelf=function(e,t,n){c.isFunction(e)&&(n=t,t=e,e=[]);var r=n||this,i=S(o(e),this._getStoreDimIndex,this);return this._store=this._store.filter(i,r?c.bind(t,r):t),this},e.prototype.selectRange=function(e){var t=this,n={},r=c.keys(e),i=[];return c.each(r,(function(r){var a=t._getStoreDimIndex(r);n[a]=e[r],i.push(a)})),this._store=this._store.selectRange(n),this},e.prototype.mapArray=function(e,t,n){c.isFunction(e)&&(n=t,t=e,e=[]),n=n||this;var r=[];return this.each(e,(function(){r.push(t&&t.apply(this,arguments))}),n),r},e.prototype.map=function(e,t,n,r){var i=n||r||this,a=S(o(e),this._getStoreDimIndex,this),s=u(this);return s._store=this._store.map(a,i?c.bind(t,i):t),s},e.prototype.modify=function(e,t,n,r){var i=n||r||this;var a=S(o(e),this._getStoreDimIndex,this);this._store.modify(a,i?c.bind(t,i):t)},e.prototype.downSample=function(e,t,n,r){var i=u(this);return i._store=this._store.downSample(this._getStoreDimIndex(e),t,n,r),i},e.prototype.lttbDownSample=function(e,t){var n=u(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),n},e.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},e.prototype.getItemModel=function(e){var t=this.hostModel,n=this.getRawDataItem(e);return new d.Z(n,t,t&&t.ecModel)},e.prototype.diff=function(e){var t=this;return new f.Z(e?e.getStore().getIndices():[],this.getStore().getIndices(),(function(t){return i(e,t)}),(function(e){return i(t,e)}))},e.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},e.prototype.setVisual=function(e,t){this._visual=this._visual||{},_(e)?c.extend(this._visual,e):this._visual[e]=t},e.prototype.getItemVisual=function(e,t){var n=this._itemVisuals[e],r=n&&n[t];return null==r?this.getVisual(t):r},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(e,t){var n=this._itemVisuals,r=n[e];r||(r=n[e]={});var i=r[t];return null==i&&(i=this.getVisual(t),c.isArray(i)?i=i.slice():_(i)&&(i=c.extend({},i)),r[t]=i),i},e.prototype.setItemVisual=function(e,t,n){var r=this._itemVisuals[e]||{};this._itemVisuals[e]=r,_(t)?c.extend(r,t):r[t]=n},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(e,t){_(e)?c.extend(this._layout,e):this._layout[e]=t},e.prototype.getLayout=function(e){return this._layout[e]},e.prototype.getItemLayout=function(e){return this._itemLayouts[e]},e.prototype.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?c.extend(this._itemLayouts[e]||{},t):t},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(e,t){var n=this.hostModel&&this.hostModel.seriesIndex;(0,y.Q)(n,this.dataType,e,t),this._graphicEls[e]=t},e.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},e.prototype.eachItemGraphicEl=function(e,t){c.each(this._graphicEls,(function(n,r){n&&e&&e.call(t,n,r)}))},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:S(this.dimensions,this._getDimInfo,this),this.hostModel)),s(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(e,t){var n=this[e];c.isFunction(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=n.apply(this,arguments);return t.apply(this,[e].concat(c.slice(arguments)))})},e.internalField=(r=function(e){var t=e._invertedIndicesMap;c.each(t,(function(n,r){var i=e._dimInfos[r],a=i.ordinalMeta,o=e._store;if(a){n=t[r]=new C(a.categories.length);for(var s=0;s<n.length;s++)n[s]=-1;for(s=0;s<o.count();s++)n[o.get(i.storeDimIndex,s)]=s}}))},a=function(e,t,n){return(0,v.U5)(e._getCategory(t,n),null)},i=function(e,t){var n=e._idList[t];return null==n&&null!=e._idDimIdx&&(n=a(e,e._idDimIdx,t)),null==n&&(n="e\0\0"+t),n},o=function(e){return c.isArray(e)||(e=null!=e?[e]:[]),e},u=function(t){var n=new e(t._schema?t._schema:S(t.dimensions,t._getDimInfo,t),t.hostModel);return s(n,t),n},s=function(e,t){c.each(k.concat(t.__wrappedMethods||[]),(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e.__wrappedMethods=t.__wrappedMethods,c.each(D,(function(n){e[n]=c.clone(t[n])})),e._calculationInfo=c.extend({},t._calculationInfo)},void(l=function(e,t){var n=e._nameList,r=e._idList,i=e._nameDimIdx,o=e._idDimIdx,s=n[t],u=r[t];if(null==s&&null!=i&&(n[t]=s=a(e,i,t)),null==u&&null!=o&&(r[t]=u=a(e,o,t)),null==u&&null!=s){var l=e._nameRepeatCount,c=l[s]=(l[s]||0)+1;u=s,c>1&&(u+="__ec__"+c),r[t]=u}})),e}();t.Z=T},79383:function(e,t,n){"use strict";var r=n(76884),i=function(e){this.otherDims={},null!=e&&r.extend(this,e)};t.Z=i},93240:function(e,t,n){"use strict";n.d(t,{Kp:function(){return f},Ld:function(){return u},ML:function(){return d},QY:function(){return m},_P:function(){return l},nx:function(){return c}});var r=n(76884),i=n(88542),a=n(71169),o=n(62770),s=function(e){this.data=e.data||(e.sourceFormat===i.hL?{}:[]),this.sourceFormat=e.sourceFormat||i.RA,this.seriesLayoutBy=e.seriesLayoutBy||i.fY,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var n=0;n<t.length;n++){var r=t[n];null==r.type&&(0,o.u7)(this,n)===o.Dq.Must&&(r.type="ordinal")}};function u(e){return e instanceof s}function l(e,t,n){n=n||f(e);var o=t.seriesLayoutBy,u=function(e,t,n,o,s){var u,l;if(!e)return{dimensionsDefine:h(s),startIndex:l,dimensionsDetectedCount:u};if(t===i.XD){var c=e;"auto"===o||null==o?p((function(e){null!=e&&"-"!==e&&((0,r.isString)(e)?null==l&&(l=1):l=0)}),n,c,10):l=(0,r.isNumber)(o)?o:o?1:0,s||1!==l||(s=[],p((function(e,t){s[t]=null!=e?e+"":""}),n,c,1/0)),u=s?s.length:n===i.Wc?c.length:c[0]?c[0].length:null}else if(t===i.qb)s||(s=function(e){var t,n=0;for(;n<e.length&&!(t=e[n++]););if(t){var i=[];return(0,r.each)(t,(function(e,t){i.push(t)})),i}}(e));else if(t===i.hL)s||(s=[],(0,r.each)(e,(function(e,t){s.push(t)})));else if(t===i.cy){var d=(0,a.C4)(e[0]);u=(0,r.isArray)(d)&&d.length||1}else i.J5;return{startIndex:l,dimensionsDefine:h(s),dimensionsDetectedCount:u}}(e,n,o,t.sourceHeader,t.dimensions);return new s({data:e,sourceFormat:n,seriesLayoutBy:o,dimensionsDefine:u.dimensionsDefine,startIndex:u.startIndex,dimensionsDetectedCount:u.dimensionsDetectedCount,metaRawOption:(0,r.clone)(t)})}function c(e){return new s({data:e,sourceFormat:(0,r.isTypedArray)(e)?i.J5:i.cy})}function d(e){return new s({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:(0,r.clone)(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function f(e){var t=i.RA;if((0,r.isTypedArray)(e))t=i.J5;else if((0,r.isArray)(e)){0===e.length&&(t=i.XD);for(var n=0,a=e.length;n<a;n++){var o=e[n];if(null!=o){if((0,r.isArray)(o)){t=i.XD;break}if((0,r.isObject)(o)){t=i.qb;break}}}}else if((0,r.isObject)(e))for(var s in e)if((0,r.hasOwn)(e,s)&&(0,r.isArrayLike)(e[s])){t=i.hL;break}return t}function h(e){if(e){var t=(0,r.createHashMap)();return(0,r.map)(e,(function(e,n){var i={name:(e=(0,r.isObject)(e)?e:{name:e}).name,displayName:e.displayName,type:e.type};if(null==i.name)return i;i.name+="",null==i.displayName&&(i.displayName=i.name);var a=t.get(i.name);return a?i.name+="-"+a.count++:t.set(i.name,{count:1}),i}))}}function p(e,t,n,r){if(t===i.Wc)for(var a=0;a<n.length&&a<r;a++)e(n[a]?n[a][0]:null,a);else{var o=n[0]||[];for(a=0;a<o.length&&a<r;a++)e(o[a],a)}}function m(e){var t=e.sourceFormat;return t===i.qb||t===i.hL}},26523:function(e,t,n){"use strict";n.d(t,{Eo:function(){return u},Jj:function(){return d},Jl:function(){return f},bB:function(){return l},v5:function(){return c}});var r=n(76884),i=n(71169),a=n(93240),o=(0,i.Yf)(),s={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},u=function(){function e(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=d(this.source)))},e.prototype.getSourceDimensionIndex=function(e){return(0,r.retrieve2)(this._dimNameMap.get(e),-1)},e.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},e.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=(0,a.QY)(this.source),n=!f(e),r="",i=[],o=0,u=0;o<e;o++){var l=void 0,c=void 0,d=void 0,h=this.dimensions[u];if(h&&h.storeDimIndex===o)l=t?h.name:null,c=h.type,d=h.ordinalMeta,u++;else{var p=this.getSourceDimension(o);p&&(l=t?p.name:null,c=p.type)}i.push({property:l,type:c,ordinalMeta:d}),!t||null==l||h&&h.isCalculationCoord||(r+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),r+="$",r+=s[c]||"f",d&&(r+=d.uid),r+="$"}var m=this.source;return{dimensions:i,hash:[m.seriesLayoutBy,m.startIndex,r].join("$$")}},e.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,n=0;t<this._fullDimCount;t++){var r=void 0,i=this.dimensions[n];if(i&&i.storeDimIndex===t)i.isCalculationCoord||(r=i.name),n++;else{var a=this.getSourceDimension(t);a&&(r=a.name)}e.push(r)}return e},e.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function l(e){return e instanceof u}function c(e){for(var t=(0,r.createHashMap)(),n=0;n<(e||[]).length;n++){var i=e[n],a=(0,r.isObject)(i)?i.name:i;null!=a&&null==t.get(a)&&t.set(a,n)}return t}function d(e){var t=o(e);return t.dimNameMap||(t.dimNameMap=c(e.dimensionsDefine))}function f(e){return e>30}},62653:function(e,t,n){"use strict";n.d(t,{Z:function(){return f},q:function(){return d}});var r=n(88542),i=n(79383),a=n(76884),o=n(93240),s=n(57647),u=n(71169),l=n(62770),c=n(26523);function d(e,t){return f(e,t).dimensions}function f(e,t){(0,o.Ld)(e)||(e=(0,o.nx)(e));var n=(t=t||{}).coordDimensions||[],d=t.dimensionsDefine||e.dimensionsDefine||[],f=(0,a.createHashMap)(),p=[],m=function(e,t,n,r){var i=Math.max(e.dimensionsDetectedCount||1,t.length,n.length,r||0);return(0,a.each)(t,(function(e){var t;(0,a.isObject)(e)&&(t=e.dimsDef)&&(i=Math.max(i,t.length))})),i}(e,n,d,t.dimensionsCount),g=t.canOmitUnusedDimensions&&(0,c.Jl)(m),v=d===e.dimensionsDefine,y=v?(0,c.Jj)(e):(0,c.v5)(d),x=t.encodeDefine;!x&&t.encodeDefaulter&&(x=t.encodeDefaulter(e,m));for(var b=(0,a.createHashMap)(x),w=new s.hG(m),_=0;_<w.length;_++)w[_]=-1;function S(e){var t=w[e];if(t<0){var n=d[e],r=(0,a.isObject)(n)?n:{name:n},o=new i.Z,s=r.name;null!=s&&null!=y.get(s)&&(o.name=o.displayName=s),null!=r.type&&(o.type=r.type),null!=r.displayName&&(o.displayName=r.displayName);var u=p.length;return w[e]=u,o.storeDimIndex=e,p.push(o),o}return p[t]}if(!g)for(_=0;_<m;_++)S(_);b.each((function(e,t){var n=(0,u.kF)(e).slice();if(1===n.length&&!(0,a.isString)(n[0])&&n[0]<0)b.set(t,!1);else{var r=b.set(t,[]);(0,a.each)(n,(function(e,n){var i=(0,a.isString)(e)?y.get(e):e;null!=i&&i<m&&(r[n]=i,k(S(i),t,n))}))}}));var C=0;function k(e,t,n){null!=r.f7.get(t)?e.otherDims[t]=n:(e.coordDim=t,e.coordDimIndex=n,f.set(t,!0))}(0,a.each)(n,(function(e){var t,n,r,i;if((0,a.isString)(e))t=e,i={};else{t=(i=e).name;var o=i.ordinalMeta;i.ordinalMeta=null,(i=(0,a.extend)({},i)).ordinalMeta=o,n=i.dimsDef,r=i.otherDims,i.name=i.coordDim=i.coordDimIndex=i.dimsDef=i.otherDims=null}var s=b.get(t);if(!1!==s){if(!(s=(0,u.kF)(s)).length)for(var l=0;l<(n&&n.length||1);l++){for(;C<m&&null!=S(C).coordDim;)C++;C<m&&s.push(C++)}(0,a.each)(s,(function(e,o){var s=S(e);if(v&&null!=i.type&&(s.type=i.type),k((0,a.defaults)(s,i),t,o),null==s.name&&n){var u=n[o];!(0,a.isObject)(u)&&(u={name:u}),s.name=s.displayName=u.name,s.defaultTooltip=u.defaultTooltip}r&&(0,a.defaults)(s.otherDims,r)}))}}));var D=t.generateCoord,T=t.generateCoordCount,I=null!=T;T=D?T||1:0;var A=D||"value";function M(e){null==e.name&&(e.name=e.coordDim)}if(g)(0,a.each)(p,(function(e){M(e)})),p.sort((function(e,t){return e.storeDimIndex-t.storeDimIndex}));else for(var E=0;E<m;E++){var N=S(E);null==N.coordDim&&(N.coordDim=h(A,f,I),N.coordDimIndex=0,(!D||T<=0)&&(N.isExtraCoord=!0),T--),M(N),null!=N.type||(0,l.u7)(e,E)!==l.Dq.Must&&(!N.isExtraCoord||null==N.otherDims.itemName&&null==N.otherDims.seriesName)||(N.type="ordinal")}return function(e){for(var t=(0,a.createHashMap)(),n=0;n<e.length;n++){var r=e[n],i=r.name,o=t.get(i)||0;o>0&&(r.name=i+(o-1)),o++,t.set(i,o)}}(p),new c.Eo({source:e,dimensions:p,fullDimensionCount:m,dimensionOmitted:g})}function h(e,t,n){var r=t.data;if(n||r.hasOwnProperty(e)){for(var i=0;r.hasOwnProperty(e+i);)i++;e+=i}return t.set(e,!0),e}},24305:function(e,t,n){"use strict";n.d(t,{Pl:function(){return f},_j:function(){return m},a:function(){return y},hk:function(){return S},tB:function(){return w}});var r,i,a,o,s,u=n(76884),l=n(71169),c=n(93240),d=n(88542),f=function(){function e(e,t){var n=(0,c.Ld)(e)?e:(0,c.nx)(e);this._source=n;var r=this._data=n.data;n.sourceFormat===d.J5&&(this._offset=0,this._dimSize=t,this._data=r),s(this,r,n)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(e,t){},e.prototype.appendData=function(e){},e.prototype.clean=function(){},e.protoInitialize=function(){var t=e.prototype;t.pure=!1,t.persistent=!0}(),e.internalField=function(){var e;s=function(e,i,a){var s=a.sourceFormat,l=a.seriesLayoutBy,c=a.startIndex,f=a.dimensionsDefine,h=o[_(s,l)];if((0,u.extend)(e,h),s===d.J5)e.getItem=t,e.count=r,e.fillStorage=n;else{var p=m(s,l);e.getItem=(0,u.bind)(p,null,i,c,f);var g=y(s,l);e.count=(0,u.bind)(g,null,i,c,f)}};var t=function(e,t){e-=this._offset,t=t||[];for(var n=this._data,r=this._dimSize,i=r*e,a=0;a<r;a++)t[a]=n[i+a];return t},n=function(e,t,n,r){for(var i=this._data,a=this._dimSize,o=0;o<a;o++){for(var s=r[o],u=null==s[0]?1/0:s[0],l=null==s[1]?-1/0:s[1],c=t-e,d=n[o],f=0;f<c;f++){var h=i[f*a+o];d[e+f]=h,h<u&&(u=h),h>l&&(l=h)}s[0]=u,s[1]=l}},r=function(){return this._data?this._data.length/this._dimSize:0};function i(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}(e={})[d.XD+"_"+d.fY]={pure:!0,appendData:i},e[d.XD+"_"+d.Wc]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[d.qb]={pure:!0,appendData:i},e[d.hL]={pure:!0,appendData:function(e){var t=this._data;(0,u.each)(e,(function(e,n){for(var r=t[n]||(t[n]=[]),i=0;i<(e||[]).length;i++)r.push(e[i])}))}},e[d.cy]={appendData:i},e[d.J5]={persistent:!1,pure:!0,appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}},o=e}(),e}(),h=function(e,t,n,r){return e[r]},p=((r={})[d.XD+"_"+d.fY]=function(e,t,n,r){return e[r+t]},r[d.XD+"_"+d.Wc]=function(e,t,n,r,i){r+=t;for(var a=i||[],o=e,s=0;s<o.length;s++){var u=o[s];a[s]=u?u[r]:null}return a},r[d.qb]=h,r[d.hL]=function(e,t,n,r,i){for(var a=i||[],o=0;o<n.length;o++){0;var s=e[n[o].name];a[o]=s?s[r]:null}return a},r[d.cy]=h,r);function m(e,t){return p[_(e,t)]}var g=function(e,t,n){return e.length},v=((i={})[d.XD+"_"+d.fY]=function(e,t,n){return Math.max(0,e.length-t)},i[d.XD+"_"+d.Wc]=function(e,t,n){var r=e[0];return r?Math.max(0,r.length-t):0},i[d.qb]=g,i[d.hL]=function(e,t,n){var r=e[n[0].name];return r?r.length:0},i[d.cy]=g,i);function y(e,t){return v[_(e,t)]}var x=function(e,t,n){return e[t]},b=((a={})[d.XD]=x,a[d.qb]=function(e,t,n){return e[n]},a[d.hL]=x,a[d.cy]=function(e,t,n){var r=(0,l.C4)(e);return r instanceof Array?r[t]:r},a[d.J5]=x,a);function w(e){return b[e]}function _(e,t){return e===d.XD?e+"_"+t:e}function S(e,t,n){if(e){var r=e.getRawDataItem(t);if(null!=r){var i=e.getStore(),a=i.getSource().sourceFormat;if(null!=n){var o=e.getDimensionIndex(n),s=i.getDimensionProperty(o);return w(a)(r,o,s)}var u=r;return a===d.cy&&(u=(0,l.C4)(r)),u}}}},84239:function(e,t,n){"use strict";n.d(t,{BM:function(){return a},IR:function(){return s},M:function(){return o}});var r=n(76884),i=n(26523);function a(e,t,n){var a,o,s,u=(n=n||{}).byIndex,l=n.stackedCoordDimension;!function(e){return!(0,i.bB)(e.schema)}(t)?(o=t.schema,a=o.dimensions,s=t.store):a=t;var c,d,f,h,p=!(!e||!e.get("stack"));if((0,r.each)(a,(function(e,t){(0,r.isString)(e)&&(a[t]=e={name:e}),p&&!e.isExtraCoord&&(u||c||!e.ordinalMeta||(c=e),d||"ordinal"===e.type||"time"===e.type||l&&l!==e.coordDim||(d=e))})),!d||u||c||(u=!0),d){f="__\0ecstackresult_"+e.id,h="__\0ecstackedover_"+e.id,c&&(c.createInvertedIndices=!0);var m=d.coordDim,g=d.type,v=0;(0,r.each)(a,(function(e){e.coordDim===m&&v++}));var y={name:f,coordDim:m,coordDimIndex:v,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},x={name:h,coordDim:h,coordDimIndex:v+1,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(y.storeDimIndex=s.ensureCalculationDimension(h,g),x.storeDimIndex=s.ensureCalculationDimension(f,g)),o.appendCalculationDimension(y),o.appendCalculationDimension(x)):(a.push(y),a.push(x))}return{stackedDimension:d&&d.name,stackedByDimension:c&&c.name,isStackedByIndex:u,stackedOverDimension:h,stackResultDimension:f}}function o(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function s(e,t){return o(e,t)?e.getCalculationInfo("stackResultDimension"):t}},1233:function(e,t,n){"use strict";n.d(t,{ID:function(){return d},o2:function(){return u},tR:function(){return h},yQ:function(){return o}});var r=n(11671),i=n(76884),a=n(85326);function o(e,t){var n=t&&t.type;return"ordinal"===n?e:("time"!==n||(0,i.isNumber)(e)||null==e||"-"===e||(e=+(0,r.sG)(e)),null==e||""===e?NaN:+e)}var s=(0,i.createHashMap)({number:function(e){return parseFloat(e)},time:function(e){return+(0,r.sG)(e)},trim:function(e){return(0,i.isString)(e)?(0,i.trim)(e):e}});function u(e){return s.get(e)}var l={lt:function(e,t){return e<t},lte:function(e,t){return e<=t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t}},c=function(){function e(e,t){if(!(0,i.isNumber)(t)){0,(0,a._y)("")}this._opFn=l[e],this._rvalFloat=(0,r.FK)(t)}return e.prototype.evaluate=function(e){return(0,i.isNumber)(e)?this._opFn(e,this._rvalFloat):this._opFn((0,r.FK)(e),this._rvalFloat)},e}(),d=function(){function e(e,t){var n="desc"===e;this._resultLT=n?1:-1,null==t&&(t=n?"min":"max"),this._incomparable="min"===t?-1/0:1/0}return e.prototype.evaluate=function(e,t){var n=(0,i.isNumber)(e)?e:(0,r.FK)(e),a=(0,i.isNumber)(t)?t:(0,r.FK)(t),o=isNaN(n),s=isNaN(a);if(o&&(n=this._incomparable),s&&(a=this._incomparable),o&&s){var u=(0,i.isString)(e),l=(0,i.isString)(t);u&&(n=l?e:0),l&&(a=u?t:0)}return n<a?this._resultLT:n>a?-this._resultLT:0},e}(),f=function(){function e(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=(0,r.FK)(t)}return e.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var n=typeof e;n===this._rvalTypeof||"number"!==n&&"number"!==this._rvalTypeof||(t=(0,r.FK)(e)===this._rvalFloat)}return this._isEQ?t:!t},e}();function h(e,t){return"eq"===e||"ne"===e?new f("eq"===e,t):(0,i.hasOwn)(l,e)?new c(e,t):null}},32670:function(e,t,n){"use strict";n.d(t,{T:function(){return u},y:function(){return o}});var r=n(76884),i=n(88542),a=function(){function e(e,t){this._encode=e,this._schema=t}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function o(e,t){var n={},o=n.encode={},u=(0,r.createHashMap)(),l=[],c=[],d={};(0,r.each)(e.dimensions,(function(t){var n,r=e.getDimensionInfo(t),a=r.coordDim;if(a){0;var f=r.coordDimIndex;s(o,a)[f]=t,r.isExtraCoord||(u.set(a,1),"ordinal"!==(n=r.type)&&"time"!==n&&(l[0]=t),s(d,a)[f]=e.getDimensionIndex(r.name)),r.defaultTooltip&&c.push(t)}i.f7.each((function(e,t){var n=s(o,t),i=r.otherDims[t];null!=i&&!1!==i&&(n[i]=r.name)}))}));var f=[],h={};u.each((function(e,t){var n=o[t];h[t]=n[0],f=f.concat(n)})),n.dataDimsOnCoord=f,n.dataDimIndicesOnCoord=(0,r.map)(f,(function(t){return e.getDimensionInfo(t).storeDimIndex})),n.encodeFirstDimNotExtra=h;var p=o.label;p&&p.length&&(l=p.slice());var m=o.tooltip;return m&&m.length?c=m.slice():c.length||(c=l.slice()),o.defaultedLabel=l,o.defaultedTooltip=c,n.userOutput=new a(d,t),n}function s(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function u(e){return"category"===e?"ordinal":"time"===e?"time":"float"}},53684:function(e,t,n){"use strict";var r=n(76884),i=(0,n(71169).Yf)();function a(e,t){if(i(a=this).mainData===a){var n=(0,r.extend)({},i(this).datas);n[this.dataType]=t,c(t,n,e)}else d(t,this.dataType,i(this).mainData,e);var a;return t}function o(e,t){return e.struct&&e.struct.update(),t}function s(e,t){return(0,r.each)(i(t).datas,(function(n,r){n!==t&&d(n.cloneShallow(),r,t,e)})),t}function u(e){var t=i(this).mainData;return null==e||null==t?t:i(t).datas[e]}function l(){var e=i(this).mainData;return null==e?[{data:e}]:(0,r.map)((0,r.keys)(i(e).datas),(function(t){return{type:t,data:i(e).datas[t]}}))}function c(e,t,n){i(e).datas={},(0,r.each)(t,(function(t,r){d(t,r,e,n)}))}function d(e,t,n,r){i(n).datas[t]=e,i(e).mainData=n,e.dataType=t,r.struct&&(e[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=e),e.getLinkedData=u,e.getLinkedDataAll=l}t.Z=function(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,c(t,n,e),(0,r.each)(n,(function(n){(0,r.each)(t.TRANSFERABLE_METHODS,(function(t){n.wrapMethod(t,(0,r.curry)(a,e))}))})),t.wrapMethod("cloneShallow",(0,r.curry)(s,e)),(0,r.each)(t.CHANGABLE_METHODS,(function(n){t.wrapMethod(n,(0,r.curry)(o,e))})),(0,r.assert)(n[t.dataType]===t)}},62770:function(e,t,n){"use strict";n.d(t,{Dq:function(){return o},JT:function(){return f},Ss:function(){return c},Wd:function(){return d},md:function(){return u},pY:function(){return l},u7:function(){return h}});var r=n(71169),i=n(76884),a=n(88542),o={Must:1,Might:2,Not:3},s=(0,r.Yf)();function u(e){s(e).datasetMap=(0,i.createHashMap)()}function l(e,t,n){var r={},a=d(t);if(!a||!e)return r;var o,u,l=[],c=[],f=t.ecModel,h=s(f).datasetMap,p=a.uid+"_"+n.seriesLayoutBy;e=e.slice(),(0,i.each)(e,(function(t,n){var a=(0,i.isObject)(t)?t:e[n]={name:t};"ordinal"===a.type&&null==o&&(o=n,u=v(a)),r[a.name]=[]}));var m=h.get(p)||h.set(p,{categoryWayDim:u,valueWayDim:0});function g(e,t,n){for(var r=0;r<n;r++)e.push(t+r)}function v(e){var t=e.dimsDef;return t?t.length:1}return(0,i.each)(e,(function(e,t){var n=e.name,i=v(e);if(null==o){var a=m.valueWayDim;g(r[n],a,i),g(c,a,i),m.valueWayDim+=i}else if(o===t)g(r[n],0,i),g(l,0,i);else{a=m.categoryWayDim;g(r[n],a,i),g(c,a,i),m.categoryWayDim+=i}})),l.length&&(r.itemName=l),c.length&&(r.seriesName=c),r}function c(e,t,n){var r={};if(!d(e))return r;var s,u=t.sourceFormat,l=t.dimensionsDefine;u!==a.qb&&u!==a.hL||(0,i.each)(l,(function(e,t){"name"===((0,i.isObject)(e)?e.name:e)&&(s=t)}));var c=function(){for(var e={},r={},i=[],a=0,c=Math.min(5,n);a<c;a++){var d=p(t.data,u,t.seriesLayoutBy,l,t.startIndex,a);i.push(d);var f=d===o.Not;if(f&&null==e.v&&a!==s&&(e.v=a),(null==e.n||e.n===e.v||!f&&i[e.n]===o.Not)&&(e.n=a),h(e)&&i[e.n]!==o.Not)return e;f||(d===o.Might&&null==r.v&&a!==s&&(r.v=a),null!=r.n&&r.n!==r.v||(r.n=a))}function h(e){return null!=e.v&&null!=e.n}return h(e)?e:h(r)?r:null}();if(c){r.value=[c.v];var f=null!=s?s:c.n;r.itemName=[f],r.seriesName=[f]}return r}function d(e){if(!e.get("data",!0))return(0,r.HZ)(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},r.C6).models[0]}function f(e){return e.get("transform",!0)||e.get("fromTransformResult",!0)?(0,r.HZ)(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},r.C6).models:[]}function h(e,t){return p(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function p(e,t,n,s,u,l){var c,d,f;if((0,i.isTypedArray)(e))return o.Not;if(s){var h=s[l];(0,i.isObject)(h)?(d=h.name,f=h.type):(0,i.isString)(h)&&(d=h)}if(null!=f)return"ordinal"===f?o.Must:o.Not;if(t===a.XD){var p=e;if(n===a.Wc){for(var m=p[l],g=0;g<(m||[]).length&&g<5;g++)if(null!=(c=S(m[u+g])))return c}else for(g=0;g<p.length&&g<5;g++){var v=p[u+g];if(v&&null!=(c=S(v[l])))return c}}else if(t===a.qb){var y=e;if(!d)return o.Not;for(g=0;g<y.length&&g<5;g++){if((w=y[g])&&null!=(c=S(w[d])))return c}}else if(t===a.hL){var x=e;if(!d)return o.Not;if(!(m=x[d])||(0,i.isTypedArray)(m))return o.Not;for(g=0;g<m.length&&g<5;g++)if(null!=(c=S(m[g])))return c}else if(t===a.cy){var b=e;for(g=0;g<b.length&&g<5;g++){var w=b[g],_=(0,r.C4)(w);if(!(0,i.isArray)(_))return o.Not;if(null!=(c=S(_[l])))return c}}function S(e){var t=(0,i.isString)(e);return null!=e&&isFinite(e)&&""!==e?t?o.Might:o.Not:t&&"-"!==e?o.Must:void 0}return o.Not}},10331:function(e,t,n){"use strict";n.d(t,{U:function(){return c},t:function(){return d}});var r=n(76884),i=n(93240),a=n(88542),o=n(62770),s=n(4385),u=n(57647),l=n(24305),c=function(){function e(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var e,t,n=this._sourceHost,o=this._getUpstreamSourceManagers(),s=!!o.length;if(f(n)){var u=n,l=void 0,c=void 0,d=void 0;if(s){var h=o[0];h.prepareSource(),l=(d=h.getSource()).data,c=d.sourceFormat,t=[h._getVersionSign()]}else l=u.get("data",!0),c=(0,r.isTypedArray)(l)?a.J5:a.cy,t=[];var p=this._getSourceMetaRawOption()||{},m=d&&d.metaRawOption||{},g=(0,r.retrieve2)(p.seriesLayoutBy,m.seriesLayoutBy)||null,v=(0,r.retrieve2)(p.sourceHeader,m.sourceHeader),y=(0,r.retrieve2)(p.dimensions,m.dimensions);e=g!==m.seriesLayoutBy||!!v!==!!m.sourceHeader||y?[(0,i._P)(l,{seriesLayoutBy:g,sourceHeader:v,dimensions:y},c)]:[]}else{var x=n;if(s){var b=this._applyTransform(o);e=b.sourceList,t=b.upstreamSignList}else{var w=x.get("source",!0);e=[(0,i._P)(w,this._getSourceMetaRawOption(),null)],t=[]}}this._setLocalSource(e,t)},e.prototype._applyTransform=function(e){var t,n=this._sourceHost,a=n.get("transform",!0),o=n.get("fromTransformResult",!0);if(null!=o){1!==e.length&&h("")}var u=[],l=[];return(0,r.each)(e,(function(e){e.prepareSource();var t=e.getSource(o||0);null==o||t||h(""),u.push(t),l.push(e._getVersionSign())})),a?t=(0,s.vK)(a,u,{datasetIndex:n.componentIndex}):null!=o&&(t=[(0,i.ML)(u[0])]),{sourceList:t,upstreamSignList:l}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var n=e[t];if(n._isDirty()||this._upstreamSignList[t]!==n._getVersionSign())return!0}},e.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return t},e.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},e.prototype._innerGetDataStore=function(e,t,n){var r=this._storeList,i=r[0];i||(i=r[0]={});var a=i[n];if(!a){var o=this._getUpstreamSourceManagers()[0];f(this._sourceHost)&&o?a=o._innerGetDataStore(e,t,n):(a=new u.ZP).initData(new l.Pl(t,e.length),e),i[n]=a}return a},e.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(f(e)){var t=(0,o.Wd)(e);return t?[t.getSourceManager()]:[]}return(0,r.map)((0,o.JT)(e),(function(e){return e.getSourceManager()}))},e.prototype._getSourceMetaRawOption=function(){var e,t,n,r=this._sourceHost;if(f(r))e=r.get("seriesLayoutBy",!0),t=r.get("sourceHeader",!0),n=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var i=r;e=i.get("seriesLayoutBy",!0),t=i.get("sourceHeader",!0),n=i.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:t,dimensions:n}},e}();function d(e){e.option.transform&&(0,r.setAsPrimitive)(e.option.transform)}function f(e){return"series"===e.mainType}function h(e){throw new Error(e)}},4385:function(e,t,n){"use strict";n.d(t,{DA:function(){return g},vK:function(){return v}});var r=n(88542),i=n(71169),a=n(76884),o=n(24305),s=n(1233),u=n(85326),l=n(93240),c=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(e){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(e){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(e,t){},e.prototype.retrieveValueFromItem=function(e,t){},e.prototype.convertValue=function(e,t){return(0,s.yQ)(e,t)},e}();function d(e){if(!x(e.sourceFormat)){0,(0,u._y)("")}return e.data}function f(e){var t=e.sourceFormat,n=e.data;if(!x(t)){0,(0,u._y)("")}if(t===r.XD){for(var i=[],o=0,s=n.length;o<s;o++)i.push(n[o].slice());return i}if(t===r.qb){for(i=[],o=0,s=n.length;o<s;o++)i.push((0,a.extend)({},n[o]));return i}}function h(e,t,n){if(null!=n)return(0,a.isNumber)(n)||!isNaN(n)&&!(0,a.hasOwn)(t,n)?e[n]:(0,a.hasOwn)(t,n)?t[n]:void 0}function p(e){return(0,a.clone)(e)}var m=(0,a.createHashMap)();function g(e){var t=(e=(0,a.clone)(e)).type;t||(0,u._y)("");var n=t.split(":");2!==n.length&&(0,u._y)("");var r=!1;"echarts"===n[0]&&(t=n[1],r=!0),e.__isBuiltIn=r,m.set(t,e)}function v(e,t,n){var r=(0,i.kF)(e),a=r.length;a||(0,u._y)("");for(var o=0,s=a;o<s;o++){t=y(r[o],t,n,1===a?null:o),o!==s-1&&(t.length=Math.max(t.length,1))}return t}function y(e,t,n,s){t.length||(0,u._y)(""),(0,a.isObject)(e)||(0,u._y)("");var g=e.type,v=m.get(g);v||(0,u._y)("");var y=(0,a.map)(t,(function(e){return function(e,t){var n=new c,i=e.data,s=n.sourceFormat=e.sourceFormat,l=e.startIndex;e.seriesLayoutBy!==r.fY&&(0,u._y)("");var m=[],g={},v=e.dimensionsDefine;if(v)(0,a.each)(v,(function(e,t){var n=e.name,r={index:t,name:n,displayName:e.displayName};m.push(r),null!=n&&((0,a.hasOwn)(g,n)&&(0,u._y)(""),g[n]=r)}));else for(var y=0;y<e.dimensionsDetectedCount;y++)m.push({index:y});var x=(0,o._j)(s,r.fY);t.__isBuiltIn&&(n.getRawDataItem=function(e){return x(i,l,m,e)},n.getRawData=(0,a.bind)(d,null,e)),n.cloneRawData=(0,a.bind)(f,null,e);var b=(0,o.a)(s,r.fY);n.count=(0,a.bind)(b,null,i,l,m);var w=(0,o.tB)(s);n.retrieveValue=function(e,t){var n=x(i,l,m,e);return _(n,t)};var _=n.retrieveValueFromItem=function(e,t){if(null!=e){var n=m[t];return n?w(e,t,n.name):void 0}};return n.getDimensionInfo=(0,a.bind)(h,null,m,g),n.cloneAllDimensionInfo=(0,a.bind)(p,null,m),n}(e,v)})),b=(0,i.kF)(v.transform({upstream:y[0],upstreamList:y,config:(0,a.clone)(e.config)}));return(0,a.map)(b,(function(e,n){var i;(0,a.isObject)(e)||(0,u._y)(""),e.data||(0,u._y)(""),x((0,l.Kp)(e.data))||(0,u._y)("");var o=t[0];if(o&&0===n&&!e.dimensions){var s=o.startIndex;s&&(e.data=o.data.slice(0,s).concat(e.data)),i={seriesLayoutBy:r.fY,sourceHeader:s,dimensions:o.metaRawOption.dimensions}}else i={seriesLayoutBy:r.fY,sourceHeader:0,dimensions:e.dimensions};return(0,l._P)(e.data,i,null)}))}function x(e){return e===r.XD||e===r.qb}},18257:function(e,t,n){"use strict";n.d(t,{RD:function(){return fe.Z},TA:function(){return h.Z},tF:function(){return c.Z},Ir:function(){return d.Z},aV:function(){return p.Z},Hn:function(){return C.Z},Hr:function(){return l.Hr},wJ:function(){return f.Z},$_:function(){return x},$j:function(){return l.$j},Ok:function(){return l.Ok},HO:function(){return l.HO},eU:function(){return l.eU},zP:function(){return l.zP},B9:function(){return l.B9},OB:function(){return de.Z},Zy:function(){return ve},tv:function(){return pe},Sp:function(){return me},Zr:function(){return ge},WU:function(){return s},wL:function(){return l.wL},JE:function(){return l.JE},rp:function(){return l.rp},FU:function(){return l.FU},Q:function(){return o},_y:function(){return r},S1:function(){return l.S1},z$:function(){return he.RV},pI:function(){return g},Rx:function(){return i},Nu:function(){return B.Z},pQ:function(){return B.Z},zl:function(){return l.zl},RS:function(){return l.RS},qR:function(){return l.qR},yn:function(){return l.yn},I2:function(){return l.I2},je:function(){return l.je},sq:function(){return l.sq},Br:function(){return l.Br},ds:function(){return l.ds},Pu:function(){return l.Pu},aW:function(){return l.aW},rV:function(){return l.OB},YK:function(){return l.YK},Og:function(){return l.Og},jQ:function(){return l.jQ},g2:function(){return Z.g2},P2:function(){return b.P2},XV:function(){return a},D$:function(){return F.D},D5:function(){return u},xr:function(){return v},i8:function(){return l.i8},gf:function(){return y},x_:function(){return m}});var r={};n.r(r),n.d(r,{createDimensions:function(){return A.q},createList:function(){return N},createScale:function(){return P},createSymbol:function(){return M.th},createTextStyle:function(){return L},dataStack:function(){return R},enableHoverEmphasis:function(){return E.vF},getECData:function(){return T.A},getLayoutRect:function(){return k.ME},mixinAxisModelCommonMethods:function(){return O}});var i={};n.r(i),n.d(i,{MAX_SAFE_INTEGER:function(){return z.YM},asc:function(){return z.dt},getPercentWithPrecision:function(){return z.eJ},getPixelPrecision:function(){return z.M9},getPrecision:function(){return z.p8},getPrecisionSafe:function(){return z.ZB},isNumeric:function(){return z.kE},isRadianAroundZero:function(){return z.mW},linearMap:function(){return z.NU},nice:function(){return z.kx},numericToNumber:function(){return z.FK},parseDate:function(){return z.sG},quantile:function(){return z.VR},quantity:function(){return z.Xd},quantityExponent:function(){return z.xW},reformIntervals:function(){return z.nR},remRadian:function(){return z.wW},round:function(){return z.NM}});var a={};n.r(a),n.d(a,{format:function(){return V.WU},parse:function(){return z.sG}});var o={};n.r(o),n.d(o,{Arc:function(){return ne.Z},BezierCurve:function(){return te.Z},BoundingRect:function(){return se.Z},Circle:function(){return X.Z},CompoundPath:function(){return ie.Z},Ellipse:function(){return q.Z},Group:function(){return U.Z},Image:function(){return H.ZP},IncrementalDisplayable:function(){return re.Z},Line:function(){return ee.Z},LinearGradient:function(){return ae.Z},Polygon:function(){return Q.Z},Polyline:function(){return J.Z},RadialGradient:function(){return oe.Z},Rect:function(){return $.Z},Ring:function(){return K.Z},Sector:function(){return Y.C},Text:function(){return G.ZP},clipPointsByRect:function(){return j.clipPointsByRect},clipRectByRect:function(){return j.clipRectByRect},createIcon:function(){return j.createIcon},extendPath:function(){return j.extendPath},extendShape:function(){return j.extendShape},getShapeClass:function(){return j.getShapeClass},getTransform:function(){return j.getTransform},initProps:function(){return W.KZ},makeImage:function(){return j.makeImage},makePath:function(){return j.makePath},mergePath:function(){return j.mergePath},registerShape:function(){return j.registerShape},resizePath:function(){return j.resizePath},updateProps:function(){return W.D}});var s={};n.r(s),n.d(s,{addCommas:function(){return ue.OD},capitalFirst:function(){return ue.ew},encodeHTML:function(){return ue.F1},formatTime:function(){return ue.mr},formatTpl:function(){return ue.kF},getTextRect:function(){return ce},getTooltipMarker:function(){return ue.A0},normalizeCssArray:function(){return ue.MY},toCamelCase:function(){return ue.zW},truncateText:function(){return le.aF}});var u={};n.r(u),n.d(u,{bind:function(){return y.bind},clone:function(){return y.clone},curry:function(){return y.curry},defaults:function(){return y.defaults},each:function(){return y.each},extend:function(){return y.extend},filter:function(){return y.filter},indexOf:function(){return y.indexOf},inherits:function(){return y.inherits},isArray:function(){return y.isArray},isFunction:function(){return y.isFunction},isObject:function(){return y.isObject},isString:function(){return y.isString},map:function(){return y.map},merge:function(){return y.merge},reduce:function(){return y.reduce}});var l=n(14913),c=n(62648),d=n(10484),f=n(80654),h=n(52037),p=n(76495),m=n(83338),g=n(21432),v=n(75784),y=n(76884),x=n(35561),b=n(90964),w=n(96106),_=n(32655),S=n(20230),C=n(81149),k=n(72705),D=n(84239),T=n(37890),I=n(8943),A=n(62653),M=n(12438),E=n(60886);function N(e){return(0,w.Z)(null,e)}var R={isDimensionStacked:D.M,enableDataStack:D.BM,getStackedDimension:D.IR};function P(e,t){var n=t;t instanceof C.Z||(n=new C.Z(t));var r=_.aG(n);return r.setExtent(e[0],e[1]),_.Jk(r,n),r}function O(e){y.mixin(e,S.W)}function L(e,t){return t=t||{},(0,I.Lr)(e,null,null,"normal"!==t.state)}var F=n(44357),Z=n(29315),B=n(93265),z=n(11671),V=n(10481),j=n(26871),W=n(33187),U=n(94060),H=n(44046),G=n(56114),X=n(11345),q=n(44446),Y=n(45941),K=n(25366),Q=n(91719),J=n(8509),$=n(60595),ee=n(71768),te=n(2730),ne=n(52620),re=n(37363),ie=n(6748),ae=n(65737),oe=n(85721),se=n(97057),ue=n(51186),le=n(19498);function ce(e,t,n,r,i,a,o,s){return new G.ZP({style:{text:e,font:t,align:n,verticalAlign:r,padding:i,rich:a,overflow:o?"truncate":null,lineHeight:s}}).getBoundingRect()}var de=n(71118),fe=n(93855),he=n(84188);function pe(e){var t=c.Z.extend(e);return c.Z.registerClass(t),t}function me(e){var t=d.Z.extend(e);return d.Z.registerClass(t),t}function ge(e){var t=f.Z.extend(e);return f.Z.registerClass(t),t}function ve(e){var t=h.Z.extend(e);return h.Z.registerClass(t),t}var ye=n(45687);(0,F.D)(ye.T)},44357:function(e,t,n){"use strict";n.d(t,{D:function(){return h}});var r=n(14913),i=n(10484),a=n(52037),o=n(62648),s=n(80654),u=n(76884),l=n(68503),c=n(83338),d=[],f={registerPreprocessor:r.ds,registerProcessor:r.Pu,registerPostInit:r.sq,registerPostUpdate:r.Br,registerUpdateLifecycle:r.YK,registerAction:r.zl,registerCoordinateSystem:r.RS,registerLayout:r.qR,registerVisual:r.Og,registerTransform:r.OB,registerLoading:r.yn,registerMap:r.je,registerImpl:l.M,PRIORITY:r.Hr,ComponentModel:o.Z,ComponentView:i.Z,SeriesModel:s.Z,ChartView:a.Z,registerComponentModel:function(e){o.Z.registerClass(e)},registerComponentView:function(e){i.Z.registerClass(e)},registerSeriesModel:function(e){s.Z.registerClass(e)},registerChartView:function(e){a.Z.registerClass(e)},registerSubTypeDefaulter:function(e,t){o.Z.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){(0,c.registerPainter)(e,t)}};function h(e){(0,u.isArray)(e)?(0,u.each)(e,(function(e){h(e)})):(0,u.indexOf)(d,e)>=0||(d.push(e),(0,u.isFunction)(e)&&(e={install:e}),e.install(f))}},45687:function(e,t,n){"use strict";n.d(t,{T:function(){return S}});var r=n(71169),i=n(97057),a=n(33187),o=n(37890),s=n(11671),u=n(98773),l=n(9168),c=n(76884),d=n(91331),f=n(8943);function h(e){if(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].slice());return t}}function p(e,t){var n=e.label,r=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:h(r&&r.shape.points)}}var m=["align","verticalAlign","width","height","fontSize"],g=new u.ZP,v=(0,r.Yf)(),y=(0,r.Yf)();function x(e,t,n){for(var r=0;r<n.length;r++){var i=n[r];null!=t[i]&&(e[i]=t[i])}}var b=["x","y","rotation"],w=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(e,t,n,r,a){var o=r.style,s=r.__hostTarget.textConfig||{},u=r.getComputedTransform(),l=r.getBoundingRect().plain();i.Z.applyTransform(l,l,u),u?g.setLocalTransform(u):(g.x=g.y=g.rotation=g.originX=g.originY=0,g.scaleX=g.scaleY=1);var c,d=r.__hostTarget;if(d){c=d.getBoundingRect().plain();var f=d.getComputedTransform();i.Z.applyTransform(c,c,f)}var h=c&&d.getTextGuideLine();this._labelList.push({label:r,labelLine:h,seriesModel:n,dataIndex:e,dataType:t,layoutOption:a,computedLayoutOption:null,rect:l,hostRect:c,priority:c?c.width*c.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:h&&h.ignore,x:g.x,y:g.y,scaleX:g.scaleX,scaleY:g.scaleY,rotation:g.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:r.cursor,attachedPos:s.position,attachedRot:s.rotation}})},e.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var n=e.__model,r=n.get("labelLayout");((0,c.isFunction)(r)||(0,c.keys)(r).length)&&e.group.traverse((function(e){if(e.ignore)return!0;var i=e.getTextContent(),a=(0,o.A)(e);i&&!i.disableLabelLayout&&t._addLabel(a.dataIndex,a.dataType,n,i,r)}))},e.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),n=e.getHeight();function r(e,t){return function(){(0,l.d)(e,t)}}for(var i=0;i<this._labelList.length;i++){var a=this._labelList[i],o=a.label,u=o.__hostTarget,d=a.defaultAttr,f=void 0;f=(f=(0,c.isFunction)(a.layoutOption)?a.layoutOption(p(a,u)):a.layoutOption)||{},a.computedLayoutOption=f;var h=Math.PI/180;u&&u.setTextConfig({local:!1,position:null!=f.x||null!=f.y?null:d.attachedPos,rotation:null!=f.rotate?f.rotate*h:d.attachedRot,offset:[f.dx||0,f.dy||0]});var g=!1;if(null!=f.x?(o.x=(0,s.GM)(f.x,t),o.setStyle("x",0),g=!0):(o.x=d.x,o.setStyle("x",d.style.x)),null!=f.y?(o.y=(0,s.GM)(f.y,n),o.setStyle("y",0),g=!0):(o.y=d.y,o.setStyle("y",d.style.y)),f.labelLinePoints){var y=u.getTextGuideLine();y&&(y.setShape({points:f.labelLinePoints}),g=!1)}v(o).needsUpdateLabelLine=g,o.rotation=null!=f.rotate?f.rotate*h:d.rotation,o.scaleX=d.scaleX,o.scaleY=d.scaleY;for(var x=0;x<m.length;x++){var b=m[x];o.setStyle(b,null!=f[b]?f[b]:d.style[b])}if(f.draggable){if(o.draggable=!0,o.cursor="move",u){var w=a.seriesModel;if(null!=a.dataIndex)w=a.seriesModel.getData(a.dataType).getItemModel(a.dataIndex);o.on("drag",r(u,w.getModel("labelLine")))}}else o.off("drag"),o.cursor=d.cursor}},e.prototype.layout=function(e){var t=e.getWidth(),n=e.getHeight(),r=(0,d.VT)(this._labelList),i=(0,c.filter)(r,(function(e){return"shiftX"===e.layoutOption.moveOverlap})),a=(0,c.filter)(r,(function(e){return"shiftY"===e.layoutOption.moveOverlap}));(0,d.WE)(i,0,t),(0,d.GI)(a,0,n);var o=(0,c.filter)(r,(function(e){return e.layoutOption.hideOverlap}));(0,d.yl)(o)},e.prototype.processLabelsOverall=function(){var e=this;(0,c.each)(this._chartViewList,(function(t){var n=t.__model,r=t.ignoreLabelLineUpdate,i=n.isAnimationEnabled();t.group.traverse((function(t){if(t.ignore&&!t.forceLabelAnimation)return!0;var a=!r,o=t.getTextContent();!a&&o&&(a=v(o).needsUpdateLabelLine),a&&e._updateLabelLine(t,n),i&&e._animateLabels(t,n)}))}))},e.prototype._updateLabelLine=function(e,t){var n=e.getTextContent(),r=(0,o.A)(e),i=r.dataIndex;if(n&&null!=i){var a=t.getData(r.dataType),s=a.getItemModel(i),u={},c=a.getItemVisual(i,"style"),d=a.getVisual("drawType");u.stroke=c[d];var f=s.getModel("labelLine");(0,l.Iu)(e,(0,l.$x)(s),u),(0,l.d)(e,f)}},e.prototype._animateLabels=function(e,t){var n=e.getTextContent(),r=e.getTextGuideLine();if(n&&(e.forceLabelAnimation||!n.ignore&&!n.invisible&&!e.disableLabelAnimation&&!(0,a.eq)(e))){var i=(w=v(n)).oldLayout,s=(0,o.A)(e),u=s.dataIndex,l={x:n.x,y:n.y,rotation:n.rotation},d=t.getData(s.dataType);if(i){n.attr(i);var h=e.prevStates;h&&((0,c.indexOf)(h,"select")>=0&&n.attr(w.oldLayoutSelect),(0,c.indexOf)(h,"emphasis")>=0&&n.attr(w.oldLayoutEmphasis)),(0,a.D)(n,l,t,u)}else if(n.attr(l),!(0,f.qA)(n).valueAnimation){var p=(0,c.retrieve2)(n.style.opacity,1);n.style.opacity=0,(0,a.KZ)(n,{style:{opacity:p}},t,u)}if(w.oldLayout=l,n.states.select){var m=w.oldLayoutSelect={};x(m,l,b),x(m,n.states.select,b)}if(n.states.emphasis){var g=w.oldLayoutEmphasis={};x(g,l,b),x(g,n.states.emphasis,b)}(0,f.tD)(n,u,d,t,t)}if(r&&!r.ignore&&!r.invisible){i=(w=y(r)).oldLayout;var w,_={points:r.shape.points};i?(r.attr({shape:i}),(0,a.D)(r,{shape:_},t)):(r.setShape(_),r.style.strokePercent=0,(0,a.KZ)(r,{style:{strokePercent:1}},t)),w.oldLayout=_}},e}(),_=(0,r.Yf)();function S(e){e.registerUpdateLifecycle("series:beforeupdate",(function(e,t,n){var r=_(t).labelManager;r||(r=_(t).labelManager=new w),r.clearLabels()})),e.registerUpdateLifecycle("series:layoutlabels",(function(e,t,n){var r=_(t).labelManager;n.updatedSeries.forEach((function(e){r.addLabelsOfSeries(t.getViewOfSeriesModel(e))})),r.updateLayoutConfig(t),r.layout(t),r.processLabelsOverall()}))}},9168:function(e,t,n){"use strict";n.d(t,{$x:function(){return L},Iu:function(){return O},_A:function(){return N},d:function(){return I},qK:function(){return E}});var r=n(14310),i=n(45162),a=n(8509),o=n(13103),s=n(40370),u=n(46529),l=n(76884),c=n(21432),d=n(75784),f=n(60886),h=2*Math.PI,p=o.Z.CMD,m=["top","right","bottom","left"];function g(e,t,n,r,i){var a=n.width,o=n.height;switch(e){case"top":r.set(n.x+a/2,n.y-t),i.set(0,-1);break;case"bottom":r.set(n.x+a/2,n.y+o+t),i.set(0,1);break;case"left":r.set(n.x-t,n.y+o/2),i.set(-1,0);break;case"right":r.set(n.x+a+t,n.y+o/2),i.set(1,0)}}function v(e,t,n,r,i,a,o,u,l){o-=e,u-=t;var c=Math.sqrt(o*o+u*u),d=(o/=c)*n+e,f=(u/=c)*n+t;if(Math.abs(r-i)%h<1e-4)return l[0]=d,l[1]=f,c-n;if(a){var p=r;r=(0,s.m)(i),i=(0,s.m)(p)}else r=(0,s.m)(r),i=(0,s.m)(i);r>i&&(i+=h);var m=Math.atan2(u,o);if(m<0&&(m+=h),m>=r&&m<=i||m+h>=r&&m+h<=i)return l[0]=d,l[1]=f,c-n;var g=n*Math.cos(r)+e,v=n*Math.sin(r)+t,y=n*Math.cos(i)+e,x=n*Math.sin(i)+t,b=(g-o)*(g-o)+(v-u)*(v-u),w=(y-o)*(y-o)+(x-u)*(x-u);return b<w?(l[0]=g,l[1]=v,Math.sqrt(b)):(l[0]=y,l[1]=x,Math.sqrt(w))}function y(e,t,n,r,i,a,o,s){var u=i-e,l=a-t,c=n-e,d=r-t,f=Math.sqrt(c*c+d*d),h=(u*(c/=f)+l*(d/=f))/f;s&&(h=Math.min(Math.max(h,0),1)),h*=f;var p=o[0]=e+h*c,m=o[1]=t+h*d;return Math.sqrt((p-i)*(p-i)+(m-a)*(m-a))}function x(e,t,n,r,i,a,o){n<0&&(e+=n,n=-n),r<0&&(t+=r,r=-r);var s=e+n,u=t+r,l=o[0]=Math.min(Math.max(i,e),s),c=o[1]=Math.min(Math.max(a,t),u);return Math.sqrt((l-i)*(l-i)+(c-a)*(c-a))}var b=[];function w(e,t,n){var r=x(t.x,t.y,t.width,t.height,e.x,e.y,b);return n.set(b[0],b[1]),r}function _(e,t,n){for(var r,i,a=0,o=0,s=0,l=0,c=1/0,d=t.data,f=e.x,h=e.y,m=0;m<d.length;){var g=d[m++];1===m&&(s=a=d[m],l=o=d[m+1]);var w=c;switch(g){case p.M:a=s=d[m++],o=l=d[m++];break;case p.L:w=y(a,o,d[m],d[m+1],f,h,b,!0),a=d[m++],o=d[m++];break;case p.C:w=(0,u.t1)(a,o,d[m++],d[m++],d[m++],d[m++],d[m],d[m+1],f,h,b),a=d[m++],o=d[m++];break;case p.Q:w=(0,u.Wr)(a,o,d[m++],d[m++],d[m],d[m+1],f,h,b),a=d[m++],o=d[m++];break;case p.A:var _=d[m++],S=d[m++],C=d[m++],k=d[m++],D=d[m++],T=d[m++];m+=1;var I=!!(1-d[m++]);r=Math.cos(D)*C+_,i=Math.sin(D)*k+S,m<=1&&(s=r,l=i),w=v(_,S,k,D,D+T,I,(f-_)*k/C+_,h,b),a=Math.cos(D+T)*C+_,o=Math.sin(D+T)*k+S;break;case p.R:w=x(s=a=d[m++],l=o=d[m++],d[m++],d[m++],f,h,b);break;case p.Z:w=y(a,o,s,l,f,h,b,!0),a=s,o=l}w<c&&(c=w,n.set(b[0],b[1]))}return c}var S=new r.Z,C=new r.Z,k=new r.Z,D=new r.Z,T=new r.Z;function I(e,t){if(e){var n=e.getTextGuideLine(),a=e.getTextContent();if(a&&n){var o=e.textGuideLineConfig||{},s=[[0,0],[0,0],[0,0]],u=o.candidates||m,l=a.getBoundingRect().clone();l.applyTransform(a.getComputedTransform());var d=1/0,f=o.anchor,h=e.getComputedTransform(),p=h&&(0,c.invert)([],h),v=t.get("length2")||0;f&&k.copy(f);for(var y=0;y<u.length;y++){g(u[y],0,l,S,D),r.Z.scaleAndAdd(C,S,D,v),C.transform(p);var x=e.getBoundingRect(),b=f?f.distance(C):e instanceof i.ZP?_(C,e.path,k):w(C,x,k);b<d&&(d=b,C.transform(h),k.transform(h),k.toArray(s[0]),C.toArray(s[1]),S.toArray(s[2]))}E(s,t.get("minTurnAngle")),n.setShape({points:s})}}}var A=[],M=new r.Z;function E(e,t){if(t<=180&&t>0){t=t/180*Math.PI,S.fromArray(e[0]),C.fromArray(e[1]),k.fromArray(e[2]),r.Z.sub(D,S,C),r.Z.sub(T,k,C);var n=D.len(),i=T.len();if(!(n<.001||i<.001)){D.scale(1/n),T.scale(1/i);var a=D.dot(T);if(Math.cos(t)<a){var o=y(C.x,C.y,k.x,k.y,S.x,S.y,A,!1);M.fromArray(A),M.scaleAndAdd(T,o/Math.tan(Math.PI-t));var s=k.x!==C.x?(M.x-C.x)/(k.x-C.x):(M.y-C.y)/(k.y-C.y);if(isNaN(s))return;s<0?r.Z.copy(M,C):s>1&&r.Z.copy(M,k),M.toArray(e[1])}}}}function N(e,t,n){if(n<=180&&n>0){n=n/180*Math.PI,S.fromArray(e[0]),C.fromArray(e[1]),k.fromArray(e[2]),r.Z.sub(D,C,S),r.Z.sub(T,k,C);var i=D.len(),a=T.len();if(!(i<.001||a<.001))if(D.scale(1/i),T.scale(1/a),D.dot(t)<Math.cos(n)){var o=y(C.x,C.y,k.x,k.y,S.x,S.y,A,!1);M.fromArray(A);var s=Math.PI/2,u=s+Math.acos(T.dot(t))-n;if(u>=s)r.Z.copy(M,k);else{M.scaleAndAdd(T,o/Math.tan(Math.PI/2-u));var l=k.x!==C.x?(M.x-C.x)/(k.x-C.x):(M.y-C.y)/(k.y-C.y);if(isNaN(l))return;l<0?r.Z.copy(M,C):l>1&&r.Z.copy(M,k)}M.toArray(e[1])}}}function R(e,t,n,r){var i="normal"===n,a=i?e:e.ensureState(n);a.ignore=t;var o=r.get("smooth");o&&!0===o&&(o=.3),a.shape=a.shape||{},o>0&&(a.shape.smooth=o);var s=r.getModel("lineStyle").getLineStyle();i?e.useStyle(s):a.style=s}function P(e,t){var n=t.smooth,r=t.points;if(r)if(e.moveTo(r[0][0],r[0][1]),n>0&&r.length>=3){var i=d.dist(r[0],r[1]),a=d.dist(r[1],r[2]);if(!i||!a)return e.lineTo(r[1][0],r[1][1]),void e.lineTo(r[2][0],r[2][1]);var o=Math.min(i,a)*n,s=d.lerp([],r[1],r[0],o/i),u=d.lerp([],r[1],r[2],o/a),l=d.lerp([],s,u,.5);e.bezierCurveTo(s[0],s[1],s[0],s[1],l[0],l[1]),e.bezierCurveTo(u[0],u[1],u[0],u[1],r[2][0],r[2][1])}else for(var c=1;c<r.length;c++)e.lineTo(r[c][0],r[c][1])}function O(e,t,n){var r=e.getTextGuideLine(),i=e.getTextContent();if(i){for(var o=t.normal,s=o.get("show"),u=i.ignore,c=0;c<f.qc.length;c++){var d=f.qc[c],h=t[d],p="normal"===d;if(h){var m=h.get("show");if((p?u:(0,l.retrieve2)(i.states[d]&&i.states[d].ignore,u))||!(0,l.retrieve2)(m,s)){var g=p?r:r&&r.states[d];g&&(g.ignore=!0);continue}r||(r=new a.Z,e.setTextGuideLine(r),p||!u&&s||R(r,!0,"normal",t.normal),e.stateProxy&&(r.stateProxy=e.stateProxy)),R(r,!1,d,h)}}if(r){(0,l.defaults)(r.style,n),r.style.fill=null;var v=o.get("showAbove");(e.textGuideLineConfig=e.textGuideLineConfig||{}).showAbove=v||!1,r.buildPath=P}}else r&&e.removeTextGuideLine()}function L(e,t){t=t||"labelLine";for(var n={normal:e.getModel(t)},r=0;r<f.L1.length;r++){var i=f.L1[r];n[i]=e.getModel([i,t])}return n}},91331:function(e,t,n){"use strict";n.d(t,{GI:function(){return u},VT:function(){return a},WE:function(){return s},yl:function(){return l}});var r=n(33077),i=n(97057);function a(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];if(!i.defaultAttr.ignore){var a=i.label,o=a.getComputedTransform(),s=a.getBoundingRect(),u=!o||o[1]<1e-5&&o[2]<1e-5,l=a.style.margin||0,c=s.clone();c.applyTransform(o),c.x-=l/2,c.y-=l/2,c.width+=l,c.height+=l;var d=u?new r.Z(s,o):null;t.push({label:a,labelLine:i.labelLine,rect:c,localRect:s,obb:d,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:u,transform:o})}}return t}function o(e,t,n,r,i,a){var o=e.length;if(!(o<2)){e.sort((function(e,n){return e.rect[t]-n.rect[t]}));for(var s,u=0,l=!1,c=[],d=0,f=0;f<o;f++){var h=e[f],p=h.rect;(s=p[t]-u)<0&&(p[t]-=s,h.label[t]-=s,l=!0);var m=Math.max(-s,0);c.push(m),d+=m,u=p[t]+p[n]}d>0&&a&&_(-d/o,0,o);var g,v,y=e[0],x=e[o-1];return b(),g<0&&S(-g,.8),v<0&&S(v,.8),b(),w(g,v,1),w(v,g,-1),b(),g<0&&C(-g),v<0&&C(v),l}function b(){g=y.rect[t]-r,v=i-x.rect[t]-x.rect[n]}function w(e,t,n){if(e<0){var r=Math.min(t,-e);if(r>0){_(r*n,0,o);var i=r+e;i<0&&S(-i*n,1)}else S(-e*n,1)}}function _(n,r,i){0!==n&&(l=!0);for(var a=r;a<i;a++){var o=e[a];o.rect[t]+=n,o.label[t]+=n}}function S(r,i){for(var a=[],s=0,u=1;u<o;u++){var l=e[u-1].rect,c=Math.max(e[u].rect[t]-l[t]-l[n],0);a.push(c),s+=c}if(s){var d=Math.min(Math.abs(r)/s,i);if(r>0)for(u=0;u<o-1;u++){_(a[u]*d,0,u+1)}else for(u=o-1;u>0;u--){_(-(a[u-1]*d),u,o)}}}function C(e){var t=e<0?-1:1;e=Math.abs(e);for(var n=Math.ceil(e/(o-1)),r=0;r<o-1;r++)if(t>0?_(n,0,r+1):_(-n,o-r-1,o),(e-=n)<=0)return}}function s(e,t,n,r){return o(e,"x","width",t,n,r)}function u(e,t,n,r){return o(e,"y","height",t,n,r)}function l(e){var t=[];e.sort((function(e,t){return t.priority-e.priority}));var n=new i.Z(0,0,0,0);function a(e){if(!e.ignore){var t=e.ensureState("emphasis");null==t.ignore&&(t.ignore=!1)}e.ignore=!0}for(var o=0;o<e.length;o++){var s=e[o],u=s.axisAligned,l=s.localRect,c=s.transform,d=s.label,f=s.labelLine;n.copy(s.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var h=s.obb,p=!1,m=0;m<t.length;m++){var g=t[m];if(n.intersect(g.rect)){if(u&&g.axisAligned){p=!0;break}if(g.obb||(g.obb=new r.Z(g.localRect,g.transform)),h||(h=new r.Z(l,c)),h.intersect(g.obb)){p=!0;break}}}p?(a(d),f&&a(f)):(d.attr("ignore",s.defaultAttr.ignore),f&&f.attr("ignore",s.defaultAttr.labelGuideIgnore),t.push(s))}}},8943:function(e,t,n){"use strict";n.d(t,{Lr:function(){return h},k3:function(){return f},nC:function(){return p},ni:function(){return d},pe:function(){return w},qA:function(){return b},qT:function(){return x},tD:function(){return _}});var r=n(56114),i=n(76884),a=n(60886),o=n(71169),s=n(33187),u={};function l(e,t){for(var n=0;n<a.L1.length;n++){var r=a.L1[n],i=t[r],o=e.ensureState(r);o.style=o.style||{},o.style.text=i}var s=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(s,!0)}function c(e,t,n){var r,o=e.labelFetcher,s=e.labelDataIndex,u=e.labelDimIndex,l=t.normal;o&&(r=o.getFormattedLabel(s,"normal",null,u,l&&l.get("formatter"),null!=n?{interpolatedValue:n}:null)),null==r&&(r=(0,i.isFunction)(e.defaultText)?e.defaultText(s,e,n):e.defaultText);for(var c={normal:r},d=0;d<a.L1.length;d++){var f=a.L1[d],h=t[f];c[f]=(0,i.retrieve2)(o?o.getFormattedLabel(s,f,null,u,h&&h.get("formatter")):null,r)}return c}function d(e,t,n,o){n=n||u;for(var s=e instanceof r.ZP,d=!1,f=0;f<a.qc.length;f++){if((w=t[a.qc[f]])&&w.getShallow("show")){d=!0;break}}var m=s?e:e.getTextContent();if(d){s||(m||(m=new r.ZP,e.setTextContent(m)),e.stateProxy&&(m.stateProxy=e.stateProxy));var g=c(n,t),v=t.normal,y=!!v.getShallow("show"),x=h(v,o&&o.normal,n,!1,!s);x.text=g.normal,s||e.setTextConfig(p(v,n,!1));for(f=0;f<a.L1.length;f++){var w,_=a.L1[f];if(w=t[_]){var S=m.ensureState(_),C=!!(0,i.retrieve2)(w.getShallow("show"),y);if(C!==y&&(S.ignore=!C),S.style=h(w,o&&o[_],n,!0,!s),S.style.text=g[_],!s)e.ensureState(_).textConfig=p(w,n,!0)}}m.silent=!!v.getShallow("silent"),null!=m.style.x&&(x.x=m.style.x),null!=m.style.y&&(x.y=m.style.y),m.ignore=!y,m.useStyle(x),m.dirty(),n.enableTextSetter&&(b(m).setLabelText=function(e){var r=c(n,t,e);l(m,r)})}else m&&(m.ignore=!0);e.dirty()}function f(e,t){t=t||"label";for(var n={normal:e.getModel(t)},r=0;r<a.L1.length;r++){var i=a.L1[r];n[i]=e.getModel([i,t])}return n}function h(e,t,n,r,a){var o={};return function(e,t,n,r,a){n=n||u;var o,s=t.ecModel,l=s&&s.option.textStyle,c=function(e){var t;for(;e&&e!==e.ecModel;){var n=(e.option||u).rich;if(n){t=t||{};for(var r=(0,i.keys)(n),a=0;a<r.length;a++){t[r[a]]=1}}e=e.parentModel}return t}(t);if(c)for(var d in o={},c)if(c.hasOwnProperty(d)){var f=t.getModel(["rich",d]);y(o[d]={},f,l,n,r,a,!1,!0)}o&&(e.rich=o);var h=t.get("overflow");h&&(e.overflow=h);var p=t.get("minMargin");null!=p&&(e.margin=p);y(e,t,l,n,r,a,!0,!1)}(o,e,n,r,a),t&&(0,i.extend)(o,t),o}function p(e,t,n){t=t||{};var r,a={},o=e.getShallow("rotate"),s=(0,i.retrieve2)(e.getShallow("distance"),n?null:5),u=e.getShallow("offset");return"outside"===(r=e.getShallow("position")||(n?null:"inside"))&&(r=t.defaultOutsidePosition||"top"),null!=r&&(a.position=r),null!=u&&(a.offset=u),null!=o&&(o*=Math.PI/180,a.rotation=o),null!=s&&(a.distance=s),a.outsideFill="inherit"===e.get("color")?t.inheritColor||null:"auto",a}var m=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],g=["align","lineHeight","width","height","tag","verticalAlign"],v=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function y(e,t,n,r,a,o,s,l){n=!a&&n||u;var c=r&&r.inheritColor,d=t.getShallow("color"),f=t.getShallow("textBorderColor"),h=(0,i.retrieve2)(t.getShallow("opacity"),n.opacity);"inherit"!==d&&"auto"!==d||(d=c||null),"inherit"!==f&&"auto"!==f||(f=c||null),o||(d=d||n.color,f=f||n.textBorderColor),null!=d&&(e.fill=d),null!=f&&(e.stroke=f);var p=(0,i.retrieve2)(t.getShallow("textBorderWidth"),n.textBorderWidth);null!=p&&(e.lineWidth=p);var y=(0,i.retrieve2)(t.getShallow("textBorderType"),n.textBorderType);null!=y&&(e.lineDash=y);var x=(0,i.retrieve2)(t.getShallow("textBorderDashOffset"),n.textBorderDashOffset);null!=x&&(e.lineDashOffset=x),a||null!=h||l||(h=r&&r.defaultOpacity),null!=h&&(e.opacity=h),a||o||null==e.fill&&r.inheritColor&&(e.fill=r.inheritColor);for(var b=0;b<m.length;b++){var w=m[b];null!=(S=(0,i.retrieve2)(t.getShallow(w),n[w]))&&(e[w]=S)}for(b=0;b<g.length;b++){w=g[b];null!=(S=t.getShallow(w))&&(e[w]=S)}if(null==e.verticalAlign){var _=t.getShallow("baseline");null!=_&&(e.verticalAlign=_)}if(!s||!r.disableBox){for(b=0;b<v.length;b++){var S;w=v[b];null!=(S=t.getShallow(w))&&(e[w]=S)}var C=t.getShallow("borderType");null!=C&&(e.borderDash=C),"auto"!==e.backgroundColor&&"inherit"!==e.backgroundColor||!c||(e.backgroundColor=c),"auto"!==e.borderColor&&"inherit"!==e.borderColor||!c||(e.borderColor=c)}}function x(e,t){var n=t&&t.getModel("textStyle");return(0,i.trim)([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var b=(0,o.Yf)();function w(e,t,n,r){if(e){var i=b(e);i.prevValue=i.value,i.value=n;var a=t.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=r,i.statesModels=t)}}function _(e,t,n,r,a){var u=b(e);if(u.valueAnimation&&u.prevValue!==u.value){var d=u.defaultInterpolatedText,f=(0,i.retrieve2)(u.interpolatedValue,u.prevValue),h=u.value;e.percent=0,(null==u.prevValue?s.KZ:s.D)(e,{percent:1},r,t,null,(function(r){var i=(0,o.pk)(n,u.precision,f,h,r);u.interpolatedValue=1===r?null:i;var s=c({labelDataIndex:t,labelFetcher:a,defaultText:d?d(i):i+""},u.statesModels,i);l(e,s)}))}}},89562:function(e,t,n){"use strict";n.d(t,{Bk:function(){return v},G_:function(){return m},Ge:function(){return f},Gk:function(){return d},My:function(){return h},bK:function(){return g}});var r=n(76884),i=n(11671),a=n(84239),o=n(5402),s=n(68117),u="__ec_stack_";function l(e){return e.get("stack")||u+e.seriesIndex}function c(e){return e.dim+e.index}function d(e){var t=[],n=e.axis,i="axis0";if("category"===n.type){for(var a=n.getBandWidth(),o=0;o<e.count;o++)t.push((0,r.defaults)({bandWidth:a,axisKey:i,stackId:u+o},e));var s=p(t),l=[];for(o=0;o<e.count;o++){var c=s.axis0[u+o];c.offsetCenter=c.offset+c.width/2,l.push(c)}return l}}function f(e,t){var n=[];return t.eachSeriesByType(e,(function(e){y(e)&&n.push(e)})),n}function h(e){var t=function(e){var t={};(0,r.each)(e,(function(e){var n=e.coordinateSystem.getBaseAxis();if("time"===n.type||"value"===n.type)for(var r=e.getData(),i=n.dim+"_"+n.index,a=r.getDimensionIndex(r.mapDimension(n.dim)),o=r.getStore(),s=0,u=o.count();s<u;++s){var l=o.get(a,s);t[i]?t[i].push(l):t[i]=[l]}}));var n={};for(var i in t)if(t.hasOwnProperty(i)){var a=t[i];if(a){a.sort((function(e,t){return e-t}));for(var o=null,s=1;s<a.length;++s){var u=a[s]-a[s-1];u>0&&(o=null===o?u:Math.min(o,u))}n[i]=o}}return n}(e),n=[];return(0,r.each)(e,(function(e){var r,a=e.coordinateSystem.getBaseAxis(),o=a.getExtent();if("category"===a.type)r=a.getBandWidth();else if("value"===a.type||"time"===a.type){var s=a.dim+"_"+a.index,u=t[s],d=Math.abs(o[1]-o[0]),f=a.scale.getExtent(),h=Math.abs(f[1]-f[0]);r=u?d/h*u:d}else{var p=e.getData();r=Math.abs(o[1]-o[0])/p.count()}var m=(0,i.GM)(e.get("barWidth"),r),g=(0,i.GM)(e.get("barMaxWidth"),r),v=(0,i.GM)(e.get("barMinWidth")||(x(e)?.5:1),r),y=e.get("barGap"),b=e.get("barCategoryGap");n.push({bandWidth:r,barWidth:m,barMaxWidth:g,barMinWidth:v,barGap:y,barCategoryGap:b,axisKey:c(a),stackId:l(e)})})),p(n)}function p(e){var t={};(0,r.each)(e,(function(e,n){var r=e.axisKey,i=e.bandWidth,a=t[r]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},o=a.stacks;t[r]=a;var s=e.stackId;o[s]||a.autoWidthCount++,o[s]=o[s]||{width:0,maxWidth:0};var u=e.barWidth;u&&!o[s].width&&(o[s].width=u,u=Math.min(a.remainedWidth,u),a.remainedWidth-=u);var l=e.barMaxWidth;l&&(o[s].maxWidth=l);var c=e.barMinWidth;c&&(o[s].minWidth=c);var d=e.barGap;null!=d&&(a.gap=d);var f=e.barCategoryGap;null!=f&&(a.categoryGap=f)}));var n={};return(0,r.each)(t,(function(e,t){n[t]={};var a=e.stacks,o=e.bandWidth,s=e.categoryGap;if(null==s){var u=(0,r.keys)(a).length;s=Math.max(35-4*u,15)+"%"}var l=(0,i.GM)(s,o),c=(0,i.GM)(e.gap,1),d=e.remainedWidth,f=e.autoWidthCount,h=(d-l)/(f+(f-1)*c);h=Math.max(h,0),(0,r.each)(a,(function(e){var t=e.maxWidth,n=e.minWidth;if(e.width){r=e.width;t&&(r=Math.min(r,t)),n&&(r=Math.max(r,n)),e.width=r,d-=r+c*r,f--}else{var r=h;t&&t<r&&(r=Math.min(t,d)),n&&n>r&&(r=n),r!==h&&(e.width=r,d-=r+c*r,f--)}})),h=(d-l)/(f+(f-1)*c),h=Math.max(h,0);var p,m=0;(0,r.each)(a,(function(e,t){e.width||(e.width=h),p=e,m+=e.width*(1+c)})),p&&(m-=p.width*c);var g=-m/2;(0,r.each)(a,(function(e,r){n[t][r]=n[t][r]||{bandWidth:o,offset:g,width:e.width},g+=e.width*(1+c)}))})),n}function m(e,t,n){if(e&&t){var r=e[c(t)];return null!=r&&null!=n?r[l(n)]:r}}function g(e,t){var n=f(e,t),i=h(n);(0,r.each)(n,(function(e){var t=e.getData(),n=e.coordinateSystem.getBaseAxis(),r=l(e),a=i[c(n)][r],o=a.offset,s=a.width;t.setLayout({bandWidth:a.bandWidth,offset:o,size:s})}))}function v(e){return{seriesType:e,plan:(0,o.Z)(),reset:function(e){if(y(e)){var t=e.getData(),n=e.coordinateSystem,r=n.getBaseAxis(),i=n.getOtherAxis(r),o=t.getDimensionIndex(t.mapDimension(i.dim)),u=t.getDimensionIndex(t.mapDimension(r.dim)),l=e.get("showBackground",!0),c=t.mapDimension(i.dim),d=t.getCalculationInfo("stackResultDimension"),f=(0,a.M)(t,c)&&!!t.getCalculationInfo("stackedOnSeries"),h=i.isHorizontal(),p=function(e,t){return t.toGlobalCoord(t.dataToCoord("log"===t.type?1:0))}(0,i),m=x(e),g=e.get("barMinHeight")||0,v=d&&t.getDimensionIndex(d),b=t.getLayout("size"),w=t.getLayout("offset");return{progress:function(e,t){for(var r,i=e.count,a=m&&(0,s.o)(3*i),c=m&&l&&(0,s.o)(3*i),d=m&&(0,s.o)(i),y=n.master.getRect(),x=h?y.width:y.height,_=t.getStore(),S=0;null!=(r=e.next());){var C=_.get(f?v:o,r),k=_.get(u,r),D=p,T=void 0;f&&(T=+C-_.get(o,r));var I=void 0,A=void 0,M=void 0,E=void 0;if(h){var N=n.dataToPoint([C,k]);if(f)D=n.dataToPoint([T,k])[0];I=D,A=N[1]+w,M=N[0]-D,E=b,Math.abs(M)<g&&(M=(M<0?-1:1)*g)}else{N=n.dataToPoint([k,C]);if(f)D=n.dataToPoint([k,T])[1];I=N[0]+w,A=D,M=b,E=N[1]-D,Math.abs(E)<g&&(E=(E<=0?-1:1)*g)}m?(a[S]=I,a[S+1]=A,a[S+2]=h?M:E,c&&(c[S]=h?y.x:I,c[S+1]=h?A:y.y,c[S+2]=x),d[r]=r):t.setItemLayout(r,{x:I,y:A,width:M,height:E}),S+=3}m&&t.setLayout({largePoints:a,largeDataIndices:d,largeBackgroundPoints:c,valueAxisHorizontal:h})}}}}}}function y(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}function x(e){return e.pipelineContext&&e.pipelineContext.large}},27091:function(e,t,n){"use strict";n.d(t,{s:function(){return s},y:function(){return a}});var r=n(76884),i=n(71169);function a(e,t){function n(t,n){var r=[];return t.eachComponent({mainType:"series",subType:e,query:n},(function(e){r.push(e.seriesIndex)})),r}(0,r.each)([[e+"ToggleSelect","toggleSelect"],[e+"Select","select"],[e+"UnSelect","unselect"]],(function(e){t(e[0],(function(t,i,a){t=(0,r.extend)({},t),a.dispatchAction((0,r.extend)(t,{type:e[1],seriesIndex:n(i,t)}))}))}))}function o(e,t,n,a,o){var s=e+t;n.isSilent(s)||a.eachComponent({mainType:"series",subType:"pie"},(function(e){for(var t=e.seriesIndex,a=e.option.selectedMap,u=o.selected,l=0;l<u.length;l++)if(u[l].seriesIndex===t){var c=e.getData(),d=(0,i.gO)(c,o.fromActionPayload);n.trigger(s,{type:s,seriesId:e.id,name:(0,r.isArray)(d)?c.getName(d[0]):c.getName(d),selected:(0,r.isString)(a)?a:(0,r.extend)({},a)})}}))}function s(e,t,n){e.on("selectchanged",(function(e){var r=n.getModel();e.isFromClick?(o("map","selectchanged",t,r,e),o("pie","selectchanged",t,r,e)):"select"===e.fromAction?(o("map","selected",t,r,e),o("pie","selected",t,r,e)):"unselect"===e.fromAction&&(o("map","unselected",t,r,e),o("pie","unselected",t,r,e))}))}},62648:function(e,t,n){"use strict";var r=n(48609),i=n(76884),a=n(81149),o=n(8927),s=n(64657),u=n(71169),l=n(72705),c=(0,u.Yf)(),d=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.uid=o.Kr("ec_cpt_model"),i}return(0,r.ZT)(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)},t.prototype.mergeDefaultAndTheme=function(e,t){var n=l.YD(this),r=n?l.tE(e):{},a=t.getTheme();i.merge(e,a.get(this.mainType)),i.merge(e,this.getDefaultOption()),n&&l.dt(e,r,n)},t.prototype.mergeOption=function(e,t){i.merge(this.option,e,!0);var n=l.YD(this);n&&l.dt(this.option,e,n)},t.prototype.optionUpdated=function(e,t){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!(0,s.PT)(e))return e.defaultOption;var t=c(this);if(!t.defaultOption){for(var n=[],r=e;r;){var a=r.prototype.defaultOption;a&&n.push(a),r=r.superClass}for(var o={},u=n.length-1;u>=0;u--)o=i.merge(o,n[u],!0);t.defaultOption=o}return t.defaultOption},t.prototype.getReferringComponents=function(e,t){var n=e+"Index",r=e+"Id";return(0,u.HZ)(this.ecModel,e,{index:this.get(n,!0),id:this.get(r,!0)},t)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=function(){var e=t.prototype;e.type="component",e.id="",e.name="",e.mainType="",e.subType="",e.componentIndex=0}(),t}(a.Z);(0,s.pw)(d,a.Z),(0,s.au)(d),o.cj(d),o.jS(d,(function(e){var t=[];i.each(d.getClassesByMainType(e),(function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])})),t=i.map(t,(function(e){return(0,s.u9)(e).main})),"dataset"!==e&&i.indexOf(t,"dataset")<=0&&t.unshift("dataset");return t})),t.Z=d},81149:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(71118),i=n(64657),a=(0,n(76592).Z)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),o=function(){function e(){}return e.prototype.getAreaStyle=function(e,t){return a(this,e,t)},e}(),s=n(8943),u=n(56114),l=["textStyle","color"],c=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],d=new u.ZP,f=function(){function e(){}return e.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(l):null)},e.prototype.getFont=function(){return(0,s.qT)({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<c.length;n++)t[c[n]]=this.getShallow(c[n]);return d.useStyle(t),d.update(),d.getBoundingRect()},e}(),h=n(38354),p=n(72563),m=n(76884),g=function(){function e(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}return e.prototype.init=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i]},e.prototype.mergeOption=function(e,t){(0,m.merge)(this.option,e,!0)},e.prototype.get=function(e,t){return null==e?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},e.prototype.getShallow=function(e,t){var n=this.option,r=null==n?n:n[e];if(null==r&&!t){var i=this.parentModel;i&&(r=i.getShallow(e))}return r},e.prototype.getModel=function(t,n){var r=null!=t,i=r?this.parsePath(t):null;return new e(r?this._doGet(i):this.option,n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),this.ecModel)},e.prototype.isEmpty=function(){return null==this.option},e.prototype.restoreData=function(){},e.prototype.clone=function(){return new(0,this.constructor)((0,m.clone)(this.option))},e.prototype.parsePath=function(e){return"string"===typeof e?e.split("."):e},e.prototype.resolveParentPath=function(e){return e},e.prototype.isAnimationEnabled=function(){if(!r.Z.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(e,t){var n=this.option;if(!e)return n;for(var r=0;r<e.length&&(!e[r]||null!=(n=n&&"object"===typeof n?n[e[r]]:null));r++);return null==n&&t&&(n=t._doGet(this.resolveParentPath(e),t.parentModel)),n},e}();(0,i.dm)(g),(0,i.Qj)(g),(0,m.mixin)(g,h.K),(0,m.mixin)(g,p.D),(0,m.mixin)(g,o),(0,m.mixin)(g,f);var v=g},80654:function(e,t,n){"use strict";n.d(t,{V:function(){return v}});var r=n(48609),i=n(76884),a=n(71118),o=n(71169),s=n(62648),u=n(7430),l=n(33313),c=n(72705),d=n(6011),f=n(64657),h=n(10331),p=n(20289),m=o.Yf();function g(e,t){return e.getName(t)||e.getId(t)}var v="__universalTransitionEnabled",y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return(0,r.ZT)(t,e),t.prototype.init=function(e,t,n){this.seriesIndex=this.componentIndex,this.dataTask=(0,d.v)({count:b,reset:w}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,n),(m(this).sourceManager=new h.U(this)).prepareSource();var r=this.getInitialData(e,n);S(r,this),this.dataTask.context.data=r,m(this).dataBeforeProcessed=r,x(this),this._initSelectedMapFromData(r)},t.prototype.mergeDefaultAndTheme=function(e,t){var n=(0,c.YD)(this),r=n?(0,c.tE)(e):{},a=this.subType;s.Z.hasClass(a)&&(a+="Series"),i.merge(e,t.getTheme().get(this.subType)),i.merge(e,this.getDefaultOption()),o.Cc(e,"label",["show"]),this.fillDataTextStyle(e.data),n&&(0,c.dt)(e,r,n)},t.prototype.mergeOption=function(e,t){e=i.merge(this.option,e,!0),this.fillDataTextStyle(e.data);var n=(0,c.YD)(this);n&&(0,c.dt)(this.option,e,n);var r=m(this).sourceManager;r.dirty(),r.prepareSource();var a=this.getInitialData(e,t);S(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,m(this).dataBeforeProcessed=a,x(this),this._initSelectedMapFromData(a)},t.prototype.fillDataTextStyle=function(e){if(e&&!i.isTypedArray(e))for(var t=["show"],n=0;n<e.length;n++)e[n]&&e[n].label&&o.Cc(e[n],"label",t)},t.prototype.getInitialData=function(e,t){},t.prototype.appendData=function(e){this.getRawData().appendData(e.data)},t.prototype.getData=function(e){var t=k(this);if(t){var n=t.context.data;return null==e?n:n.getLinkedData(e)}return m(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var t=k(this);if(t){var n=t.context;n.outputData=e,t!==this.dataTask&&(n.data=e)}m(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return i.createHashMap(e)},t.prototype.getSourceManager=function(){return m(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return m(this).dataBeforeProcessed},t.prototype.getColorBy=function(){return this.get("colorBy")||"series"},t.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,t,n){return(0,p.w)({series:this,dataIndex:e,multipleSeries:t})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(a.Z.node&&(!e||!e.ssr))return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),!!t},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,t,n){var r=this.ecModel,i=u._.prototype.getColorFromPalette.call(this,e,t,n);return i||(i=r.getColorFromPalette(e,t,n)),i},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,t){this._innerSelect(this.getData(t),e)},t.prototype.unselect=function(e,t){var n=this.option.selectedMap;if(n){var r=this.option.selectedMode,i=this.getData(t);if("series"===r||"all"===n)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var a=0;a<e.length;a++){var o=g(i,e[a]);n[o]=!1,this._selectedDataIndicesMap[o]=-1}}},t.prototype.toggleSelect=function(e,t){for(var n=[],r=0;r<e.length;r++)n[0]=e[r],this.isSelected(e[r],t)?this.unselect(n,t):this.select(n,t)},t.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,t=i.keys(e),n=[],r=0;r<t.length;r++){var a=e[t[r]];a>=0&&n.push(a)}return n},t.prototype.isSelected=function(e,t){var n=this.option.selectedMap;if(!n)return!1;var r=this.getData(t);return("all"===n||n[g(r,e)])&&!r.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[v])return!0;var e=this.option.universalTransition;return!!e&&(!0===e||e&&e.enabled)},t.prototype._innerSelect=function(e,t){var n,r,a=this.option,o=a.selectedMode,s=t.length;if(o&&s)if("series"===o)a.selectedMap="all";else if("multiple"===o){i.isObject(a.selectedMap)||(a.selectedMap={});for(var u=a.selectedMap,l=0;l<s;l++){var c=t[l];u[f=g(e,c)]=!0,this._selectedDataIndicesMap[f]=e.getRawIndex(c)}}else if("single"===o||!0===o){var d=t[s-1],f=g(e,d);a.selectedMap=((n={})[f]=!0,n),this._selectedDataIndicesMap=((r={})[f]=e.getRawIndex(d),r)}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var t=[];e.hasItemOption&&e.each((function(n){var r=e.getRawDataItem(n);r&&r.selected&&t.push(n)})),t.length>0&&this._innerSelect(e,t)}},t.registerClass=function(e){return s.Z.registerClass(e)},t.protoInitialize=function(){var e=t.prototype;e.type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",e.visualDrawType="fill"}(),t}(s.Z);function x(e){var t=e.name;o.yu(e)||(e.name=function(e){var t=e.getRawData(),n=t.mapDimensionsAll("seriesName"),r=[];return i.each(n,(function(e){var n=t.getDimensionInfo(e);n.displayName&&r.push(n.displayName)})),r.join(" ")}(e)||t)}function b(e){return e.model.getRawData().count()}function w(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),_}function _(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function S(e,t){i.each(i.concatArray(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),(function(n){e.wrapMethod(n,i.curry(C,t))}))}function C(e,t){var n=k(e);return n&&n.setOutputEnd((t||this).count()),t}function k(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var r=n.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(e.uid))}return r}}i.mixin(y,l.X),i.mixin(y,u._),(0,f.pw)(y,s.Z),t.Z=y},4090:function(e,t,n){"use strict";n.d(t,{R:function(){return o},f:function(){return a}});var r=n(76884),i=(0,r.createHashMap)();function a(e,t){(0,r.assert)(null==i.get(e)&&t),i.set(e,t)}function o(e,t,n){var r=i.get(t);if(!r)return n;var a=r(e);return a?n.concat(a):n}},33313:function(e,t,n){"use strict";n.d(t,{X:function(){return s},f:function(){return u}});var r=n(76884),i=n(24305),a=n(51186),o=/\{@(.+?)\}/g,s=function(){function e(){}return e.prototype.getDataParams=function(e,t){var n=this.getData(t),r=this.getRawValue(e,t),i=n.getRawIndex(e),a=n.getName(e),o=n.getRawDataItem(e),s=n.getItemVisual(e,"style"),u=s&&s[n.getItemVisual(e,"drawType")||"fill"],l=s&&s.stroke,c=this.mainType,d="series"===c,f=n.userOutput&&n.userOutput.get();return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:a,dataIndex:i,data:o,dataType:t,value:r,color:u,borderColor:l,dimensionNames:f?f.fullDimensions:null,encode:f?f.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(e,t,n,s,u,l){t=t||"normal";var c=this.getData(n),d=this.getDataParams(e,n);(l&&(d.value=l.interpolatedValue),null!=s&&r.isArray(d.value)&&(d.value=d.value[s]),u)||(u=c.getItemModel(e).get("normal"===t?["label","formatter"]:[t,"label","formatter"]));return r.isFunction(u)?(d.status=t,d.dimensionIndex=s,u(d)):r.isString(u)?(0,a.kF)(u,d).replace(o,(function(t,n){var a=n.length,o=n;"["===o.charAt(0)&&"]"===o.charAt(a-1)&&(o=+o.slice(1,a-1));var s=(0,i.hk)(c,e,o);if(l&&r.isArray(l.interpolatedValue)){var u=c.getDimensionIndex(o);u>=0&&(s=l.interpolatedValue[u])}return null!=s?s+"":""})):void 0},e.prototype.getRawValue=function(e,t){return(0,i.hk)(this.getData(t),e)},e.prototype.formatTooltip=function(e,t,n){},e}();function u(e){var t,n;return r.isObject(e)?e.type&&(n=e):t=e,{text:t,frag:n}}},72563:function(e,t,n){"use strict";n.d(t,{D:function(){return o},t:function(){return i}});var r=n(76592),i=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],a=(0,r.Z)(i),o=function(){function e(){}return e.prototype.getItemStyle=function(e,t){return a(this,e,t)},e}()},38354:function(e,t,n){"use strict";n.d(t,{K:function(){return o},v:function(){return i}});var r=n(76592),i=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],a=(0,r.Z)(i),o=function(){function e(){}return e.prototype.getLineStyle=function(e){return a(this,e)},e}()},76592:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(76884);function i(e,t){for(var n=0;n<e.length;n++)e[n][1]||(e[n][1]=e[n][0]);return t=t||!1,function(n,i,a){for(var o={},s=0;s<e.length;s++){var u=e[s][1];if(!(i&&r.indexOf(i,u)>=0||a&&r.indexOf(a,u)<0)){var l=n.getShallow(u,t);null!=l&&(o[e[s][0]]=l)}}return o}}},7430:function(e,t,n){"use strict";n.d(t,{_:function(){return o},i:function(){return s}});var r=n(71169),i=(0,r.Yf)(),a=(0,r.Yf)(),o=function(){function e(){}return e.prototype.getColorFromPalette=function(e,t,n){var a=(0,r.kF)(this.get("color",!0)),o=this.get("colorLayer",!0);return u(this,i,a,o,e,t,n)},e.prototype.clearColorPalette=function(){var e,t;(t=i)(e=this).paletteIdx=0,t(e).paletteNameMap={}},e}();function s(e,t,n,i){var o=(0,r.kF)(e.get(["aria","decal","decals"]));return u(e,a,o,null,t,n,i)}function u(e,t,n,r,i,a,o){var s=t(a=a||e),u=s.paletteIdx||0,l=s.paletteNameMap=s.paletteNameMap||{};if(l.hasOwnProperty(i))return l[i];var c=null!=o&&r?function(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].length>t)return e[r];return e[n-1]}(r,o):n;if((c=c||n)&&c.length){var d=c[u];return i&&(l[i]=d),s.paletteIdx=(u+1)%c.length,d}}},48127:function(e,t,n){"use strict";n.d(t,{N:function(){return w}});var r=n(37706),i=n(76884),a=n(43497),o=n(85363),s=n(93297),u=n(84188),l=n(97057),c=n(51532),d=n(29315);function f(e,t,n){var r=d.qW.createCanvas(),i=t.getWidth(),a=t.getHeight(),o=r.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=a+"px",r.setAttribute("data-zr-dom-id",e)),r.width=i*n,r.height=a*n,r}var h=function(e){function t(t,n,a){var o,s=e.call(this)||this;s.motionBlur=!1,s.lastFrameAlpha=.7,s.dpr=1,s.virtual=!1,s.config={},s.incremental=!1,s.zlevel=0,s.maxRepaintRectCount=5,s.__dirty=!0,s.__firstTimePaint=!0,s.__used=!1,s.__drawIndex=0,s.__startIndex=0,s.__endIndex=0,s.__prevStartIndex=null,s.__prevEndIndex=null,a=a||r.KL,"string"===typeof t?o=f(t,n,a):i.isObject(t)&&(t=(o=t).id),s.id=t,s.dom=o;var u=o.style;return u&&(i.disableUserSelect(o),o.onselectstart=function(){return!1},u.padding="0",u.margin="0",u.borderWidth="0"),s.painter=n,s.dpr=a,s}return(0,a.ZT)(t,e),t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=f("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,t,n,r){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var i,a=[],o=this.maxRepaintRectCount,s=!1,u=new l.Z(0,0,0,0);function d(e){if(e.isFinite()&&!e.isZero())if(0===a.length){(t=new l.Z(0,0,0,0)).copy(e),a.push(t)}else{for(var t,n=!1,r=1/0,i=0,c=0;c<a.length;++c){var d=a[c];if(d.intersect(e)){var f=new l.Z(0,0,0,0);f.copy(d),f.union(e),a[c]=f,n=!0;break}if(s){u.copy(e),u.union(d);var h=e.width*e.height,p=d.width*d.height,m=u.width*u.height-h-p;m<r&&(r=m,i=c)}}if(s&&(a[i].union(e),n=!0),!n)(t=new l.Z(0,0,0,0)).copy(e),a.push(t);s||(s=a.length>=o)}}for(var f=this.__startIndex;f<this.__endIndex;++f){if(m=e[f]){var h=m.shouldBePainted(n,r,!0,!0);(g=m.__isRendered&&(m.__dirty&c.YV||!h)?m.getPrevPaintRect():null)&&d(g);var p=h&&(m.__dirty&c.YV||!m.__isRendered)?m.getPaintRect():null;p&&d(p)}}for(f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var m,g;h=(m=t[f]).shouldBePainted(n,r,!0,!0);if(m&&(!h||!m.__zr)&&m.__isRendered)(g=m.getPrevPaintRect())&&d(g)}do{i=!1;for(f=0;f<a.length;)if(a[f].isZero())a.splice(f,1);else{for(var v=f+1;v<a.length;)a[f].intersect(a[v])?(i=!0,a[f].union(a[v]),a.splice(v,1)):v++;f++}}while(i);return this._paintRects=a,a},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,t){var n=this.dpr,r=this.dom,i=r.style,a=this.domBack;i&&(i.width=e+"px",i.height=t+"px"),r.width=e*n,r.height=t*n,a&&(a.width=e*n,a.height=t*n,1!==n&&this.ctxBack.scale(n,n))},t.prototype.clear=function(e,t,n){var r=this.dom,a=this.ctx,o=r.width,l=r.height;t=t||this.clearColor;var c=this.motionBlur&&!e,d=this.lastFrameAlpha,f=this.dpr,h=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,o/f,l/f));var p=this.domBack;function m(e,n,r,o){if(a.clearRect(e,n,r,o),t&&"transparent"!==t){var l=void 0;i.isGradientObject(t)?(l=t.__canvasGradient||(0,s.ZF)(a,t,{x:0,y:0,width:r,height:o}),t.__canvasGradient=l):i.isImagePatternObject(t)&&(l=(0,u.RZ)(a,t,{dirty:function(){h.setUnpainted(),h.__painter.refresh()}})),a.save(),a.fillStyle=l||t,a.fillRect(e,n,r,o),a.restore()}c&&(a.save(),a.globalAlpha=d,a.drawImage(p,e,n,r,o),a.restore())}!n||c?m(0,0,o,l):n.length&&i.each(n,(function(e){m(e.x*f,e.y*f,e.width*f,e.height*f)}))},t}(o.Z),p=n(1022),m=n(71118),g=1e5,v=314159,y=.01;var x=function(){function e(e,t,n,a){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=n=i.extend({},n||{}),this.dpr=n.devicePixelRatio||r.KL,this._singleCanvas=o,this.root=e,e.style&&(i.disableUserSelect(e),e.innerHTML=""),this.storage=t;var u=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(o){var c=e,d=c.width,f=c.height;null!=n.width&&(d=n.width),null!=n.height&&(f=n.height),this.dpr=n.devicePixelRatio||1,c.width=d*this.dpr,c.height=f*this.dpr,this._width=d,this._height=f;var p=new h(c,this,this.dpr);p.__builtin__=!0,p.initContext(),l[314159]=p,p.zlevel=v,u.push(v),this._domRoot=e}else{this._width=(0,s.ap)(e,0,n),this._height=(0,s.ap)(e,1,n);var m=this._domRoot=function(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);e.appendChild(m)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},e.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),n=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,n,e,this._redrawId);for(var i=0;i<r.length;i++){var a=r[i],o=this._layers[a];if(!o.__builtin__&&o.refresh){var s=0===i?this._backgroundColor:null;o.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(e){var t=e.length,n=this._hoverlayer;if(n&&n.clear(),t){for(var r,i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a=0;a<t;a++){var o=e[a];o.__inHover&&(n||(n=this._hoverlayer=this.getLayer(g)),r||(r=n.ctx).save(),(0,u.Dm)(r,o,i,a===t-1))}r&&r.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(g)},e.prototype.paintOne=function(e,t){(0,u.RV)(e,t)},e.prototype._paintList=function(e,t,n,r){if(this._redrawId===r){n=n||!1,this._updateLayerStatus(e);var i=this._doPaintList(e,t,n),a=i.finished,o=i.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(e),a)this.eachLayer((function(e){e.afterBrush&&e.afterBrush()}));else{var s=this;(0,p.Z)((function(){s._paintList(e,t,n,r)}))}}},e.prototype._compositeManually=function(){var e=this.getLayer(v).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer((function(r){r.virtual&&e.drawImage(r.dom,0,0,t,n)}))},e.prototype._doPaintList=function(e,t,n){for(var r=this,a=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var u=this._zlevelList[s],l=this._layers[u];l.__builtin__&&l!==this._hoverlayer&&(l.__dirty||n)&&a.push(l)}for(var c=!0,d=!1,f=function(i){var s,u=a[i],l=u.ctx,f=o&&u.createRepaintRects(e,t,h._width,h._height),p=n?u.__startIndex:u.__drawIndex,m=!n&&u.incremental&&Date.now,g=m&&Date.now(),v=u.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(u.__startIndex===u.__endIndex)u.clear(!1,v,f);else if(p===u.__startIndex){var y=e[p];y.incremental&&y.notClear&&!n||u.clear(!1,v,f)}-1===p&&(console.error("For some unknown reason. drawIndex is -1"),p=u.__startIndex);var x=function(t){var n={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(s=p;s<u.__endIndex;s++){var i=e[s];if(i.__inHover&&(d=!0),r._doPaintEl(i,u,o,t,n,s===u.__endIndex-1),m)if(Date.now()-g>15)break}n.prevElClipPaths&&l.restore()};if(f)if(0===f.length)s=u.__endIndex;else for(var b=h.dpr,w=0;w<f.length;++w){var _=f[w];l.save(),l.beginPath(),l.rect(_.x*b,_.y*b,_.width*b,_.height*b),l.clip(),x(_),l.restore()}else l.save(),x(),l.restore();u.__drawIndex=s,u.__drawIndex<u.__endIndex&&(c=!1)},h=this,p=0;p<a.length;p++)f(p);return m.Z.wxa&&i.each(this._layers,(function(e){e&&e.ctx&&e.ctx.draw&&e.ctx.draw()})),{finished:c,needsRefreshHover:d}},e.prototype._doPaintEl=function(e,t,n,r,i,a){var o=t.ctx;if(n){var s=e.getPaintRect();(!r||s&&s.intersect(r))&&((0,u.Dm)(o,e,i,a),e.setPrevPaintRect(s))}else(0,u.Dm)(o,e,i,a)},e.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=v);var n=this._layers[e];return n||((n=new h("zr_"+e,this,this.dpr)).zlevel=e,n.__builtin__=!0,this._layerConfig[e]?i.merge(n,this._layerConfig[e],!0):this._layerConfig[e-y]&&i.merge(n,this._layerConfig[e-y],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},e.prototype.insertLayer=function(e,t){var n=this._layers,r=this._zlevelList,i=r.length,a=this._domRoot,o=null,s=-1;if(!n[e]&&function(e){return!!e&&(!!e.__builtin__||"function"===typeof e.resize&&"function"===typeof e.refresh)}(t)){if(i>0&&e>r[0]){for(s=0;s<i-1&&!(r[s]<e&&r[s+1]>e);s++);o=n[r[s]]}if(r.splice(s+1,0,e),n[e]=t,!t.virtual)if(o){var u=o.dom;u.nextSibling?a.insertBefore(t.dom,u.nextSibling):a.appendChild(t.dom)}else a.firstChild?a.insertBefore(t.dom,a.firstChild):a.appendChild(t.dom);t.__painter=this}},e.prototype.eachLayer=function(e,t){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r];e.call(t,this._layers[i],i)}},e.prototype.eachBuiltinLayer=function(e,t){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r],a=this._layers[i];a.__builtin__&&e.call(t,a,i)}},e.prototype.eachOtherLayer=function(e,t){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r],a=this._layers[i];a.__builtin__||e.call(t,a,i)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(e){function t(e){o&&(o.__endIndex!==e&&(o.__dirty=!0),o.__endIndex=e)}if(this.eachBuiltinLayer((function(e,t){e.__dirty=e.__used=!1})),this._singleCanvas)for(var n=1;n<e.length;n++){if((u=e[n]).zlevel!==e[n-1].zlevel||u.incremental){this._needsManuallyCompositing=!0;break}}var r,a,o=null,s=0;for(a=0;a<e.length;a++){var u,l=(u=e[a]).zlevel,d=void 0;r!==l&&(r=l,s=0),u.incremental?((d=this.getLayer(l+.001,this._needsManuallyCompositing)).incremental=!0,s=1):d=this.getLayer(l+(s>0?y:0),this._needsManuallyCompositing),d.__builtin__||i.logError("ZLevel "+l+" has been used by unkown layer "+d.id),d!==o&&(d.__used=!0,d.__startIndex!==a&&(d.__dirty=!0),d.__startIndex=a,d.incremental?d.__drawIndex=-1:d.__drawIndex=a,t(a),o=d),u.__dirty&c.YV&&!u.__inHover&&(d.__dirty=!0,d.incremental&&d.__drawIndex<0&&(d.__drawIndex=a))}t(a),this.eachBuiltinLayer((function(e,t){!e.__used&&e.getElementCount()>0&&(e.__dirty=!0,e.__startIndex=e.__endIndex=e.__drawIndex=0),e.__dirty&&e.__drawIndex<0&&(e.__drawIndex=e.__startIndex)}))},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(e){e.clear()},e.prototype.setBackgroundColor=function(e){this._backgroundColor=e,i.each(this._layers,(function(e){e.setUnpainted()}))},e.prototype.configLayer=function(e,t){if(t){var n=this._layerConfig;n[e]?i.merge(n[e],t,!0):n[e]=t;for(var r=0;r<this._zlevelList.length;r++){var a=this._zlevelList[r];if(a===e||a===e+y){var o=this._layers[a];i.merge(o,n[e],!0)}}}},e.prototype.delLayer=function(e){var t=this._layers,n=this._zlevelList,r=t[e];r&&(r.dom.parentNode.removeChild(r.dom),delete t[e],n.splice(i.indexOf(n,e),1))},e.prototype.resize=function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts,i=this.root;if(null!=e&&(r.width=e),null!=t&&(r.height=t),e=(0,s.ap)(i,0,r),t=(0,s.ap)(i,1,r),n.style.display="",this._width!==e||t!==this._height){for(var a in n.style.width=e+"px",n.style.height=t+"px",this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(v).resize(e,t)}return this},e.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var t=new h("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var n=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,i=t.dom.height;this.eachLayer((function(e){e.__builtin__?n.drawImage(e.dom,0,0,r,i):e.renderToCanvas&&(n.save(),e.renderToCanvas(n),n.restore())}))}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),s=0,l=o.length;s<l;s++){var c=o[s];(0,u.Dm)(n,c,a,s===l-1)}return t.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}(),b=x;function w(e){e.registerPainter("canvas",b)}},68748:function(e,t,n){"use strict";var r=n(48609),i=n(11671),a=n(51186),o=n(28788),s=n(88647),u=i.NM,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return(0,r.ZT)(t,e),t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return s.XS(e,this._extent)},t.prototype.normalize=function(e){return s.Fv(e,this._extent)},t.prototype.scale=function(e){return s.bA(e,this._extent)},t.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},t.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),this.setExtent(t[0],t[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=s.lb(e)},t.prototype.getTicks=function(e){var t=this._interval,n=this._extent,r=this._niceExtent,i=this._intervalPrecision,a=[];if(!t)return a;n[0]<r[0]&&(e?a.push({value:u(r[0]-t,i)}):a.push({value:n[0]}));for(var o=r[0];o<=r[1]&&(a.push({value:o}),(o=u(o+t,i))!==a[a.length-1].value);)if(a.length>1e4)return[];var s=a.length?a[a.length-1].value:r[1];return n[1]>s&&(e?a.push({value:u(s+t,i)}):a.push({value:n[1]})),a},t.prototype.getMinorTicks=function(e){for(var t=this.getTicks(!0),n=[],r=this.getExtent(),i=1;i<t.length;i++){for(var a=t[i],o=t[i-1],s=0,l=[],c=(a.value-o.value)/e;s<e-1;){var d=u(o.value+(s+1)*c);d>r[0]&&d<r[1]&&l.push(d),s++}n.push(l)}return n},t.prototype.getLabel=function(e,t){if(null==e)return"";var n=t&&t.precision;null==n?n=i.p8(e.value)||0:"auto"===n&&(n=this._intervalPrecision);var r=u(e.value,n,!0);return a.OD(r)},t.prototype.calcNiceTicks=function(e,t,n){e=e||5;var r=this._extent,i=r[1]-r[0];if(isFinite(i)){i<0&&(i=-i,r.reverse());var a=s.Qf(r,e,t,n);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var t=this._extent;if(t[0]===t[1])if(0!==t[0]){var n=t[0];e.fixMax||(t[1]+=n/2),t[0]-=n/2}else t[1]=1;var r=t[1]-t[0];isFinite(r)||(t[0]=0,t[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var i=this._interval;e.fixMin||(t[0]=u(Math.floor(t[0]/i)*i)),e.fixMax||(t[1]=u(Math.ceil(t[1]/i)*i))},t.prototype.setNiceExtent=function(e,t){this._niceExtent=[e,t]},t.type="interval",t}(o.Z);o.Z.registerClass(l),t.Z=l},99398:function(e,t,n){"use strict";var r=n(48609),i=n(28788),a=n(53447),o=n(88647),s=n(76884),u=function(e){function t(t){var n=e.call(this,t)||this;n.type="ordinal";var r=n.getSetting("ordinalMeta");return r||(r=new a.Z({})),(0,s.isArray)(r)&&(r=new a.Z({categories:(0,s.map)(r,(function(e){return(0,s.isObject)(e)?e.value:e}))})),n._ordinalMeta=r,n._extent=n.getSetting("extent")||[0,r.categories.length-1],n}return(0,r.ZT)(t,e),t.prototype.parse=function(e){return null==e?NaN:(0,s.isString)(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return e=this.parse(e),o.XS(e,this._extent)&&null!=this._ordinalMeta.categories[e]},t.prototype.normalize=function(e){return e=this._getTickNumber(this.parse(e)),o.Fv(e,this._extent)},t.prototype.scale=function(e){return e=Math.round(o.bA(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],t=this._extent,n=t[0];n<=t[1];)e.push({value:n}),n++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(null!=e){for(var t=e.ordinalNumbers,n=this._ordinalNumbersByTick=[],r=this._ticksByOrdinalNumber=[],i=0,a=this._ordinalMeta.categories.length,o=Math.min(a,t.length);i<o;++i){var s=t[i];n[i]=s,r[s]=i}for(var u=0;i<a;++i){for(;null!=r[u];)u++;n.push(u),r[u]=i}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},t.prototype._getTickNumber=function(e){var t=this._ticksByOrdinalNumber;return t&&e>=0&&e<t.length?t[e]:e},t.prototype.getRawOrdinalNumber=function(e){var t=this._ordinalNumbersByTick;return t&&e>=0&&e<t.length?t[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var t=this.getRawOrdinalNumber(e.value),n=this._ordinalMeta.categories[t];return null==n?"":n+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(i.Z);i.Z.registerClass(u),t.Z=u},28788:function(e,t,n){"use strict";var r=n(64657),i=function(){function e(e){this._setting=e||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(e){return this._setting[e]},e.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},e.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},e.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(e){this._isBlank=e},e}();r.au(i),t.Z=i},49134:function(e,t,n){"use strict";var r=n(48609),i=n(11671),a=n(10481),o=n(88647),s=n(68748),u=n(28788),l=n(76884),c=function(e){function t(t){var n=e.call(this,t)||this;return n.type="time",n}return(0,r.ZT)(t,e),t.prototype.getLabel=function(e){var t=this.getSetting("useUTC");return(0,a.WU)(e.value,a.V8[(0,a.xC)((0,a.Tj)(this._minLevelUnit))]||a.V8.second,t,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,t,n){var r=this.getSetting("useUTC"),i=this.getSetting("locale");return(0,a.k7)(e,t,n,i,r)},t.prototype.getTicks=function(){var e=this._interval,t=this._extent,n=[];if(!e)return n;n.push({value:t[0],level:0});var r=this.getSetting("useUTC"),o=function(e,t,n,r){var o=1e4,s=a.FW,u=0;function c(e,t,n,i,a,o,s){for(var u=new Date(t),l=t,c=u[i]();l<n&&l<=r[1];)s.push({value:l}),c+=e,u[a](c),l=u.getTime();s.push({value:l,notAdd:!0})}function d(e,o,s){var u=[],l=!o.length;if(!function(e,t,n,r){var o=i.sG(t),s=i.sG(n),u=function(e){return(0,a.q5)(o,e,r)===(0,a.q5)(s,e,r)},l=function(){return u("year")},c=function(){return l()&&u("month")},d=function(){return c()&&u("day")},f=function(){return d()&&u("hour")},h=function(){return f()&&u("minute")},p=function(){return h()&&u("second")},m=function(){return p()&&u("millisecond")};switch(e){case"year":return l();case"month":return c();case"day":return d();case"hour":return f();case"minute":return h();case"second":return p();case"millisecond":return m()}}((0,a.Tj)(e),r[0],r[1],n)){l&&(o=[{value:v(new Date(r[0]),e,n)},{value:r[1]}]);for(var d=0;d<o.length-1;d++){var y=o[d].value,x=o[d+1].value;if(y!==x){var b=void 0,w=void 0,_=void 0,S=!1;switch(e){case"year":b=Math.max(1,Math.round(t/a.s2/365)),w=(0,a.sx)(n),_=(0,a.xL)(n);break;case"half-year":case"quarter":case"month":b=h(t),w=(0,a.CW)(n),_=(0,a.vh)(n);break;case"week":case"half-week":case"day":b=f(t,31),w=(0,a.xz)(n),_=(0,a.f5)(n),S=!0;break;case"half-day":case"quarter-day":case"hour":b=p(t),w=(0,a.Wp)(n),_=(0,a.En)(n);break;case"minute":b=m(t,!0),w=(0,a.fn)(n),_=(0,a.eN)(n);break;case"second":b=m(t,!1),w=(0,a.MV)(n),_=(0,a.rM)(n);break;case"millisecond":b=g(t),w=(0,a.RZ)(n),_=(0,a.cb)(n)}c(b,y,x,w,_,S,u),"year"===e&&s.length>1&&0===d&&s.unshift({value:s[0].value-b})}}for(d=0;d<u.length;d++)s.push(u[d]);return u}}for(var y=[],x=[],b=0,w=0,_=0;_<s.length&&u++<o;++_){var S=(0,a.Tj)(s[_]);if((0,a.$K)(s[_]))if(d(s[_],y[y.length-1]||[],x),S!==(s[_+1]?(0,a.Tj)(s[_+1]):null)){if(x.length){w=b,x.sort((function(e,t){return e.value-t.value}));for(var C=[],k=0;k<x.length;++k){var D=x[k].value;0!==k&&x[k-1].value===D||(C.push(x[k]),D>=r[0]&&D<=r[1]&&b++)}var T=(r[1]-r[0])/t;if(b>1.5*T&&w>T/1.5)break;if(y.push(C),b>T||e===s[_])break}x=[]}}0;var I=(0,l.filter)((0,l.map)(y,(function(e){return(0,l.filter)(e,(function(e){return e.value>=r[0]&&e.value<=r[1]&&!e.notAdd}))})),(function(e){return e.length>0})),A=[],M=I.length-1;for(_=0;_<I.length;++_)for(var E=I[_],N=0;N<E.length;++N)A.push({value:E[N].value,level:M-_});A.sort((function(e,t){return e.value-t.value}));var R=[];for(_=0;_<A.length;++_)0!==_&&A[_].value===A[_-1].value||R.push(A[_]);return R}(this._minLevelUnit,this._approxInterval,r,t);return(n=n.concat(o)).push({value:t[1],level:0}),n},t.prototype.calcNiceExtent=function(e){var t=this._extent;if(t[0]===t[1]&&(t[0]-=a.s2,t[1]+=a.s2),t[1]===-1/0&&t[0]===1/0){var n=new Date;t[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),t[0]=t[1]-a.s2}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,t,n){e=e||10;var r=this._extent,i=r[1]-r[0];this._approxInterval=i/e,null!=t&&this._approxInterval<t&&(this._approxInterval=t),null!=n&&this._approxInterval>n&&(this._approxInterval=n);var a=d.length,o=Math.min(function(e,t,n,r){for(;n<r;){var i=n+r>>>1;e[i][1]<t?n=i+1:r=i}return n}(d,this._approxInterval,0,a),a-1);this._interval=d[o][1],this._minLevelUnit=d[Math.max(o-1,0)][0]},t.prototype.parse=function(e){return(0,l.isNumber)(e)?e:+i.sG(e)},t.prototype.contain=function(e){return o.XS(this.parse(e),this._extent)},t.prototype.normalize=function(e){return o.Fv(this.parse(e),this._extent)},t.prototype.scale=function(e){return o.bA(e,this._extent)},t.type="time",t}(s.Z),d=[["second",a.WT],["minute",a.yR],["hour",a.dV],["quarter-day",6*a.dV],["half-day",12*a.dV],["day",1.2*a.s2],["half-week",3.5*a.s2],["week",7*a.s2],["month",31*a.s2],["quarter",95*a.s2],["half-year",a.P5/2],["year",a.P5]];function f(e,t){return(e/=a.s2)>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function h(e){return(e/=30*a.s2)>6?6:e>3?3:e>2?2:1}function p(e){return(e/=a.dV)>12?12:e>6?6:e>3.5?4:e>2?2:1}function m(e,t){return(e/=t?a.yR:a.WT)>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function g(e){return i.kx(e,!0)}function v(e,t,n){var r=new Date(e);switch((0,a.Tj)(t)){case"year":case"month":r[(0,a.vh)(n)](0);case"day":r[(0,a.f5)(n)](1);case"hour":r[(0,a.En)(n)](0);case"minute":r[(0,a.eN)(n)](0);case"second":r[(0,a.rM)(n)](0),r[(0,a.cb)(n)](0)}return r.getTime()}u.Z.registerClass(c),t.Z=c},88647:function(e,t,n){"use strict";n.d(t,{Fv:function(){return c},Qf:function(){return a},XS:function(){return l},bA:function(){return d},lM:function(){return i},lb:function(){return s},r1:function(){return o}});var r=n(11671);function i(e){return"interval"===e.type||"log"===e.type}function a(e,t,n,i){var a={},o=e[1]-e[0],l=a.interval=(0,r.kx)(o/t,!0);null!=n&&l<n&&(l=a.interval=n),null!=i&&l>i&&(l=a.interval=i);var c=a.intervalPrecision=s(l);return function(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),u(e,0,t),u(e,1,t),e[0]>e[1]&&(e[0]=e[1])}(a.niceTickExtent=[(0,r.NM)(Math.ceil(e[0]/l)*l,c),(0,r.NM)(Math.floor(e[1]/l)*l,c)],e),a}function o(e){var t=Math.pow(10,(0,r.xW)(e)),n=e/t;return n?2===n?n=3:3===n?n=5:n*=2:n=1,(0,r.NM)(n*t)}function s(e){return(0,r.p8)(e)+2}function u(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function l(e,t){return e>=t[0]&&e<=t[1]}function c(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function d(e,t){return e*(t[1]-t[0])+t[0]}},64657:function(e,t,n){"use strict";n.d(t,{PT:function(){return u},Qj:function(){return f},au:function(){return m},dm:function(){return l},pw:function(){return c},u9:function(){return s}});var r=n(48609),i=n(76884),a="___EC__COMPONENT__CONTAINER___",o="___EC__EXTENDED_CLASS___";function s(e){var t={main:"",sub:""};if(e){var n=e.split(".");t.main=n[0]||"",t.sub=n[1]||""}return t}function u(e){return!(!e||!e[o])}function l(e,t){e.$constructor=e,e.extend=function(e){var t,n,a=this;return n=a,i.isFunction(n)&&/^class\s/.test(Function.prototype.toString.call(n))?t=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t}(a):(t=function(){(e.$constructor||a).apply(this,arguments)},i.inherits(t,this)),i.extend(t.prototype,e),t[o]=!0,t.extend=this.extend,t.superCall=h,t.superApply=p,t.superClass=a,t}}function c(e,t){e.extend=t.extend}var d=Math.round(10*Math.random());function f(e){var t=["__\0is_clz",d++].join("_");e.prototype[t]=!0,e.isInstance=function(e){return!(!e||!e[t])}}function h(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.superClass.prototype[t].apply(e,n)}function p(e,t,n){return this.superClass.prototype[t].apply(e,n)}function m(e){var t={};e.registerClass=function(e){var n,r=e.type||e.prototype.type;if(r){n=r,i.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal'),e.prototype.type=r;var o=s(r);if(o.sub){if(o.sub!==a){var u=function(e){var n=t[e.main];n&&n[a]||((n=t[e.main]={})[a]=!0);return n}(o);u[o.sub]=e}}else t[o.main]=e}return e},e.getClass=function(e,n,r){var i=t[e];if(i&&i[a]&&(i=n?i[n]:null),r&&!i)throw new Error(n?"Component "+e+"."+(n||"")+" is used but not imported.":e+".type should be specified.");return i},e.getClassesByMainType=function(e){var n=s(e),r=[],o=t[n.main];return o&&o[a]?i.each(o,(function(e,t){t!==a&&r.push(e)})):r.push(o),r},e.hasClass=function(e){var n=s(e);return!!t[n.main]},e.getAllClassMainTypes=function(){var e=[];return i.each(t,(function(t,n){e.push(n)})),e},e.hasSubTypes=function(e){var n=s(e),r=t[n.main];return r&&r[a]}}},8927:function(e,t,n){"use strict";n.d(t,{Kr:function(){return o},ZL:function(){return l},cj:function(){return s},jS:function(){return u}});var r=n(76884),i=n(64657),a=Math.round(10*Math.random());function o(e){return[e||"",a++].join("_")}function s(e){var t={};e.registerSubTypeDefaulter=function(e,n){var r=(0,i.u9)(e);t[r.main]=n},e.determineSubType=function(n,r){var a=r.type;if(!a){var o=(0,i.u9)(n).main;e.hasSubTypes(n)&&t[o]&&(a=t[o](r))}return a}}function u(e,t){function n(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}e.topologicalTravel=function(e,i,a,o){if(e.length){var s=function(e){var i={},a=[];return r.each(e,(function(o){var s=n(i,o),u=function(e,t){var n=[];return r.each(e,(function(e){r.indexOf(t,e)>=0&&n.push(e)})),n}(s.originalDeps=t(o),e);s.entryCount=u.length,0===s.entryCount&&a.push(o),r.each(u,(function(e){r.indexOf(s.predecessor,e)<0&&s.predecessor.push(e);var t=n(i,e);r.indexOf(t.successor,e)<0&&t.successor.push(o)}))})),{graph:i,noEntryList:a}}(i),u=s.graph,l=s.noEntryList,c={};for(r.each(e,(function(e){c[e]=!0}));l.length;){var d=l.pop(),f=u[d],h=!!c[d];h&&(a.call(o,d,f.originalDeps.slice()),delete c[d]),r.each(f.successor,h?m:p)}r.each(c,(function(){throw new Error("")}))}function p(e){u[e].entryCount--,0===u[e].entryCount&&l.push(e)}function m(e){c[e]=!0,p(e)}}}function l(e,t){return r.merge(r.merge({},e,!0),t,!0)}},7434:function(e,t,n){"use strict";n.d(t,{I:function(){return m}});var r=Math.round(9*Math.random()),i="function"===typeof Object.defineProperty,a=function(){function e(){this._id="__ec_inner_"+r++}return e.prototype.get=function(e){return this._guard(e)[this._id]},e.prototype.set=function(e,t){var n=this._guard(e);return i?Object.defineProperty(n,this._id,{value:t,enumerable:!1,configurable:!0}):n[this._id]=t,this},e.prototype.delete=function(e){return!!this.has(e)&&(delete this._guard(e)[this._id],!0)},e.prototype.has=function(e){return!!this._guard(e)[this._id]},e.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},e}(),o=n(79195),s=n(76884),u=n(11671),l=n(12438),c=n(84188),d=n(29315),f=new a,h=new o.ZP(100),p=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function m(e,t){if("none"===e)return null;var n=t.getDevicePixelRatio(),r=t.getZr(),i="svg"===r.painter.type;e.dirty&&f.delete(e);var a=f.get(e);if(a)return a;var o=(0,s.defaults)(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===o.backgroundColor&&(o.backgroundColor=null);var m={repeat:"repeat"};return function(e){for(var t,a=[n],f=!0,m=0;m<p.length;++m){var x=o[p[m]];if(null!=x&&!(0,s.isArray)(x)&&!(0,s.isString)(x)&&!(0,s.isNumber)(x)&&"boolean"!==typeof x){f=!1;break}a.push(x)}if(f){t=a.join(",")+(i?"-svg":"");var b=h.get(t);b&&(i?e.svgElement=b:e.image=b)}var w,_=v(o.dashArrayX),S=function(e){if(!e||"object"===typeof e&&0===e.length)return[0,0];if((0,s.isNumber)(e)){var t=Math.ceil(e);return[t,t]}var n=(0,s.map)(e,(function(e){return Math.ceil(e)}));return e.length%2?n.concat(n):n}(o.dashArrayY),C=g(o.symbol),k=(M=_,(0,s.map)(M,(function(e){return y(e)}))),D=y(S),T=!i&&d.qW.createCanvas(),I=i&&{tag:"g",attrs:{},key:"dcl",children:[]},A=function(){for(var e=1,t=0,n=k.length;t<n;++t)e=(0,u.nl)(e,k[t]);var r=1;for(t=0,n=C.length;t<n;++t)r=(0,u.nl)(r,C[t].length);e*=r;var i=D*k.length*C.length;0;return{width:Math.max(1,Math.min(e,o.maxTileWidth)),height:Math.max(1,Math.min(i,o.maxTileHeight))}}();var M;T&&(T.width=A.width*n,T.height=A.height*n,w=T.getContext("2d"));(function(){w&&(w.clearRect(0,0,T.width,T.height),o.backgroundColor&&(w.fillStyle=o.backgroundColor,w.fillRect(0,0,T.width,T.height)));for(var e=0,t=0;t<S.length;++t)e+=S[t];if(e<=0)return;var a=-D,s=0,u=0,d=0;for(;a<A.height;){if(s%2===0){for(var f=u/2%C.length,h=0,p=0,m=0;h<2*A.width;){var g=0;for(t=0;t<_[d].length;++t)g+=_[d][t];if(g<=0)break;if(p%2===0){var v=.5*(1-o.symbolSize),y=h+_[d][p]*v,x=a+S[s]*v,b=_[d][p]*o.symbolSize,k=S[s]*o.symbolSize,M=m/2%C[f].length;E(y,x,b,k,C[f][M])}h+=_[d][p],++m,++p===_[d].length&&(p=0)}++d===_.length&&(d=0)}a+=S[s],++u,++s===S.length&&(s=0)}function E(e,t,a,s,u){var d=i?1:n,f=(0,l.th)(u,e*d,t*d,a*d,s*d,o.color,o.symbolKeepAspect);if(i){var h=r.painter.renderOneToVNode(f);h&&I.children.push(h)}else(0,c.RV)(w,f)}})(),f&&h.put(t,T||I);e.image=T,e.svgElement=I,e.svgWidth=A.width,e.svgHeight=A.height}(m),m.rotation=o.rotation,m.scaleX=m.scaleY=i?1:1/n,f.set(e,m),e.dirty=!1,m}function g(e){if(!e||0===e.length)return[["rect"]];if((0,s.isString)(e))return[[e]];for(var t=!0,n=0;n<e.length;++n)if(!(0,s.isString)(e[n])){t=!1;break}if(t)return g([e]);var r=[];for(n=0;n<e.length;++n)(0,s.isString)(e[n])?r.push([e[n]]):r.push(e[n]);return r}function v(e){if(!e||0===e.length)return[[0,0]];if((0,s.isNumber)(e))return[[i=Math.ceil(e),i]];for(var t=!0,n=0;n<e.length;++n)if(!(0,s.isNumber)(e[n])){t=!1;break}if(t)return v([e]);var r=[];for(n=0;n<e.length;++n)if((0,s.isNumber)(e[n])){var i=Math.ceil(e[n]);r.push([i,i])}else{(i=(0,s.map)(e[n],(function(e){return Math.ceil(e)}))).length%2===1?r.push(i.concat(i)):r.push(i)}return r}function y(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return e.length%2===1?2*t:t}},23508:function(e,t,n){"use strict";function r(e,t,n){for(var r;e&&(!t(e)||(r=e,!n));)e=e.__hostTarget||e.parent;return r}n.d(t,{o:function(){return r}})},51186:function(e,t,n){"use strict";n.d(t,{A0:function(){return v},F1:function(){return d},Lz:function(){return b},MI:function(){return w},MY:function(){return u},OD:function(){return o},ew:function(){return x},kF:function(){return m},mr:function(){return y},uX:function(){return f},wx:function(){return g},zW:function(){return s}});var r=n(76884),i=n(11671),a=n(10481);function o(e){if(!(0,i.kE)(e))return r.isString(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function s(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()})),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var u=r.normalizeCssArray,l=/([&<>"'])/g,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function d(e){return null==e?"":(e+"").replace(l,(function(e,t){return c[t]}))}function f(e,t,n){function s(e){return e&&r.trim(e)?e:"-"}function u(e){return!(null==e||isNaN(e)||!isFinite(e))}var l="time"===t,c=e instanceof Date;if(l||c){var d=l?(0,i.sG)(e):e;if(!isNaN(+d))return(0,a.WU)(d,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",n);if(c)return"-"}if("ordinal"===t)return r.isStringSafe(e)?s(e):r.isNumber(e)&&u(e)?e+"":"-";var f=(0,i.FK)(e);return u(f)?o(f):r.isStringSafe(e)?s(e):"boolean"===typeof e?e+"":"-"}var h=["a","b","c","d","e","f","g"],p=function(e,t){return"{"+e+(null==t?"":t)+"}"};function m(e,t,n){r.isArray(t)||(t=[t]);var i=t.length;if(!i)return"";for(var a=t[0].$vars||[],o=0;o<a.length;o++){var s=h[o];e=e.replace(p(s),p(s,0))}for(var u=0;u<i;u++)for(var l=0;l<a.length;l++){var c=t[u][a[l]];e=e.replace(p(h[l],u),n?d(c):c)}return e}function g(e,t,n){return r.each(t,(function(t,r){e=e.replace("{"+r+"}",n?d(t):t)})),e}function v(e,t){var n=r.isString(e)?{color:e,extraCssText:t}:e||{},i=n.color,a=n.type;t=n.extraCssText;var o=n.renderMode||"html";return i?"html"===o?"subItem"===a?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+d(i)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+d(i)+";"+(t||"")+'"></span>':{renderMode:o,content:"{"+(n.markerId||"markerX")+"|}  ",style:"subItem"===a?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}:""}function y(e,t,n){"week"!==e&&"month"!==e&&"quarter"!==e&&"half-year"!==e&&"year"!==e||(e="MM-dd\nyyyy");var r=(0,i.sG)(t),o=n?"getUTC":"get",s=r[o+"FullYear"](),u=r[o+"Month"]()+1,l=r[o+"Date"](),c=r[o+"Hours"](),d=r[o+"Minutes"](),f=r[o+"Seconds"](),h=r[o+"Milliseconds"]();return e=e.replace("MM",(0,a.vk)(u,2)).replace("M",u).replace("yyyy",s).replace("yy",s%100+"").replace("dd",(0,a.vk)(l,2)).replace("d",l).replace("hh",(0,a.vk)(c,2)).replace("h",c).replace("mm",(0,a.vk)(d,2)).replace("m",d).replace("ss",(0,a.vk)(f,2)).replace("s",f).replace("SSS",(0,a.vk)(h,3))}function x(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e}function b(e,t){return t=t||"transparent",r.isString(e)?e:r.isObject(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}function w(e,t){if("_blank"===t||"blank"===t){var n=window.open();n.opener=null,n.location.href=e}else window.open(e,t)}},26871:function(e,t,n){"use strict";n.r(t),n.d(t,{Arc:function(){return b.Z},BezierCurve:function(){return x.Z},BoundingRect:function(){return C.Z},Circle:function(){return d.Z},CompoundPath:function(){return w.Z},Ellipse:function(){return f.Z},Group:function(){return l.Z},Image:function(){return u.ZP},IncrementalDisplayable:function(){return T.Z},Line:function(){return y.Z},LinearGradient:function(){return _.Z},OrientedBoundingRect:function(){return k.Z},Path:function(){return o.ZP},Point:function(){return D.Z},Polygon:function(){return m.Z},Polyline:function(){return g.Z},RadialGradient:function(){return S.Z},Rect:function(){return v.Z},Ring:function(){return p.Z},Sector:function(){return h.C},Text:function(){return c.ZP},applyTransform:function(){return Y},clipPointsByRect:function(){return $},clipRectByRect:function(){return ee},createIcon:function(){return te},extendPath:function(){return F},extendShape:function(){return O},getShapeClass:function(){return B},getTransform:function(){return q},groupTransition:function(){return J},initProps:function(){return E.KZ},isElementRemoved:function(){return E.eq},lineLineIntersect:function(){return re},linePolygonIntersect:function(){return ne},makeImage:function(){return V},makePath:function(){return z},mergePath:function(){return W},registerShape:function(){return Z},removeElement:function(){return E.bX},removeElementWithFadeOut:function(){return E.XD},resizePath:function(){return U},setTooltipConfig:function(){return ae},subPixelOptimize:function(){return X},subPixelOptimizeLine:function(){return H},subPixelOptimizeRect:function(){return G},transformDirection:function(){return K},traverseElements:function(){return se},updateProps:function(){return E.D}});var r=n(96061),i=n(21432),a=n(75784),o=n(45162),s=n(98773),u=n(44046),l=n(94060),c=n(56114),d=n(11345),f=n(44446),h=n(45941),p=n(25366),m=n(91719),g=n(8509),v=n(60595),y=n(71768),x=n(2730),b=n(52620),w=n(6748),_=n(65737),S=n(85721),C=n(97057),k=n(33077),D=n(14310),T=n(37363),I=n(80054),A=n(76884),M=n(37890),E=n(33187),N=Math.max,R=Math.min,P={};function O(e){return o.ZP.extend(e)}var L=r.Pc;function F(e,t){return L(e,t)}function Z(e,t){P[e]=t}function B(e){if(P.hasOwnProperty(e))return P[e]}function z(e,t,n,i){var a=r.iR(e,t);return n&&("center"===i&&(n=j(n,a.getBoundingRect())),U(a,n)),a}function V(e,t,n){var r=new u.ZP({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(e){if("center"===n){var i={width:e.width,height:e.height};r.setStyle(j(t,i))}}});return r}function j(e,t){var n,r=t.width/t.height,i=e.height*r;return n=i<=e.width?e.height:(i=e.width)/r,{x:e.x+e.width/2-i/2,y:e.y+e.height/2-n/2,width:i,height:n}}var W=r.AA;function U(e,t){if(e.applyTransform){var n=e.getBoundingRect().calculateTransform(t);e.applyTransform(n)}}function H(e){return I._3(e.shape,e.shape,e.style),e}function G(e){return I.Pw(e.shape,e.shape,e.style),e}var X=I.vu;function q(e,t){for(var n=i.identity([]);e&&e!==t;)i.mul(n,e.getLocalTransform(),n),e=e.parent;return n}function Y(e,t,n){return t&&!(0,A.isArrayLike)(t)&&(t=s.ZP.getLocalTransform(t)),n&&(t=i.invert([],t)),a.applyTransform([],e,t)}function K(e,t,n){var r=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),i=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),a=["left"===e?-r:"right"===e?r:0,"top"===e?-i:"bottom"===e?i:0];return a=Y(a,t,n),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function Q(e){return!e.isGroup}function J(e,t,n){if(e&&t){var r=function(e){var t={};return e.traverse((function(e){Q(e)&&e.anid&&(t[e.anid]=e)})),t}(e);t.traverse((function(e){if(Q(e)&&e.anid){var t=r[e.anid];if(t){var a=i(e);e.attr(i(t)),(0,E.D)(e,a,n,(0,M.A)(e).dataIndex)}}}))}function i(e){var t={x:e.x,y:e.y,rotation:e.rotation};return function(e){return null!=e.shape}(e)&&(t.shape=(0,A.extend)({},e.shape)),t}}function $(e,t){return(0,A.map)(e,(function(e){var n=e[0];n=N(n,t.x),n=R(n,t.x+t.width);var r=e[1];return r=N(r,t.y),[n,r=R(r,t.y+t.height)]}))}function ee(e,t){var n=N(e.x,t.x),r=R(e.x+e.width,t.x+t.width),i=N(e.y,t.y),a=R(e.y+e.height,t.y+t.height);if(r>=n&&a>=i)return{x:n,y:i,width:r-n,height:a-i}}function te(e,t,n){var r=(0,A.extend)({rectHover:!0},t),i=r.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(i.image=e.slice(8),(0,A.defaults)(i,n),new u.ZP(r)):z(e.replace("path://",""),r,n,"center")}function ne(e,t,n,r,i){for(var a=0,o=i[i.length-1];a<i.length;a++){var s=i[a];if(re(e,t,n,r,s[0],s[1],o[0],o[1]))return!0;o=s}}function re(e,t,n,r,i,a,o,s){var u,l=n-e,c=r-t,d=o-i,f=s-a,h=ie(d,f,l,c);if((u=h)<=1e-6&&u>=-1e-6)return!1;var p=e-i,m=t-a,g=ie(p,m,l,c)/h;if(g<0||g>1)return!1;var v=ie(p,m,d,f)/h;return!(v<0||v>1)}function ie(e,t,n,r){return e*r-n*t}function ae(e){var t=e.itemTooltipOption,n=e.componentModel,r=e.itemName,i=(0,A.isString)(t)?{formatter:t}:t,a=n.mainType,o=n.componentIndex,s={componentType:a,name:r,$vars:["name"]};s[a+"Index"]=o;var u=e.formatterParamsExtra;u&&(0,A.each)((0,A.keys)(u),(function(e){(0,A.hasOwn)(s,e)||(s[e]=u[e],s.$vars.push(e))}));var l=(0,M.A)(e.el);l.componentMainType=a,l.componentIndex=o,l.tooltipConfig={name:r,option:(0,A.defaults)({content:r,formatterParams:s},i)}}function oe(e,t){var n;e.isGroup&&(n=t(e)),n||e.traverse(t)}function se(e,t){if(e)if((0,A.isArray)(e))for(var n=0;n<e.length;n++)oe(e[n],t);else oe(e,t)}Z("circle",d.Z),Z("ellipse",f.Z),Z("sector",h.C),Z("ring",p.Z),Z("polygon",m.Z),Z("polyline",g.Z),Z("rect",v.Z),Z("line",y.Z),Z("bezierCurve",x.Z),Z("arc",b.Z)},37890:function(e,t,n){"use strict";n.d(t,{A:function(){return r},Q:function(){return i}});var r=(0,n(71169).Yf)(),i=function(e,t,n,i){if(i){var a=r(i);a.dataIndex=n,a.dataType=t,a.seriesIndex=e,"group"===i.type&&i.traverse((function(i){var a=r(i);a.seriesIndex=e,a.dataIndex=n,a.dataType=t}))}}},72705:function(e,t,n){"use strict";n.d(t,{BZ:function(){return d},ME:function(){return h},QM:function(){return m},QT:function(){return x},YD:function(){return g},dt:function(){return v},gN:function(){return u},lq:function(){return f},p$:function(){return p},tE:function(){return y}});var r=n(76884),i=n(97057),a=n(11671),o=n(51186),s=r.each,u=["left","right","top","bottom","width","height"],l=[["width","left","right"],["height","top","bottom"]];function c(e,t,n,r,i){var a=0,o=0;null==r&&(r=1/0),null==i&&(i=1/0);var s=0;t.eachChild((function(u,l){var c,d,f=u.getBoundingRect(),h=t.childAt(l+1),p=h&&h.getBoundingRect();if("horizontal"===e){var m=f.width+(p?-p.x+f.x:0);(c=a+m)>r||u.newline?(a=0,c=m,o+=s+n,s=f.height):s=Math.max(s,f.height)}else{var g=f.height+(p?-p.y+f.y:0);(d=o+g)>i||u.newline?(a+=s+n,o=0,d=g,s=f.width):s=Math.max(s,f.width)}u.newline||(u.x=a,u.y=o,u.markRedraw(),"horizontal"===e?a=c+n:o=d+n)}))}var d=c;r.curry(c,"vertical"),r.curry(c,"horizontal");function f(e,t,n){var r=t.width,i=t.height,s=(0,a.GM)(e.left,r),u=(0,a.GM)(e.top,i),l=(0,a.GM)(e.right,r),c=(0,a.GM)(e.bottom,i);return(isNaN(s)||isNaN(parseFloat(e.left)))&&(s=0),(isNaN(l)||isNaN(parseFloat(e.right)))&&(l=r),(isNaN(u)||isNaN(parseFloat(e.top)))&&(u=0),(isNaN(c)||isNaN(parseFloat(e.bottom)))&&(c=i),n=o.MY(n||0),{width:Math.max(l-s-n[1]-n[3],0),height:Math.max(c-u-n[0]-n[2],0)}}function h(e,t,n){n=o.MY(n||0);var r=t.width,s=t.height,u=(0,a.GM)(e.left,r),l=(0,a.GM)(e.top,s),c=(0,a.GM)(e.right,r),d=(0,a.GM)(e.bottom,s),f=(0,a.GM)(e.width,r),h=(0,a.GM)(e.height,s),p=n[2]+n[0],m=n[1]+n[3],g=e.aspect;switch(isNaN(f)&&(f=r-c-m-u),isNaN(h)&&(h=s-d-p-l),null!=g&&(isNaN(f)&&isNaN(h)&&(g>r/s?f=.8*r:h=.8*s),isNaN(f)&&(f=g*h),isNaN(h)&&(h=f/g)),isNaN(u)&&(u=r-c-f-m),isNaN(l)&&(l=s-d-h-p),e.left||e.right){case"center":u=r/2-f/2-n[3];break;case"right":u=r-f-m}switch(e.top||e.bottom){case"middle":case"center":l=s/2-h/2-n[0];break;case"bottom":l=s-h-p}u=u||0,l=l||0,isNaN(f)&&(f=r-m-u-(c||0)),isNaN(h)&&(h=s-p-l-(d||0));var v=new i.Z(u+n[3],l+n[0],f,h);return v.margin=n,v}function p(e,t,n,a,o,s){var u,l=!o||!o.hv||o.hv[0],c=!o||!o.hv||o.hv[1],d=o&&o.boundingMode||"all";if((s=s||e).x=e.x,s.y=e.y,!l&&!c)return!1;if("raw"===d)u="group"===e.type?new i.Z(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(u=e.getBoundingRect(),e.needLocalTransform()){var f=e.getLocalTransform();(u=u.clone()).applyTransform(f)}var p=h(r.defaults({width:u.width,height:u.height},t),n,a),m=l?p.x-u.x:0,g=c?p.y-u.y:0;return"raw"===d?(s.x=m,s.y=g):(s.x+=m,s.y+=g),s===e&&e.markRedraw(),!0}function m(e,t){return null!=e[l[t][0]]||null!=e[l[t][1]]&&null!=e[l[t][2]]}function g(e){var t=e.layoutMode||e.constructor.layoutMode;return r.isObject(t)?t:t?{type:t}:null}function v(e,t,n){var i=n&&n.ignoreSize;!r.isArray(i)&&(i=[i,i]);var a=u(l[0],0),o=u(l[1],1);function u(n,r){var a={},o=0,u={},l=0;if(s(n,(function(t){u[t]=e[t]})),s(n,(function(e){c(t,e)&&(a[e]=u[e]=t[e]),d(a,e)&&o++,d(u,e)&&l++})),i[r])return d(t,n[1])?u[n[2]]=null:d(t,n[2])&&(u[n[1]]=null),u;if(2!==l&&o){if(o>=2)return a;for(var f=0;f<n.length;f++){var h=n[f];if(!c(a,h)&&c(e,h)){a[h]=e[h];break}}return a}return u}function c(e,t){return e.hasOwnProperty(t)}function d(e,t){return null!=e[t]&&"auto"!==e[t]}function f(e,t,n){s(e,(function(e){t[e]=n[e]}))}f(l[0],e,a),f(l[1],e,o)}function y(e){return x({},e)}function x(e,t){return t&&e&&s(u,(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}},85326:function(e,t,n){"use strict";n.d(t,{Sh:function(){return s},ZK:function(){return o},_y:function(){return u}});var r={},i="undefined"!==typeof console&&console.warn&&console.log;function a(e,t,n){if(i){if(n){if(r[t])return;r[t]=!0}console[e]("[ECharts] "+t)}}function o(e,t){a("warn",e,t)}function s(e){0}function u(e){throw new Error(e)}},71169:function(e,t,n){"use strict";n.d(t,{C4:function(){return f},C6:function(){return I},Cc:function(){return c},Co:function(){return h},HZ:function(){return M},IL:function(){return N},O0:function(){return w},P$:function(){return E},Td:function(){return d},U5:function(){return v},U9:function(){return R},XI:function(){return _},Yf:function(){return C},ab:function(){return p},g0:function(){return b},gO:function(){return S},iP:function(){return A},kF:function(){return l},lY:function(){return x},pk:function(){return O},pm:function(){return D},pv:function(){return P},yu:function(){return y},zH:function(){return T}});var r=n(76884),i=n(71118),a=n(11671);function o(e,t,n){return(t-e)*n+e}var s="series\0",u="\0_ec_\0";function l(e){return e instanceof Array?e:null==e?[]:[e]}function c(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var r=0,i=n.length;r<i;r++){var a=n[r];!e.emphasis[t].hasOwnProperty(a)&&e[t].hasOwnProperty(a)&&(e.emphasis[t][a]=e[t][a])}}}var d=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function f(e){return!(0,r.isObject)(e)||(0,r.isArray)(e)||e instanceof Date?e:e.value}function h(e){return(0,r.isObject)(e)&&!(e instanceof Array)}function p(e,t,n){var i="normalMerge"===n,a="replaceMerge"===n,o="replaceAll"===n;e=e||[],t=(t||[]).slice();var u=(0,r.createHashMap)();(0,r.each)(t,(function(e,n){(0,r.isObject)(e)||(t[n]=null)}));var l=function(e,t,n){var r=[];if("replaceAll"===n)return r;for(var i=0;i<e.length;i++){var a=e[i];a&&null!=a.id&&t.set(a.id,i),r.push({existing:"replaceMerge"===n||x(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return r}(e,u,n);return(i||a)&&function(e,t,n,i){(0,r.each)(i,(function(a,o){if(a&&null!=a.id){var s=g(a.id),u=n.get(s);if(null!=u){var l=e[u];(0,r.assert)(!l.newOption,'Duplicated option on id "'+s+'".'),l.newOption=a,l.existing=t[u],i[o]=null}}}))}(l,e,u,t),i&&function(e,t){(0,r.each)(t,(function(n,r){if(n&&null!=n.name)for(var i=0;i<e.length;i++){var a=e[i].existing;if(!e[i].newOption&&a&&(null==a.id||null==n.id)&&!x(n)&&!x(a)&&m("name",a,n))return e[i].newOption=n,void(t[r]=null)}}))}(l,t),i||a?function(e,t,n){(0,r.each)(t,(function(t){if(t){for(var r,i=0;(r=e[i])&&(r.newOption||x(r.existing)||r.existing&&null!=t.id&&!m("id",t,r.existing));)i++;r?(r.newOption=t,r.brandNew=n):e.push({newOption:t,brandNew:n,existing:null,keyInfo:null}),i++}}))}(l,t,a):o&&function(e,t){(0,r.each)(t,(function(t){e.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})}))}(l,t),function(e){var t=(0,r.createHashMap)();(0,r.each)(e,(function(e){var n=e.existing;n&&t.set(n.id,e)})),(0,r.each)(e,(function(e){var n=e.newOption;(0,r.assert)(!n||null==n.id||!t.get(n.id)||t.get(n.id)===e,"id duplicates: "+(n&&n.id)),n&&null!=n.id&&t.set(n.id,e),!e.keyInfo&&(e.keyInfo={})})),(0,r.each)(e,(function(e,n){var i=e.existing,a=e.newOption,o=e.keyInfo;if((0,r.isObject)(a)){if(o.name=null!=a.name?g(a.name):i?i.name:s+n,i)o.id=g(i.id);else if(null!=a.id)o.id=g(a.id);else{var u=0;do{o.id="\0"+o.name+"\0"+u++}while(t.get(o.id))}t.set(o.id,e)}}))}(l),l}function m(e,t,n){var r=v(t[e],null),i=v(n[e],null);return null!=r&&null!=i&&r===i}function g(e){return v(e,"")}function v(e,t){return null==e?t:(0,r.isString)(e)?e:(0,r.isNumber)(e)||(0,r.isStringSafe)(e)?e+"":t}function y(e){var t=e.name;return!(!t||!t.indexOf(s))}function x(e){return e&&null!=e.id&&0===g(e.id).indexOf(u)}function b(e){return u+e}function w(e,t,n){(0,r.each)(e,(function(e){var i=e.newOption;(0,r.isObject)(i)&&(e.keyInfo.mainType=t,e.keyInfo.subType=function(e,t,n,r){return t.type?t.type:n?n.subType:r.determineSubType(e,t)}(t,i,e.existing,n))}))}function _(e,t){var n={},r={};return i(e||[],n),i(t||[],r,n),[a(n),a(r)];function i(e,t,n){for(var r=0,i=e.length;r<i;r++){var a=v(e[r].seriesId,null);if(null==a)return;for(var o=l(e[r].dataIndex),s=n&&n[a],u=0,c=o.length;u<c;u++){var d=o[u];s&&s[d]?s[d]=null:(t[a]||(t[a]={}))[d]=1}}}function a(e,t){var n=[];for(var r in e)if(e.hasOwnProperty(r)&&null!=e[r])if(t)n.push(+r);else{var i=a(e[r],!0);i.length&&n.push({seriesId:r,dataIndex:i})}return n}}function S(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?(0,r.isArray)(t.dataIndex)?(0,r.map)(t.dataIndex,(function(t){return e.indexOfRawIndex(t)})):e.indexOfRawIndex(t.dataIndex):null!=t.name?(0,r.isArray)(t.name)?(0,r.map)(t.name,(function(t){return e.indexOfName(t)})):e.indexOfName(t.name):void 0}function C(){var e="__ec_inner_"+k++;return function(t){return t[e]||(t[e]={})}}var k=(0,a.jj)();function D(e,t,n){var r=T(t,n),i=r.mainTypeSpecified,a=r.queryOptionMap,o=r.others,s=n?n.defaultMainType:null;return!i&&s&&a.set(s,{}),a.each((function(t,r){var i=M(e,r,t,{useDefault:s===r,enableAll:!n||null==n.enableAll||n.enableAll,enableNone:!n||null==n.enableNone||n.enableNone});o[r+"Models"]=i.models,o[r+"Model"]=i.models[0]})),o}function T(e,t){var n;if((0,r.isString)(e)){var i={};i[e+"Index"]=0,n=i}else n=e;var a=(0,r.createHashMap)(),o={},s=!1;return(0,r.each)(n,(function(e,n){if("dataIndex"!==n&&"dataIndexInside"!==n){var i=n.match(/^(\w+)(Index|Id|Name)$/)||[],u=i[1],l=(i[2]||"").toLowerCase();if(u&&l&&!(t&&t.includeMainTypes&&(0,r.indexOf)(t.includeMainTypes,u)<0))s=s||!!u,(a.get(u)||a.set(u,{}))[l]=e}else o[n]=e})),{mainTypeSpecified:s,queryOptionMap:a,others:o}}var I={useDefault:!0,enableAll:!1,enableNone:!1},A={useDefault:!1,enableAll:!0,enableNone:!0};function M(e,t,n,i){i=i||I;var a=n.index,o=n.id,s=n.name,u={models:null,specified:null!=a||null!=o||null!=s};if(!u.specified){var l=void 0;return u.models=i.useDefault&&(l=e.getComponent(t))?[l]:[],u}return"none"===a||!1===a?((0,r.assert)(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),u.models=[],u):("all"===a&&((0,r.assert)(i.enableAll,'`"all"` is not a valid value on index option.'),a=o=s=null),u.models=e.queryComponents({mainType:t,index:a,id:o,name:s}),u)}function E(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function N(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function R(e){return"auto"===e?i.Z.domSupported?"html":"richText":e||"html"}function P(e,t){var n=(0,r.createHashMap)(),i=[];return(0,r.each)(e,(function(e){var r=t(e);(n.get(r)||(i.push(r),n.set(r,[]))).push(e)})),{keys:i,buckets:n}}function O(e,t,n,i,s){var u=null==t||"auto"===t;if(null==i)return i;if((0,r.isNumber)(i)){var l=o(n||0,i,s);return(0,a.NM)(l,u?Math.max((0,a.p8)(n||0),(0,a.p8)(i)):t)}if((0,r.isString)(i))return s<1?n:i;for(var c=[],d=n,f=i,h=Math.max(d?d.length:0,f.length),p=0;p<h;++p){var m=e.getDimensionInfo(p);if(m&&"ordinal"===m.type)c[p]=(s<1&&d?d:f)[p];else{var g=d&&d[p]?d[p]:0,v=f[p];l=o(g,v,s);c[p]=(0,a.NM)(l,u?Math.max((0,a.p8)(g),(0,a.p8)(v)):t)}}return c}},11671:function(e,t,n){"use strict";n.d(t,{FK:function(){return C},GM:function(){return o},M9:function(){return d},NM:function(){return s},NU:function(){return a},S$:function(){return h},VR:function(){return _},Xd:function(){return x},YM:function(){return p},ZB:function(){return c},dt:function(){return u},eJ:function(){return f},jj:function(){return D},kE:function(){return k},kx:function(){return w},mW:function(){return g},nR:function(){return S},nl:function(){return I},p8:function(){return l},sG:function(){return y},wW:function(){return m},xW:function(){return b}});var r=n(76884),i=1e-4;function a(e,t,n,r){var i=t[0],a=t[1],o=n[0],s=n[1],u=a-i,l=s-o;if(0===u)return 0===l?o:(o+s)/2;if(r)if(u>0){if(e<=i)return o;if(e>=a)return s}else{if(e>=i)return o;if(e<=a)return s}else{if(e===i)return o;if(e===a)return s}return(e-i)/u*l+o}function o(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return r.isString(e)?(n=e,n.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e;var n}function s(e,t,n){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),n?e:+e}function u(e){return e.sort((function(e,t){return e-t})),e}function l(e){if(e=+e,isNaN(e))return 0;if(e>1e-14)for(var t=1,n=0;n<15;n++,t*=10)if(Math.round(e*t)/t===e)return n;return c(e)}function c(e){var t=e.toString().toLowerCase(),n=t.indexOf("e"),r=n>0?+t.slice(n+1):0,i=n>0?n:t.length,a=t.indexOf("."),o=a<0?0:i-1-a;return Math.max(0,o-r)}function d(e,t){var n=Math.log,r=Math.LN10,i=Math.floor(n(e[1]-e[0])/r),a=Math.round(n(Math.abs(t[1]-t[0]))/r),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function f(e,t,n){if(!e[t])return 0;var i=r.reduce(e,(function(e,t){return e+(isNaN(t)?0:t)}),0);if(0===i)return 0;for(var a=Math.pow(10,n),o=r.map(e,(function(e){return(isNaN(e)?0:e)/i*a*100})),s=100*a,u=r.map(o,(function(e){return Math.floor(e)})),l=r.reduce(u,(function(e,t){return e+t}),0),c=r.map(o,(function(e,t){return e-u[t]}));l<s;){for(var d=Number.NEGATIVE_INFINITY,f=null,h=0,p=c.length;h<p;++h)c[h]>d&&(d=c[h],f=h);++u[f],c[f]=0,++l}return u[t]/a}function h(e,t){var n=Math.max(l(e),l(t)),r=e+t;return n>20?r:s(r,n)}var p=9007199254740991;function m(e){var t=2*Math.PI;return(e%t+t)%t}function g(e){return e>-1e-4&&e<i}var v=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function y(e){if(e instanceof Date)return e;if(r.isString(e)){var t=v.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(n-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}return null==e?new Date(NaN):new Date(Math.round(e))}function x(e){return Math.pow(10,b(e))}function b(e){if(0===e)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function w(e,t){var n=b(e),r=Math.pow(10,n),i=e/r;return e=(t?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10)*r,n>=-20?+e.toFixed(n<0?-n:0):e}function _(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],a=n-r;return a?i+a*(e[r]-i):i}function S(e){e.sort((function(e,t){return s(e,t,0)?-1:1}));for(var t=-1/0,n=1,r=0;r<e.length;){for(var i=e[r].interval,a=e[r].close,o=0;o<2;o++)i[o]<=t&&(i[o]=t,a[o]=o?1:1-n),t=i[o],n=a[o];i[0]===i[1]&&a[0]*a[1]!==1?e.splice(r,1):r++}return e;function s(e,t,n){return e.interval[n]<t.interval[n]||e.interval[n]===t.interval[n]&&(e.close[n]-t.close[n]===(n?-1:1)||!n&&s(e,t,1))}}function C(e){var t=parseFloat(e);return t==e&&(0!==t||!r.isString(e)||e.indexOf("x")<=0)?t:NaN}function k(e){return!isNaN(C(e))}function D(){return Math.round(9*Math.random())}function T(e,t){return 0===t?e:T(t,e%t)}function I(e,t){return null==e?t:null==t?e:e*t/T(e,t)}},60886:function(e,t,n){"use strict";n.d(t,{$l:function(){return J},Av:function(){return ce},C5:function(){return ne},CX:function(){return h},Gl:function(){return O},Hg:function(){return b},Ib:function(){return ae},JQ:function(){return w},Ki:function(){return y},L1:function(){return m},MA:function(){return F},Mh:function(){return V},Nj:function(){return le},RW:function(){return fe},SJ:function(){return H},SX:function(){return j},T5:function(){return X},UL:function(){return K},VP:function(){return W},WO:function(){return ue},XX:function(){return U},aG:function(){return he},ci:function(){return te},e9:function(){return me},fD:function(){return z},iK:function(){return _},k5:function(){return ie},oJ:function(){return Q},og:function(){return ee},qc:function(){return g},th:function(){return de},vF:function(){return re},wU:function(){return p},xp:function(){return pe},xr:function(){return $},yx:function(){return x},zI:function(){return Y},zr:function(){return v}});var r=n(79195),i=n(76884),a=n(37890),o=n(35561),s=n(71169),u=n(45162),l=1,c={},d=(0,s.Yf)(),f=(0,s.Yf)(),h=1,p=2,m=["emphasis","blur","select"],g=["normal","emphasis","blur","select"],v=10,y="highlight",x="downplay",b="select",w="unselect",_="toggleSelect";function S(e){return null!=e&&"none"!==e}var C=new r.ZP(100);function k(e){if((0,i.isString)(e)){var t=C.get(e);return t||(t=o.lift(e,-.1),C.put(e,t)),t}if((0,i.isGradientObject)(e)){var n=(0,i.extend)({},e);return n.colorStops=(0,i.map)(e.colorStops,(function(e){return{offset:e.offset,color:o.lift(e.color,-.1)}})),n}return e}function D(e,t,n){e.onHoverStateChange&&(e.hoverState||0)!==n&&e.onHoverStateChange(t),e.hoverState=n}function T(e){D(e,"emphasis",p)}function I(e){e.hoverState===p&&D(e,"normal",0)}function A(e){D(e,"blur",h)}function M(e){e.hoverState===h&&D(e,"normal",0)}function E(e){e.selected=!0}function N(e){e.selected=!1}function R(e,t,n){t(e,n)}function P(e,t,n){R(e,t,n),e.isGroup&&e.traverse((function(e){R(e,t,n)}))}function O(e,t){switch(t){case"emphasis":e.hoverState=p;break;case"normal":e.hoverState=0;break;case"blur":e.hoverState=h;break;case"select":e.selected=!0}}function L(e,t){var n=this.states[e];if(this.style){if("emphasis"===e)return function(e,t,n,r){var a=n&&(0,i.indexOf)(n,"select")>=0,o=!1;if(e instanceof u.ZP){var s=d(e),l=a&&s.selectFill||s.normalFill,c=a&&s.selectStroke||s.normalStroke;if(S(l)||S(c)){var f=(r=r||{}).style||{};"inherit"===f.fill?(o=!0,r=(0,i.extend)({},r),(f=(0,i.extend)({},f)).fill=l):!S(f.fill)&&S(l)?(o=!0,r=(0,i.extend)({},r),(f=(0,i.extend)({},f)).fill=k(l)):!S(f.stroke)&&S(c)&&(o||(r=(0,i.extend)({},r),f=(0,i.extend)({},f)),f.stroke=k(c)),r.style=f}}if(r&&null==r.z2){o||(r=(0,i.extend)({},r));var h=e.z2EmphasisLift;r.z2=e.z2+(null!=h?h:v)}return r}(this,0,t,n);if("blur"===e)return function(e,t,n){var r=(0,i.indexOf)(e.currentStates,t)>=0,a=e.style.opacity,o=r?null:function(e,t,n,r){for(var i=e.style,a={},o=0;o<t.length;o++){var s=t[o],u=i[s];a[s]=null==u?r&&r[s]:u}for(o=0;o<e.animators.length;o++){var l=e.animators[o];l.__fromStateTransition&&l.__fromStateTransition.indexOf(n)<0&&"style"===l.targetName&&l.saveTo(a,t)}return a}(e,["opacity"],t,{opacity:1}),s=(n=n||{}).style||{};return null==s.opacity&&(n=(0,i.extend)({},n),s=(0,i.extend)({opacity:r?a:.1*o.opacity},s),n.style=s),n}(this,e,n);if("select"===e)return function(e,t,n){if(n&&null==n.z2){n=(0,i.extend)({},n);var r=e.z2SelectLift;n.z2=e.z2+(null!=r?r:9)}return n}(this,0,n)}return n}function F(e){e.stateProxy=L;var t=e.getTextContent(),n=e.getTextGuideLine();t&&(t.stateProxy=L),n&&(n.stateProxy=L)}function Z(e,t){!G(e,t)&&!e.__highByOuter&&P(e,T)}function B(e,t){!G(e,t)&&!e.__highByOuter&&P(e,I)}function z(e,t){e.__highByOuter|=1<<(t||0),P(e,T)}function V(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&P(e,I)}function j(e){P(e,A)}function W(e){P(e,M)}function U(e){P(e,E)}function H(e){P(e,N)}function G(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function X(e){var t=e.getModel(),n=[],r=[];t.eachComponent((function(t,i){var a=f(i),o="series"===t,s=o?e.getViewOfSeriesModel(i):e.getViewOfComponentModel(i);!o&&r.push(s),a.isBlured&&(s.group.traverse((function(e){M(e)})),o&&n.push(i)),a.isBlured=!1})),(0,i.each)(r,(function(e){e&&e.toggleBlurSeries&&e.toggleBlurSeries(n,!1,t)}))}function q(e,t,n,r){var a=r.getModel();function o(e,t){for(var n=0;n<t.length;n++){var r=e.getItemGraphicEl(t[n]);r&&W(r)}}if(n=n||"coordinateSystem",null!=e&&t&&"none"!==t){var s=a.getSeriesByIndex(e),u=s.coordinateSystem;u&&u.master&&(u=u.master);var l=[];a.eachSeries((function(e){var a=s===e,c=e.coordinateSystem;if(c&&c.master&&(c=c.master),!("series"===n&&!a||"coordinateSystem"===n&&!(c&&u?c===u:a)||"series"===t&&a)){if(r.getViewOfSeriesModel(e).group.traverse((function(e){A(e)})),(0,i.isArrayLike)(t))o(e.getData(),t);else if((0,i.isObject)(t))for(var d=(0,i.keys)(t),h=0;h<d.length;h++)o(e.getData(d[h]),t[d[h]]);l.push(e),f(e).isBlured=!0}})),a.eachComponent((function(e,t){if("series"!==e){var n=r.getViewOfComponentModel(t);n&&n.toggleBlurSeries&&n.toggleBlurSeries(l,!0,a)}}))}}function Y(e,t,n){if(null!=e&&null!=t){var r=n.getModel().getComponent(e,t);if(r){f(r).isBlured=!0;var i=n.getViewOfComponentModel(r);i&&i.focusBlurEnabled&&i.group.traverse((function(e){A(e)}))}}}function K(e,t,n){var r=e.seriesIndex,o=e.getData(t.dataType);if(o){var u=(0,s.gO)(o,t);u=((0,i.isArray)(u)?u[0]:u)||0;var l=o.getItemGraphicEl(u);if(!l)for(var c=o.count(),d=0;!l&&d<c;)l=o.getItemGraphicEl(d++);if(l){var f=(0,a.A)(l);q(r,f.focus,f.blurScope,n)}else{var h=e.get(["emphasis","focus"]),p=e.get(["emphasis","blurScope"]);null!=h&&q(r,h,p,n)}}}function Q(e,t,n,r){var i={focusSelf:!1,dispatchers:null};if(null==e||"series"===e||null==t||null==n)return i;var o=r.getModel().getComponent(e,t);if(!o)return i;var s=r.getViewOfComponentModel(o);if(!s||!s.findHighDownDispatchers)return i;for(var u,l=s.findHighDownDispatchers(n),c=0;c<l.length;c++)if("self"===(0,a.A)(l[c]).focus){u=!0;break}return{focusSelf:u,dispatchers:l}}function J(e,t,n){var r=(0,a.A)(e),o=Q(r.componentMainType,r.componentIndex,r.componentHighDownName,n),s=o.dispatchers,u=o.focusSelf;s?(u&&Y(r.componentMainType,r.componentIndex,n),(0,i.each)(s,(function(e){return Z(e,t)}))):(q(r.seriesIndex,r.focus,r.blurScope,n),"self"===r.focus&&Y(r.componentMainType,r.componentIndex,n),Z(e,t))}function $(e,t,n){X(n);var r=(0,a.A)(e),o=Q(r.componentMainType,r.componentIndex,r.componentHighDownName,n).dispatchers;o?(0,i.each)(o,(function(e){return B(e,t)})):B(e,t)}function ee(e,t,n){if(he(t)){var r=t.dataType,a=e.getData(r),o=(0,s.gO)(a,t);(0,i.isArray)(o)||(o=[o]),e[t.type===_?"toggleSelect":t.type===b?"select":"unselect"](o,r)}}function te(e){var t=e.getAllData();(0,i.each)(t,(function(t){var n=t.data,r=t.type;n.eachItemGraphicEl((function(t,n){e.isSelected(n,r)?U(t):H(t)}))}))}function ne(e){var t=[];return e.eachSeries((function(e){var n=e.getAllData();(0,i.each)(n,(function(n){n.data;var r=n.type,i=e.getSelectedDataIndices();if(i.length>0){var a={dataIndex:i,seriesIndex:e.seriesIndex};null!=r&&(a.dataType=r),t.push(a)}}))})),t}function re(e,t,n){le(e,!0),P(e,F),ae(e,t,n)}function ie(e,t,n,r){r?function(e){le(e,!1)}(e):re(e,t,n)}function ae(e,t,n){var r=(0,a.A)(e);null!=t?(r.focus=t,r.blurScope=n):r.focus&&(r.focus=null)}var oe=["emphasis","blur","select"],se={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ue(e,t,n,r){n=n||"itemStyle";for(var i=0;i<oe.length;i++){var a=oe[i],o=t.getModel([a,n]);e.ensureState(a).style=r?r(o):o[se[n]]()}}function le(e,t){var n=!1===t,r=e;e.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=e.highDownSilentOnTouch),n&&!r.__highDownDispatcher||(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function ce(e){return!(!e||!e.__highDownDispatcher)}function de(e,t,n){var r=(0,a.A)(e);r.componentMainType=t.mainType,r.componentIndex=t.componentIndex,r.componentHighDownName=n}function fe(e){var t=c[e];return null==t&&l<=32&&(t=c[e]=l++),t}function he(e){var t=e.type;return t===b||t===w||t===_}function pe(e){var t=e.type;return t===y||t===x}function me(e){var t=d(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var n=e.states.select||{};t.selectFill=n.style&&n.style.fill||null,t.selectStroke=n.style&&n.style.stroke||null}},12438:function(e,t,n){"use strict";n.d(t,{Cq:function(){return S},Pw:function(){return y},th:function(){return w},zp:function(){return _}});var r=n(76884),i=n(45162),a=n(71768),o=n(60595),s=n(11345),u=n(26871),l=n(97057),c=n(15849),d=n(11671),f=i.ZP.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=t.width/2,a=t.height/2;e.moveTo(n,r-a),e.lineTo(n+i,r+a),e.lineTo(n-i,r+a),e.closePath()}}),h=i.ZP.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=t.width/2,a=t.height/2;e.moveTo(n,r-a),e.lineTo(n+i,r),e.lineTo(n,r+a),e.lineTo(n-i,r),e.closePath()}}),p=i.ZP.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,r=t.y,i=t.width/5*3,a=Math.max(i,t.height),o=i/2,s=o*o/(a-o),u=r-a+o+s,l=Math.asin(s/o),c=Math.cos(l)*o,d=Math.sin(l),f=Math.cos(l),h=.6*o,p=.7*o;e.moveTo(n-c,u+s),e.arc(n,u,o,Math.PI-l,2*Math.PI+l),e.bezierCurveTo(n+c-d*h,u+s+f*h,n,r-p,n,r),e.bezierCurveTo(n,r-p,n-c+d*h,u+s+f*h,n-c,u+s),e.closePath()}}),m=i.ZP.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,r=t.width,i=t.x,a=t.y,o=r/3*2;e.moveTo(i,a),e.lineTo(i+o,a+n),e.lineTo(i,a+n/4*3),e.lineTo(i-o,a+n),e.lineTo(i,a),e.closePath()}}),g={line:a.Z,rect:o.Z,roundRect:o.Z,square:o.Z,circle:s.Z,diamond:h,pin:p,arrow:m,triangle:f},v={line:function(e,t,n,r,i){i.x1=e,i.y1=t+r/2,i.x2=e+n,i.y2=t+r/2},rect:function(e,t,n,r,i){i.x=e,i.y=t,i.width=n,i.height=r},roundRect:function(e,t,n,r,i){i.x=e,i.y=t,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(e,t,n,r,i){var a=Math.min(n,r);i.x=e,i.y=t,i.width=a,i.height=a},circle:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.r=Math.min(n,r)/2},diamond:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.width=n,i.height=r},pin:function(e,t,n,r,i){i.x=e+n/2,i.y=t+r/2,i.width=n,i.height=r},arrow:function(e,t,n,r,i){i.x=e+n/2,i.y=t+r/2,i.width=n,i.height=r},triangle:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.width=n,i.height=r}},y={};(0,r.each)(g,(function(e,t){y[t]=new e}));var x=i.ZP.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var r=(0,c.wI)(e,t,n),i=this.shape;return i&&"pin"===i.symbolType&&"inside"===t.position&&(r.y=n.y+.4*n.height),r},buildPath:function(e,t,n){var r=t.symbolType;if("none"!==r){var i=y[r];i||(i=y[r="rect"]),v[r](t.x,t.y,t.width,t.height,i.shape),i.buildPath(e,i.shape,n)}}});function b(e,t){if("image"!==this.type){var n=this.style;this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff",n.lineWidth=2):"line"===this.shape.symbolType?n.stroke=e:n.fill=e,this.markRedraw()}}function w(e,t,n,r,i,a,o){var s,c=0===e.indexOf("empty");return c&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),(s=0===e.indexOf("image://")?u.makeImage(e.slice(8),new l.Z(t,n,r,i),o?"center":"cover"):0===e.indexOf("path://")?u.makePath(e.slice(7),{},new l.Z(t,n,r,i),o?"center":"cover"):new x({shape:{symbolType:e,x:t,y:n,width:r,height:i}})).__isEmptyBrush=c,s.setColor=b,a&&s.setColor(a),s}function _(e){return(0,r.isArray)(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function S(e,t){if(null!=e)return(0,r.isArray)(e)||(e=[e,e]),[(0,d.GM)(e[0],t[0])||0,(0,d.GM)((0,r.retrieve2)(e[1],e[0]),t[1])||0]}},90964:function(e,t,n){"use strict";n.d(t,{P2:function(){return o},T9:function(){return s},ZH:function(){return u}});var r="\0__throttleOriginMethod",i="\0__throttleRate",a="\0__throttleType";function o(e,t,n){var r,i,a,o,s,u=0,l=0,c=null;function d(){l=(new Date).getTime(),c=null,e.apply(a,o||[])}t=t||0;var f=function(){for(var e=[],f=0;f<arguments.length;f++)e[f]=arguments[f];r=(new Date).getTime(),a=this,o=e;var h=s||t,p=s||n;s=null,i=r-(p?u:l)-h,clearTimeout(c),p?c=setTimeout(d,h):i>=0?d():c=setTimeout(d,-i),u=r};return f.clear=function(){c&&(clearTimeout(c),c=null)},f.debounceNextCall=function(e){s=e},f}function s(e,t,n,s){var u=e[t];if(u){var l=u[r]||u,c=u[a];if(u[i]!==n||c!==s){if(null==n||!s)return e[t]=l;(u=e[t]=o(l,n,"debounce"===s))[r]=l,u[a]=s,u[i]=n}return u}}function u(e,t){var n=e[t];n&&n[r]&&(n.clear&&n.clear(),e[t]=n[r])}},10481:function(e,t,n){"use strict";n.d(t,{$K:function(){return x},CW:function(){return D},En:function(){return O},FW:function(){return g},MV:function(){return M},P5:function(){return d},RZ:function(){return E},Tj:function(){return y},V8:function(){return p},WT:function(){return s},WU:function(){return w},Wp:function(){return I},cb:function(){return Z},dV:function(){return l},eN:function(){return L},f5:function(){return P},fn:function(){return A},k7:function(){return _},q5:function(){return C},rM:function(){return F},s2:function(){return c},sx:function(){return k},vh:function(){return R},vk:function(){return v},xC:function(){return b},xL:function(){return N},xz:function(){return T},yR:function(){return u}});var r=n(76884),i=n(11671),a=n(7334),o=n(81149),s=1e3,u=60*s,l=60*u,c=24*l,d=365*c,f={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},h="{yyyy}-{MM}-{dd}",p={year:"{yyyy}",month:"{yyyy}-{MM}",day:h,hour:"{yyyy}-{MM}-{dd} "+f.hour,minute:"{yyyy}-{MM}-{dd} "+f.minute,second:"{yyyy}-{MM}-{dd} "+f.second,millisecond:f.none},m=["year","month","day","hour","minute","second","millisecond"],g=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function v(e,t){return"0000".substr(0,t-(e+="").length)+e}function y(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function x(e){return e===y(e)}function b(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function w(e,t,n,r){var s=i.sG(e),u=s[k(n)](),l=s[D(n)]()+1,c=Math.floor((l-1)/4)+1,d=s[T(n)](),f=s["get"+(n?"UTC":"")+"Day"](),h=s[I(n)](),p=(h-1)%12+1,m=s[A(n)](),g=s[M(n)](),y=s[E(n)](),x=(r instanceof o.Z?r:(0,a.G8)(r||a.sO)||(0,a.Li)()).getModel("time"),b=x.get("month"),w=x.get("monthAbbr"),_=x.get("dayOfWeek"),S=x.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,u+"").replace(/{yy}/g,u%100+"").replace(/{Q}/g,c+"").replace(/{MMMM}/g,b[l-1]).replace(/{MMM}/g,w[l-1]).replace(/{MM}/g,v(l,2)).replace(/{M}/g,l+"").replace(/{dd}/g,v(d,2)).replace(/{d}/g,d+"").replace(/{eeee}/g,_[f]).replace(/{ee}/g,S[f]).replace(/{e}/g,f+"").replace(/{HH}/g,v(h,2)).replace(/{H}/g,h+"").replace(/{hh}/g,v(p+"",2)).replace(/{h}/g,p+"").replace(/{mm}/g,v(m,2)).replace(/{m}/g,m+"").replace(/{ss}/g,v(g,2)).replace(/{s}/g,g+"").replace(/{SSS}/g,v(y,3)).replace(/{S}/g,y+"")}function _(e,t,n,i,a){var o=null;if(r.isString(n))o=n;else if(r.isFunction(n))o=n(e.value,t,{level:e.level});else{var s=r.extend({},f);if(e.level>0)for(var u=0;u<m.length;++u)s[m[u]]="{primary|"+s[m[u]]+"}";var l=n?!1===n.inherit?n:r.defaults(n,s):s,c=S(e.value,a);if(l[c])o=l[c];else if(l.inherit){for(u=g.indexOf(c)-1;u>=0;--u)if(l[c]){o=l[c];break}o=o||s.none}if(r.isArray(o)){var d=null==e.level?0:e.level>=0?e.level:o.length+e.level;o=o[d=Math.min(d,o.length-1)]}}return w(new Date(e.value),o,a,i)}function S(e,t){var n=i.sG(e),r=n[D(t)]()+1,a=n[T(t)](),o=n[I(t)](),s=n[A(t)](),u=n[M(t)](),l=0===n[E(t)](),c=l&&0===u,d=c&&0===s,f=d&&0===o,h=f&&1===a;return h&&1===r?"year":h?"month":f?"day":d?"hour":c?"minute":l?"second":"millisecond"}function C(e,t,n){var a=r.isNumber(e)?i.sG(e):e;switch(t=t||S(e,n)){case"year":return a[k(n)]();case"half-year":return a[D(n)]()>=6?1:0;case"quarter":return Math.floor((a[D(n)]()+1)/4);case"month":return a[D(n)]();case"day":return a[T(n)]();case"half-day":return a[I(n)]()/24;case"hour":return a[I(n)]();case"minute":return a[A(n)]();case"second":return a[M(n)]();case"millisecond":return a[E(n)]()}}function k(e){return e?"getUTCFullYear":"getFullYear"}function D(e){return e?"getUTCMonth":"getMonth"}function T(e){return e?"getUTCDate":"getDate"}function I(e){return e?"getUTCHours":"getHours"}function A(e){return e?"getUTCMinutes":"getMinutes"}function M(e){return e?"getUTCSeconds":"getSeconds"}function E(e){return e?"getUTCMilliseconds":"getMilliseconds"}function N(e){return e?"setUTCFullYear":"setFullYear"}function R(e){return e?"setUTCMonth":"setMonth"}function P(e){return e?"setUTCDate":"setDate"}function O(e){return e?"setUTCHours":"setHours"}function L(e){return e?"setUTCMinutes":"setMinutes"}function F(e){return e?"setUTCSeconds":"setSeconds"}function Z(e){return e?"setUTCMilliseconds":"setMilliseconds"}},88542:function(e,t,n){"use strict";n.d(t,{J5:function(){return u},RA:function(){return l},Wc:function(){return d},XD:function(){return a},cy:function(){return i},f7:function(){return r},fY:function(){return c},hL:function(){return s},qb:function(){return o}});var r=(0,n(76884).createHashMap)(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),i="original",a="arrayRows",o="objectRows",s="keyedColumns",u="typedArray",l="unknown",c="column",d="row"},68117:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var r=n(76884),i="undefined"!==typeof Float32Array,a=i?Float32Array:Array;function o(e){return(0,r.isArray)(e)?i?new Float32Array(e):e:new a(e)}},52037:function(e,t,n){"use strict";var r=n(76884),i=n(94060),a=n(8927),o=n(64657),s=n(71169),u=n(60886),l=n(6011),c=n(5402),d=n(26871),f=s.Yf(),h=(0,c.Z)(),p=function(){function e(){this.group=new i.Z,this.uid=a.Kr("viewChart"),this.renderTask=(0,l.v)({plan:v,reset:y}),this.renderTask.context={view:this}}return e.prototype.init=function(e,t){},e.prototype.render=function(e,t,n,r){0},e.prototype.highlight=function(e,t,n,r){var i=e.getData(r&&r.dataType);i&&g(i,r,"emphasis")},e.prototype.downplay=function(e,t,n,r){var i=e.getData(r&&r.dataType);i&&g(i,r,"normal")},e.prototype.remove=function(e,t){this.group.removeAll()},e.prototype.dispose=function(e,t){},e.prototype.updateView=function(e,t,n,r){this.render(e,t,n,r)},e.prototype.updateLayout=function(e,t,n,r){this.render(e,t,n,r)},e.prototype.updateVisual=function(e,t,n,r){this.render(e,t,n,r)},e.prototype.eachRendered=function(e){(0,d.traverseElements)(this.group,e)},e.markUpdateMethod=function(e,t){f(e).updateMethod=t},e.protoInitialize=void(e.prototype.type="chart"),e}();function m(e,t,n){e&&(0,u.Av)(e)&&("emphasis"===t?u.fD:u.Mh)(e,n)}function g(e,t,n){var i=s.gO(e,t),a=t&&null!=t.highlightKey?(0,u.RW)(t.highlightKey):null;null!=i?(0,r.each)(s.kF(i),(function(t){m(e.getItemGraphicEl(t),n,a)})):e.eachItemGraphicEl((function(e){m(e,n,a)}))}function v(e){return h(e.model)}function y(e){var t=e.model,n=e.ecModel,r=e.api,i=e.payload,a=t.pipelineContext.progressiveRender,o=e.view,s=i&&f(i).updateMethod,u=a?"incrementalPrepareRender":s&&o[s]?s:"render";return"render"!==u&&o[u](t,n,r,i),x[u]}o.dm(p,["dispose"]),o.au(p);var x={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}};t.Z=p},10484:function(e,t,n){"use strict";var r=n(94060),i=n(8927),a=n(64657),o=function(){function e(){this.group=new r.Z,this.uid=i.Kr("viewComponent")}return e.prototype.init=function(e,t){},e.prototype.render=function(e,t,n,r){},e.prototype.dispose=function(e,t){},e.prototype.updateView=function(e,t,n,r){},e.prototype.updateLayout=function(e,t,n,r){},e.prototype.updateVisual=function(e,t,n,r){},e.prototype.toggleBlurSeries=function(e,t,n){},e.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},e}();a.dm(o),a.au(o),t.Z=o},16552:function(e,t,n){"use strict";function r(e,t,n){switch(n){case"color":return e.getItemVisual(t,"style")[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,n)}}function i(e,t){switch(t){case"color":return e.getVisual("style")[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function a(e,t,n,r){switch(n){case"color":e.ensureUniqueItemVisual(t,"style")[e.getVisual("drawType")]=r,e.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":e.ensureUniqueItemVisual(t,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":e.setItemVisual(t,n,r)}}n.d(t,{LZ:function(){return a},Or:function(){return r},UL:function(){return i}})},48609:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;Object.create},78262:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},62110:function(e,t,n){"use strict";var r=n(48309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=c(n);d&&(o=o.concat(d(n)));for(var s=u(t),m=u(n),g=0;g<o.length;++g){var v=o[g];if(!a[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=f(n,v);try{l(t,v,y)}catch(x){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case a:case s:case o:case h:return e;default:switch(e=e&&e.$$typeof){case l:case f:case g:case m:case u:return e;default:return t}}case i:return t}}}function _(e){return w(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return _(e)||w(e)===c},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===s||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===u||e.$$typeof===l||e.$$typeof===f||e.$$typeof===y||e.$$typeof===x||e.$$typeof===b||e.$$typeof===v)},t.typeOf=w},48309:function(e,t,n){"use strict";e.exports=n(746)},95095:function(e,t,n){var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,c=u||l||Function("return this")(),d=Object.prototype.toString,f=Math.max,h=Math.min,p=function(){return c.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=a.test(e);return n||o.test(e)?s(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,a,o,s,u,l=0,c=!1,d=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,a=i;return r=i=void 0,l=t,o=e.apply(a,n)}function x(e){return l=e,s=setTimeout(w,t),c?y(e):o}function b(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-l>=a}function w(){var e=p();if(b(e))return _(e);s=setTimeout(w,function(e){var n=t-(e-u);return d?h(n,a-(e-l)):n}(e))}function _(e){return s=void 0,v&&r?y(e):(r=i=void 0,o)}function S(){var e=p(),n=b(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return x(u);if(d)return s=setTimeout(w,t),y(u)}return void 0===s&&(s=setTimeout(w,t)),o}return t=g(t)||0,m(n)&&(c=!!n.leading,a=(d="maxWait"in n)?f(g(n.maxWait)||0,t):a,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=u=i=s=void 0},S.flush=function(){return void 0===s?o:_(p())},S}},763:function(e,t,n){var r;e=n.nmd(e),function(){var i,a="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,l=32,c=64,d=128,f=256,h=1/0,p=9007199254740991,m=NaN,g=4294967295,v=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",l],["partialRight",c],["rearg",f]],y="[object Arguments]",x="[object Array]",b="[object Boolean]",w="[object Date]",_="[object Error]",S="[object Function]",C="[object GeneratorFunction]",k="[object Map]",D="[object Number]",T="[object Object]",I="[object Promise]",A="[object RegExp]",M="[object Set]",E="[object String]",N="[object Symbol]",R="[object WeakMap]",P="[object ArrayBuffer]",O="[object DataView]",L="[object Float32Array]",F="[object Float64Array]",Z="[object Int8Array]",B="[object Int16Array]",z="[object Int32Array]",V="[object Uint8Array]",j="[object Uint8ClampedArray]",W="[object Uint16Array]",U="[object Uint32Array]",H=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,X=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,K=RegExp(q.source),Q=RegExp(Y.source),J=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(ie.source),oe=/^\s+/,se=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,xe=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,Ce="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",De="a-z\\xdf-\\xf6\\xf8-\\xff",Te="A-Z\\xc0-\\xd6\\xd8-\\xde",Ie="\\ufe0e\\ufe0f",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Me="['\u2019]",Ee="[\\ud800-\\udfff]",Ne="["+Ae+"]",Re="["+Ce+"]",Pe="\\d+",Oe="[\\u2700-\\u27bf]",Le="["+De+"]",Fe="[^\\ud800-\\udfff"+Ae+Pe+ke+De+Te+"]",Ze="\\ud83c[\\udffb-\\udfff]",Be="[^\\ud800-\\udfff]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Ve="[\\ud800-\\udbff][\\udc00-\\udfff]",je="["+Te+"]",We="(?:"+Le+"|"+Fe+")",Ue="(?:"+je+"|"+Fe+")",He="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ge="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Xe="(?:"+Re+"|"+Ze+")"+"?",qe="[\\ufe0e\\ufe0f]?",Ye=qe+Xe+("(?:\\u200d(?:"+[Be,ze,Ve].join("|")+")"+qe+Xe+")*"),Ke="(?:"+[Oe,ze,Ve].join("|")+")"+Ye,Qe="(?:"+[Be+Re+"?",Re,ze,Ve,Ee].join("|")+")",Je=RegExp(Me,"g"),$e=RegExp(Re,"g"),et=RegExp(Ze+"(?="+Ze+")|"+Qe+Ye,"g"),tt=RegExp([je+"?"+Le+"+"+He+"(?="+[Ne,je,"$"].join("|")+")",Ue+"+"+Ge+"(?="+[Ne,je+We,"$"].join("|")+")",je+"?"+We+"+"+He,je+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pe,Ke].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Ce+Ie+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,ot={};ot[L]=ot[F]=ot[Z]=ot[B]=ot[z]=ot[V]=ot[j]=ot[W]=ot[U]=!0,ot[y]=ot[x]=ot[P]=ot[b]=ot[O]=ot[w]=ot[_]=ot[S]=ot[k]=ot[D]=ot[T]=ot[A]=ot[M]=ot[E]=ot[R]=!1;var st={};st[y]=st[x]=st[P]=st[O]=st[b]=st[w]=st[L]=st[F]=st[Z]=st[B]=st[z]=st[k]=st[D]=st[T]=st[A]=st[M]=st[E]=st[N]=st[V]=st[j]=st[W]=st[U]=!0,st[_]=st[S]=st[R]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ct=parseInt,dt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ft="object"==typeof self&&self&&self.Object===Object&&self,ht=dt||ft||Function("return this")(),pt=t&&!t.nodeType&&t,mt=pt&&e&&!e.nodeType&&e,gt=mt&&mt.exports===pt,vt=gt&&dt.process,yt=function(){try{var e=mt&&mt.require&&mt.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(t){}}(),xt=yt&&yt.isArrayBuffer,bt=yt&&yt.isDate,wt=yt&&yt.isMap,_t=yt&&yt.isRegExp,St=yt&&yt.isSet,Ct=yt&&yt.isTypedArray;function kt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Dt(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Et(e,t){return!!(null==e?0:e.length)&&Vt(e,t,0)>-1}function Nt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Pt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ot(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Lt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Zt=Ht("length");function Bt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function zt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Vt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):zt(e,Wt,n)}function jt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function Wt(e){return e!==e}function Ut(e,t){var n=null==e?0:e.length;return n?qt(e,t)/n:m}function Ht(e){return function(t){return null==t?i:t[e]}}function Gt(e){return function(t){return null==e?i:e[t]}}function Xt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function qt(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function Yt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Kt(e){return e?e.slice(0,mn(e)+1).replace(oe,""):e}function Qt(e){return function(t){return e(t)}}function Jt(e,t){return Rt(t,(function(t){return e[t]}))}function $t(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Vt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Vt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Gt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+ut[e]}function sn(e){return nt.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function cn(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==s||(e[n]=s,a[i++]=n)}return a}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function hn(e){return sn(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Zt(e)}function pn(e){return sn(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gn=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function e(t){var n=(t=null==t?ht:vn.defaults(ht.Object(),t,vn.pick(ht,it))).Array,r=t.Date,se=t.Error,Ce=t.Function,ke=t.Math,De=t.Object,Te=t.RegExp,Ie=t.String,Ae=t.TypeError,Me=n.prototype,Ee=Ce.prototype,Ne=De.prototype,Re=t["__core-js_shared__"],Pe=Ee.toString,Oe=Ne.hasOwnProperty,Le=0,Fe=function(){var e=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ze=Ne.toString,Be=Pe.call(De),ze=ht._,Ve=Te("^"+Pe.call(Oe).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),je=gt?t.Buffer:i,We=t.Symbol,Ue=t.Uint8Array,He=je?je.allocUnsafe:i,Ge=ln(De.getPrototypeOf,De),Xe=De.create,qe=Ne.propertyIsEnumerable,Ye=Me.splice,Ke=We?We.isConcatSpreadable:i,Qe=We?We.iterator:i,et=We?We.toStringTag:i,nt=function(){try{var e=fa(De,"defineProperty");return e({},"",{}),e}catch(t){}}(),ut=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,dt=r&&r.now!==ht.Date.now&&r.now,ft=t.setTimeout!==ht.setTimeout&&t.setTimeout,pt=ke.ceil,mt=ke.floor,vt=De.getOwnPropertySymbols,yt=je?je.isBuffer:i,Zt=t.isFinite,Gt=Me.join,yn=ln(De.keys,De),xn=ke.max,bn=ke.min,wn=r.now,_n=t.parseInt,Sn=ke.random,Cn=Me.reverse,kn=fa(t,"DataView"),Dn=fa(t,"Map"),Tn=fa(t,"Promise"),In=fa(t,"Set"),An=fa(t,"WeakMap"),Mn=fa(De,"create"),En=An&&new An,Nn={},Rn=Ba(kn),Pn=Ba(Dn),On=Ba(Tn),Ln=Ba(In),Fn=Ba(An),Zn=We?We.prototype:i,Bn=Zn?Zn.valueOf:i,zn=Zn?Zn.toString:i;function Vn(e){if(rs(e)&&!Go(e)&&!(e instanceof Hn)){if(e instanceof Un)return e;if(Oe.call(e,"__wrapped__"))return za(e)}return new Un(e)}var jn=function(){function e(){}return function(t){if(!ns(t))return{};if(Xe)return Xe(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Wn(){}function Un(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Xn(e);this.size=t.size}function Qn(e,t){var n=Go(e),r=!n&&Ho(e),i=!n&&!r&&Ko(e),a=!n&&!r&&!i&&ds(e),o=n||r||i||a,s=o?Yt(e.length,Ie):[],u=s.length;for(var l in e)!t&&!Oe.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||xa(l,u))||s.push(l);return s}function Jn(e){var t=e.length;return t?e[Yr(0,t-1)]:i}function $n(e,t){return La(Mi(e),ur(t,0,e.length))}function er(e){return La(Mi(e))}function tr(e,t,n){(n!==i&&!jo(e[t],n)||n===i&&!(t in e))&&or(e,t,n)}function nr(e,t,n){var r=e[t];Oe.call(e,t)&&jo(r,n)&&(n!==i||t in e)||or(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(jo(e[n][0],t))return n;return-1}function ir(e,t,n,r){return hr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function ar(e,t){return e&&Ei(t,Rs(t),e)}function or(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,a=t.length,o=n(a),s=null==e;++r<a;)o[r]=s?i:Is(e,t[r]);return o}function ur(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function lr(e,t,n,r,a,o){var s,u=1&t,l=2&t,c=4&t;if(n&&(s=a?n(e,r,a,o):n(e)),s!==i)return s;if(!ns(e))return e;var d=Go(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Oe.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Mi(e,s)}else{var f=ma(e),h=f==S||f==C;if(Ko(e))return Ci(e,u);if(f==T||f==y||h&&!a){if(s=l||h?{}:va(e),!u)return l?function(e,t){return Ei(e,pa(e),t)}(e,function(e,t){return e&&Ei(t,Ps(t),e)}(s,e)):function(e,t){return Ei(e,ha(e),t)}(e,ar(s,e))}else{if(!st[f])return a?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case P:return ki(e);case b:case w:return new r(+e);case O:return function(e,t){var n=t?ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case F:case Z:case B:case z:case V:case j:case W:case U:return Di(e,n);case k:return new r;case D:case E:return new r(e);case A:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case M:return new r;case N:return i=e,Bn?De(Bn.call(i)):{}}var i}(e,f,u)}}o||(o=new Kn);var p=o.get(e);if(p)return p;o.set(e,s),us(e)?e.forEach((function(r){s.add(lr(r,t,n,r,e,o))})):is(e)&&e.forEach((function(r,i){s.set(i,lr(r,t,n,i,e,o))}));var m=d?i:(c?l?aa:ia:l?Ps:Rs)(e);return Tt(m||e,(function(r,i){m&&(r=e[i=r]),nr(s,i,lr(r,t,n,i,e,o))})),s}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=De(e);r--;){var a=n[r],o=t[a],s=e[a];if(s===i&&!(a in e)||!o(s))return!1}return!0}function dr(e,t,n){if("function"!=typeof e)throw new Ae(a);return Na((function(){e.apply(i,n)}),t)}function fr(e,t,n,r){var i=-1,a=Et,o=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=Rt(t,Qt(n))),r?(a=Nt,o=!1):t.length>=200&&(a=$t,o=!1,t=new Yn(t));e:for(;++i<s;){var c=e[i],d=null==n?c:n(c);if(c=r||0!==c?c:0,o&&d===d){for(var f=l;f--;)if(t[f]===d)continue e;u.push(c)}else a(t,d,r)||u.push(c)}return u}Vn.templateSettings={escape:J,evaluate:$,interpolate:ee,variable:"",imports:{_:Vn}},Vn.prototype=Wn.prototype,Vn.prototype.constructor=Vn,Un.prototype=jn(Wn.prototype),Un.prototype.constructor=Un,Hn.prototype=jn(Wn.prototype),Hn.prototype.constructor=Hn,Gn.prototype.clear=function(){this.__data__=Mn?Mn(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(Mn){var n=t[e];return n===o?i:n}return Oe.call(t,e)?t[e]:i},Gn.prototype.has=function(e){var t=this.__data__;return Mn?t[e]!==i:Oe.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Mn&&t===i?o:t,this},Xn.prototype.clear=function(){this.__data__=[],this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,!0)},Xn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Xn.prototype.has=function(e){return rr(this.__data__,e)>-1},Xn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(Dn||Xn),string:new Gn}},qn.prototype.delete=function(e){var t=ca(this,e).delete(e);return this.size-=t?1:0,t},qn.prototype.get=function(e){return ca(this,e).get(e)},qn.prototype.has=function(e){return ca(this,e).has(e)},qn.prototype.set=function(e,t){var n=ca(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Yn.prototype.add=Yn.prototype.push=function(e){return this.__data__.set(e,o),this},Yn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Xn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Xn){var r=n.__data__;if(!Dn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qn(r)}return n.set(e,t),this.size=n.size,this};var hr=Pi(wr),pr=Pi(_r,!0);function mr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function gr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],s=t(o);if(null!=s&&(u===i?s===s&&!cs(s):n(s,u)))var u=s,l=o}return l}function vr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function yr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ya),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?yr(s,t-1,n,r,i):Pt(i,s):r||(i[i.length]=s)}return i}var xr=Oi(),br=Oi(!0);function wr(e,t){return e&&xr(e,t,Rs)}function _r(e,t){return e&&br(e,t,Rs)}function Sr(e,t){return Mt(t,(function(t){return $o(e[t])}))}function Cr(e,t){for(var n=0,r=(t=bi(t,e)).length;null!=e&&n<r;)e=e[Za(t[n++])];return n&&n==r?e:i}function kr(e,t,n){var r=t(e);return Go(e)?r:Pt(r,n(e))}function Dr(e){return null==e?e===i?"[object Undefined]":"[object Null]":et&&et in De(e)?function(e){var t=Oe.call(e,et),n=e[et];try{e[et]=i;var r=!0}catch(o){}var a=Ze.call(e);r&&(t?e[et]=n:delete e[et]);return a}(e):function(e){return Ze.call(e)}(e)}function Tr(e,t){return e>t}function Ir(e,t){return null!=e&&Oe.call(e,t)}function Ar(e,t){return null!=e&&t in De(e)}function Mr(e,t,r){for(var a=r?Nt:Et,o=e[0].length,s=e.length,u=s,l=n(s),c=1/0,d=[];u--;){var f=e[u];u&&t&&(f=Rt(f,Qt(t))),c=bn(f.length,c),l[u]=!r&&(t||o>=120&&f.length>=120)?new Yn(u&&f):i}f=e[0];var h=-1,p=l[0];e:for(;++h<o&&d.length<c;){var m=f[h],g=t?t(m):m;if(m=r||0!==m?m:0,!(p?$t(p,g):a(d,g,r))){for(u=s;--u;){var v=l[u];if(!(v?$t(v,g):a(e[u],g,r)))continue e}p&&p.push(g),d.push(m)}}return d}function Er(e,t,n){var r=null==(e=Ia(e,t=bi(t,e)))?e:e[Za(Qa(t))];return null==r?i:kt(r,e,n)}function Nr(e){return rs(e)&&Dr(e)==y}function Rr(e,t,n,r,a){return e===t||(null==e||null==t||!rs(e)&&!rs(t)?e!==e&&t!==t:function(e,t,n,r,a,o){var s=Go(e),u=Go(t),l=s?x:ma(e),c=u?x:ma(t),d=(l=l==y?T:l)==T,f=(c=c==y?T:c)==T,h=l==c;if(h&&Ko(e)){if(!Ko(t))return!1;s=!0,d=!1}if(h&&!d)return o||(o=new Kn),s||ds(e)?na(e,t,n,r,a,o):function(e,t,n,r,i,a,o){switch(n){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P:return!(e.byteLength!=t.byteLength||!a(new Ue(e),new Ue(t)));case b:case w:case D:return jo(+e,+t);case _:return e.name==t.name&&e.message==t.message;case A:case E:return e==t+"";case k:var s=un;case M:var u=1&r;if(s||(s=dn),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;r|=2,o.set(e,t);var c=na(s(e),s(t),r,i,a,o);return o.delete(e),c;case N:if(Bn)return Bn.call(e)==Bn.call(t)}return!1}(e,t,l,n,r,a,o);if(!(1&n)){var p=d&&Oe.call(e,"__wrapped__"),m=f&&Oe.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,v=m?t.value():t;return o||(o=new Kn),a(g,v,n,r,o)}}if(!h)return!1;return o||(o=new Kn),function(e,t,n,r,a,o){var s=1&n,u=ia(e),l=u.length,c=ia(t).length;if(l!=c&&!s)return!1;var d=l;for(;d--;){var f=u[d];if(!(s?f in t:Oe.call(t,f)))return!1}var h=o.get(e),p=o.get(t);if(h&&p)return h==t&&p==e;var m=!0;o.set(e,t),o.set(t,e);var g=s;for(;++d<l;){var v=e[f=u[d]],y=t[f];if(r)var x=s?r(y,v,f,t,e,o):r(v,y,f,e,t,o);if(!(x===i?v===y||a(v,y,n,r,o):x)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(m=!1)}return o.delete(e),o.delete(t),m}(e,t,n,r,a,o)}(e,t,n,r,Rr,a))}function Pr(e,t,n,r){var a=n.length,o=a,s=!r;if(null==e)return!o;for(e=De(e);a--;){var u=n[a];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<o;){var l=(u=n[a])[0],c=e[l],d=u[1];if(s&&u[2]){if(c===i&&!(l in e))return!1}else{var f=new Kn;if(r)var h=r(c,d,l,e,t,f);if(!(h===i?Rr(d,c,3,r,f):h))return!1}}return!0}function Or(e){return!(!ns(e)||(t=e,Fe&&Fe in t))&&($o(e)?Ve:ye).test(Ba(e));var t}function Lr(e){return"function"==typeof e?e:null==e?au:"object"==typeof e?Go(e)?jr(e[0],e[1]):Vr(e):pu(e)}function Fr(e){if(!Ca(e))return yn(e);var t=[];for(var n in De(e))Oe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Zr(e){if(!ns(e))return function(e){var t=[];if(null!=e)for(var n in De(e))t.push(n);return t}(e);var t=Ca(e),n=[];for(var r in e)("constructor"!=r||!t&&Oe.call(e,r))&&n.push(r);return n}function Br(e,t){return e<t}function zr(e,t){var r=-1,i=qo(e)?n(e.length):[];return hr(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}function Vr(e){var t=da(e);return 1==t.length&&t[0][2]?Da(t[0][0],t[0][1]):function(n){return n===e||Pr(n,e,t)}}function jr(e,t){return wa(e)&&ka(t)?Da(Za(e),t):function(n){var r=Is(n,e);return r===i&&r===t?As(n,e):Rr(t,r,3)}}function Wr(e,t,n,r,a){e!==t&&xr(t,(function(o,s){if(a||(a=new Kn),ns(o))!function(e,t,n,r,a,o,s){var u=Ma(e,n),l=Ma(t,n),c=s.get(l);if(c)return void tr(e,n,c);var d=o?o(u,l,n+"",e,t,s):i,f=d===i;if(f){var h=Go(l),p=!h&&Ko(l),m=!h&&!p&&ds(l);d=l,h||p||m?Go(u)?d=u:Yo(u)?d=Mi(u):p?(f=!1,d=Ci(l,!0)):m?(f=!1,d=Di(l,!0)):d=[]:os(l)||Ho(l)?(d=u,Ho(u)?d=xs(u):ns(u)&&!$o(u)||(d=va(l))):f=!1}f&&(s.set(l,d),a(d,l,r,o,s),s.delete(l));tr(e,n,d)}(e,t,s,n,Wr,r,a);else{var u=r?r(Ma(e,s),o,s+"",e,t,a):i;u===i&&(u=o),tr(e,s,u)}}),Ps)}function Ur(e,t){var n=e.length;if(n)return xa(t+=t<0?n:0,n)?e[t]:i}function Hr(e,t,n){t=t.length?Rt(t,(function(e){return Go(e)?function(t){return Cr(t,1===e.length?e[0]:e)}:e})):[au];var r=-1;t=Rt(t,Qt(la()));var i=zr(e,(function(e,n,i){var a=Rt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;for(;++r<o;){var u=Ti(i[r],a[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=Cr(e,o);n(s,o)&&ei(a,bi(o,e),s)}return a}function Xr(e,t,n,r){var i=r?jt:Vt,a=-1,o=t.length,s=e;for(e===t&&(t=Mi(t)),n&&(s=Rt(e,Qt(n)));++a<o;)for(var u=0,l=t[a],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==e&&Ye.call(s,u,1),Ye.call(e,u,1);return e}function qr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;xa(i)?Ye.call(e,i,1):fi(e,i)}}return e}function Yr(e,t){return e+mt(Sn()*(t-e+1))}function Kr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=mt(t/2))&&(e+=e)}while(t);return n}function Qr(e,t){return Ra(Ta(e,t,au),e+"")}function Jr(e){return Jn(js(e))}function $r(e,t){var n=js(e);return La(n,ur(t,0,n.length))}function ei(e,t,n,r){if(!ns(e))return e;for(var a=-1,o=(t=bi(t,e)).length,s=o-1,u=e;null!=u&&++a<o;){var l=Za(t[a]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(a!=s){var d=u[l];(c=r?r(d,l,u):i)===i&&(c=ns(d)?d:xa(t[a+1])?[]:{})}nr(u,l,c),u=u[l]}return e}var ti=En?function(e,t){return En.set(e,t),e}:au,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:nu(t),writable:!0})}:au;function ri(e){return La(js(e))}function ii(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=n(a);++i<a;)o[i]=e[i+t];return o}function ai(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!cs(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return si(e,t,au,n)}function si(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!==t,u=null===t,l=cs(t),c=t===i;a<o;){var d=mt((a+o)/2),f=n(e[d]),h=f!==i,p=null===f,m=f===f,g=cs(f);if(s)var v=r||m;else v=c?m&&(r||h):u?m&&h&&(r||!p):l?m&&h&&!p&&(r||!g):!p&&!g&&(r?f<=t:f<t);v?a=d+1:o=d}return bn(o,4294967294)}function ui(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!jo(s,u)){var u=s;a[i++]=0===o?0:o}}return a}function li(e){return"number"==typeof e?e:cs(e)?m:+e}function ci(e){if("string"==typeof e)return e;if(Go(e))return Rt(e,ci)+"";if(cs(e))return zn?zn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function di(e,t,n){var r=-1,i=Et,a=e.length,o=!0,s=[],u=s;if(n)o=!1,i=Nt;else if(a>=200){var l=t?null:Ki(e);if(l)return dn(l);o=!1,i=$t,u=new Yn}else u=t?[]:s;e:for(;++r<a;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,o&&d===d){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),s.push(c)}else i(u,d,n)||(u!==s&&u.push(d),s.push(c))}return s}function fi(e,t){return null==(e=Ia(e,t=bi(t,e)))||delete e[Za(Qa(t))]}function hi(e,t,n,r){return ei(e,t,n(Cr(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ii(e,r?0:a,r?a+1:i):ii(e,r?a+1:0,r?i:a)}function mi(e,t){var n=e;return n instanceof Hn&&(n=n.value()),Ot(t,(function(e,t){return t.func.apply(t.thisArg,Pt([e],t.args))}),n)}function gi(e,t,r){var i=e.length;if(i<2)return i?di(e[0]):[];for(var a=-1,o=n(i);++a<i;)for(var s=e[a],u=-1;++u<i;)u!=a&&(o[a]=fr(o[a]||s,e[u],t,r));return di(yr(o,1),t,r)}function vi(e,t,n){for(var r=-1,a=e.length,o=t.length,s={};++r<a;){var u=r<o?t[r]:i;n(s,e[r],u)}return s}function yi(e){return Yo(e)?e:[]}function xi(e){return"function"==typeof e?e:au}function bi(e,t){return Go(e)?e:wa(e,t)?[e]:Fa(bs(e))}var wi=Qr;function _i(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var Si=ut||function(e){return ht.clearTimeout(e)};function Ci(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function ki(e){var t=new e.constructor(e.byteLength);return new Ue(t).set(new Ue(e)),t}function Di(e,t){var n=t?ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ti(e,t){if(e!==t){var n=e!==i,r=null===e,a=e===e,o=cs(e),s=t!==i,u=null===t,l=t===t,c=cs(t);if(!u&&!c&&!o&&e>t||o&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!a)return 1;if(!r&&!o&&!c&&e<t||c&&n&&a&&!r&&!o||u&&n&&a||!s&&a||!l)return-1}return 0}function Ii(e,t,r,i){for(var a=-1,o=e.length,s=r.length,u=-1,l=t.length,c=xn(o-s,0),d=n(l+c),f=!i;++u<l;)d[u]=t[u];for(;++a<s;)(f||a<o)&&(d[r[a]]=e[a]);for(;c--;)d[u++]=e[a++];return d}function Ai(e,t,r,i){for(var a=-1,o=e.length,s=-1,u=r.length,l=-1,c=t.length,d=xn(o-u,0),f=n(d+c),h=!i;++a<d;)f[a]=e[a];for(var p=a;++l<c;)f[p+l]=t[l];for(;++s<u;)(h||a<o)&&(f[p+r[s]]=e[a++]);return f}function Mi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ei(e,t,n,r){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var u=t[o],l=r?r(n[u],e[u],u,n,e):i;l===i&&(l=e[u]),a?or(n,u,l):nr(n,u,l)}return n}function Ni(e,t){return function(n,r){var i=Go(n)?Dt:ir,a=t?t():{};return i(n,e,la(r,2),a)}}function Ri(e){return Qr((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,s=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,s&&ba(n[0],n[1],s)&&(o=a<3?i:o,a=1),t=De(t);++r<a;){var u=n[r];u&&e(t,u,r,o)}return t}))}function Pi(e,t){return function(n,r){if(null==n)return n;if(!qo(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=De(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Oi(e){return function(t,n,r){for(var i=-1,a=De(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}function Li(e){return function(t){var n=sn(t=bs(t))?pn(t):i,r=n?n[0]:t.charAt(0),a=n?_i(n,1).join(""):t.slice(1);return r[e]()+a}}function Fi(e){return function(t){return Ot($s(Hs(t).replace(Je,"")),e,"")}}function Zi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=jn(e.prototype),r=e.apply(n,t);return ns(r)?r:n}}function Bi(e){return function(t,n,r){var a=De(t);if(!qo(t)){var o=la(n,3);t=Rs(t),n=function(e){return o(a[e],e,a)}}var s=e(t,n,r);return s>-1?a[o?t[s]:s]:i}}function zi(e){return ra((function(t){var n=t.length,r=n,o=Un.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Ae(a);if(o&&!u&&"wrapper"==sa(s))var u=new Un([],!0)}for(r=u?r:n;++r<n;){var l=sa(s=t[r]),c="wrapper"==l?oa(s):i;u=c&&_a(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[sa(c[0])].apply(u,c[3]):1==s.length&&_a(s)?u[l]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Go(r))return u.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function Vi(e,t,r,a,o,s,u,l,c,f){var h=t&d,p=1&t,m=2&t,g=24&t,v=512&t,y=m?i:Zi(e);return function i(){for(var d=arguments.length,x=n(d),b=d;b--;)x[b]=arguments[b];if(g)var w=ua(i),_=nn(x,w);if(a&&(x=Ii(x,a,o,g)),s&&(x=Ai(x,s,u,g)),d-=_,g&&d<f){var S=cn(x,w);return qi(e,t,Vi,i.placeholder,r,x,S,l,c,f-d)}var C=p?r:this,k=m?C[e]:e;return d=x.length,l?x=Aa(x,l):v&&d>1&&x.reverse(),h&&c<d&&(x.length=c),this&&this!==ht&&this instanceof i&&(k=y||Zi(k)),k.apply(C,x)}}function ji(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function Wi(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=li(n),r=li(r)),a=e(n,r)}return a}}function Ui(e){return ra((function(t){return t=Rt(t,Qt(la())),Qr((function(n){var r=this;return e(t,(function(e){return kt(e,r,n)}))}))}))}function Hi(e,t){var n=(t=t===i?" ":ci(t)).length;if(n<2)return n?Kr(t,e):t;var r=Kr(t,pt(e/hn(t)));return sn(t)?_i(pn(r),0,e).join(""):r.slice(0,e)}function Gi(e){return function(t,r,a){return a&&"number"!=typeof a&&ba(t,r,a)&&(r=a=i),t=ms(t),r===i?(r=t,t=0):r=ms(r),function(e,t,r,i){for(var a=-1,o=xn(pt((t-e)/(r||1)),0),s=n(o);o--;)s[i?o:++a]=e,e+=r;return s}(t,r,a=a===i?t<r?1:-1:ms(a),e)}}function Xi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ys(t),n=ys(n)),e(t,n)}}function qi(e,t,n,r,a,o,s,u,d,f){var h=8&t;t|=h?l:c,4&(t&=~(h?c:l))||(t&=-4);var p=[e,t,a,h?o:i,h?s:i,h?i:o,h?i:s,u,d,f],m=n.apply(i,p);return _a(e)&&Ea(m,p),m.placeholder=r,Pa(m,e,t)}function Yi(e){var t=ke[e];return function(e,n){if(e=ys(e),(n=null==n?0:bn(gs(n),292))&&Zt(e)){var r=(bs(e)+"e").split("e");return+((r=(bs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ki=In&&1/dn(new In([,-0]))[1]==h?function(e){return new In(e)}:cu;function Qi(e){return function(t){var n=ma(t);return n==k?un(t):n==M?fn(t):function(e,t){return Rt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,r,o,h,p,m,g){var v=2&t;if(!v&&"function"!=typeof e)throw new Ae(a);var y=o?o.length:0;if(y||(t&=-97,o=h=i),m=m===i?m:xn(gs(m),0),g=g===i?g:gs(g),y-=h?h.length:0,t&c){var x=o,b=h;o=h=i}var w=v?i:oa(e),_=[e,t,r,o,h,x,b,p,m,g];if(w&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=r==d&&8==n||r==d&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?Ii(l,u,t[4]):u,e[4]=l?cn(e[3],s):t[4]}(u=t[5])&&(l=e[5],e[5]=l?Ai(l,u,t[6]):u,e[6]=l?cn(e[5],s):t[6]);(u=t[7])&&(e[7]=u);r&d&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(_,w),e=_[0],t=_[1],r=_[2],o=_[3],h=_[4],!(g=_[9]=_[9]===i?v?0:e.length:xn(_[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==u?function(e,t,r){var a=Zi(e);return function o(){for(var s=arguments.length,u=n(s),l=s,c=ua(o);l--;)u[l]=arguments[l];var d=s<3&&u[0]!==c&&u[s-1]!==c?[]:cn(u,c);return(s-=d.length)<r?qi(e,t,Vi,o.placeholder,i,u,d,i,i,r-s):kt(this&&this!==ht&&this instanceof o?a:e,this,u)}}(e,t,g):t!=l&&33!=t||h.length?Vi.apply(i,_):function(e,t,r,i){var a=1&t,o=Zi(e);return function t(){for(var s=-1,u=arguments.length,l=-1,c=i.length,d=n(c+u),f=this&&this!==ht&&this instanceof t?o:e;++l<c;)d[l]=i[l];for(;u--;)d[l++]=arguments[++s];return kt(f,a?r:this,d)}}(e,t,r,o);else var S=function(e,t,n){var r=1&t,i=Zi(e);return function t(){return(this&&this!==ht&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Pa((w?ti:Ea)(S,_),e,t)}function $i(e,t,n,r){return e===i||jo(e,Ne[n])&&!Oe.call(r,n)?t:e}function ea(e,t,n,r,a,o){return ns(e)&&ns(t)&&(o.set(t,e),Wr(e,t,i,ea,o),o.delete(t)),e}function ta(e){return os(e)?i:e}function na(e,t,n,r,a,o){var s=1&n,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=o.get(e),d=o.get(t);if(c&&d)return c==t&&d==e;var f=-1,h=!0,p=2&n?new Yn:i;for(o.set(e,t),o.set(t,e);++f<u;){var m=e[f],g=t[f];if(r)var v=s?r(g,m,f,t,e,o):r(m,g,f,e,t,o);if(v!==i){if(v)continue;h=!1;break}if(p){if(!Ft(t,(function(e,t){if(!$t(p,t)&&(m===e||a(m,e,n,r,o)))return p.push(t)}))){h=!1;break}}else if(m!==g&&!a(m,g,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function ra(e){return Ra(Ta(e,i,Ga),e+"")}function ia(e){return kr(e,Rs,ha)}function aa(e){return kr(e,Ps,pa)}var oa=En?function(e){return En.get(e)}:cu;function sa(e){for(var t=e.name+"",n=Nn[t],r=Oe.call(Nn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function ua(e){return(Oe.call(Vn,"placeholder")?Vn:e).placeholder}function la(){var e=Vn.iteratee||ou;return e=e===ou?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function ca(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function da(e){for(var t=Rs(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ka(i)]}return t}function fa(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Or(n)?n:i}var ha=vt?function(e){return null==e?[]:(e=De(e),Mt(vt(e),(function(t){return qe.call(e,t)})))}:vu,pa=vt?function(e){for(var t=[];e;)Pt(t,ha(e)),e=Ge(e);return t}:vu,ma=Dr;function ga(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,a=!1;++r<i;){var o=Za(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&ts(i)&&xa(o,i)&&(Go(e)||Ho(e))}function va(e){return"function"!=typeof e.constructor||Ca(e)?{}:jn(Ge(e))}function ya(e){return Go(e)||Ho(e)||!!(Ke&&e&&e[Ke])}function xa(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function ba(e,t,n){if(!ns(n))return!1;var r=typeof t;return!!("number"==r?qo(n)&&xa(t,n.length):"string"==r&&t in n)&&jo(n[t],e)}function wa(e,t){if(Go(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!cs(e))||(ne.test(e)||!te.test(e)||null!=t&&e in De(t))}function _a(e){var t=sa(e),n=Vn[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var r=oa(n);return!!r&&e===r[0]}(kn&&ma(new kn(new ArrayBuffer(1)))!=O||Dn&&ma(new Dn)!=k||Tn&&ma(Tn.resolve())!=I||In&&ma(new In)!=M||An&&ma(new An)!=R)&&(ma=function(e){var t=Dr(e),n=t==T?e.constructor:i,r=n?Ba(n):"";if(r)switch(r){case Rn:return O;case Pn:return k;case On:return I;case Ln:return M;case Fn:return R}return t});var Sa=Re?$o:yu;function Ca(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ne)}function ka(e){return e===e&&!ns(e)}function Da(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in De(n)))}}function Ta(e,t,r){return t=xn(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=xn(i.length-t,0),s=n(o);++a<o;)s[a]=i[t+a];a=-1;for(var u=n(t+1);++a<t;)u[a]=i[a];return u[t]=r(s),kt(e,this,u)}}function Ia(e,t){return t.length<2?e:Cr(e,ii(t,0,-1))}function Aa(e,t){for(var n=e.length,r=bn(t.length,n),a=Mi(e);r--;){var o=t[r];e[r]=xa(o,n)?a[o]:i}return e}function Ma(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ea=Oa(ti),Na=ft||function(e,t){return ht.setTimeout(e,t)},Ra=Oa(ni);function Pa(e,t,n){var r=t+"";return Ra(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Tt(v,(function(n){var r="_."+n[0];t&n[1]&&!Et(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(r),n)))}function Oa(e){var t=0,n=0;return function(){var r=wn(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function La(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=Yr(n,a),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var Fa=function(e){var t=Lo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(he,"$1"):n||e)})),t}));function Za(e){if("string"==typeof e||cs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ba(e){if(null!=e){try{return Pe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function za(e){if(e instanceof Hn)return e.clone();var t=new Un(e.__wrapped__,e.__chain__);return t.__actions__=Mi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Va=Qr((function(e,t){return Yo(e)?fr(e,yr(t,1,Yo,!0)):[]})),ja=Qr((function(e,t){var n=Qa(t);return Yo(n)&&(n=i),Yo(e)?fr(e,yr(t,1,Yo,!0),la(n,2)):[]})),Wa=Qr((function(e,t){var n=Qa(t);return Yo(n)&&(n=i),Yo(e)?fr(e,yr(t,1,Yo,!0),i,n):[]}));function Ua(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:gs(n);return i<0&&(i=xn(r+i,0)),zt(e,la(t,3),i)}function Ha(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=gs(n),a=n<0?xn(r+a,0):bn(a,r-1)),zt(e,la(t,3),a,!0)}function Ga(e){return(null==e?0:e.length)?yr(e,1):[]}function Xa(e){return e&&e.length?e[0]:i}var qa=Qr((function(e){var t=Rt(e,yi);return t.length&&t[0]===e[0]?Mr(t):[]})),Ya=Qr((function(e){var t=Qa(e),n=Rt(e,yi);return t===Qa(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Mr(n,la(t,2)):[]})),Ka=Qr((function(e){var t=Qa(e),n=Rt(e,yi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Mr(n,i,t):[]}));function Qa(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Ja=Qr($a);function $a(e,t){return e&&e.length&&t&&t.length?Xr(e,t):e}var eo=ra((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return qr(e,Rt(t,(function(e){return xa(e,n)?+e:e})).sort(Ti)),r}));function to(e){return null==e?e:Cn.call(e)}var no=Qr((function(e){return di(yr(e,1,Yo,!0))})),ro=Qr((function(e){var t=Qa(e);return Yo(t)&&(t=i),di(yr(e,1,Yo,!0),la(t,2))})),io=Qr((function(e){var t=Qa(e);return t="function"==typeof t?t:i,di(yr(e,1,Yo,!0),i,t)}));function ao(e){if(!e||!e.length)return[];var t=0;return e=Mt(e,(function(e){if(Yo(e))return t=xn(e.length,t),!0})),Yt(t,(function(t){return Rt(e,Ht(t))}))}function oo(e,t){if(!e||!e.length)return[];var n=ao(e);return null==t?n:Rt(n,(function(e){return kt(t,i,e)}))}var so=Qr((function(e,t){return Yo(e)?fr(e,t):[]})),uo=Qr((function(e){return gi(Mt(e,Yo))})),lo=Qr((function(e){var t=Qa(e);return Yo(t)&&(t=i),gi(Mt(e,Yo),la(t,2))})),co=Qr((function(e){var t=Qa(e);return t="function"==typeof t?t:i,gi(Mt(e,Yo),i,t)})),fo=Qr(ao);var ho=Qr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,oo(e,n)}));function po(e){var t=Vn(e);return t.__chain__=!0,t}function mo(e,t){return t(e)}var go=ra((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Hn&&xa(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:mo,args:[a],thisArg:i}),new Un(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var vo=Ni((function(e,t,n){Oe.call(e,n)?++e[n]:or(e,n,1)}));var yo=Bi(Ua),xo=Bi(Ha);function bo(e,t){return(Go(e)?Tt:hr)(e,la(t,3))}function wo(e,t){return(Go(e)?It:pr)(e,la(t,3))}var _o=Ni((function(e,t,n){Oe.call(e,n)?e[n].push(t):or(e,n,[t])}));var So=Qr((function(e,t,r){var i=-1,a="function"==typeof t,o=qo(e)?n(e.length):[];return hr(e,(function(e){o[++i]=a?kt(t,e,r):Er(e,t,r)})),o})),Co=Ni((function(e,t,n){or(e,n,t)}));function ko(e,t){return(Go(e)?Rt:zr)(e,la(t,3))}var Do=Ni((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var To=Qr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ba(e,t[0],t[1])?t=[]:n>2&&ba(t[0],t[1],t[2])&&(t=[t[0]]),Hr(e,yr(t,1),[])})),Io=dt||function(){return ht.Date.now()};function Ao(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ji(e,d,i,i,i,i,t)}function Mo(e,t){var n;if("function"!=typeof t)throw new Ae(a);return e=gs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Eo=Qr((function(e,t,n){var r=1;if(n.length){var i=cn(n,ua(Eo));r|=l}return Ji(e,r,t,n,i)})),No=Qr((function(e,t,n){var r=3;if(n.length){var i=cn(n,ua(No));r|=l}return Ji(t,r,e,n,i)}));function Ro(e,t,n){var r,o,s,u,l,c,d=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new Ae(a);function m(t){var n=r,a=o;return r=o=i,d=t,u=e.apply(a,n)}function g(e){return d=e,l=Na(y,t),f?m(e):u}function v(e){var n=e-c;return c===i||n>=t||n<0||h&&e-d>=s}function y(){var e=Io();if(v(e))return x(e);l=Na(y,function(e){var n=t-(e-c);return h?bn(n,s-(e-d)):n}(e))}function x(e){return l=i,p&&r?m(e):(r=o=i,u)}function b(){var e=Io(),n=v(e);if(r=arguments,o=this,c=e,n){if(l===i)return g(c);if(h)return Si(l),l=Na(y,t),m(c)}return l===i&&(l=Na(y,t)),u}return t=ys(t)||0,ns(n)&&(f=!!n.leading,s=(h="maxWait"in n)?xn(ys(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){l!==i&&Si(l),d=0,r=c=o=l=i},b.flush=function(){return l===i?u:x(Io())},b}var Po=Qr((function(e,t){return dr(e,1,t)})),Oo=Qr((function(e,t,n){return dr(e,ys(t)||0,n)}));function Lo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ae(a);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Lo.Cache||qn),n}function Fo(e){if("function"!=typeof e)throw new Ae(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Lo.Cache=qn;var Zo=wi((function(e,t){var n=(t=1==t.length&&Go(t[0])?Rt(t[0],Qt(la())):Rt(yr(t,1),Qt(la()))).length;return Qr((function(r){for(var i=-1,a=bn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return kt(e,this,r)}))})),Bo=Qr((function(e,t){var n=cn(t,ua(Bo));return Ji(e,l,i,t,n)})),zo=Qr((function(e,t){var n=cn(t,ua(zo));return Ji(e,c,i,t,n)})),Vo=ra((function(e,t){return Ji(e,f,i,i,i,t)}));function jo(e,t){return e===t||e!==e&&t!==t}var Wo=Xi(Tr),Uo=Xi((function(e,t){return e>=t})),Ho=Nr(function(){return arguments}())?Nr:function(e){return rs(e)&&Oe.call(e,"callee")&&!qe.call(e,"callee")},Go=n.isArray,Xo=xt?Qt(xt):function(e){return rs(e)&&Dr(e)==P};function qo(e){return null!=e&&ts(e.length)&&!$o(e)}function Yo(e){return rs(e)&&qo(e)}var Ko=yt||yu,Qo=bt?Qt(bt):function(e){return rs(e)&&Dr(e)==w};function Jo(e){if(!rs(e))return!1;var t=Dr(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!os(e)}function $o(e){if(!ns(e))return!1;var t=Dr(e);return t==S||t==C||"[object AsyncFunction]"==t||"[object Proxy]"==t}function es(e){return"number"==typeof e&&e==gs(e)}function ts(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ns(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rs(e){return null!=e&&"object"==typeof e}var is=wt?Qt(wt):function(e){return rs(e)&&ma(e)==k};function as(e){return"number"==typeof e||rs(e)&&Dr(e)==D}function os(e){if(!rs(e)||Dr(e)!=T)return!1;var t=Ge(e);if(null===t)return!0;var n=Oe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Pe.call(n)==Be}var ss=_t?Qt(_t):function(e){return rs(e)&&Dr(e)==A};var us=St?Qt(St):function(e){return rs(e)&&ma(e)==M};function ls(e){return"string"==typeof e||!Go(e)&&rs(e)&&Dr(e)==E}function cs(e){return"symbol"==typeof e||rs(e)&&Dr(e)==N}var ds=Ct?Qt(Ct):function(e){return rs(e)&&ts(e.length)&&!!ot[Dr(e)]};var fs=Xi(Br),hs=Xi((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(qo(e))return ls(e)?pn(e):Mi(e);if(Qe&&e[Qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qe]());var t=ma(e);return(t==k?un:t==M?dn:js)(e)}function ms(e){return e?(e=ys(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function gs(e){var t=ms(e),n=t%1;return t===t?n?t-n:t:0}function vs(e){return e?ur(gs(e),0,g):0}function ys(e){if("number"==typeof e)return e;if(cs(e))return m;if(ns(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ns(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Kt(e);var n=ve.test(e);return n||xe.test(e)?ct(e.slice(2),n?2:8):ge.test(e)?m:+e}function xs(e){return Ei(e,Ps(e))}function bs(e){return null==e?"":ci(e)}var ws=Ri((function(e,t){if(Ca(t)||qo(t))Ei(t,Rs(t),e);else for(var n in t)Oe.call(t,n)&&nr(e,n,t[n])})),_s=Ri((function(e,t){Ei(t,Ps(t),e)})),Ss=Ri((function(e,t,n,r){Ei(t,Ps(t),e,r)})),Cs=Ri((function(e,t,n,r){Ei(t,Rs(t),e,r)})),ks=ra(sr);var Ds=Qr((function(e,t){e=De(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&ba(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],s=Ps(o),u=-1,l=s.length;++u<l;){var c=s[u],d=e[c];(d===i||jo(d,Ne[c])&&!Oe.call(e,c))&&(e[c]=o[c])}return e})),Ts=Qr((function(e){return e.push(i,ea),kt(Ls,i,e)}));function Is(e,t,n){var r=null==e?i:Cr(e,t);return r===i?n:r}function As(e,t){return null!=e&&ga(e,t,Ar)}var Ms=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ze.call(t)),e[t]=n}),nu(au)),Es=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ze.call(t)),Oe.call(e,t)?e[t].push(n):e[t]=[n]}),la),Ns=Qr(Er);function Rs(e){return qo(e)?Qn(e):Fr(e)}function Ps(e){return qo(e)?Qn(e,!0):Zr(e)}var Os=Ri((function(e,t,n){Wr(e,t,n)})),Ls=Ri((function(e,t,n,r){Wr(e,t,n,r)})),Fs=ra((function(e,t){var n={};if(null==e)return n;var r=!1;t=Rt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Ei(e,aa(e),n),r&&(n=lr(n,7,ta));for(var i=t.length;i--;)fi(n,t[i]);return n}));var Zs=ra((function(e,t){return null==e?{}:function(e,t){return Gr(e,t,(function(t,n){return As(e,n)}))}(e,t)}));function Bs(e,t){if(null==e)return{};var n=Rt(aa(e),(function(e){return[e]}));return t=la(t),Gr(e,n,(function(e,n){return t(e,n[0])}))}var zs=Qi(Rs),Vs=Qi(Ps);function js(e){return null==e?[]:Jt(e,Rs(e))}var Ws=Fi((function(e,t,n){return t=t.toLowerCase(),e+(n?Us(t):t)}));function Us(e){return Js(bs(e).toLowerCase())}function Hs(e){return(e=bs(e))&&e.replace(we,rn).replace($e,"")}var Gs=Fi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Xs=Fi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),qs=Li("toLowerCase");var Ys=Fi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ks=Fi((function(e,t,n){return e+(n?" ":"")+Js(t)}));var Qs=Fi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Js=Li("toUpperCase");function $s(e,t,n){return e=bs(e),(t=n?i:t)===i?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var eu=Qr((function(e,t){try{return kt(e,i,t)}catch(n){return Jo(n)?n:new se(n)}})),tu=ra((function(e,t){return Tt(t,(function(t){t=Za(t),or(e,t,Eo(e[t],e))})),e}));function nu(e){return function(){return e}}var ru=zi(),iu=zi(!0);function au(e){return e}function ou(e){return Lr("function"==typeof e?e:lr(e,1))}var su=Qr((function(e,t){return function(n){return Er(n,e,t)}})),uu=Qr((function(e,t){return function(n){return Er(e,n,t)}}));function lu(e,t,n){var r=Rs(t),i=Sr(t,r);null!=n||ns(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Sr(t,Rs(t)));var a=!(ns(n)&&"chain"in n)||!!n.chain,o=$o(e);return Tt(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=Mi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Pt([this.value()],arguments))})})),e}function cu(){}var du=Ui(Rt),fu=Ui(At),hu=Ui(Ft);function pu(e){return wa(e)?Ht(Za(e)):function(e){return function(t){return Cr(t,e)}}(e)}var mu=Gi(),gu=Gi(!0);function vu(){return[]}function yu(){return!1}var xu=Wi((function(e,t){return e+t}),0),bu=Yi("ceil"),wu=Wi((function(e,t){return e/t}),1),_u=Yi("floor");var Su=Wi((function(e,t){return e*t}),1),Cu=Yi("round"),ku=Wi((function(e,t){return e-t}),0);return Vn.after=function(e,t){if("function"!=typeof t)throw new Ae(a);return e=gs(e),function(){if(--e<1)return t.apply(this,arguments)}},Vn.ary=Ao,Vn.assign=ws,Vn.assignIn=_s,Vn.assignInWith=Ss,Vn.assignWith=Cs,Vn.at=ks,Vn.before=Mo,Vn.bind=Eo,Vn.bindAll=tu,Vn.bindKey=No,Vn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Go(e)?e:[e]},Vn.chain=po,Vn.chunk=function(e,t,r){t=(r?ba(e,t,r):t===i)?1:xn(gs(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,s=0,u=n(pt(a/t));o<a;)u[s++]=ii(e,o,o+=t);return u},Vn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Vn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Pt(Go(r)?Mi(r):[r],yr(t,1))},Vn.cond=function(e){var t=null==e?0:e.length,n=la();return e=t?Rt(e,(function(e){if("function"!=typeof e[1])throw new Ae(a);return[n(e[0]),e[1]]})):[],Qr((function(n){for(var r=-1;++r<t;){var i=e[r];if(kt(i[0],this,n))return kt(i[1],this,n)}}))},Vn.conforms=function(e){return function(e){var t=Rs(e);return function(n){return cr(n,e,t)}}(lr(e,1))},Vn.constant=nu,Vn.countBy=vo,Vn.create=function(e,t){var n=jn(e);return null==t?n:ar(n,t)},Vn.curry=function e(t,n,r){var a=Ji(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Vn.curryRight=function e(t,n,r){var a=Ji(t,u,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Vn.debounce=Ro,Vn.defaults=Ds,Vn.defaultsDeep=Ts,Vn.defer=Po,Vn.delay=Oo,Vn.difference=Va,Vn.differenceBy=ja,Vn.differenceWith=Wa,Vn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:gs(t))<0?0:t,r):[]},Vn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:gs(t)))<0?0:t):[]},Vn.dropRightWhile=function(e,t){return e&&e.length?pi(e,la(t,3),!0,!0):[]},Vn.dropWhile=function(e,t){return e&&e.length?pi(e,la(t,3),!0):[]},Vn.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ba(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=gs(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:gs(r))<0&&(r+=a),r=n>r?0:vs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Vn.filter=function(e,t){return(Go(e)?Mt:vr)(e,la(t,3))},Vn.flatMap=function(e,t){return yr(ko(e,t),1)},Vn.flatMapDeep=function(e,t){return yr(ko(e,t),h)},Vn.flatMapDepth=function(e,t,n){return n=n===i?1:gs(n),yr(ko(e,t),n)},Vn.flatten=Ga,Vn.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,h):[]},Vn.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===i?1:gs(t)):[]},Vn.flip=function(e){return Ji(e,512)},Vn.flow=ru,Vn.flowRight=iu,Vn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Vn.functions=function(e){return null==e?[]:Sr(e,Rs(e))},Vn.functionsIn=function(e){return null==e?[]:Sr(e,Ps(e))},Vn.groupBy=_o,Vn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Vn.intersection=qa,Vn.intersectionBy=Ya,Vn.intersectionWith=Ka,Vn.invert=Ms,Vn.invertBy=Es,Vn.invokeMap=So,Vn.iteratee=ou,Vn.keyBy=Co,Vn.keys=Rs,Vn.keysIn=Ps,Vn.map=ko,Vn.mapKeys=function(e,t){var n={};return t=la(t,3),wr(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},Vn.mapValues=function(e,t){var n={};return t=la(t,3),wr(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},Vn.matches=function(e){return Vr(lr(e,1))},Vn.matchesProperty=function(e,t){return jr(e,lr(t,1))},Vn.memoize=Lo,Vn.merge=Os,Vn.mergeWith=Ls,Vn.method=su,Vn.methodOf=uu,Vn.mixin=lu,Vn.negate=Fo,Vn.nthArg=function(e){return e=gs(e),Qr((function(t){return Ur(t,e)}))},Vn.omit=Fs,Vn.omitBy=function(e,t){return Bs(e,Fo(la(t)))},Vn.once=function(e){return Mo(2,e)},Vn.orderBy=function(e,t,n,r){return null==e?[]:(Go(t)||(t=null==t?[]:[t]),Go(n=r?i:n)||(n=null==n?[]:[n]),Hr(e,t,n))},Vn.over=du,Vn.overArgs=Zo,Vn.overEvery=fu,Vn.overSome=hu,Vn.partial=Bo,Vn.partialRight=zo,Vn.partition=Do,Vn.pick=Zs,Vn.pickBy=Bs,Vn.property=pu,Vn.propertyOf=function(e){return function(t){return null==e?i:Cr(e,t)}},Vn.pull=Ja,Vn.pullAll=$a,Vn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Xr(e,t,la(n,2)):e},Vn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Xr(e,t,i,n):e},Vn.pullAt=eo,Vn.range=mu,Vn.rangeRight=gu,Vn.rearg=Vo,Vn.reject=function(e,t){return(Go(e)?Mt:vr)(e,Fo(la(t,3)))},Vn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=la(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return qr(e,i),n},Vn.rest=function(e,t){if("function"!=typeof e)throw new Ae(a);return Qr(e,t=t===i?t:gs(t))},Vn.reverse=to,Vn.sampleSize=function(e,t,n){return t=(n?ba(e,t,n):t===i)?1:gs(t),(Go(e)?$n:$r)(e,t)},Vn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Vn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},Vn.shuffle=function(e){return(Go(e)?er:ri)(e)},Vn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ba(e,t,n)?(t=0,n=r):(t=null==t?0:gs(t),n=n===i?r:gs(n)),ii(e,t,n)):[]},Vn.sortBy=To,Vn.sortedUniq=function(e){return e&&e.length?ui(e):[]},Vn.sortedUniqBy=function(e,t){return e&&e.length?ui(e,la(t,2)):[]},Vn.split=function(e,t,n){return n&&"number"!=typeof n&&ba(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=bs(e))&&("string"==typeof t||null!=t&&!ss(t))&&!(t=ci(t))&&sn(e)?_i(pn(e),0,n):e.split(t,n):[]},Vn.spread=function(e,t){if("function"!=typeof e)throw new Ae(a);return t=null==t?0:xn(gs(t),0),Qr((function(n){var r=n[t],i=_i(n,0,t);return r&&Pt(i,r),kt(e,this,i)}))},Vn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Vn.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:gs(t))<0?0:t):[]},Vn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:gs(t)))<0?0:t,r):[]},Vn.takeRightWhile=function(e,t){return e&&e.length?pi(e,la(t,3),!1,!0):[]},Vn.takeWhile=function(e,t){return e&&e.length?pi(e,la(t,3)):[]},Vn.tap=function(e,t){return t(e),e},Vn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ae(a);return ns(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ro(e,t,{leading:r,maxWait:t,trailing:i})},Vn.thru=mo,Vn.toArray=ps,Vn.toPairs=zs,Vn.toPairsIn=Vs,Vn.toPath=function(e){return Go(e)?Rt(e,Za):cs(e)?[e]:Mi(Fa(bs(e)))},Vn.toPlainObject=xs,Vn.transform=function(e,t,n){var r=Go(e),i=r||Ko(e)||ds(e);if(t=la(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:ns(e)&&$o(a)?jn(Ge(e)):{}}return(i?Tt:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Vn.unary=function(e){return Ao(e,1)},Vn.union=no,Vn.unionBy=ro,Vn.unionWith=io,Vn.uniq=function(e){return e&&e.length?di(e):[]},Vn.uniqBy=function(e,t){return e&&e.length?di(e,la(t,2)):[]},Vn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?di(e,i,t):[]},Vn.unset=function(e,t){return null==e||fi(e,t)},Vn.unzip=ao,Vn.unzipWith=oo,Vn.update=function(e,t,n){return null==e?e:hi(e,t,xi(n))},Vn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:hi(e,t,xi(n),r)},Vn.values=js,Vn.valuesIn=function(e){return null==e?[]:Jt(e,Ps(e))},Vn.without=so,Vn.words=$s,Vn.wrap=function(e,t){return Bo(xi(t),e)},Vn.xor=uo,Vn.xorBy=lo,Vn.xorWith=co,Vn.zip=fo,Vn.zipObject=function(e,t){return vi(e||[],t||[],nr)},Vn.zipObjectDeep=function(e,t){return vi(e||[],t||[],ei)},Vn.zipWith=ho,Vn.entries=zs,Vn.entriesIn=Vs,Vn.extend=_s,Vn.extendWith=Ss,lu(Vn,Vn),Vn.add=xu,Vn.attempt=eu,Vn.camelCase=Ws,Vn.capitalize=Us,Vn.ceil=bu,Vn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ys(n))===n?n:0),t!==i&&(t=(t=ys(t))===t?t:0),ur(ys(e),t,n)},Vn.clone=function(e){return lr(e,4)},Vn.cloneDeep=function(e){return lr(e,5)},Vn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:i)},Vn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:i)},Vn.conformsTo=function(e,t){return null==t||cr(e,t,Rs(t))},Vn.deburr=Hs,Vn.defaultTo=function(e,t){return null==e||e!==e?t:e},Vn.divide=wu,Vn.endsWith=function(e,t,n){e=bs(e),t=ci(t);var r=e.length,a=n=n===i?r:ur(gs(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},Vn.eq=jo,Vn.escape=function(e){return(e=bs(e))&&Q.test(e)?e.replace(Y,an):e},Vn.escapeRegExp=function(e){return(e=bs(e))&&ae.test(e)?e.replace(ie,"\\$&"):e},Vn.every=function(e,t,n){var r=Go(e)?At:mr;return n&&ba(e,t,n)&&(t=i),r(e,la(t,3))},Vn.find=yo,Vn.findIndex=Ua,Vn.findKey=function(e,t){return Bt(e,la(t,3),wr)},Vn.findLast=xo,Vn.findLastIndex=Ha,Vn.findLastKey=function(e,t){return Bt(e,la(t,3),_r)},Vn.floor=_u,Vn.forEach=bo,Vn.forEachRight=wo,Vn.forIn=function(e,t){return null==e?e:xr(e,la(t,3),Ps)},Vn.forInRight=function(e,t){return null==e?e:br(e,la(t,3),Ps)},Vn.forOwn=function(e,t){return e&&wr(e,la(t,3))},Vn.forOwnRight=function(e,t){return e&&_r(e,la(t,3))},Vn.get=Is,Vn.gt=Wo,Vn.gte=Uo,Vn.has=function(e,t){return null!=e&&ga(e,t,Ir)},Vn.hasIn=As,Vn.head=Xa,Vn.identity=au,Vn.includes=function(e,t,n,r){e=qo(e)?e:js(e),n=n&&!r?gs(n):0;var i=e.length;return n<0&&(n=xn(i+n,0)),ls(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Vt(e,t,n)>-1},Vn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:gs(n);return i<0&&(i=xn(r+i,0)),Vt(e,t,i)},Vn.inRange=function(e,t,n){return t=ms(t),n===i?(n=t,t=0):n=ms(n),function(e,t,n){return e>=bn(t,n)&&e<xn(t,n)}(e=ys(e),t,n)},Vn.invoke=Ns,Vn.isArguments=Ho,Vn.isArray=Go,Vn.isArrayBuffer=Xo,Vn.isArrayLike=qo,Vn.isArrayLikeObject=Yo,Vn.isBoolean=function(e){return!0===e||!1===e||rs(e)&&Dr(e)==b},Vn.isBuffer=Ko,Vn.isDate=Qo,Vn.isElement=function(e){return rs(e)&&1===e.nodeType&&!os(e)},Vn.isEmpty=function(e){if(null==e)return!0;if(qo(e)&&(Go(e)||"string"==typeof e||"function"==typeof e.splice||Ko(e)||ds(e)||Ho(e)))return!e.length;var t=ma(e);if(t==k||t==M)return!e.size;if(Ca(e))return!Fr(e).length;for(var n in e)if(Oe.call(e,n))return!1;return!0},Vn.isEqual=function(e,t){return Rr(e,t)},Vn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Rr(e,t,i,n):!!r},Vn.isError=Jo,Vn.isFinite=function(e){return"number"==typeof e&&Zt(e)},Vn.isFunction=$o,Vn.isInteger=es,Vn.isLength=ts,Vn.isMap=is,Vn.isMatch=function(e,t){return e===t||Pr(e,t,da(t))},Vn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Pr(e,t,da(t),n)},Vn.isNaN=function(e){return as(e)&&e!=+e},Vn.isNative=function(e){if(Sa(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Or(e)},Vn.isNil=function(e){return null==e},Vn.isNull=function(e){return null===e},Vn.isNumber=as,Vn.isObject=ns,Vn.isObjectLike=rs,Vn.isPlainObject=os,Vn.isRegExp=ss,Vn.isSafeInteger=function(e){return es(e)&&e>=-9007199254740991&&e<=p},Vn.isSet=us,Vn.isString=ls,Vn.isSymbol=cs,Vn.isTypedArray=ds,Vn.isUndefined=function(e){return e===i},Vn.isWeakMap=function(e){return rs(e)&&ma(e)==R},Vn.isWeakSet=function(e){return rs(e)&&"[object WeakSet]"==Dr(e)},Vn.join=function(e,t){return null==e?"":Gt.call(e,t)},Vn.kebabCase=Gs,Vn.last=Qa,Vn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=gs(n))<0?xn(r+a,0):bn(a,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):zt(e,Wt,a,!0)},Vn.lowerCase=Xs,Vn.lowerFirst=qs,Vn.lt=fs,Vn.lte=hs,Vn.max=function(e){return e&&e.length?gr(e,au,Tr):i},Vn.maxBy=function(e,t){return e&&e.length?gr(e,la(t,2),Tr):i},Vn.mean=function(e){return Ut(e,au)},Vn.meanBy=function(e,t){return Ut(e,la(t,2))},Vn.min=function(e){return e&&e.length?gr(e,au,Br):i},Vn.minBy=function(e,t){return e&&e.length?gr(e,la(t,2),Br):i},Vn.stubArray=vu,Vn.stubFalse=yu,Vn.stubObject=function(){return{}},Vn.stubString=function(){return""},Vn.stubTrue=function(){return!0},Vn.multiply=Su,Vn.nth=function(e,t){return e&&e.length?Ur(e,gs(t)):i},Vn.noConflict=function(){return ht._===this&&(ht._=ze),this},Vn.noop=cu,Vn.now=Io,Vn.pad=function(e,t,n){e=bs(e);var r=(t=gs(t))?hn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Hi(mt(i),n)+e+Hi(pt(i),n)},Vn.padEnd=function(e,t,n){e=bs(e);var r=(t=gs(t))?hn(e):0;return t&&r<t?e+Hi(t-r,n):e},Vn.padStart=function(e,t,n){e=bs(e);var r=(t=gs(t))?hn(e):0;return t&&r<t?Hi(t-r,n)+e:e},Vn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),_n(bs(e).replace(oe,""),t||0)},Vn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ba(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=ms(e),t===i?(t=e,e=0):t=ms(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=Sn();return bn(e+a*(t-e+lt("1e-"+((a+"").length-1))),t)}return Yr(e,t)},Vn.reduce=function(e,t,n){var r=Go(e)?Ot:Xt,i=arguments.length<3;return r(e,la(t,4),n,i,hr)},Vn.reduceRight=function(e,t,n){var r=Go(e)?Lt:Xt,i=arguments.length<3;return r(e,la(t,4),n,i,pr)},Vn.repeat=function(e,t,n){return t=(n?ba(e,t,n):t===i)?1:gs(t),Kr(bs(e),t)},Vn.replace=function(){var e=arguments,t=bs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Vn.result=function(e,t,n){var r=-1,a=(t=bi(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[Za(t[r])];o===i&&(r=a,o=n),e=$o(o)?o.call(e):o}return e},Vn.round=Cu,Vn.runInContext=e,Vn.sample=function(e){return(Go(e)?Jn:Jr)(e)},Vn.size=function(e){if(null==e)return 0;if(qo(e))return ls(e)?hn(e):e.length;var t=ma(e);return t==k||t==M?e.size:Fr(e).length},Vn.snakeCase=Ys,Vn.some=function(e,t,n){var r=Go(e)?Ft:ai;return n&&ba(e,t,n)&&(t=i),r(e,la(t,3))},Vn.sortedIndex=function(e,t){return oi(e,t)},Vn.sortedIndexBy=function(e,t,n){return si(e,t,la(n,2))},Vn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&jo(e[r],t))return r}return-1},Vn.sortedLastIndex=function(e,t){return oi(e,t,!0)},Vn.sortedLastIndexBy=function(e,t,n){return si(e,t,la(n,2),!0)},Vn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(jo(e[n],t))return n}return-1},Vn.startCase=Ks,Vn.startsWith=function(e,t,n){return e=bs(e),n=null==n?0:ur(gs(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Vn.subtract=ku,Vn.sum=function(e){return e&&e.length?qt(e,au):0},Vn.sumBy=function(e,t){return e&&e.length?qt(e,la(t,2)):0},Vn.template=function(e,t,n){var r=Vn.templateSettings;n&&ba(e,t,n)&&(t=i),e=bs(e),t=Ss({},t,r,$i);var a,o,s=Ss({},t.imports,r.imports,$i),u=Rs(s),l=Jt(s,u),c=0,d=t.interpolate||_e,f="__p += '",h=Te((t.escape||_e).source+"|"+d.source+"|"+(d===ee?pe:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),p="//# sourceURL="+(Oe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(h,(function(t,n,r,i,s,u){return r||(r=i),f+=e.slice(c,u).replace(Se,on),n&&(a=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),f+="';\n";var m=Oe.call(t,"variable")&&t.variable;if(m){if(fe.test(m))throw new se("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(H,""):f).replace(G,"$1").replace(X,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=eu((function(){return Ce(u,p+"return "+f).apply(i,l)}));if(g.source=f,Jo(g))throw g;return g},Vn.times=function(e,t){if((e=gs(e))<1||e>p)return[];var n=g,r=bn(e,g);t=la(t),e-=g;for(var i=Yt(r,t);++n<e;)t(n);return i},Vn.toFinite=ms,Vn.toInteger=gs,Vn.toLength=vs,Vn.toLower=function(e){return bs(e).toLowerCase()},Vn.toNumber=ys,Vn.toSafeInteger=function(e){return e?ur(gs(e),-9007199254740991,p):0===e?e:0},Vn.toString=bs,Vn.toUpper=function(e){return bs(e).toUpperCase()},Vn.trim=function(e,t,n){if((e=bs(e))&&(n||t===i))return Kt(e);if(!e||!(t=ci(t)))return e;var r=pn(e),a=pn(t);return _i(r,en(r,a),tn(r,a)+1).join("")},Vn.trimEnd=function(e,t,n){if((e=bs(e))&&(n||t===i))return e.slice(0,mn(e)+1);if(!e||!(t=ci(t)))return e;var r=pn(e);return _i(r,0,tn(r,pn(t))+1).join("")},Vn.trimStart=function(e,t,n){if((e=bs(e))&&(n||t===i))return e.replace(oe,"");if(!e||!(t=ci(t)))return e;var r=pn(e);return _i(r,en(r,pn(t))).join("")},Vn.truncate=function(e,t){var n=30,r="...";if(ns(t)){var a="separator"in t?t.separator:a;n="length"in t?gs(t.length):n,r="omission"in t?ci(t.omission):r}var o=(e=bs(e)).length;if(sn(e)){var s=pn(e);o=s.length}if(n>=o)return e;var u=n-hn(r);if(u<1)return r;var l=s?_i(s,0,u).join(""):e.slice(0,u);if(a===i)return l+r;if(s&&(u+=l.length-u),ss(a)){if(e.slice(u).search(a)){var c,d=l;for(a.global||(a=Te(a.source,bs(me.exec(a))+"g")),a.lastIndex=0;c=a.exec(d);)var f=c.index;l=l.slice(0,f===i?u:f)}}else if(e.indexOf(ci(a),u)!=u){var h=l.lastIndexOf(a);h>-1&&(l=l.slice(0,h))}return l+r},Vn.unescape=function(e){return(e=bs(e))&&K.test(e)?e.replace(q,gn):e},Vn.uniqueId=function(e){var t=++Le;return bs(e)+t},Vn.upperCase=Qs,Vn.upperFirst=Js,Vn.each=bo,Vn.eachRight=wo,Vn.first=Xa,lu(Vn,function(){var e={};return wr(Vn,(function(t,n){Oe.call(Vn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Vn.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Vn[e].placeholder=Vn})),Tt(["drop","take"],(function(e,t){Hn.prototype[e]=function(n){n=n===i?1:xn(gs(n),0);var r=this.__filtered__&&!t?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Hn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:la(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(au)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=Qr((function(e,t){return"function"==typeof e?new Hn(this):this.map((function(n){return Er(n,e,t)}))})),Hn.prototype.reject=function(e){return this.filter(Fo(la(e)))},Hn.prototype.slice=function(e,t){e=gs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Hn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=gs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(g)},wr(Hn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=Vn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(Vn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Hn,l=s[0],c=u||Go(t),d=function(e){var t=a.apply(Vn,Pt([e],s));return r&&f?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,h=!!this.__actions__.length,p=o&&!f,m=u&&!h;if(!o&&c){t=m?t:new Hn(this);var g=e.apply(t,s);return g.__actions__.push({func:mo,args:[d],thisArg:i}),new Un(g,f)}return p&&m?e.apply(this,s):(g=this.thru(d),p?r?g.value()[0]:g.value():g)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Me[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Vn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Go(i)?i:[],e)}return this[n]((function(n){return t.apply(Go(n)?n:[],e)}))}})),wr(Hn.prototype,(function(e,t){var n=Vn[t];if(n){var r=n.name+"";Oe.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:t,func:n})}})),Nn[Vi(i,2).name]=[{name:"wrapper",func:i}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=Mi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Mi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Mi(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Go(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=bn(t,e+o);break;case"takeRight":e=xn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,u=s-o,l=r?s:o-1,c=this.__iteratees__,d=c.length,f=0,h=bn(u,this.__takeCount__);if(!n||!r&&i==u&&h==u)return mi(e,this.__actions__);var p=[];e:for(;u--&&f<h;){for(var m=-1,g=e[l+=t];++m<d;){var v=c[m],y=v.iteratee,x=v.type,b=y(g);if(2==x)g=b;else if(!b){if(1==x)continue e;break e}}p[f++]=g}return p},Vn.prototype.at=go,Vn.prototype.chain=function(){return po(this)},Vn.prototype.commit=function(){return new Un(this.value(),this.__chain__)},Vn.prototype.next=function(){this.__values__===i&&(this.__values__=ps(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Vn.prototype.plant=function(e){for(var t,n=this;n instanceof Wn;){var r=za(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},Vn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hn){var t=e;return this.__actions__.length&&(t=new Hn(this)),(t=t.reverse()).__actions__.push({func:mo,args:[to],thisArg:i}),new Un(t,this.__chain__)}return this.thru(to)},Vn.prototype.toJSON=Vn.prototype.valueOf=Vn.prototype.value=function(){return mi(this.__wrapped__,this.__actions__)},Vn.prototype.first=Vn.prototype.head,Qe&&(Vn.prototype[Qe]=function(){return this}),Vn}();ht._=vn,(r=function(){return vn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},18987:function(e){e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(k){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var i={},a={};function o(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=u(e,(0|e)<0?-1:0,!0),o&&(a[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=u(e,e<0?-1:0,!1),o&&(i[e]=n),n)}function s(e,t){if(isNaN(e))return t?v:g;if(t){if(e<0)return v;if(e>=h)return _}else{if(e<=-p)return S;if(e+1>=p)return w}return e<0?s(-e,t).neg():u(e%f|0,e/f|0,t)}function u(e,t,r){return new n(e,t,r)}n.fromInt=o,n.fromNumber=s,n.fromBits=u;var l=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var i=s(l(n,8)),a=g,o=0;o<e.length;o+=8){var u=Math.min(8,e.length-o),d=parseInt(e.substring(o,o+u),n);if(u<8){var f=s(l(n,u));a=a.mul(f).add(s(d))}else a=(a=a.mul(i)).add(s(d))}return a.unsigned=t,a}function d(e,t){return"number"===typeof e?s(e,t):"string"===typeof e?c(e,t):u(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=c,n.fromValue=d;var f=4294967296,h=f*f,p=h/2,m=o(1<<24),g=o(0);n.ZERO=g;var v=o(0,!0);n.UZERO=v;var y=o(1);n.ONE=y;var x=o(1,!0);n.UONE=x;var b=o(-1);n.NEG_ONE=b;var w=u(-1,2147483647,!1);n.MAX_VALUE=w;var _=u(-1,-1,!0);n.MAX_UNSIGNED_VALUE=_;var S=u(0,-2147483648,!1);n.MIN_VALUE=S;var C=n.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*f+(this.low>>>0):this.high*f+(this.low>>>0)},C.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=s(l(e,6),this.unsigned),a=this,o="";;){var u=a.div(i),c=(a.sub(u.mul(i)).toInt()>>>0).toString(e);if((a=u).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1===(1&this.low)},C.isEven=function(){return 0===(1&this.low)},C.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},C.eq=C.equals,C.notEquals=function(e){return!this.eq(e)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(e){return this.comp(e)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(e){return this.comp(e)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(e){return this.comp(e)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(e){return this.comp(e)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(y)},C.neg=C.negate,C.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,a=65535&this.low,o=e.high>>>16,s=65535&e.high,l=e.low>>>16,c=0,f=0,h=0,p=0;return h+=(p+=a+(65535&e.low))>>>16,f+=(h+=i+l)>>>16,c+=(f+=n+s)>>>16,c+=t+o,u((h&=65535)<<16|(p&=65535),(c&=65535)<<16|(f&=65535),this.unsigned)},C.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},C.sub=C.subtract,C.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=d(e)),t)return u(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(S))return e.isOdd()?S:g;if(e.eq(S))return this.isOdd()?S:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,a=this.low>>>16,o=65535&this.low,l=e.high>>>16,c=65535&e.high,f=e.low>>>16,h=65535&e.low,p=0,v=0,y=0,x=0;return y+=(x+=o*h)>>>16,v+=(y+=a*h)>>>16,y&=65535,v+=(y+=o*f)>>>16,p+=(v+=i*h)>>>16,v&=65535,p+=(v+=a*f)>>>16,v&=65535,p+=(v+=o*c)>>>16,p+=n*h+i*f+a*c+o*l,u((y&=65535)<<16|(x&=65535),(p&=65535)<<16|(v&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,i,a;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return x;a=v}else{if(this.eq(S))return e.eq(y)||e.eq(b)?S:e.eq(S)?y:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?y:b:(i=this.sub(e.mul(n)),a=n.add(i.div(e)));if(e.eq(S))return this.unsigned?v:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=g}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),c=o<=48?1:l(2,o-48),f=s(n),h=f.mul(e);h.isNegative()||h.gt(i);)h=(f=s(n-=c,this.unsigned)).mul(e);f.isZero()&&(f=y),a=a.add(f),i=i.sub(h)}return a},C.div=C.divide,C.modulo=function(e){return r(e)||(e=d(e)),t?u((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return u(~this.low,~this.high,this.unsigned)},C.and=function(e){return r(e)||(e=d(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},C.or=function(e){return r(e)||(e=d(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},C.xor=function(e){return r(e)||(e=d(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},C.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?u(this.low>>>e|t<<32-e,t>>>e,this.unsigned):u(32===e?t:t>>>e-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},C.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},74365:function(e,t,n){"use strict";var r=n(43269).default,i=n(319).default,a=n(63038).default,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.guassian_kde=void 0;var l=u(n(46974)),c=n(2420);function d(e,t,n){var r,a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,s=Math.log(o);if(0===e)r=0,a=[0];else{if(t<=0)return d(-1*t,-1*e,n,o).map((function(e){return-e}));if(e<0&&t>0){var u=t/(t-e),l=Math.round(n*u),c=n-l;return[].concat(i(d(0,-e,c,o).slice(1).reverse().map((function(e){return-e}))),[0],i(d(0,t,l+1,o).slice(1)))}r=Math.log(e)/s,a=[e]}for(var f=Math.log(t)/s,h=(f-r)/(n-1),p=1;p<n;p++)a.push(Math.pow(o,r+p*h));return a}t.guassian_kde=function(e){var t=e.data,n=e.bandwidth,o=e.batchSize,s=e.bins,u=e.grids,f=void 0===u?200:u,h=e.gridScale,p=void 0===h?"linear":h,m=e.boundaryExpansionFactor,g=void 0===m?0:m,v=e.lowerOffset,y=void 0===v?0:v,x=e.upperOffset,b=void 0===x?0:x,w=e.returnAxes,_=void 0!==w&&w,S=l.tidy((function(){if(t.rank<2&&(t=t.expandDims().reshape([-1,1])),2!==t.rank)throw new Error("Data must be at most 2 dimensions tensor");var e,u,h=a(t.shape,2),m=h[0],v=h[1];if(void 0===n){var x=function(e,t){void 0===t&&(t=e.shape[0]);for(var n=a(e.shape,2),r=n[0],i=n[1],o=l.moments(e.slice([0,0],[t,i]),0),s=o.mean,u=o.variance,c=r%t,d=t;d<r-c;d+=t){var f=l.moments(e.slice([d,0],[t,i]),0),h=f.mean,p=f.variance,m=d+t;u=u.mul((d-1)/(m-1)).add(p.mul((t-1)/(m-1))).add(s.sub(h).pow(2).mul(d*t/(m*(m-1)))),s=s.mul(d/m).add(h.mul(t/m))}if(0!==c){var g=r-c,v=l.moments(e.slice([g,0],[c,i]),0),y=v.mean,x=v.variance,b=g+c;u=u.mul((g-1)/(b-1)).add(x.mul((c-1)/(b-1))).add(s.sub(y).pow(2).mul(g*c/(b*(b-1)))),s=s.mul(g/b).add(y.mul(c/b))}return u}(t,o);n=0!==l.prod(x).arraySync()?l.diag(x.div(l.tensor(Math.pow(m,2/(v+4))))):l.diag(l.tensor([Number.EPSILON]).tile([v]))}var w=l.max(t,0).add(b),S=l.min(t,0).add(y),C=w.sub(S).mul(g);e=w.add(C).bufferSync(),u=S.sub(C).bufferSync();var k,D=[];if("number"===typeof f){for(var T=0;T<v;T++)"linear"===p?D.push(l.linspace(u.get(T),e.get(T),f)):"log"===p?D.push(l.tensor(d(u.get(T),e.get(T),f))):"ln"===p?D.push(l.tensor(d(u.get(T),e.get(T),f,Math.E))):D.push(l.tensor(d(u.get(T),e.get(T),f,p)));k=function(e){for(var t=[],n=e[0].bufferSync(),r=n.shape[0],a=0;a<r;a++)t.push([n.get(a)]);for(var o=[r],s=1;s<e.length;s++){o.push(r);for(var u=t.length,c=u*r,d=e[s].bufferSync(),f=t.length;f<c;f++)t.push([].concat(i(t[f%u]),[d.get(Math.floor(f/u))]));for(var h=0;h<u;h++)t[h].push(d.get(0))}return o.push(e.length),l.tensor(t).reshape(o)}(D)}else k=f;var I=(0,c.cholesky_L_part_tf)(n),A=(0,c.inverse_L_tf)(I),M=void 0;if(void 0!==s){var E=function(e,t){return l.tidy((function(){var n=e.max(0).sub(e.min(0)).div(t),r=e.div(n).floor().mul(n),i=l.unique(r,0),a=i.values,o=i.indices;return[a,l.bincount(o,l.tensor1d([]),a.shape[0])]}))}(t,s),N=a(E,2),R=N[0],P=N[1];R.shape[0]<t.shape[0]&&(console.info("After binned, sample size reduce from ".concat(t.shape[0]," to ").concat(R.shape[0])),M=P,t=R,m=R.shape[0])}function O(e,t){return l.tidy((function(){var n,a=[],o=r(k.reshape([-1,v]).arraySync());try{for(o.s();!(n=o.n()).done;){var s=n.value;a.push(e.sub(s))}}catch(g){o.e(g)}finally{o.f()}var u=l.stack(a),d=A.matMul(u.reshape([-1,v]).transpose());u.dispose();var f=d.transpose().reshape([].concat(i(k.shape.slice(0,v)),[-1,v]));d.dispose();var h=l.tensor(Math.pow(2*Math.PI,v/2)*Math.sqrt((0,c.det_L_tf)(I))),p=f.mul(f).sum(v+1).div(l.scalar(-2)).exp().div(h);return void 0!==t?p.mul(t).sum(v).div(l.scalar(m)):p.sum(v).div(l.scalar(m))}))}"number"!==typeof o&&(o=Math.max(1,Math.floor(Math.pow(2,31)/(4*k.size)))),o=Math.min(o,m),console.info("Actual batch size is",o);for(var L=O(t.slice([0,0],[o,v]),void 0!==M?M.slice([0],[o]):void 0),F=Math.floor(m/o),Z=1;Z<F;Z++)L=L.add(O(t.slice([Z*o,0],[o,v]),void 0!==M?M.slice([0],[o]):void 0));var B=m%o;return m%o!==0&&(L=L.add(O(t.slice([F*o,0],[B,v]),void 0!==M?M.slice([F*o],[B]):void 0))),_?[D,L]:L}));return S}},2420:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.vec_vec_cross=t.inverse_L_tf=t.inverse_L=t.det_L_tf=t.det_L=t.cholesky_L_part_tf=t.cholesky_L_part=t.vec_size=t.vec_vec_dot=t.vec_mat_mul=void 0;var o=n(46974),s=a(n(46974));function u(e){for(var t=e.length,n=e.map((function(){return new Array(e.length).fill(0)})),r=0;r<t;r++)for(var i=0;i<=r;i++){for(var a=0,o=0;o<i;o++)a+=n[r][o]*n[i][o];n[r][i]=r==i?Math.sqrt(e[r][r]-a):1/n[i][i]*(e[r][i]-a)}return n}function l(e){for(var t=1,n=0;n<e.length;n++)t*=e[n][n];return t*t}t.vec_mat_mul=function(e,t){for(var n=new Array(e.length).fill(0),r=0;r<e.length;r++)for(var i=0;i<t[0].length;i++)n[r]+=e[r]*t[r][i];return n},t.vec_vec_dot=function(e,t){return e.reduce((function(e,n,r){return e+n*t[r]}),0)},t.vec_size=function(e){return Math.sqrt(e.reduce((function(e,t){return e+Math.pow(t,2)}),0))},t.cholesky_L_part=u,t.cholesky_L_part_tf=function(e){for(var t=e.shape[0],n=e.bufferSync(),r=(0,o.zerosLike)(e).bufferSync(),i=0;i<t;i++)for(var a=0;a<=i;a++){for(var s=0,u=0;u<a;u++)s+=r.get(i,u)*r.get(a,u);i==a?r.set(Math.sqrt(n.get(i,i)-s),i,a):r.set(1/r.get(a,a)*(n.get(i,a)-s),i,a)}return r.toTensor()},t.det_L=l,t.det_L_tf=function(e){for(var t=e.bufferSync(),n=1,r=0;r<t.shape[0];r++)n*=t.get(r,r);return n*n},t.inverse_L=function(e){var t=e.map((function(){return new Array(e.length)}));t[0][0]=1/e[0][0];for(var n=1;n<e.length;n++){for(var r=0,i=0;i<n;i++)t[n][i]=e[n][i]*t[i][i],r+=t[n][i];t[n][n]=(1-r)/e[n][n]}return t},t.inverse_L_tf=function(e){var t=e.bufferSync(),n=s.zerosLike(e).bufferSync();n.set(1/t.get(0,0),0,0);for(var r=1;r<t.shape[0];r++){for(var i=0,a=0;a<r;a++)n.set(t.get(r,a)*n.get(a,a),r,a),i+=n.get(r,a);n.set((1-i)/t.get(r,r),r,r)}return n.toTensor()},t.vec_vec_cross=function(e){for(var t=[],n=0;n<e[0].length;n++){for(var r=[],i=0;i<e[0].length;i++){for(var a=[],o=0;o<e[0].length;o++)o!==n&&a.push(e[i][o]);r.push(a)}t.push(l(u(r)))}return t}},1025:function(e,t){var n,r,i;r=[],n=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=n&&/blob:/i.test((t.location||{}).protocol),i={},a=0,o={parse:function(n,r){var s=(r=r||{}).dynamicTyping||!1;if(w(s)&&(r.dynamicTypingFunction=s,s={}),r.dynamicTyping=s,r.transform=!!w(r.transform)&&r.transform,r.worker&&o.WORKERS_SUPPORTED){var u=function(){if(!o.WORKERS_SUPPORTED)return!1;var n,r,s=(n=t.URL||t.webkitURL||null,r=e.toString(),o.BLOB_URL||(o.BLOB_URL=n.createObjectURL(new Blob(["(",r,")();"],{type:"text/javascript"})))),u=new t.Worker(s);return u.onmessage=g,u.id=a++,i[u.id]=u}();return u.userStep=r.step,u.userChunk=r.chunk,u.userComplete=r.complete,u.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,void u.postMessage({input:n,config:r,workerId:u.id})}var h=null;return o.NODE_STREAM_INPUT,"string"==typeof n?h=r.download?new l(r):new d(r):!0===n.readable&&w(n.read)&&w(n.on)?h=new f(r):(t.File&&n instanceof File||n instanceof Object)&&(h=new c(r)),h.stream(n)},unparse:function(e,t){var n=!1,r=!0,i=",",a="\r\n",s='"',u=s+s,l=!1,c=null,d=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||o.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(i=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(l=t.skipEmptyLines),"string"==typeof t.newline&&(a=t.newline),"string"==typeof t.quoteChar&&(s=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");c=t.columns}void 0!==t.escapeChar&&(u=t.escapeChar+s),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(d=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var f=new RegExp(p(s),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,l);if("object"==typeof e[0])return h(c||Object.keys(e[0]),e,l)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||c),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],l);throw new Error("Unable to serialize unrecognized input");function h(e,t,n){var o="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var s=Array.isArray(e)&&0<e.length,u=!Array.isArray(t[0]);if(s&&r){for(var l=0;l<e.length;l++)0<l&&(o+=i),o+=m(e[l],l);0<t.length&&(o+=a)}for(var c=0;c<t.length;c++){var d=s?e.length:t[c].length,f=!1,h=s?0===Object.keys(t[c]).length:0===t[c].length;if(n&&!s&&(f="greedy"===n?""===t[c].join("").trim():1===t[c].length&&0===t[c][0].length),"greedy"===n&&s){for(var p=[],g=0;g<d;g++){var v=u?e[g]:g;p.push(t[c][v])}f=""===p.join("").trim()}if(!f){for(var y=0;y<d;y++){0<y&&!h&&(o+=i);var x=s&&u?e[y]:y;o+=m(t[c][x],y)}c<t.length-1&&(!n||0<d&&!h)&&(o+=a)}}return o}function m(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=!1;d&&"string"==typeof e&&d.test(e)&&(e="'"+e,r=!0);var a=e.toString().replace(f,u);return(r=r||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(a,o.BAD_DELIMITERS)||-1<a.indexOf(i)||" "===a.charAt(0)||" "===a.charAt(a.length-1))?s+a+s:a}}};if(o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\ufeff",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!n&&!!t.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=m,o.ParserHandle=h,o.NetworkStreamer=l,o.FileStreamer=c,o.StringStreamer=d,o.ReadableStreamStreamer=f,t.jQuery){var s=t.jQuery;s.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!==s(this).prop("tagName").toUpperCase()||"file"!==s(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:s.extend({},n)})})),i(),this;function i(){if(0!==r.length){var t,n,i,u,l=r[0];if(w(e.before)){var c=e.before(l.file,l.inputElem);if("object"==typeof c){if("abort"===c.action)return t="AbortError",n=l.file,i=l.inputElem,u=c.reason,void(w(e.error)&&e.error({name:t},n,i,u));if("skip"===c.action)return void a();"object"==typeof c.config&&(l.instanceConfig=s.extend(l.instanceConfig,c.config))}else if("skip"===c)return void a()}var d=l.instanceConfig.complete;l.instanceConfig.complete=function(e){w(d)&&d(e,l.file,l.inputElem),a()},o.parse(l.file,l.instanceConfig)}else w(e.complete)&&e.complete()}function a(){r.splice(0,1),i()}}}function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=x(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var a=this._partialLine+e;this._partialLine="";var s=this._handle.parse(a,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var u=s.meta.cursor;this._finished||(this._partialLine=a.substring(u-this._baseIndex),this._baseIndex=u),s&&s.data&&(this._rowCount+=s.data.length);var l=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:s,workerId:o.WORKER_ID,finished:l});else if(w(this._config.chunk)&&!n){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!l||!w(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),l||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:o.WORKER_ID,error:e,finished:!1})}}function l(e){var t;(e=e||{}).chunkSize||(e.chunkSize=o.RemoteChunkSize),u.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function c(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=o.LocalChunkSize),u.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,i)}var a=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:a}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;u.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function f(e){u.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=b((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=b((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=b((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=b((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function h(e){var t,n,r,i=Math.pow(2,53),a=-i,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,u=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,l=this,c=0,d=0,f=!1,h=!1,g=[],v={data:[],errors:[],meta:{}};if(w(e.step)){var y=e.step;e.step=function(t){if(v=t,S())_();else{if(_(),0===v.data.length)return;c+=t.data.length,e.preview&&c>e.preview?n.abort():(v.data=v.data[0],y(v,l))}}}function b(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function _(){return v&&r&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(v.data=v.data.filter((function(e){return!b(e)}))),S()&&function(){if(v)if(Array.isArray(v.data[0])){for(var t=0;S()&&t<v.data.length;t++)v.data[t].forEach(n);v.data.splice(0,1)}else v.data.forEach(n);function n(t,n){w(e.transformHeader)&&(t=e.transformHeader(t,n)),g.push(t)}}(),function(){if(!v||!e.header&&!e.dynamicTyping&&!e.transform)return v;function t(t,n){var r,i=e.header?{}:[];for(r=0;r<t.length;r++){var a=r,o=t[r];e.header&&(a=r>=g.length?"__parsed_extra":g[r]),e.transform&&(o=e.transform(o,a)),o=C(a,o),"__parsed_extra"===a?(i[a]=i[a]||[],i[a].push(o)):i[a]=o}return e.header&&(r>g.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+r,d+n):r<g.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+r,d+n)),i}var n=1;return!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(t),n=v.data.length):v.data=t(v.data,0),e.header&&v.meta&&(v.meta.fields=g),d+=n,v}()}function S(){return e.header&&0===g.length}function C(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(s.test(e)){var t=parseFloat(e);if(a<t&&t<i)return!0}return!1}(n)?parseFloat(n):u.test(n)?new Date(n):""===n?null:n):n;var r}function k(e,t,n,r){var i={type:e,code:t,message:n};void 0!==r&&(i.row=r),v.errors.push(i)}this.parse=function(i,a,s){var u=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(p(t)+"([^]*?)"+p(t),"gm"),r=(e=e.replace(n,"")).split("\r"),i=e.split("\n"),a=1<i.length&&i[0].length<r[0].length;if(1===r.length||a)return"\n";for(var o=0,s=0;s<r.length;s++)"\n"===r[s][0]&&o++;return o>=r.length/2?"\r\n":"\r"}(i,u)),r=!1,e.delimiter)w(e.delimiter)&&(e.delimiter=e.delimiter(i),v.meta.delimiter=e.delimiter);else{var l=function(t,n,r,i,a){var s,u,l,c;a=a||[",","\t","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var d=0;d<a.length;d++){var f=a[d],h=0,p=0,g=0;l=void 0;for(var v=new m({comments:i,delimiter:f,newline:n,preview:10}).parse(t),y=0;y<v.data.length;y++)if(r&&b(v.data[y]))g++;else{var x=v.data[y].length;p+=x,void 0!==l?0<x&&(h+=Math.abs(x-l),l=x):l=x}0<v.data.length&&(p/=v.data.length-g),(void 0===u||h<=u)&&(void 0===c||c<p)&&1.99<p&&(u=h,s=f,c=p)}return{successful:!!(e.delimiter=s),bestDelimiter:s}}(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);l.successful?e.delimiter=l.bestDelimiter:(r=!0,e.delimiter=o.DefaultDelimiter),v.meta.delimiter=e.delimiter}var c=x(e);return e.preview&&e.header&&c.preview++,t=i,n=new m(c),v=n.parse(t,a,s),_(),f?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,n.abort(),t=w(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){l.streamer._halted?(f=!1,l.streamer.parseChunk(t,!0)):setTimeout(l.resume,3)},this.aborted=function(){return h},this.abort=function(){h=!0,n.abort(),v.meta.aborted=!0,w(e.complete)&&e.complete(v),t=""}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t,n=(e=e||{}).delimiter,r=e.newline,i=e.comments,a=e.step,s=e.preview,u=e.fastMode,l=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(l=e.escapeChar),("string"!=typeof n||-1<o.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<o.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var c=0,d=!1;this.parse=function(e,o,f){if("string"!=typeof e)throw new Error("Input must be a string");var h=e.length,m=n.length,g=r.length,v=i.length,y=w(a),x=[],b=[],_=[],S=c=0;if(!e)return L();if(u||!1!==u&&-1===e.indexOf(t)){for(var C=e.split(r),k=0;k<C.length;k++){if(_=C[k],c+=_.length,k!==C.length-1)c+=r.length;else if(f)return L();if(!i||_.substring(0,v)!==i){if(y){if(x=[],N(_.split(n)),F(),d)return L()}else N(_.split(n));if(s&&s<=k)return x=x.slice(0,s),L(!0)}}return L()}for(var D=e.indexOf(n,c),T=e.indexOf(r,c),I=new RegExp(p(l)+p(t),"g"),A=e.indexOf(t,c);;)if(e[c]!==t)if(i&&0===_.length&&e.substring(c,c+v)===i){if(-1===T)return L();c=T+g,T=e.indexOf(r,c),D=e.indexOf(n,c)}else if(-1!==D&&(D<T||-1===T))_.push(e.substring(c,D)),c=D+m,D=e.indexOf(n,c);else{if(-1===T)break;if(_.push(e.substring(c,T)),O(T+g),y&&(F(),d))return L();if(s&&x.length>=s)return L(!0)}else for(A=c,c++;;){if(-1===(A=e.indexOf(t,A+1)))return f||b.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:x.length,index:c}),P();if(A===h-1)return P(e.substring(c,A).replace(I,t));if(t!==l||e[A+1]!==l){if(t===l||0===A||e[A-1]!==l){-1!==D&&D<A+1&&(D=e.indexOf(n,A+1)),-1!==T&&T<A+1&&(T=e.indexOf(r,A+1));var M=R(-1===T?D:Math.min(D,T));if(e.substr(A+1+M,m)===n){_.push(e.substring(c,A).replace(I,t)),e[c=A+1+M+m]!==t&&(A=e.indexOf(t,c)),D=e.indexOf(n,c),T=e.indexOf(r,c);break}var E=R(T);if(e.substring(A+1+E,A+1+E+g)===r){if(_.push(e.substring(c,A).replace(I,t)),O(A+1+E+g),D=e.indexOf(n,c),A=e.indexOf(t,c),y&&(F(),d))return L();if(s&&x.length>=s)return L(!0);break}b.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:x.length,index:c}),A++}}else A++}return P();function N(e){x.push(e),S=c}function R(t){var n=0;if(-1!==t){var r=e.substring(A+1,t);r&&""===r.trim()&&(n=r.length)}return n}function P(t){return f||(void 0===t&&(t=e.substring(c)),_.push(t),c=h,N(_),y&&F()),L()}function O(t){c=t,N(_),_=[],T=e.indexOf(r,c)}function L(e){return{data:x,errors:b,meta:{delimiter:n,linebreak:r,aborted:d,truncated:!!e,cursor:S+(o||0)}}}function F(){a(L()),x=[],b=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return c}}function g(e){var t=e.data,n=i[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var a={abort:function(){r=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(w(n.userStep)){for(var o=0;o<t.results.data.length&&(n.userStep({data:t.results.data[o],errors:t.results.errors,meta:t.results.meta},a),!r);o++);delete t.results}else w(n.userChunk)&&(n.userChunk(t.results,a,t.file),delete t.results)}t.finished&&!r&&v(t.workerId,t.results)}function v(e,t){var n=i[e];w(n.userComplete)&&n.userComplete(t),n.terminate(),delete i[e]}function y(){throw new Error("Not implemented.")}function x(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=x(e[n]);return t}function b(e,t){return function(){e.apply(t,arguments)}}function w(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===o.WORKER_ID&&n&&(o.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:o.WORKER_ID,results:o.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=o.parse(n.input,n.config);r&&t.postMessage({workerId:o.WORKER_ID,results:r,finished:!0})}}),(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(u.prototype)).constructor=c,(d.prototype=Object.create(d.prototype)).constructor=d,(f.prototype=Object.create(u.prototype)).constructor=f,o},void 0===(i="function"===typeof n?n.apply(t,r):n)||(e.exports=i)},80888:function(e,t,n){"use strict";var r=n(79047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},52007:function(e,t,n){e.exports=n(80888)()},79047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},34463:function(e,t,n){"use strict";var r=n(72791),i=n(45296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,F=Object.assign;function Z(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var B=!1;function z(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Z(e):""}function V(e){switch(e.tag){case 5:return Z(e.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case k:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case D:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=U(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=U(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+U(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:U(n)}}function ae(e,t){var n=U(t.value),r=U(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,Ce=null;function ke(e){if(e=xi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function De(e){Se?Ce?Ce.push(e):Ce=[e]:Se=e}function Te(){if(Se){var e=Se,t=Ce;if(Ce=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ie(e,t){return e(t)}function Ae(){}var Me=!1;function Ee(e,t,n){if(Me)return e(t,n);Me=!0;try{return Ie(e,t,n)}finally{Me=!1,(null!==Se||null!==Ce)&&(Ae(),Te())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(c)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ce){Re=!1}function Oe(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Le=!1,Fe=null,Ze=!1,Be=null,ze={onError:function(e){Le=!0,Fe=e}};function Ve(e,t,n,r,i,a,o,s,u){Le=!1,Fe=null,Oe.apply(ze,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(je(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ue(i),e;if(o===r)return Ue(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Ke=i.unstable_requestPaint,Qe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,St,Ct,kt,Dt=!1,Tt=[],It=null,At=null,Mt=null,Et=new Map,Nt=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=xi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void kt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Bt(e,t,n){Zt(e)&&n.delete(t)}function zt(){Dt=!1,null!==It&&Zt(It)&&(It=null),null!==At&&Zt(At)&&(At=null),null!==Mt&&Zt(Mt)&&(Mt=null),Et.forEach(Bt),Nt.forEach(Bt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Dt||(Dt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function jt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==At&&Vt(At,e),null!==Mt&&Vt(Mt,e),Et.forEach(t),Nt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var Wt=b.ReactCurrentBatchConfig,Ut=!0;function Ht(e,t,n,r){var i=xt,a=Wt.transition;Wt.transition=null;try{xt=1,Xt(e,t,n,r)}finally{xt=i,Wt.transition=a}}function Gt(e,t,n,r){var i=xt,a=Wt.transition;Wt.transition=null;try{xt=4,Xt(e,t,n,r)}finally{xt=i,Wt.transition=a}}function Xt(e,t,n,r){if(Ut){var i=Yt(e,t,n,r);if(null===i)Ur(e,t,r,qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return At=Lt(At,e,t,n,r,i),!0;case"mouseover":return Mt=Lt(Mt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Et.set(a,Lt(Et.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Nt.set(a,Lt(Nt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=xi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Ur(e,t,r,qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Ur(e,t,r,null,n)}}var qt=null;function Yt(e,t,n,r){if(qt=null,null!==(e=yi(e=we(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),dn=F({},ln,{view:0,detail:0}),fn=an(dn),hn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),mn=an(F({},hn,{dataTransfer:0})),gn=an(F({},dn,{relatedTarget:0})),vn=an(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(yn),bn=an(F({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function kn(){return Cn}var Dn=F({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Dn),In=an(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Mn=an(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=an(En),Rn=[9,13,27,32],Pn=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var Ln=c&&"TextEvent"in window&&!On,Fn=c&&(!Pn||On&&8<On&&11>=On),Zn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){De(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Xn=null;function qn(e){Zr(e,0)}function Yn(e){if(X(bi(e)))return e}function Kn(e,t){if("change"===e)return t}var Qn=!1;if(c){var Jn;if(c){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Jn=$n}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Xn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Xn)){var t=[];Hn(t,Xn,e,we(e)),Ee(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Xn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==q(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Cr={};function kr(e){if(Sr[e])return Sr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Sr[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Dr=kr("animationend"),Tr=kr("animationiteration"),Ir=kr("animationstart"),Ar=kr("transitionend"),Mr=new Map,Er="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Mr.set(e,t),u(t,[e])}for(var Rr=0;Rr<Er.length;Rr++){var Pr=Er[Rr];Nr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Nr(Dr,"onAnimationEnd"),Nr(Tr,"onAnimationIteration"),Nr(Ir,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Ar,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(a(198));var c=Fe;Le=!1,Fe=null,Ze||(Ze=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function Zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,l),a=u}}}if(Ze)throw e=Be,Ze=!1,Be=null,e}function Br(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Kt(t)){case 1:var i=Ht;break;case 4:i=Gt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ur(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ee((function(){var r=a,i=we(n),o=[];e:{var s=Mr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":l="focus",u=gn;break;case"focusout":l="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Dr:case Tr:case Ir:u=vn;break;case Ar:u=Mn;break;case"scroll":u=fn;break;case"wheel":u=Nn;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Ne(p,f))&&c.push(Hr(p,m,h)))),d)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(d=je(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==u?s:bi(u),h=null==l?s:bi(l),(s=new c(m,p+"leave",u,n,i)).target=d,s.relatedTarget=h,m=null,yi(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=h,c.relatedTarget=d,m=c),d=m,u&&l)e:{for(f=l,p=0,h=c=u;h;h=Xr(h))p++;for(h=0,m=f;m;m=Xr(m))h++;for(;0<p-h;)c=Xr(c),p--;for(;0<h-p;)f=Xr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Xr(c),f=Xr(f)}c=null}else c=null;null!==u&&qr(o,s,u,c,!1),null!==l&&null!==d&&qr(o,d,l,c,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Kn;else if(Un(s))if(Qn)g=or;else{g=ir;var v=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?bi(r):window,e){case"focusin":(Un(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else jn?zn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Fn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==x?"onCompositionEnd"===x&&jn&&(y=en()):(Jt="value"in(Qt=i)?Qt.value:Qt.textContent,jn=!0)),0<(v=Gr(r,x)).length&&(x=new bn(x,e,null,n,i),o.push({event:x,listeners:v}),y?x.data=y:null!==(y=Vn(n))&&(x.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Zn);case"textInput":return(e=t.data)===Zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Pn&&zn(e,t)?(e=en(),$t=Jt=Qt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Zr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ne(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Ne(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Ne(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Ne(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Kr,"")}function Jr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function xi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var _i=[],Si=-1;function Ci(e){return{current:e}}function ki(e){0>Si||(e.current=_i[Si],_i[Si]=null,Si--)}function Di(e,t){Si++,_i[Si]=e.current,e.current=t}var Ti={},Ii=Ci(Ti),Ai=Ci(!1),Mi=Ti;function Ei(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){ki(Ai),ki(Ii)}function Pi(e,t,n){if(Ii.current!==Ti)throw Error(a(168));Di(Ii,t),Di(Ai,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,W(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Mi=Ii.current,Di(Ii,e),Di(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Oi(e,t,Mi),r.__reactInternalMemoizedMergedChildContext=e,ki(Ai),ki(Ii),Di(Ii,e)):ki(Ai),Di(Ai,n)}var Zi=null,Bi=!1,zi=!1;function Vi(e){null===Zi?Zi=[e]:Zi.push(e)}function ji(){if(!zi&&null!==Zi){zi=!0;var e=0,t=xt;try{var n=Zi;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Zi=null,Bi=!1}catch(i){throw null!==Zi&&(Zi=Zi.slice(e+1)),Xe($e,ji),i}finally{xt=t,zi=!1}}return null}var Wi=b.ReactCurrentBatchConfig;function Ui(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Hi=Ci(null),Gi=null,Xi=null,qi=null;function Yi(){qi=Xi=Gi=null}function Ki(e){var t=Hi.current;ki(Hi),e._currentValue=t}function Qi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ji(e,t){Gi=e,qi=Xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function $i(e){var t=e._currentValue;if(qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Xi){if(null===Gi)throw Error(a(308));Xi=e,Gi.dependencies={lanes:0,firstContext:e}}else Xi=Xi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tl(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function sa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ua(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var d=i.baseState;for(o=0,c=l=u=null,s=a;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=F({},d,f);break e;case 2:ta=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=h,u=d):c=c.next=h,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ru|=o,e.lanes=o,e.memoizedState=d}}function la(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ca=(new r.Component).refs;function da(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fa={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qu(),i=Ju(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=$u(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qu(),i=Ju(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=$u(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qu(),r=Ju(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=$u(e,r,n))&&oa(t,e,r)}};function ha(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function pa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=$i(a):(i=Ni(t)?Mi:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ei(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ca,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=$i(a):(a=Ni(t)?Mi:Ii.current,i.context=Ei(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(da(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&fa.enqueueReplaceState(i,i.state,null),ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var va=[],ya=0,xa=null,ba=0,wa=[],_a=0,Sa=null,Ca=1,ka="";function Da(e,t){va[ya++]=ba,va[ya++]=xa,xa=e,ba=t}function Ta(e,t,n){wa[_a++]=Ca,wa[_a++]=ka,wa[_a++]=Sa,Sa=e;var r=Ca;e=ka;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ca=1<<32-ot(t)+i|n<<i|r,ka=a+e}else Ca=1<<a|n<<i|r,ka=e}function Ia(e){null!==e.return&&(Da(e,1),Ta(e,1,0))}function Aa(e){for(;e===xa;)xa=va[--ya],va[ya]=null,ba=va[--ya],va[ya]=null;for(;e===Sa;)Sa=wa[--_a],wa[_a]=null,ka=wa[--_a],wa[_a]=null,Ca=wa[--_a],wa[_a]=null}var Ma=null,Ea=null,Na=!1,Ra=null;function Pa(e,t){var n=Ml(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ma=e,Ea=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ma=e,Ea=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Sa?{id:Ca,overflow:ka}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ml(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ma=e,Ea=null,!0);default:return!1}}function La(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Fa(e){if(Na){var t=Ea;if(t){var n=t;if(!Oa(e,t)){if(La(e))throw Error(a(418));t=li(n.nextSibling);var r=Ma;t&&Oa(e,t)?Pa(r,n):(e.flags=-4097&e.flags|2,Na=!1,Ma=e)}}else{if(La(e))throw Error(a(418));e.flags=-4097&e.flags|2,Na=!1,Ma=e}}}function Za(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ma=e}function Ba(e){if(e!==Ma)return!1;if(!Na)return Za(e),Na=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Ea)){if(La(e)){for(e=Ea;e;)e=li(e.nextSibling);throw Error(a(418))}for(;t;)Pa(e,t),t=li(t.nextSibling)}if(Za(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ea=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ea=null}}else Ea=Ma?li(e.stateNode.nextSibling):null;return!0}function za(){Ea=Ma=null,Na=!1}function Va(e){null===Ra?Ra=[e]:Ra.push(e)}function ja(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ca&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ua(e){return(0,e._init)(e._payload)}function Ha(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ll(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===N&&Ua(a)===t.type)?((r=i(t,n.props)).ref=ja(e,t,n),r.return=e,r):((r=Rl(n.type,n.key,n.props,null,e.mode,r)).ref=ja(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Pl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ll(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rl(t.type,t.key,t.props,null,e.mode,n)).ref=ja(e,null,t),n.return=e,n;case _:return(t=Fl(t,e.mode,n)).return=e,t;case N:return f(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Pl(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null;case N:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:d(e,t,n,r,null);Wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function m(i,a,s,u){for(var l=null,c=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(i,d,s[m],u);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),a=o(v,a,m),null===c?l=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(i,d),Na&&Da(i,m),l;if(null===d){for(;m<s.length;m++)null!==(d=f(i,s[m],u))&&(a=o(d,a,m),null===c?l=d:c.sibling=d,c=d);return Na&&Da(i,m),l}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],u))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?l=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(i,e)})),Na&&Da(i,m),l}function g(i,s,u,l){var c=O(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var d=c=null,m=s,g=s=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var x=h(i,m,y.value,l);if(null===x){null===m&&(m=v);break}e&&m&&null===x.alternate&&t(i,m),s=o(x,s,g),null===d?c=x:d.sibling=x,d=x,m=v}if(y.done)return n(i,m),Na&&Da(i,g),c;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=f(i,y.value,l))&&(s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return Na&&Da(i,g),c}for(m=r(i,m);!y.done;g++,y=u.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),Na&&Da(i,g),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===S){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===N&&Ua(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=ja(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((a=Pl(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Rl(o.type,o.key,o.props,null,r.mode,u)).ref=ja(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fl(o,r.mode,u)).return=r,r=a}return s(r);case N:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return m(r,a,o,u);if(O(o))return g(r,a,o,u);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ll(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ga=Ha(!0),Xa=Ha(!1),qa={},Ya=Ci(qa),Ka=Ci(qa),Qa=Ci(qa);function Ja(e){if(e===qa)throw Error(a(174));return e}function $a(e,t){switch(Di(Qa,t),Di(Ka,e),Di(Ya,qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Ya),Di(Ya,t)}function eo(){ki(Ya),ki(Ka),ki(Qa)}function to(e){Ja(Qa.current);var t=Ja(Ya.current),n=ue(t,e.type);t!==n&&(Di(Ka,e),Di(Ya,n))}function no(e){Ka.current===e&&(ki(Ya),ki(Ka))}var ro=Ci(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var so=b.ReactCurrentDispatcher,uo=b.ReactCurrentBatchConfig,lo=0,co=null,fo=null,ho=null,po=!1,mo=!1,go=0,vo=0;function yo(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function bo(e,t,n,r,i,o){if(lo=o,co=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,so.current=null===e||null===e.memoizedState?rs:is,e=n(r,i),mo){o=0;do{if(mo=!1,go=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,so.current=as,e=n(r,i)}while(mo)}if(so.current=ns,t=null!==fo&&null!==fo.next,lo=0,ho=fo=co=null,po=!1,t)throw Error(a(300));return e}function wo(){var e=0!==go;return go=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?co.memoizedState=ho=e:ho=ho.next=e,ho}function So(){if(null===fo){var e=co.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?co.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?co.memoizedState=ho=e:ho=ho.next=e}return ho}function Co(e,t){return"function"===typeof t?t(e):t}function ko(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var d=c.lane;if((lo&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,co.lanes|=d,Ru|=d}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,co.lanes|=o,Ru|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Do(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Io(e,t){var n=co,r=So(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ws=!0),r=r.queue,Bo(Eo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Po(9,Mo.bind(null,n,r,i,t),void 0,null),null===Du)throw Error(a(349));0!==(30&lo)||Ao(n,t,i)}return i}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=co.updateQueue)?(t={lastEffect:null,stores:null},co.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Mo(e,t,n,r){t.value=n,t.getSnapshot=r,No(t)&&$u(e,1,-1)}function Eo(e,t,n){return n((function(){No(t)&&$u(e,1,-1)}))}function No(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ro(e){var t=_o();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=Qo.bind(null,co,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=co.updateQueue)?(t={lastEffect:null,stores:null},co.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oo(){return So().memoizedState}function Lo(e,t,n,r){var i=_o();co.flags|=e,i.memoizedState=Po(1|t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=So();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Po(t,n,a,r))}co.flags|=e,i.memoizedState=Po(1|t,n,a,r)}function Zo(e,t){return Lo(8390656,8,e,t)}function Bo(e,t){return Fo(2048,8,e,t)}function zo(e,t){return Fo(4,2,e,t)}function Vo(e,t){return Fo(4,4,e,t)}function jo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,jo.bind(null,t,e),n)}function Uo(){}function Ho(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&lo)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),co.lanes|=n,Ru|=n,e.baseState=!0),t)}function qo(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=uo.transition;uo.transition={};try{e(!1),t()}finally{xt=n,uo.transition=r}}function Yo(){return So().memoizedState}function Ko(e,t,n){var r=Ju(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e)?$o(t,n):(es(e,t,n),null!==(e=$u(e,r,n=Qu()))&&ts(e,t,r))}function Qo(e,t,n){var r=Ju(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))$o(t,i);else{es(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o))return}catch(u){}null!==(e=$u(e,r,n=Qu()))&&ts(e,t,r)}}function Jo(e){var t=e.alternate;return e===co||null!==t&&t===co}function $o(e,t){mo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function es(e,t,n){tl(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ns={readContext:$i,useCallback:yo,useContext:yo,useEffect:yo,useImperativeHandle:yo,useInsertionEffect:yo,useLayoutEffect:yo,useMemo:yo,useReducer:yo,useRef:yo,useState:yo,useDebugValue:yo,useDeferredValue:yo,useTransition:yo,useMutableSource:yo,useSyncExternalStore:yo,useId:yo,unstable_isNewReconciler:!1},rs={readContext:$i,useCallback:function(e,t){return _o().memoizedState=[e,void 0===t?null:t],e},useContext:$i,useEffect:Zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4194308,4,jo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Lo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lo(4,2,e,t)},useMemo:function(e,t){var n=_o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,co,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_o().memoizedState=e},useState:Ro,useDebugValue:Uo,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=Ro(!1),t=e[0];return e=qo.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=co,i=_o();if(Na){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Du)throw Error(a(349));0!==(30&lo)||Ao(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Zo(Eo.bind(null,r,o,e),[e]),r.flags|=2048,Po(9,Mo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_o(),t=Du.identifierPrefix;if(Na){var n=ka;t=":"+t+"R"+(n=(Ca&~(1<<32-ot(Ca)-1)).toString(32)+n),0<(n=go++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=vo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},is={readContext:$i,useCallback:Ho,useContext:$i,useEffect:Bo,useImperativeHandle:Wo,useInsertionEffect:zo,useLayoutEffect:Vo,useMemo:Go,useReducer:ko,useRef:Oo,useState:function(){return ko(Co)},useDebugValue:Uo,useDeferredValue:function(e){return Xo(So(),fo.memoizedState,e)},useTransition:function(){return[ko(Co)[0],So().memoizedState]},useMutableSource:To,useSyncExternalStore:Io,useId:Yo,unstable_isNewReconciler:!1},as={readContext:$i,useCallback:Ho,useContext:$i,useEffect:Bo,useImperativeHandle:Wo,useInsertionEffect:zo,useLayoutEffect:Vo,useMemo:Go,useReducer:Do,useRef:Oo,useState:function(){return Do(Co)},useDebugValue:Uo,useDeferredValue:function(e){var t=So();return null===fo?t.memoizedState=e:Xo(t,fo.memoizedState,e)},useTransition:function(){return[Do(Co)[0],So().memoizedState]},useMutableSource:To,useSyncExternalStore:Io,useId:Yo,unstable_isNewReconciler:!1};function os(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var us,ls,cs,ds="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vu||(Vu=!0,ju=r),ss(0,t)},n}function hs(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ss(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ss(0,t),"function"!==typeof r&&(null===Wu?Wu=new Set([this]):Wu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ps(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cl.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function vs(e,t){if(!Na)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function xs(e,t,n){var r=t.pendingProps;switch(Aa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ys(t),null;case 1:case 17:return Ni(t.type)&&Ri(),ys(t),null;case 3:return r=t.stateNode,eo(),ki(Ai),ki(Ii),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ba(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Ra&&(al(Ra),Ra=null))),ys(t),null;case 5:no(t);var i=Ja(Qa.current);if(n=t.type,null!==e&&null!=t.stateNode)ls(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return ys(t),null}if(e=Ja(Ya.current),Ba(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Br(Or[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":K(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":ie(r,o),Br("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Br("scroll",r)}switch(n){case"input":G(r),$(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[hi]=r,us(e,t),t.stateNode=e;e:{switch(u=xe(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Br(Or[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":K(e,r),i=Y(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(o in ye(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?ge(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Br("scroll",e):null!=c&&x(e,o,c,u))}switch(n){case"input":G(e),$(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+U(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ys(t),null;case 6:if(e&&null!=t.stateNode)cs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ja(Qa.current),Ja(Ya.current),Ba(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=Ma))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return ys(t),null;case 13:if(ki(ro),r=t.memoizedState,Na&&null!==Ea&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ea;r;)r=li(r.nextSibling);return za(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ba(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[fi]=t}else za(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return ys(t),null}return null!==Ra&&(al(Ra),Ra=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ba(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Eu&&(Eu=3):pl())),null!==t.updateQueue&&(t.flags|=4),ys(t),null);case 4:return eo(),null===e&&jr(t.stateNode.containerInfo),ys(t),null;case 10:return Ki(t.type._context),ys(t),null;case 19:if(ki(ro),null===(o=t.memoizedState))return ys(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)vs(o,!1);else{if(0!==Eu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=io(e))){for(t.flags|=128,vs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Di(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Bu&&(t.flags|=128,r=!0,vs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),vs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!Na)return ys(t),null}else 2*Qe()-o.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,vs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=ro.current,Di(ro,r?1&n|2:1&n),t):(ys(t),null);case 22:case 23:return cl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Au)&&(ys(t),6&t.subtreeFlags&&(t.flags|=8192)):ys(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}us=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ls=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ja(Ya.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Br("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},cs=function(e,t,n,r){n!==r&&(t.flags|=4)};var bs=b.ReactCurrentOwner,ws=!1;function _s(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ga(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var a=t.ref;return Ji(t,i),r=bo(e,t,n,r,a,i),n=wo(),null===e||ws?(Na&&n&&Ia(t),t.flags|=1,_s(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Us(e,t,i))}function Cs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||El(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ks(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Us(e,t,i)}return t.flags|=1,(e=Nl(a,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Us(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Is(e,t,n,r,i)}function Ds(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Di(Mu,Au),Au|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Di(Mu,Au),Au|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Di(Mu,Au),Au|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Di(Mu,Au),Au|=r;return _s(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Ni(n)?Mi:Ii.current;return a=Ei(t,a),Ji(t,i),n=bo(e,t,n,r,a,i),r=wo(),null===e||ws?(Na&&r&&Ia(t),t.flags|=1,_s(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Us(e,t,i))}function As(e,t,n,r,i){if(Ni(n)){var a=!0;Li(t)}else a=!1;if(Ji(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=$i(l):l=Ei(t,l=Ni(n)?Mi:Ii.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&ma(t,o,r,l),ta=!1;var f=t.memoizedState;o.state=f,ua(t,r,o,i),u=t.memoizedState,s!==r||f!==u||Ai.current||ta?("function"===typeof c&&(da(t,n,c,r),u=t.memoizedState),(s=ta||ha(t,n,s,r,f,u,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Ui(t.type,s),o.props=l,d=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=$i(u):u=Ei(t,u=Ni(n)?Mi:Ii.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==u)&&ma(t,o,r,u),ta=!1,f=t.memoizedState,o.state=f,ua(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||Ai.current||ta?("function"===typeof h&&(da(t,n,h,r),p=t.memoizedState),(l=ta||ha(t,n,l,r,f,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ms(e,t,n,r,a,i)}function Ms(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Us(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ga(t,e.child,null,a),t.child=Ga(t,null,s,a)):_s(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Es(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),$a(e,t.containerInfo)}function Ns(e,t,n,r,i){return za(),Va(i),t.flags|=256,_s(e,t,n,r),t.child}var Rs={dehydrated:null,treeContext:null,retryLane:0};function Ps(e){return{baseLanes:e,cachePool:null,transitions:null}}function Os(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Ls(e,t,n){var r,i=t.pendingProps,o=ro.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Di(ro,1&o),null===e)return Fa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=Ol(o,i,0,null),e=Pl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ps(n),t.memoizedState=Rs,e):Fs(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,zs(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=Ol({mode:"visible",children:i.children},o,0,null),(s=Pl(s,o,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&Ga(t,e.child,null,n),t.child.memoizedState=Ps(n),t.memoizedState=Rs,s);if(0===(1&t.mode))t=zs(e,t,n,null);else if("$!"===r.data)t=zs(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),ws||i){if(null!==(i=Du)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==o.retryLane&&(o.retryLane=i,$u(e,i,-1))}pl(),t=zs(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Dl.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ea=li(r.nextSibling),Ma=t,Na=!0,Ra=null,null!==n&&(wa[_a++]=Ca,wa[_a++]=ka,wa[_a++]=Sa,Ca=n.id,ka=n.overflow,Sa=t),(t=Fs(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=Bs(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Ps(n):Os(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Rs,i):(n=Zs(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Bs(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Ps(n):Os(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Rs,i):(n=Zs(e,t,i.children,n),t.memoizedState=null,n)}function Fs(e,t){return(t=Ol({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Zs(e,t,n,r){var i=e.child;return e=i.sibling,n=Nl(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Bs(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=Nl(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Nl(o,r):(r=Pl(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function zs(e,t,n,r){return null!==r&&Va(r),Ga(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Qi(e.return,t,n)}function js(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ws(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Di(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),js(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}js(t,!0,n,null,a);break;case"together":js(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Us(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ru|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Nl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){switch(Aa(t),t.tag){case 1:return Ni(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),ki(Ai),ki(Ii),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(ki(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));za()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ro),null;case 4:return eo(),null;case 10:return Ki(t.type._context),null;case 22:case 23:return cl(),null;default:return null}}var Gs=!1,Xs=!1,qs="function"===typeof WeakSet?WeakSet:Set,Ys=null;function Ks(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sl(e,t,r)}else n.current=null}function Qs(e,t,n){try{n()}catch(r){Sl(e,t,r)}}var Js=!1;function $s(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Qs(t,n,a)}i=i.next}while(i!==r)}}function eu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nu(e){var t=e.alternate;null!==t&&(e.alternate=null,nu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ru(e){return 5===e.tag||3===e.tag||4===e.tag}function iu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ru(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function au(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(au(e,t,n),e=e.sibling;null!==e;)au(e,t,n),e=e.sibling}function ou(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ou(e,t,n),e=e.sibling;null!==e;)ou(e,t,n),e=e.sibling}var su=null,uu=!1;function lu(e,t,n){for(n=n.child;null!==n;)cu(e,t,n),n=n.sibling}function cu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||Ks(n,t);case 6:var r=su,i=uu;su=null,lu(e,t,n),uu=i,null!==(su=r)&&(uu?(e=su,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):su.removeChild(n.stateNode));break;case 18:null!==su&&(uu?(e=su,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),jt(e)):ui(su,n.stateNode));break;case 4:r=su,i=uu,su=n.stateNode.containerInfo,uu=!0,lu(e,t,n),su=r,uu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Qs(n,t,o),i=i.next}while(i!==r)}lu(e,t,n);break;case 1:if(!Xs&&(Ks(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sl(n,t,s)}lu(e,t,n);break;case 21:lu(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,lu(e,t,n),Xs=r):lu(e,t,n);break;default:lu(e,t,n)}}function du(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qs),t.forEach((function(t){var r=Tl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:su=u.stateNode,uu=!1;break e;case 3:case 4:su=u.stateNode.containerInfo,uu=!0;break e}u=u.return}if(null===su)throw Error(a(160));cu(o,s,i),su=null,uu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Sl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)hu(t,e),t=t.sibling}function hu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fu(t,e),pu(e),4&r){try{$s(3,e,e.return),eu(3,e)}catch(m){Sl(e,e.return,m)}try{$s(5,e,e.return)}catch(m){Sl(e,e.return,m)}}break;case 1:fu(t,e),pu(e),512&r&&null!==n&&Ks(n,n.return);break;case 5:if(fu(t,e),pu(e),512&r&&null!==n&&Ks(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Sl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&Q(i,o),xe(u,s);var c=xe(u,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];"style"===d?ge(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):x(i,d,f,c)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Sl(e,e.return,m)}}break;case 6:if(fu(t,e),pu(e),4&r){if(null===e.stateNode)throw Error(a(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(m){Sl(e,e.return,m)}}break;case 3:if(fu(t,e),pu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(m){Sl(e,e.return,m)}break;case 4:default:fu(t,e),pu(e);break;case 13:fu(t,e),pu(e),8192&(c=e.child).flags&&null!==c.memoizedState&&(null===c.alternate||null===c.alternate.memoizedState)&&(Zu=Qe()),4&r&&du(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(d=Xs)||c,fu(t,e),Xs=d):fu(t,e),pu(e),8192&r){d=null!==e.memoizedState;e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,d?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=me("display",s))}catch(m){Sl(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(m){Sl(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}if(d&&!c&&0!==(1&e.mode))for(Ys=e,e=e.child;null!==e;){for(c=Ys=e;null!==Ys;){switch(f=(d=Ys).child,d.tag){case 0:case 11:case 14:case 15:$s(4,d,d.return);break;case 1:if(Ks(d,d.return),"function"===typeof(o=d.stateNode).componentWillUnmount){h=d,p=d.return;try{i=h,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(m){Sl(h,p,m)}}break;case 5:Ks(d,d.return);break;case 22:if(null!==d.memoizedState){yu(c);continue}}null!==f?(f.return=d,Ys=f):yu(c)}e=e.sibling}}break;case 19:fu(t,e),pu(e),4&r&&du(e);case 21:}}function pu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ru(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),ou(e,iu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;au(e,iu(e),o);break;default:throw Error(a(161))}}catch(s){Sl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function mu(e,t,n){Ys=e,gu(e,t,n)}function gu(e,t,n){for(var r=0!==(1&e.mode);null!==Ys;){var i=Ys,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Gs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Gs;var l=Xs;if(Gs=o,(Xs=u)&&!l)for(Ys=i;null!==Ys;)u=(o=Ys).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Ys=u):xu(i);for(;null!==a;)Ys=a,gu(a,t,n),a=a.sibling;Ys=i,Gs=s,Xs=l}vu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ys=a):vu(e)}}function vu(e){for(;null!==Ys;){var t=Ys;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||eu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ui(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&la(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}la(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&jt(f)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&tu(t)}catch(h){Sl(t,t.return,h)}}if(t===e){Ys=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ys=n;break}Ys=t.return}}function yu(e){for(;null!==Ys;){var t=Ys;if(t===e){Ys=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ys=n;break}Ys=t.return}}function xu(e){for(;null!==Ys;){var t=Ys;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eu(4,t)}catch(u){Sl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sl(t,i,u)}}var a=t.return;try{tu(t)}catch(u){Sl(t,a,u)}break;case 5:var o=t.return;try{tu(t)}catch(u){Sl(t,o,u)}}}catch(u){Sl(t,t.return,u)}if(t===e){Ys=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ys=s;break}Ys=t.return}}var bu,wu=Math.ceil,_u=b.ReactCurrentDispatcher,Su=b.ReactCurrentOwner,Cu=b.ReactCurrentBatchConfig,ku=0,Du=null,Tu=null,Iu=0,Au=0,Mu=Ci(0),Eu=0,Nu=null,Ru=0,Pu=0,Ou=0,Lu=null,Fu=null,Zu=0,Bu=1/0,zu=null,Vu=!1,ju=null,Wu=null,Uu=!1,Hu=null,Gu=0,Xu=0,qu=null,Yu=-1,Ku=0;function Qu(){return 0!==(6&ku)?Qe():-1!==Yu?Yu:Yu=Qe()}function Ju(e){return 0===(1&e.mode)?1:0!==(2&ku)&&0!==Iu?Iu&-Iu:null!==Wi.transition?(0===Ku&&(Ku=mt()),Ku):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function $u(e,t,n){if(50<Xu)throw Xu=0,qu=null,Error(a(185));var r=el(e,t);return null===r?null:(vt(r,t,n),0!==(2&ku)&&r===Du||(r===Du&&(0===(2&ku)&&(Pu|=t),4===Eu&&ol(r,Iu)),nl(r,n),1===t&&0===ku&&0===(1&e.mode)&&(Bu=Qe()+500,Bi&&ji())),r)}function el(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tl(e){return(null!==Du||null!==ea)&&0!==(1&e.mode)&&0===(2&ku)}function nl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=ht(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Du?Iu:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Bi=!0,Vi(e)}(sl.bind(null,e)):Vi(sl.bind(null,e)),oi((function(){0===ku&&ji()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Il(n,rl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rl(e,t){if(Yu=-1,Ku=0,0!==(6&ku))throw Error(a(327));var n=e.callbackNode;if(wl()&&e.callbackNode!==n)return null;var r=ft(e,e===Du?Iu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=ku;ku|=2;var o=hl();for(Du===e&&Iu===t||(zu=null,Bu=Qe()+500,dl(e,t));;)try{vl();break}catch(u){fl(e,u)}Yi(),_u.current=o,ku=i,null!==Tu?t=0:(Du=null,Iu=0,t=Eu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=il(e,i))),1===t)throw n=Nu,dl(e,0),ol(e,r),nl(e,Qe()),n;if(6===t)ol(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(o=pt(e))&&(r=o,t=il(e,o))),1===t))throw n=Nu,dl(e,0),ol(e,r),nl(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bl(e,Fu,zu);break;case 3:if(ol(e,r),(130023424&r)===r&&10<(t=Zu+500-Qe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Qu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bl.bind(null,e,Fu,zu),t);break}bl(e,Fu,zu);break;case 4:if(ol(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wu(r/1960))-r)){e.timeoutHandle=ri(bl.bind(null,e,Fu,zu),r);break}bl(e,Fu,zu);break;default:throw Error(a(329))}}}return nl(e,Qe()),e.callbackNode===n?rl.bind(null,e):null}function il(e,t){var n=Lu;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Fu,Fu=n,null!==t&&al(t)),e}function al(e){null===Fu?Fu=e:Fu.push.apply(Fu,e)}function ol(e,t){for(t&=~Ou,t&=~Pu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sl(e){if(0!==(6&ku))throw Error(a(327));wl();var t=ft(e,0);if(0===(1&t))return nl(e,Qe()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=il(e,r))}if(1===n)throw n=Nu,dl(e,0),ol(e,t),nl(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bl(e,Fu,zu),nl(e,Qe()),null}function ul(e,t){var n=ku;ku|=1;try{return e(t)}finally{0===(ku=n)&&(Bu=Qe()+500,Bi&&ji())}}function ll(e){null!==Hu&&0===Hu.tag&&0===(6&ku)&&wl();var t=ku;ku|=1;var n=Cu.transition,r=xt;try{if(Cu.transition=null,xt=1,e)return e()}finally{xt=r,Cu.transition=n,0===(6&(ku=t))&&ji()}}function cl(){Au=Mu.current,ki(Mu)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Tu)for(n=Tu.return;null!==n;){var r=n;switch(Aa(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:eo(),ki(Ai),ki(Ii),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:ki(ro);break;case 10:Ki(r.type._context);break;case 22:case 23:cl()}n=n.return}if(Du=e,Tu=e=Nl(e.current,null),Iu=Au=t,Eu=0,Nu=null,Ou=Pu=Ru=0,Fu=Lu=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function fl(e,t){for(;;){var n=Tu;try{if(Yi(),so.current=ns,po){for(var r=co.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(lo=0,ho=fo=co=null,mo=!1,go=0,Su.current=null,null===n||null===n.return){Eu=1,Nu=t,Tu=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Iu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,d=u,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ps(o,c,t),l=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){ps(o,c,t),pl();break e}l=Error(a(426))}else if(Na&&1&u.mode){var v=ms(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),gs(v,s,u,0,t),Va(l);break e}}o=l,4!==Eu&&(Eu=2),null===Lu?Lu=[o]:Lu.push(o),l=os(l,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,sa(u,fs(0,l,t));break e;case 1:o=l;var y=u.type,x=u.stateNode;if(0===(128&u.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Wu||!Wu.has(x)))){u.flags|=65536,t&=-t,u.lanes|=t,sa(u,hs(u,o,t));break e}}u=u.return}while(null!==u)}xl(n)}catch(b){t=b,Tu===n&&null!==n&&(Tu=n=n.return);continue}break}}function hl(){var e=_u.current;return _u.current=ns,null===e?ns:e}function pl(){0!==Eu&&3!==Eu&&2!==Eu||(Eu=4),null===Du||0===(268435455&Ru)&&0===(268435455&Pu)||ol(Du,Iu)}function ml(e,t){var n=ku;ku|=2;var r=hl();for(Du===e&&Iu===t||(zu=null,dl(e,t));;)try{gl();break}catch(i){fl(e,i)}if(Yi(),ku=n,_u.current=r,null!==Tu)throw Error(a(261));return Du=null,Iu=0,Eu}function gl(){for(;null!==Tu;)yl(Tu)}function vl(){for(;null!==Tu&&!Ye();)yl(Tu)}function yl(e){var t=bu(e.alternate,e,Au);e.memoizedProps=e.pendingProps,null===t?xl(e):Tu=t,Su.current=null}function xl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=xs(n,t,Au)))return void(Tu=n)}else{if(null!==(n=Hs(n,t)))return n.flags&=32767,void(Tu=n);if(null===e)return Eu=6,void(Tu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tu=t);Tu=t=e}while(null!==t);0===Eu&&(Eu=5)}function bl(e,t,n){var r=xt,i=Cu.transition;try{Cu.transition=null,xt=1,function(e,t,n,r){do{wl()}while(null!==Hu);if(0!==(6&ku))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Du&&(Tu=Du=null,Iu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Uu||(Uu=!0,Il(tt,(function(){return wl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=xt;xt=1;var u=ku;ku|=4,Su.current=null,function(e,t){if(ei=Ut,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var s=0,u=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(u=s),h===o&&++d===r&&(l=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ut=!1,Ys=t;null!==Ys;)if(e=(t=Ys).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ys=e;else for(;null!==Ys;){t=Ys;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ui(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(_){Sl(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Ys=e;break}Ys=t.return}m=Js,Js=!1}(e,n),hu(n,e),pr(ti),Ut=!!ei,ti=ei=null,e.current=n,mu(n,e,i),Ke(),ku=u,xt=s,Cu.transition=o}else e.current=n;if(Uu&&(Uu=!1,Hu=e,Gu=i),0===(o=e.pendingLanes)&&(Wu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nl(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Vu)throw Vu=!1,e=ju,ju=null,e;0!==(1&Gu)&&0!==e.tag&&wl(),0!==(1&(o=e.pendingLanes))?e===qu?Xu++:(Xu=0,qu=e):Xu=0,ji()}(e,t,n,r)}finally{Cu.transition=i,xt=r}return null}function wl(){if(null!==Hu){var e=bt(Gu),t=Cu.transition,n=xt;try{if(Cu.transition=null,xt=16>e?16:e,null===Hu)var r=!1;else{if(e=Hu,Hu=null,Gu=0,0!==(6&ku))throw Error(a(331));var i=ku;for(ku|=4,Ys=e.current;null!==Ys;){var o=Ys,s=o.child;if(0!==(16&Ys.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Ys=c;null!==Ys;){var d=Ys;switch(d.tag){case 0:case 11:case 15:$s(8,d,o)}var f=d.child;if(null!==f)f.return=d,Ys=f;else for(;null!==Ys;){var h=(d=Ys).sibling,p=d.return;if(nu(d),d===c){Ys=null;break}if(null!==h){h.return=p,Ys=h;break}Ys=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ys=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Ys=s;else e:for(;null!==Ys;){if(0!==(2048&(o=Ys).flags))switch(o.tag){case 0:case 11:case 15:$s(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ys=y;break e}Ys=o.return}}var x=e.current;for(Ys=x;null!==Ys;){var b=(s=Ys).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Ys=b;else e:for(s=x;null!==Ys;){if(0!==(2048&(u=Ys).flags))try{switch(u.tag){case 0:case 11:case 15:eu(9,u)}}catch(_){Sl(u,u.return,_)}if(u===s){Ys=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Ys=w;break e}Ys=u.return}}if(ku=i,ji(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{xt=n,Cu.transition=t}}return!1}function _l(e,t,n){aa(e,t=fs(0,t=os(n,t),1)),t=Qu(),null!==(e=el(e,1))&&(vt(e,1,t),nl(e,t))}function Sl(e,t,n){if(3===e.tag)_l(e,e,n);else for(;null!==t;){if(3===t.tag){_l(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wu||!Wu.has(r))){aa(t,e=hs(t,e=os(n,e),1)),e=Qu(),null!==(t=el(t,1))&&(vt(t,1,e),nl(t,e));break}}t=t.return}}function Cl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Qu(),e.pingedLanes|=e.suspendedLanes&n,Du===e&&(Iu&n)===n&&(4===Eu||3===Eu&&(130023424&Iu)===Iu&&500>Qe()-Zu?dl(e,0):Ou|=n),nl(e,t)}function kl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=Qu();null!==(e=el(e,t))&&(vt(e,t,n),nl(e,n))}function Dl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kl(e,n)}function Tl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),kl(e,n)}function Il(e,t){return Xe(e,t)}function Al(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ml(e,t,n,r){return new Al(e,t,n,r)}function El(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nl(e,t){var n=e.alternate;return null===n?((n=Ml(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)El(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Pl(n.children,i,o,t);case C:s=8,i|=8;break;case k:return(e=Ml(12,n,t,2|i)).elementType=k,e.lanes=o,e;case A:return(e=Ml(13,n,t,i)).elementType=A,e.lanes=o,e;case M:return(e=Ml(19,n,t,i)).elementType=M,e.lanes=o,e;case R:return Ol(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case D:s=10;break e;case T:s=9;break e;case I:s=11;break e;case E:s=14;break e;case N:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ml(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Pl(e,t,n,r){return(e=Ml(7,e,r,t)).lanes=n,e}function Ol(e,t,n,r){return(e=Ml(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={},e}function Ll(e,t,n){return(e=Ml(6,e,null,t)).lanes=n,e}function Fl(e,t,n){return(t=Ml(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,a,o,s,u){return e=new Zl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ml(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function zl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Vl(e){if(!e)return Ti;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Oi(e,n,t)}return t}function jl(e,t,n,r,i,a,o,s,u){return(e=Bl(n,r,!0,e,0,a,0,s,u)).context=Vl(null),n=e.current,(a=ia(r=Qu(),i=Ju(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,vt(e,i,r),nl(e,r),e}function Wl(e,t,n,r){var i=t.current,a=Qu(),o=Ju(i);return n=Vl(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=$u(i,o,a))&&oa(e,i,o),o}function Ul(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){Hl(e,t),(e=e.alternate)&&Hl(e,t)}bu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Es(t),za();break;case 5:to(t);break;case 1:Ni(t.type)&&Li(t);break;case 4:$a(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Di(Hi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Di(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Di(ro,1&ro.current),null!==(e=Us(e,t,n))?e.sibling:null);Di(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ws(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Di(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Ds(e,t,n)}return Us(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,Na&&0!==(1048576&t.flags)&&Ta(t,ba,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ei(t,Ii.current);Ji(t,n),i=bo(null,t,r,e,i,n);var o=wo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=fa,t.stateNode=i,i._reactInternals=t,ga(t,r,e,n),t=Ms(null,t,r,!0,o,n)):(t.tag=0,Na&&o&&Ia(t),_s(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return El(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===E)return 14}return 2}(r),e=Ui(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=Cs(null,t,r,Ui(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 1:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 3:e:{if(Es(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ns(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Ns(e,t,r,n,i=Error(a(424)));break e}for(Ea=li(t.stateNode.containerInfo.firstChild),Ma=t,Na=!0,Ra=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(za(),r===i){t=Us(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Fa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&Fa(t),null;case 13:return Ls(e,t,n);case 4:return $a(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ga(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Di(Hi,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ai.current){t=Us(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=ia(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Qi(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Qi(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}_s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ji(t,n),r=r(i=$i(i)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return i=Ui(r=t.type,t.pendingProps),Cs(e,t,r,i=Ui(r.type,i),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ui(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ni(r)?(e=!0,Li(t)):e=!1,Ji(t,n),pa(t,r,i),ga(t,r,i,n),Ms(null,t,r,!0,e,n);case 19:return Ws(e,t,n);case 22:return Ds(e,t,n)}throw Error(a(156,t.tag))};var Xl="function"===typeof reportError?reportError:function(e){console.error(e)};function ql(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Kl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function $l(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Ul(o);s.call(e)}}Wl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Ul(o);a.call(e)}}var o=jl(t,r,e,0,null,!1,0,"",Jl);return e._reactRootContainer=o,e[pi]=o.current,jr(8===e.nodeType?e.parentNode:e),ll(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Ul(u);s.call(e)}}var u=Bl(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=u,e[pi]=u.current,jr(8===e.nodeType?e.parentNode:e),ll((function(){Wl(t,u,n,r)})),u}(n,t,e,i,r);return Ul(o)}Yl.prototype.render=ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wl(e,t,null,null)},Yl.prototype.unmount=ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ll((function(){Wl(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),nl(t,Qe()),0===(6&ku)&&(Bu=Qe()+500,ji()))}break;case 13:var r=Qu();ll((function(){return $u(e,1,r)})),Gl(e,1)}},_t=function(e){13===e.tag&&($u(e,134217728,Qu()),Gl(e,134217728))},St=function(e){if(13===e.tag){var t=Qu(),n=Ju(e);$u(e,n,t),Gl(e,n)}},Ct=function(){return xt},kt=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));X(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=ul,Ae=ll;var ec={usingClientEntryPoint:!1,Events:[xi,bi,wi,De,Te,ul]},tc={findFiberByHostInstance:yi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),at=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kl(t))throw Error(a(200));return zl(e,t,null,n)},t.createRoot=function(e,t){if(!Kl(e))throw Error(a(299));var n=!1,r="",i=Xl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,jr(8===e.nodeType?e.parentNode:e),new ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return ll(e)},t.hydrate=function(e,t,n){if(!Ql(t))throw Error(a(200));return $l(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Xl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=jl(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Ql(t))throw Error(a(200));return $l(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ql(e))throw Error(a(40));return!!e._reactRootContainer&&(ll((function(){$l(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ql(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return $l(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},1250:function(e,t,n){"use strict";var r=n(54164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},54164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(34463)},11372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,l=60112,c=60113,d=60120,f=60115,h=60116,p=60121,m=60122,g=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var x=Symbol.for;n=x("react.element"),r=x("react.portal"),i=x("react.fragment"),a=x("react.strict_mode"),o=x("react.profiler"),s=x("react.provider"),u=x("react.context"),l=x("react.forward_ref"),c=x("react.suspense"),d=x("react.suspense_list"),f=x("react.memo"),h=x("react.lazy"),p=x("react.block"),m=x("react.server.block"),g=x("react.fundamental"),v=x("react.debug_trace_mode"),y=x("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case c:case d:return e;default:switch(e=e&&e.$$typeof){case u:case l:case h:case f:case s:return e;default:return t}}case r:return t}}}},57441:function(e,t,n){"use strict";n(11372)},66374:function(e,t,n){"use strict";var r=n(72791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},59117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=x.prototype=new y;b.constructor=x,m(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!C.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function D(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(D(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+I(s=e[l],l);u+=A(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,c=a+I(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function M(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function E(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},R={transition:null},P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!D(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=x,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)_.call(t,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=D,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:E}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.1.0"},72791:function(e,t,n){"use strict";e.exports=n(59117)},80184:function(e,t,n){"use strict";e.exports=n(66374)},19727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),o=new I(r||[]);return a._invoke=function(e,t,n){var r=d;return function(i,a){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return M()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=l;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",m={};function g(){}function v(){}function y(){}var x={};u(x,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(x=w);var _=y.prototype=g.prototype=Object.create(x);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:M}}function M(){return{value:t,done:!0}}return v.prototype=y,u(_,"constructor",y),u(y,"constructor",v),v.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},S(C.prototype),u(C.prototype,o,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new C(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(_),u(_,s,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},36813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(g=!1,b(e),!m)if(null!==r(l))m=!0,R(_);else{var t=r(c);null!==t&&P(w,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(D),D=-1),p=!0;var a=h;try{for(b(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!A());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),b(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var d=r(c);null!==d&&P(w,d.startTime-n),u=!1}return u}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,C=!1,k=null,D=-1,T=5,I=-1;function A(){return!(t.unstable_now()-I<T)}function M(){if(null!==k){var e=t.unstable_now();I=e;var n=!0;try{n=k(!0,e)}finally{n?S():(C=!1,k=null)}}else C=!1}if("function"===typeof x)S=function(){x(M)};else if("undefined"!==typeof MessageChannel){var E=new MessageChannel,N=E.port2;E.port1.onmessage=M,S=function(){N.postMessage(null)}}else S=function(){v(M,0)};function R(e){k=e,C||(C=!0,S())}function P(e,n){D=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(g?(y(D),D=-1):g=!0,P(w,a-o))):(e.sortIndex=s,n(l,e),m||p||(m=!0,R(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},45296:function(e,t,n){"use strict";e.exports=n(36813)},96699:function(e,t,n){var r=n(22501),i=n(69112),a=n(92132),o=n(20890),s=n(94113),u=n(91725),l=n(63411);l.alea=r,l.xor128=i,l.xorwow=a,l.xorshift7=o,l.xor4096=s,l.tychei=u,e.exports=l},22501:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n=function(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new o(e),r=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.alea=u}(0,e=n.nmd(e),n.amdD)},91725:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.tychei=u}(0,e=n.nmd(e),n.amdD)},69112:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xor128=u}(0,e=n.nmd(e),n.amdD)},94113:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,a=t.i;return t.w=r=r+1640531527|0,n=i[a+34&127],e=i[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,i,a,o,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),i=0,a=-32;a<u;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,i=0==(n=s[127&a]^=r+o)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=o,e.X=s,e.i=i}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.X&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xor4096=u}(0,e=n.nmd(e),n.amdD)},20890:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.x&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xorshift7=u}(0,e=n.nmd(e),n.amdD)},92132:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xorwow=u}(0,e=n.nmd(e),n.amdD)},63411:function(e,t,n){var r;!function(i,a){var o,s=(0,eval)("this"),u=256,l=a.pow(u,6),c=a.pow(2,52),d=2*c,f=255;function h(e,t,n){var r=[],f=v(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(i)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(u):(e=new Uint8Array(u),(s.crypto||s.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=s.navigator,n=t&&t.plugins;return[+new Date,s,n,s.screen,y(i)]}}():e,3),r),h=new p(r),x=function(){for(var e=h.g(6),t=l,n=0;e<c;)e=(e+n)*u,t*=u,n=h.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return x.int32=function(){return 0|h.g(4)},x.quick=function(){return h.g(4)/4294967296},x.double=x,v(y(h.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,h),e.state=function(){return m(h,{})}),n?(a.random=e,t):e})(x,f,"global"in t?t.global:this==a,t.state)}function p(e){var t,n=e.length,r=this,i=0,a=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);i<u;)o[i]=i++;for(i=0;i<u;i++)o[i]=o[a=f&a+e[i%n]+(t=o[i])],o[a]=t;(r.g=function(e){for(var t,n=0,i=r.i,a=r.j,o=r.S;e--;)t=o[i=f&i+1],n=n*u+o[f&(o[i]=o[a=f&a+t])+(o[a]=t)];return r.i=i,r.j=a,n})(u)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],i=typeof e;if(t&&"object"==i)for(n in e)try{r.push(g(e[n],t-1))}catch(a){}return r.length?r:"string"==i?e:e+"\0"}function v(e,t){for(var n,r=e+"",i=0;i<r.length;)t[f&i]=f&(n^=19*t[f&i])+r.charCodeAt(i++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(a.seedrandom=h,v(a.random(),i),e.exports){e.exports=h;try{o=n(75042)}catch(x){}}else void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}([],Math)},3010:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SensorTabIndex=t.SensorClassName=t.SizeSensorId=void 0;t.SizeSensorId="size-sensor-id";t.SensorClassName="size-sensor-object";t.SensorTabIndex="-1"},78281:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=null;return function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(n),n=setTimeout((function(){e.apply(r,a)}),t)}}},52904:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=1;t.default=function(){return"".concat(n++)}},80315:function(e,t,n){"use strict";t.ZH=t.ak=void 0;var r=n(34374);t.ak=function(e,t){var n=(0,r.getSensor)(e);return n.bind(t),function(){n.unbind(t)}};t.ZH=function(e){var t=(0,r.getSensor)(e);(0,r.removeSensor)(t)}},34374:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeSensor=t.getSensor=void 0;var r,i=(r=n(52904))&&r.__esModule?r:{default:r},a=n(96413),o=n(3010);var s={};t.getSensor=function(e){var t=e.getAttribute(o.SizeSensorId);if(t&&s[t])return s[t];var n=(0,i.default)();e.setAttribute(o.SizeSensorId,n);var r=(0,a.createSensor)(e);return s[n]=r,r};t.removeSensor=function(e){var t=e.element.getAttribute(o.SizeSensorId);e.element.removeAttribute(o.SizeSensorId),e.destroy(),t&&s[t]&&delete s[t]}},96413:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var r=n(18850),i=n(54881),a="undefined"!==typeof ResizeObserver?i.createSensor:r.createSensor;t.createSensor=a},18850:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var r,i=(r=n(78281))&&r.__esModule?r:{default:r},a=n(3010);t.createSensor=function(e){var t=void 0,n=[],r=(0,i.default)((function(){n.forEach((function(t){t(e)}))})),o=function(){t&&t.parentNode&&(t.contentDocument&&t.contentDocument.defaultView.removeEventListener("resize",r),t.parentNode.removeChild(t),t=void 0,n=[])};return{element:e,bind:function(i){t||(t=function(){"static"===getComputedStyle(e).position&&(e.style.position="relative");var t=document.createElement("object");return t.onload=function(){t.contentDocument.defaultView.addEventListener("resize",r),r()},t.style.display="block",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.height="100%",t.style.width="100%",t.style.overflow="hidden",t.style.pointerEvents="none",t.style.zIndex="-1",t.style.opacity="0",t.setAttribute("class",a.SensorClassName),t.setAttribute("tabindex",a.SensorTabIndex),t.type="text/html",e.appendChild(t),t.data="about:blank",t}()),-1===n.indexOf(i)&&n.push(i)},destroy:o,unbind:function(e){var r=n.indexOf(e);-1!==r&&n.splice(r,1),0===n.length&&t&&o()}}}},54881:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var r,i=(r=n(78281))&&r.__esModule?r:{default:r};t.createSensor=function(e){var t=void 0,n=[],r=(0,i.default)((function(){n.forEach((function(t){t(e)}))})),a=function(){t.disconnect(),n=[],t=void 0};return{element:e,bind:function(i){t||(t=function(){var t=new ResizeObserver(r);return t.observe(e),r(),t}()),-1===n.indexOf(i)&&n.push(i)},destroy:a,unbind:function(e){var r=n.indexOf(e);-1!==r&&n.splice(r,1),0===n.length&&t&&a()}}}},7273:function(e,t,n){"use strict";var r=n(98773),i=n(14963),a=n(97057),o=n(85363),s=n(15849),u=n(76884),l=n(37706),c=n(35561),d=n(51532),f="__zr_normal__",h=r.dN.concat(["ignore"]),p=(0,u.reduce)(r.dN,(function(e,t){return e[t]=!0,e}),{ignore:!1}),m={},g=new a.Z(0,0,0,0),v=function(){function e(e){this.id=(0,u.guid)(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return e.prototype._init=function(e){this.attr(e)},e.prototype.drift=function(e,t,n){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=t,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,r=n.local,i=t.innerTransformable,a=void 0,o=void 0,u=!1;i.parent=r?this:null;var l=!1;if(i.copyTransform(t),null!=n.position){var c=g;n.layoutRect?c.copy(n.layoutRect):c.copy(this.getBoundingRect()),r||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(m,n,c):(0,s.wI)(m,n,c),i.x=m.x,i.y=m.y,a=m.align,o=m.verticalAlign;var f=n.origin;if(f&&null!=n.rotation){var h=void 0,p=void 0;"center"===f?(h=.5*c.width,p=.5*c.height):(h=(0,s.GM)(f[0],c.width),p=(0,s.GM)(f[1],c.height)),l=!0,i.originX=-i.x+h+(r?0:c.x),i.originY=-i.y+p+(r?0:c.y)}}null!=n.rotation&&(i.rotation=n.rotation);var v=n.offset;v&&(i.x+=v[0],i.y+=v[1],l||(i.originX=-v[0],i.originY=-v[1]));var y=null==n.inside?"string"===typeof n.position&&n.position.indexOf("inside")>=0:n.inside,x=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),b=void 0,w=void 0,_=void 0;y&&this.canBeInsideText()?(b=n.insideFill,w=n.insideStroke,null!=b&&"auto"!==b||(b=this.getInsideTextFill()),null!=w&&"auto"!==w||(w=this.getInsideTextStroke(b),_=!0)):(b=n.outsideFill,w=n.outsideStroke,null!=b&&"auto"!==b||(b=this.getOutsideFill()),null!=w&&"auto"!==w||(w=this.getOutsideStroke(b),_=!0)),(b=b||"#000")===x.fill&&w===x.stroke&&_===x.autoStroke&&a===x.align&&o===x.verticalAlign||(u=!0,x.fill=b,x.stroke=w,x.autoStroke=_,x.align=a,x.verticalAlign=o,t.setDefaultTextStyle(x)),t.__dirty|=d.YV,u&&t.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(e){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?l.GD:l.vU},e.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),n="string"===typeof t&&(0,c.parse)(t);n||(n=[255,255,255,1]);for(var r=n[3],i=this.__zr.isDarkMode(),a=0;a<3;a++)n[a]=n[a]*r+(i?0:255)*(1-r);return n[3]=1,(0,c.stringify)(n,"rgba")},e.prototype.traverse=function(e,t){},e.prototype.attrKV=function(e,t){"textConfig"===e?this.setTextConfig(t):"textContent"===e?this.setTextContent(t):"clipPath"===e?this.setClipPath(t):"extra"===e?(this.extra=this.extra||{},(0,u.extend)(this.extra,t)):this[e]=t},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(e,t){if("string"===typeof e)this.attrKV(e,t);else if((0,u.isObject)(e))for(var n=e,r=(0,u.keys)(n),i=0;i<r.length;i++){var a=r[i];this.attrKV(a,e[a])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,n=0;n<this.animators.length;n++){var r=this.animators[n],i=r.__fromStateTransition;if(!(r.getLoop()||i&&i!==f)){var a=r.targetName,o=a?t[a]:t;r.saveTo(o)}}},e.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,h)},e.prototype._savePrimaryToNormal=function(e,t,n){for(var r=0;r<n.length;r++){var i=n[r];null==e[i]||i in t||(t[i]=this[i])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(e){return this.states[e]},e.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},e.prototype.clearStates=function(e){this.useState(f,!1,e)},e.prototype.useState=function(e,t,n,r){var i=e===f;if(this.hasState()||!i){var a=this.currentStates,o=this.stateTransition;if(!((0,u.indexOf)(a,e)>=0)||!t&&1!==a.length){var s;if(this.stateProxy&&!i&&(s=this.stateProxy(e)),s||(s=this.states&&this.states[e]),s||i){i||this.saveCurrentToNormalState(s);var l=!!(s&&s.hoverLayer||r);l&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,s,this._normalState,t,!n&&!this.__inHover&&o&&o.duration>0,o);var c=this._textContent,h=this._textGuide;return c&&c.useState(e,t,n,l),h&&h.useState(e,t,n,l),i?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!l&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~d.YV),s}(0,u.logError)("State "+e+" not exists.")}}},e.prototype.useStates=function(e,t,n){if(e.length){var r=[],i=this.currentStates,a=e.length,o=a===i.length;if(o)for(var s=0;s<a;s++)if(e[s]!==i[s]){o=!1;break}if(o)return;for(s=0;s<a;s++){var u=e[s],l=void 0;this.stateProxy&&(l=this.stateProxy(u,e)),l||(l=this.states[u]),l&&r.push(l)}var c=r[a-1],f=!!(c&&c.hoverLayer||n);f&&this._toggleHoverLayerFlag(!0);var h=this._mergeStates(r),p=this.stateTransition;this.saveCurrentToNormalState(h),this._applyStateObj(e.join(","),h,this._normalState,!1,!t&&!this.__inHover&&p&&p.duration>0,p);var m=this._textContent,g=this._textGuide;m&&m.useStates(e,t,f),g&&g.useStates(e,t,f),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~d.YV)}else this.clearStates()},e.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},e.prototype.removeState=function(e){var t=(0,u.indexOf)(this.currentStates,e);if(t>=0){var n=this.currentStates.slice();n.splice(t,1),this.useStates(n)}},e.prototype.replaceState=function(e,t,n){var r=this.currentStates.slice(),i=(0,u.indexOf)(r,e),a=(0,u.indexOf)(r,t)>=0;i>=0?a?r.splice(i,1):r[i]=t:n&&!a&&r.push(t),this.useStates(r)},e.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},e.prototype._mergeStates=function(e){for(var t,n={},r=0;r<e.length;r++){var i=e[r];(0,u.extend)(n,i),i.textConfig&&(t=t||{},(0,u.extend)(t,i.textConfig))}return t&&(n.textConfig=t),n},e.prototype._applyStateObj=function(e,t,n,r,i,a){var o=!(t&&r);t&&t.textConfig?(this.textConfig=(0,u.extend)({},r?this.textConfig:n.textConfig),(0,u.extend)(this.textConfig,t.textConfig)):o&&n.textConfig&&(this.textConfig=n.textConfig);for(var s={},l=!1,c=0;c<h.length;c++){var d=h[c],f=i&&p[d];t&&null!=t[d]?f?(l=!0,s[d]=t[d]):this[d]=t[d]:o&&null!=n[d]&&(f?(l=!0,s[d]=n[d]):this[d]=n[d])}if(!i)for(c=0;c<this.animators.length;c++){var m=this.animators[c],g=m.targetName;m.getLoop()||m.__changeFinalValue(g?(t||n)[g]:t||n)}l&&this._transitionState(e,s,a)},e.prototype._attachComponent=function(e){if((!e.__zr||e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},e.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},e.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new r.ZP,this._attachComponent(e),this._textContent=e,this.markRedraw())},e.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),(0,u.extend)(this.textConfig,e),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=d.YV;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,n=this._textGuide;t&&(t.__inHover=e),n&&(n.__inHover=e)},e.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},e.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},e.prototype.animate=function(e,t,n){var r=e?this[e]:this;var a=new i.Z(r,t,n);return e&&(a.targetName=e),this.addAnimator(a,e),a},e.prototype.addAnimator=function(e,t){var n=this.__zr,r=this;e.during((function(){r.updateDuringAnimation(t)})).done((function(){var t=r.animators,n=(0,u.indexOf)(t,e);n>=0&&t.splice(n,1)})),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},e.prototype.updateDuringAnimation=function(e){this.markRedraw()},e.prototype.stopAnimation=function(e,t){for(var n=this.animators,r=n.length,i=[],a=0;a<r;a++){var o=n[a];e&&e!==o.scope?i.push(o):o.stop(t)}return this.animators=i,this},e.prototype.animateTo=function(e,t,n){y(this,e,t,n)},e.prototype.animateFrom=function(e,t,n){y(this,e,t,n,!0)},e.prototype._transitionState=function(e,t,n,r){for(var i=y(this,t,n,r),a=0;a<i.length;a++)i[a].__fromStateTransition=e},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var t=e.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=d.YV;function n(e,n,r,i){function a(e,t){Object.defineProperty(t,0,{get:function(){return e[r]},set:function(t){e[r]=t}}),Object.defineProperty(t,1,{get:function(){return e[i]},set:function(t){e[i]=t}})}Object.defineProperty(t,e,{get:function(){this[n]||a(this,this[n]=[]);return this[n]},set:function(e){this[r]=e[0],this[i]=e[1],this[n]=e,a(this,e)}})}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),e}();function y(e,t,n,r,i){var a=[];w(e,"",e,t,n=n||{},r,a,i);var o=a.length,s=!1,u=n.done,l=n.aborted,c=function(){s=!0,--o<=0&&(s?u&&u():l&&l())},d=function(){--o<=0&&(s?u&&u():l&&l())};o||u&&u(),a.length>0&&n.during&&a[0].during((function(e,t){n.during(t)}));for(var f=0;f<a.length;f++){var h=a[f];c&&h.done(c),d&&h.aborted(d),n.force&&h.duration(n.duration),h.start(n.easing)}return a}function x(e,t,n){for(var r=0;r<n;r++)e[r]=t[r]}function b(e,t,n){if((0,u.isArrayLike)(t[n]))if((0,u.isArrayLike)(e[n])||(e[n]=[]),(0,u.isTypedArray)(t[n])){var r=t[n].length;e[n].length!==r&&(e[n]=new t[n].constructor(r),x(e[n],t[n],r))}else{var i=t[n],a=e[n],o=i.length;if(c=i,(0,u.isArrayLike)(c[0]))for(var s=i[0].length,l=0;l<o;l++)a[l]?x(a[l],i[l],s):a[l]=Array.prototype.slice.call(i[l]);else x(a,i,o);a.length=i.length}else e[n]=t[n];var c}function w(e,t,n,r,a,o,s,l){for(var c=(0,u.keys)(r),d=a.duration,f=a.delay,h=a.additive,p=a.setToFinal,m=!(0,u.isObject)(o),g=e.animators,v=[],y=0;y<c.length;y++){var x=c[y],_=r[x];if(null!=_&&null!=n[x]&&(m||o[x]))if(!(0,u.isObject)(_)||(0,u.isArrayLike)(_)||(0,u.isGradientObject)(_))v.push(x);else{if(t){l||(n[x]=_,e.updateDuringAnimation(t));continue}w(e,x,n[x],_,a,o&&o[x],s,l)}else l||(n[x]=_,e.updateDuringAnimation(t),v.push(x))}var S=v.length;if(!h&&S)for(var C=0;C<g.length;C++){if((D=g[C]).targetName===t)if(D.stopTracks(v)){var k=(0,u.indexOf)(g,D);g.splice(k,1)}}if(a.force||(v=(0,u.filter)(v,(function(e){return t=r[e],i=n[e],!(t===i||(0,u.isArrayLike)(t)&&(0,u.isArrayLike)(i)&&function(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}(t,i));var t,i})),S=v.length),S>0||a.force&&!s.length){var D,T=void 0,I=void 0,A=void 0;if(l){I={},p&&(T={});for(C=0;C<S;C++){I[x=v[C]]=n[x],p?T[x]=r[x]:n[x]=r[x]}}else if(p){A={};for(C=0;C<S;C++){A[x=v[C]]=(0,i.V)(n[x]),b(n,r,x)}}(D=new i.Z(n,!1,!1,h?(0,u.filter)(g,(function(e){return e.targetName===t})):null)).targetName=t,a.scope&&(D.scope=a.scope),p&&T&&D.whenWithKeys(0,T,v),A&&D.whenWithKeys(0,A,v),D.whenWithKeys(null==d?500:d,l?I:r,v).delay(f||0),e.addAnimator(D,t),s.push(D)}}(0,u.mixin)(v,o.Z),(0,u.mixin)(v,r.ZP),t.Z=v},14963:function(e,t,n){"use strict";n.d(t,{V:function(){return v},Z:function(){return S}});var r={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},elasticOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-r.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*r.bounceIn(2*e):.5*r.bounceOut(2*e-1)+.5}},i=r,a=n(76884),o=n(77912),s=function(){function e(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||a.noop,this.ondestroy=e.ondestroy||a.noop,this.onrestart=e.onrestart||a.noop,e.easing&&this.setEasing(e.easing)}return e.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),!this._paused){var n=this._life,r=e-this._startTime-this._pausedTime,i=r/n;i<0&&(i=0),i=Math.min(i,1);var a=this.easingFunc,o=a?a(i):i;if(this.onframe(o),1===i){if(!this.loop)return!0;var s=r%n;this._startTime=e-s,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=t},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(e){this.easing=e,this.easingFunc=(0,a.isFunction)(e)?e:i[e]||(0,o.H)(e)},e}(),u=n(35561),l=n(9078),c=Array.prototype.slice;function d(e,t,n){return(t-e)*n+e}function f(e,t,n,r){for(var i=t.length,a=0;a<i;a++)e[a]=d(t[a],n[a],r);return e}function h(e,t,n,r){for(var i=t.length,a=0;a<i;a++)e[a]=t[a]+n[a]*r;return e}function p(e,t,n,r){for(var i=t.length,a=i&&t[0].length,o=0;o<i;o++){e[o]||(e[o]=[]);for(var s=0;s<a;s++)e[o][s]=t[o][s]+n[o][s]*r}return e}function m(e,t){for(var n=e.length,r=t.length,i=n>r?t:e,a=Math.min(n,r),o=i[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(n,r);s++)i.push({offset:o.offset,color:o.color.slice()})}function g(e,t,n){var r=e,i=t;if(r.push&&i.push){var a=r.length,o=i.length;if(a!==o)if(a>o)r.length=o;else for(var s=a;s<o;s++)r.push(1===n?i[s]:c.call(i[s]));var u=r[0]&&r[0].length;for(s=0;s<r.length;s++)if(1===n)isNaN(r[s])&&(r[s]=i[s]);else for(var l=0;l<u;l++)isNaN(r[s][l])&&(r[s][l]=i[s][l])}}function v(e){if((0,a.isArrayLike)(e)){var t=e.length;if((0,a.isArrayLike)(e[0])){for(var n=[],r=0;r<t;r++)n.push(c.call(e[r]));return n}return c.call(e)}return e}function y(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=null==e[3]?1:e[3],"rgba("+e.join(",")+")"}function x(e){return 4===e||5===e}function b(e){return 1===e||2===e}var w=[0,0,0,0],_=function(){function e(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(e,t,n){this._needsSort=!0;var r=this.keyframes,s=r.length,c=!1,d=6,f=t;if((0,a.isArrayLike)(t)){var h=function(e){return(0,a.isArrayLike)(e&&e[0])?2:1}(t);d=h,(1===h&&!(0,a.isNumber)(t[0])||2===h&&!(0,a.isNumber)(t[0][0]))&&(c=!0)}else if((0,a.isNumber)(t)&&!(0,a.eqNaN)(t))d=0;else if((0,a.isString)(t))if(isNaN(+t)){var p=u.parse(t);p&&(f=p,d=3)}else d=0;else if((0,a.isGradientObject)(t)){var m=(0,a.extend)({},f);m.colorStops=(0,a.map)(t.colorStops,(function(e){return{offset:e.offset,color:u.parse(e.color)}})),(0,l.I1)(t)?d=4:(0,l.gO)(t)&&(d=5),f=m}0===s?this.valType=d:d===this.valType&&6!==d||(c=!0),this.discrete=this.discrete||c;var g={time:e,value:f,rawValue:t,percent:0};return n&&(g.easing=n,g.easingFunc=(0,a.isFunction)(n)?n:i[n]||(0,o.H)(n)),r.push(g),g},e.prototype.prepare=function(e,t){var n=this.keyframes;this._needsSort&&n.sort((function(e,t){return e.time-t.time}));for(var r=this.valType,i=n.length,a=n[i-1],o=this.discrete,s=b(r),u=x(r),l=0;l<i;l++){var c=n[l],d=c.value,f=a.value;c.percent=c.time/e,o||(s&&l!==i-1?g(d,f,r):u&&m(d.colorStops,f.colorStops))}if(!o&&5!==r&&t&&this.needsAnimate()&&t.needsAnimate()&&r===t.valType&&!t._finished){this._additiveTrack=t;var v=n[0].value;for(l=0;l<i;l++)0===r?n[l].additiveValue=n[l].value-v:3===r?n[l].additiveValue=h([],n[l].value,v,-1):b(r)&&(n[l].additiveValue=1===r?h([],n[l].value,v,-1):p([],n[l].value,v,-1))}},e.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,r,i,o=null!=this._additiveTrack,s=o?"additiveValue":"value",u=this.valType,l=this.keyframes,c=l.length,h=this.propName,p=3===u,m=this._lastFr,g=Math.min;if(1===c)r=i=l[0];else{if(t<0)n=0;else if(t<this._lastFrP){for(n=g(m+1,c-1);n>=0&&!(l[n].percent<=t);n--);n=g(n,c-2)}else{for(n=m;n<c&&!(l[n].percent>t);n++);n=g(n-1,c-2)}i=l[n+1],r=l[n]}if(r&&i){this._lastFr=n,this._lastFrP=t;var v=i.percent-r.percent,_=0===v?1:g((t-r.percent)/v,1);i.easingFunc&&(_=i.easingFunc(_));var S=o?this._additiveValue:p?w:e[h];if(!b(u)&&!p||S||(S=this._additiveValue=[]),this.discrete)e[h]=_<1?r.rawValue:i.rawValue;else if(b(u))1===u?f(S,r[s],i[s],_):function(e,t,n,r){for(var i=t.length,a=i&&t[0].length,o=0;o<i;o++){e[o]||(e[o]=[]);for(var s=0;s<a;s++)e[o][s]=d(t[o][s],n[o][s],r)}}(S,r[s],i[s],_);else if(x(u)){var C=r[s],k=i[s],D=4===u;e[h]={type:D?"linear":"radial",x:d(C.x,k.x,_),y:d(C.y,k.y,_),colorStops:(0,a.map)(C.colorStops,(function(e,t){var n=k.colorStops[t];return{offset:d(e.offset,n.offset,_),color:y(f([],e.color,n.color,_))}})),global:k.global},D?(e[h].x2=d(C.x2,k.x2,_),e[h].y2=d(C.y2,k.y2,_)):e[h].r=d(C.r,k.r,_)}else if(p)f(S,r[s],i[s],_),o||(e[h]=y(S));else{var T=d(r[s],i[s],_);o?this._additiveValue=T:e[h]=T}o&&this._addToTarget(e)}}},e.prototype._addToTarget=function(e){var t=this.valType,n=this.propName,r=this._additiveValue;0===t?e[n]=e[n]+r:3===t?(u.parse(e[n],w),h(w,w,r,1),e[n]=y(w)):1===t?h(e[n],e[n],r,1):2===t&&p(e[n],e[n],r,1)},e}(),S=function(){function e(e,t,n,r){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&r?(0,a.logError)("Can' use additive animation on looped animation."):(this._additiveAnimators=r,this._allowDiscrete=n)}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(e){this._target=e},e.prototype.when=function(e,t,n){return this.whenWithKeys(e,t,(0,a.keys)(t),n)},e.prototype.whenWithKeys=function(e,t,n,r){for(var i=this._tracks,a=0;a<n.length;a++){var o=n[a],s=i[o];if(!s){s=i[o]=new _(o);var u=void 0,l=this._getAdditiveTrack(o);if(l){var c=l.keyframes,d=c[c.length-1];u=d&&d.value,3===l.valType&&u&&(u=y(u))}else u=this._target[o];if(null==u)continue;e>0&&s.addKeyframe(0,v(u),r),this._trackKeys.push(o)}s.addKeyframe(e,v(t[o]),r)}return this._maxTime=Math.max(this._maxTime,e),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,n=0;n<t;n++)e[n].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var n=0;n<t.length;n++)t[n].call(this)},e.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,n=0;n<t.length;n++)e[t[n]].setFinished()},e.prototype._getAdditiveTrack=function(e){var t,n=this._additiveAnimators;if(n)for(var r=0;r<n.length;r++){var i=n[r].getTrack(e);i&&(t=i)}return t},e.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,n=[],r=this._maxTime||0,i=0;i<this._trackKeys.length;i++){var a=this._trackKeys[i],o=this._tracks[a],u=this._getAdditiveTrack(a),l=o.keyframes,c=l.length;if(o.prepare(r,u),o.needsAnimate())if(!this._allowDiscrete&&o.discrete){var d=l[c-1];d&&(t._target[o.propName]=d.rawValue),o.setFinished()}else n.push(o)}if(n.length||this._force){var f=new s({life:r,loop:this._loop,delay:this._delay||0,onframe:function(e){t._started=2;var r=t._additiveAnimators;if(r){for(var i=!1,a=0;a<r.length;a++)if(r[a]._clip){i=!0;break}i||(t._additiveAnimators=null)}for(a=0;a<n.length;a++)n[a].step(t._target,e);var o=t._onframeCbs;if(o)for(a=0;a<o.length;a++)o[a](t._target,e)},ondestroy:function(){t._doneCallback()}});this._clip=f,this.animation&&this.animation.addClip(f),e&&f.setEasing(e)}else this._doneCallback();return this}},e.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},e.prototype.delay=function(e){return this._delay=e,this},e.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},e.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},e.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(e){return this._tracks[e]},e.prototype.getTracks=function(){var e=this;return(0,a.map)(this._trackKeys,(function(t){return e._tracks[t]}))},e.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var n=this._tracks,r=this._trackKeys,i=0;i<e.length;i++){var a=n[e[i]];a&&!a.isFinished()&&(t?a.step(this._target,1):1===this._started&&a.step(this._target,0),a.setFinished())}var o=!0;for(i=0;i<r.length;i++)if(!n[r[i]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},e.prototype.saveTo=function(e,t,n){if(e){t=t||this._trackKeys;for(var r=0;r<t.length;r++){var i=t[r],a=this._tracks[i];if(a&&!a.isFinished()){var o=a.keyframes,s=o[n?0:o.length-1];s&&(e[i]=v(s.rawValue))}}}},e.prototype.__changeFinalValue=function(e,t){t=t||(0,a.keys)(e);for(var n=0;n<t.length;n++){var r=t[n],i=this._tracks[r];if(i){var o=i.keyframes;if(o.length>1){var s=o.pop();i.addKeyframe(s.time,e[r]),i.prepare(this._maxTime,i.getAdditiveTrack())}}}},e}()},77912:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(46529),i=n(76884),a=/cubic-bezier\(([0-9,\.e ]+)\)/;function o(e){var t=e&&a.exec(e);if(t){var n=t[1].split(","),o=+(0,i.trim)(n[0]),s=+(0,i.trim)(n[1]),u=+(0,i.trim)(n[2]),l=+(0,i.trim)(n[3]);if(isNaN(o+s+u+l))return;var c=[];return function(e){return e<=0?0:e>=1?1:(0,r.kD)(0,o,u,1,e,c)&&(0,r.af)(0,s,l,1,c[0])}}}},1022:function(e,t,n){"use strict";var r;r=n(71118).Z.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)},t.Z=r},50746:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(76884);function i(e){var t,n,i=e.style,a=i.lineDash&&i.lineWidth>0&&(t=i.lineDash,n=i.lineWidth,t&&"solid"!==t&&n>0?"dashed"===t?[4*n,2*n]:"dotted"===t?[n]:(0,r.isNumber)(t)?[t]:(0,r.isArray)(t)?t:null:null),o=i.lineDashOffset;if(a){var s=i.strokeNoScale&&e.getLineScale?e.getLineScale():1;s&&1!==s&&(a=(0,r.map)(a,(function(e){return e/s})),o/=s)}return[a,o]}},84188:function(e,t,n){"use strict";n.d(t,{Dm:function(){return A},RV:function(){return I},RZ:function(){return b}});var r=n(75624),i=n(13103),a=n(78383),o=n(93297),s=n(45162),u=n(44046),l=n(39516),c=n(76884),d=n(50746),f=n(51532),h=n(29315),p=new i.Z(!0);function m(e){var t=e.stroke;return!(null==t||"none"===t||!(e.lineWidth>0))}function g(e){return"string"===typeof e&&"none"!==e}function v(e){var t=e.fill;return null!=t&&"none"!==t}function y(e,t){if(null!=t.fillOpacity&&1!==t.fillOpacity){var n=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=n}else e.fill()}function x(e,t){if(null!=t.strokeOpacity&&1!==t.strokeOpacity){var n=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=n}else e.stroke()}function b(e,t,n){var r=(0,a.Gq)(t.image,t.__image,n);if((0,a.v5)(r)){var i=e.createPattern(r,t.repeat||"repeat");if("function"===typeof DOMMatrix&&i&&i.setTransform){var o=new DOMMatrix;o.translateSelf(t.x||0,t.y||0),o.rotateSelf(0,0,(t.rotation||0)*c.RADIAN_TO_DEGREE),o.scaleSelf(t.scaleX||1,t.scaleY||1),i.setTransform(o)}return i}}var w=["shadowBlur","shadowOffsetX","shadowOffsetY"],_=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function S(e,t,n,i,a){var o=!1;if(!i&&t===(n=n||{}))return!1;if(i||t.opacity!==n.opacity){D(e,a),o=!0;var s=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(s)?r.tj.opacity:s}(i||t.blend!==n.blend)&&(o||(D(e,a),o=!0),e.globalCompositeOperation=t.blend||r.tj.blend);for(var u=0;u<w.length;u++){var l=w[u];(i||t[l]!==n[l])&&(o||(D(e,a),o=!0),e[l]=e.dpr*(t[l]||0))}return(i||t.shadowColor!==n.shadowColor)&&(o||(D(e,a),o=!0),e.shadowColor=t.shadowColor||r.tj.shadowColor),o}function C(e,t,n,r,i){var a=T(t,i.inHover),o=r?null:n&&T(n,i.inHover)||{};if(a===o)return!1;var s=S(e,a,o,r,i);if((r||a.fill!==o.fill)&&(s||(D(e,i),s=!0),g(a.fill)&&(e.fillStyle=a.fill)),(r||a.stroke!==o.stroke)&&(s||(D(e,i),s=!0),g(a.stroke)&&(e.strokeStyle=a.stroke)),(r||a.opacity!==o.opacity)&&(s||(D(e,i),s=!0),e.globalAlpha=null==a.opacity?1:a.opacity),t.hasStroke()){var u=a.lineWidth/(a.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==u&&(s||(D(e,i),s=!0),e.lineWidth=u)}for(var l=0;l<_.length;l++){var c=_[l],d=c[0];(r||a[d]!==o[d])&&(s||(D(e,i),s=!0),e[d]=a[d]||c[1])}return s}function k(e,t){var n=t.transform,r=e.dpr||1;n?e.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5]):e.setTransform(r,0,0,r,0,0)}function D(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function T(e,t){return t&&e.__hoverStyle||e.style}function I(e,t){A(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function A(e,t,n,r){var i=t.transform;if(!t.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1))return t.__dirty&=~f.YV,void(t.__isRendered=!1);var c=t.__clipPaths,g=n.prevElClipPaths,w=!1,_=!1;if(g&&!(0,o.cF)(c,g)||(g&&g.length&&(D(e,n),e.restore(),_=w=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),c&&c.length&&(D(e,n),e.save(),function(e,t,n){for(var r=!1,i=0;i<e.length;i++){var a=e[i];r=r||a.isZeroArea(),k(t,a),t.beginPath(),a.buildPath(t,a.shape),t.clip()}n.allClipped=r}(c,e,n),w=!0),n.prevElClipPaths=c),n.allClipped)t.__isRendered=!1;else{t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var I=n.prevEl;I||(_=w=!0);var M,E,N=t instanceof s.ZP&&t.autoBatch&&function(e){var t=v(e),n=m(e);return!(e.lineDash||!(+t^+n)||t&&"string"!==typeof e.fill||n&&"string"!==typeof e.stroke||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}(t.style);w||(M=i,E=I.transform,M&&E?M[0]!==E[0]||M[1]!==E[1]||M[2]!==E[2]||M[3]!==E[3]||M[4]!==E[4]||M[5]!==E[5]:M||E)?(D(e,n),k(e,t)):N||D(e,n);var R=T(t,n.inHover);t instanceof s.ZP?(1!==n.lastDrawType&&(_=!0,n.lastDrawType=1),C(e,t,I,_,n),N&&(n.batchFill||n.batchStroke)||e.beginPath(),function(e,t,n,r){var i,a=m(n),s=v(n),u=n.strokePercent,l=u<1,c=!t.path;t.silent&&!l||!c||t.createPathProxy();var h=t.path||p,g=t.__dirty;if(!r){var w=n.fill,_=n.stroke,S=s&&!!w.colorStops,C=a&&!!_.colorStops,k=s&&!!w.image,D=a&&!!_.image,T=void 0,I=void 0,A=void 0,M=void 0,E=void 0;(S||C)&&(E=t.getBoundingRect()),S&&(T=g?(0,o.ZF)(e,w,E):t.__canvasFillGradient,t.__canvasFillGradient=T),C&&(I=g?(0,o.ZF)(e,_,E):t.__canvasStrokeGradient,t.__canvasStrokeGradient=I),k&&(A=g||!t.__canvasFillPattern?b(e,w,t):t.__canvasFillPattern,t.__canvasFillPattern=A),D&&(M=g||!t.__canvasStrokePattern?b(e,_,t):t.__canvasStrokePattern,t.__canvasStrokePattern=A),S?e.fillStyle=T:k&&(A?e.fillStyle=A:s=!1),C?e.strokeStyle=I:D&&(M?e.strokeStyle=M:a=!1)}var N,R,P=t.getGlobalScale();h.setScale(P[0],P[1],t.segmentIgnoreThreshold),e.setLineDash&&n.lineDash&&(N=(i=(0,d.a)(t))[0],R=i[1]);var O=!0;(c||g&f.RH)&&(h.setDPR(e.dpr),l?h.setContext(null):(h.setContext(e),O=!1),h.reset(),t.buildPath(h,t.shape,r),h.toStatic(),t.pathUpdated()),O&&h.rebuildPath(e,l?u:1),N&&(e.setLineDash(N),e.lineDashOffset=R),r||(n.strokeFirst?(a&&x(e,n),s&&y(e,n)):(s&&y(e,n),a&&x(e,n))),N&&e.setLineDash([])}(e,t,R,N),N&&(n.batchFill=R.fill||"",n.batchStroke=R.stroke||"")):t instanceof l.Z?(3!==n.lastDrawType&&(_=!0,n.lastDrawType=3),C(e,t,I,_,n),function(e,t,n){var r,i=n.text;if(null!=i&&(i+=""),i){e.font=n.font||h.Uo,e.textAlign=n.textAlign,e.textBaseline=n.textBaseline;var a=void 0,o=void 0;e.setLineDash&&n.lineDash&&(a=(r=(0,d.a)(t))[0],o=r[1]),a&&(e.setLineDash(a),e.lineDashOffset=o),n.strokeFirst?(m(n)&&e.strokeText(i,n.x,n.y),v(n)&&e.fillText(i,n.x,n.y)):(v(n)&&e.fillText(i,n.x,n.y),m(n)&&e.strokeText(i,n.x,n.y)),a&&e.setLineDash([])}}(e,t,R)):t instanceof u.ZP?(2!==n.lastDrawType&&(_=!0,n.lastDrawType=2),function(e,t,n,r,i){S(e,T(t,i.inHover),n&&T(n,i.inHover),r,i)}(e,t,I,_,n),function(e,t,n){var r=t.__image=(0,a.Gq)(n.image,t.__image,t,t.onload);if(r&&(0,a.v5)(r)){var i=n.x||0,o=n.y||0,s=t.getWidth(),u=t.getHeight(),l=r.width/r.height;if(null==s&&null!=u?s=u*l:null==u&&null!=s?u=s/l:null==s&&null==u&&(s=r.width,u=r.height),n.sWidth&&n.sHeight){var c=n.sx||0,d=n.sy||0;e.drawImage(r,c,d,n.sWidth,n.sHeight,i,o,s,u)}else if(n.sx&&n.sy){var f=s-(c=n.sx),h=u-(d=n.sy);e.drawImage(r,c,d,f,h,i,o,s,u)}else e.drawImage(r,i,o,s,u)}}(e,t,R)):t.getTemporalDisplayables&&(4!==n.lastDrawType&&(_=!0,n.lastDrawType=4),function(e,t,n){var r=t.getDisplayables(),i=t.getTemporalDisplayables();e.save();var a,o,s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover};for(a=t.getCursor(),o=r.length;a<o;a++){(c=r[a]).beforeBrush&&c.beforeBrush(),c.innerBeforeBrush(),A(e,c,s,a===o-1),c.innerAfterBrush(),c.afterBrush&&c.afterBrush(),s.prevEl=c}for(var u=0,l=i.length;u<l;u++){var c;(c=i[u]).beforeBrush&&c.beforeBrush(),c.innerBeforeBrush(),A(e,c,s,u===l-1),c.innerAfterBrush(),c.afterBrush&&c.afterBrush(),s.prevEl=c}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}(e,t,n)),N&&r&&D(e,n),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),n.prevEl=t,t.__dirty=0,t.__isRendered=!0}}},93297:function(e,t,n){"use strict";function r(e,t,n){for(var r="radial"===t.type?function(e,t,n){var r=n.width,i=n.height,a=Math.min(r,i),o=null==t.x?.5:t.x,s=null==t.y?.5:t.y,u=null==t.r?.5:t.r;return t.global||(o=o*r+n.x,s=s*i+n.y,u*=a),e.createRadialGradient(o,s,0,o,s,u)}(e,t,n):function(e,t,n){var r=null==t.x?0:t.x,i=null==t.x2?1:t.x2,a=null==t.y?0:t.y,o=null==t.y2?0:t.y2;return t.global||(r=r*n.width+n.x,i=i*n.width+n.x,a=a*n.height+n.y,o=o*n.height+n.y),r=isNaN(r)?0:r,i=isNaN(i)?1:i,a=isNaN(a)?0:a,o=isNaN(o)?0:o,e.createLinearGradient(r,a,i,o)}(e,t,n),i=t.colorStops,a=0;a<i.length;a++)r.addColorStop(i[a].offset,i[a].color);return r}function i(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}function a(e){return parseInt(e,10)}function o(e,t,n){var r=["width","height"][t],i=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],s=["paddingRight","paddingBottom"][t];if(null!=n[r]&&"auto"!==n[r])return parseFloat(n[r]);var u=document.defaultView.getComputedStyle(e);return(e[i]||a(u[r])||a(e.style[r]))-(a(u[o])||0)-(a(u[s])||0)|0}n.d(t,{ZF:function(){return r},ap:function(){return o},cF:function(){return i}})},37706:function(e,t,n){"use strict";n.d(t,{Ak:function(){return a},GD:function(){return s},KL:function(){return i},iv:function(){return u},vU:function(){return o}});var r=1;n(71118).Z.hasGlobalWindow&&(r=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var i=r,a=.4,o="#333",s="#ccc",u="#eee"},49155:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){if(0===i)return!1;var s=i,u=0;if(o>t+s&&o>r+s||o<t-s&&o<r-s||a>e+s&&a>n+s||a<e-s&&a<n-s)return!1;if(e===n)return Math.abs(a-e)<=s/2;var l=(u=(t-r)/(e-n))*a-o+(e*r-n*t)/(e-n);return l*l/(u*u+1)<=s/2*s/2}n.d(t,{m:function(){return r}})},34961:function(e,t,n){"use strict";n.d(t,{X:function(){return a}});var r=n(11834);function i(e,t){return Math.abs(e-t)<1e-8}function a(e,t,n){var a=0,o=e[0];if(!o)return!1;for(var s=1;s<e.length;s++){var u=e[s];a+=(0,r.Z)(o[0],o[1],u[0],u[1],t,n),o=u}var l=e[0];return i(o[0],l[0])&&i(o[1],l[1])||(a+=(0,r.Z)(o[0],o[1],l[0],l[1],t,n)),0!==a}},33723:function(e,t,n){"use strict";n.d(t,{m:function(){return i}});var r=n(46529);function i(e,t,n,i,a,o,s,u,l){if(0===s)return!1;var c=s;return!(l>t+c&&l>i+c&&l>o+c||l<t-c&&l<i-c&&l<o-c||u>e+c&&u>n+c&&u>a+c||u<e-c&&u<n-c&&u<a-c)&&(0,r.Wr)(e,t,n,i,a,o,u,l,null)<=c/2}},15849:function(e,t,n){"use strict";n.d(t,{Dp:function(){return f},GM:function(){return h},M3:function(){return c},dz:function(){return s},lP:function(){return l},mU:function(){return d},wI:function(){return p}});var r=n(97057),i=n(79195),a=n(29315),o={};function s(e,t){t=t||a.Uo;var n=o[t];n||(n=o[t]=new i.ZP(500));var r=n.get(e);return null==r&&(r=a.qW.measureText(e,t).width,n.put(e,r)),r}function u(e,t,n,i){var a=s(e,t),o=f(t),u=c(0,a,n),l=d(0,o,i);return new r.Z(u,l,a,o)}function l(e,t,n,i){var a=((e||"")+"").split("\n");if(1===a.length)return u(a[0],t,n,i);for(var o=new r.Z(0,0,0,0),s=0;s<a.length;s++){var l=u(a[s],t,n,i);0===s?o.copy(l):o.union(l)}return o}function c(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function d(e,t,n){return"middle"===n?e-=t/2:"bottom"===n&&(e-=t),e}function f(e){return s("\u56fd",e)}function h(e,t){return"string"===typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function p(e,t,n){var r=t.position||"inside",i=null!=t.distance?t.distance:5,a=n.height,o=n.width,s=a/2,u=n.x,l=n.y,c="left",d="top";if(r instanceof Array)u+=h(r[0],n.width),l+=h(r[1],n.height),c=null,d=null;else switch(r){case"left":u-=i,l+=s,c="right",d="middle";break;case"right":u+=i+o,l+=s,d="middle";break;case"top":u+=o/2,l-=i,c="center",d="bottom";break;case"bottom":u+=o/2,l+=a+i,c="center";break;case"inside":u+=o/2,l+=s,c="center",d="middle";break;case"insideLeft":u+=i,l+=s,d="middle";break;case"insideRight":u+=o-i,l+=s,c="right",d="middle";break;case"insideTop":u+=o/2,l+=i,c="center";break;case"insideBottom":u+=o/2,l+=a-i,c="center",d="bottom";break;case"insideTopLeft":u+=i,l+=i;break;case"insideTopRight":u+=o-i,l+=i,c="right";break;case"insideBottomLeft":u+=i,l+=a-i,d="bottom";break;case"insideBottomRight":u+=o-i,l+=a-i,c="right",d="bottom"}return(e=e||{}).x=u,e.y=l,e.align=c,e.verticalAlign=d,e}},40370:function(e,t,n){"use strict";n.d(t,{m:function(){return i}});var r=2*Math.PI;function i(e){return(e%=r)<0&&(e+=r),e}},11834:function(e,t,n){"use strict";function r(e,t,n,r,i,a){if(a>t&&a>r||a<t&&a<r)return 0;if(r===t)return 0;var o=(a-t)/(r-t),s=r<t?1:-1;1!==o&&0!==o||(s=r<t?.5:-.5);var u=o*(n-e)+e;return u===i?1/0:u>i?s:0}n.d(t,{Z:function(){return r}})},97057:function(e,t,n){"use strict";var r=n(21432),i=n(14310),a=Math.min,o=Math.max,s=new i.Z,u=new i.Z,l=new i.Z,c=new i.Z,d=new i.Z,f=new i.Z,h=function(){function e(e,t,n,r){n<0&&(e+=n,n=-n),r<0&&(t+=r,r=-r),this.x=e,this.y=t,this.width=n,this.height=r}return e.prototype.union=function(e){var t=a(e.x,this.x),n=a(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=o(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=o(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=t,this.y=n},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(e){var t=this,n=e.width/t.width,i=e.height/t.height,a=r.create();return r.translate(a,a,[-t.x,-t.y]),r.scale(a,a,[n,i]),r.translate(a,a,[e.x,e.y]),a},e.prototype.intersect=function(t,n){if(!t)return!1;t instanceof e||(t=e.create(t));var r=this,a=r.x,o=r.x+r.width,s=r.y,u=r.y+r.height,l=t.x,c=t.x+t.width,h=t.y,p=t.y+t.height,m=!(o<l||c<a||u<h||p<s);if(n){var g=1/0,v=0,y=Math.abs(o-l),x=Math.abs(c-a),b=Math.abs(u-h),w=Math.abs(p-s),_=Math.min(y,x),S=Math.min(b,w);o<l||c<a?_>v&&(v=_,y<x?i.Z.set(f,-y,0):i.Z.set(f,x,0)):_<g&&(g=_,y<x?i.Z.set(d,y,0):i.Z.set(d,-x,0)),u<h||p<s?S>v&&(v=S,b<w?i.Z.set(f,0,-b):i.Z.set(f,0,w)):_<g&&(g=_,b<w?i.Z.set(d,0,b):i.Z.set(d,0,-w))}return n&&i.Z.copy(n,m?d:f),m},e.prototype.contain=function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return 0===this.width||0===this.height},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},e.applyTransform=function(t,n,r){if(r){if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],d=r[3],f=r[4],h=r[5];return t.x=n.x*i+f,t.y=n.y*d+h,t.width=n.width*i,t.height=n.height*d,t.width<0&&(t.x+=t.width,t.width=-t.width),void(t.height<0&&(t.y+=t.height,t.height=-t.height))}s.x=l.x=n.x,s.y=c.y=n.y,u.x=c.x=n.x+n.width,u.y=l.y=n.y+n.height,s.transform(r),c.transform(r),u.transform(r),l.transform(r),t.x=a(s.x,u.x,l.x,c.x),t.y=a(s.y,u.y,l.y,c.y);var p=o(s.x,u.x,l.x,c.x),m=o(s.y,u.y,l.y,c.y);t.width=p-t.x,t.height=m-t.y}else t!==n&&e.copy(t,n)},e}();t.Z=h},85363:function(e,t){"use strict";var n=function(){function e(e){e&&(this._$eventProcessor=e)}return e.prototype.on=function(e,t,n,r){this._$handlers||(this._$handlers={});var i=this._$handlers;if("function"===typeof t&&(r=n,n=t,t=null),!n||!e)return this;var a=this._$eventProcessor;null!=t&&a&&a.normalizeQuery&&(t=a.normalizeQuery(t)),i[e]||(i[e]=[]);for(var o=0;o<i[e].length;o++)if(i[e][o].h===n)return this;var s={h:n,query:t,ctx:r||this,callAtLast:n.zrEventfulCallAtLast},u=i[e].length-1,l=i[e][u];return l&&l.callAtLast?i[e].splice(u,0,s):i[e].push(s),this},e.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},e.prototype.off=function(e,t){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var r=[],i=0,a=n[e].length;i<a;i++)n[e][i].h!==t&&r.push(n[e][i]);n[e]=r}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this},e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[e],i=this._$eventProcessor;if(r)for(var a=t.length,o=r.length,s=0;s<o;s++){var u=r[s];if(!i||!i.filter||null==u.query||i.filter(e,u.query))switch(a){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,t[0]);break;case 2:u.h.call(u.ctx,t[0],t[1]);break;default:u.h.apply(u.ctx,t)}}return i&&i.afterTrigger&&i.afterTrigger(e),this},e.prototype.triggerWithContext=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[e],i=this._$eventProcessor;if(r)for(var a=t.length,o=t[a-1],s=r.length,u=0;u<s;u++){var l=r[u];if(!i||!i.filter||null==l.query||i.filter(e,l.query))switch(a){case 0:l.h.call(o);break;case 1:l.h.call(o,t[0]);break;case 2:l.h.call(o,t[0],t[1]);break;default:l.h.apply(o,t.slice(1,a-1))}}return i&&i.afterTrigger&&i.afterTrigger(e),this},e}();t.Z=n},79195:function(e,t,n){"use strict";var r=function(e){this.value=e},i=function(){function e(){this._len=0}return e.prototype.insert=function(e){var t=new r(e);return this.insertEntry(t),t},e.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},e.prototype.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),a=function(){function e(e){this._list=new i,this._maxSize=10,this._map={},this._maxSize=e}return e.prototype.put=function(e,t){var n=this._list,i=this._map,a=null;if(null==i[e]){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var u=n.head;n.remove(u),delete i[u.key],a=u.value,this._lastRemovedEntry=u}s?s.value=t:s=new r(t),s.key=e,n.insertEntry(s),i[e]=s}return a},e.prototype.get=function(e){var t=this._map[e],n=this._list;if(null!=t)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}();t.ZP=a},33077:function(e,t,n){"use strict";var r=n(14310),i=[0,0],a=[0,0],o=new r.Z,s=new r.Z,u=function(){function e(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new r.Z;for(n=0;n<2;n++)this._axes[n]=new r.Z;e&&this.fromBoundingRect(e,t)}return e.prototype.fromBoundingRect=function(e,t){var n=this._corners,i=this._axes,a=e.x,o=e.y,s=a+e.width,u=o+e.height;if(n[0].set(a,o),n[1].set(s,o),n[2].set(s,u),n[3].set(a,u),t)for(var l=0;l<4;l++)n[l].transform(t);r.Z.sub(i[0],n[1],n[0]),r.Z.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(l=0;l<2;l++)this._origin[l]=i[l].dot(n[0])},e.prototype.intersect=function(e,t){var n=!0,i=!t;return o.set(1/0,1/0),s.set(0,0),!this._intersectCheckOneSide(this,e,o,s,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(e,this,o,s,i,-1)&&(n=!1,i)||i||r.Z.copy(t,n?o:s),n},e.prototype._intersectCheckOneSide=function(e,t,n,o,s,u){for(var l=!0,c=0;c<2;c++){var d=this._axes[c];if(this._getProjMinMaxOnAxis(c,e._corners,i),this._getProjMinMaxOnAxis(c,t._corners,a),i[1]<a[0]||i[0]>a[1]){if(l=!1,s)return l;var f=Math.abs(a[0]-i[1]),h=Math.abs(i[0]-a[1]);Math.min(f,h)>o.len()&&(f<h?r.Z.scale(o,d,-f*u):r.Z.scale(o,d,h*u))}else if(n){f=Math.abs(a[0]-i[1]),h=Math.abs(i[0]-a[1]);Math.min(f,h)<n.len()&&(f<h?r.Z.scale(n,d,f*u):r.Z.scale(n,d,-h*u))}}return l},e.prototype._getProjMinMaxOnAxis=function(e,t,n){for(var r=this._axes[e],i=this._origin,a=t[0].dot(r)+i[e],o=a,s=a,u=1;u<t.length;u++){var l=t[u].dot(r)+i[e];o=Math.min(l,o),s=Math.max(l,s)}n[0]=o,n[1]=s},e}();t.Z=u},13103:function(e,t,n){"use strict";n.d(t,{L:function(){return k}});var r=n(75784),i=n(97057),a=n(37706),o=n(70264),s=n(46529),u={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},l=[],c=[],d=[],f=[],h=[],p=[],m=Math.min,g=Math.max,v=Math.cos,y=Math.sin,x=Math.abs,b=Math.PI,w=2*b,_="undefined"!==typeof Float32Array,S=[];function C(e){return Math.round(e/b*1e8)/1e8%2*b}function k(e,t){var n=C(e[0]);n<0&&(n+=w);var r=n-e[0],i=e[1];i+=r,!t&&i-n>=w?i=n+w:t&&n-i>=w?i=n-w:!t&&n>i?i=n+(w-C(n-i)):t&&n<i&&(i=n-(w-C(i-n))),e[0]=n,e[1]=i}var D=function(){function e(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(e,t,n){(n=n||0)>0&&(this._ux=x(n/a.KL/e)||0,this._uy=x(n/a.KL/t)||0)},e.prototype.setDPR=function(e){this.dpr=e},e.prototype.setContext=function(e){this._ctx=e},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(u.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},e.prototype.lineTo=function(e,t){var n=x(e-this._xi),r=x(t-this._yi),i=n>this._ux||r>this._uy;if(this.addData(u.L,e,t),this._ctx&&i&&this._ctx.lineTo(e,t),i)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var a=n*n+r*r;a>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=a)}return this},e.prototype.bezierCurveTo=function(e,t,n,r,i,a){return this._drawPendingPt(),this.addData(u.C,e,t,n,r,i,a),this._ctx&&this._ctx.bezierCurveTo(e,t,n,r,i,a),this._xi=i,this._yi=a,this},e.prototype.quadraticCurveTo=function(e,t,n,r){return this._drawPendingPt(),this.addData(u.Q,e,t,n,r),this._ctx&&this._ctx.quadraticCurveTo(e,t,n,r),this._xi=n,this._yi=r,this},e.prototype.arc=function(e,t,n,r,i,a){this._drawPendingPt(),S[0]=r,S[1]=i,k(S,a),r=S[0];var o=(i=S[1])-r;return this.addData(u.A,e,t,n,n,r,o,0,a?0:1),this._ctx&&this._ctx.arc(e,t,n,r,i,a),this._xi=v(i)*n+e,this._yi=y(i)*n+t,this},e.prototype.arcTo=function(e,t,n,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,n,r,i),this},e.prototype.rect=function(e,t,n,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,n,r),this.addData(u.R,e,t,n,r),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(u.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&e.closePath(),this._xi=t,this._yi=n,this},e.prototype.fill=function(e){e&&e.fill(),this.toStatic()},e.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(e){var t=e.length;this.data&&this.data.length===t||!_||(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},e.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,r=this._len,i=0;i<t;i++)n+=e[i].len();_&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n));for(i=0;i<t;i++)for(var a=e[i].data,o=0;o<a.length;o++)this.data[r++]=a[o];this._len=r},e.prototype.addData=function(e,t,n,r,i,a,o,s,u){if(this._saveData){var l=this.data;this._len+arguments.length>l.length&&(this._expandData(),l=this.data);for(var c=0;c<arguments.length;c++)l[this._len++]=arguments[c]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,_&&this._len>11&&(this.data=new Float32Array(e)))}},e.prototype.getBoundingRect=function(){d[0]=d[1]=h[0]=h[1]=Number.MAX_VALUE,f[0]=f[1]=p[0]=p[1]=-Number.MAX_VALUE;var e,t=this.data,n=0,a=0,s=0,l=0;for(e=0;e<this._len;){var c=t[e++],m=1===e;switch(m&&(s=n=t[e],l=a=t[e+1]),c){case u.M:n=s=t[e++],a=l=t[e++],h[0]=s,h[1]=l,p[0]=s,p[1]=l;break;case u.L:(0,o.u4)(n,a,t[e],t[e+1],h,p),n=t[e++],a=t[e++];break;case u.C:(0,o.H9)(n,a,t[e++],t[e++],t[e++],t[e++],t[e],t[e+1],h,p),n=t[e++],a=t[e++];break;case u.Q:(0,o.mJ)(n,a,t[e++],t[e++],t[e],t[e+1],h,p),n=t[e++],a=t[e++];break;case u.A:var g=t[e++],x=t[e++],b=t[e++],w=t[e++],_=t[e++],S=t[e++]+_;e+=1;var C=!t[e++];m&&(s=v(_)*b+g,l=y(_)*w+x),(0,o.qL)(g,x,b,w,_,S,C,h,p),n=v(S)*b+g,a=y(S)*w+x;break;case u.R:s=n=t[e++],l=a=t[e++];var k=t[e++],D=t[e++];(0,o.u4)(s,l,s+k,l+D,h,p);break;case u.Z:n=s,a=l}r.min(d,d,h),r.max(f,f,p)}return 0===e&&(d[0]=d[1]=f[0]=f[1]=0),new i.Z(d[0],d[1],f[0]-d[0],f[1]-d[1])},e.prototype._calculateLength=function(){var e=this.data,t=this._len,n=this._ux,r=this._uy,i=0,a=0,o=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,d=0,f=0,h=0;h<t;){var p=e[h++],b=1===h;b&&(o=i=e[h],l=a=e[h+1]);var _=-1;switch(p){case u.M:i=o=e[h++],a=l=e[h++];break;case u.L:var S=e[h++],C=(T=e[h++])-a;(x(F=S-i)>n||x(C)>r||h===t-1)&&(_=Math.sqrt(F*F+C*C),i=S,a=T);break;case u.C:var k=e[h++],D=e[h++],T=(S=e[h++],e[h++]),I=e[h++],A=e[h++];_=(0,s.Ci)(i,a,k,D,S,T,I,A,10),i=I,a=A;break;case u.Q:k=e[h++],D=e[h++],S=e[h++],T=e[h++];_=(0,s.wQ)(i,a,k,D,S,T,10),i=S,a=T;break;case u.A:var M=e[h++],E=e[h++],N=e[h++],R=e[h++],P=e[h++],O=e[h++],L=O+P;h+=1;e[h++];b&&(o=v(P)*N+M,l=y(P)*R+E),_=g(N,R)*m(w,Math.abs(O)),i=v(L)*N+M,a=y(L)*R+E;break;case u.R:o=i=e[h++],l=a=e[h++],_=2*e[h++]+2*e[h++];break;case u.Z:var F=o-i;C=l-a;_=Math.sqrt(F*F+C*C),i=o,a=l}_>=0&&(c[f++]=_,d+=_)}return this._pathLen=d,d},e.prototype.rebuildPath=function(e,t){var n,r,i,a,o,d,f,h,p,b,w=this.data,_=this._ux,S=this._uy,C=this._len,k=t<1,D=0,T=0,I=0;if(!k||(this._pathSegLen||this._calculateLength(),f=this._pathSegLen,h=t*this._pathLen))e:for(var A=0;A<C;){var M=w[A++],E=1===A;switch(E&&(n=i=w[A],r=a=w[A+1]),M!==u.L&&I>0&&(e.lineTo(p,b),I=0),M){case u.M:n=i=w[A++],r=a=w[A++],e.moveTo(i,a);break;case u.L:o=w[A++],d=w[A++];var N=x(o-i),R=x(d-a);if(N>_||R>S){if(k){if(D+(re=f[T++])>h){var P=(h-D)/re;e.lineTo(i*(1-P)+o*P,a*(1-P)+d*P);break e}D+=re}e.lineTo(o,d),i=o,a=d,I=0}else{var O=N*N+R*R;O>I&&(p=o,b=d,I=O)}break;case u.C:var L=w[A++],F=w[A++],Z=w[A++],B=w[A++],z=w[A++],V=w[A++];if(k){if(D+(re=f[T++])>h){P=(h-D)/re;(0,s.Vz)(i,L,Z,z,P,l),(0,s.Vz)(a,F,B,V,P,c),e.bezierCurveTo(l[1],c[1],l[2],c[2],l[3],c[3]);break e}D+=re}e.bezierCurveTo(L,F,Z,B,z,V),i=z,a=V;break;case u.Q:L=w[A++],F=w[A++],Z=w[A++],B=w[A++];if(k){if(D+(re=f[T++])>h){P=(h-D)/re;(0,s.Lx)(i,L,Z,P,l),(0,s.Lx)(a,F,B,P,c),e.quadraticCurveTo(l[1],c[1],l[2],c[2]);break e}D+=re}e.quadraticCurveTo(L,F,Z,B),i=Z,a=B;break;case u.A:var j=w[A++],W=w[A++],U=w[A++],H=w[A++],G=w[A++],X=w[A++],q=w[A++],Y=!w[A++],K=U>H?U:H,Q=x(U-H)>.001,J=G+X,$=!1;if(k)D+(re=f[T++])>h&&(J=G+X*(h-D)/re,$=!0),D+=re;if(Q&&e.ellipse?e.ellipse(j,W,U,H,q,G,J,Y):e.arc(j,W,K,G,J,Y),$)break e;E&&(n=v(G)*U+j,r=y(G)*H+W),i=v(J)*U+j,a=y(J)*H+W;break;case u.R:n=i=w[A],r=a=w[A+1],o=w[A++],d=w[A++];var ee=w[A++],te=w[A++];if(k){if(D+(re=f[T++])>h){var ne=h-D;e.moveTo(o,d),e.lineTo(o+m(ne,ee),d),(ne-=ee)>0&&e.lineTo(o+ee,d+m(ne,te)),(ne-=te)>0&&e.lineTo(o+g(ee-ne,0),d+te),(ne-=ee)>0&&e.lineTo(o,d+g(te-ne,0));break e}D+=re}e.rect(o,d,ee,te);break;case u.Z:if(k){var re;if(D+(re=f[T++])>h){P=(h-D)/re;e.lineTo(i*(1-P)+n*P,a*(1-P)+r*P);break e}D+=re}e.closePath(),i=n,a=r}}},e.prototype.clone=function(){var t=new e,n=this.data;return t.data=n.slice?n.slice():Array.prototype.slice.call(n),t._len=this._len,t},e.CMD=u,e.initDefaultProps=function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),e}();t.Z=D},14310:function(e,t){"use strict";var n=function(){function e(e,t){this.x=e||0,this.y=t||0}return e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(e,t){return this.x=e,this.y=t,this},e.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},e.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},e.prototype.scale=function(e){this.x*=e,this.y*=e},e.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},e.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},e.prototype.dot=function(e){return this.x*e.x+this.y*e.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},e.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},e.prototype.distanceSquare=function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(e){if(e){var t=this.x,n=this.y;return this.x=e[0]*t+e[2]*n+e[4],this.y=e[1]*t+e[3]*n+e[5],this}},e.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},e.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},e.set=function(e,t,n){e.x=t,e.y=n},e.copy=function(e,t){e.x=t.x,e.y=t.y},e.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},e.lenSquare=function(e){return e.x*e.x+e.y*e.y},e.dot=function(e,t){return e.x*t.x+e.y*t.y},e.add=function(e,t,n){e.x=t.x+n.x,e.y=t.y+n.y},e.sub=function(e,t,n){e.x=t.x-n.x,e.y=t.y-n.y},e.scale=function(e,t,n){e.x=t.x*n,e.y=t.y*n},e.scaleAndAdd=function(e,t,n,r){e.x=t.x+n.x*r,e.y=t.y+n.y*r},e.lerp=function(e,t,n,r){var i=1-r;e.x=i*t.x+r*n.x,e.y=i*t.y+r*n.y},e}();t.Z=n},98773:function(e,t,n){"use strict";n.d(t,{dN:function(){return h},kY:function(){return p}});var r=n(21432),i=n(75784),a=r.identity,o=5e-5;function s(e){return e>o||e<-5e-5}var u=[],l=[],c=r.create(),d=Math.abs,f=function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},e.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},e.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},e.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},e.prototype.needLocalTransform=function(){return s(this.rotation)||s(this.x)||s(this.y)||s(this.scaleX-1)||s(this.scaleY-1)||s(this.skewX)||s(this.skewY)},e.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),n=this.transform;t||e?(n=n||r.create(),t?this.getLocalTransform(n):a(n),e&&(t?r.mul(n,e,n):r.copy(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)):n&&a(n)},e.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(null!=t&&1!==t){this.getGlobalScale(u);var n=u[0]<0?-1:1,i=u[1]<0?-1:1,a=((u[0]-n)*t+n)/u[0]||0,o=((u[1]-i)*t+i)/u[1]||0;e[0]*=a,e[1]*=a,e[2]*=o,e[3]*=o}this.invTransform=this.invTransform||r.create(),r.invert(this.invTransform,e)},e.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},e.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],r=Math.atan2(e[1],e[0]),i=Math.PI/2+r-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(i),t=Math.sqrt(t),this.skewX=i,this.skewY=0,this.rotation=-r,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=n,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(r.mul(l,e.invTransform,t),t=l);var n=this.originX,i=this.originY;(n||i)&&(c[4]=n,c[5]=i,r.mul(l,t,c),l[4]-=n,l[5]-=i,t=l),this.setLocalTransform(t)}},e.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},e.prototype.transformCoordToLocal=function(e,t){var n=[e,t],r=this.invTransform;return r&&i.applyTransform(n,n,r),n},e.prototype.transformCoordToGlobal=function(e,t){var n=[e,t],r=this.transform;return r&&i.applyTransform(n,n,r),n},e.prototype.getLineScale=function(){var e=this.transform;return e&&d(e[0]-1)>1e-10&&d(e[3]-1)>1e-10?Math.sqrt(d(e[0]*e[3]-e[2]*e[1])):1},e.prototype.copyTransform=function(e){p(this,e)},e.getLocalTransform=function(e,t){t=t||[];var n=e.originX||0,i=e.originY||0,a=e.scaleX,o=e.scaleY,s=e.anchorX,u=e.anchorY,l=e.rotation||0,c=e.x,d=e.y,f=e.skewX?Math.tan(e.skewX):0,h=e.skewY?Math.tan(-e.skewY):0;if(n||i||s||u){var p=n+s,m=i+u;t[4]=-p*a-f*m*o,t[5]=-m*o-h*p*a}else t[4]=t[5]=0;return t[0]=a,t[3]=o,t[1]=h*a,t[2]=f*o,l&&r.rotate(t,t,l),t[4]+=n+c,t[5]+=i+d,t},e.initDefaultProps=function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),e}(),h=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function p(e,t){for(var n=0;n<h.length;n++){var r=h[n];e[r]=t[r]}}t.ZP=f},70264:function(e,t,n){"use strict";n.d(t,{H9:function(){return v},mJ:function(){return y},qL:function(){return x},u4:function(){return p},zk:function(){return h}});var r=n(75784),i=n(46529),a=Math.min,o=Math.max,s=Math.sin,u=Math.cos,l=2*Math.PI,c=r.create(),d=r.create(),f=r.create();function h(e,t,n){if(0!==e.length){for(var r=e[0],i=r[0],s=r[0],u=r[1],l=r[1],c=1;c<e.length;c++)r=e[c],i=a(i,r[0]),s=o(s,r[0]),u=a(u,r[1]),l=o(l,r[1]);t[0]=i,t[1]=u,n[0]=s,n[1]=l}}function p(e,t,n,r,i,s){i[0]=a(e,n),i[1]=a(t,r),s[0]=o(e,n),s[1]=o(t,r)}var m=[],g=[];function v(e,t,n,r,s,u,l,c,d,f){var h=i.pP,p=i.af,v=h(e,n,s,l,m);d[0]=1/0,d[1]=1/0,f[0]=-1/0,f[1]=-1/0;for(var y=0;y<v;y++){var x=p(e,n,s,l,m[y]);d[0]=a(x,d[0]),f[0]=o(x,f[0])}v=h(t,r,u,c,g);for(y=0;y<v;y++){var b=p(t,r,u,c,g[y]);d[1]=a(b,d[1]),f[1]=o(b,f[1])}d[0]=a(e,d[0]),f[0]=o(e,f[0]),d[0]=a(l,d[0]),f[0]=o(l,f[0]),d[1]=a(t,d[1]),f[1]=o(t,f[1]),d[1]=a(c,d[1]),f[1]=o(c,f[1])}function y(e,t,n,r,s,u,l,c){var d=i.QC,f=i.Zm,h=o(a(d(e,n,s),1),0),p=o(a(d(t,r,u),1),0),m=f(e,n,s,h),g=f(t,r,u,p);l[0]=a(e,s,m),l[1]=a(t,u,g),c[0]=o(e,s,m),c[1]=o(t,u,g)}function x(e,t,n,i,a,o,h,p,m){var g=r.min,v=r.max,y=Math.abs(a-o);if(y%l<1e-4&&y>1e-4)return p[0]=e-n,p[1]=t-i,m[0]=e+n,void(m[1]=t+i);if(c[0]=u(a)*n+e,c[1]=s(a)*i+t,d[0]=u(o)*n+e,d[1]=s(o)*i+t,g(p,c,d),v(m,c,d),(a%=l)<0&&(a+=l),(o%=l)<0&&(o+=l),a>o&&!h?o+=l:a<o&&h&&(a+=l),h){var x=o;o=a,a=x}for(var b=0;b<o;b+=Math.PI/2)b>a&&(f[0]=u(b)*n+e,f[1]=s(b)*i+t,g(p,f,p),v(m,f,m))}},46529:function(e,t,n){"use strict";n.d(t,{AZ:function(){return S},Ci:function(){return w},Jz:function(){return C},Lx:function(){return D},QC:function(){return k},Vz:function(){return x},Wr:function(){return T},X_:function(){return g},Zm:function(){return _},af:function(){return m},kD:function(){return v},pP:function(){return y},t1:function(){return b},wQ:function(){return I}});var r=n(75784),i=Math.pow,a=Math.sqrt,o=1e-8,s=1e-4,u=a(3),l=1/3,c=(0,r.create)(),d=(0,r.create)(),f=(0,r.create)();function h(e){return e>-1e-8&&e<o}function p(e){return e>o||e<-1e-8}function m(e,t,n,r,i){var a=1-i;return a*a*(a*e+3*i*t)+i*i*(i*r+3*a*n)}function g(e,t,n,r,i){var a=1-i;return 3*(((t-e)*a+2*(n-t)*i)*a+(r-n)*i*i)}function v(e,t,n,r,o,s){var c=r+3*(t-n)-e,d=3*(n-2*t+e),f=3*(t-e),p=e-o,m=d*d-3*c*f,g=d*f-9*c*p,v=f*f-3*d*p,y=0;if(h(m)&&h(g)){if(h(d))s[0]=0;else(A=-f/d)>=0&&A<=1&&(s[y++]=A)}else{var x=g*g-4*m*v;if(h(x)){var b=g/m,w=-b/2;(A=-d/c+b)>=0&&A<=1&&(s[y++]=A),w>=0&&w<=1&&(s[y++]=w)}else if(x>0){var _=a(x),S=m*d+1.5*c*(-g+_),C=m*d+1.5*c*(-g-_);(A=(-d-((S=S<0?-i(-S,l):i(S,l))+(C=C<0?-i(-C,l):i(C,l))))/(3*c))>=0&&A<=1&&(s[y++]=A)}else{var k=(2*m*d-3*c*g)/(2*a(m*m*m)),D=Math.acos(k)/3,T=a(m),I=Math.cos(D),A=(-d-2*T*I)/(3*c),M=(w=(-d+T*(I+u*Math.sin(D)))/(3*c),(-d+T*(I-u*Math.sin(D)))/(3*c));A>=0&&A<=1&&(s[y++]=A),w>=0&&w<=1&&(s[y++]=w),M>=0&&M<=1&&(s[y++]=M)}}return y}function y(e,t,n,r,i){var o=6*n-12*t+6*e,s=9*t+3*r-3*e-9*n,u=3*t-3*e,l=0;if(h(s)){if(p(o))(d=-u/o)>=0&&d<=1&&(i[l++]=d)}else{var c=o*o-4*s*u;if(h(c))i[0]=-o/(2*s);else if(c>0){var d,f=a(c),m=(-o-f)/(2*s);(d=(-o+f)/(2*s))>=0&&d<=1&&(i[l++]=d),m>=0&&m<=1&&(i[l++]=m)}}return l}function x(e,t,n,r,i,a){var o=(t-e)*i+e,s=(n-t)*i+t,u=(r-n)*i+n,l=(s-o)*i+o,c=(u-s)*i+s,d=(c-l)*i+l;a[0]=e,a[1]=o,a[2]=l,a[3]=d,a[4]=d,a[5]=c,a[6]=u,a[7]=r}function b(e,t,n,i,o,u,l,h,p,g,v){var y,x,b,w,_,S=.005,C=1/0;c[0]=p,c[1]=g;for(var k=0;k<1;k+=.05)d[0]=m(e,n,o,l,k),d[1]=m(t,i,u,h,k),(w=(0,r.distSquare)(c,d))<C&&(y=k,C=w);C=1/0;for(var D=0;D<32&&!(S<s);D++)x=y-S,b=y+S,d[0]=m(e,n,o,l,x),d[1]=m(t,i,u,h,x),w=(0,r.distSquare)(d,c),x>=0&&w<C?(y=x,C=w):(f[0]=m(e,n,o,l,b),f[1]=m(t,i,u,h,b),_=(0,r.distSquare)(f,c),b<=1&&_<C?(y=b,C=_):S*=.5);return v&&(v[0]=m(e,n,o,l,y),v[1]=m(t,i,u,h,y)),a(C)}function w(e,t,n,r,i,a,o,s,u){for(var l=e,c=t,d=0,f=1/u,h=1;h<=u;h++){var p=h*f,g=m(e,n,i,o,p),v=m(t,r,a,s,p),y=g-l,x=v-c;d+=Math.sqrt(y*y+x*x),l=g,c=v}return d}function _(e,t,n,r){var i=1-r;return i*(i*e+2*r*t)+r*r*n}function S(e,t,n,r){return 2*((1-r)*(t-e)+r*(n-t))}function C(e,t,n,r,i){var o=e-2*t+n,s=2*(t-e),u=e-r,l=0;if(h(o)){if(p(s))(d=-u/s)>=0&&d<=1&&(i[l++]=d)}else{var c=s*s-4*o*u;if(h(c))(d=-s/(2*o))>=0&&d<=1&&(i[l++]=d);else if(c>0){var d,f=a(c),m=(-s-f)/(2*o);(d=(-s+f)/(2*o))>=0&&d<=1&&(i[l++]=d),m>=0&&m<=1&&(i[l++]=m)}}return l}function k(e,t,n){var r=e+n-2*t;return 0===r?.5:(e-t)/r}function D(e,t,n,r,i){var a=(t-e)*r+e,o=(n-t)*r+t,s=(o-a)*r+a;i[0]=e,i[1]=a,i[2]=s,i[3]=s,i[4]=o,i[5]=n}function T(e,t,n,i,o,u,l,h,p){var m,g=.005,v=1/0;c[0]=l,c[1]=h;for(var y=0;y<1;y+=.05){d[0]=_(e,n,o,y),d[1]=_(t,i,u,y),(S=(0,r.distSquare)(c,d))<v&&(m=y,v=S)}v=1/0;for(var x=0;x<32&&!(g<s);x++){var b=m-g,w=m+g;d[0]=_(e,n,o,b),d[1]=_(t,i,u,b);var S=(0,r.distSquare)(d,c);if(b>=0&&S<v)m=b,v=S;else{f[0]=_(e,n,o,w),f[1]=_(t,i,u,w);var C=(0,r.distSquare)(f,c);w<=1&&C<v?(m=w,v=C):g*=.5}}return p&&(p[0]=_(e,n,o,m),p[1]=_(t,i,u,m)),a(v)}function I(e,t,n,r,i,a,o){for(var s=e,u=t,l=0,c=1/o,d=1;d<=o;d++){var f=d*c,h=_(e,n,i,f),p=_(t,r,a,f),m=h-s,g=p-u;l+=Math.sqrt(m*m+g*g),s=h,u=p}return l}},12248:function(e,t,n){"use strict";n.d(t,{UK:function(){return c},A4:function(){return l},YB:function(){return u}});var r=n(71118),i=Math.log(2);function a(e,t,n,r,o,s){var u=r+"-"+o,l=e.length;if(s.hasOwnProperty(u))return s[u];if(1===t){var c=Math.round(Math.log((1<<l)-1&~o)/i);return e[n][c]}for(var d=r|1<<n,f=n+1;r&1<<f;)f++;for(var h=0,p=0,m=0;p<l;p++){var g=1<<p;g&o||(h+=(m%2?-1:1)*e[n][p]*a(e,t-1,f,d,o|g,s),m++)}return s[u]=h,h}function o(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],r={},i=a(n,8,0,0,0,r);if(0!==i){for(var o=[],s=0;s<8;s++)for(var u=0;u<8;u++)null==o[u]&&(o[u]=0),o[u]+=((s+u)%2?-1:1)*a(n,7,0===s?1:0,1<<s,1<<u,r)/i*t[s];return function(e,t,n){var r=t*o[6]+n*o[7]+1;e[0]=(t*o[0]+n*o[1]+o[2])/r,e[1]=(t*o[3]+n*o[4]+o[5])/r}}}var s=[];function u(e,t,n,r,i){return l(s,t,r,i,!0)&&l(e,n,s[0],s[1])}function l(e,t,n,i,a){if(t.getBoundingClientRect&&r.Z.domSupported&&!c(t)){var s=t.___zrEVENTSAVED||(t.___zrEVENTSAVED={}),u=function(e,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var r=["left","right"],i=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),s=a%2,u=(a>>1)%2;o.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[s]+":0",i[u]+":0",r[1-s]+":auto",i[1-u]+":auto",""].join("!important;"),e.appendChild(o),n.push(o)}return n}(t,s),l=function(e,t,n){for(var r=n?"invTrans":"trans",i=t[r],a=t.srcCoords,s=[],u=[],l=!0,c=0;c<4;c++){var d=e[c].getBoundingClientRect(),f=2*c,h=d.left,p=d.top;s.push(h,p),l=l&&a&&h===a[f]&&p===a[f+1],u.push(e[c].offsetLeft,e[c].offsetTop)}return l&&i?i:(t.srcCoords=s,t[r]=n?o(u,s):o(s,u))}(u,s,a);if(l)return l(e,n,i),!0}return!1}function c(e){return"CANVAS"===e.nodeName.toUpperCase()}},71118:function(e,t){"use strict";var n=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},r=new function(){this.browser=new n,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!==typeof window};"object"===typeof wx&&"function"===typeof wx.getSystemInfoSync?(r.wxa=!0,r.touchEventsSupported=!0):"undefined"===typeof document&&"undefined"!==typeof self?r.worker=!0:"undefined"===typeof navigator?(r.node=!0,r.svgSupported=!0):function(e,t){var n=t.browser,r=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),a=e.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(e);r&&(n.firefox=!0,n.version=r[1]);i&&(n.ie=!0,n.version=i[1]);a&&(n.edge=!0,n.version=a[1],n.newEdge=+a[1].split(".")[0]>18);o&&(n.weChat=!0);t.svgSupported="undefined"!==typeof SVGRect,t.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,t.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),t.domSupported="undefined"!==typeof document;var s=document.documentElement.style;t.transform3dSupported=(n.ie&&"transition"in s||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),t.transformSupported=t.transform3dSupported||n.ie&&+n.version>=9}(navigator.userAgent,r),t.Z=r},43100:function(e,t,n){"use strict";n.d(t,{OD:function(){return d},Oo:function(){return f},eV:function(){return u},iP:function(){return c},sT:function(){return p},x1:function(){return m},xg:function(){return h}});var r=n(71118),i=n(12248),a=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,o=[],s=r.Z.browser.firefox&&+r.Z.browser.version.split(".")[0]<39;function u(e,t,n,r){return n=n||{},r?l(e,t,n):s&&null!=t.layerX&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):null!=t.offsetX?(n.zrX=t.offsetX,n.zrY=t.offsetY):l(e,t,n),n}function l(e,t,n){if(r.Z.domSupported&&e.getBoundingClientRect){var a=t.clientX,s=t.clientY;if((0,i.UK)(e)){var u=e.getBoundingClientRect();return n.zrX=a-u.left,void(n.zrY=s-u.top)}if((0,i.A4)(o,e,a,s))return n.zrX=o[0],void(n.zrY=o[1])}n.zrX=n.zrY=0}function c(e){return e||window.event}function d(e,t,n){if(null!=(t=c(t)).zrX)return t;var r=t.type;if(r&&r.indexOf("touch")>=0){var i="touchend"!==r?t.targetTouches[0]:t.changedTouches[0];i&&u(e,i,t,n)}else{u(e,t,t,n);var o=function(e){var t=e.wheelDelta;if(t)return t;var n=e.deltaX,r=e.deltaY;if(null==n||null==r)return t;return 3*(0!==r?Math.abs(r):Math.abs(n))*(r>0?-1:r<0?1:n>0?-1:1)}(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var s=t.button;return null==t.which&&void 0!==s&&a.test(t.type)&&(t.which=1&s?1:2&s?3:4&s?2:0),t}function f(e,t,n,r){e.addEventListener(t,n,r)}function h(e,t,n,r){e.removeEventListener(t,n,r)}var p=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function m(e){return 2===e.which||3===e.which}},21432:function(e,t,n){"use strict";function r(){return[1,0,0,1,0,0]}function i(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function o(e,t,n){var r=t[0]*n[0]+t[2]*n[1],i=t[1]*n[0]+t[3]*n[1],a=t[0]*n[2]+t[2]*n[3],o=t[1]*n[2]+t[3]*n[3],s=t[0]*n[4]+t[2]*n[5]+t[4],u=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e}function s(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function u(e,t,n){var r=t[0],i=t[2],a=t[4],o=t[1],s=t[3],u=t[5],l=Math.sin(n),c=Math.cos(n);return e[0]=r*c+o*l,e[1]=-r*l+o*c,e[2]=i*c+s*l,e[3]=-i*l+c*s,e[4]=c*a+l*u,e[5]=c*u-l*a,e}function l(e,t,n){var r=n[0],i=n[1];return e[0]=t[0]*r,e[1]=t[1]*i,e[2]=t[2]*r,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*i,e}function c(e,t){var n=t[0],r=t[2],i=t[4],a=t[1],o=t[3],s=t[5],u=n*o-a*r;return u?(u=1/u,e[0]=o*u,e[1]=-a*u,e[2]=-r*u,e[3]=n*u,e[4]=(r*s-o*i)*u,e[5]=(a*i-n*s)*u,e):null}function d(e){var t=[1,0,0,1,0,0];return a(t,e),t}n.r(t),n.d(t,{clone:function(){return d},copy:function(){return a},create:function(){return r},identity:function(){return i},invert:function(){return c},mul:function(){return o},rotate:function(){return u},scale:function(){return l},translate:function(){return s}})},29315:function(e,t,n){"use strict";n.d(t,{Uo:function(){return a},g2:function(){return u},n5:function(){return r},qW:function(){return s},rk:function(){return i}});var r=12,i="sans-serif",a=r+"px "+i;var o=function(e){var t={};if("undefined"===typeof JSON)return t;for(var n=0;n<e.length;n++){var r=String.fromCharCode(n+32),i=(e.charCodeAt(n)-20)/100;t[r]=i}return t}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),s={createCanvas:function(){return"undefined"!==typeof document&&document.createElement("canvas")},measureText:function(){var e,t;return function(n,i){if(!e){var u=s.createCanvas();e=u&&u.getContext("2d")}if(e)return t!==i&&(t=e.font=i||a),e.measureText(n);n=n||"";var l=/^([0-9]*?)px$/.exec(i=i||a),c=+(l&&l[1])||r,d=0;if(i.indexOf("mono")>=0)d=c*n.length;else for(var f=0;f<n.length;f++){var h=o[n[f]];d+=null==h?c:h*c}return{width:d}}}(),loadImage:function(e,t,n){var r=new Image;return r.onload=t,r.onerror=n,r.src=e,r}};function u(e){for(var t in s)e[t]&&(s[t]=e[t])}},8788:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});function r(e,t,n,r){var i=t+1;if(i===n)return 1;if(r(e[i++],e[t])<0){for(;i<n&&r(e[i],e[i-1])<0;)i++;!function(e,t,n){n--;for(;t<n;){var r=e[t];e[t++]=e[n],e[n--]=r}}(e,t,i)}else for(;i<n&&r(e[i],e[i-1])>=0;)i++;return i-t}function i(e,t,n,r,i){for(r===t&&r++;r<n;r++){for(var a,o=e[r],s=t,u=r;s<u;)i(o,e[a=s+u>>>1])<0?u=a:s=a+1;var l=r-s;switch(l){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;l>0;)e[s+l]=e[s+l-1],l--}e[s]=o}}function a(e,t,n,r,i,a){var o=0,s=0,u=1;if(a(e,t[n+i])>0){for(s=r-i;u<s&&a(e,t[n+i+u])>0;)o=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}else{for(s=i+1;u<s&&a(e,t[n+i-u])<=0;)o=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var l=o;o=i-u,u=i-l}for(o++;o<u;){var c=o+(u-o>>>1);a(e,t[n+c])>0?o=c+1:u=c}return u}function o(e,t,n,r,i,a){var o=0,s=0,u=1;if(a(e,t[n+i])<0){for(s=i+1;u<s&&a(e,t[n+i-u])<0;)o=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var l=o;o=i-u,u=i-l}else{for(s=r-i;u<s&&a(e,t[n+i+u])>=0;)o=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}for(o++;o<u;){var c=o+(u-o>>>1);a(e,t[n+c])<0?u=c:o=c+1}return u}function s(e,t){var n,r,i,s=7,u=0;n=e.length;var l=[];function c(n){var c=r[n],d=i[n],f=r[n+1],h=i[n+1];i[n]=d+h,n===u-3&&(r[n+1]=r[n+2],i[n+1]=i[n+2]),u--;var p=o(e[f],e,c,d,0,t);c+=p,0!==(d-=p)&&0!==(h=a(e[c+d-1],e,f,h,h-1,t))&&(d<=h?function(n,r,i,u){var c=0;for(c=0;c<r;c++)l[c]=e[n+c];var d=0,f=i,h=n;if(e[h++]=e[f++],0===--u){for(c=0;c<r;c++)e[h+c]=l[d+c];return}if(1===r){for(c=0;c<u;c++)e[h+c]=e[f+c];return void(e[h+u]=l[d])}var p,m,g,v=s;for(;;){p=0,m=0,g=!1;do{if(t(e[f],l[d])<0){if(e[h++]=e[f++],m++,p=0,0===--u){g=!0;break}}else if(e[h++]=l[d++],p++,m=0,1===--r){g=!0;break}}while((p|m)<v);if(g)break;do{if(0!==(p=o(e[f],l,d,r,0,t))){for(c=0;c<p;c++)e[h+c]=l[d+c];if(h+=p,d+=p,(r-=p)<=1){g=!0;break}}if(e[h++]=e[f++],0===--u){g=!0;break}if(0!==(m=a(l[d],e,f,u,0,t))){for(c=0;c<m;c++)e[h+c]=e[f+c];if(h+=m,f+=m,0===(u-=m)){g=!0;break}}if(e[h++]=l[d++],1===--r){g=!0;break}v--}while(p>=7||m>=7);if(g)break;v<0&&(v=0),v+=2}if((s=v)<1&&(s=1),1===r){for(c=0;c<u;c++)e[h+c]=e[f+c];e[h+u]=l[d]}else{if(0===r)throw new Error;for(c=0;c<r;c++)e[h+c]=l[d+c]}}(c,d,f,h):function(n,r,i,u){var c=0;for(c=0;c<u;c++)l[c]=e[i+c];var d=n+r-1,f=u-1,h=i+u-1,p=0,m=0;if(e[h--]=e[d--],0===--r){for(p=h-(u-1),c=0;c<u;c++)e[p+c]=l[c];return}if(1===u){for(m=(h-=r)+1,p=(d-=r)+1,c=r-1;c>=0;c--)e[m+c]=e[p+c];return void(e[h]=l[f])}var g=s;for(;;){var v=0,y=0,x=!1;do{if(t(l[f],e[d])<0){if(e[h--]=e[d--],v++,y=0,0===--r){x=!0;break}}else if(e[h--]=l[f--],y++,v=0,1===--u){x=!0;break}}while((v|y)<g);if(x)break;do{if(0!==(v=r-o(l[f],e,n,r,r-1,t))){for(r-=v,m=(h-=v)+1,p=(d-=v)+1,c=v-1;c>=0;c--)e[m+c]=e[p+c];if(0===r){x=!0;break}}if(e[h--]=l[f--],1===--u){x=!0;break}if(0!==(y=u-a(e[d],l,0,u,u-1,t))){for(u-=y,m=(h-=y)+1,p=(f-=y)+1,c=0;c<y;c++)e[m+c]=l[p+c];if(u<=1){x=!0;break}}if(e[h--]=e[d--],0===--r){x=!0;break}g--}while(v>=7||y>=7);if(x)break;g<0&&(g=0),g+=2}(s=g)<1&&(s=1);if(1===u){for(m=(h-=r)+1,p=(d-=r)+1,c=r-1;c>=0;c--)e[m+c]=e[p+c];e[h]=l[f]}else{if(0===u)throw new Error;for(p=h-(u-1),c=0;c<u;c++)e[p+c]=l[c]}}(c,d,f,h))}return n<120?5:n<1542?10:n<119151?19:40,r=[],i=[],{mergeRuns:function(){for(;u>1;){var e=u-2;if(e>=1&&i[e-1]<=i[e]+i[e+1]||e>=2&&i[e-2]<=i[e]+i[e-1])i[e-1]<i[e+1]&&e--;else if(i[e]>i[e+1])break;c(e)}},forceMergeRuns:function(){for(;u>1;){var e=u-2;e>0&&i[e-1]<i[e+1]&&e--,c(e)}},pushRun:function(e,t){r[u]=e,i[u]=t,u+=1}}}function u(e,t,n,a){n||(n=0),a||(a=e.length);var o=a-n;if(!(o<2)){var u=0;if(o<32)i(e,n,a,n+(u=r(e,n,a,t)),t);else{var l=s(e,t),c=function(e){for(var t=0;e>=32;)t|=1&e,e>>=1;return e+t}(o);do{if((u=r(e,n,a,t))<c){var d=o;d>c&&(d=c),i(e,n,n+d,n+u,t),u=d}l.pushRun(n,u),l.mergeRuns(),o-=u,n+=u}while(0!==o);l.forceMergeRuns()}}}},76884:function(e,t,n){"use strict";n.r(t),n.d(t,{HashMap:function(){return ae},RADIAN_TO_DEGREE:function(){return fe},assert:function(){return ee},bind:function(){return P},clone:function(){return y},concatArray:function(){return se},createCanvas:function(){return S},createHashMap:function(){return oe},createObject:function(){return ue},curry:function(){return O},defaults:function(){return _},disableUserSelect:function(){return le},each:function(){return I},eqNaN:function(){return q},extend:function(){return w},filter:function(){return E},find:function(){return N},guid:function(){return g},hasOwn:function(){return ce},indexOf:function(){return C},inherits:function(){return k},isArray:function(){return L},isArrayLike:function(){return T},isBuiltInObject:function(){return j},isDom:function(){return U},isFunction:function(){return F},isGradientObject:function(){return H},isImagePatternObject:function(){return G},isNumber:function(){return z},isObject:function(){return V},isPrimitive:function(){return ie},isRegExp:function(){return X},isString:function(){return Z},isStringSafe:function(){return B},isTypedArray:function(){return W},keys:function(){return R},logError:function(){return v},map:function(){return A},merge:function(){return x},mergeAll:function(){return b},mixin:function(){return D},noop:function(){return de},normalizeCssArray:function(){return $},reduce:function(){return M},retrieve:function(){return Y},retrieve2:function(){return K},retrieve3:function(){return Q},setAsPrimitive:function(){return re},slice:function(){return J},trim:function(){return te}});var r=n(29315),i=M(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],(function(e,t){return e["[object "+t+"]"]=!0,e}),{}),a=M(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],(function(e,t){return e["[object "+t+"Array]"]=!0,e}),{}),o=Object.prototype.toString,s=Array.prototype,u=s.forEach,l=s.filter,c=s.slice,d=s.map,f=function(){}.constructor,h=f?f.prototype:null,p="__proto__",m=2311;function g(){return m++}function v(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"undefined"!==typeof console&&console.error.apply(console,e)}function y(e){if(null==e||"object"!==typeof e)return e;var t=e,n=o.call(e);if("[object Array]"===n){if(!ie(e)){t=[];for(var r=0,s=e.length;r<s;r++)t[r]=y(e[r])}}else if(a[n]){if(!ie(e)){var u=e.constructor;if(u.from)t=u.from(e);else{t=new u(e.length);for(r=0,s=e.length;r<s;r++)t[r]=e[r]}}}else if(!i[n]&&!ie(e)&&!U(e))for(var l in t={},e)e.hasOwnProperty(l)&&l!==p&&(t[l]=y(e[l]));return t}function x(e,t,n){if(!V(t)||!V(e))return n?y(t):e;for(var r in t)if(t.hasOwnProperty(r)&&r!==p){var i=e[r],a=t[r];!V(a)||!V(i)||L(a)||L(i)||U(a)||U(i)||j(a)||j(i)||ie(a)||ie(i)?!n&&r in e||(e[r]=y(t[r])):x(i,a,n)}return e}function b(e,t){for(var n=e[0],r=1,i=e.length;r<i;r++)n=x(n,e[r],t);return n}function w(e,t){if(Object.assign)Object.assign(e,t);else for(var n in t)t.hasOwnProperty(n)&&n!==p&&(e[n]=t[n]);return e}function _(e,t,n){for(var r=R(t),i=0;i<r.length;i++){var a=r[i];(n?null!=t[a]:null==e[a])&&(e[a]=t[a])}return e}var S=r.qW.createCanvas;function C(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1}function k(e,t){var n=e.prototype;function r(){}for(var i in r.prototype=t.prototype,e.prototype=new r,n)n.hasOwnProperty(i)&&(e.prototype[i]=n[i]);e.prototype.constructor=e,e.superClass=t}function D(e,t,n){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var a=r[i];"constructor"!==a&&(n?null!=t[a]:null==e[a])&&(e[a]=t[a])}else _(e,t,n)}function T(e){return!!e&&("string"!==typeof e&&"number"===typeof e.length)}function I(e,t,n){if(e&&t)if(e.forEach&&e.forEach===u)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e);else for(var a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e)}function A(e,t,n){if(!e)return[];if(!t)return J(e);if(e.map&&e.map===d)return e.map(t,n);for(var r=[],i=0,a=e.length;i<a;i++)r.push(t.call(n,e[i],i,e));return r}function M(e,t,n,r){if(e&&t){for(var i=0,a=e.length;i<a;i++)n=t.call(r,n,e[i],i,e);return n}}function E(e,t,n){if(!e)return[];if(!t)return J(e);if(e.filter&&e.filter===l)return e.filter(t,n);for(var r=[],i=0,a=e.length;i<a;i++)t.call(n,e[i],i,e)&&r.push(e[i]);return r}function N(e,t,n){if(e&&t)for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return e[r]}function R(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}var P=h&&F(h.bind)?h.call.bind(h.bind):function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){return e.apply(t,n.concat(c.call(arguments)))}};function O(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(this,t.concat(c.call(arguments)))}}function L(e){return Array.isArray?Array.isArray(e):"[object Array]"===o.call(e)}function F(e){return"function"===typeof e}function Z(e){return"string"===typeof e}function B(e){return"[object String]"===o.call(e)}function z(e){return"number"===typeof e}function V(e){var t=typeof e;return"function"===t||!!e&&"object"===t}function j(e){return!!i[o.call(e)]}function W(e){return!!a[o.call(e)]}function U(e){return"object"===typeof e&&"number"===typeof e.nodeType&&"object"===typeof e.ownerDocument}function H(e){return null!=e.colorStops}function G(e){return null!=e.image}function X(e){return"[object RegExp]"===o.call(e)}function q(e){return e!==e}function Y(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=e.length;n<r;n++)if(null!=e[n])return e[n]}function K(e,t){return null!=e?e:t}function Q(e,t,n){return null!=e?e:null!=t?t:n}function J(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return c.apply(e,t)}function $(e){if("number"===typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function ee(e,t){if(!e)throw new Error(t)}function te(e){return null==e?null:"function"===typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var ne="__ec_primitive__";function re(e){e[ne]=!0}function ie(e){return e[ne]}var ae=function(){function e(t){this.data={};var n=L(t);this.data={};var r=this;function i(e,t){n?r.set(e,t):r.set(t,e)}t instanceof e?t.each(i):t&&I(t,i)}return e.prototype.get=function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},e.prototype.set=function(e,t){return this.data[e]=t},e.prototype.each=function(e,t){for(var n in this.data)this.data.hasOwnProperty(n)&&e.call(t,this.data[n],n)},e.prototype.keys=function(){return R(this.data)},e.prototype.removeKey=function(e){delete this.data[e]},e}();function oe(e){return new ae(e)}function se(e,t){for(var n=new e.constructor(e.length+t.length),r=0;r<e.length;r++)n[r]=e[r];var i=e.length;for(r=0;r<t.length;r++)n[r+i]=t[r];return n}function ue(e,t){var n;if(Object.create)n=Object.create(e);else{var r=function(){};r.prototype=e,n=new r}return t&&w(n,t),n}function le(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function ce(e,t){return e.hasOwnProperty(t)}function de(){}var fe=180/Math.PI},75784:function(e,t,n){"use strict";function r(e,t){return null==e&&(e=0),null==t&&(t=0),[e,t]}function i(e,t){return e[0]=t[0],e[1]=t[1],e}function a(e){return[e[0],e[1]]}function o(e,t,n){return e[0]=t,e[1]=n,e}function s(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function u(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function l(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function c(e){return Math.sqrt(f(e))}n.r(t),n.d(t,{add:function(){return s},applyTransform:function(){return k},clone:function(){return a},copy:function(){return i},create:function(){return r},dist:function(){return b},distSquare:function(){return _},distance:function(){return x},distanceSquare:function(){return w},div:function(){return m},dot:function(){return g},len:function(){return c},lenSquare:function(){return f},length:function(){return d},lengthSquare:function(){return h},lerp:function(){return C},max:function(){return T},min:function(){return D},mul:function(){return p},negate:function(){return S},normalize:function(){return y},scale:function(){return v},scaleAndAdd:function(){return u},set:function(){return o},sub:function(){return l}});var d=c;function f(e){return e[0]*e[0]+e[1]*e[1]}var h=f;function p(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function m(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function g(e,t){return e[0]*t[0]+e[1]*t[1]}function v(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function y(e,t){var n=c(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function x(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var b=x;function w(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var _=w;function S(e,t){return e[0]=-t[0],e[1]=-t[1],e}function C(e,t,n,r){return e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e}function k(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function D(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function T(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}},6748:function(e,t,n){"use strict";var r=n(43497),i=n(45162),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="compound",t}return(0,r.ZT)(t,e),t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,t=this.shapeChanged(),n=0;n<e.length;n++)t=t||e[n].shapeChanged();t&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path||e[n].createPathProxy(),e[n].path.setScale(t[0],t[1],e[n].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,t){for(var n=t.paths||[],r=0;r<n.length;r++)n[r].buildPath(e,n[r].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),i.ZP.prototype.getBoundingRect.call(this)},t}(i.ZP);t.Z=a},75624:function(e,t,n){"use strict";n.d(t,{ik:function(){return c},tj:function(){return l}});var r=n(43497),i=n(7273),a=n(97057),o=n(76884),s=n(51532),u="__zr_style_"+Math.round(10*Math.random()),l={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},c={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};l[u]=!0;var d=["z","z2","invisible"],f=["invisible"],h=function(e){function t(t){return e.call(this,t)||this}return(0,r.ZT)(t,e),t.prototype._init=function(t){for(var n=(0,o.keys)(t),r=0;r<n.length;r++){var i=n[r];"style"===i?this.useStyle(t[i]):e.prototype.attrKV.call(this,i,t[i])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,t,n,r){var i=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function(e,t,n){p.copy(e.getBoundingRect()),e.transform&&p.applyTransform(e.transform);return m.width=t,m.height=n,!p.intersect(m)}(this,e,t)||i&&!i[0]&&!i[3])return!1;if(n&&this.__clipPaths)for(var a=0;a<this.__clipPaths.length;++a)if(this.__clipPaths[a].isZeroArea())return!1;if(r&&this.parent)for(var o=this.parent;o;){if(o.ignore)return!1;o=o.parent}return!0},t.prototype.contain=function(e,t){return this.rectContain(e,t)},t.prototype.traverse=function(e,t){e.call(t,this)},t.prototype.rectContain=function(e,t){var n=this.transformCoordToLocal(e,t);return this.getBoundingRect().contain(n[0],n[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var t=this.transform,n=this.getBoundingRect(),r=this.style,i=r.shadowBlur||0,o=r.shadowOffsetX||0,s=r.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new a.Z(0,0,0,0)),t?a.Z.applyTransform(e,n,t):e.copy(n),(i||o||s)&&(e.width+=2*i+Math.abs(o),e.height+=2*i+Math.abs(s),e.x=Math.min(e.x,e.x+o-i),e.y=Math.min(e.y,e.y+s-i));var u=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-u),e.y=Math.floor(e.y-u),e.width=Math.ceil(e.width+1+2*u),e.height=Math.ceil(e.height+1+2*u))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new a.Z(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(t,n){"style"!==t?e.prototype.attrKV.call(this,t,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(e,t){return"string"===typeof e?this.style[e]=t:(0,o.extend)(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=s.SE,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&s.SE)},t.prototype.styleUpdated=function(){this.__dirty&=~s.SE},t.prototype.createStyle=function(e){return(0,o.createObject)(l,e)},t.prototype.useStyle=function(e){e[u]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[u]},t.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,n,d)},t.prototype._applyStateObj=function(t,n,r,i,a,s){e.prototype._applyStateObj.call(this,t,n,r,i,a,s);var u,l=!(n&&i);if(n&&n.style?a?i?u=n.style:(u=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(u,n.style)):(u=this._mergeStyle(this.createStyle(),i?this.style:r.style),this._mergeStyle(u,n.style)):l&&(u=r.style),u)if(a){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var h=(0,o.keys)(c),p=0;p<h.length;p++){(g=h[p])in u&&(u[g]=u[g],this.style[g]=c[g])}var m=(0,o.keys)(u);for(p=0;p<m.length;p++){var g=m[p];this.style[g]=this.style[g]}this._transitionState(t,{style:u},s,this.getAnimationStyleProps())}else this.useStyle(u);var v=this.__inHover?f:d;for(p=0;p<v.length;p++){g=v[p];n&&null!=n[g]?this[g]=n[g]:l&&null!=r[g]&&(this[g]=r[g])}},t.prototype._mergeStates=function(t){for(var n,r=e.prototype._mergeStates.call(this,t),i=0;i<t.length;i++){var a=t[i];a.style&&(n=n||{},this._mergeStyle(n,a.style))}return n&&(r.style=n),r},t.prototype._mergeStyle=function(e,t){return(0,o.extend)(e,t),e},t.prototype.getAnimationStyleProps=function(){return c},t.initDefaultProps=function(){var e=t.prototype;e.type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,e.__dirty=s.YV|s.SE}(),t}(i.Z),p=new a.Z(0,0,0,0),m=new a.Z(0,0,0,0);t.ZP=h},33042:function(e,t){"use strict";var n=function(){function e(e){this.colorStops=e||[]}return e.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},e}();t.Z=n},94060:function(e,t,n){"use strict";var r=n(43497),i=n(76884),a=n(7273),o=n(97057),s=function(e){function t(t){var n=e.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(t),n}return(0,r.ZT)(t,e),t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,r=n.indexOf(t);r>=0&&(n.splice(r,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,t){var n=i.indexOf(this._children,e);return n>=0&&this.replaceAt(t,n),this},t.prototype.replaceAt=function(e,t){var n=this._children,r=n[t];if(e&&e!==this&&e.parent!==this&&e!==r){n[t]=e,r.parent=null;var i=this.__zr;i&&r.removeSelfFromZr(i),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__zr;t&&t!==e.__zr&&e.addSelfToZr(t),t&&t.refresh()},t.prototype.remove=function(e){var t=this.__zr,n=this._children,r=i.indexOf(n,e);return r<0||(n.splice(r,1),e.parent=null,t&&e.removeSelfFromZr(t),t&&t.refresh()),this},t.prototype.removeAll=function(){for(var e=this._children,t=this.__zr,n=0;n<e.length;n++){var r=e[n];t&&r.removeSelfFromZr(t),r.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,t){for(var n=this._children,r=0;r<n.length;r++){var i=n[r];e.call(t,i,r)}return this},t.prototype.traverse=function(e,t){for(var n=0;n<this._children.length;n++){var r=this._children[n],i=e.call(t,r);r.isGroup&&!i&&r.traverse(e,t)}return this},t.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++){this._children[n].addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++){this._children[n].removeSelfFromZr(t)}},t.prototype.getBoundingRect=function(e){for(var t=new o.Z(0,0,0,0),n=e||this._children,r=[],i=null,a=0;a<n.length;a++){var s=n[a];if(!s.ignore&&!s.invisible){var u=s.getBoundingRect(),l=s.getLocalTransform(r);l?(o.Z.applyTransform(t,u,l),(i=i||t.clone()).union(t)):(i=i||u.clone()).union(u)}}return i||t},t}(a.Z);s.prototype.type="group",t.Z=s},44046:function(e,t,n){"use strict";var r=n(43497),i=n(75624),a=n(97057),o=n(76884),s=(0,o.defaults)({x:0,y:0},i.tj),u={style:(0,o.defaults)({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},i.ik.style)};var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.createStyle=function(e){return(0,o.createObject)(s,e)},t.prototype._getSize=function(e){var t=this.style,n=t[e];if(null!=n)return n;var r,i=(r=t.image)&&"string"!==typeof r&&r.width&&r.height?t.image:this.__image;if(!i)return 0;var a="width"===e?"height":"width",o=t[a];return null==o?i[e]:i[e]/i[a]*o},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return u},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new a.Z(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(i.ZP);l.prototype.type="image",t.ZP=l},37363:function(e,t,n){"use strict";var r=n(43497),i=n(75624),a=n(97057),o=[],s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return(0,r.ZT)(t,e),t.prototype.traverse=function(e,t){e.call(t,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,t){t=t||!1;for(var n=0;n<e.length;n++)this.addDisplayable(e[n],t)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){(t=this._displayables[e]).parent=this,t.update(),t.parent=null}for(e=0;e<this._temporaryDisplayables.length;e++){var t;(t=this._temporaryDisplayables[e]).parent=this,t.update(),t.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new a.Z(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var n=this._displayables[t],r=n.getBoundingRect().clone();n.needLocalTransform()&&r.applyTransform(n.getLocalTransform(o)),e.union(r)}this._rect=e}return this._rect},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t);if(this.getBoundingRect().contain(n[0],n[1]))for(var r=0;r<this._displayables.length;r++){if(this._displayables[r].contain(e,t))return!0}return!1},t}(i.ZP);t.Z=s},65737:function(e,t,n){"use strict";var r=n(43497),i=function(e){function t(t,n,r,i,a,o){var s=e.call(this,a)||this;return s.x=null==t?0:t,s.y=null==n?0:n,s.x2=null==r?1:r,s.y2=null==i?0:i,s.type="linear",s.global=o||!1,s}return(0,r.ZT)(t,e),t}(n(33042).Z);t.Z=i},45162:function(e,t,n){"use strict";n.d(t,{$t:function(){return I},ZP:function(){return E}});var r=n(43497),i=n(75624),a=n(13103),o=n(49155),s=n(46529);function u(e,t,n,r,i,a,o,u,l,c,d){if(0===l)return!1;var f=l;return!(d>t+f&&d>r+f&&d>a+f&&d>u+f||d<t-f&&d<r-f&&d<a-f&&d<u-f||c>e+f&&c>n+f&&c>i+f&&c>o+f||c<e-f&&c<n-f&&c<i-f&&c<o-f)&&s.t1(e,t,n,r,i,a,o,u,c,d,null)<=f/2}var l=n(33723),c=n(40370),d=2*Math.PI;function f(e,t,n,r,i,a,o,s,u){if(0===o)return!1;var l=o;s-=e,u-=t;var f=Math.sqrt(s*s+u*u);if(f-l>n||f+l<n)return!1;if(Math.abs(r-i)%d<1e-4)return!0;if(a){var h=r;r=(0,c.m)(i),i=(0,c.m)(h)}else r=(0,c.m)(r),i=(0,c.m)(i);r>i&&(i+=d);var p=Math.atan2(u,s);return p<0&&(p+=d),p>=r&&p<=i||p+d>=r&&p+d<=i}var h=n(11834),p=a.Z.CMD,m=2*Math.PI;var g=[-1,-1,-1],v=[-1,-1];function y(){var e=v[0];v[0]=v[1],v[1]=e}function x(e,t,n,r,i,a,o,u,l,c){if(c>t&&c>r&&c>a&&c>u||c<t&&c<r&&c<a&&c<u)return 0;var d=s.kD(t,r,a,u,c,g);if(0===d)return 0;for(var f=0,h=-1,p=void 0,m=void 0,x=0;x<d;x++){var b=g[x],w=0===b||1===b?.5:1;s.af(e,n,i,o,b)<l||(h<0&&(h=s.pP(t,r,a,u,v),v[1]<v[0]&&h>1&&y(),p=s.af(t,r,a,u,v[0]),h>1&&(m=s.af(t,r,a,u,v[1]))),2===h?b<v[0]?f+=p<t?w:-w:b<v[1]?f+=m<p?w:-w:f+=u<m?w:-w:b<v[0]?f+=p<t?w:-w:f+=u<p?w:-w)}return f}function b(e,t,n,r,i,a,o,u){if(u>t&&u>r&&u>a||u<t&&u<r&&u<a)return 0;var l=s.Jz(t,r,a,u,g);if(0===l)return 0;var c=s.QC(t,r,a);if(c>=0&&c<=1){for(var d=0,f=s.Zm(t,r,a,c),h=0;h<l;h++){var p=0===g[h]||1===g[h]?.5:1;s.Zm(e,n,i,g[h])<o||(g[h]<c?d+=f<t?p:-p:d+=a<f?p:-p)}return d}p=0===g[0]||1===g[0]?.5:1;return s.Zm(e,n,i,g[0])<o?0:a<t?p:-p}function w(e,t,n,r,i,a,o,s){if((s-=t)>n||s<-n)return 0;var u=Math.sqrt(n*n-s*s);g[0]=-u,g[1]=u;var l=Math.abs(r-i);if(l<1e-4)return 0;if(l>=m-1e-4){r=0,i=m;var c=a?1:-1;return o>=g[0]+e&&o<=g[1]+e?c:0}if(r>i){var d=r;r=i,i=d}r<0&&(r+=m,i+=m);for(var f=0,h=0;h<2;h++){var p=g[h];if(p+e>o){var v=Math.atan2(s,p);c=a?1:-1;v<0&&(v=m+v),(v>=r&&v<=i||v+m>=r&&v+m<=i)&&(v>Math.PI/2&&v<1.5*Math.PI&&(c=-c),f+=c)}}return f}function _(e,t,n,r,i){for(var a,s,c,d,m=e.data,g=e.len(),v=0,y=0,_=0,S=0,C=0,k=0;k<g;){var D=m[k++],T=1===k;switch(D===p.M&&k>1&&(n||(v+=(0,h.Z)(y,_,S,C,r,i))),T&&(S=y=m[k],C=_=m[k+1]),D){case p.M:y=S=m[k++],_=C=m[k++];break;case p.L:if(n){if(o.m(y,_,m[k],m[k+1],t,r,i))return!0}else v+=(0,h.Z)(y,_,m[k],m[k+1],r,i)||0;y=m[k++],_=m[k++];break;case p.C:if(n){if(u(y,_,m[k++],m[k++],m[k++],m[k++],m[k],m[k+1],t,r,i))return!0}else v+=x(y,_,m[k++],m[k++],m[k++],m[k++],m[k],m[k+1],r,i)||0;y=m[k++],_=m[k++];break;case p.Q:if(n){if(l.m(y,_,m[k++],m[k++],m[k],m[k+1],t,r,i))return!0}else v+=b(y,_,m[k++],m[k++],m[k],m[k+1],r,i)||0;y=m[k++],_=m[k++];break;case p.A:var I=m[k++],A=m[k++],M=m[k++],E=m[k++],N=m[k++],R=m[k++];k+=1;var P=!!(1-m[k++]);a=Math.cos(N)*M+I,s=Math.sin(N)*E+A,T?(S=a,C=s):v+=(0,h.Z)(y,_,a,s,r,i);var O=(r-I)*E/M+I;if(n){if(f(I,A,E,N,N+R,P,t,O,i))return!0}else v+=w(I,A,E,N,N+R,P,O,i);y=Math.cos(N+R)*M+I,_=Math.sin(N+R)*E+A;break;case p.R:if(S=y=m[k++],C=_=m[k++],a=S+m[k++],s=C+m[k++],n){if(o.m(S,C,a,C,t,r,i)||o.m(a,C,a,s,t,r,i)||o.m(a,s,S,s,t,r,i)||o.m(S,s,S,C,t,r,i))return!0}else v+=(0,h.Z)(a,C,a,s,r,i),v+=(0,h.Z)(S,s,S,C,r,i);break;case p.Z:if(n){if(o.m(y,_,S,C,t,r,i))return!0}else v+=(0,h.Z)(y,_,S,C,r,i);y=S,_=C}}return n||(c=_,d=C,Math.abs(c-d)<1e-4)||(v+=(0,h.Z)(y,_,S,C,r,i)||0),0!==v}var S=n(76884),C=n(35561),k=n(37706),D=n(51532),T=n(98773),I=(0,S.defaults)({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},i.tj),A={style:(0,S.defaults)({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},i.ik.style)},M=T.dN.concat(["invisible","culling","z","z2","zlevel","parent"]),E=function(e){function t(t){return e.call(this,t)||this}return(0,r.ZT)(t,e),t.prototype.update=function(){var n=this;e.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(e){n.buildPath(e,n.shape)}),i.silent=!0;var a=i.style;for(var o in r)a[o]!==r[o]&&(a[o]=r[o]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var s=0;s<M.length;++s)i[M[s]]=this[M[s]];i.__dirty|=D.YV}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(t){var n=(0,S.keys)(t);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var i=0;i<n.length;i++){var a=n[i],o=t[a];"style"===a?this.style?(0,S.extend)(this.style,o):this.useStyle(o):"shape"===a?(0,S.extend)(this.shape,o):e.prototype.attrKV.call(this,a,o)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if("none"!==e){if((0,S.isString)(e)){var t=(0,C.lum)(e,0);return t>.5?k.vU:t>.2?k.iv:k.GD}if(e)return k.GD}return k.vU},t.prototype.getInsideTextStroke=function(e){var t=this.style.fill;if((0,S.isString)(t)){var n=this.__zr;if(!(!n||!n.isDarkMode())===(0,C.lum)(e,0)<k.Ak)return t}},t.prototype.buildPath=function(e,t,n){},t.prototype.pathUpdated=function(){this.__dirty&=~D.RH},t.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},t.prototype.createPathProxy=function(){this.path=new a.Z(!1)},t.prototype.hasStroke=function(){var e=this.style,t=e.stroke;return!(null==t||"none"===t||!(e.lineWidth>0))},t.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},t.prototype.getBoundingRect=function(){var e=this._rect,t=this.style,n=!e;if(n){var r=!1;this.path||(r=!0,this.createPathProxy());var i=this.path;(r||this.__dirty&D.RH)&&(i.beginPath(),this.buildPath(i,this.shape,!1),this.pathUpdated()),e=i.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var a=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||n){a.copy(e);var o=t.strokeNoScale?this.getLineScale():1,s=t.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;s=Math.max(s,null==u?4:u)}o>1e-10&&(a.width+=s/o,a.height+=s/o,a.x-=s/o/2,a.y-=s/o/2)}return a}return e},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect(),i=this.style;if(e=n[0],t=n[1],r.contain(e,t)){var a=this.path;if(this.hasStroke()){var o=i.lineWidth,s=i.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(this.hasFill()||(o=Math.max(o,this.strokeContainThreshold)),function(e,t,n,r){return _(e,t,!0,n,r)}(a,o/s,e,t)))return!0}if(this.hasFill())return function(e,t,n){return _(e,0,!1,t,n)}(a,e,t)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=D.RH,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():"shape"===e?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(t,n){"shape"===t?this.setShape(n):e.prototype.attrKV.call(this,t,n)},t.prototype.setShape=function(e,t){var n=this.shape;return n||(n=this.shape={}),"string"===typeof e?n[e]=t:(0,S.extend)(n,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&D.RH)},t.prototype.createStyle=function(e){return(0,S.createObject)(I,e)},t.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.shape&&!n.shape&&(n.shape=(0,S.extend)({},this.shape))},t.prototype._applyStateObj=function(t,n,r,i,a,o){e.prototype._applyStateObj.call(this,t,n,r,i,a,o);var s,u=!(n&&i);if(n&&n.shape?a?i?s=n.shape:(s=(0,S.extend)({},r.shape),(0,S.extend)(s,n.shape)):(s=(0,S.extend)({},i?this.shape:r.shape),(0,S.extend)(s,n.shape)):u&&(s=r.shape),s)if(a){this.shape=(0,S.extend)({},this.shape);for(var l={},c=(0,S.keys)(s),d=0;d<c.length;d++){var f=c[d];"object"===typeof s[f]?this.shape[f]=s[f]:l[f]=s[f]}this._transitionState(t,{shape:l},o)}else this.shape=s,this.dirtyShape()},t.prototype._mergeStates=function(t){for(var n,r=e.prototype._mergeStates.call(this,t),i=0;i<t.length;i++){var a=t[i];a.shape&&(n=n||{},this._mergeStyle(n,a.shape))}return n&&(r.shape=n),r},t.prototype.getAnimationStyleProps=function(){return A},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var n=function(t){function n(n){var r=t.call(this,n)||this;return e.init&&e.init.call(r,n),r}return(0,r.ZT)(n,t),n.prototype.getDefaultStyle=function(){return(0,S.clone)(e.style)},n.prototype.getDefaultShape=function(){return(0,S.clone)(e.shape)},n}(t);for(var i in e)"function"===typeof e[i]&&(n.prototype[i]=e[i]);return n},t.initDefaultProps=function(){var e=t.prototype;e.type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,e.__dirty=D.YV|D.SE|D.RH}(),t}(i.ZP)},85721:function(e,t,n){"use strict";var r=n(43497),i=function(e){function t(t,n,r,i,a){var o=e.call(this,i)||this;return o.x=null==t?.5:t,o.y=null==n?.5:n,o.r=null==r?.5:r,o.type="radial",o.global=a||!1,o}return(0,r.ZT)(t,e),t}(n(33042).Z);t.Z=i},39516:function(e,t,n){"use strict";var r=n(43497),i=n(75624),a=n(15849),o=n(45162),s=n(76884),u=n(29315),l=(0,s.defaults)({strokeFirst:!0,font:u.Uo,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},o.$t),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.hasStroke=function(){var e=this.style,t=e.stroke;return null!=t&&"none"!==t&&e.lineWidth>0},t.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},t.prototype.createStyle=function(e){return(0,s.createObject)(l,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var t=e.text;null!=t?t+="":t="";var n=(0,a.lP)(t,e.font,e.textAlign,e.textBaseline);if(n.x+=e.x||0,n.y+=e.y||0,this.hasStroke()){var r=e.lineWidth;n.x-=r/2,n.y-=r/2,n.width+=r,n.height+=r}this._rect=n}return this._rect},t.initDefaultProps=void(t.prototype.dirtyRectTolerance=10),t}(i.ZP);c.prototype.type="tspan",t.Z=c},56114:function(e,t,n){"use strict";n.d(t,{VG:function(){return x},Y1:function(){return w}});var r=n(43497),i=n(19498),a=n(39516),o=n(76884),s=n(15849),u=n(44046),l=n(60595),c=n(97057),d=n(75624),f=n(29315),h={fill:"#000"},p={style:(0,o.defaults)({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},d.ik.style)},m=function(e){function t(t){var n=e.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=h,n.attr(t),n}return(0,r.ZT)(t,e),t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var n=this._children[t];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(t){var n=this.innerTransformable;return n?n.getLocalTransform(t):e.prototype.getLocalTransform.call(this,t)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){var e;this._childCursor=0,_(e=this.style),(0,o.each)(e.rich,_),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=t},t.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new c.Z(0,0,0,0),t=this._children,n=[],r=null,i=0;i<t.length;i++){var a=t[i],o=a.getBoundingRect(),s=a.getLocalTransform(n);s?(e.copy(o),e.applyTransform(s),(r=r||e.clone()).union(e)):(r=r||o.clone()).union(o)}this._rect=r||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||h},t.prototype.setTextContent=function(e){0},t.prototype._mergeStyle=function(e,t){if(!t)return e;var n=t.rich,r=e.rich||n&&{};return(0,o.extend)(e,t),n&&r?(this._mergeRich(r,n),e.rich=r):r&&(e.rich=r),e},t.prototype._mergeRich=function(e,t){for(var n=(0,o.keys)(t),r=0;r<n.length;r++){var i=n[r];e[i]=e[i]||{},(0,o.extend)(e[i],t[i])}},t.prototype.getAnimationStyleProps=function(){return p},t.prototype._getOrCreateChild=function(e){var t=this._children[this._childCursor];return t&&t instanceof e||(t=new e),this._children[this._childCursor++]=t,t.__zr=this.__zr,t.parent=this,t},t.prototype._updatePlainTexts=function(){var e=this.style,t=e.font||f.Uo,n=e.padding,r=D(e),o=(0,i.NY)(r,e),u=T(e),l=!!e.backgroundColor,d=o.outerHeight,h=o.outerWidth,p=o.contentWidth,m=o.lines,g=o.lineHeight,v=this._defaultStyle,y=e.x||0,x=e.y||0,w=e.align||v.align||"left",_=e.verticalAlign||v.verticalAlign||"top",I=y,A=(0,s.mU)(x,o.contentHeight,_);if(u||n){var M=(0,s.M3)(y,h,w),E=(0,s.mU)(x,d,_);u&&this._renderBackground(e,e,M,E,h,d)}A+=g/2,n&&(I=k(y,w,n),"top"===_?A+=n[0]:"bottom"===_&&(A-=n[2]));for(var N=0,R=!1,P=(C("fill"in e?e.fill:(R=!0,v.fill))),O=(S("stroke"in e?e.stroke:l||v.autoStroke&&!R?null:(N=2,v.stroke))),L=e.textShadowBlur>0,F=null!=e.width&&("truncate"===e.overflow||"break"===e.overflow||"breakAll"===e.overflow),Z=o.calculatedLineHeight,B=0;B<m.length;B++){var z=this._getOrCreateChild(a.Z),V=z.createStyle();z.useStyle(V),V.text=m[B],V.x=I,V.y=A,w&&(V.textAlign=w),V.textBaseline="middle",V.opacity=e.opacity,V.strokeFirst=!0,L&&(V.shadowBlur=e.textShadowBlur||0,V.shadowColor=e.textShadowColor||"transparent",V.shadowOffsetX=e.textShadowOffsetX||0,V.shadowOffsetY=e.textShadowOffsetY||0),V.stroke=O,V.fill=P,O&&(V.lineWidth=e.lineWidth||N,V.lineDash=e.lineDash,V.lineDashOffset=e.lineDashOffset||0),V.font=t,b(V,e),A+=g,F&&z.setBoundingRect(new c.Z((0,s.M3)(V.x,e.width,V.textAlign),(0,s.mU)(V.y,Z,V.textBaseline),p,Z))}},t.prototype._updateRichTexts=function(){var e=this.style,t=D(e),n=(0,i.$F)(t,e),r=n.width,a=n.outerWidth,o=n.outerHeight,u=e.padding,l=e.x||0,c=e.y||0,d=this._defaultStyle,f=e.align||d.align,h=e.verticalAlign||d.verticalAlign,p=(0,s.M3)(l,a,f),m=(0,s.mU)(c,o,h),g=p,v=m;u&&(g+=u[3],v+=u[0]);var y=g+r;T(e)&&this._renderBackground(e,e,p,m,a,o);for(var x=!!e.backgroundColor,b=0;b<n.lines.length;b++){for(var w=n.lines[b],_=w.tokens,S=_.length,C=w.lineHeight,k=w.width,I=0,A=g,M=y,E=S-1,N=void 0;I<S&&(!(N=_[I]).align||"left"===N.align);)this._placeToken(N,e,C,v,A,"left",x),k-=N.width,A+=N.width,I++;for(;E>=0&&"right"===(N=_[E]).align;)this._placeToken(N,e,C,v,M,"right",x),k-=N.width,M-=N.width,E--;for(A+=(r-(A-g)-(y-M)-k)/2;I<=E;)N=_[I],this._placeToken(N,e,C,v,A+N.width/2,"center",x),A+=N.width,I++;v+=C}},t.prototype._placeToken=function(e,t,n,r,i,u,l){var d=t.rich[e.styleName]||{};d.text=e.text;var h=e.verticalAlign,p=r+n/2;"top"===h?p=r+e.height/2:"bottom"===h&&(p=r+n-e.height/2),!e.isLineHolder&&T(d)&&this._renderBackground(d,t,"right"===u?i-e.width:"center"===u?i-e.width/2:i,p-e.height/2,e.width,e.height);var m=!!d.backgroundColor,g=e.textPadding;g&&(i=k(i,u,g),p-=e.height/2-g[0]-e.innerHeight/2);var v=this._getOrCreateChild(a.Z),y=v.createStyle();v.useStyle(y);var x=this._defaultStyle,w=!1,_=0,D=C("fill"in d?d.fill:"fill"in t?t.fill:(w=!0,x.fill)),I=S("stroke"in d?d.stroke:"stroke"in t?t.stroke:m||l||x.autoStroke&&!w?null:(_=2,x.stroke)),A=d.textShadowBlur>0||t.textShadowBlur>0;y.text=e.text,y.x=i,y.y=p,A&&(y.shadowBlur=d.textShadowBlur||t.textShadowBlur||0,y.shadowColor=d.textShadowColor||t.textShadowColor||"transparent",y.shadowOffsetX=d.textShadowOffsetX||t.textShadowOffsetX||0,y.shadowOffsetY=d.textShadowOffsetY||t.textShadowOffsetY||0),y.textAlign=u,y.textBaseline="middle",y.font=e.font||f.Uo,y.opacity=(0,o.retrieve3)(d.opacity,t.opacity,1),b(y,d),I&&(y.lineWidth=(0,o.retrieve3)(d.lineWidth,t.lineWidth,_),y.lineDash=(0,o.retrieve2)(d.lineDash,t.lineDash),y.lineDashOffset=t.lineDashOffset||0,y.stroke=I),D&&(y.fill=D);var M=e.contentWidth,E=e.contentHeight;v.setBoundingRect(new c.Z((0,s.M3)(y.x,M,y.textAlign),(0,s.mU)(y.y,E,y.textBaseline),M,E))},t.prototype._renderBackground=function(e,t,n,r,i,a){var s,c,d,f=e.backgroundColor,h=e.borderWidth,p=e.borderColor,m=f&&f.image,g=f&&!m,v=e.borderRadius,y=this;if(g||e.lineHeight||h&&p){(s=this._getOrCreateChild(l.Z)).useStyle(s.createStyle()),s.style.fill=null;var x=s.shape;x.x=n,x.y=r,x.width=i,x.height=a,x.r=v,s.dirtyShape()}if(g)(d=s.style).fill=f||null,d.fillOpacity=(0,o.retrieve2)(e.fillOpacity,1);else if(m){(c=this._getOrCreateChild(u.ZP)).onload=function(){y.dirtyStyle()};var b=c.style;b.image=f.image,b.x=n,b.y=r,b.width=i,b.height=a}h&&p&&((d=s.style).lineWidth=h,d.stroke=p,d.strokeOpacity=(0,o.retrieve2)(e.strokeOpacity,1),d.lineDash=e.borderDash,d.lineDashOffset=e.borderDashOffset||0,s.strokeContainThreshold=0,s.hasFill()&&s.hasStroke()&&(d.strokeFirst=!0,d.lineWidth*=2));var w=(s||c).style;w.shadowBlur=e.shadowBlur||0,w.shadowColor=e.shadowColor||"transparent",w.shadowOffsetX=e.shadowOffsetX||0,w.shadowOffsetY=e.shadowOffsetY||0,w.opacity=(0,o.retrieve3)(e.opacity,t.opacity,1)},t.makeFont=function(e){var t="";return w(e)&&(t=[e.fontStyle,e.fontWeight,x(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),t&&(0,o.trim)(t)||e.textFont||e.font},t}(d.ZP),g={left:!0,right:1,center:1},v={top:1,bottom:1,middle:1},y=["fontStyle","fontWeight","fontSize","fontFamily"];function x(e){return"string"!==typeof e||-1===e.indexOf("px")&&-1===e.indexOf("rem")&&-1===e.indexOf("em")?isNaN(+e)?f.n5+"px":e+"px":e}function b(e,t){for(var n=0;n<y.length;n++){var r=y[n],i=t[r];null!=i&&(e[r]=i)}}function w(e){return null!=e.fontSize||e.fontFamily||e.fontWeight}function _(e){if(e){e.font=m.makeFont(e);var t=e.align;"middle"===t&&(t="center"),e.align=null==t||g[t]?t:"left";var n=e.verticalAlign;"center"===n&&(n="middle"),e.verticalAlign=null==n||v[n]?n:"top",e.padding&&(e.padding=(0,o.normalizeCssArray)(e.padding))}}function S(e,t){return null==e||t<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function C(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function k(e,t,n){return"right"===t?e-n[1]:"center"===t?e+n[3]/2-n[1]/2:e+n[3]}function D(e){var t=e.text;return null!=t&&(t+=""),t}function T(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}t.ZP=m},51532:function(e,t,n){"use strict";n.d(t,{RH:function(){return a},SE:function(){return i},YV:function(){return r}});var r=1,i=2,a=4},78383:function(e,t,n){"use strict";n.d(t,{Gq:function(){return s},ko:function(){return o},v5:function(){return l}});var r=n(79195),i=n(29315),a=new r.ZP(50);function o(e){if("string"===typeof e){var t=a.get(e);return t&&t.image}return e}function s(e,t,n,r,o){if(e){if("string"===typeof e){if(t&&t.__zrImageSrc===e||!n)return t;var s=a.get(e),c={hostEl:n,cb:r,cbPayload:o};if(s)!l(t=s.image)&&s.pending.push(c);else{var d=i.qW.loadImage(e,u,u);d.__zrImageSrc=e,a.put(e,d.__cachedImgObj={image:d,pending:[c]})}return t}return e}return t}function u(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function l(e){return e&&e.width&&e.height}},19498:function(e,t,n){"use strict";n.d(t,{$F:function(){return m},NY:function(){return d},aF:function(){return s}});var r=n(78383),i=n(76884),a=n(15849),o=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function s(e,t,n,r,i){if(!t)return"";var a=(e+"").split("\n");i=u(t,n,r,i);for(var o=0,s=a.length;o<s;o++)a[o]=l(a[o],i);return a.join("\n")}function u(e,t,n,r){r=r||{};var o=(0,i.extend)({},r);o.font=t,n=(0,i.retrieve2)(n,"..."),o.maxIterations=(0,i.retrieve2)(r.maxIterations,2);var s=o.minChar=(0,i.retrieve2)(r.minChar,0);o.cnCharWidth=(0,a.dz)("\u56fd",t);var u=o.ascCharWidth=(0,a.dz)("a",t);o.placeholder=(0,i.retrieve2)(r.placeholder,"");for(var l=e=Math.max(0,e-1),c=0;c<s&&l>=u;c++)l-=u;var d=(0,a.dz)(n,t);return d>l&&(n="",d=0),l=e-d,o.ellipsis=n,o.ellipsisWidth=d,o.contentWidth=l,o.containerWidth=e,o}function l(e,t){var n=t.containerWidth,r=t.font,i=t.contentWidth;if(!n)return"";var o=(0,a.dz)(e,r);if(o<=n)return e;for(var s=0;;s++){if(o<=i||s>=t.maxIterations){e+=t.ellipsis;break}var u=0===s?c(e,i,t.ascCharWidth,t.cnCharWidth):o>0?Math.floor(e.length*i/o):0;e=e.substr(0,u),o=(0,a.dz)(e,r)}return""===e&&(e=t.placeholder),e}function c(e,t,n,r){for(var i=0,a=0,o=e.length;a<o&&i<t;a++){var s=e.charCodeAt(a);i+=0<=s&&s<=127?n:r}return a}function d(e,t){null!=e&&(e+="");var n,r=t.overflow,o=t.padding,s=t.font,c="truncate"===r,d=(0,a.Dp)(s),f=(0,i.retrieve2)(t.lineHeight,d),h=!!t.backgroundColor,p="truncate"===t.lineOverflow,m=t.width,g=(n=null==m||"break"!==r&&"breakAll"!==r?e?e.split("\n"):[]:e?x(e,t.font,m,"breakAll"===r,0).lines:[]).length*f,v=(0,i.retrieve2)(t.height,g);if(g>v&&p){var y=Math.floor(v/f);n=n.slice(0,y)}if(e&&c&&null!=m)for(var b=u(m,s,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),w=0;w<n.length;w++)n[w]=l(n[w],b);var _=v,S=0;for(w=0;w<n.length;w++)S=Math.max((0,a.dz)(n[w],s),S);null==m&&(m=S);var C=S;return o&&(_+=o[0]+o[2],C+=o[1]+o[3],m+=o[1]+o[3]),h&&(C=m),{lines:n,height:v,outerWidth:C,outerHeight:_,lineHeight:f,calculatedLineHeight:d,contentWidth:S,contentHeight:g,width:m}}var f=function(){},h=function(e){this.tokens=[],e&&(this.tokens=e)},p=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function m(e,t){var n=new p;if(null!=e&&(e+=""),!e)return n;for(var u,l=t.width,c=t.height,d=t.overflow,f="break"!==d&&"breakAll"!==d||null==l?null:{width:l,accumWidth:0,breakAll:"breakAll"===d},h=o.lastIndex=0;null!=(u=o.exec(e));){var m=u.index;m>h&&g(n,e.substring(h,m),t,f),g(n,u[2],t,f,u[1]),h=o.lastIndex}h<e.length&&g(n,e.substring(h,e.length),t,f);var v=[],y=0,x=0,b=t.padding,w="truncate"===d,_="truncate"===t.lineOverflow;function S(e,t,n){e.width=t,e.lineHeight=n,y+=n,x=Math.max(x,t)}e:for(var C=0;C<n.lines.length;C++){for(var k=n.lines[C],D=0,T=0,I=0;I<k.tokens.length;I++){var A=(B=k.tokens[I]).styleName&&t.rich[B.styleName]||{},M=B.textPadding=A.padding,E=M?M[1]+M[3]:0,N=B.font=A.font||t.font;B.contentHeight=(0,a.Dp)(N);var R=(0,i.retrieve2)(A.height,B.contentHeight);if(B.innerHeight=R,M&&(R+=M[0]+M[2]),B.height=R,B.lineHeight=(0,i.retrieve3)(A.lineHeight,t.lineHeight,R),B.align=A&&A.align||t.align,B.verticalAlign=A&&A.verticalAlign||"middle",_&&null!=c&&y+B.lineHeight>c){I>0?(k.tokens=k.tokens.slice(0,I),S(k,T,D),n.lines=n.lines.slice(0,C+1)):n.lines=n.lines.slice(0,C);break e}var P=A.width,O=null==P||"auto"===P;if("string"===typeof P&&"%"===P.charAt(P.length-1))B.percentWidth=P,v.push(B),B.contentWidth=(0,a.dz)(B.text,N);else{if(O){var L=A.backgroundColor,F=L&&L.image;F&&(F=r.ko(F),r.v5(F)&&(B.width=Math.max(B.width,F.width*R/F.height)))}var Z=w&&null!=l?l-T:null;null!=Z&&Z<B.width?!O||Z<E?(B.text="",B.width=B.contentWidth=0):(B.text=s(B.text,Z-E,N,t.ellipsis,{minChar:t.truncateMinChar}),B.width=B.contentWidth=(0,a.dz)(B.text,N)):B.contentWidth=(0,a.dz)(B.text,N)}B.width+=E,T+=B.width,A&&(D=Math.max(D,B.lineHeight))}S(k,T,D)}n.outerWidth=n.width=(0,i.retrieve2)(l,x),n.outerHeight=n.height=(0,i.retrieve2)(c,y),n.contentHeight=y,n.contentWidth=x,b&&(n.outerWidth+=b[1]+b[3],n.outerHeight+=b[0]+b[2]);for(C=0;C<v.length;C++){var B,z=(B=v[C]).percentWidth;B.width=parseInt(z,10)/100*n.width}return n}function g(e,t,n,r,i){var o,s,u=""===t,l=i&&n.rich[i]||{},c=e.lines,d=l.font||n.font,p=!1;if(r){var m=l.padding,g=m?m[1]+m[3]:0;if(null!=l.width&&"auto"!==l.width){var v=(0,a.GM)(l.width,r.width)+g;c.length>0&&v+r.accumWidth>r.width&&(o=t.split("\n"),p=!0),r.accumWidth=v}else{var y=x(t,d,r.width,r.breakAll,r.accumWidth);r.accumWidth=y.accumWidth+g,s=y.linesWidths,o=y.lines}}else o=t.split("\n");for(var b=0;b<o.length;b++){var w=o[b],_=new f;if(_.styleName=i,_.text=w,_.isLineHolder=!w&&!u,"number"===typeof l.width?_.width=l.width:_.width=s?s[b]:(0,a.dz)(w,d),b||p)c.push(new h([_]));else{var S=(c[c.length-1]||(c[0]=new h)).tokens,C=S.length;1===C&&S[0].isLineHolder?S[0]=_:(w||!C||u)&&S.push(_)}}}var v=(0,i.reduce)(",&?/;] ".split(""),(function(e,t){return e[t]=!0,e}),{});function y(e){return!function(e){var t=e.charCodeAt(0);return t>=33&&t<=383}(e)||!!v[e]}function x(e,t,n,r,i){for(var o=[],s=[],u="",l="",c=0,d=0,f=0;f<e.length;f++){var h=e.charAt(f);if("\n"!==h){var p=(0,a.dz)(h,t),m=!r&&!y(h);(o.length?d+p>n:i+d+p>n)?d?(u||l)&&(m?(u||(u=l,l="",d=c=0),o.push(u),s.push(d-c),l+=h,u="",d=c+=p):(l&&(u+=l,l="",c=0),o.push(u),s.push(d),u=h,d=p)):m?(o.push(l),s.push(c),l=h,c=p):(o.push(h),s.push(p)):(d+=p,m?(l+=h,c+=p):(l&&(u+=l,l="",c=0),u+=h))}else l&&(u+=l,d+=c),o.push(u),s.push(d),u="",l="",c=0,d=0}return o.length||u||(u=e,l="",c=0),l&&(u+=l),u&&(o.push(u),s.push(d)),1===o.length&&(d+=i),{accumWidth:d,lines:o,linesWidths:s}}},91935:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(75784);function i(e,t,n){var i=t.smooth,a=t.points;if(a&&a.length>=2){if(i){var o=function(e,t,n,i){var a,o,s,u,l=[],c=[],d=[],f=[];if(i){s=[1/0,1/0],u=[-1/0,-1/0];for(var h=0,p=e.length;h<p;h++)(0,r.min)(s,s,e[h]),(0,r.max)(u,u,e[h]);(0,r.min)(s,s,i[0]),(0,r.max)(u,u,i[1])}for(h=0,p=e.length;h<p;h++){var m=e[h];if(n)a=e[h?h-1:p-1],o=e[(h+1)%p];else{if(0===h||h===p-1){l.push((0,r.clone)(e[h]));continue}a=e[h-1],o=e[h+1]}(0,r.sub)(c,o,a),(0,r.scale)(c,c,t);var g=(0,r.distance)(m,a),v=(0,r.distance)(m,o),y=g+v;0!==y&&(g/=y,v/=y),(0,r.scale)(d,c,-g),(0,r.scale)(f,c,v);var x=(0,r.add)([],m,d),b=(0,r.add)([],m,f);i&&((0,r.max)(x,x,s),(0,r.min)(x,x,u),(0,r.max)(b,b,s),(0,r.min)(b,b,u)),l.push(x),l.push(b)}return n&&l.push(l.shift()),l}(a,i,n,t.smoothConstraint);e.moveTo(a[0][0],a[0][1]);for(var s=a.length,u=0;u<(n?s:s-1);u++){var l=o[2*u],c=o[2*u+1],d=a[(u+1)%s];e.bezierCurveTo(l[0],l[1],c[0],c[1],d[0],d[1])}}else{e.moveTo(a[0][0],a[0][1]);u=1;for(var f=a.length;u<f;u++)e.lineTo(a[u][0],a[u][1])}n&&e.closePath()}}},80054:function(e,t,n){"use strict";n.d(t,{Pw:function(){return a},_3:function(){return i},vu:function(){return o}});var r=Math.round;function i(e,t,n){if(t){var i=t.x1,a=t.x2,s=t.y1,u=t.y2;e.x1=i,e.x2=a,e.y1=s,e.y2=u;var l=n&&n.lineWidth;return l?(r(2*i)===r(2*a)&&(e.x1=e.x2=o(i,l,!0)),r(2*s)===r(2*u)&&(e.y1=e.y2=o(s,l,!0)),e):e}}function a(e,t,n){if(t){var r=t.x,i=t.y,a=t.width,s=t.height;e.x=r,e.y=i,e.width=a,e.height=s;var u=n&&n.lineWidth;return u?(e.x=o(r,u,!0),e.y=o(i,u,!0),e.width=Math.max(o(r+a,u,!1)-e.x,0===a?0:1),e.height=Math.max(o(i+s,u,!1)-e.y,0===s?0:1),e):e}}function o(e,t,n){if(!t)return e;var i=r(2*e);return(i+r(t))%2===0?i/2:(i+(n?1:-1))/2}},52620:function(e,t,n){"use strict";var r=n(43497),i=n(45162),a=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},o=function(e){function t(t){return e.call(this,t)||this}return(0,r.ZT)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new a},t.prototype.buildPath=function(e,t){var n=t.cx,r=t.cy,i=Math.max(t.r,0),a=t.startAngle,o=t.endAngle,s=t.clockwise,u=Math.cos(a),l=Math.sin(a);e.moveTo(u*i+n,l*i+r),e.arc(n,r,i,a,o,!s)},t}(i.ZP);o.prototype.type="arc",t.Z=o},2730:function(e,t,n){"use strict";var r=n(43497),i=n(45162),a=n(75784),o=n(46529),s=[],u=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function l(e,t,n){var r=e.cpx2,i=e.cpy2;return null!=r||null!=i?[(n?o.X_:o.af)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?o.X_:o.af)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?o.AZ:o.Zm)(e.x1,e.cpx1,e.x2,t),(n?o.AZ:o.Zm)(e.y1,e.cpy1,e.y2,t)]}var c=function(e){function t(t){return e.call(this,t)||this}return(0,r.ZT)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new u},t.prototype.buildPath=function(e,t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2,u=t.cpx1,l=t.cpy1,c=t.cpx2,d=t.cpy2,f=t.percent;0!==f&&(e.moveTo(n,r),null==c||null==d?(f<1&&((0,o.Lx)(n,u,i,f,s),u=s[1],i=s[2],(0,o.Lx)(r,l,a,f,s),l=s[1],a=s[2]),e.quadraticCurveTo(u,l,i,a)):(f<1&&((0,o.Vz)(n,u,c,i,f,s),u=s[1],c=s[2],i=s[3],(0,o.Vz)(r,l,d,a,f,s),l=s[1],d=s[2],a=s[3]),e.bezierCurveTo(u,l,c,d,i,a)))},t.prototype.pointAt=function(e){return l(this.shape,e,!1)},t.prototype.tangentAt=function(e){var t=l(this.shape,e,!0);return a.normalize(t,t)},t}(i.ZP);c.prototype.type="bezier-curve",t.Z=c},11345:function(e,t,n){"use strict";var r=n(43497),i=n(45162),a=function(){this.cx=0,this.cy=0,this.r=0},o=function(e){function t(t){return e.call(this,t)||this}return(0,r.ZT)(t,e),t.prototype.getDefaultShape=function(){return new a},t.prototype.buildPath=function(e,t){e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI)},t}(i.ZP);o.prototype.type="circle",t.Z=o},44446:function(e,t,n){"use strict";var r=n(43497),i=n(45162),a=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},o=function(e){function t(t){return e.call(this,t)||this}return(0,r.ZT)(t,e),t.prototype.getDefaultShape=function(){return new a},t.prototype.buildPath=function(e,t){var n=.5522848,r=t.cx,i=t.cy,a=t.rx,o=t.ry,s=a*n,u=o*n;e.moveTo(r-a,i),e.bezierCurveTo(r-a,i-u,r-s,i-o,r,i-o),e.bezierCurveTo(r+s,i-o,r+a,i-u,r+a,i),e.bezierCurveTo(r+a,i+u,r+s,i+o,r,i+o),e.bezierCurveTo(r-s,i+o,r-a,i+u,r-a,i),e.closePath()},t}(i.ZP);o.prototype.type="ellipse",t.Z=o},71768:function(e,t,n){"use strict";var r=n(43497),i=n(45162),a=n(80054),o={},s=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},u=function(e){function t(t){return e.call(this,t)||this}return(0,r.ZT)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new s},t.prototype.buildPath=function(e,t){var n,r,i,s;if(this.subPixelOptimize){var u=(0,a._3)(o,t,this.style);n=u.x1,r=u.y1,i=u.x2,s=u.y2}else n=t.x1,r=t.y1,i=t.x2,s=t.y2;var l=t.percent;0!==l&&(e.moveTo(n,r),l<1&&(i=n*(1-l)+i*l,s=r*(1-l)+s*l),e.lineTo(i,s))},t.prototype.pointAt=function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]},t}(i.ZP);u.prototype.type="line",t.Z=u},91719:function(e,t,n){"use strict";var r=n(43497),i=n(45162),a=n(91935),o=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},s=function(e){function t(t){return e.call(this,t)||this}return(0,r.ZT)(t,e),t.prototype.getDefaultShape=function(){return new o},t.prototype.buildPath=function(e,t){a.L(e,t,!0)},t}(i.ZP);s.prototype.type="polygon",t.Z=s},8509:function(e,t,n){"use strict";var r=n(43497),i=n(45162),a=n(91935),o=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},s=function(e){function t(t){return e.call(this,t)||this}return(0,r.ZT)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new o},t.prototype.buildPath=function(e,t){a.L(e,t,!1)},t}(i.ZP);s.prototype.type="polyline",t.Z=s},60595:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(43497),i=n(45162);var a=n(80054),o=function(){this.x=0,this.y=0,this.width=0,this.height=0},s={},u=function(e){function t(t){return e.call(this,t)||this}return(0,r.ZT)(t,e),t.prototype.getDefaultShape=function(){return new o},t.prototype.buildPath=function(e,t){var n,r,i,o;if(this.subPixelOptimize){var u=(0,a.Pw)(s,t,this.style);n=u.x,r=u.y,i=u.width,o=u.height,u.r=t.r,t=u}else n=t.x,r=t.y,i=t.width,o=t.height;t.r?function(e,t){var n,r,i,a,o,s=t.x,u=t.y,l=t.width,c=t.height,d=t.r;l<0&&(s+=l,l=-l),c<0&&(u+=c,c=-c),"number"===typeof d?n=r=i=a=d:d instanceof Array?1===d.length?n=r=i=a=d[0]:2===d.length?(n=i=d[0],r=a=d[1]):3===d.length?(n=d[0],r=a=d[1],i=d[2]):(n=d[0],r=d[1],i=d[2],a=d[3]):n=r=i=a=0,n+r>l&&(n*=l/(o=n+r),r*=l/o),i+a>l&&(i*=l/(o=i+a),a*=l/o),r+i>c&&(r*=c/(o=r+i),i*=c/o),n+a>c&&(n*=c/(o=n+a),a*=c/o),e.moveTo(s+n,u),e.lineTo(s+l-r,u),0!==r&&e.arc(s+l-r,u+r,r,-Math.PI/2,0),e.lineTo(s+l,u+c-i),0!==i&&e.arc(s+l-i,u+c-i,i,0,Math.PI/2),e.lineTo(s+a,u+c),0!==a&&e.arc(s+a,u+c-a,a,Math.PI/2,Math.PI),e.lineTo(s,u+n),0!==n&&e.arc(s+n,u+n,n,Math.PI,1.5*Math.PI)}(e,t):e.rect(n,r,i,o)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(i.ZP);u.prototype.type="rect";var l=u},25366:function(e,t,n){"use strict";var r=n(43497),i=n(45162),a=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},o=function(e){function t(t){return e.call(this,t)||this}return(0,r.ZT)(t,e),t.prototype.getDefaultShape=function(){return new a},t.prototype.buildPath=function(e,t){var n=t.cx,r=t.cy,i=2*Math.PI;e.moveTo(n+t.r,r),e.arc(n,r,t.r,0,i,!1),e.moveTo(n+t.r0,r),e.arc(n,r,t.r0,0,i,!0)},t}(i.ZP);o.prototype.type="ring",t.Z=o},45941:function(e,t,n){"use strict";n.d(t,{C:function(){return w}});var r=n(43497),i=n(45162),a=n(76884),o=Math.PI,s=2*o,u=Math.sin,l=Math.cos,c=Math.acos,d=Math.atan2,f=Math.abs,h=Math.sqrt,p=Math.max,m=Math.min,g=1e-4;function v(e,t,n,r,i,a,o){var s=e-n,u=t-r,l=(o?a:-a)/h(s*s+u*u),c=l*u,d=-l*s,f=e+c,m=t+d,g=n+c,v=r+d,y=(f+g)/2,x=(m+v)/2,b=g-f,w=v-m,_=b*b+w*w,S=i-a,C=f*v-g*m,k=(w<0?-1:1)*h(p(0,S*S*_-C*C)),D=(C*w-b*k)/_,T=(-C*b-w*k)/_,I=(C*w+b*k)/_,A=(-C*b+w*k)/_,M=D-y,E=T-x,N=I-y,R=A-x;return M*M+E*E>N*N+R*R&&(D=I,T=A),{cx:D,cy:T,x0:-c,y0:-d,x1:D*(i/S-1),y1:T*(i/S-1)}}function y(e,t){var n,r=p(t.r,0),i=p(t.r0||0,0),y=r>0;if(y||i>0){if(y||(r=i,i=0),i>r){var x=r;r=i,i=x}var b=t.startAngle,w=t.endAngle;if(!isNaN(b)&&!isNaN(w)){var _=t.cx,S=t.cy,C=!!t.clockwise,k=f(w-b),D=k>s&&k%s;if(D>g&&(k=D),r>g)if(k>s-g)e.moveTo(_+r*l(b),S+r*u(b)),e.arc(_,S,r,b,w,!C),i>g&&(e.moveTo(_+i*l(w),S+i*u(w)),e.arc(_,S,i,w,b,C));else{var T=void 0,I=void 0,A=void 0,M=void 0,E=void 0,N=void 0,R=void 0,P=void 0,O=void 0,L=void 0,F=void 0,Z=void 0,B=void 0,z=void 0,V=void 0,j=void 0,W=r*l(b),U=r*u(b),H=i*l(w),G=i*u(w),X=k>g;if(X){var q=t.cornerRadius;q&&(T=(n=function(e){var t;if((0,a.isArray)(e)){var n=e.length;if(!n)return e;t=1===n?[e[0],e[0],0,0]:2===n?[e[0],e[0],e[1],e[1]]:3===n?e.concat(e[2]):e}else t=[e,e,e,e];return t}(q))[0],I=n[1],A=n[2],M=n[3]);var Y=f(r-i)/2;if(E=m(Y,A),N=m(Y,M),R=m(Y,T),P=m(Y,I),F=O=p(E,N),Z=L=p(R,P),(O>g||L>g)&&(B=r*l(w),z=r*u(w),V=i*l(b),j=i*u(b),k<o)){var K=function(e,t,n,r,i,a,o,s){var u=n-e,l=r-t,c=o-i,d=s-a,f=d*u-c*l;if(!(f*f<g))return[e+(f=(c*(t-a)-d*(e-i))/f)*u,t+f*l]}(W,U,V,j,B,z,H,G);if(K){var Q=W-K[0],J=U-K[1],$=B-K[0],ee=z-K[1],te=1/u(c((Q*$+J*ee)/(h(Q*Q+J*J)*h($*$+ee*ee)))/2),ne=h(K[0]*K[0]+K[1]*K[1]);F=m(O,(r-ne)/(te+1)),Z=m(L,(i-ne)/(te-1))}}}if(X)if(F>g){var re=m(A,F),ie=m(M,F),ae=v(V,j,W,U,r,re,C),oe=v(B,z,H,G,r,ie,C);e.moveTo(_+ae.cx+ae.x0,S+ae.cy+ae.y0),F<O&&re===ie?e.arc(_+ae.cx,S+ae.cy,F,d(ae.y0,ae.x0),d(oe.y0,oe.x0),!C):(re>0&&e.arc(_+ae.cx,S+ae.cy,re,d(ae.y0,ae.x0),d(ae.y1,ae.x1),!C),e.arc(_,S,r,d(ae.cy+ae.y1,ae.cx+ae.x1),d(oe.cy+oe.y1,oe.cx+oe.x1),!C),ie>0&&e.arc(_+oe.cx,S+oe.cy,ie,d(oe.y1,oe.x1),d(oe.y0,oe.x0),!C))}else e.moveTo(_+W,S+U),e.arc(_,S,r,b,w,!C);else e.moveTo(_+W,S+U);if(i>g&&X)if(Z>g){re=m(T,Z),ae=v(H,G,B,z,i,-(ie=m(I,Z)),C),oe=v(W,U,V,j,i,-re,C);e.lineTo(_+ae.cx+ae.x0,S+ae.cy+ae.y0),Z<L&&re===ie?e.arc(_+ae.cx,S+ae.cy,Z,d(ae.y0,ae.x0),d(oe.y0,oe.x0),!C):(ie>0&&e.arc(_+ae.cx,S+ae.cy,ie,d(ae.y0,ae.x0),d(ae.y1,ae.x1),!C),e.arc(_,S,i,d(ae.cy+ae.y1,ae.cx+ae.x1),d(oe.cy+oe.y1,oe.cx+oe.x1),C),re>0&&e.arc(_+oe.cx,S+oe.cy,re,d(oe.y1,oe.x1),d(oe.y0,oe.x0),!C))}else e.lineTo(_+H,S+G),e.arc(_,S,i,w,b,C);else e.lineTo(_+H,S+G)}else e.moveTo(_,S);e.closePath()}}}var x=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},b=function(e){function t(t){return e.call(this,t)||this}return(0,r.ZT)(t,e),t.prototype.getDefaultShape=function(){return new x},t.prototype.buildPath=function(e,t){y(e,t)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(i.ZP);b.prototype.type="sector";var w=b},9078:function(e,t,n){"use strict";n.d(t,{Cv:function(){return v},Gk:function(){return S},H3:function(){return w},I1:function(){return x},Pn:function(){return d},R:function(){return y},gA:function(){return C},gO:function(){return b},i2:function(){return m},jY:function(){return h},m1:function(){return _},mU:function(){return p},n1:function(){return g},oF:function(){return k},qV:function(){return f},ut:function(){return s},zT:function(){return l}});var r=n(76884),i=n(35561),a=n(71118),o=Math.round;function s(e){var t;if(e&&"transparent"!==e){if("string"===typeof e&&e.indexOf("rgba")>-1){var n=(0,i.parse)(e);n&&(e="rgb("+n[0]+","+n[1]+","+n[2]+")",t=n[3])}}else e="none";return{color:e,opacity:null==t?1:t}}var u=1e-4;function l(e){return e<u&&e>-1e-4}function c(e){return o(1e3*e)/1e3}function d(e){return o(1e4*e)/1e4}function f(e){return"matrix("+c(e[0])+","+c(e[1])+","+c(e[2])+","+c(e[3])+","+d(e[4])+","+d(e[5])+")"}var h={left:"start",right:"end",center:"middle",middle:"middle"};function p(e,t,n){return"top"===n?e+=t/2:"bottom"===n&&(e-=t/2),e}function m(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}function g(e){var t=e.style,n=e.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}function v(e){return e&&!!e.image}function y(e){return v(e)||function(e){return e&&!!e.svgElement}(e)}function x(e){return"linear"===e.type}function b(e){return"radial"===e.type}function w(e){return e&&("linear"===e.type||"radial"===e.type)}function _(e){return"url(#"+e+")"}function S(e){var t=e.getGlobalScale(),n=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)}function C(e){var t=e.x||0,n=e.y||0,i=(e.rotation||0)*r.RADIAN_TO_DEGREE,a=(0,r.retrieve2)(e.scaleX,1),s=(0,r.retrieve2)(e.scaleY,1),u=e.skewX||0,l=e.skewY||0,c=[];return(t||n)&&c.push("translate("+t+"px,"+n+"px)"),i&&c.push("rotate("+i+")"),1===a&&1===s||c.push("scale("+a+","+s+")"),(u||l)&&c.push("skew("+o(u*r.RADIAN_TO_DEGREE)+"deg, "+o(l*r.RADIAN_TO_DEGREE)+"deg)"),c.join(" ")}var k=a.Z.hasGlobalWindow&&(0,r.isFunction)(window.btoa)?function(e){return window.btoa(unescape(e))}:"undefined"!==typeof Buffer?function(e){return Buffer.from(e).toString("base64")}:function(e){return null}},35561:function(e,t,n){"use strict";n.r(t),n.d(t,{fastLerp:function(){return b},fastMapToColor:function(){return w},lerp:function(){return _},lift:function(){return y},lum:function(){return T},mapToColor:function(){return S},modifyAlpha:function(){return k},modifyHSL:function(){return C},parse:function(){return g},random:function(){return I},stringify:function(){return D},toHex:function(){return x}});var r=n(79195),i={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function a(e){return(e=Math.round(e))<0?0:e>255?255:e}function o(e){return e<0?0:e>1?1:e}function s(e){var t=e;return t.length&&"%"===t.charAt(t.length-1)?a(parseFloat(t)/100*255):a(parseInt(t,10))}function u(e){var t=e;return t.length&&"%"===t.charAt(t.length-1)?o(parseFloat(t)/100):o(parseFloat(t))}function l(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function c(e,t,n){return e+(t-e)*n}function d(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function f(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var h=new r.ZP(20),p=null;function m(e,t){p&&f(p,t),p=h.put(e,p||t.slice())}function g(e,t){if(e){t=t||[];var n=h.get(e);if(n)return f(t,n);var r=(e+="").replace(/ /g,"").toLowerCase();if(r in i)return f(t,i[r]),m(e,t),t;var a,o=r.length;if("#"===r.charAt(0))return 4===o||5===o?(a=parseInt(r.slice(1,4),16))>=0&&a<=4095?(d(t,(3840&a)>>4|(3840&a)>>8,240&a|(240&a)>>4,15&a|(15&a)<<4,5===o?parseInt(r.slice(4),16)/15:1),m(e,t),t):void d(t,0,0,0,1):7===o||9===o?(a=parseInt(r.slice(1,7),16))>=0&&a<=16777215?(d(t,(16711680&a)>>16,(65280&a)>>8,255&a,9===o?parseInt(r.slice(7),16)/255:1),m(e,t),t):void d(t,0,0,0,1):void 0;var l=r.indexOf("("),c=r.indexOf(")");if(-1!==l&&c+1===o){var p=r.substr(0,l),g=r.substr(l+1,c-(l+1)).split(","),y=1;switch(p){case"rgba":if(4!==g.length)return 3===g.length?d(t,+g[0],+g[1],+g[2],1):d(t,0,0,0,1);y=u(g.pop());case"rgb":return 3!==g.length?void d(t,0,0,0,1):(d(t,s(g[0]),s(g[1]),s(g[2]),y),m(e,t),t);case"hsla":return 4!==g.length?void d(t,0,0,0,1):(g[3]=u(g[3]),v(g,t),m(e,t),t);case"hsl":return 3!==g.length?void d(t,0,0,0,1):(v(g,t),m(e,t),t);default:return}}d(t,0,0,0,1)}}function v(e,t){var n=(parseFloat(e[0])%360+360)%360/360,r=u(e[1]),i=u(e[2]),o=i<=.5?i*(r+1):i+r-i*r,s=2*i-o;return d(t=t||[],a(255*l(s,o,n+1/3)),a(255*l(s,o,n)),a(255*l(s,o,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}function y(e,t){var n=g(e);if(n){for(var r=0;r<3;r++)n[r]=t<0?n[r]*(1-t)|0:(255-n[r])*t+n[r]|0,n[r]>255?n[r]=255:n[r]<0&&(n[r]=0);return D(n,4===n.length?"rgba":"rgb")}}function x(e){var t=g(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function b(e,t,n){if(t&&t.length&&e>=0&&e<=1){n=n||[];var r=e*(t.length-1),i=Math.floor(r),s=Math.ceil(r),u=t[i],l=t[s],d=r-i;return n[0]=a(c(u[0],l[0],d)),n[1]=a(c(u[1],l[1],d)),n[2]=a(c(u[2],l[2],d)),n[3]=o(c(u[3],l[3],d)),n}}var w=b;function _(e,t,n){if(t&&t.length&&e>=0&&e<=1){var r=e*(t.length-1),i=Math.floor(r),s=Math.ceil(r),u=g(t[i]),l=g(t[s]),d=r-i,f=D([a(c(u[0],l[0],d)),a(c(u[1],l[1],d)),a(c(u[2],l[2],d)),o(c(u[3],l[3],d))],"rgba");return n?{color:f,leftIndex:i,rightIndex:s,value:r}:f}}var S=_;function C(e,t,n,r){var i,a=g(e);if(e)return a=function(e){if(e){var t,n,r=e[0]/255,i=e[1]/255,a=e[2]/255,o=Math.min(r,i,a),s=Math.max(r,i,a),u=s-o,l=(s+o)/2;if(0===u)t=0,n=0;else{n=l<.5?u/(s+o):u/(2-s-o);var c=((s-r)/6+u/2)/u,d=((s-i)/6+u/2)/u,f=((s-a)/6+u/2)/u;r===s?t=f-d:i===s?t=1/3+c-f:a===s&&(t=2/3+d-c),t<0&&(t+=1),t>1&&(t-=1)}var h=[360*t,n,l];return null!=e[3]&&h.push(e[3]),h}}(a),null!=t&&(a[0]=(i=t,(i=Math.round(i))<0?0:i>360?360:i)),null!=n&&(a[1]=u(n)),null!=r&&(a[2]=u(r)),D(v(a),"rgba")}function k(e,t){var n=g(e);if(n&&null!=t)return n[3]=o(t),D(n,"rgba")}function D(e,t){if(e&&e.length){var n=e[0]+","+e[1]+","+e[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(n+=","+e[3]),t+"("+n+")"}}function T(e,t){var n=g(e);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*t:0}function I(){return D([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")}},96061:function(e,t,n){"use strict";n.d(t,{U5:function(){return A},iR:function(){return D},Pc:function(){return T},AA:function(){return I}});var r=n(43497),i=n(45162),a=n(13103),o=n(75784),s=a.Z.CMD,u=[[],[],[]],l=Math.sqrt,c=Math.atan2;function d(e,t){if(t){var n,r,i,a,d,f,h=e.data,p=e.len(),m=s.M,g=s.C,v=s.L,y=s.R,x=s.A,b=s.Q;for(i=0,a=0;i<p;){switch(n=h[i++],a=i,r=0,n){case m:case v:r=1;break;case g:r=3;break;case b:r=2;break;case x:var w=t[4],_=t[5],S=l(t[0]*t[0]+t[1]*t[1]),C=l(t[2]*t[2]+t[3]*t[3]),k=c(-t[1]/C,t[0]/S);h[i]*=S,h[i++]+=w,h[i]*=C,h[i++]+=_,h[i++]*=S,h[i++]*=C,h[i++]+=k,h[i++]+=k,a=i+=2;break;case y:f[0]=h[i++],f[1]=h[i++],(0,o.applyTransform)(f,f,t),h[a++]=f[0],h[a++]=f[1],f[0]+=h[i++],f[1]+=h[i++],(0,o.applyTransform)(f,f,t),h[a++]=f[0],h[a++]=f[1]}for(d=0;d<r;d++){var D=u[d];D[0]=h[i++],D[1]=h[i++],(0,o.applyTransform)(D,D,t),h[a++]=D[0],h[a++]=D[1]}}e.increaseVersion()}}var f=n(76884),h=Math.sqrt,p=Math.sin,m=Math.cos,g=Math.PI;function v(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function y(e,t){return(e[0]*t[0]+e[1]*t[1])/(v(e)*v(t))}function x(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(y(e,t))}function b(e,t,n,r,i,a,o,s,u,l,c){var d=u*(g/180),f=m(d)*(e-n)/2+p(d)*(t-r)/2,v=-1*p(d)*(e-n)/2+m(d)*(t-r)/2,b=f*f/(o*o)+v*v/(s*s);b>1&&(o*=h(b),s*=h(b));var w=(i===a?-1:1)*h((o*o*(s*s)-o*o*(v*v)-s*s*(f*f))/(o*o*(v*v)+s*s*(f*f)))||0,_=w*o*v/s,S=w*-s*f/o,C=(e+n)/2+m(d)*_-p(d)*S,k=(t+r)/2+p(d)*_+m(d)*S,D=x([1,0],[(f-_)/o,(v-S)/s]),T=[(f-_)/o,(v-S)/s],I=[(-1*f-_)/o,(-1*v-S)/s],A=x(T,I);if(y(T,I)<=-1&&(A=g),y(T,I)>=1&&(A=0),A<0){var M=Math.round(A/g*1e6)/1e6;A=2*g+M%2*g}c.addData(l,C,k,o,s,D,A,d,a)}var w=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,_=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.applyTransform=function(e){},t}(i.ZP);function C(e){return null!=e.setData}function k(e,t){var n=function(e){var t=new a.Z;if(!e)return t;var n,r=0,i=0,o=r,s=i,u=a.Z.CMD,l=e.match(w);if(!l)return t;for(var c=0;c<l.length;c++){for(var d=l[c],f=d.charAt(0),h=void 0,p=d.match(_)||[],m=p.length,g=0;g<m;g++)p[g]=parseFloat(p[g]);for(var v=0;v<m;){var y=void 0,x=void 0,S=void 0,C=void 0,k=void 0,D=void 0,T=void 0,I=r,A=i,M=void 0,E=void 0;switch(f){case"l":r+=p[v++],i+=p[v++],h=u.L,t.addData(h,r,i);break;case"L":r=p[v++],i=p[v++],h=u.L,t.addData(h,r,i);break;case"m":r+=p[v++],i+=p[v++],h=u.M,t.addData(h,r,i),o=r,s=i,f="l";break;case"M":r=p[v++],i=p[v++],h=u.M,t.addData(h,r,i),o=r,s=i,f="L";break;case"h":r+=p[v++],h=u.L,t.addData(h,r,i);break;case"H":r=p[v++],h=u.L,t.addData(h,r,i);break;case"v":i+=p[v++],h=u.L,t.addData(h,r,i);break;case"V":i=p[v++],h=u.L,t.addData(h,r,i);break;case"C":h=u.C,t.addData(h,p[v++],p[v++],p[v++],p[v++],p[v++],p[v++]),r=p[v-2],i=p[v-1];break;case"c":h=u.C,t.addData(h,p[v++]+r,p[v++]+i,p[v++]+r,p[v++]+i,p[v++]+r,p[v++]+i),r+=p[v-2],i+=p[v-1];break;case"S":y=r,x=i,M=t.len(),E=t.data,n===u.C&&(y+=r-E[M-4],x+=i-E[M-3]),h=u.C,I=p[v++],A=p[v++],r=p[v++],i=p[v++],t.addData(h,y,x,I,A,r,i);break;case"s":y=r,x=i,M=t.len(),E=t.data,n===u.C&&(y+=r-E[M-4],x+=i-E[M-3]),h=u.C,I=r+p[v++],A=i+p[v++],r+=p[v++],i+=p[v++],t.addData(h,y,x,I,A,r,i);break;case"Q":I=p[v++],A=p[v++],r=p[v++],i=p[v++],h=u.Q,t.addData(h,I,A,r,i);break;case"q":I=p[v++]+r,A=p[v++]+i,r+=p[v++],i+=p[v++],h=u.Q,t.addData(h,I,A,r,i);break;case"T":y=r,x=i,M=t.len(),E=t.data,n===u.Q&&(y+=r-E[M-4],x+=i-E[M-3]),r=p[v++],i=p[v++],h=u.Q,t.addData(h,y,x,r,i);break;case"t":y=r,x=i,M=t.len(),E=t.data,n===u.Q&&(y+=r-E[M-4],x+=i-E[M-3]),r+=p[v++],i+=p[v++],h=u.Q,t.addData(h,y,x,r,i);break;case"A":S=p[v++],C=p[v++],k=p[v++],D=p[v++],T=p[v++],b(I=r,A=i,r=p[v++],i=p[v++],D,T,S,C,k,h=u.A,t);break;case"a":S=p[v++],C=p[v++],k=p[v++],D=p[v++],T=p[v++],b(I=r,A=i,r+=p[v++],i+=p[v++],D,T,S,C,k,h=u.A,t)}}"z"!==f&&"Z"!==f||(h=u.Z,t.addData(h),r=o,i=s),n=h}return t.toStatic(),t}(e),r=(0,f.extend)({},t);return r.buildPath=function(e){if(C(e)){e.setData(n.data),(t=e.getContext())&&e.rebuildPath(t,1)}else{var t=e;n.rebuildPath(t,1)}},r.applyTransform=function(e){d(n,e),this.dirtyShape()},r}function D(e,t){return new S(k(e,t))}function T(e,t){var n=k(e,t);return function(e){function t(t){var r=e.call(this,t)||this;return r.applyTransform=n.applyTransform,r.buildPath=n.buildPath,r}return(0,r.ZT)(t,e),t}(S)}function I(e,t){for(var n=[],r=e.length,a=0;a<r;a++){var o=e[a];n.push(o.getUpdatedPathProxy(!0))}var s=new i.ZP(t);return s.createPathProxy(),s.buildPath=function(e){if(C(e)){e.appendPath(n);var t=e.getContext();t&&e.rebuildPath(t,1)}},s}function A(e,t){t=t||{};var n=new i.ZP;return e.shape&&n.setShape(e.shape),n.setStyle(e.style),t.bakeTransform?d(n.path,e.getComputedTransform()):t.toLocal?n.setLocalTransform(e.getComputedTransform()):n.copyTransform(e),n.buildPath=e.buildPath,n.applyTransform=n.applyTransform,n.z=e.z,n.z2=e.z2,n.zlevel=e.zlevel,n}},83338:function(e,t,n){"use strict";n.r(t),n.d(t,{dispose:function(){return re},disposeAll:function(){return ie},getInstance:function(){return ae},init:function(){return ne},registerPainter:function(){return oe},version:function(){return se}});var r=n(71118),i=n(76884),a=n(43497),o=n(75784),s=function(e,t){this.target=e,this.topTarget=t&&t.topTarget},u=function(){function e(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new s(t,e),"dragstart",e.event))},e.prototype._drag=function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,r=e.offsetY,i=n-this._x,a=r-this._y;this._x=n,this._y=r,t.drift(i,a,e),this.handler.dispatchToElement(new s(t,e),"drag",e.event);var o=this.handler.findHover(n,r,t).target,u=this._dropTarget;this._dropTarget=o,t!==o&&(u&&o!==u&&this.handler.dispatchToElement(new s(u,e),"dragleave",e.event),o&&o!==u&&this.handler.dispatchToElement(new s(o,e),"dragenter",e.event))}},e.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new s(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new s(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},e}(),l=n(85363),c=n(43100),d=function(){function e(){this._track=[]}return e.prototype.recognize=function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(e,t,n){var r=e.touches;if(r){for(var i={points:[],touches:[],target:t,event:e},a=0,o=r.length;a<o;a++){var s=r[a],u=c.eV(n,s,{});i.points.push([u.zrX,u.zrY]),i.touches.push(s)}this._track.push(i)}},e.prototype._recognize=function(e){for(var t in h)if(h.hasOwnProperty(t)){var n=h[t](this._track,e);if(n)return n}},e}();function f(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}var h={pinch:function(e,t){var n=e.length;if(n){var r,i=(e[n-1]||{}).points,a=(e[n-2]||{}).points||i;if(a&&a.length>1&&i&&i.length>1){var o=f(i)/f(a);!isFinite(o)&&(o=1),t.pinchScale=o;var s=[((r=i)[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2];return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:e[0].target,event:t}}}}},p="silent";function m(){c.sT(this.event)}var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handler=null,t}return(0,a.ZT)(t,e),t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(l.Z),v=function(e,t){this.x=e,this.y=t},y=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],x=function(e){function t(t,n,r,i){var a=e.call(this)||this;return a._hovered=new v(0,0),a.storage=t,a.painter=n,a.painterRoot=i,r=r||new g,a.proxy=null,a.setHandlerProxy(r),a._draggingMgr=new u(a),a}return(0,a.ZT)(t,e),t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(i.each(y,(function(t){e.on&&e.on(t,this[t],this)}),this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var t=e.zrX,n=e.zrY,r=w(this,t,n),i=this._hovered,a=i.target;a&&!a.__zr&&(a=(i=this.findHover(i.x,i.y)).target);var o=this._hovered=r?new v(t,n):this.findHover(t,n),s=o.target,u=this.proxy;u.setCursor&&u.setCursor(s?s.cursor:"default"),a&&s!==a&&this.dispatchToElement(i,"mouseout",e),this.dispatchToElement(o,"mousemove",e),s&&s!==a&&this.dispatchToElement(o,"mouseover",e)},t.prototype.mouseout=function(e){var t=e.zrEventControl;"only_globalout"!==t&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==t&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new v(0,0)},t.prototype.dispatch=function(e,t){var n=this[e];n&&n.call(this,t)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},t.prototype.dispatchToElement=function(e,t,n){var r=(e=e||{}).target;if(!r||!r.silent){for(var i="on"+t,a=function(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:m}}(t,e,n);r&&(r[i]&&(a.cancelBubble=!!r[i].call(r,a)),r.trigger(t,a),r=r.__hostTarget?r.__hostTarget:r.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(t,a),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(e){"function"===typeof e[i]&&e[i].call(e,a),e.trigger&&e.trigger(t,a)})))}},t.prototype.findHover=function(e,t,n){for(var r=this.storage.getDisplayList(),i=new v(e,t),a=r.length-1;a>=0;a--){var o=void 0;if(r[a]!==n&&!r[a].ignore&&(o=b(r[a],e,t))&&(!i.topTarget&&(i.topTarget=r[a]),o!==p)){i.target=r[a];break}}return i},t.prototype.processGesture=function(e,t){this._gestureMgr||(this._gestureMgr=new d);var n=this._gestureMgr;"start"===t&&n.clear();var r=n.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===t&&n.clear(),r){var i=r.type;e.gestureEvent=i;var a=new v;a.target=r.target,this.dispatchToElement(a,i,r.event)}},t}(l.Z);function b(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var r=e,i=void 0,a=!1;r;){if(r.ignoreClip&&(a=!0),!a){var o=r.getClipPath();if(o&&!o.contain(t,n))return!1;r.silent&&(i=!0)}var s=r.__hostTarget;r=s||r.parent}return!i||p}return!1}function w(e,t,n){var r=e.painter;return t<0||t>r.getWidth()||n<0||n>r.getHeight()}i.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(e){x.prototype[e]=function(t){var n,r,i=t.zrX,a=t.zrY,s=w(this,i,a);if("mouseup"===e&&s||(r=(n=this.findHover(i,a)).target),"mousedown"===e)this._downEl=r,this._downPoint=[t.zrX,t.zrY],this._upEl=r;else if("mouseup"===e)this._upEl=r;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||o.dist(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,e,t)}}));var _=x,S=n(8788),C=n(51532),k=!1;function D(){k||(k=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function T(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var I=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=T}return e.prototype.traverse=function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},e.prototype.getDisplayList=function(e,t){t=t||!1;var n=this._displayList;return!e&&n.length||this.updateDisplayList(t),n},e.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,r=0,i=t.length;r<i;r++)this._updateAndAddDisplayable(t[r],null,e);n.length=this._displayListLen,(0,S.Z)(n,T)},e.prototype._updateAndAddDisplayable=function(e,t,n){if(!e.ignore||n){e.beforeUpdate(),e.update(),e.afterUpdate();var r=e.getClipPath();if(e.ignoreClip)t=null;else if(r){t=t?t.slice():[];for(var i=r,a=e;i;)i.parent=a,i.updateTransform(),t.push(i),a=i,i=i.getClipPath()}if(e.childrenRef){for(var o=e.childrenRef(),s=0;s<o.length;s++){var u=o[s];e.__dirty&&(u.__dirty|=C.YV),this._updateAndAddDisplayable(u,t,n)}e.__dirty=0}else{var l=e;t&&t.length?l.__clipPaths=t:l.__clipPaths&&l.__clipPaths.length>0&&(l.__clipPaths=[]),isNaN(l.z)&&(D(),l.z=0),isNaN(l.z2)&&(D(),l.z2=0),isNaN(l.zlevel)&&(D(),l.zlevel=0),this._displayList[this._displayListLen++]=l}var c=e.getDecalElement&&e.getDecalElement();c&&this._updateAndAddDisplayable(c,t,n);var d=e.getTextGuideLine();d&&this._updateAndAddDisplayable(d,t,n);var f=e.getTextContent();f&&this._updateAndAddDisplayable(f,t,n)}},e.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},e.prototype.delRoot=function(e){if(e instanceof Array)for(var t=0,n=e.length;t<n;t++)this.delRoot(e[t]);else{var r=i.indexOf(this._roots,e);r>=0&&this._roots.splice(r,1)}},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}(),A=n(1022),M=n(14963);function E(){return(new Date).getTime()}var N=function(e){function t(t){var n=e.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,t=t||{},n.stage=t.stage||{},n}return(0,a.ZT)(t,e),t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var t=e.getClip();t&&this.addClip(t)},t.prototype.removeClip=function(e){if(e.animation){var t=e.prev,n=e.next;t?t.next=n:this._head=n,n?n.prev=t:this._tail=t,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var t=e.getClip();t&&this.removeClip(t),e.animation=null},t.prototype.update=function(e){for(var t=E()-this._pausedTime,n=t-this._time,r=this._head;r;){var i=r.next;r.step(t,n)?(r.ondestroy(),this.removeClip(r),r=i):r=i}this._time=t,e||(this.trigger("frame",n),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0,(0,A.Z)((function t(){e._running&&((0,A.Z)(t),!e._paused&&e.update())}))},t.prototype.start=function(){this._running||(this._time=E(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=E(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=E()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var t=e.next;e.prev=e.next=e.animation=null,e=t}this._head=this._tail=null},t.prototype.isFinished=function(){return null==this._head},t.prototype.animate=function(e,t){t=t||{},this.start();var n=new M.Z(e,t.loop);return this.addAnimator(n),n},t}(l.Z),R=r.Z.domSupported,P=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};return{mouse:e,touch:["touchstart","touchend","touchmove"],pointer:i.map(e,(function(e){var n=e.replace("mouse","pointer");return t.hasOwnProperty(n)?n:e}))}}(),O=["mousemove","mouseup"],L=["pointermove","pointerup"],F=!1;function Z(e){var t=e.pointerType;return"pen"===t||"touch"===t}function B(e){e&&(e.zrByTouch=!0)}function z(e,t){for(var n=t,r=!1;n&&9!==n.nodeType&&!(r=n.domBelongToZr||n!==t&&n===e.painterRoot);)n=n.parentNode;return r}var V=function(e,t){this.stopPropagation=i.noop,this.stopImmediatePropagation=i.noop,this.preventDefault=i.noop,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY},j={mousedown:function(e){e=(0,c.OD)(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=(0,c.OD)(this.dom,e);var t=this.__mayPointerCapture;!t||e.zrX===t[0]&&e.zrY===t[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=(0,c.OD)(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){z(this,(e=(0,c.OD)(this.dom,e)).toElement||e.relatedTarget)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){F=!0,e=(0,c.OD)(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){F||(e=(0,c.OD)(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){B(e=(0,c.OD)(this.dom,e)),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),j.mousemove.call(this,e),j.mousedown.call(this,e)},touchmove:function(e){B(e=(0,c.OD)(this.dom,e)),this.handler.processGesture(e,"change"),j.mousemove.call(this,e)},touchend:function(e){B(e=(0,c.OD)(this.dom,e)),this.handler.processGesture(e,"end"),j.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<300&&j.click.call(this,e)},pointerdown:function(e){j.mousedown.call(this,e)},pointermove:function(e){Z(e)||j.mousemove.call(this,e)},pointerup:function(e){j.mouseup.call(this,e)},pointerout:function(e){Z(e)||j.mouseout.call(this,e)}};i.each(["click","dblclick","contextmenu"],(function(e){j[e]=function(t){t=(0,c.OD)(this.dom,t),this.trigger(e,t)}}));var W={pointermove:function(e){Z(e)||W.mousemove.call(this,e)},pointerup:function(e){W.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function U(e,t){var n=t.domHandlers;r.Z.pointerEventsSupported?i.each(P.pointer,(function(r){G(t,r,(function(t){n[r].call(e,t)}))})):(r.Z.touchEventsSupported&&i.each(P.touch,(function(r){G(t,r,(function(i){n[r].call(e,i),function(e){e.touching=!0,null!=e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout((function(){e.touching=!1,e.touchTimer=null}),700)}(t)}))})),i.each(P.mouse,(function(r){G(t,r,(function(i){i=(0,c.iP)(i),t.touching||n[r].call(e,i)}))})))}function H(e,t){function n(n){G(t,n,(function(r){r=(0,c.iP)(r),z(e,r.target)||(r=function(e,t){return(0,c.OD)(e.dom,new V(e,t),!0)}(e,r),t.domHandlers[n].call(e,r))}),{capture:!0})}r.Z.pointerEventsSupported?i.each(L,n):r.Z.touchEventsSupported||i.each(O,n)}function G(e,t,n,r){e.mounted[t]=n,e.listenerOpts[t]=r,(0,c.Oo)(e.domTarget,t,n,r)}function X(e){var t=e.mounted;for(var n in t)t.hasOwnProperty(n)&&(0,c.xg)(e.domTarget,n,t[n],e.listenerOpts[n]);e.mounted={}}var q=function(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t},Y=function(e){function t(t,n){var r=e.call(this)||this;return r.__pointerCapturing=!1,r.dom=t,r.painterRoot=n,r._localHandlerScope=new q(t,j),R&&(r._globalHandlerScope=new q(document,W)),U(r,r._localHandlerScope),r}return(0,a.ZT)(t,e),t.prototype.dispose=function(){X(this._localHandlerScope),R&&X(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,R&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var t=this._globalHandlerScope;e?H(this,t):X(t)}},t}(l.Z),K=n(35561),Q=n(37706),J=n(94060),$={},ee={};var te=function(){function e(e,t,n){var a=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=t,this.id=e;var o=new I,s=n.renderer||"canvas";$[s]||(s=i.keys($)[0]),n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect;var u=new $[s](t,o,n,e),l=n.ssr||u.ssrOnly;this.storage=o,this.painter=u;var c=r.Z.node||r.Z.worker||l?null:new Y(u.getViewportRoot(),u.root);this.handler=new _(o,u,c,u.root),this.animation=new N({stage:{update:l?null:function(){return a._flush(!0)}}}),l||this.animation.start()}return e.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},e.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh()},e.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=function(e){if(!e)return!1;if("string"===typeof e)return(0,K.lum)(e,1)<Q.Ak;if(e.colorStops){for(var t=e.colorStops,n=0,r=t.length,i=0;i<r;i++)n+=(0,K.lum)(t[i].color,1);return(n/=r)<Q.Ak}return!1}(e)},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(e){this._darkMode=e},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},e.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},e.prototype.flush=function(){this._flush(!1)},e.prototype._flush=function(e){var t,n=E();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var r=E();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},e.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},e.prototype.resize=function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},e.prototype.clearAnimation=function(){this.animation.clear()},e.prototype.getWidth=function(){return this.painter.getWidth()},e.prototype.getHeight=function(){return this.painter.getHeight()},e.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},e.prototype.findHover=function(e,t){return this.handler.findHover(e,t)},e.prototype.on=function(e,t,n){return this.handler.on(e,t,n),this},e.prototype.off=function(e,t){this.handler.off(e,t)},e.prototype.trigger=function(e,t){this.handler.trigger(e,t)},e.prototype.clear=function(){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof J.Z&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},e.prototype.dispose=function(){var e;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,e=this.id,delete ee[e]},e}();function ne(e,t){var n=new te(i.guid(),e,t);return ee[n.id]=n,n}function re(e){e.dispose()}function ie(){for(var e in ee)ee.hasOwnProperty(e)&&ee[e].dispose();ee={}}function ae(e){return ee[e]}function oe(e,t){$[e]=t}var se="5.3.0"},43497:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;Object.create},50914:function(){},75410:function(){},48628:function(){},55778:function(){},31601:function(){},67792:function(){},34977:function(){},75042:function(){},30907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},83878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},97326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},15861:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},15671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},43144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},37762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(40181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}},27277:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(61120),i=n(78814),a=n(71002),o=n(97326);function s(e,t){if(t&&("object"===(0,a.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}function u(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return s(this,n)}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},87462:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},61120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},60136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(89611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},78814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},59199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},25267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},63366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},89611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},29439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(83878);var i=n(40181),a=n(25267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},84506:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(83878),i=n(59199),a=n(40181),o=n(25267);function s(e){return(0,r.Z)(e)||(0,i.Z)(e)||(0,a.Z)(e)||(0,o.Z)()}},93433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(30907);var i=n(59199),a=n(40181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},71002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},40181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(30907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".f258fc4e.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="soothsayer-wizard-feature:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/soothsayer-wizard-feature-deploy/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunksoothsayer_wizard_feature=self.webpackChunksoothsayer_wizard_feature||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(72791),t=n.t(e,2),r=n(1250);n.p;var i=n(87462),a=n(68023),o=n(29598),s="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",u=n(80184);var l=function(t){var n=t.children,r=t.theme,l=(0,o.Z)(),c=e.useMemo((function(){var e=null===l?r:function(e,t){return"function"===typeof t?t(e):(0,i.Z)({},e,t)}(l,r);return null!=e&&(e[s]=null!==l),e}),[r,l]);return(0,u.jsx)(a.Z.Provider,{value:c,children:n})},c=n(61688),d=n(30418);function f(e){var t=(0,d.Z)();return(0,u.jsx)(c.T.Provider,{value:"object"===typeof t?t:{},children:e.children})}var h=function(e){var t=e.children,n=e.theme;return(0,u.jsx)(l,{theme:n,children:(0,u.jsx)(f,{children:t})})},p=n(61979),m=((0,p.Z)({palette:{mode:"light",primary:{main:"#004f96"},secondary:{main:"#51b4ec"},error:{main:"#f04461"},warning:{main:"#ff9800"},info:{main:"#f2f2f2"},success:{main:"#4caf50"},background:{default:"#f2f2f2",paper:"#f2f2f2"}},typography:{fontSize:15,h1:{fontSize:40},h2:{fontSize:30}}}),(0,p.Z)({palette:{mode:"dark",primary:{main:"#51b4ec"},secondary:{main:"#51b4ec"},error:{main:"#f04461"},warning:{main:"#ff9800"},info:{main:"#242f39"},success:{main:"#4caf50"},background:{default:"#000a14",paper:"#222d37"}},typography:{fontSize:15,h1:{fontSize:40},h2:{fontSize:30}}})),g=n(29439),v=n(4942);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,v.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=n(47630),w=n(36482);function _(){return(0,d.Z)(w.Z)}var S=n(63366),C=n(28182),k=n(80594),D=n(60104),T=n(93433),I=n(82466),A=n(46001),M=["sx"];function E(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){A.Gc[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}((0,S.Z)(e,M)),a=r.systemProps,o=r.otherProps;return t=Array.isArray(n)?[a].concat((0,T.Z)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return(0,I.P)(e)?(0,i.Z)({},a,e):a}:(0,i.Z)({},a,n),(0,i.Z)({},o,{sx:t})}var N=["className","component"];var R=n(55902),P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.defaultTheme,r=t.defaultClassName,a=void 0===r?"MuiBox-root":r,o=t.generateClassName,s=t.styleFunctionSx,l=void 0===s?D.Z:s,c=(0,k.ZP)("div")(l),f=e.forwardRef((function(e,t){var r=(0,d.Z)(n),s=E(e),l=s.className,f=s.component,h=void 0===f?"div":f,p=(0,S.Z)(s,N);return(0,u.jsx)(c,(0,i.Z)({as:h,ref:t,className:(0,C.Z)(l,o?o(a):a),theme:r},p))}));return f}({defaultTheme:(0,p.Z)(),defaultClassName:"MuiBox-root",generateClassName:R.Z.generate}),O=P,L=n(94419);var F=function(e){return"string"===typeof e},Z=n(47563),B=n(99723),z=n(58956),V=n(78949),j=n(54164),W=n(75721),U=n(62971);var H=e.forwardRef((function(t,n){var r=t.children,i=t.container,a=t.disablePortal,o=void 0!==a&&a,s=e.useState(null),u=(0,g.Z)(s,2),l=u[0],c=u[1],d=(0,Z.Z)(e.isValidElement(r)?r.ref:null,n);return(0,W.Z)((function(){o||c(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),(0,W.Z)((function(){if(l&&!o)return(0,U.Z)(n,l),function(){(0,U.Z)(n,null)}}),[n,l,o]),o?e.isValidElement(r)?e.cloneElement(r,{ref:d}):r:l?j.createPortal(r,l):l})),G=n(15671),X=n(43144),q=n(27979);function Y(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function K(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Q(e){return parseInt((0,q.Z)(e).getComputedStyle(e).paddingRight,10)||0}function J(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat((0,T.Z)(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&K(e,i)}))}function $(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function ee(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,B.Z)(e);return t.body===e?(0,q.Z)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=Y((0,B.Z)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(Q(r)+i,"px");var a=(0,B.Z)(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(Q(e)+i,"px")}))}var o=r.parentElement,s=(0,q.Z)(r),u="HTML"===(null==o?void 0:o.nodeName)&&"scroll"===s.getComputedStyle(o).overflowY?o:r;n.push({value:u.style.overflow,property:"overflow",el:u},{value:u.style.overflowX,property:"overflow-x",el:u},{value:u.style.overflowY,property:"overflow-y",el:u}),u.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var te=function(){function e(){(0,G.Z)(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return(0,X.Z)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&K(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);J(t,e.mount,e.modalRef,r,!0);var i=$(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=$(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=ee(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=$(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&K(e.modalRef,!0),J(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&K(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),ne=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function re(e){var t=[],n=[];return Array.from(e.querySelectorAll(ne)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function ie(){return!0}var ae=function(t){var n=t.children,r=t.disableAutoFocus,i=void 0!==r&&r,a=t.disableEnforceFocus,o=void 0!==a&&a,s=t.disableRestoreFocus,l=void 0!==s&&s,c=t.getTabbable,d=void 0===c?re:c,f=t.isEnabled,h=void 0===f?ie:f,p=t.open,m=e.useRef(),g=e.useRef(null),v=e.useRef(null),y=e.useRef(null),x=e.useRef(null),b=e.useRef(!1),w=e.useRef(null),_=(0,Z.Z)(n.ref,w),S=e.useRef(null);e.useEffect((function(){p&&w.current&&(b.current=!i)}),[i,p]),e.useEffect((function(){if(p&&w.current){var e=(0,B.Z)(w.current);return w.current.contains(e.activeElement)||(w.current.hasAttribute("tabIndex")||w.current.setAttribute("tabIndex",-1),b.current&&w.current.focus()),function(){l||(y.current&&y.current.focus&&(m.current=!0,y.current.focus()),y.current=null)}}}),[p]),e.useEffect((function(){if(p&&w.current){var e=(0,B.Z)(w.current),t=function(t){var n=w.current;if(null!==n)if(e.hasFocus()&&!o&&h()&&!m.current){if(!n.contains(e.activeElement)){if(t&&x.current!==t.target||e.activeElement!==x.current)x.current=null;else if(null!==x.current)return;if(!b.current)return;var r=[];if(e.activeElement!==g.current&&e.activeElement!==v.current||(r=d(w.current)),r.length>0){var i,a,s=Boolean((null==(i=S.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=S.current)?void 0:a.key)),u=r[0],l=r[r.length-1];s?l.focus():u.focus()}else n.focus()}}else m.current=!1},n=function(t){S.current=t,!o&&h()&&"Tab"===t.key&&e.activeElement===w.current&&t.shiftKey&&(m.current=!0,v.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[i,o,l,h,p,d]);var C=function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0};return(0,u.jsxs)(e.Fragment,{children:[(0,u.jsx)("div",{tabIndex:0,onFocus:C,ref:g,"data-test":"sentinelStart"}),e.cloneElement(n,{ref:_,onFocus:function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0,x.current=e.target;var t=n.props.onFocus;t&&t(e)}}),(0,u.jsx)("div",{tabIndex:0,onFocus:C,ref:v,"data-test":"sentinelEnd"})]})},oe=n(75878),se=n(21217);function ue(e){return(0,se.Z)("MuiModal",e)}(0,oe.Z)("MuiModal",["root","hidden"]);var le=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"];var ce=new te,de=e.forwardRef((function(t,n){var r=t.BackdropComponent,a=t.BackdropProps,o=t.children,s=t.classes,l=t.className,c=t.closeAfterTransition,d=void 0!==c&&c,f=t.component,h=void 0===f?"div":f,p=t.components,m=void 0===p?{}:p,v=t.componentsProps,y=void 0===v?{}:v,x=t.container,b=t.disableAutoFocus,w=void 0!==b&&b,_=t.disableEnforceFocus,k=void 0!==_&&_,D=t.disableEscapeKeyDown,T=void 0!==D&&D,I=t.disablePortal,A=void 0!==I&&I,M=t.disableRestoreFocus,E=void 0!==M&&M,N=t.disableScrollLock,R=void 0!==N&&N,P=t.hideBackdrop,O=void 0!==P&&P,j=t.keepMounted,W=void 0!==j&&j,U=t.manager,G=void 0===U?ce:U,X=t.onBackdropClick,q=t.onClose,Y=t.onKeyDown,Q=t.open,J=t.theme,$=t.onTransitionEnter,ee=t.onTransitionExited,te=(0,S.Z)(t,le),ne=e.useState(!0),re=(0,g.Z)(ne,2),ie=re[0],oe=re[1],se=e.useRef({}),de=e.useRef(null),fe=e.useRef(null),he=(0,Z.Z)(fe,n),pe=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(t),me=function(){return se.current.modalRef=fe.current,se.current.mountNode=de.current,se.current},ge=function(){G.mount(me(),{disableScrollLock:R}),fe.current.scrollTop=0},ve=(0,z.Z)((function(){var e=function(e){return"function"===typeof e?e():e}(x)||(0,B.Z)(de.current).body;G.add(me(),e),fe.current&&ge()})),ye=e.useCallback((function(){return G.isTopModal(me())}),[G]),xe=(0,z.Z)((function(e){de.current=e,e&&(Q&&ye()?ge():K(fe.current,!0))})),be=e.useCallback((function(){G.remove(me())}),[G]);e.useEffect((function(){return function(){be()}}),[be]),e.useEffect((function(){Q?ve():pe&&d||be()}),[Q,be,pe,d,ve]);var we=(0,i.Z)({},t,{classes:s,closeAfterTransition:d,disableAutoFocus:w,disableEnforceFocus:k,disableEscapeKeyDown:T,disablePortal:A,disableRestoreFocus:E,disableScrollLock:R,exited:ie,hideBackdrop:O,keepMounted:W}),_e=function(e){var t=e.open,n=e.exited,r=e.classes,i={root:["root",!t&&n&&"hidden"]};return(0,L.Z)(i,ue,r)}(we);if(!W&&!Q&&(!pe||ie))return null;var Se={};void 0===o.props.tabIndex&&(Se.tabIndex="-1"),pe&&(Se.onEnter=(0,V.Z)((function(){oe(!1),$&&$()}),o.props.onEnter),Se.onExited=(0,V.Z)((function(){oe(!0),ee&&ee(),d&&be()}),o.props.onExited));var Ce=m.Root||h,ke=y.root||{};return(0,u.jsx)(H,{ref:xe,container:x,disablePortal:A,children:(0,u.jsxs)(Ce,(0,i.Z)({role:"presentation"},ke,!F(Ce)&&{as:h,ownerState:(0,i.Z)({},we,ke.ownerState),theme:J},te,{ref:he,onKeyDown:function(e){Y&&Y(e),"Escape"===e.key&&ye()&&(T||(e.stopPropagation(),q&&q(e,"escapeKeyDown")))},className:(0,C.Z)(_e.root,ke.className,l),children:[!O&&r?(0,u.jsx)(r,(0,i.Z)({"aria-hidden":!0,open:Q,onClick:function(e){e.target===e.currentTarget&&(X&&X(e),q&&q(e,"backdropClick"))}},a)):null,(0,u.jsx)(ae,{disableEnforceFocus:k,disableAutoFocus:w,disableRestoreFocus:E,isEnabled:ye,open:Q,children:e.cloneElement(o,Se)})]}))})})),fe=n(61046),he=n(89611);function pe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,he.Z)(e,t)}var me=!1,ge=e.createContext(null),ve="unmounted",ye="exited",xe="entering",be="entered",we="exiting",_e=function(t){function n(e,n){var r;r=t.call(this,e,n)||this;var i,a=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(i=ye,r.appearStatus=xe):i=be:i=e.unmountOnExit||e.mountOnEnter?ve:ye,r.state={status:i},r.nextCallback=null,r}pe(n,t),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===ve?{status:ye}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==xe&&n!==be&&(t=xe):n!==xe&&n!==be||(t=we)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===xe?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===ye&&this.setState({status:ve})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[j.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||me?this.safeSetState({status:be},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:xe},(function(){t.props.onEntering(a,o),t.onTransitionEnd(u,(function(){t.safeSetState({status:be},(function(){t.props.onEntered(a,o)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:j.findDOMNode(this);t&&!me?(this.props.onExit(r),this.safeSetState({status:we},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:ye},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:ye},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:j.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var t=this.state.status;if(t===ve)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,S.Z)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(ge.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},n}(e.Component);function Se(){}_e.contextType=ge,_e.propTypes={},_e.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Se,onEntering:Se,onEntered:Se,onExit:Se,onExiting:Se,onExited:Se},_e.UNMOUNTED=ve,_e.EXITED=ye,_e.ENTERING=xe,_e.ENTERED=be,_e.EXITING=we;var Ce=_e,ke=function(e){return e.scrollTop};function De(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,s=void 0===o?{}:o;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:s.transitionDelay}}var Te=n(42071),Ie=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Ae={entering:{opacity:1},entered:{opacity:1}},Me=e.forwardRef((function(t,n){var r=_(),a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},o=t.addEndListener,s=t.appear,l=void 0===s||s,c=t.children,d=t.easing,f=t.in,h=t.onEnter,p=t.onEntered,m=t.onEntering,g=t.onExit,v=t.onExited,y=t.onExiting,x=t.style,b=t.timeout,w=void 0===b?a:b,C=t.TransitionComponent,k=void 0===C?Ce:C,D=(0,S.Z)(t,Ie),T=e.useRef(null),I=(0,Te.Z)(c.ref,n),A=(0,Te.Z)(T,I),M=function(e){return function(t){if(e){var n=T.current;void 0===t?e(n):e(n,t)}}},E=M(m),N=M((function(e,t){ke(e);var n=De({style:x,timeout:w,easing:d},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),h&&h(e,t)})),R=M(p),P=M(y),O=M((function(e){var t=De({style:x,timeout:w,easing:d},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),g&&g(e)})),L=M(v);return(0,u.jsx)(k,(0,i.Z)({appear:l,in:f,nodeRef:T,onEnter:N,onEntered:R,onEntering:E,onExit:O,onExited:L,onExiting:P,addEndListener:function(e){o&&o(T.current,e)},timeout:w},D,{children:function(t,n){return e.cloneElement(c,(0,i.Z)({style:(0,i.Z)({opacity:0,visibility:"exited"!==t||f?void 0:"hidden"},Ae[t],x,c.props.style),ref:A},n))}}))})),Ee=Me;function Ne(e){return(0,se.Z)("MuiBackdrop",e)}(0,oe.Z)("MuiBackdrop",["root","invisible"]);var Re=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],Pe=(0,b.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){var t=e.ownerState;return(0,i.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),Oe=e.forwardRef((function(e,t){var n,r,a=(0,fe.Z)({props:e,name:"MuiBackdrop"}),o=a.children,s=a.component,l=void 0===s?"div":s,c=a.components,d=void 0===c?{}:c,f=a.componentsProps,h=void 0===f?{}:f,p=a.className,m=a.invisible,g=void 0!==m&&m,v=a.open,y=a.transitionDuration,x=a.TransitionComponent,b=void 0===x?Ee:x,w=(0,S.Z)(a,Re),_=(0,i.Z)({},a,{component:l,invisible:g}),k=function(e){var t=e.classes,n={root:["root",e.invisible&&"invisible"]};return(0,L.Z)(n,Ne,t)}(_);return(0,u.jsx)(b,(0,i.Z)({in:v,timeout:y},w,{children:(0,u.jsx)(Pe,{"aria-hidden":!0,as:null!=(n=d.Root)?n:l,className:(0,C.Z)(k.root,p),ownerState:(0,i.Z)({},_,null==(r=h.root)?void 0:r.ownerState),classes:k,ref:t,children:o})}))})),Le=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],Fe=(0,b.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),Ze=(0,b.ZP)(Oe,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),Be=e.forwardRef((function(t,n){var r,a=(0,fe.Z)({name:"MuiModal",props:t}),o=a.BackdropComponent,s=void 0===o?Ze:o,l=a.closeAfterTransition,c=void 0!==l&&l,d=a.children,f=a.components,h=void 0===f?{}:f,p=a.componentsProps,m=void 0===p?{}:p,v=a.disableAutoFocus,y=void 0!==v&&v,x=a.disableEnforceFocus,b=void 0!==x&&x,w=a.disableEscapeKeyDown,_=void 0!==w&&w,C=a.disablePortal,k=void 0!==C&&C,D=a.disableRestoreFocus,T=void 0!==D&&D,I=a.disableScrollLock,A=void 0!==I&&I,M=a.hideBackdrop,E=void 0!==M&&M,N=a.keepMounted,R=void 0!==N&&N,P=(0,S.Z)(a,Le),O=e.useState(!0),L=(0,g.Z)(O,2),Z=L[0],B=L[1],z={closeAfterTransition:c,disableAutoFocus:y,disableEnforceFocus:b,disableEscapeKeyDown:_,disablePortal:k,disableRestoreFocus:T,disableScrollLock:A,hideBackdrop:E,keepMounted:R},V=function(e){return e.classes}((0,i.Z)({},a,z,{exited:Z}));return(0,u.jsx)(de,(0,i.Z)({components:(0,i.Z)({Root:Fe},h),componentsProps:{root:(0,i.Z)({},m.root,(!h.Root||!F(h.Root))&&{ownerState:(0,i.Z)({},null==(r=m.root)?void 0:r.ownerState)})},BackdropComponent:s,onTransitionEnter:function(){return B(!1)},onTransitionExited:function(){return B(!0)},ref:n},P,{classes:V},z,{children:d}))})),ze=n(83199),Ve=n(17602),je=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function We(e,t,n){var r,i=function(e,t,n){var r,i=t.getBoundingClientRect(),a=n&&n.getBoundingClientRect(),o=(0,Ve.Z)(t);if(t.fakeTransform)r=t.fakeTransform;else{var s=o.getComputedStyle(t);r=s.getPropertyValue("-webkit-transform")||s.getPropertyValue("transform")}var u=0,l=0;if(r&&"none"!==r&&"string"===typeof r){var c=r.split("(")[1].split(")")[0].split(",");u=parseInt(c[4],10),l=parseInt(c[5],10)}return"left"===e?"translateX(".concat(a?a.right+u-i.left:o.innerWidth+u-i.left,"px)"):"right"===e?"translateX(-".concat(a?i.right-a.left-u:i.left+i.width-u,"px)"):"up"===e?"translateY(".concat(a?a.bottom+l-i.top:o.innerHeight+l-i.top,"px)"):"translateY(-".concat(a?i.top-a.top+i.height-l:i.top+i.height-l,"px)")}(e,t,"function"===typeof(r=n)?r():r);i&&(t.style.webkitTransform=i,t.style.transform=i)}var Ue=e.forwardRef((function(t,n){var r=_(),a={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},s=t.addEndListener,l=t.appear,c=void 0===l||l,d=t.children,f=t.container,h=t.direction,p=void 0===h?"down":h,m=t.easing,g=void 0===m?a:m,v=t.in,y=t.onEnter,x=t.onEntered,b=t.onEntering,w=t.onExit,C=t.onExited,k=t.onExiting,D=t.style,T=t.timeout,I=void 0===T?o:T,A=t.TransitionComponent,M=void 0===A?Ce:A,E=(0,S.Z)(t,je),N=e.useRef(null),R=(0,Te.Z)(d.ref,N),P=(0,Te.Z)(R,n),O=function(e){return function(t){e&&(void 0===t?e(N.current):e(N.current,t))}},L=O((function(e,t){We(p,e,f),ke(e),y&&y(e,t)})),F=O((function(e,t){var n=De({timeout:I,style:D,easing:g},{mode:"enter"});e.style.webkitTransition=r.transitions.create("-webkit-transform",(0,i.Z)({},n)),e.style.transition=r.transitions.create("transform",(0,i.Z)({},n)),e.style.webkitTransform="none",e.style.transform="none",b&&b(e,t)})),Z=O(x),B=O(k),z=O((function(e){var t=De({timeout:I,style:D,easing:g},{mode:"exit"});e.style.webkitTransition=r.transitions.create("-webkit-transform",t),e.style.transition=r.transitions.create("transform",t),We(p,e,f),w&&w(e)})),V=O((function(e){e.style.webkitTransition="",e.style.transition="",C&&C(e)})),j=e.useCallback((function(){N.current&&We(p,N.current,f)}),[p,f]);return e.useEffect((function(){if(!v&&"down"!==p&&"right"!==p){var e=(0,ze.Z)((function(){N.current&&We(p,N.current,f)})),t=(0,Ve.Z)(N.current);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[p,v,f]),e.useEffect((function(){v||j()}),[v,j]),(0,u.jsx)(M,(0,i.Z)({nodeRef:N,onEnter:L,onEntered:Z,onEntering:F,onExit:z,onExited:V,onExiting:B,addEndListener:function(e){s&&s(N.current,e)},appear:c,in:v,timeout:I},E,{children:function(t,n){return e.cloneElement(d,(0,i.Z)({ref:P,style:(0,i.Z)({visibility:"exited"!==t||v?void 0:"hidden"},D,d.props.style)},n))}}))})),He=Ue,Ge=n(12065);function Xe(e){return(0,se.Z)("MuiPaper",e)}(0,oe.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var qe=["className","component","elevation","square","variant"],Ye=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},Ke=(0,b.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat(t.palette.divider)},"elevation"===n.variant&&(0,i.Z)({boxShadow:t.shadows[n.elevation]},"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,Ge.Fq)("#fff",Ye(n.elevation)),", ").concat((0,Ge.Fq)("#fff",Ye(n.elevation)),")")}))})),Qe=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiPaper"}),r=n.className,a=n.component,o=void 0===a?"div":a,s=n.elevation,l=void 0===s?1:s,c=n.square,d=void 0!==c&&c,f=n.variant,h=void 0===f?"elevation":f,p=(0,S.Z)(n,qe),m=(0,i.Z)({},n,{component:o,elevation:l,square:d,variant:h}),g=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes,a={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return(0,L.Z)(a,Xe,i)}(m);return(0,u.jsx)(Ke,(0,i.Z)({as:o,ownerState:m,className:(0,C.Z)(g.root,r),ref:t},p))})),Je=n(14036);function $e(e){return(0,se.Z)("MuiDrawer",e)}(0,oe.Z)("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);var et=["BackdropProps"],tt=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],nt=function(e,t){var n=e.ownerState;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},rt=(0,b.ZP)(Be,{name:"MuiDrawer",slot:"Root",overridesResolver:nt})((function(e){var t=e.theme;return{zIndex:(t.vars||t).zIndex.drawer}})),it=(0,b.ZP)("div",{shouldForwardProp:b.FO,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:nt})({flex:"0 0 auto"}),at=(0,b.ZP)(Qe,{name:"MuiDrawer",slot:"Paper",overridesResolver:function(e,t){var n=e.ownerState;return[t.paper,t["paperAnchor".concat((0,Je.Z)(n.anchor))],"temporary"!==n.variant&&t["paperAnchorDocked".concat((0,Je.Z)(n.anchor))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===n.anchor&&{left:0},"top"===n.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===n.anchor&&{right:0},"bottom"===n.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===n.anchor&&"temporary"!==n.variant&&{borderRight:"1px solid ".concat((t.vars||t).palette.divider)},"top"===n.anchor&&"temporary"!==n.variant&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider)},"right"===n.anchor&&"temporary"!==n.variant&&{borderLeft:"1px solid ".concat((t.vars||t).palette.divider)},"bottom"===n.anchor&&"temporary"!==n.variant&&{borderTop:"1px solid ".concat((t.vars||t).palette.divider)})})),ot={left:"right",right:"left",top:"down",bottom:"up"};var st=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiDrawer"}),a=_(),o={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},s=r.anchor,l=void 0===s?"left":s,c=r.BackdropProps,d=r.children,f=r.className,h=r.elevation,p=void 0===h?16:h,m=r.hideBackdrop,g=void 0!==m&&m,v=r.ModalProps,y=(v=void 0===v?{}:v).BackdropProps,x=r.onClose,b=r.open,w=void 0!==b&&b,k=r.PaperProps,D=void 0===k?{}:k,T=r.SlideProps,I=r.TransitionComponent,A=void 0===I?He:I,M=r.transitionDuration,E=void 0===M?o:M,N=r.variant,R=void 0===N?"temporary":N,P=(0,S.Z)(r.ModalProps,et),O=(0,S.Z)(r,tt),F=e.useRef(!1);e.useEffect((function(){F.current=!0}),[]);var Z=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?ot[t]:t}(a,l),B=l,z=(0,i.Z)({},r,{anchor:B,elevation:p,open:w,variant:R},O),V=function(e){var t=e.classes,n=e.anchor,r=e.variant,i={root:["root"],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat((0,Je.Z)(n)),"temporary"!==r&&"paperAnchorDocked".concat((0,Je.Z)(n))]};return(0,L.Z)(i,$e,t)}(z),j=(0,u.jsx)(at,(0,i.Z)({elevation:"temporary"===R?p:0,square:!0},D,{className:(0,C.Z)(V.paper,D.className),ownerState:z,children:d}));if("permanent"===R)return(0,u.jsx)(it,(0,i.Z)({className:(0,C.Z)(V.root,V.docked,f),ownerState:z,ref:n},O,{children:j}));var W=(0,u.jsx)(A,(0,i.Z)({in:w,direction:ot[Z],timeout:E,appear:F.current},T,{children:j}));return"persistent"===R?(0,u.jsx)(it,(0,i.Z)({className:(0,C.Z)(V.root,V.docked,f),ownerState:z,ref:n},O,{children:W})):(0,u.jsx)(rt,(0,i.Z)({BackdropProps:(0,i.Z)({},c,y,{transitionDuration:E}),className:(0,C.Z)(V.root,V.modal,f),open:w,ownerState:z,onClose:x,hideBackdrop:g,ref:n},O,P,{children:W}))}));function ut(e){return(0,se.Z)("MuiAppBar",e)}(0,oe.Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var lt=["className","color","enableColorOnDark","position"],ct=(0,b.ZP)(Qe,{name:"MuiAppBar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["position".concat((0,Je.Z)(n.position))],t["color".concat((0,Je.Z)(n.color))]]}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,i.Z)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&(0,i.Z)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"}))})),dt=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiAppBar"}),r=n.className,a=n.color,o=void 0===a?"primary":a,s=n.enableColorOnDark,l=void 0!==s&&s,c=n.position,d=void 0===c?"fixed":c,f=(0,S.Z)(n,lt),h=(0,i.Z)({},n,{color:o,position:d,enableColorOnDark:l}),p=function(e){var t=e.color,n=e.position,r=e.classes,i={root:["root","color".concat((0,Je.Z)(t)),"position".concat((0,Je.Z)(n))]};return(0,L.Z)(i,ut,r)}(h);return(0,u.jsx)(ct,(0,i.Z)({square:!0,component:"header",ownerState:h,elevation:4,className:(0,C.Z)(p.root,r,"fixed"===d&&"mui-fixed"),ref:t},f))})),ft=dt;function ht(e){return(0,se.Z)("MuiToolbar",e)}(0,oe.Z)("MuiToolbar",["root","gutters","regular","dense"]);var pt=["className","component","disableGutters","variant"],mt=(0,b.ZP)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&(0,v.Z)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),"dense"===n.variant&&{minHeight:48})}),(function(e){var t=e.theme;return"regular"===e.ownerState.variant&&t.mixins.toolbar})),gt=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiToolbar"}),r=n.className,a=n.component,o=void 0===a?"div":a,s=n.disableGutters,l=void 0!==s&&s,c=n.variant,d=void 0===c?"regular":c,f=(0,S.Z)(n,pt),h=(0,i.Z)({},n,{component:o,disableGutters:l,variant:d}),p=function(e){var t=e.classes,n={root:["root",!e.disableGutters&&"gutters",e.variant]};return(0,L.Z)(n,ht,t)}(h);return(0,u.jsx)(mt,(0,i.Z)({as:o,className:(0,C.Z)(p.root,r),ref:t,ownerState:h},f))}));var vt=e.createContext({});function yt(e){return(0,se.Z)("MuiList",e)}(0,oe.Z)("MuiList",["root","padding","dense","subheader"]);var xt=["children","className","component","dense","disablePadding","subheader"],bt=(0,b.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return(0,i.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),wt=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiList"}),a=r.children,o=r.className,s=r.component,l=void 0===s?"ul":s,c=r.dense,d=void 0!==c&&c,f=r.disablePadding,h=void 0!==f&&f,p=r.subheader,m=(0,S.Z)(r,xt),g=e.useMemo((function(){return{dense:d}}),[d]),v=(0,i.Z)({},r,{component:l,dense:d,disablePadding:h}),y=function(e){var t=e.classes,n={root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]};return(0,L.Z)(n,yt,t)}(v);return(0,u.jsx)(vt.Provider,{value:g,children:(0,u.jsxs)(bt,(0,i.Z)({as:l,className:(0,C.Z)(y.root,o),ref:n,ownerState:v},m,{children:[p,a]}))})})),_t=(n(30076),n(62110),n(95438)),St=n(51346),Ct=t.useInsertionEffect?t.useInsertionEffect:e.useLayoutEffect,kt=(0,c.w)((function(t,n){var r=t.styles,i=(0,St.O)([r],void 0,(0,e.useContext)(c.T)),a=(0,e.useRef)();return Ct((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),a.current=[t,r],function(){t.flush()}}),[n]),Ct((function(){var e=a.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&(0,_t.My)(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function Dt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,St.O)(t)}var Tt=function(){var e=Dt.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function It(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,u.jsx)(kt,{styles:i})}var At=function(e){return(0,u.jsx)(It,(0,i.Z)({},e,{defaultTheme:w.Z}))},Mt=function(e,t){return(0,i.Z)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&{colorScheme:e.palette.mode})},Et=function(e){return(0,i.Z)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}})};var Nt=function(t){var n=(0,fe.Z)({props:t,name:"MuiCssBaseline"}),r=n.children,a=n.enableColorScheme,o=void 0!==a&&a;return(0,u.jsxs)(e.Fragment,{children:[(0,u.jsx)(At,{styles:function(e){return function(e){var t,n,r={html:Mt(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,i.Z)({margin:0},Et(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},a=null==(t=e.components)||null==(n=t.MuiCssBaseline)?void 0:n.styleOverrides;return a&&(r=[r,a]),r}(e,o)}}),r]})};function Rt(e){return(0,se.Z)("MuiTypography",e)}(0,oe.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var Pt=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Ot=(0,b.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,Je.Z)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),Lt={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ft={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Zt=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiTypography"}),r=function(e){return Ft[e]||e}(n.color),a=E((0,i.Z)({},n,{color:r})),o=a.align,s=void 0===o?"inherit":o,l=a.className,c=a.component,d=a.gutterBottom,f=void 0!==d&&d,h=a.noWrap,p=void 0!==h&&h,m=a.paragraph,g=void 0!==m&&m,v=a.variant,y=void 0===v?"body1":v,x=a.variantMapping,b=void 0===x?Lt:x,w=(0,S.Z)(a,Pt),_=(0,i.Z)({},a,{align:s,color:r,className:l,component:c,gutterBottom:f,noWrap:p,paragraph:g,variant:y,variantMapping:b}),k=c||(g?"p":b[y]||Lt[y])||"span",D=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes,s={root:["root",a,"inherit"!==e.align&&"align".concat((0,Je.Z)(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,L.Z)(s,Rt,o)}(_);return(0,u.jsx)(Ot,(0,i.Z)({as:k,ref:t,ownerState:_,className:(0,C.Z)(D.root,l)},w))})),Bt=Zt;function zt(e){return(0,se.Z)("MuiDivider",e)}var Vt=(0,oe.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),jt=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Wt=(0,b.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,Ge.Fq)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})}),(function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({},n.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),top:"50%",content:'""',transform:"translateY(50%)"}})}),(function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:"thin solid ".concat((t.vars||t).palette.divider),transform:"translateX(0%)"}})}),(function(e){var t=e.ownerState;return(0,i.Z)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),Ut=(0,b.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:function(e,t){var n=e.ownerState;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===n.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})})),Ht=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiDivider"}),r=n.absolute,a=void 0!==r&&r,o=n.children,s=n.className,l=n.component,c=void 0===l?o?"div":"hr":l,d=n.flexItem,f=void 0!==d&&d,h=n.light,p=void 0!==h&&h,m=n.orientation,g=void 0===m?"horizontal":m,v=n.role,y=void 0===v?"hr"!==c?"separator":void 0:v,x=n.textAlign,b=void 0===x?"center":x,w=n.variant,_=void 0===w?"fullWidth":w,k=(0,S.Z)(n,jt),D=(0,i.Z)({},n,{absolute:a,component:c,flexItem:f,light:p,orientation:g,role:y,textAlign:b,variant:_}),T=function(e){var t=e.absolute,n=e.children,r=e.classes,i=e.flexItem,a=e.light,o=e.orientation,s=e.textAlign,u={root:["root",t&&"absolute",e.variant,a&&"light","vertical"===o&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===o&&"withChildrenVertical","right"===s&&"vertical"!==o&&"textAlignRight","left"===s&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]};return(0,L.Z)(u,zt,r)}(D);return(0,u.jsx)(Wt,(0,i.Z)({as:c,className:(0,C.Z)(T.root,s),role:y,ref:t,ownerState:D},k,{children:o?(0,u.jsx)(Ut,{className:T.wrapper,ownerState:D,children:o}):null}))})),Gt=Ht,Xt=n(89683),qt=n(68221);function Yt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Kt=n(97326);function Qt(t,n){var r=Object.create(null);return t&&e.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)})),r}function Jt(e,t,n){return null!=n[t]?n[t]:e.props[t]}function $t(t,n,r){var i=Qt(t.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var l=i[u][r];s[i[u][r]]=n(l)}s[u]=n(u)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(n,i);return Object.keys(a).forEach((function(o){var s=a[o];if((0,e.isValidElement)(s)){var u=o in n,l=o in i,c=n[o],d=(0,e.isValidElement)(c)&&!c.props.in;!l||u&&!d?l||!u||d?l&&u&&(0,e.isValidElement)(c)&&(a[o]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:c.props.in,exit:Jt(s,"exit",t),enter:Jt(s,"enter",t)})):a[o]=(0,e.cloneElement)(s,{in:!1}):a[o]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:Jt(s,"exit",t),enter:Jt(s,"enter",t)})}})),a}var en=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},tn=function(t){function n(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind((0,Kt.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}pe(n,t);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=t,i=o,Qt(r.children,(function(t){return(0,e.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:Jt(t,"appear",r),enter:Jt(t,"enter",r),exit:Jt(t,"exit",r)})}))):$t(t,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=Qt(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,i.Z)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var t=this.props,n=t.component,r=t.childFactory,i=(0,S.Z)(t,["component","childFactory"]),a=this.state.contextValue,o=en(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?e.createElement(ge.Provider,{value:a},o):e.createElement(ge.Provider,{value:a},e.createElement(n,i,o))},n}(e.Component);tn.propTypes={},tn.defaultProps={component:"div",childFactory:function(e){return e}};var nn=tn;var rn=function(t){var n=t.className,r=t.classes,i=t.pulsate,a=void 0!==i&&i,o=t.rippleX,s=t.rippleY,l=t.rippleSize,c=t.in,d=t.onExited,f=t.timeout,h=e.useState(!1),p=(0,g.Z)(h,2),m=p[0],v=p[1],y=(0,C.Z)(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),x={width:l,height:l,top:-l/2+s,left:-l/2+o},b=(0,C.Z)(r.child,m&&r.childLeaving,a&&r.childPulsate);return c||m||v(!0),e.useEffect((function(){if(!c&&null!=d){var e=setTimeout(d,f);return function(){clearTimeout(e)}}}),[d,c,f]),(0,u.jsx)("span",{className:y,style:x,children:(0,u.jsx)("span",{className:b})})};var an,on,sn,un,ln,cn,dn,fn,hn=(0,oe.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),pn=["center","classes","className"],mn=Tt(ln||(ln=an||(an=Yt(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),gn=Tt(cn||(cn=on||(on=Yt(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),vn=Tt(dn||(dn=sn||(sn=Yt(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),yn=(0,b.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),xn=(0,b.ZP)(rn,{name:"MuiTouchRipple",slot:"Ripple"})(fn||(fn=un||(un=Yt(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),hn.rippleVisible,mn,550,(function(e){return e.theme.transitions.easing.easeInOut}),hn.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),hn.child,hn.childLeaving,gn,550,(function(e){return e.theme.transitions.easing.easeInOut}),hn.childPulsate,vn,(function(e){return e.theme.transitions.easing.easeInOut})),bn=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiTouchRipple"}),a=r.center,o=void 0!==a&&a,s=r.classes,l=void 0===s?{}:s,c=r.className,d=(0,S.Z)(r,pn),f=e.useState([]),h=(0,g.Z)(f,2),p=h[0],m=h[1],v=e.useRef(0),y=e.useRef(null);e.useEffect((function(){y.current&&(y.current(),y.current=null)}),[p]);var x=e.useRef(!1),b=e.useRef(null),w=e.useRef(null),_=e.useRef(null);e.useEffect((function(){return function(){clearTimeout(b.current)}}),[]);var k=e.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;m((function(e){return[].concat((0,T.Z)(e),[(0,u.jsx)(xn,{classes:{ripple:(0,C.Z)(l.ripple,hn.ripple),rippleVisible:(0,C.Z)(l.rippleVisible,hn.rippleVisible),ripplePulsate:(0,C.Z)(l.ripplePulsate,hn.ripplePulsate),child:(0,C.Z)(l.child,hn.child),childLeaving:(0,C.Z)(l.childLeaving,hn.childLeaving),childPulsate:(0,C.Z)(l.childPulsate,hn.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},v.current)])})),v.current+=1,y.current=a}),[l]),D=e.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,a=t.center,s=void 0===a?o||t.pulsate:a,u=t.fakeElement,l=void 0!==u&&u;if("mousedown"===e.type&&x.current)x.current=!1;else{"touchstart"===e.type&&(x.current=!0);var c,d,f,h=l?null:_.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(p.width/2),d=Math.round(p.height/2);else{var m=e.touches?e.touches[0]:e,g=m.clientX,v=m.clientY;c=Math.round(g-p.left),d=Math.round(v-p.top)}if(s)(f=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(f+=1);else{var y=2*Math.max(Math.abs((h?h.clientWidth:0)-c),c)+2,S=2*Math.max(Math.abs((h?h.clientHeight:0)-d),d)+2;f=Math.sqrt(Math.pow(y,2)+Math.pow(S,2))}e.touches?null===w.current&&(w.current=function(){k({pulsate:i,rippleX:c,rippleY:d,rippleSize:f,cb:n})},b.current=setTimeout((function(){w.current&&(w.current(),w.current=null)}),80)):k({pulsate:i,rippleX:c,rippleY:d,rippleSize:f,cb:n})}}),[o,k]),I=e.useCallback((function(){D({},{pulsate:!0})}),[D]),A=e.useCallback((function(e,t){if(clearTimeout(b.current),"touchend"===e.type&&w.current)return w.current(),w.current=null,void(b.current=setTimeout((function(){A(e,t)})));w.current=null,m((function(e){return e.length>0?e.slice(1):e})),y.current=t}),[]);return e.useImperativeHandle(n,(function(){return{pulsate:I,start:D,stop:A}}),[I,D,A]),(0,u.jsx)(yn,(0,i.Z)({className:(0,C.Z)(l.root,hn.root,c),ref:_},d,{children:(0,u.jsx)(nn,{component:null,exit:!0,children:p})}))})),wn=bn;function _n(e){return(0,se.Z)("MuiButtonBase",e)}var Sn,Cn=(0,oe.Z)("MuiButtonBase",["root","disabled","focusVisible"]),kn=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Dn=(0,b.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((Sn={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,v.Z)(Sn,"&.".concat(Cn.disabled),{pointerEvents:"none",cursor:"default"}),(0,v.Z)(Sn,"@media print",{colorAdjust:"exact"}),Sn)),Tn=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiButtonBase"}),a=r.action,o=r.centerRipple,s=void 0!==o&&o,l=r.children,c=r.className,d=r.component,f=void 0===d?"button":d,h=r.disabled,p=void 0!==h&&h,m=r.disableRipple,v=void 0!==m&&m,y=r.disableTouchRipple,x=void 0!==y&&y,b=r.focusRipple,w=void 0!==b&&b,_=r.LinkComponent,k=void 0===_?"a":_,D=r.onBlur,T=r.onClick,I=r.onContextMenu,A=r.onDragLeave,M=r.onFocus,E=r.onFocusVisible,N=r.onKeyDown,R=r.onKeyUp,P=r.onMouseDown,O=r.onMouseLeave,F=r.onMouseUp,Z=r.onTouchEnd,B=r.onTouchMove,z=r.onTouchStart,V=r.tabIndex,j=void 0===V?0:V,W=r.TouchRippleProps,U=r.touchRippleRef,H=r.type,G=(0,S.Z)(r,kn),X=e.useRef(null),q=e.useRef(null),Y=(0,Te.Z)(q,U),K=(0,qt.Z)(),Q=K.isFocusVisibleRef,J=K.onFocus,$=K.onBlur,ee=K.ref,te=e.useState(!1),ne=(0,g.Z)(te,2),re=ne[0],ie=ne[1];p&&re&&ie(!1),e.useImperativeHandle(a,(function(){return{focusVisible:function(){ie(!0),X.current.focus()}}}),[]);var ae=e.useState(!1),oe=(0,g.Z)(ae,2),se=oe[0],ue=oe[1];e.useEffect((function(){ue(!0)}),[]);var le=se&&!v&&!p;function ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;return(0,Xt.Z)((function(r){return t&&t(r),!n&&q.current&&q.current[e](r),!0}))}e.useEffect((function(){re&&w&&!v&&se&&q.current.pulsate()}),[v,w,re,se]);var de=ce("start",P),he=ce("stop",I),pe=ce("stop",A),me=ce("stop",F),ge=ce("stop",(function(e){re&&e.preventDefault(),O&&O(e)})),ve=ce("start",z),ye=ce("stop",Z),xe=ce("stop",B),be=ce("stop",(function(e){$(e),!1===Q.current&&ie(!1),D&&D(e)}),!1),we=(0,Xt.Z)((function(e){X.current||(X.current=e.currentTarget),J(e),!0===Q.current&&(ie(!0),E&&E(e)),M&&M(e)})),_e=function(){var e=X.current;return f&&"button"!==f&&!("A"===e.tagName&&e.href)},Se=e.useRef(!1),Ce=(0,Xt.Z)((function(e){w&&!Se.current&&re&&q.current&&" "===e.key&&(Se.current=!0,q.current.stop(e,(function(){q.current.start(e)}))),e.target===e.currentTarget&&_e()&&" "===e.key&&e.preventDefault(),N&&N(e),e.target===e.currentTarget&&_e()&&"Enter"===e.key&&!p&&(e.preventDefault(),T&&T(e))})),ke=(0,Xt.Z)((function(e){w&&" "===e.key&&q.current&&re&&!e.defaultPrevented&&(Se.current=!1,q.current.stop(e,(function(){q.current.pulsate(e)}))),R&&R(e),T&&e.target===e.currentTarget&&_e()&&" "===e.key&&!e.defaultPrevented&&T(e)})),De=f;"button"===De&&(G.href||G.to)&&(De=k);var Ie={};"button"===De?(Ie.type=void 0===H?"button":H,Ie.disabled=p):(G.href||G.to||(Ie.role="button"),p&&(Ie["aria-disabled"]=p));var Ae=(0,Te.Z)(ee,X),Me=(0,Te.Z)(n,Ae);var Ee=(0,i.Z)({},r,{centerRipple:s,component:f,disabled:p,disableRipple:v,disableTouchRipple:x,focusRipple:w,tabIndex:j,focusVisible:re}),Ne=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=e.classes,a={root:["root",t&&"disabled",n&&"focusVisible"]},o=(0,L.Z)(a,_n,i);return n&&r&&(o.root+=" ".concat(r)),o}(Ee);return(0,u.jsxs)(Dn,(0,i.Z)({as:De,className:(0,C.Z)(Ne.root,c),ownerState:Ee,onBlur:be,onClick:T,onContextMenu:he,onFocus:we,onKeyDown:Ce,onKeyUp:ke,onMouseDown:de,onMouseLeave:ge,onMouseUp:me,onDragLeave:pe,onTouchEnd:ye,onTouchMove:xe,onTouchStart:ve,ref:Me,tabIndex:p?-1:j,type:H},Ie,G,{children:[l,le?(0,u.jsx)(wn,(0,i.Z)({ref:Y,center:s},W)):null]}))})),In=Tn;function An(e){return(0,se.Z)("MuiIconButton",e)}var Mn=(0,oe.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),En=["edge","children","className","color","disabled","disableFocusRipple","size"],Nn=(0,b.ZP)(In,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat((0,Je.Z)(n.color))],n.edge&&t["edge".concat((0,Je.Z)(n.edge))],t["size".concat((0,Je.Z)(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.active," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Ge.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,i.Z)({color:(t.vars||t).palette[n.color].main},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Ge.Fq)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},(0,v.Z)({},"&.".concat(Mn.disabled),{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}))})),Rn=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiIconButton"}),r=n.edge,a=void 0!==r&&r,o=n.children,s=n.className,l=n.color,c=void 0===l?"default":l,d=n.disabled,f=void 0!==d&&d,h=n.disableFocusRipple,p=void 0!==h&&h,m=n.size,g=void 0===m?"medium":m,v=(0,S.Z)(n,En),y=(0,i.Z)({},n,{edge:a,color:c,disabled:f,disableFocusRipple:p,size:g}),x=function(e){var t=e.classes,n=e.disabled,r=e.color,i=e.edge,a=e.size,o={root:["root",n&&"disabled","default"!==r&&"color".concat((0,Je.Z)(r)),i&&"edge".concat((0,Je.Z)(i)),"size".concat((0,Je.Z)(a))]};return(0,L.Z)(o,An,t)}(y);return(0,u.jsx)(Nn,(0,i.Z)({className:(0,C.Z)(x.root,s),centerRipple:!0,focusRipple:!p,disabled:f,ref:t,ownerState:y},v,{children:o}))})),Pn=Rn,On=n(98008),Ln=n(31009),Fn=n(38996),Zn=n(19103),Bn=n(40162);function zn(e){return(0,se.Z)("MuiListItem",e)}var Vn=(0,oe.Z)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function jn(e){return(0,se.Z)("MuiListItemButton",e)}var Wn=(0,oe.Z)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Un(e){return(0,se.Z)("MuiListItemSecondaryAction",e)}(0,oe.Z)("MuiListItemSecondaryAction",["root","disableGutters"]);var Hn=["className"],Gn=(0,b.ZP)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.disableGutters&&t.disableGutters]}})((function(e){var t=e.ownerState;return(0,i.Z)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),Xn=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiListItemSecondaryAction"}),a=r.className,o=(0,S.Z)(r,Hn),s=e.useContext(vt),l=(0,i.Z)({},r,{disableGutters:s.disableGutters}),c=function(e){var t=e.disableGutters,n=e.classes,r={root:["root",t&&"disableGutters"]};return(0,L.Z)(r,Un,n)}(l);return(0,u.jsx)(Gn,(0,i.Z)({className:(0,C.Z)(c.root,a),ownerState:l,ref:n},o))}));Xn.muiName="ListItemSecondaryAction";var qn=Xn,Yn=["className"],Kn=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected"],Qn=(0,b.ZP)("div",{name:"MuiListItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,i.Z)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!r.disablePadding&&(0,i.Z)({paddingTop:8,paddingBottom:8},r.dense&&{paddingTop:4,paddingBottom:4},!r.disableGutters&&{paddingLeft:16,paddingRight:16},!!r.secondaryAction&&{paddingRight:48}),!!r.secondaryAction&&(0,v.Z)({},"& > .".concat(Wn.root),{paddingRight:48}),(t={},(0,v.Z)(t,"&.".concat(Vn.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),(0,v.Z)(t,"&.".concat(Vn.selected),(0,v.Z)({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,Ge.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(Vn.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,Ge.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,v.Z)(t,"&.".concat(Vn.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),t),"flex-start"===r.alignItems&&{alignItems:"flex-start"},r.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},r.button&&(0,v.Z)({transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(Vn.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,Ge.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,Ge.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),r.hasSecondaryAction&&{paddingRight:48})})),Jn=(0,b.ZP)("li",{name:"MuiListItem",slot:"Container",overridesResolver:function(e,t){return t.container}})({position:"relative"}),$n=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiListItem"}),a=r.alignItems,o=void 0===a?"center":a,s=r.autoFocus,l=void 0!==s&&s,c=r.button,d=void 0!==c&&c,f=r.children,h=r.className,p=r.component,m=r.components,g=void 0===m?{}:m,v=r.componentsProps,y=void 0===v?{}:v,x=r.ContainerComponent,b=void 0===x?"li":x,w=r.ContainerProps,_=(w=void 0===w?{}:w).className,k=r.dense,D=void 0!==k&&k,T=r.disabled,I=void 0!==T&&T,A=r.disableGutters,M=void 0!==A&&A,E=r.disablePadding,N=void 0!==E&&E,R=r.divider,P=void 0!==R&&R,O=r.focusVisibleClassName,Z=r.secondaryAction,B=r.selected,z=void 0!==B&&B,V=(0,S.Z)(r.ContainerProps,Yn),j=(0,S.Z)(r,Kn),W=e.useContext(vt),U={dense:D||W.dense||!1,alignItems:o,disableGutters:M},H=e.useRef(null);(0,Bn.Z)((function(){l&&H.current&&H.current.focus()}),[l]);var G=e.Children.toArray(f),X=G.length&&(0,Zn.Z)(G[G.length-1],["ListItemSecondaryAction"]),q=(0,i.Z)({},r,{alignItems:o,autoFocus:l,button:d,dense:U.dense,disabled:I,disableGutters:M,disablePadding:N,divider:P,hasSecondaryAction:X,selected:z}),Y=function(e){var t=e.alignItems,n=e.button,r=e.classes,i=e.dense,a=e.disabled,o={root:["root",i&&"dense",!e.disableGutters&&"gutters",!e.disablePadding&&"padding",e.divider&&"divider",a&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",e.hasSecondaryAction&&"secondaryAction",e.selected&&"selected"],container:["container"]};return(0,L.Z)(o,zn,r)}(q),K=(0,Te.Z)(H,n),Q=g.Root||Qn,J=y.root||{},$=(0,i.Z)({className:(0,C.Z)(Y.root,J.className,h),disabled:I},j),ee=p||"li";return d&&($.component=p||"div",$.focusVisibleClassName=(0,C.Z)(Vn.focusVisible,O),ee=In),X?(ee=$.component||p?ee:"div","li"===b&&("li"===ee?ee="div":"li"===$.component&&($.component="div")),(0,u.jsx)(vt.Provider,{value:U,children:(0,u.jsxs)(Jn,(0,i.Z)({as:b,className:(0,C.Z)(Y.container,_),ref:K,ownerState:q},V,{children:[(0,u.jsx)(Q,(0,i.Z)({},J,!F(Q)&&{as:ee,ownerState:(0,i.Z)({},q,J.ownerState)},$,{children:G})),G.pop()]}))})):(0,u.jsx)(vt.Provider,{value:U,children:(0,u.jsxs)(Q,(0,i.Z)({},J,{as:ee,ref:K,ownerState:q},!F(Q)&&{ownerState:(0,i.Z)({},q,J.ownerState)},$,{children:[G,Z&&(0,u.jsx)(qn,{children:Z})]}))})})),er=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected"],tr=(0,b.ZP)(In,{shouldForwardProp:function(e){return(0,b.FO)(e)||"classes"===e},name:"MuiListItemButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,i.Z)((t={display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,v.Z)(t,"&.".concat(Wn.selected),(0,v.Z)({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,Ge.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(Wn.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,Ge.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,v.Z)(t,"&.".concat(Wn.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,Ge.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,Ge.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,v.Z)(t,"&.".concat(Wn.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),(0,v.Z)(t,"&.".concat(Wn.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),t),r.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},"flex-start"===r.alignItems&&{alignItems:"flex-start"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.dense&&{paddingTop:4,paddingBottom:4})})),nr=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiListItemButton"}),a=r.alignItems,o=void 0===a?"center":a,s=r.autoFocus,l=void 0!==s&&s,c=r.component,d=void 0===c?"div":c,f=r.children,h=r.dense,p=void 0!==h&&h,m=r.disableGutters,g=void 0!==m&&m,v=r.divider,y=void 0!==v&&v,x=r.focusVisibleClassName,b=r.selected,w=void 0!==b&&b,_=(0,S.Z)(r,er),k=e.useContext(vt),D={dense:p||k.dense||!1,alignItems:o,disableGutters:g},T=e.useRef(null);(0,Bn.Z)((function(){l&&T.current&&T.current.focus()}),[l]);var I=(0,i.Z)({},r,{alignItems:o,dense:D.dense,disableGutters:g,divider:y,selected:w}),A=function(e){var t=e.alignItems,n=e.classes,r=e.dense,a=e.disabled,o={root:["root",r&&"dense",!e.disableGutters&&"gutters",e.divider&&"divider",a&&"disabled","flex-start"===t&&"alignItemsFlexStart",e.selected&&"selected"]},s=(0,L.Z)(o,jn,n);return(0,i.Z)({},n,s)}(I),M=(0,Te.Z)(T,n);return(0,u.jsx)(vt.Provider,{value:D,children:(0,u.jsx)(tr,(0,i.Z)({ref:M,component:d,focusVisibleClassName:(0,C.Z)(A.focusVisible,x),ownerState:I},_,{classes:A,children:f}))})}));function rr(e){return(0,se.Z)("MuiListItemIcon",e)}var ir=(0,oe.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]),ar=["className"],or=(0,b.ZP)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})})),sr=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiListItemIcon"}),a=r.className,o=(0,S.Z)(r,ar),s=e.useContext(vt),l=(0,i.Z)({},r,{alignItems:s.alignItems}),c=function(e){var t=e.alignItems,n=e.classes,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,L.Z)(r,rr,n)}(l);return(0,u.jsx)(or,(0,i.Z)({className:(0,C.Z)(c.root,a),ownerState:l,ref:n},o))}));function ur(e){return(0,se.Z)("MuiListItemText",e)}var lr=(0,oe.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),cr=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],dr=(0,b.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,v.Z)({},"& .".concat(lr.primary),t.primary),(0,v.Z)({},"& .".concat(lr.secondary),t.secondary),t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((function(e){var t=e.ownerState;return(0,i.Z)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),fr=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiListItemText"}),a=r.children,o=r.className,s=r.disableTypography,l=void 0!==s&&s,c=r.inset,d=void 0!==c&&c,f=r.primary,h=r.primaryTypographyProps,p=r.secondary,m=r.secondaryTypographyProps,g=(0,S.Z)(r,cr),v=e.useContext(vt).dense,y=null!=f?f:a,x=p,b=(0,i.Z)({},r,{disableTypography:l,inset:d,primary:!!y,secondary:!!x,dense:v}),w=function(e){var t=e.classes,n=e.inset,r=e.primary,i=e.secondary,a={root:["root",n&&"inset",e.dense&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,L.Z)(a,ur,t)}(b);return null==y||y.type===Bt||l||(y=(0,u.jsx)(Bt,(0,i.Z)({variant:v?"body2":"body1",className:w.primary,component:"span",display:"block"},h,{children:y}))),null==x||x.type===Bt||l||(x=(0,u.jsx)(Bt,(0,i.Z)({variant:"body2",className:w.secondary,color:"text.secondary",display:"block"},m,{children:x}))),(0,u.jsxs)(dr,(0,i.Z)({className:(0,C.Z)(w.root,o),ownerState:b,ref:n},g,{children:[y,x]}))})),hr=n(8698),pr=n(75335),mr={tag:"test_machine",name:"TEST_MACHINE",plant:{id:"test_plant",name:"TEST_PLANT",organization:{id:"test_org",name:"TEST_ORGANIZATION"}}},gr=[{id:1,value:"temperature"},{id:2,value:"pressure"},{id:3,value:"flow"},{id:4,value:"speed"},{id:5,value:"vibration"}],vr=[{id:1,value:"relationship"},{id:2,value:"individual"},{id:3,value:"classification"}],yr=[{id:1,value:"pairplot"},{id:2,value:"timeseries"},{id:3,value:"kde"}],xr=[{id:1,value:"POWER TURBINE",machine:mr},{id:2,value:"GAS TURBINE",machine:mr},{id:3,value:"GENERATOR",machine:mr}],br=[{id:1,value:"ADD",symbol:"+"},{id:2,value:"ABSDIFF",symbol:"-"},{id:3,value:"MUL",symbol:"*"},{id:4,value:"DIV",symbol:"/"},{id:5,value:"AVG",symbol:"+"}],wr=[{id:1,value:"inRange",name:"In Range"},{id:2,value:"equal",name:"Equal"},{id:3,value:"moreThan",name:"More than"},{id:4,value:"moreThanEqual",name:"More than equal"},{id:5,value:"lessThan",name:"Less than"},{id:6,value:"lessThanEqual",name:"Less than equal"}],_r=[{id:1,value:"no sampling",name:"No sampling"},{id:2,value:"mean",name:"Mean"},{id:3,value:"max",name:"Max"},{id:4,value:"min",name:"Min"},{id:5,value:"first",name:"First"},{id:6,value:"last",name:"Last"}],Sr=[{id:1,value:"C"},{id:2,value:"MICRO_M"},{id:3,value:"%"},{id:4,value:"MM"},{id:5,value:"BARG"},{id:6,value:"NM3/HR"}],Cr=[{id:1,name:"ABC",type:"RELATIONSHIP",target:{tag:"A"},predictor:[{tag:"B"},{tag:"C"},{tag:"D"}],component:xr[0],training:{start:"2021/01/01",end:"2021/12/31"}},{id:2,name:"A",type:"INDIVIDUAL",individual:{tag:"A"},component:xr[0],training:{start:"2021/01/01",end:"2021/12/31"}},{id:3,name:"C",type:"CLASSIFICATION",x:{tag:"A"},y:{tag:"A"},critical:{tag:"A"},component:xr[0],training:{start:"2021/01/01",end:"2021/12/31"}}],kr=(xr[1],xr[2],xr[0],xr[2],xr[2],xr[1],xr[1],xr[0],xr[0],xr[0],"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),Dr="object"===("undefined"===typeof window?"undefined":kr(window))&&"object"===("undefined"===typeof document?"undefined":kr(document))&&9===document.nodeType,Tr={}.constructor;function Ir(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(Ir);if(e.constructor!==Tr)return e;var t={};for(var n in e)t[n]=Ir(e[n]);return t}function Ar(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=Ir(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var Mr=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},Er=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=Mr(e[r]," ");else n=Mr(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function Nr(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function Rr(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function Pr(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var s=Nr(n),u=s.linebreak,l=s.space;if(e&&a++,o)if(Array.isArray(o))for(var c=0;c<o.length;c++){var d=o[c];for(var f in d){var h=d[f];null!=h&&(r&&(r+=u),r+=Rr(f+":"+l+Er(h)+";",a))}}else for(var p in o){var m=o[p];null!=m&&(r&&(r+=u),r+=Rr(p+":"+l+Er(m)+";",a))}for(var g in t){var v=t[g];null!=v&&"fallbacks"!==g&&(r&&(r+=u),r+=Rr(g+":"+l+Er(v)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),Rr(""+e+l+"{"+r,--a)+Rr("}",a)):r}var Or=/([[\].#*$><+~=|^:(),"'`\s])/g,Lr="undefined"!==typeof CSS&&CSS.escape,Fr=function(e){return Lr?Lr(e):e.replace(Or,"\\$1")},Zr=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),Br=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,s=r.sheet,u=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=u((0,Kt.Z)((0,Kt.Z)(i)),s),i.selectorText="."+Fr(i.id)),i}pe(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=Er(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return Pr(this.selectorText,this.style,n)},(0,X.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(Zr),zr={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new Br(e,t,n)}},Vr={indent:1,children:!0},jr=/@([\w-]+)/,Wr=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(jr);for(var a in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new hi((0,i.Z)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=Vr);var t=Nr(e).linebreak;if(null==e.indent&&(e.indent=Vr.indent),null==e.children&&(e.children=Vr.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),Ur=/@media|@supports\s+/,Hr={onCreateRule:function(e,t,n){return Ur.test(e)?new Wr(e,t,n):null}},Gr={indent:1,children:!0},Xr=/@keyframes\s+([\w-]+)/,qr=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(Xr);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,o=n.sheet,s=n.generateId;for(var u in this.id=!1===a?this.name:Fr(s(this,o)),this.rules=new hi((0,i.Z)({},n,{parent:this})),t)this.rules.add(u,t[u],(0,i.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=Gr);var t=Nr(e).linebreak;if(null==e.indent&&(e.indent=Gr.indent),null==e.children&&(e.children=Gr.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),Yr=/@keyframes\s+/,Kr=/\$([\w-]+)/g,Qr=function(e,t){return"string"===typeof e?e.replace(Kr,(function(e,n){return n in t?t[n]:e})):e},Jr=function(e,t,n){var r=e[t],i=Qr(r,n);i!==r&&(e[t]=i)},$r={onCreateRule:function(e,t,n){return"string"===typeof e&&Yr.test(e)?new qr(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&Jr(e,"animation-name",n.keyframes),"animation"in e&&Jr(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return Qr(e,r.keyframes);default:return e}}},ei=function(e){function t(){return e.apply(this,arguments)||this}return pe(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return Pr(this.key,this.style,n)},t}(Zr),ti={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new ei(e,t,n):null}},ni=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=Nr(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=Pr(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return Pr(this.at,this.style,e)},e}(),ri=/@font-face/,ii={onCreateRule:function(e,t,n){return ri.test(e)?new ni(e,t,n):null}},ai=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return Pr(this.key,this.style,e)},e}(),oi={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new ai(e,t,n):null}},si=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),ui={"@charset":!0,"@import":!0,"@namespace":!0},li={onCreateRule:function(e,t,n){return e in ui?new si(e,t,n):null}},ci=[zr,Hr,$r,ti,ii,oi,li],di={process:!0},fi={force:!0,process:!0},hi=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,a=r.parent,o=r.sheet,s=r.jss,u=r.Renderer,l=r.generateId,c=r.scoped,d=(0,i.Z)({classes:this.classes,parent:a,sheet:o,jss:s,Renderer:u,generateId:l,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},n),f=e;e in this.raw&&(f=e+"-d"+this.counter++),this.raw[f]=t,f in this.classes&&(d.selector="."+Fr(this.classes[f]));var h=Ar(f,t,d);if(!h)return null;this.register(h);var p=void 0===d.index?this.index.length:d.index;return this.index.splice(p,0,h),h},t.replace=function(e,t,n){var r=this.get(e),a=this.index.indexOf(r);r&&this.remove(r);var o=n;return-1!==a&&(o=(0,i.Z)({},n,{index:a})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof Br?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof qr&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof Br?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof qr&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=di);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(a.onUpdate(n,t,o,r),r.process&&s&&s!==t.style){for(var u in a.onProcessStyle(t.style,t,o),t.style){var l=t.style[u];l!==s[u]&&t.prop(u,l,fi)}for(var c in s){var d=t.style[c],f=s[c];null==d&&d!==f&&t.prop(c,null,fi)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=Nr(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),pi=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,i.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new hi(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),mi=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),gi=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,S.Z)(t,["attached"]),i=Nr(r).linebreak,a="",o=0;o<this.registry.length;o++){var s=this.registry[o];null!=n&&s.attached!==n||(a&&(a+=i),a+=s.toString(r))}return a},(0,X.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),vi=new gi,yi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),xi="2f1acc6c3a606b082e5eef5e54414ffb";null==yi[xi]&&(yi[xi]=0);var bi=yi[xi]++,wi=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+bi+i+t:a+n.key+"-"+bi+(i?"-"+i:"")+"-"+t}},_i=function(e){var t;return function(){return t||(t=e()),t}},Si=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},Ci=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=Er(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},ki=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},Di=function(e,t){return e.selectorText=t,e.selectorText===t},Ti=_i((function(){return document.querySelector("head")}));function Ii(e){var t=vi.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=Ti(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var Ai=_i((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),Mi=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},Ei=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},Ni=function(){function e(e){this.getPropertyValue=Si,this.setProperty=Ci,this.removeProperty=ki,this.setSelector=Di,this.hasInsertedRules=!1,this.cssRules=[],e&&vi.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=Ai();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=Ii(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else Ti().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=Ei(n,t);if(!1===(i=Mi(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var s=Ei(n,t),u=Mi(n,o,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof pi&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Ri=0,Pi=function(){function e(e){this.id=Ri++,this.version="10.9.0",this.plugins=new mi,this.options={id:{minify:!1},createGenerateId:wi,Renderer:Dr?Ni:null,plugins:[]},this.generateId=wi({minify:!1});for(var t=0;t<ci.length;t++)this.plugins.use(ci[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,i.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===vi.index?0:vi.index+1);var r=new pi(e,(0,i.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),vi.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=(0,i.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var a=Ar(e,t,r);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),Oi=function(e){return new Pi(e)},Li="object"===typeof CSS&&null!=CSS&&"number"in CSS;function Fi(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=Fi(r);a&&(t||(t={}),t[n]=a)}}return t}Oi();function Zi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=(0,i.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var Bi={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},zi=Bi,Vi=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var ji=Date.now(),Wi="fnValues"+ji,Ui="fnStyle"+ ++ji,Hi=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=Ar(e,{},n);return r[Ui]=t,r},onProcessStyle:function(e,t){if(Wi in t||Ui in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Wi]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Ui];a&&(i.style=a(e)||{});var o=i[Wi];if(o)for(var s in o)i.prop(s,o[s](e),r)}}},Gi="@global",Xi="@global ",qi=function(){function e(e,t,n){for(var r in this.type="global",this.at=Gi,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new hi((0,i.Z)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Yi=function(){function e(e,t,n){this.type="global",this.at=Gi,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(Xi.length);this.rule=n.jss.createRule(r,t,(0,i.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Ki=/\s*,\s*/g;function Qi(e,t){for(var n=e.split(Ki),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Ji=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Gi)return new qi(e,t,n);if("@"===e[0]&&e.substr(0,Xi.length)===Xi)return new Yi(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,a=r?r[Gi]:null;if(a){for(var o in a)t.addRule(o,a[o],(0,i.Z)({},n,{selector:Qi(o,e.selector)}));delete r[Gi]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var a in r)if("@"===a[0]&&a.substr(0,Gi.length)===Gi){var o=Qi(a.substr(Gi.length),e.selector);t.addRule(o,r[a],(0,i.Z)({},n,{selector:o})),delete r[a]}}(e,t))}}},$i=/\s*,\s*/g,ea=/&/g,ta=/\$([\w-]+)/g;var na=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split($i),r=e.split($i),i="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<r.length;s++){var u=r[s];i&&(i+=", "),i+=-1!==u.indexOf("&")?u.replace(ea,o):o+" "+u}return i}function n(e,t,n){if(n)return(0,i.Z)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var a=(0,i.Z)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(r,a,o){if("style"!==a.type)return r;var s,u,l=a,c=l.options.parent;for(var d in r){var f=-1!==d.indexOf("&"),h="@"===d[0];if(f||h){if(s=n(l,c,s),f){var p=t(d,l.selector);u||(u=e(c,o)),p=p.replace(ta,u);var m=l.key+"-"+d;"replaceRule"in c?c.replaceRule(m,r[d],(0,i.Z)({},s,{selector:p})):c.addRule(m,r[d],(0,i.Z)({},s,{selector:p}))}else h&&c.addRule(d,{},s).addRule(l.key,r[d],{selector:l.selector});delete r[d]}}return r}}},ra=/[A-Z]/g,ia=/^ms-/,aa={};function oa(e){return"-"+e.toLowerCase()}var sa=function(e){if(aa.hasOwnProperty(e))return aa[e];var t=e.replace(ra,oa);return aa[e]=ia.test(t)?"-"+t:t};function ua(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:sa(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(ua):t.fallbacks=ua(e.fallbacks)),t}var la=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=ua(e[t]);return e}return ua(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=sa(t);return t===r?e:(n.prop(r,e),null)}}},ca=Li&&CSS?CSS.px:"px",da=Li&&CSS?CSS.ms:"ms",fa=Li&&CSS?CSS.percent:"%";function ha(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var pa=ha({"animation-delay":da,"animation-duration":da,"background-position":ca,"background-position-x":ca,"background-position-y":ca,"background-size":ca,border:ca,"border-bottom":ca,"border-bottom-left-radius":ca,"border-bottom-right-radius":ca,"border-bottom-width":ca,"border-left":ca,"border-left-width":ca,"border-radius":ca,"border-right":ca,"border-right-width":ca,"border-top":ca,"border-top-left-radius":ca,"border-top-right-radius":ca,"border-top-width":ca,"border-width":ca,"border-block":ca,"border-block-end":ca,"border-block-end-width":ca,"border-block-start":ca,"border-block-start-width":ca,"border-block-width":ca,"border-inline":ca,"border-inline-end":ca,"border-inline-end-width":ca,"border-inline-start":ca,"border-inline-start-width":ca,"border-inline-width":ca,"border-start-start-radius":ca,"border-start-end-radius":ca,"border-end-start-radius":ca,"border-end-end-radius":ca,margin:ca,"margin-bottom":ca,"margin-left":ca,"margin-right":ca,"margin-top":ca,"margin-block":ca,"margin-block-end":ca,"margin-block-start":ca,"margin-inline":ca,"margin-inline-end":ca,"margin-inline-start":ca,padding:ca,"padding-bottom":ca,"padding-left":ca,"padding-right":ca,"padding-top":ca,"padding-block":ca,"padding-block-end":ca,"padding-block-start":ca,"padding-inline":ca,"padding-inline-end":ca,"padding-inline-start":ca,"mask-position-x":ca,"mask-position-y":ca,"mask-size":ca,height:ca,width:ca,"min-height":ca,"max-height":ca,"min-width":ca,"max-width":ca,bottom:ca,left:ca,top:ca,right:ca,inset:ca,"inset-block":ca,"inset-block-end":ca,"inset-block-start":ca,"inset-inline":ca,"inset-inline-end":ca,"inset-inline-start":ca,"box-shadow":ca,"text-shadow":ca,"column-gap":ca,"column-rule":ca,"column-rule-width":ca,"column-width":ca,"font-size":ca,"font-size-delta":ca,"letter-spacing":ca,"text-decoration-thickness":ca,"text-indent":ca,"text-stroke":ca,"text-stroke-width":ca,"word-spacing":ca,motion:ca,"motion-offset":ca,outline:ca,"outline-offset":ca,"outline-width":ca,perspective:ca,"perspective-origin-x":fa,"perspective-origin-y":fa,"transform-origin":fa,"transform-origin-x":fa,"transform-origin-y":fa,"transform-origin-z":fa,"transition-delay":da,"transition-duration":da,"vertical-align":ca,"flex-basis":ca,"shape-margin":ca,size:ca,gap:ca,grid:ca,"grid-gap":ca,"row-gap":ca,"grid-row-gap":ca,"grid-column-gap":ca,"grid-template-rows":ca,"grid-template-columns":ca,"grid-auto-rows":ca,"grid-auto-columns":ca,"box-shadow-x":ca,"box-shadow-y":ca,"box-shadow-blur":ca,"box-shadow-spread":ca,"font-line-height":ca,"text-shadow-x":ca,"text-shadow-y":ca,"text-shadow-blur":ca});function ma(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=ma(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=ma(i,t[i],n);else for(var a in t)t[a]=ma(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||pa[e];return!o||0===t&&o===ca?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var ga=function(e){void 0===e&&(e={});var t=ha(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=ma(r,e[r],t);return e},onChangeValue:function(e,n){return ma(n,e,t)}}},va="",ya="",xa="",ba="",wa=Dr&&"ontouchstart"in document.documentElement;if(Dr){var _a={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Sa=document.createElement("p").style;for(var Ca in _a)if(Ca+"Transform"in Sa){va=Ca,ya=_a[Ca];break}"Webkit"===va&&"msHyphens"in Sa&&(va="ms",ya=_a.ms,ba="edge"),"Webkit"===va&&"-apple-trailing-word"in Sa&&(xa="apple")}var ka=va,Da=ya,Ta=xa,Ia=ba,Aa=wa;var Ma={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ka?"-webkit-"+e:Da+e)}},Ea={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ka?Da+"print-"+e:e)}},Na=/[-\s]+(.)?/g;function Ra(e,t){return t?t.toUpperCase():""}function Pa(e){return e.replace(Na,Ra)}function Oa(e){return Pa("-"+e)}var La,Fa={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ka){var n="mask-image";if(Pa(n)in t)return e;if(ka+Oa(n)in t)return Da+e}return e}},Za={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==Ta||Aa?e:Da+e)}},Ba={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:Da+e)}},za={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:Da+e)}},Va={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ka||"ms"===ka&&"edge"!==Ia?Da+e:e)}},ja={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ka||"ms"===ka||"apple"===Ta?Da+e:e)}},Wa={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ka?"WebkitColumn"+Oa(e)in t&&Da+"column-"+e:"Moz"===ka&&("page"+Oa(e)in t&&"page-"+e))}},Ua={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ka)return e;var n=e.replace("-inline","");return ka+Oa(n)in t&&Da+n}},Ha={supportedProperty:function(e,t){return Pa(e)in t&&e}},Ga={supportedProperty:function(e,t){var n=Oa(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:ka+n in t?Da+e:"Webkit"!==ka&&"Webkit"+n in t&&"-webkit-"+e}},Xa={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ka?""+Da+e:e)}},qa={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ka?Da+"scroll-chaining":e)}},Ya={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Ka={supportedProperty:function(e,t){var n=Ya[e];return!!n&&(ka+Oa(n)in t&&Da+n)}},Qa={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Ja=Object.keys(Qa),$a=function(e){return Da+e},eo={supportedProperty:function(e,t,n){var r=n.multiple;if(Ja.indexOf(e)>-1){var i=Qa[e];if(!Array.isArray(i))return ka+Oa(i)in t&&Da+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(ka+Oa(i[0])in t))return!1;return i.map($a)}return!1}},to=[Ma,Ea,Fa,Za,Ba,za,Va,ja,Wa,Ua,Ha,Ga,Xa,qa,Ka,eo],no=to.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),ro=to.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,T.Z)(t.noPrefill)),e}),[]),io={};if(Dr){La=document.createElement("p");var ao=window.getComputedStyle(document.documentElement,"");for(var oo in ao)isNaN(oo)||(io[ao[oo]]=ao[oo]);ro.forEach((function(e){return delete io[e]}))}function so(e,t){if(void 0===t&&(t={}),!La)return e;if(null!=io[e])return io[e];"transition"!==e&&"transform"!==e||(t[e]=e in La.style);for(var n=0;n<no.length&&(io[e]=no[n](e,La.style,t),!io[e]);n++);try{La.style[e]=""}catch(r){return!1}return io[e]}var uo,lo={},co={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},fo=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function ho(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?so(t):", "+so(n);return r||(t||n)}function po(e,t){var n=t;if(!uo||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=lo[r])return lo[r];try{uo.style[e]=n}catch(i){return lo[r]=!1,!1}if(co[e])n=n.replace(fo,ho);else if(""===uo.style[e]&&("-ms-flex"===(n=Da+n)&&(uo.style[e]="-ms-flexbox"),uo.style[e]=n,""===uo.style[e]))return lo[r]=!1,!1;return uo.style[e]="",lo[r]=n,lo[r]}Dr&&(uo=document.createElement("p"));var mo=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=so(n);a&&a!==n&&(i=!0);var o=!1,s=po(a,Er(r));s&&s!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===ka?e:"@"+Da+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return po(t,Er(e))||e}}};var go=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var vo=Oi({plugins:[Hi(),Ji(),na(),la(),ga(),"undefined"===typeof window?null:mo(),go()]}),yo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,u=""===o?"":"".concat(o,"-"),l=0,c=function(){return l+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Vi.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(u).concat(r,"-").concat(e.key);return t.options.theme[s]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(u).concat(i).concat(c())}}(),xo={disableGeneration:!1,generateClassName:yo,jss:vo,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},bo=e.createContext(xo);var wo=-1e9;function _o(){return wo+=1}var So=n(27312),Co=["variant"];function ko(e){return 0===e.length}function Do(e){var t="function"===typeof e;return{create:function(n,r){var a;try{a=t?e(n):e}catch(l){throw l}if(!r||!n.components||!n.components[r]||!n.components[r].styleOverrides&&!n.components[r].variants)return a;var o=n.components[r].styleOverrides||{},s=n.components[r].variants||[],u=(0,i.Z)({},a);return Object.keys(o).forEach((function(e){u[e]=(0,I.Z)(u[e]||{},o[e])})),s.forEach((function(e){var t=function(e){var t=e.variant,n=(0,S.Z)(e,Co),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?ko(r)?e[t]:(0,So.Z)(e[t]):"".concat(ko(r)?t:(0,So.Z)(t)).concat((0,So.Z)(e[t].toString()))})),r}(e.props);u[t]=(0,I.Z)(u[t]||{},e.style)})),u},options:{}}}var To={},Io=["name","classNamePrefix","Component","defaultTheme"];function Ao(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Zi({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function Mo(e,t){var n=e.state,r=e.theme,a=e.stylesOptions,o=e.stylesCreator,s=e.name;if(!a.disableGeneration){var u=zi.get(a.sheetsManager,o,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},zi.set(a.sheetsManager,o,r,u));var l=(0,i.Z)({},o.options,a,{theme:r,flip:"boolean"===typeof a.flip?a.flip:"rtl"===r.direction});l.generateId=l.serverGenerateClassName||l.generateClassName;var c=a.sheetsRegistry;if(0===u.refs){var d;a.sheetsCache&&(d=zi.get(a.sheetsCache,o,r));var f=o.create(r,s);d||((d=a.jss.createStyleSheet(f,(0,i.Z)({link:!1},l))).attach(),a.sheetsCache&&zi.set(a.sheetsCache,o,r,d)),c&&c.add(d),u.staticSheet=d,u.dynamicStyles=Fi(f)}if(u.dynamicStyles){var h=a.jss.createStyleSheet(u.dynamicStyles,(0,i.Z)({link:!0},l));h.update(t),h.attach(),n.dynamicSheet=h,n.classes=Zi({baseClasses:u.staticSheet.classes,newClasses:h.classes}),c&&c.add(h)}else n.classes=u.staticSheet.classes;u.refs+=1}}function Eo(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function No(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=zi.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(zi.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function Ro(t,n){var r,i=e.useRef([]),a=e.useMemo((function(){return{}}),n);i.current!==a&&(i.current=a,r=t()),e.useEffect((function(){return function(){r&&r()}}),[a])}function Po(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,a=n.classNamePrefix,s=n.Component,u=n.defaultTheme,l=void 0===u?To:u,c=(0,S.Z)(n,Io),d=Do(t),f=r||a||"makeStyles";d.options={index:_o(),name:r,meta:f,classNamePrefix:f};var h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,o.Z)()||l,a=(0,i.Z)({},e.useContext(bo),c),u=e.useRef(),f=e.useRef();Ro((function(){var e={name:r,state:{},stylesCreator:d,stylesOptions:a,theme:n};return Mo(e,t),f.current=!1,u.current=e,function(){No(e)}}),[n,d]),e.useEffect((function(){f.current&&Eo(u.current,t),f.current=!0}));var h=Ao(u.current,t.classes,s);return h};return h}var Oo=15,Lo=Po((function(e){var t;return t={mainBackground:{backgroundColor:"#121c26",borderRadius:10,padding:10,minHeight:"65vh"},subBackground:{backgroundColor:"#121c26",borderRadius:10},componentBackground:{backgroundColor:"#121c26",borderRadius:10},content:(0,v.Z)({transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),display:"block",flexGrow:1,padding:e.spacing(3),marginLeft:e.spacing(7)+1},e.breakpoints.up("sm"),{marginLeft:e.spacing(9)+1}),contentOffset:{transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),display:"block",flexGrow:1,padding:e.spacing(3),marginLeft:240},button:{"&.MuiButton-root":{borderRadius:4,fontSize:15,height:25,minWidth:"6vw"}},textField:{color:"#ffffff",height:30,borderColor:"#51b4ec","&.MuiFormControl-root ":{borderColor:"#51b4ec"},"&.MuiOutlinedInput-root":{color:"#ffffff",backgroundColor:"#242f39",fontSize:Oo,paddingLeft:20,minWidth:"5vw",borderColor:"#51b4ec",borderRadius:10,"& fieldset":{borderColor:"#51b4ec",color:"#ffffff"},"&:hover fieldset":{borderColor:"#ffffff",color:"#ffffff"},"&:disabled":{backgroundColor:"#454c54",color:"#ffffff"},"&.Mui-disabled":{borderColor:"#51b4ec",color:"#ffffff"}},"&.Mui-focused fieldset":{borderColor:"#51b4ec",color:"#ffffff"},"&.Mui-disabled fieldset":{borderColor:"#51b4ec",color:"#ffffff"}},selector:{"&.MuiOutlinedInput-root":{display:"flex",height:30,color:"#ffffff",backgroundColor:"#242f39",fontSize:Oo,paddingLeft:20,minWidth:"6vw",borderColor:"#51b4ec",borderRadius:10,"&:before":{borderColor:"#51b4ec"},"&:after":{borderColor:"#51b4ec"}},"&.MuiInputBase-root":{borderColor:"#51b4ec"},"&.MuiSvgIcon-root":{fill:"#ffffff",fontSize:15,paddingRight:5}},selectorIcon:{fill:"#ffffff",fontSize:15,paddingRight:5},menuItem:{"&.MuiMenuItem-root":{backgroundColor:"#242f39",color:"#ffffff",paddingRight:10,"&:hover":{backgroundColor:"#454c54",color:"#ffffff"},"&.Mui-selected":{backgroundColor:"#51b4ec",color:"#ffffff","&:hover":{backgroundColor:"#454c54",color:"#ffffff"}}},"&.MuiList-padding ":{paddingTop:0,paddingBottom:0,borderRadius:5}},tableContainer:{"&.MuiTableContainer-root":{overflowY:"auto",overflowX:"auto",maxHeight:"50vh",minWidth:"20vw",borderRadius:10}},tableHead:{"&.MuiTableCell-root":{borderBottomColor:"#242f39",backgroundColor:"#242f39",fontSize:15,color:"#51b4ec"}},tableBody:{"&.MuiTableBody-root":{fontSize:Oo}},tableCell:{"&.MuiTableCell-root":{borderBottomColor:"#242f39",backgroundColor:"#242f39",color:"#ffffff",fontSize:Oo,minWidth:"1vw"},"&.MuiFormControlLabel-root":{color:"#ffffff",fontSize:Oo,minWidth:"1vw"},"&.MuiFormControlLabel-label":{color:"#ffffff",fontSize:Oo,minWidth:"1vw"}},datePicker:{"& .MuiInputBase-input":{color:"white",fontSize:Oo,padding:"6px 10px"},"&.MuiFormControl-root ":{minWidth:"-webkit-fill-available",borderColor:"#51b4ec"},"&.MuiTextField-root":{color:"white",fontSize:Oo,borderColor:"#51b4ec","& fieldset":{borderColor:"#51b4ec"},"&:hover fieldset":{borderColor:"#51b4ec"},"&.Mui-focused fieldset":{borderColor:"#51b4ec"},"&.Mui-disabled fieldset":{borderColor:"#51b4ec"}},"&.MuiInputLabel-root ":{color:"#51b4ec"},"& label.Mui-focused":{color:"#51b4ec"}},dialog:{backgroundColor:"#242f39",color:"#ffffff"}},(0,v.Z)(t,"dialog",{"&.MuiDialog-root":{background:"#121c26",width:"100%"},"&.MuiDialogTitle-root":{background:"#121c26",width:"100%"},"&.MuiDialogActions-root":{background:"#121c26",width:"100%"},"&.MuiDialogContent-root":{background:"#121c26",width:"100%"},"&.MuiDialogContentText-root":{color:"#ffffff"}}),(0,v.Z)(t,"table",{"&.MuiTable-root":{backgroundColor:"#121c26"},"&.MuiTable-stickyHeader":{backgroundColor:"#121c26"},"&.MuiTableBody-root":{backgroundColor:"#121c26"},"&.MuiTableRow-root":{backgroundColor:"#121c26"},"&.MuiTableCell-root":{backgroundColor:"#121c26"}}),(0,v.Z)(t,"tableContainer",{"&.MuiTableContainer-root":{overflowY:"auto",overflowX:"auto",borderRadius:4,border:"1px solid gray",minHeight:"50vh",minWidth:"100%"}}),(0,v.Z)(t,"accordion",{"&.MuiAccordion-root":{backgroundColor:"#454c54",color:"#ffffff",borderTopLeftRadius:20,borderTopRightRadius:20,borderBottomLeftRadius:20,borderBottomRightRadius:20,"&.MuiPaper-root":{borderTopLeftRadius:20,borderTopRightRadius:20,borderBottomLeftRadius:20,borderBottomRightRadius:20}},"&.MuiAccordion-rounded":{}}),(0,v.Z)(t,"accordionSummary",{"&.MuiAccordionSummary-root":{backgroundColor:"#121c26",color:"#ffffff"}}),(0,v.Z)(t,"accordionSummaryExpanded",{"&.MuiAccordionSummary-root":{backgroundColor:"#121c26",color:"#51b4ec"}}),(0,v.Z)(t,"accordionDetail",{"&.MuiAccordionDetails-root":{backgroundColor:"#121c26",color:"#ffffff",borderRadius:4,border:"1px solid gray"}}),(0,v.Z)(t,"accordionIcon",{color:"#51b4ec",fontSize:15}),(0,v.Z)(t,"accordionIconExpanded",{color:"#51b4ec",fontSize:15}),(0,v.Z)(t,"accordionIconBackground",{backgroundColor:"gray",color:"#ffffff",borderRadius:20}),t})),Fo=n(51184);var Zo=e.createContext();function Bo(e){return(0,se.Z)("MuiGrid",e)}var zo=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Vo=(0,oe.Z)("MuiGrid",["root","container","item","zeroMinWidth"].concat((0,T.Z)([0,1,2,3,4,5,6,7,8,9,10].map((function(e){return"spacing-xs-".concat(e)}))),(0,T.Z)(["column-reverse","column","row-reverse","row"].map((function(e){return"direction-xs-".concat(e)}))),(0,T.Z)(["nowrap","wrap-reverse","wrap"].map((function(e){return"wrap-xs-".concat(e)}))),(0,T.Z)(zo.map((function(e){return"grid-xs-".concat(e)}))),(0,T.Z)(zo.map((function(e){return"grid-sm-".concat(e)}))),(0,T.Z)(zo.map((function(e){return"grid-md-".concat(e)}))),(0,T.Z)(zo.map((function(e){return"grid-lg-".concat(e)}))),(0,T.Z)(zo.map((function(e){return"grid-xl-".concat(e)}))))),jo=["className","columns","columnSpacing","component","container","direction","item","lg","md","rowSpacing","sm","spacing","wrap","xl","xs","zeroMinWidth"];function Wo(e){var t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function Uo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]||"spacing-xs-".concat(String(e))];var r=e.xs,i=e.sm,a=e.md,o=e.lg,s=e.xl;return[Number(r)>0&&(n["spacing-xs-".concat(String(r))]||"spacing-xs-".concat(String(r))),Number(i)>0&&(n["spacing-sm-".concat(String(i))]||"spacing-sm-".concat(String(i))),Number(a)>0&&(n["spacing-md-".concat(String(a))]||"spacing-md-".concat(String(a))),Number(o)>0&&(n["spacing-lg-".concat(String(o))]||"spacing-lg-".concat(String(o))),Number(s)>0&&(n["spacing-xl-".concat(String(s))]||"spacing-xl-".concat(String(s)))]}var Ho=(0,b.ZP)("div",{name:"MuiGrid",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.container,i=n.direction,a=n.item,o=n.lg,s=n.md,u=n.sm,l=n.spacing,c=n.wrap,d=n.xl,f=n.xs,h=n.zeroMinWidth;return[t.root,r&&t.container,a&&t.item,h&&t.zeroMinWidth].concat((0,T.Z)(Uo(l,r,t)),["row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==c&&t["wrap-xs-".concat(String(c))],!1!==f&&t["grid-xs-".concat(String(f))],!1!==u&&t["grid-sm-".concat(String(u))],!1!==s&&t["grid-md-".concat(String(s))],!1!==o&&t["grid-lg-".concat(String(o))],!1!==d&&t["grid-xl-".concat(String(d))]])}})((function(e){var t=e.ownerState;return(0,i.Z)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){var t=e.theme,n=e.ownerState,r=(0,Fo.P$)({values:n.direction,breakpoints:t.breakpoints.values});return(0,Fo.k9)({theme:t},r,(function(e){var t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(Vo.item)]={maxWidth:"none"}),t}))}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.rowSpacing,a={};if(r&&0!==i){var o=(0,Fo.P$)({values:i,breakpoints:t.breakpoints.values});a=(0,Fo.k9)({theme:t},o,(function(e){var n=t.spacing(e);return"0px"!==n?(0,v.Z)({marginTop:"-".concat(Wo(n))},"& > .".concat(Vo.item),{paddingTop:Wo(n)}):{}}))}return a}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.columnSpacing,a={};if(r&&0!==i){var o=(0,Fo.P$)({values:i,breakpoints:t.breakpoints.values});a=(0,Fo.k9)({theme:t},o,(function(e){var n=t.spacing(e);return"0px"!==n?(0,v.Z)({width:"calc(100% + ".concat(Wo(n),")"),marginLeft:"-".concat(Wo(n))},"& > .".concat(Vo.item),{paddingLeft:Wo(n)}):{}}))}return a}),(function(e){var t,n=e.theme,r=e.ownerState;return n.breakpoints.keys.reduce((function(e,a){var o={};if(r[a]&&(t=r[a]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{var s=(0,Fo.P$)({values:r.columns,breakpoints:n.breakpoints.values}),u="object"===typeof s?s[a]:s;if(void 0===u||null===u)return e;var l="".concat(Math.round(t/u*1e8)/1e6,"%"),c={};if(r.container&&r.item&&0!==r.columnSpacing){var d=n.spacing(r.columnSpacing);if("0px"!==d){var f="calc(".concat(l," + ").concat(Wo(d),")");c={flexBasis:f,maxWidth:f}}}o=(0,i.Z)({flexBasis:l,flexGrow:0,maxWidth:l},c)}return 0===n.breakpoints.values[a]?Object.assign(e,o):e[n.breakpoints.up(a)]=o,e}),{})})),Go=e.forwardRef((function(t,n){var r=E((0,fe.Z)({props:t,name:"MuiGrid"})),a=r.className,o=r.columns,s=r.columnSpacing,l=r.component,c=void 0===l?"div":l,d=r.container,f=void 0!==d&&d,h=r.direction,p=void 0===h?"row":h,m=r.item,g=void 0!==m&&m,v=r.lg,y=void 0!==v&&v,x=r.md,b=void 0!==x&&x,w=r.rowSpacing,_=r.sm,k=void 0!==_&&_,D=r.spacing,I=void 0===D?0:D,A=r.wrap,M=void 0===A?"wrap":A,N=r.xl,R=void 0!==N&&N,P=r.xs,O=void 0!==P&&P,F=r.zeroMinWidth,Z=void 0!==F&&F,B=(0,S.Z)(r,jo),z=w||I,V=s||I,j=e.useContext(Zo),W=f?o||12:j,U=(0,i.Z)({},r,{columns:W,container:f,direction:p,item:g,lg:y,md:b,sm:k,rowSpacing:z,columnSpacing:V,wrap:M,xl:R,xs:O,zeroMinWidth:Z}),H=function(e){var t=e.classes,n=e.container,r=e.direction,i=e.item,a=e.lg,o=e.md,s=e.sm,u=e.spacing,l=e.wrap,c=e.xl,d=e.xs,f={root:["root",n&&"container",i&&"item",e.zeroMinWidth&&"zeroMinWidth"].concat((0,T.Z)(Uo(u,n)),["row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==l&&"wrap-xs-".concat(String(l)),!1!==d&&"grid-xs-".concat(String(d)),!1!==s&&"grid-sm-".concat(String(s)),!1!==o&&"grid-md-".concat(String(o)),!1!==a&&"grid-lg-".concat(String(a)),!1!==c&&"grid-xl-".concat(String(c))])};return(0,L.Z)(f,Bo,t)}(U);return(0,u.jsx)(Zo.Provider,{value:W,children:(0,u.jsx)(Ho,(0,i.Z)({ownerState:U,className:(0,C.Z)(H.root,a),as:c,ref:n},B))})})),Xo=n(46189),qo=(n(57441),n(98301)),Yo=Y,Ko=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Qo(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Jo(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function $o(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function es(e,t,n,r,i,a){for(var o=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(o)return!1;o=!0}var u=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&$o(s,a)&&!u)return s.focus(),!0;s=i(e,s,n)}return!1}var ts=e.forwardRef((function(t,n){var r=t.actions,a=t.autoFocus,o=void 0!==a&&a,s=t.autoFocusItem,l=void 0!==s&&s,c=t.children,d=t.className,f=t.disabledItemsFocusable,h=void 0!==f&&f,p=t.disableListWrap,m=void 0!==p&&p,g=t.onKeyDown,v=t.variant,y=void 0===v?"selectedMenu":v,x=(0,S.Z)(t,Ko),b=e.useRef(null),w=e.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,Bn.Z)((function(){o&&b.current.focus()}),[o]),e.useImperativeHandle(r,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!b.current.style.width;if(e.clientHeight<b.current.clientHeight&&n){var r="".concat(Yo((0,qo.Z)(e)),"px");b.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,b.current.style.width="calc(100% + ".concat(r,")")}return b.current}}}),[]);var _=(0,Te.Z)(b,n),C=-1;e.Children.forEach(c,(function(t,n){e.isValidElement(t)&&(t.props.disabled||("selectedMenu"===y&&t.props.selected||-1===C)&&(C=n))}));var k=e.Children.map(c,(function(t,n){if(n===C){var r={};return l&&(r.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===y&&(r.tabIndex=0),e.cloneElement(t,r)}return t}));return(0,u.jsx)(wt,(0,i.Z)({role:"menu",ref:_,className:d,onKeyDown:function(e){var t=b.current,n=e.key,r=(0,qo.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),es(t,r,m,h,Qo);else if("ArrowUp"===n)e.preventDefault(),es(t,r,m,h,Jo);else if("Home"===n)e.preventDefault(),es(t,null,m,h,Qo);else if("End"===n)e.preventDefault(),es(t,null,m,h,Jo);else if(1===n.length){var i=w.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var s=r&&!i.repeating&&$o(r,i);i.previousKeyMatched&&(s||es(t,r,!1,h,Qo,i))?e.preventDefault():i.previousKeyMatched=!1}g&&g(e)},tabIndex:o?0:-1},x,{children:k}))})),ns=ts,rs=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function is(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var as={entering:{opacity:1,transform:is(1)},entered:{opacity:1,transform:"none"}},os="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)[4-9]/i.test(navigator.userAgent),ss=e.forwardRef((function(t,n){var r=t.addEndListener,a=t.appear,o=void 0===a||a,s=t.children,l=t.easing,c=t.in,d=t.onEnter,f=t.onEntered,h=t.onEntering,p=t.onExit,m=t.onExited,g=t.onExiting,v=t.style,y=t.timeout,x=void 0===y?"auto":y,b=t.TransitionComponent,w=void 0===b?Ce:b,C=(0,S.Z)(t,rs),k=e.useRef(),D=e.useRef(),T=_(),I=e.useRef(null),A=(0,Te.Z)(s.ref,n),M=(0,Te.Z)(I,A),E=function(e){return function(t){if(e){var n=I.current;void 0===t?e(n):e(n,t)}}},N=E(h),R=E((function(e,t){ke(e);var n,r=De({style:v,timeout:x,easing:l},{mode:"enter"}),i=r.duration,a=r.delay,o=r.easing;"auto"===x?(n=T.transitions.getAutoHeightDuration(e.clientHeight),D.current=n):n=i,e.style.transition=[T.transitions.create("opacity",{duration:n,delay:a}),T.transitions.create("transform",{duration:os?n:.666*n,delay:a,easing:o})].join(","),d&&d(e,t)})),P=E(f),O=E(g),L=E((function(e){var t,n=De({style:v,timeout:x,easing:l},{mode:"exit"}),r=n.duration,i=n.delay,a=n.easing;"auto"===x?(t=T.transitions.getAutoHeightDuration(e.clientHeight),D.current=t):t=r,e.style.transition=[T.transitions.create("opacity",{duration:t,delay:i}),T.transitions.create("transform",{duration:os?t:.666*t,delay:os?i:i||.333*t,easing:a})].join(","),e.style.opacity=0,e.style.transform=is(.75),p&&p(e)})),F=E(m);return e.useEffect((function(){return function(){clearTimeout(k.current)}}),[]),(0,u.jsx)(w,(0,i.Z)({appear:o,in:c,nodeRef:I,onEnter:R,onEntered:P,onEntering:N,onExit:L,onExited:F,onExiting:O,addEndListener:function(e){"auto"===x&&(k.current=setTimeout(e,D.current||0)),r&&r(I.current,e)},timeout:"auto"===x?null:x},C,{children:function(t,n){return e.cloneElement(s,(0,i.Z)({style:(0,i.Z)({opacity:0,transform:is(.75),visibility:"exited"!==t||c?void 0:"hidden"},as[t],v,s.props.style),ref:M},n))}}))}));ss.muiSupportAuto=!0;var us=ss;function ls(e){return(0,se.Z)("MuiPopover",e)}(0,oe.Z)("MuiPopover",["root","paper"]);var cs=["onEntering"],ds=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function fs(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function hs(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function ps(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function ms(e){return"function"===typeof e?e():e}var gs=(0,b.ZP)(Be,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),vs=(0,b.ZP)(Qe,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),ys=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiPopover"}),a=r.action,o=r.anchorEl,s=r.anchorOrigin,l=void 0===s?{vertical:"top",horizontal:"left"}:s,c=r.anchorPosition,d=r.anchorReference,f=void 0===d?"anchorEl":d,h=r.children,p=r.className,m=r.container,g=r.elevation,v=void 0===g?8:g,y=r.marginThreshold,x=void 0===y?16:y,b=r.open,w=r.PaperProps,_=void 0===w?{}:w,k=r.transformOrigin,D=void 0===k?{vertical:"top",horizontal:"left"}:k,T=r.TransitionComponent,I=void 0===T?us:T,A=r.transitionDuration,M=void 0===A?"auto":A,E=r.TransitionProps,N=(E=void 0===E?{}:E).onEntering,R=(0,S.Z)(r.TransitionProps,cs),P=(0,S.Z)(r,ds),O=e.useRef(),F=(0,Te.Z)(O,_.ref),Z=(0,i.Z)({},r,{anchorOrigin:l,anchorReference:f,elevation:v,marginThreshold:x,PaperProps:_,transformOrigin:D,TransitionComponent:I,transitionDuration:M,TransitionProps:R}),B=function(e){var t=e.classes;return(0,L.Z)({root:["root"],paper:["paper"]},ls,t)}(Z),z=e.useCallback((function(){if("anchorPosition"===f)return c;var e=ms(o),t=(e&&1===e.nodeType?e:(0,qo.Z)(O.current).body).getBoundingClientRect();return{top:t.top+fs(t,l.vertical),left:t.left+hs(t,l.horizontal)}}),[o,l.horizontal,l.vertical,c,f]),V=e.useCallback((function(e){return{vertical:fs(e,D.vertical),horizontal:hs(e,D.horizontal)}}),[D.horizontal,D.vertical]),j=e.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=V(t);if("none"===f)return{top:null,left:null,transformOrigin:ps(n)};var r=z(),i=r.top-n.vertical,a=r.left-n.horizontal,s=i+t.height,u=a+t.width,l=(0,Ve.Z)(ms(o)),c=l.innerHeight-x,d=l.innerWidth-x;if(i<x){var h=i-x;i-=h,n.vertical+=h}else if(s>c){var p=s-c;i-=p,n.vertical+=p}if(a<x){var m=a-x;a-=m,n.horizontal+=m}else if(u>d){var g=u-d;a-=g,n.horizontal+=g}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:ps(n)}}),[o,f,z,V,x]),W=e.useCallback((function(){var e=O.current;if(e){var t=j(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[j]);e.useEffect((function(){b&&W()})),e.useImperativeHandle(a,(function(){return b?{updatePosition:function(){W()}}:null}),[b,W]),e.useEffect((function(){if(b){var e=(0,ze.Z)((function(){W()})),t=(0,Ve.Z)(o);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[o,b,W]);var U=M;"auto"!==M||I.muiSupportAuto||(U=void 0);var H=m||(o?(0,qo.Z)(ms(o)).body:void 0);return(0,u.jsx)(gs,(0,i.Z)({BackdropProps:{invisible:!0},className:(0,C.Z)(B.root,p),container:H,open:b,ref:n,ownerState:Z},P,{children:(0,u.jsx)(I,(0,i.Z)({appear:!0,in:b,onEntering:function(e,t){N&&N(e,t),W()},timeout:U},R,{children:(0,u.jsx)(vs,(0,i.Z)({elevation:v},_,{ref:F,className:(0,C.Z)(B.paper,_.className),children:h}))}))}))})),xs=ys;function bs(e){return(0,se.Z)("MuiMenu",e)}(0,oe.Z)("MuiMenu",["root","paper","list"]);var ws=["onEntering"],_s=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],Ss={vertical:"top",horizontal:"right"},Cs={vertical:"top",horizontal:"left"},ks=(0,b.ZP)(xs,{shouldForwardProp:function(e){return(0,b.FO)(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Ds=(0,b.ZP)(Qe,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Ts=(0,b.ZP)(ns,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),Is=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiMenu"}),a=r.autoFocus,o=void 0===a||a,s=r.children,l=r.disableAutoFocusItem,c=void 0!==l&&l,d=r.MenuListProps,f=void 0===d?{}:d,h=r.onClose,p=r.open,m=r.PaperProps,g=void 0===m?{}:m,v=r.PopoverClasses,y=r.transitionDuration,x=void 0===y?"auto":y,b=r.TransitionProps,w=(b=void 0===b?{}:b).onEntering,k=r.variant,D=void 0===k?"selectedMenu":k,T=(0,S.Z)(r.TransitionProps,ws),I=(0,S.Z)(r,_s),A=_(),M="rtl"===A.direction,E=(0,i.Z)({},r,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:f,onEntering:w,PaperProps:g,transitionDuration:x,TransitionProps:T,variant:D}),N=function(e){var t=e.classes;return(0,L.Z)({root:["root"],paper:["paper"],list:["list"]},bs,t)}(E),R=o&&!c&&p,P=e.useRef(null),O=-1;return e.Children.map(s,(function(t,n){e.isValidElement(t)&&(t.props.disabled||("selectedMenu"===D&&t.props.selected||-1===O)&&(O=n))})),(0,u.jsx)(ks,(0,i.Z)({classes:v,onClose:h,anchorOrigin:{vertical:"bottom",horizontal:M?"right":"left"},transformOrigin:M?Ss:Cs,PaperProps:(0,i.Z)({component:Ds},g,{classes:(0,i.Z)({},g.classes,{root:N.paper})}),className:N.root,open:p,ref:n,transitionDuration:x,TransitionProps:(0,i.Z)({onEntering:function(e,t){P.current&&P.current.adjustStyleForScrollbar(e,A),w&&w(e,t)}},T),ownerState:E},I,{children:(0,u.jsx)(Ts,(0,i.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),h&&h(e,"tabKeyDown"))},actions:P,autoFocus:o&&(-1===O||c),autoFocusItem:R,variant:D},f,{className:(0,C.Z)(N.list,f.className),children:s}))}))})),As=Is;function Ms(e){return(0,se.Z)("MuiNativeSelect",e)}var Es=(0,oe.Z)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),Ns=["className","disabled","IconComponent","inputRef","variant"],Rs=function(e){var t,n=e.ownerState,r=e.theme;return(0,i.Z)((t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"}},(0,v.Z)(t,"&.".concat(Es.disabled),{cursor:"default"}),(0,v.Z)(t,"&[multiple]",{height:"auto"}),(0,v.Z)(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:r.palette.background.paper}),(0,v.Z)(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:r.shape.borderRadius,"&:focus":{borderRadius:r.shape.borderRadius},"&&&":{paddingRight:32}})},Ps=(0,b.ZP)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:b.FO,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],(0,v.Z)({},"&.".concat(Es.multiple),t.multiple)]}})(Rs),Os=function(e){var t=e.ownerState,n=e.theme;return(0,i.Z)((0,v.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:n.palette.action.active},"&.".concat(Es.disabled),{color:n.palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},Ls=(0,b.ZP)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat((0,Je.Z)(n.variant))],n.open&&t.iconOpen]}})(Os),Fs=e.forwardRef((function(t,n){var r=t.className,a=t.disabled,o=t.IconComponent,s=t.inputRef,l=t.variant,c=void 0===l?"standard":l,d=(0,S.Z)(t,Ns),f=(0,i.Z)({},t,{disabled:a,variant:c}),h=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open,o={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat((0,Je.Z)(n)),a&&"iconOpen",r&&"disabled"]};return(0,L.Z)(o,Ms,t)}(f);return(0,u.jsxs)(e.Fragment,{children:[(0,u.jsx)(Ps,(0,i.Z)({ownerState:f,className:(0,C.Z)(h.select,r),disabled:a,ref:s||n},d)),t.multiple?null:(0,u.jsx)(Ls,{as:o,ownerState:f,className:h.icon})]})}));function Zs(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function Bs(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Zs(e.value)&&""!==e.value||t&&Zs(e.defaultValue)&&""!==e.defaultValue)}var zs=n(98278);function Vs(e){return(0,se.Z)("MuiSelect",e)}var js,Ws=(0,oe.Z)("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),Us=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Hs=(0,b.ZP)("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[(0,v.Z)({},"&.".concat(Ws.select),t.select),(0,v.Z)({},"&.".concat(Ws.select),t[n.variant]),(0,v.Z)({},"&.".concat(Ws.multiple),t.multiple)]}})(Rs,(0,v.Z)({},"&.".concat(Ws.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),Gs=(0,b.ZP)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat((0,Je.Z)(n.variant))],n.open&&t.iconOpen]}})(Os),Xs=(0,b.ZP)("input",{shouldForwardProp:function(e){return(0,b.Dz)(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function qs(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function Ys(e){return null==e||"string"===typeof e&&!e.trim()}var Ks=e.forwardRef((function(t,n){var r=t["aria-describedby"],a=t["aria-label"],o=t.autoFocus,s=t.autoWidth,l=t.children,c=t.className,d=t.defaultOpen,f=t.defaultValue,h=t.disabled,p=t.displayEmpty,m=t.IconComponent,v=t.inputRef,y=t.labelId,x=t.MenuProps,b=void 0===x?{}:x,w=t.multiple,_=t.name,k=t.onBlur,D=t.onChange,T=t.onClose,I=t.onFocus,A=t.onOpen,M=t.open,E=t.readOnly,N=t.renderValue,R=t.SelectDisplayProps,P=void 0===R?{}:R,O=t.tabIndex,F=t.value,Z=t.variant,B=void 0===Z?"standard":Z,z=(0,S.Z)(t,Us),V=(0,zs.Z)({controlled:F,default:f,name:"Select"}),j=(0,g.Z)(V,2),W=j[0],U=j[1],H=(0,zs.Z)({controlled:M,default:d,name:"Select"}),G=(0,g.Z)(H,2),X=G[0],q=G[1],Y=e.useRef(null),K=e.useRef(null),Q=e.useState(null),J=(0,g.Z)(Q,2),$=J[0],ee=J[1],te=e.useRef(null!=M).current,ne=e.useState(),re=(0,g.Z)(ne,2),ie=re[0],ae=re[1],oe=(0,Te.Z)(n,v),se=e.useCallback((function(e){K.current=e,e&&ee(e)}),[]);e.useImperativeHandle(oe,(function(){return{focus:function(){K.current.focus()},node:Y.current,value:W}}),[W]),e.useEffect((function(){d&&X&&$&&!te&&(ae(s?null:$.clientWidth),K.current.focus())}),[$,s]),e.useEffect((function(){o&&K.current.focus()}),[o]),e.useEffect((function(){if(y){var e=(0,qo.Z)(K.current).getElementById(y);if(e){var t=function(){getSelection().isCollapsed&&K.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[y]);var ue,le,ce=function(e,t){e?A&&A(t):T&&T(t),te||(ae(s?null:$.clientWidth),q(e))},de=e.Children.toArray(l),fe=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(w){n=Array.isArray(W)?W.slice():[];var r=W.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),W!==n&&(U(n),D)){var i=t.nativeEvent||t,a=new i.constructor(i.type,i);Object.defineProperty(a,"target",{writable:!0,value:{value:n,name:_}}),D(a,e)}w||ce(!1,t)}}},he=null!==$&&X;delete z["aria-invalid"];var pe=[],me=!1;(Bs({value:W})||p)&&(N?ue=N(W):me=!0);var ge=de.map((function(t,n,r){if(!e.isValidElement(t))return null;var i;if(w){if(!Array.isArray(W))throw new Error((0,Xo.Z)(2));(i=W.some((function(e){return qs(e,t.props.value)})))&&me&&pe.push(t.props.children)}else(i=qs(W,t.props.value))&&me&&(le=t.props.children);if(i&&!0,void 0===t.props.value)return e.cloneElement(t,{"aria-readonly":!0,role:"option"});return e.cloneElement(t,{"aria-selected":i?"true":"false",onClick:fe(t),onKeyUp:function(e){" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:void 0===r[0].props.value||!0===r[0].props.disabled?function(){if(W)return i;var e=r.find((function(e){return void 0!==e.props.value&&!0!==e.props.disabled}));return t===e||i}():i,value:void 0,"data-value":t.props.value})}));me&&(ue=w?0===pe.length?null:pe.reduce((function(e,t,n){return e.push(t),n<pe.length-1&&e.push(", "),e}),[]):le);var ve,ye=ie;!s&&te&&$&&(ye=$.clientWidth),ve="undefined"!==typeof O?O:h?null:0;var xe=P.id||(_?"mui-component-select-".concat(_):void 0),be=(0,i.Z)({},t,{variant:B,value:W,open:he}),we=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open,o={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat((0,Je.Z)(n)),a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,L.Z)(o,Vs,t)}(be);return(0,u.jsxs)(e.Fragment,{children:[(0,u.jsx)(Hs,(0,i.Z)({ref:se,tabIndex:ve,role:"button","aria-disabled":h?"true":void 0,"aria-expanded":he?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[y,xe].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:function(e){if(!E){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ce(!0,e))}},onMouseDown:h||E?null:function(e){0===e.button&&(e.preventDefault(),K.current.focus(),ce(!0,e))},onBlur:function(e){!he&&k&&(Object.defineProperty(e,"target",{writable:!0,value:{value:W,name:_}}),k(e))},onFocus:I},P,{ownerState:be,className:(0,C.Z)(we.select,c,P.className),id:xe,children:Ys(ue)?js||(js=(0,u.jsx)("span",{className:"notranslate",children:"\u200b"})):ue})),(0,u.jsx)(Xs,(0,i.Z)({value:Array.isArray(W)?W.join(","):W,name:_,ref:Y,"aria-hidden":!0,onChange:function(e){var t=de.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=de[t];U(n.props.value),D&&D(e,n)}},tabIndex:-1,disabled:h,className:we.nativeInput,autoFocus:o,ownerState:be},z)),(0,u.jsx)(Gs,{as:m,className:we.icon,ownerState:be}),(0,u.jsx)(As,(0,i.Z)({id:"menu-".concat(_||""),anchorEl:$,open:he,onClose:function(e){ce(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},b,{MenuListProps:(0,i.Z)({"aria-labelledby":y,role:"listbox",disableListWrap:!0},b.MenuListProps),PaperProps:(0,i.Z)({},b.PaperProps,{style:(0,i.Z)({minWidth:ye},null!=b.PaperProps?b.PaperProps.style:null)}),children:ge}))]})})),Qs=Ks;function Js(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var $s=e.createContext();function eu(){return e.useContext($s)}var tu=n(74223),nu=(0,tu.Z)((0,u.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),ru=n(93981),iu=["onChange","maxRows","minRows","style","value"];function au(e,t){return parseInt(e[t],10)||0}var ou={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},su=e.forwardRef((function(t,n){var r=t.onChange,a=t.maxRows,o=t.minRows,s=void 0===o?1:o,l=t.style,c=t.value,d=(0,S.Z)(t,iu),f=e.useRef(null!=c).current,h=e.useRef(null),p=(0,Z.Z)(n,h),m=e.useRef(null),v=e.useRef(0),y=e.useState({}),x=(0,g.Z)(y,2),b=x[0],w=x[1],_=e.useCallback((function(){var e=h.current,n=(0,q.Z)(e).getComputedStyle(e);if("0px"!==n.width){var r=m.current;r.style.width=n.width,r.value=e.value||t.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],o=au(n,"padding-bottom")+au(n,"padding-top"),u=au(n,"border-bottom-width")+au(n,"border-top-width"),l=r.scrollHeight;r.value="x";var c=r.scrollHeight,d=l;s&&(d=Math.max(Number(s)*c,d)),a&&(d=Math.min(Number(a)*c,d));var f=(d=Math.max(d,c))+("border-box"===i?o+u:0),p=Math.abs(d-l)<=1;w((function(e){return v.current<20&&(f>0&&Math.abs((e.outerHeightStyle||0)-f)>1||e.overflow!==p)?(v.current+=1,{overflow:p,outerHeightStyle:f}):e}))}}),[a,s,t.placeholder]);e.useEffect((function(){var e,t=(0,ru.Z)((function(){v.current=0,_()})),n=(0,q.Z)(h.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(h.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[_]),(0,W.Z)((function(){_()})),e.useEffect((function(){v.current=0}),[c]);return(0,u.jsxs)(e.Fragment,{children:[(0,u.jsx)("textarea",(0,i.Z)({value:c,onChange:function(e){v.current=0,f||_(),r&&r(e)},ref:p,rows:s,style:(0,i.Z)({height:b.outerHeightStyle,overflow:b.overflow?"hidden":null},l)},d)),(0,u.jsx)("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:m,tabIndex:-1,style:(0,i.Z)({},ou,l,{padding:0})})]})})),uu=su;function lu(e){return(0,se.Z)("MuiInputBase",e)}var cu=(0,oe.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),du=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],fu=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat((0,Je.Z)(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},hu=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},pu=(0,b.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:fu})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({},t.typography.body1,(0,v.Z)({color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(cu.disabled),{color:(t.vars||t).palette.text.disabled,cursor:"default"}),n.multiline&&(0,i.Z)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),mu=(0,b.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:hu})((function(e){var t,n=e.theme,r=e.ownerState,a="light"===n.palette.mode,o=(0,i.Z)({color:"currentColor"},n.vars?{opacity:n.vars.opacity.placeholder}:{opacity:a?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),s={opacity:"0 !important"},u=n.vars?{opacity:n.vars.opacity.placeholder}:{opacity:a?.42:.5};return(0,i.Z)((t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},(0,v.Z)(t,"label[data-shrink=false] + .".concat(cu.formControl," &"),{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u}),(0,v.Z)(t,"&.".concat(cu.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),(0,v.Z)(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),gu=(0,u.jsx)(At,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),vu=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiInputBase"}),a=r["aria-describedby"],o=r.autoComplete,s=r.autoFocus,l=r.className,c=r.components,d=void 0===c?{}:c,f=r.componentsProps,h=void 0===f?{}:f,p=r.defaultValue,m=r.disabled,v=r.disableInjectingGlobalStyles,y=r.endAdornment,x=r.fullWidth,b=void 0!==x&&x,w=r.id,_=r.inputComponent,k=void 0===_?"input":_,D=r.inputProps,T=void 0===D?{}:D,I=r.inputRef,A=r.maxRows,M=r.minRows,E=r.multiline,N=void 0!==E&&E,R=r.name,P=r.onBlur,O=r.onChange,Z=r.onClick,B=r.onFocus,z=r.onKeyDown,V=r.onKeyUp,j=r.placeholder,W=r.readOnly,U=r.renderSuffix,H=r.rows,G=r.startAdornment,X=r.type,q=void 0===X?"text":X,Y=r.value,K=(0,S.Z)(r,du),Q=null!=T.value?T.value:Y,J=e.useRef(null!=Q).current,$=e.useRef(),ee=e.useCallback((function(e){0}),[]),te=(0,Te.Z)(T.ref,ee),ne=(0,Te.Z)(I,te),re=(0,Te.Z)($,ne),ie=e.useState(!1),ae=(0,g.Z)(ie,2),oe=ae[0],se=ae[1],ue=eu();var le=Js({props:r,muiFormControl:ue,states:["color","disabled","error","hiddenLabel","size","required","filled"]});le.focused=ue?ue.focused:oe,e.useEffect((function(){!ue&&m&&oe&&(se(!1),P&&P())}),[ue,m,oe,P]);var ce=ue&&ue.onFilled,de=ue&&ue.onEmpty,he=e.useCallback((function(e){Bs(e)?ce&&ce():de&&de()}),[ce,de]);(0,Bn.Z)((function(){J&&he({value:Q})}),[Q,he,J]);e.useEffect((function(){he($.current)}),[]);var pe=k,me=T;N&&"input"===pe&&(me=H?(0,i.Z)({type:void 0,minRows:H,maxRows:H},me):(0,i.Z)({type:void 0,maxRows:A,minRows:M},me),pe=uu);e.useEffect((function(){ue&&ue.setAdornedStart(Boolean(G))}),[ue,G]);var ge=(0,i.Z)({},r,{color:le.color||"primary",disabled:le.disabled,endAdornment:y,error:le.error,focused:le.focused,formControl:ue,fullWidth:b,hiddenLabel:le.hiddenLabel,multiline:N,size:le.size,startAdornment:G,type:q}),ve=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,s=e.formControl,u=e.fullWidth,l=e.hiddenLabel,c=e.multiline,d=e.size,f=e.startAdornment,h=e.type,p={root:["root","color".concat((0,Je.Z)(n)),r&&"disabled",i&&"error",u&&"fullWidth",o&&"focused",s&&"formControl","small"===d&&"sizeSmall",c&&"multiline",f&&"adornedStart",a&&"adornedEnd",l&&"hiddenLabel"],input:["input",r&&"disabled","search"===h&&"inputTypeSearch",c&&"inputMultiline","small"===d&&"inputSizeSmall",l&&"inputHiddenLabel",f&&"inputAdornedStart",a&&"inputAdornedEnd"]};return(0,L.Z)(p,lu,t)}(ge),ye=d.Root||pu,xe=h.root||{},be=d.Input||mu;return me=(0,i.Z)({},me,h.input),(0,u.jsxs)(e.Fragment,{children:[!v&&gu,(0,u.jsxs)(ye,(0,i.Z)({},xe,!F(ye)&&{ownerState:(0,i.Z)({},ge,xe.ownerState)},{ref:n,onClick:function(e){$.current&&e.currentTarget===e.target&&$.current.focus(),Z&&Z(e)}},K,{className:(0,C.Z)(ve.root,xe.className,l),children:[G,(0,u.jsx)($s.Provider,{value:null,children:(0,u.jsx)(be,(0,i.Z)({ownerState:ge,"aria-invalid":le.error,"aria-describedby":a,autoComplete:o,autoFocus:s,defaultValue:p,disabled:le.disabled,id:w,onAnimationStart:function(e){he("mui-auto-fill-cancel"===e.animationName?$.current:{value:"x"})},name:R,placeholder:j,readOnly:W,required:le.required,rows:H,value:Q,onKeyDown:z,onKeyUp:V,type:q},me,!F(be)&&{as:pe,ownerState:(0,i.Z)({},ge,me.ownerState)},{ref:re,className:(0,C.Z)(ve.input,me.className),onBlur:function(e){P&&P(e),T.onBlur&&T.onBlur(e),ue&&ue.onBlur?ue.onBlur(e):se(!1)},onChange:function(e){if(!J){var t=e.target||$.current;if(null==t)throw new Error((0,Xo.Z)(1));he({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];T.onChange&&T.onChange.apply(T,[e].concat(r)),O&&O.apply(void 0,[e].concat(r))},onFocus:function(e){le.disabled?e.stopPropagation():(B&&B(e),T.onFocus&&T.onFocus(e),ue&&ue.onFocus?ue.onFocus(e):se(!0))}}))}),y,U?U((0,i.Z)({},le,{startAdornment:G})):null]}))]})})),yu=vu;function xu(e){return(0,se.Z)("MuiInput",e)}var bu=(0,i.Z)({},cu,(0,oe.Z)("MuiInput",["root","underline","input"])),wu=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],_u=(0,b.ZP)(pu,{shouldForwardProp:function(e){return(0,b.FO)(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,T.Z)(fu(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,a="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(a="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputTouchBottomLine,")")),(0,i.Z)({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(t={"&:after":{borderBottom:"2px solid ".concat((n.vars||n).palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},(0,v.Z)(t,"&.".concat(bu.focused,":after"),{transform:"scaleX(1) translateX(0)"}),(0,v.Z)(t,"&.".concat(bu.error,":after"),{borderBottomColor:(n.vars||n).palette.error.main,transform:"scaleX(1)"}),(0,v.Z)(t,"&:before",{borderBottom:"1px solid ".concat(a),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),(0,v.Z)(t,"&:hover:not(.".concat(bu.disabled,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(a)}}),(0,v.Z)(t,"&.".concat(bu.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),Su=(0,b.ZP)(mu,{name:"MuiInput",slot:"Input",overridesResolver:hu})({}),Cu=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiInput"}),r=n.disableUnderline,a=n.components,o=void 0===a?{}:a,s=n.componentsProps,l=n.fullWidth,c=void 0!==l&&l,d=n.inputComponent,f=void 0===d?"input":d,h=n.multiline,p=void 0!==h&&h,m=n.type,g=void 0===m?"text":m,v=(0,S.Z)(n,wu),y=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},r=(0,L.Z)(n,xu,t);return(0,i.Z)({},t,r)}(n),x={root:{ownerState:{disableUnderline:r}}},b=s?(0,I.Z)(s,x):x;return(0,u.jsx)(yu,(0,i.Z)({components:(0,i.Z)({Root:_u,Input:Su},o),componentsProps:b,fullWidth:c,inputComponent:f,multiline:p,ref:t,type:g},v,{classes:y}))}));Cu.muiName="Input";var ku=Cu;function Du(e){return(0,se.Z)("MuiFilledInput",e)}var Tu=(0,i.Z)({},cu,(0,oe.Z)("MuiFilledInput",["root","underline","input"])),Iu=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],Au=(0,b.ZP)(pu,{shouldForwardProp:function(e){return(0,b.FO)(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,T.Z)(fu(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r,a=e.theme,o=e.ownerState,s="light"===a.palette.mode,u=s?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",l=s?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return(0,i.Z)((t={position:"relative",backgroundColor:l,borderTopLeftRadius:a.shape.borderRadius,borderTopRightRadius:a.shape.borderRadius,transition:a.transitions.create("background-color",{duration:a.transitions.duration.shorter,easing:a.transitions.easing.easeOut}),"&:hover":{backgroundColor:s?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:l}}},(0,v.Z)(t,"&.".concat(Tu.focused),{backgroundColor:l}),(0,v.Z)(t,"&.".concat(Tu.disabled),{backgroundColor:s?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}),t),!o.disableUnderline&&(n={"&:after":{borderBottom:"2px solid ".concat(null==(r=a.palette[o.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:a.transitions.create("transform",{duration:a.transitions.duration.shorter,easing:a.transitions.easing.easeOut}),pointerEvents:"none"}},(0,v.Z)(n,"&.".concat(Tu.focused,":after"),{transform:"scaleX(1) translateX(0)"}),(0,v.Z)(n,"&.".concat(Tu.error,":after"),{borderBottomColor:a.palette.error.main,transform:"scaleX(1)"}),(0,v.Z)(n,"&:before",{borderBottom:"1px solid ".concat(u),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:a.transitions.create("border-bottom-color",{duration:a.transitions.duration.shorter}),pointerEvents:"none"}),(0,v.Z)(n,"&:hover:not(.".concat(Tu.disabled,"):before"),{borderBottom:"1px solid ".concat(a.palette.text.primary)}),(0,v.Z)(n,"&.".concat(Tu.disabled,":before"),{borderBottomStyle:"dotted"}),n),o.startAdornment&&{paddingLeft:12},o.endAdornment&&{paddingRight:12},o.multiline&&(0,i.Z)({padding:"25px 12px 8px"},"small"===o.size&&{paddingTop:21,paddingBottom:4},o.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),Mu=(0,b.ZP)(mu,{name:"MuiFilledInput",slot:"Input",overridesResolver:hu})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),Eu=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiFilledInput"}),r=n.components,a=void 0===r?{}:r,o=n.componentsProps,s=n.fullWidth,l=void 0!==s&&s,c=n.inputComponent,d=void 0===c?"input":c,f=n.multiline,h=void 0!==f&&f,p=n.type,m=void 0===p?"text":p,g=(0,S.Z)(n,Iu),v=(0,i.Z)({},n,{fullWidth:l,inputComponent:d,multiline:h,type:m}),y=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},r=(0,L.Z)(n,Du,t);return(0,i.Z)({},t,r)}(n),x={root:{ownerState:v},input:{ownerState:v}},b=o?(0,I.Z)(o,x):x;return(0,u.jsx)(yu,(0,i.Z)({components:(0,i.Z)({Root:Au,Input:Mu},a),componentsProps:b,fullWidth:l,inputComponent:d,multiline:h,ref:t,type:m},g,{classes:y}))}));Eu.muiName="Input";var Nu,Ru=Eu,Pu=["children","classes","className","label","notched"],Ou=(0,b.ZP)("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Lu=(0,b.ZP)("legend")((function(e){var t=e.ownerState,n=e.theme;return(0,i.Z)({float:"unset",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,i.Z)({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function Fu(e){return(0,se.Z)("MuiOutlinedInput",e)}var Zu=(0,i.Z)({},cu,(0,oe.Z)("MuiOutlinedInput",["root","notchedOutline","input"])),Bu=["components","fullWidth","inputComponent","label","multiline","notched","type"],zu=(0,b.ZP)(pu,{shouldForwardProp:function(e){return(0,b.FO)(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:fu})((function(e){var t,n=e.theme,r=e.ownerState,a="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,i.Z)((t={position:"relative",borderRadius:n.shape.borderRadius},(0,v.Z)(t,"&:hover .".concat(Zu.notchedOutline),{borderColor:n.palette.text.primary}),(0,v.Z)(t,"@media (hover: none)",(0,v.Z)({},"&:hover .".concat(Zu.notchedOutline),{borderColor:a})),(0,v.Z)(t,"&.".concat(Zu.focused," .").concat(Zu.notchedOutline),{borderColor:n.palette[r.color].main,borderWidth:2}),(0,v.Z)(t,"&.".concat(Zu.error," .").concat(Zu.notchedOutline),{borderColor:n.palette.error.main}),(0,v.Z)(t,"&.".concat(Zu.disabled," .").concat(Zu.notchedOutline),{borderColor:n.palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&(0,i.Z)({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),Vu=(0,b.ZP)((function(e){var t=e.className,n=e.label,r=e.notched,a=(0,S.Z)(e,Pu),o=null!=n&&""!==n,s=(0,i.Z)({},e,{notched:r,withLabel:o});return(0,u.jsx)(Ou,(0,i.Z)({"aria-hidden":!0,className:t,ownerState:s},a,{children:(0,u.jsx)(Lu,{ownerState:s,children:o?(0,u.jsx)("span",{children:n}):Nu||(Nu=(0,u.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){return{borderColor:"light"===e.theme.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}})),ju=(0,b.ZP)(mu,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:hu})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({padding:"16.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),Wu=e.forwardRef((function(t,n){var r,a=(0,fe.Z)({props:t,name:"MuiOutlinedInput"}),o=a.components,s=void 0===o?{}:o,l=a.fullWidth,c=void 0!==l&&l,d=a.inputComponent,f=void 0===d?"input":d,h=a.label,p=a.multiline,m=void 0!==p&&p,g=a.notched,v=a.type,y=void 0===v?"text":v,x=(0,S.Z)(a,Bu),b=function(e){var t=e.classes,n=(0,L.Z)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Fu,t);return(0,i.Z)({},t,n)}(a),w=Js({props:a,muiFormControl:eu(),states:["required"]});return(0,u.jsx)(yu,(0,i.Z)({components:(0,i.Z)({Root:zu,Input:ju},s),renderSuffix:function(t){return(0,u.jsx)(Vu,{className:b.notchedOutline,label:null!=h&&""!==h&&w.required?r||(r=(0,u.jsxs)(e.Fragment,{children:[h,"\xa0","*"]})):h,notched:"undefined"!==typeof g?g:Boolean(t.startAdornment||t.filled||t.focused)})},fullWidth:c,inputComponent:f,multiline:m,ref:n,type:y},x,{classes:(0,i.Z)({},b,{notchedOutline:null})}))}));Wu.muiName="Input";var Uu,Hu,Gu=Wu,Xu=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],qu={name:"MuiSelect",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(e){return(0,b.FO)(e)&&"variant"!==e},slot:"Root"},Yu=(0,b.ZP)(ku,qu)(""),Ku=(0,b.ZP)(Gu,qu)(""),Qu=(0,b.ZP)(Ru,qu)(""),Ju=e.forwardRef((function(t,n){var r=(0,fe.Z)({name:"MuiSelect",props:t}),a=r.autoWidth,o=void 0!==a&&a,s=r.children,l=r.classes,c=void 0===l?{}:l,d=r.className,f=r.defaultOpen,h=void 0!==f&&f,p=r.displayEmpty,m=void 0!==p&&p,g=r.IconComponent,v=void 0===g?nu:g,y=r.id,x=r.input,b=r.inputProps,w=r.label,_=r.labelId,k=r.MenuProps,D=r.multiple,T=void 0!==D&&D,A=r.native,M=void 0!==A&&A,E=r.onClose,N=r.onOpen,R=r.open,P=r.renderValue,O=r.SelectDisplayProps,L=r.variant,F=void 0===L?"outlined":L,Z=(0,S.Z)(r,Xu),B=M?Fs:Qs,z=Js({props:r,muiFormControl:eu(),states:["variant"]}).variant||F,V=x||{standard:Uu||(Uu=(0,u.jsx)(Yu,{})),outlined:(0,u.jsx)(Ku,{label:w}),filled:Hu||(Hu=(0,u.jsx)(Qu,{}))}[z],j=function(e){return e.classes}((0,i.Z)({},r,{variant:z,classes:c})),W=(0,Te.Z)(n,V.ref);return e.cloneElement(V,(0,i.Z)({inputComponent:B,inputProps:(0,i.Z)({children:s,IconComponent:v,variant:z,type:void 0,multiple:T},M?{id:y}:{autoWidth:o,defaultOpen:h,displayEmpty:m,labelId:_,MenuProps:k,onClose:E,onOpen:N,open:R,renderValue:P,SelectDisplayProps:(0,i.Z)({id:y},O)},b,{classes:b?(0,I.Z)(j,b.classes):j},x?x.props.inputProps:{})},T&&M&&"outlined"===z?{notched:!0}:{},{ref:W,className:(0,C.Z)(V.props.className,d),variant:z},Z))}));Ju.muiName="Select";var $u=Ju;function el(e){return(0,se.Z)("MuiMenuItem",e)}var tl=(0,oe.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),nl=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],rl=(0,b.ZP)(In,{shouldForwardProp:function(e){return(0,b.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,i.Z)({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,v.Z)(t,"&.".concat(tl.selected),(0,v.Z)({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,Ge.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(tl.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,Ge.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,v.Z)(t,"&.".concat(tl.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,Ge.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,Ge.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,v.Z)(t,"&.".concat(tl.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),(0,v.Z)(t,"&.".concat(tl.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),(0,v.Z)(t,"& + .".concat(Vt.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),(0,v.Z)(t,"& + .".concat(Vt.inset),{marginLeft:52}),(0,v.Z)(t,"& .".concat(lr.root),{marginTop:0,marginBottom:0}),(0,v.Z)(t,"& .".concat(lr.inset),{paddingLeft:36}),(0,v.Z)(t,"& .".concat(ir.root),{minWidth:36}),t),!r.dense&&(0,v.Z)({},n.breakpoints.up("sm"),{minHeight:"auto"}),r.dense&&(0,i.Z)({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,(0,v.Z)({},"& .".concat(ir.root," svg"),{fontSize:"1.25rem"})))})),il=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiMenuItem"}),a=r.autoFocus,o=void 0!==a&&a,s=r.component,l=void 0===s?"li":s,c=r.dense,d=void 0!==c&&c,f=r.divider,h=void 0!==f&&f,p=r.disableGutters,m=void 0!==p&&p,g=r.focusVisibleClassName,v=r.role,y=void 0===v?"menuitem":v,x=r.tabIndex,b=(0,S.Z)(r,nl),w=e.useContext(vt),_={dense:d||w.dense||!1,disableGutters:m},k=e.useRef(null);(0,Bn.Z)((function(){o&&k.current&&k.current.focus()}),[o]);var D,T=(0,i.Z)({},r,{dense:_.dense,divider:h,disableGutters:m}),I=function(e){var t=e.disabled,n=e.dense,r=e.divider,a=e.disableGutters,o=e.selected,s=e.classes,u={root:["root",n&&"dense",t&&"disabled",!a&&"gutters",r&&"divider",o&&"selected"]},l=(0,L.Z)(u,el,s);return(0,i.Z)({},s,l)}(r),A=(0,Te.Z)(k,n);return r.disabled||(D=void 0!==x?x:-1),(0,u.jsx)(vt.Provider,{value:_,children:(0,u.jsx)(rl,(0,i.Z)({ref:A,role:y,tabIndex:D,component:l,focusVisibleClassName:(0,C.Z)(I.focusVisible,g)},b,{ownerState:T,classes:I}))})})),al=n(40478),ol=Lo;function sl(e){var t=ol(),n=e.label,r=e.items,i=e.value,a=e.onChange,o=e.editable,s=void 0===o||o,l=e.w,c=void 0===l?8:l,d=e.kde;return(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,children:[""!==n&&(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:4,lg:4,children:(0,u.jsxs)(Bt,{variant:"subtitle1",children:[n," :"]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:c,lg:c,children:(0,u.jsxs)($u,{disabled:!!d||!s,value:i,IconComponent:al.Z,autoFocus:!0,error:"select"===i,inputProps:{classes:{icon:t.selector,root:t.selector}},className:t.selector,MenuProps:{classes:{list:t.menuItem}},onChange:function(e){return a(e.target.value)},children:[r.map((function(e){return(0,u.jsx)(il,{value:e.value,className:t.menuItem,children:e.value},e.value)})),(0,u.jsx)(il,{value:i,children:(0,u.jsx)("em",{children:i})})]})})]})}var ul=n(35735);function ll(e){return(0,se.Z)("MuiButton",e)}var cl=(0,oe.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var dl=e.createContext({}),fl=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],hl=function(e){return(0,i.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},pl=(0,b.ZP)(In,{shouldForwardProp:function(e){return(0,b.FO)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,Je.Z)(n.color))],t["size".concat((0,Je.Z)(n.size))],t["".concat(n.variant,"Size").concat((0,Je.Z)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,a=e.theme,o=e.ownerState;return(0,i.Z)({},a.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:(a.vars||a).shape.borderRadius,transition:a.transitions.create(["background-color","box-shadow","border-color","color"],{duration:a.transitions.duration.short}),"&:hover":(0,i.Z)({textDecoration:"none",backgroundColor:a.vars?"rgba(".concat(a.vars.palette.text.primaryChannel," / ").concat(a.vars.palette.action.hoverOpacity,")"):(0,Ge.Fq)(a.palette.text.primary,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===o.variant&&"inherit"!==o.color&&{backgroundColor:a.vars?"rgba(".concat(a.vars.palette[o.color].mainChannel," / ").concat(a.vars.palette.action.hoverOpacity,")"):(0,Ge.Fq)(a.palette[o.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===o.variant&&"inherit"!==o.color&&{border:"1px solid ".concat((a.vars||a).palette[o.color].main),backgroundColor:a.vars?"rgba(".concat(a.vars.palette[o.color].mainChannel," / ").concat(a.vars.palette.action.hoverOpacity,")"):(0,Ge.Fq)(a.palette[o.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===o.variant&&{backgroundColor:(a.vars||a).palette.grey.A100,boxShadow:(a.vars||a).shadows[4],"@media (hover: none)":{boxShadow:(a.vars||a).shadows[2],backgroundColor:(a.vars||a).palette.grey[300]}},"contained"===o.variant&&"inherit"!==o.color&&{backgroundColor:(a.vars||a).palette[o.color].dark,"@media (hover: none)":{backgroundColor:(a.vars||a).palette[o.color].main}}),"&:active":(0,i.Z)({},"contained"===o.variant&&{boxShadow:(a.vars||a).shadows[8]})},(0,v.Z)(t,"&.".concat(cl.focusVisible),(0,i.Z)({},"contained"===o.variant&&{boxShadow:(a.vars||a).shadows[6]})),(0,v.Z)(t,"&.".concat(cl.disabled),(0,i.Z)({color:(a.vars||a).palette.action.disabled},"outlined"===o.variant&&{border:"1px solid ".concat((a.vars||a).palette.action.disabledBackground)},"outlined"===o.variant&&"secondary"===o.color&&{border:"1px solid ".concat((a.vars||a).palette.action.disabled)},"contained"===o.variant&&{color:(a.vars||a).palette.action.disabled,boxShadow:(a.vars||a).shadows[0],backgroundColor:(a.vars||a).palette.action.disabledBackground})),t),"text"===o.variant&&{padding:"6px 8px"},"text"===o.variant&&"inherit"!==o.color&&{color:(a.vars||a).palette[o.color].main},"outlined"===o.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===o.variant&&"inherit"!==o.color&&{color:(a.vars||a).palette[o.color].main,border:a.vars?"1px solid rgba(".concat(a.vars.palette[o.color].mainChannel," / 0.5)"):"1px solid ".concat((0,Ge.Fq)(a.palette[o.color].main,.5))},"contained"===o.variant&&{color:a.vars?a.vars.palette.text.primary:null==(n=(r=a.palette).getContrastText)?void 0:n.call(r,a.palette.grey[300]),backgroundColor:(a.vars||a).palette.grey[300],boxShadow:(a.vars||a).shadows[2]},"contained"===o.variant&&"inherit"!==o.color&&{color:(a.vars||a).palette[o.color].contrastText,backgroundColor:(a.vars||a).palette[o.color].main},"inherit"===o.color&&{color:"inherit",borderColor:"currentColor"},"small"===o.size&&"text"===o.variant&&{padding:"4px 5px",fontSize:a.typography.pxToRem(13)},"large"===o.size&&"text"===o.variant&&{padding:"8px 11px",fontSize:a.typography.pxToRem(15)},"small"===o.size&&"outlined"===o.variant&&{padding:"3px 9px",fontSize:a.typography.pxToRem(13)},"large"===o.size&&"outlined"===o.variant&&{padding:"7px 21px",fontSize:a.typography.pxToRem(15)},"small"===o.size&&"contained"===o.variant&&{padding:"4px 10px",fontSize:a.typography.pxToRem(13)},"large"===o.size&&"contained"===o.variant&&{padding:"8px 22px",fontSize:a.typography.pxToRem(15)},o.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},(0,v.Z)(t,"&.".concat(cl.focusVisible),{boxShadow:"none"}),(0,v.Z)(t,"&:active",{boxShadow:"none"}),(0,v.Z)(t,"&.".concat(cl.disabled),{boxShadow:"none"}),t)})),ml=(0,b.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat((0,Je.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,i.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},hl(t))})),gl=(0,b.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat((0,Je.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,i.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},hl(t))})),vl=e.forwardRef((function(t,n){var r=e.useContext(dl),a=(0,ul.Z)(r,t),o=(0,fe.Z)({props:a,name:"MuiButton"}),s=o.children,l=o.color,c=void 0===l?"primary":l,d=o.component,f=void 0===d?"button":d,h=o.className,p=o.disabled,m=void 0!==p&&p,g=o.disableElevation,v=void 0!==g&&g,y=o.disableFocusRipple,x=void 0!==y&&y,b=o.endIcon,w=o.focusVisibleClassName,_=o.fullWidth,k=void 0!==_&&_,D=o.size,T=void 0===D?"medium":D,I=o.startIcon,A=o.type,M=o.variant,E=void 0===M?"text":M,N=(0,S.Z)(o,fl),R=(0,i.Z)({},o,{color:c,component:f,disabled:m,disableElevation:v,disableFocusRipple:x,fullWidth:k,size:T,type:A,variant:E}),P=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,a=e.size,o=e.variant,s=e.classes,u={root:["root",o,"".concat(o).concat((0,Je.Z)(t)),"size".concat((0,Je.Z)(a)),"".concat(o,"Size").concat((0,Je.Z)(a)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,Je.Z)(a))],endIcon:["endIcon","iconSize".concat((0,Je.Z)(a))]},l=(0,L.Z)(u,ll,s);return(0,i.Z)({},s,l)}(R),O=I&&(0,u.jsx)(ml,{className:P.startIcon,ownerState:R,children:I}),F=b&&(0,u.jsx)(gl,{className:P.endIcon,ownerState:R,children:b});return(0,u.jsxs)(pl,(0,i.Z)({ownerState:R,className:(0,C.Z)(h,r.className),component:f,disabled:m,focusRipple:!x,focusVisibleClassName:(0,C.Z)(P.focusVisible,w),ref:n,type:A},N,{classes:P,children:[O,s,F]}))})),yl=vl,xl=n(31592),bl=n(15054);function wl(e){var t=e.text;return(0,u.jsx)(Gt,{children:(0,u.jsx)(Bt,{variant:"h2",children:t})})}function _l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return F(e)?t:(0,i.Z)({},t,{ownerState:(0,i.Z)({},t.ownerState,n)})}function Sl(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Cl(e){return e instanceof Sl(e).Element||e instanceof Element}function kl(e){return e instanceof Sl(e).HTMLElement||e instanceof HTMLElement}function Dl(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Sl(e).ShadowRoot||e instanceof ShadowRoot)}var Tl=Math.max,Il=Math.min,Al=Math.round;function Ml(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(kl(e)&&t){var a=e.offsetHeight,o=e.offsetWidth;o>0&&(r=Al(n.width)/o||1),a>0&&(i=Al(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function El(e){var t=Sl(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Nl(e){return e?(e.nodeName||"").toLowerCase():null}function Rl(e){return((Cl(e)?e.ownerDocument:e.document)||window.document).documentElement}function Pl(e){return Ml(Rl(e)).left+El(e).scrollLeft}function Ol(e){return Sl(e).getComputedStyle(e)}function Ll(e){var t=Ol(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Fl(e,t,n){void 0===n&&(n=!1);var r=kl(t),i=kl(t)&&function(e){var t=e.getBoundingClientRect(),n=Al(t.width)/e.offsetWidth||1,r=Al(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=Rl(t),o=Ml(e,i),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==Nl(t)||Ll(a))&&(s=function(e){return e!==Sl(e)&&kl(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:El(e);var t}(t)),kl(t)?((u=Ml(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=Pl(a))),{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function Zl(e){var t=Ml(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Bl(e){return"html"===Nl(e)?e:e.assignedSlot||e.parentNode||(Dl(e)?e.host:null)||Rl(e)}function zl(e){return["html","body","#document"].indexOf(Nl(e))>=0?e.ownerDocument.body:kl(e)&&Ll(e)?e:zl(Bl(e))}function Vl(e,t){var n;void 0===t&&(t=[]);var r=zl(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=Sl(r),o=i?[a].concat(a.visualViewport||[],Ll(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(Vl(Bl(o)))}function jl(e){return["table","td","th"].indexOf(Nl(e))>=0}function Wl(e){return kl(e)&&"fixed"!==Ol(e).position?e.offsetParent:null}function Ul(e){for(var t=Sl(e),n=Wl(e);n&&jl(n)&&"static"===Ol(n).position;)n=Wl(n);return n&&("html"===Nl(n)||"body"===Nl(n)&&"static"===Ol(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&kl(e)&&"fixed"===Ol(e).position)return null;var n=Bl(e);for(Dl(n)&&(n=n.host);kl(n)&&["html","body"].indexOf(Nl(n))<0;){var r=Ol(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var Hl="top",Gl="bottom",Xl="right",ql="left",Yl="auto",Kl=[Hl,Gl,Xl,ql],Ql="start",Jl="end",$l="viewport",ec="popper",tc=Kl.reduce((function(e,t){return e.concat([t+"-"+Ql,t+"-"+Jl])}),[]),nc=[].concat(Kl,[Yl]).reduce((function(e,t){return e.concat([t,t+"-"+Ql,t+"-"+Jl])}),[]),rc=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function ic(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function ac(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var oc={placement:"bottom",modifiers:[],strategy:"absolute"};function sc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function uc(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?oc:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},oc,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,u={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;l(),i.options=Object.assign({},a,i.options,s),i.scrollParents={reference:Cl(e)?Vl(e):e.contextElement?Vl(e.contextElement):[],popper:Vl(t)};var c=function(e){var t=ic(e);return rc.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=c.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var s=a({state:i,name:t,instance:u,options:r}),l=function(){};o.push(s||l)}})),u.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(sc(t,n)){i.rects={reference:Fl(t,Ul(n),"fixed"===i.options.strategy),popper:Zl(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,l=a.options,c=void 0===l?{}:l,d=a.name;"function"===typeof o&&(i=o({state:i,options:c,name:d,instance:u})||i)}else i.reset=!1,r=-1}}},update:ac((function(){return new Promise((function(e){u.forceUpdate(),e(i)}))})),destroy:function(){l(),s=!0}};if(!sc(e,t))return u;function l(){o.forEach((function(e){return e()})),o=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var lc={passive:!0};function cc(e){return e.split("-")[0]}function dc(e){return e.split("-")[1]}function fc(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function hc(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?cc(i):null,o=i?dc(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(a){case Hl:t={x:s,y:n.y-r.height};break;case Gl:t={x:s,y:n.y+n.height};break;case Xl:t={x:n.x+n.width,y:u};break;case ql:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var l=a?fc(a):null;if(null!=l){var c="y"===l?"height":"width";switch(o){case Ql:t[l]=t[l]-(n[c]/2-r[c]/2);break;case Jl:t[l]=t[l]+(n[c]/2-r[c]/2)}}return t}var pc={top:"auto",right:"auto",bottom:"auto",left:"auto"};function mc(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,u=e.gpuAcceleration,l=e.adaptive,c=e.roundOffsets,d=e.isFixed,f=o.x,h=void 0===f?0:f,p=o.y,m=void 0===p?0:p,g="function"===typeof c?c({x:h,y:m}):{x:h,y:m};h=g.x,m=g.y;var v=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),x=ql,b=Hl,w=window;if(l){var _=Ul(n),S="clientHeight",C="clientWidth";if(_===Sl(n)&&"static"!==Ol(_=Rl(n)).position&&"absolute"===s&&(S="scrollHeight",C="scrollWidth"),i===Hl||(i===ql||i===Xl)&&a===Jl)b=Gl,m-=(d&&_===w&&w.visualViewport?w.visualViewport.height:_[S])-r.height,m*=u?1:-1;if(i===ql||(i===Hl||i===Gl)&&a===Jl)x=Xl,h-=(d&&_===w&&w.visualViewport?w.visualViewport.width:_[C])-r.width,h*=u?1:-1}var k,D=Object.assign({position:s},l&&pc),T=!0===c?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Al(t*r)/r||0,y:Al(n*r)/r||0}}({x:h,y:m}):{x:h,y:m};return h=T.x,m=T.y,u?Object.assign({},D,((k={})[b]=y?"0":"",k[x]=v?"0":"",k.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",k)):Object.assign({},D,((t={})[b]=y?m+"px":"",t[x]=v?h+"px":"",t.transform="",t))}var gc={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];kl(i)&&Nl(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});kl(r)&&Nl(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var vc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=nc.reduce((function(e,n){return e[n]=function(e,t,n){var r=cc(e),i=[ql,Hl].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[ql,Xl].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],u=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=o}},yc={left:"right",right:"left",bottom:"top",top:"bottom"};function xc(e){return e.replace(/left|right|bottom|top/g,(function(e){return yc[e]}))}var bc={start:"end",end:"start"};function wc(e){return e.replace(/start|end/g,(function(e){return bc[e]}))}function _c(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Dl(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Sc(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Cc(e,t){return t===$l?Sc(function(e){var t=Sl(e),n=Rl(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,s=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,s=r.offsetTop)),{width:i,height:a,x:o+Pl(e),y:s}}(e)):Cl(t)?function(e){var t=Ml(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Sc(function(e){var t,n=Rl(e),r=El(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=Tl(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Tl(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Pl(e),u=-r.scrollTop;return"rtl"===Ol(i||n).direction&&(s+=Tl(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:u}}(Rl(e)))}function kc(e,t,n){var r="clippingParents"===t?function(e){var t=Vl(Bl(e)),n=["absolute","fixed"].indexOf(Ol(e).position)>=0&&kl(e)?Ul(e):e;return Cl(n)?t.filter((function(e){return Cl(e)&&_c(e,n)&&"body"!==Nl(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce((function(t,n){var r=Cc(e,n);return t.top=Tl(r.top,t.top),t.right=Il(r.right,t.right),t.bottom=Il(r.bottom,t.bottom),t.left=Tl(r.left,t.left),t}),Cc(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Dc(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Tc(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Ic(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.boundary,o=void 0===a?"clippingParents":a,s=n.rootBoundary,u=void 0===s?$l:s,l=n.elementContext,c=void 0===l?ec:l,d=n.altBoundary,f=void 0!==d&&d,h=n.padding,p=void 0===h?0:h,m=Dc("number"!==typeof p?p:Tc(p,Kl)),g=c===ec?"reference":ec,v=e.rects.popper,y=e.elements[f?g:c],x=kc(Cl(y)?y:y.contextElement||Rl(e.elements.popper),o,u),b=Ml(e.elements.reference),w=hc({reference:b,element:v,strategy:"absolute",placement:i}),_=Sc(Object.assign({},v,w)),S=c===ec?_:b,C={top:x.top-S.top+m.top,bottom:S.bottom-x.bottom+m.bottom,left:x.left-S.left+m.left,right:S.right-x.right+m.right},k=e.modifiersData.offset;if(c===ec&&k){var D=k[i];Object.keys(C).forEach((function(e){var t=[Xl,Gl].indexOf(e)>=0?1:-1,n=[Hl,Gl].indexOf(e)>=0?"y":"x";C[e]+=D[n]*t}))}return C}function Ac(e,t,n){return Tl(e,Il(t,n))}var Mc={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,u=n.boundary,l=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,h=void 0===f||f,p=n.tetherOffset,m=void 0===p?0:p,g=Ic(t,{boundary:u,rootBoundary:l,padding:d,altBoundary:c}),v=cc(t.placement),y=dc(t.placement),x=!y,b=fc(v),w="x"===b?"y":"x",_=t.modifiersData.popperOffsets,S=t.rects.reference,C=t.rects.popper,k="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,D="number"===typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(_){if(a){var A,M="y"===b?Hl:ql,E="y"===b?Gl:Xl,N="y"===b?"height":"width",R=_[b],P=R+g[M],O=R-g[E],L=h?-C[N]/2:0,F=y===Ql?S[N]:C[N],Z=y===Ql?-C[N]:-S[N],B=t.elements.arrow,z=h&&B?Zl(B):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},j=V[M],W=V[E],U=Ac(0,S[N],z[N]),H=x?S[N]/2-L-U-j-D.mainAxis:F-U-j-D.mainAxis,G=x?-S[N]/2+L+U+W+D.mainAxis:Z+U+W+D.mainAxis,X=t.elements.arrow&&Ul(t.elements.arrow),q=X?"y"===b?X.clientTop||0:X.clientLeft||0:0,Y=null!=(A=null==T?void 0:T[b])?A:0,K=R+G-Y,Q=Ac(h?Il(P,R+H-Y-q):P,R,h?Tl(O,K):O);_[b]=Q,I[b]=Q-R}if(s){var J,$="x"===b?Hl:ql,ee="x"===b?Gl:Xl,te=_[w],ne="y"===w?"height":"width",re=te+g[$],ie=te-g[ee],ae=-1!==[Hl,ql].indexOf(v),oe=null!=(J=null==T?void 0:T[w])?J:0,se=ae?re:te-S[ne]-C[ne]-oe+D.altAxis,ue=ae?te+S[ne]+C[ne]-oe-D.altAxis:ie,le=h&&ae?function(e,t,n){var r=Ac(e,t,n);return r>n?n:r}(se,te,ue):Ac(h?se:re,te,h?ue:ie);_[w]=le,I[w]=le-te}t.modifiersData[r]=I}},requiresIfExists:["offset"]};var Ec={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=cc(n.placement),u=fc(s),l=[ql,Xl].indexOf(s)>=0?"height":"width";if(a&&o){var c=function(e,t){return Dc("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Tc(e,Kl))}(i.padding,n),d=Zl(a),f="y"===u?Hl:ql,h="y"===u?Gl:Xl,p=n.rects.reference[l]+n.rects.reference[u]-o[u]-n.rects.popper[l],m=o[u]-n.rects.reference[u],g=Ul(a),v=g?"y"===u?g.clientHeight||0:g.clientWidth||0:0,y=p/2-m/2,x=c[f],b=v-d[l]-c[h],w=v/2-d[l]/2+y,_=Ac(x,w,b),S=u;n.modifiersData[r]=((t={})[S]=_,t.centerOffset=_-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&_c(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Nc(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Rc(e){return[Hl,Xl,Gl,ql].some((function(t){return e[t]>=0}))}var Pc=uc({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,u=Sl(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&l.forEach((function(e){e.addEventListener("scroll",n.update,lc)})),s&&u.addEventListener("resize",n.update,lc),function(){a&&l.forEach((function(e){e.removeEventListener("scroll",n.update,lc)})),s&&u.removeEventListener("resize",n.update,lc)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=hc({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,u=void 0===s||s,l={placement:cc(t.placement),variation:dc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,mc(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,mc(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},gc,vc,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,u=n.fallbackPlacements,l=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=void 0===h||h,m=n.allowedAutoPlacements,g=t.options.placement,v=cc(g),y=u||(v===g||!p?[xc(g)]:function(e){if(cc(e)===Yl)return[];var t=xc(e);return[wc(e),t,wc(t)]}(g)),x=[g].concat(y).reduce((function(e,n){return e.concat(cc(n)===Yl?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,l=void 0===u?nc:u,c=dc(r),d=c?s?tc:tc.filter((function(e){return dc(e)===c})):Kl,f=d.filter((function(e){return l.indexOf(e)>=0}));0===f.length&&(f=d);var h=f.reduce((function(t,n){return t[n]=Ic(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[cc(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:c,rootBoundary:d,padding:l,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),b=t.rects.reference,w=t.rects.popper,_=new Map,S=!0,C=x[0],k=0;k<x.length;k++){var D=x[k],T=cc(D),I=dc(D)===Ql,A=[Hl,Gl].indexOf(T)>=0,M=A?"width":"height",E=Ic(t,{placement:D,boundary:c,rootBoundary:d,altBoundary:f,padding:l}),N=A?I?Xl:ql:I?Gl:Hl;b[M]>w[M]&&(N=xc(N));var R=xc(N),P=[];if(a&&P.push(E[T]<=0),s&&P.push(E[N]<=0,E[R]<=0),P.every((function(e){return e}))){C=D,S=!1;break}_.set(D,P)}if(S)for(var O=function(e){var t=x.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},L=p?3:1;L>0;L--){if("break"===O(L))break}t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},Mc,Ec,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=Ic(t,{elementContext:"reference"}),s=Ic(t,{altBoundary:!0}),u=Nc(o,r),l=Nc(s,i,a),c=Rc(u),d=Rc(l);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}}]}),Oc=["anchorEl","children","direction","disablePortal","modifiers","open","ownerState","placement","popperOptions","popperRef","TransitionProps"],Lc=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"];function Fc(e){return"function"===typeof e?e():e}var Zc={},Bc=e.forwardRef((function(t,n){var r=t.anchorEl,a=t.children,o=t.direction,s=t.disablePortal,l=t.modifiers,c=t.open,d=t.placement,f=t.popperOptions,h=t.popperRef,p=t.TransitionProps,m=(0,S.Z)(t,Oc),v=e.useRef(null),y=(0,Z.Z)(v,n),x=e.useRef(null),b=(0,Z.Z)(x,h),w=e.useRef(b);(0,W.Z)((function(){w.current=b}),[b]),e.useImperativeHandle(h,(function(){return x.current}),[]);var _=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(d,o),C=e.useState(_),k=(0,g.Z)(C,2),D=k[0],T=k[1];e.useEffect((function(){x.current&&x.current.forceUpdate()})),(0,W.Z)((function(){if(r&&c){Fc(r);var e=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:function(e){var t=e.state;T(t.placement)}}];null!=l&&(e=e.concat(l)),f&&null!=f.modifiers&&(e=e.concat(f.modifiers));var t=Pc(Fc(r),v.current,(0,i.Z)({placement:_},f,{modifiers:e}));return w.current(t),function(){t.destroy(),w.current(null)}}}),[r,s,l,c,f,_]);var I={placement:D};return null!==p&&(I.TransitionProps=p),(0,u.jsx)("div",(0,i.Z)({ref:y,role:"tooltip"},m,{children:"function"===typeof a?a(I):a}))})),zc=e.forwardRef((function(t,n){var r=t.anchorEl,a=t.children,o=t.container,s=t.direction,l=void 0===s?"ltr":s,c=t.disablePortal,d=void 0!==c&&c,f=t.keepMounted,h=void 0!==f&&f,p=t.modifiers,m=t.open,v=t.placement,y=void 0===v?"bottom":v,x=t.popperOptions,b=void 0===x?Zc:x,w=t.popperRef,_=t.style,C=t.transition,k=void 0!==C&&C,D=(0,S.Z)(t,Lc),T=e.useState(!0),I=(0,g.Z)(T,2),A=I[0],M=I[1];if(!h&&!m&&(!k||A))return null;var E=o||(r?(0,B.Z)(Fc(r)).body:void 0);return(0,u.jsx)(H,{disablePortal:d,container:E,children:(0,u.jsx)(Bc,(0,i.Z)({anchorEl:r,direction:l,disablePortal:d,modifiers:p,ref:n,open:k?!A:m,placement:y,popperOptions:b,popperRef:w},D,{style:(0,i.Z)({position:"fixed",top:0,left:0,display:m||!h||k&&!A?null:"none"},_),TransitionProps:k?{in:m,onEnter:function(){M(!1)},onExited:function(){M(!0)}}:null,children:a}))})})),Vc=zc,jc=n(69120),Wc=(0,b.ZP)(Vc,{name:"MuiPopper",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Uc=e.forwardRef((function(e,t){var n=(0,jc.Z)(),r=(0,fe.Z)({props:e,name:"MuiPopper"});return(0,u.jsx)(Wc,(0,i.Z)({direction:null==n?void 0:n.direction},r,{ref:t}))})),Hc=n(67384);function Gc(e){return(0,se.Z)("MuiTooltip",e)}var Xc=(0,oe.Z)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),qc=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"];var Yc=(0,b.ZP)(Uc,{name:"MuiTooltip",slot:"Popper",overridesResolver:function(e,t){var n=e.ownerState;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((function(e){var t,n=e.theme,r=e.ownerState,a=e.open;return(0,i.Z)({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none"},!r.disableInteractive&&{pointerEvents:"auto"},!a&&{pointerEvents:"none"},r.arrow&&(t={},(0,v.Z)(t,'&[data-popper-placement*="bottom"] .'.concat(Xc.arrow),{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}}),(0,v.Z)(t,'&[data-popper-placement*="top"] .'.concat(Xc.arrow),{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}}),(0,v.Z)(t,'&[data-popper-placement*="right"] .'.concat(Xc.arrow),(0,i.Z)({},r.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}})),(0,v.Z)(t,'&[data-popper-placement*="left"] .'.concat(Xc.arrow),(0,i.Z)({},r.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})),t))})),Kc=(0,b.ZP)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:function(e,t){var n=e.ownerState;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat((0,Je.Z)(n.placement.split("-")[0]))]]}})((function(e){var t,n,r=e.theme,a=e.ownerState;return(0,i.Z)({backgroundColor:r.vars?"rgba(".concat(r.vars.palette.grey.darkChannel," / 0.92)"):(0,Ge.Fq)(r.palette.grey[700],.92),borderRadius:(r.vars||r).shape.borderRadius,color:(r.vars||r).palette.common.white,fontFamily:r.typography.fontFamily,padding:"4px 8px",fontSize:r.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:r.typography.fontWeightMedium},a.arrow&&{position:"relative",margin:0},a.touch&&{padding:"8px 16px",fontSize:r.typography.pxToRem(14),lineHeight:"".concat((n=16/14,Math.round(1e5*n)/1e5),"em"),fontWeight:r.typography.fontWeightRegular},(t={},(0,v.Z)(t,".".concat(Xc.popper,'[data-popper-placement*="left"] &'),(0,i.Z)({transformOrigin:"right center"},a.isRtl?(0,i.Z)({marginLeft:"14px"},a.touch&&{marginLeft:"24px"}):(0,i.Z)({marginRight:"14px"},a.touch&&{marginRight:"24px"}))),(0,v.Z)(t,".".concat(Xc.popper,'[data-popper-placement*="right"] &'),(0,i.Z)({transformOrigin:"left center"},a.isRtl?(0,i.Z)({marginRight:"14px"},a.touch&&{marginRight:"24px"}):(0,i.Z)({marginLeft:"14px"},a.touch&&{marginLeft:"24px"}))),(0,v.Z)(t,".".concat(Xc.popper,'[data-popper-placement*="top"] &'),(0,i.Z)({transformOrigin:"center bottom",marginBottom:"14px"},a.touch&&{marginBottom:"24px"})),(0,v.Z)(t,".".concat(Xc.popper,'[data-popper-placement*="bottom"] &'),(0,i.Z)({transformOrigin:"center top",marginTop:"14px"},a.touch&&{marginTop:"24px"})),t))})),Qc=(0,b.ZP)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:function(e,t){return t.arrow}})((function(e){var t=e.theme;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?"rgba(".concat(t.vars.palette.grey.darkChannel," / 0.9)"):(0,Ge.Fq)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}})),Jc=!1,$c=null;function ed(e,t){return function(n){t&&t(n),e(n)}}var td=e.forwardRef((function(t,n){var r,a,o,s,l,c,d=(0,fe.Z)({props:t,name:"MuiTooltip"}),f=d.arrow,h=void 0!==f&&f,p=d.children,m=d.components,v=void 0===m?{}:m,y=d.componentsProps,x=void 0===y?{}:y,b=d.describeChild,w=void 0!==b&&b,k=d.disableFocusListener,D=void 0!==k&&k,T=d.disableHoverListener,I=void 0!==T&&T,A=d.disableInteractive,M=void 0!==A&&A,E=d.disableTouchListener,N=void 0!==E&&E,R=d.enterDelay,P=void 0===R?100:R,O=d.enterNextDelay,F=void 0===O?0:O,Z=d.enterTouchDelay,B=void 0===Z?700:Z,z=d.followCursor,V=void 0!==z&&z,j=d.id,W=d.leaveDelay,U=void 0===W?0:W,H=d.leaveTouchDelay,G=void 0===H?1500:H,X=d.onClose,q=d.onOpen,Y=d.open,K=d.placement,Q=void 0===K?"bottom":K,J=d.PopperComponent,$=d.PopperProps,ee=void 0===$?{}:$,te=d.title,ne=d.TransitionComponent,re=void 0===ne?us:ne,ie=d.TransitionProps,ae=(0,S.Z)(d,qc),oe=_(),se="rtl"===oe.direction,ue=e.useState(),le=(0,g.Z)(ue,2),ce=le[0],de=le[1],he=e.useState(null),pe=(0,g.Z)(he,2),me=pe[0],ge=pe[1],ve=e.useRef(!1),ye=M||V,xe=e.useRef(),be=e.useRef(),we=e.useRef(),_e=e.useRef(),Se=(0,zs.Z)({controlled:Y,default:!1,name:"Tooltip",state:"open"}),Ce=(0,g.Z)(Se,2),ke=Ce[0],De=Ce[1],Ie=ke,Ae=(0,Hc.Z)(j),Me=e.useRef(),Ee=e.useCallback((function(){void 0!==Me.current&&(document.body.style.WebkitUserSelect=Me.current,Me.current=void 0),clearTimeout(_e.current)}),[]);e.useEffect((function(){return function(){clearTimeout(xe.current),clearTimeout(be.current),clearTimeout(we.current),Ee()}}),[Ee]);var Ne=function(e){clearTimeout($c),Jc=!0,De(!0),q&&!Ie&&q(e)},Re=(0,Xt.Z)((function(e){clearTimeout($c),$c=setTimeout((function(){Jc=!1}),800+U),De(!1),X&&Ie&&X(e),clearTimeout(xe.current),xe.current=setTimeout((function(){ve.current=!1}),oe.transitions.duration.shortest)})),Pe=function(e){ve.current&&"touchstart"!==e.type||(ce&&ce.removeAttribute("title"),clearTimeout(be.current),clearTimeout(we.current),P||Jc&&F?be.current=setTimeout((function(){Ne(e)}),Jc?F:P):Ne(e))},Oe=function(e){clearTimeout(be.current),clearTimeout(we.current),we.current=setTimeout((function(){Re(e)}),U)},Le=(0,qt.Z)(),Fe=Le.isFocusVisibleRef,Ze=Le.onBlur,Be=Le.onFocus,ze=Le.ref,Ve=e.useState(!1),je=(0,g.Z)(Ve,2)[1],We=function(e){Ze(e),!1===Fe.current&&(je(!1),Oe(e))},Ue=function(e){ce||de(e.currentTarget),Be(e),!0===Fe.current&&(je(!0),Pe(e))},He=function(e){ve.current=!0;var t=p.props;t.onTouchStart&&t.onTouchStart(e)},Ge=Pe,Xe=Oe;e.useEffect((function(){if(Ie)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||Re(e)}}),[Re,Ie]);var qe=(0,Te.Z)(de,n),Ye=(0,Te.Z)(ze,qe),Ke=(0,Te.Z)(p.ref,Ye);""===te&&(Ie=!1);var Qe=e.useRef({x:0,y:0}),$e=e.useRef(),et={},tt="string"===typeof te;w?(et.title=Ie||!tt||I?null:te,et["aria-describedby"]=Ie?Ae:null):(et["aria-label"]=tt?te:null,et["aria-labelledby"]=Ie&&!tt?Ae:null);var nt=(0,i.Z)({},et,ae,p.props,{className:(0,C.Z)(ae.className,p.props.className),onTouchStart:He,ref:Ke},V?{onMouseMove:function(e){var t=p.props;t.onMouseMove&&t.onMouseMove(e),Qe.current={x:e.clientX,y:e.clientY},$e.current&&$e.current.update()}}:{});var rt={};N||(nt.onTouchStart=function(e){He(e),clearTimeout(we.current),clearTimeout(xe.current),Ee(),Me.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",_e.current=setTimeout((function(){document.body.style.WebkitUserSelect=Me.current,Pe(e)}),B)},nt.onTouchEnd=function(e){p.props.onTouchEnd&&p.props.onTouchEnd(e),Ee(),clearTimeout(we.current),we.current=setTimeout((function(){Re(e)}),G)}),I||(nt.onMouseOver=ed(Ge,nt.onMouseOver),nt.onMouseLeave=ed(Xe,nt.onMouseLeave),ye||(rt.onMouseOver=Ge,rt.onMouseLeave=Xe)),D||(nt.onFocus=ed(Ue,nt.onFocus),nt.onBlur=ed(We,nt.onBlur),ye||(rt.onFocus=Ue,rt.onBlur=We));var it=e.useMemo((function(){var e,t=[{name:"arrow",enabled:Boolean(me),options:{element:me,padding:4}}];return null!=(e=ee.popperOptions)&&e.modifiers&&(t=t.concat(ee.popperOptions.modifiers)),(0,i.Z)({},ee.popperOptions,{modifiers:t})}),[me,ee]),at=(0,i.Z)({},d,{isRtl:se,arrow:h,disableInteractive:ye,placement:Q,PopperComponentProp:J,touch:ve.current}),ot=function(e){var t=e.classes,n=e.disableInteractive,r=e.arrow,i=e.touch,a=e.placement,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch","tooltipPlacement".concat((0,Je.Z)(a.split("-")[0]))],arrow:["arrow"]};return(0,L.Z)(o,Gc,t)}(at),st=null!=(r=v.Popper)?r:Yc,ut=null!=(a=null!=(o=v.Transition)?o:re)?a:us,lt=null!=(s=v.Tooltip)?s:Kc,ct=null!=(l=v.Arrow)?l:Qc,dt=_l(st,(0,i.Z)({},ee,x.popper),at),ft=_l(ut,(0,i.Z)({},ie,x.transition),at),ht=_l(lt,(0,i.Z)({},x.tooltip),at),pt=_l(ct,(0,i.Z)({},x.arrow),at);return(0,u.jsxs)(e.Fragment,{children:[e.cloneElement(p,nt),(0,u.jsx)(st,(0,i.Z)({as:null!=J?J:Uc,placement:Q,anchorEl:V?{getBoundingClientRect:function(){return{top:Qe.current.y,left:Qe.current.x,right:Qe.current.x,bottom:Qe.current.y,width:0,height:0}}}:ce,popperRef:$e,open:!!ce&&Ie,id:Ae,transition:!0},rt,dt,{className:(0,C.Z)(ot.popper,null==ee?void 0:ee.className,null==(c=x.popper)?void 0:c.className),popperOptions:it,children:function(e){var t,n,r=e.TransitionProps;return(0,u.jsx)(ut,(0,i.Z)({timeout:oe.transitions.duration.shorter},r,ft,{children:(0,u.jsxs)(lt,(0,i.Z)({},ht,{className:(0,C.Z)(ot.tooltip,null==(t=x.tooltip)?void 0:t.className),children:[te,h?(0,u.jsx)(ct,(0,i.Z)({},pt,{className:(0,C.Z)(ot.arrow,null==(n=x.arrow)?void 0:n.className),ref:ge})):null]}))}))}}))]})})),nd=td,rd=n(89885),id=n(15423),ad=n(83940);function od(e){return(0,se.Z)("MuiCircularProgress",e)}(0,oe.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var sd,ud,ld,cd,dd,fd,hd,pd,md=["className","color","disableShrink","size","style","thickness","value","variant"],gd=44,vd=Tt(dd||(dd=sd||(sd=Yt(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),yd=Tt(fd||(fd=ud||(ud=Yt(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),xd=(0,b.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["color".concat((0,Je.Z)(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme;return(0,i.Z)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&Dt(hd||(hd=ld||(ld=Yt(["\n      animation: "," 1.4s linear infinite;\n    "]))),vd)})),bd=(0,b.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,t){return t.svg}})({display:"block"}),wd=(0,b.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,t){var n=e.ownerState;return[t.circle,t["circle".concat((0,Je.Z)(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((function(e){var t=e.ownerState,n=e.theme;return(0,i.Z)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var t=e.ownerState;return"indeterminate"===t.variant&&!t.disableShrink&&Dt(pd||(pd=cd||(cd=Yt(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),yd)})),_d=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiCircularProgress"}),r=n.className,a=n.color,o=void 0===a?"primary":a,s=n.disableShrink,l=void 0!==s&&s,c=n.size,d=void 0===c?40:c,f=n.style,h=n.thickness,p=void 0===h?3.6:h,m=n.value,g=void 0===m?0:m,v=n.variant,y=void 0===v?"indeterminate":v,x=(0,S.Z)(n,md),b=(0,i.Z)({},n,{color:o,disableShrink:l,size:d,thickness:p,value:g,variant:y}),w=function(e){var t=e.classes,n=e.variant,r=e.color,i=e.disableShrink,a={root:["root",n,"color".concat((0,Je.Z)(r))],svg:["svg"],circle:["circle","circle".concat((0,Je.Z)(n)),i&&"circleDisableShrink"]};return(0,L.Z)(a,od,t)}(b),_={},k={},D={};if("determinate"===y){var T=2*Math.PI*((gd-p)/2);_.strokeDasharray=T.toFixed(3),D["aria-valuenow"]=Math.round(g),_.strokeDashoffset="".concat(((100-g)/100*T).toFixed(3),"px"),k.transform="rotate(-90deg)"}return(0,u.jsx)(xd,(0,i.Z)({className:(0,C.Z)(w.root,r),style:(0,i.Z)({width:d,height:d},k,f),ownerState:b,ref:t,role:"progressbar"},D,x,{children:(0,u.jsx)(bd,{className:w.svg,ownerState:b,viewBox:"".concat(22," ").concat(22," ").concat(gd," ").concat(gd),children:(0,u.jsx)(wd,{className:w.circle,style:_,ownerState:b,cx:gd,cy:gd,r:(gd-p)/2,fill:"none",strokeWidth:p})})}))})),Sd=_d,Cd=Lo;function kd(){var e=Cd();return(0,u.jsx)(Oe,{className:e.backdrop,open:!0,children:(0,u.jsx)(O,{sx:{display:"flex"},children:(0,u.jsx)(Sd,{})})})}var Dd=n(1025),Td=n.n(Dd),Id=Lo;function Ad(t){var n=t.onRawDataHandler,r=void 0===n?function(){}:n,i=t.title,a=void 0===i?"RAW DATA":i,o=t.file,s=void 0===o?"raw":o,l=t.disabled,c=void 0!==l&&l,d=t.version,f=void 0===d?1:d,h=Id(),p=(0,e.useState)(),m=(0,g.Z)(p,2),v=m[0],y=m[1],x=(0,e.useState)(),b=(0,g.Z)(x,2),w=(b[0],b[1]),_=(0,e.useState)(),S=(0,g.Z)(_,2),C=S[0],k=(S[1],(0,e.useState)(!1)),D=(0,g.Z)(k,2),T=D[0],I=D[1],A=function(e){if((null===e||void 0===e?void 0:e.length)>0&&e){var t={};Object.keys(e[0]).map((function(n){var r=[];return e.map((function(e,t){return r.push(e[n])})),t[n]="TimeStamp"===n?r.map((function(e){var t=new Date(e);return t.setMinutes(0),t.setSeconds(0),t})):r.map((function(e){return""!==e?Number(e):NaN}))})),r(Object.keys(e[0]),t,e)}else r(C)},M=(0,e.useCallback)((function(e){if(e){var t=new FileReader;t.readAsText(e),I(!0),t.onload=function(e){var t=e.target.result,n=Td().parse(t,{header:!0}).data;I(!1),"master"===s&&r(n)},(0,Dd.parse)(e,{delimiter:",",header:!0,transform:function(e,t){return"TimeStamp"===t?new Date(e):Number.parseFloat(e)},complete:function(e){var t=e.data.slice(0,e.data.length-1);"raw"===s&&A(t)}})}}),[w,I,A,s]);return(0,u.jsxs)(u.Fragment,{children:[T&&(0,u.jsx)(kd,{}),(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[1===f&&(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(Go,{item:!0,xs:12,md:12,lg:12,spacing:1,container:!0,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:4,md:4,lg:4,algin:"left",children:(0,u.jsxs)(Bt,{className:h.headerText,children:[a," :"," "]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:4,md:4,lg:4,algin:"left",children:(0,u.jsx)(nd,{title:v||"",children:(0,u.jsxs)(yl,{component:"label",className:h.button,children:[(0,u.jsx)(rd.Z,{className:h.blackIcon}),v?(0,u.jsx)(Bt,{className:h.contentTextBlack,children:v.length>10?"".concat(v.slice(0,10),"..."):v}):(0,u.jsx)(Bt,{className:h.contentTextBlack,children:"Choose"}),(0,u.jsx)("input",{id:"file",name:"file",type:"file",accept:"text/csv",disabled:c,required:!0,onChange:function(e){var t=e.target;M(t.files[0]),y(t.files[0].name)},hidden:!0})]})})})]})}),2===f&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,algin:"center",children:(0,u.jsx)(nd,{title:v?"Upload again":"Upload file",children:(0,u.jsxs)(yl,{component:"label",sx:{width:"100%",height:300,border:v?"":"1px solid",borderColor:"primary.main",borderRadius:"5px",backgroundColor:v?"success.main":"transparent",textAlign:"center","&:hover":{backgroundColor:v&&"success.main"}},children:[(0,u.jsxs)(Go,{container:!0,item:!0,xs:12,sm:12,md:12,lg:12,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,algin:"center",children:v?(0,u.jsx)(ad.Z,{sx:{fontSize:100,color:"white"}}):(0,u.jsx)(id.Z,{sx:{fontSize:100,color:"primary.main"}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,algin:"center",children:(0,u.jsx)(Bt,{variant:"h5",sx:{color:v?"white":"primary.main"},children:v||a})})]}),(0,u.jsx)("input",{id:"file",name:"file",type:"file",accept:"text/csv",disabled:c,required:!0,onChange:function(e){var t=e.target;M(t.files[0]),y(t.files[0].name)},hidden:!0})]})})})})]})]})}function Md(e){return(0,se.Z)("MuiStepper",e)}(0,oe.Z)("MuiStepper",["root","horizontal","vertical","alternativeLabel"]);var Ed=e.createContext({});var Nd=Ed,Rd=e.createContext({});var Pd=Rd;function Od(e){return(0,se.Z)("MuiStepConnector",e)}(0,oe.Z)("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);var Ld=["className"],Fd=(0,b.ZP)("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})((function(e){var t=e.ownerState;return(0,i.Z)({flex:"1 1 auto"},"vertical"===t.orientation&&{marginLeft:12},t.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})})),Zd=(0,b.ZP)("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:function(e,t){var n=e.ownerState;return[t.line,t["line".concat((0,Je.Z)(n.orientation))]]}})((function(e){var t=e.ownerState,n=e.theme;return(0,i.Z)({display:"block",borderColor:"light"===n.palette.mode?n.palette.grey[400]:n.palette.grey[600]},"horizontal"===t.orientation&&{borderTopStyle:"solid",borderTopWidth:1},"vertical"===t.orientation&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})})),Bd=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiStepConnector"}),a=r.className,o=(0,S.Z)(r,Ld),s=e.useContext(Nd),l=s.alternativeLabel,c=s.orientation,d=void 0===c?"horizontal":c,f=e.useContext(Pd),h=f.active,p=f.disabled,m=f.completed,g=(0,i.Z)({},r,{alternativeLabel:l,orientation:d,active:h,completed:m,disabled:p}),v=function(e){var t=e.classes,n=e.orientation,r={root:["root",n,e.alternativeLabel&&"alternativeLabel",e.active&&"active",e.completed&&"completed",e.disabled&&"disabled"],line:["line","line".concat((0,Je.Z)(n))]};return(0,L.Z)(r,Od,t)}(g);return(0,u.jsx)(Fd,(0,i.Z)({className:(0,C.Z)(v.root,a),ref:n,ownerState:g},o,{children:(0,u.jsx)(Zd,{className:v.line,ownerState:g})}))})),zd=["activeStep","alternativeLabel","children","className","connector","nonLinear","orientation"],Vd=(0,b.ZP)("div",{name:"MuiStepper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel]}})((function(e){var t=e.ownerState;return(0,i.Z)({display:"flex"},"horizontal"===t.orientation&&{flexDirection:"row",alignItems:"center"},"vertical"===t.orientation&&{flexDirection:"column"},t.alternativeLabel&&{alignItems:"flex-start"})})),jd=(0,u.jsx)(Bd,{}),Wd=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiStepper"}),a=r.activeStep,o=void 0===a?0:a,s=r.alternativeLabel,l=void 0!==s&&s,c=r.children,d=r.className,f=r.connector,h=void 0===f?jd:f,p=r.nonLinear,m=void 0!==p&&p,g=r.orientation,v=void 0===g?"horizontal":g,y=(0,S.Z)(r,zd),x=(0,i.Z)({},r,{alternativeLabel:l,orientation:v}),b=function(e){var t=e.orientation,n=e.alternativeLabel,r=e.classes,i={root:["root",t,n&&"alternativeLabel"]};return(0,L.Z)(i,Md,r)}(x),w=e.Children.toArray(c).filter(Boolean),_=w.map((function(t,n){return e.cloneElement(t,(0,i.Z)({index:n,last:n+1===w.length},t.props))})),k=e.useMemo((function(){return{activeStep:o,alternativeLabel:l,connector:h,nonLinear:m,orientation:v}}),[o,l,h,m,v]);return(0,u.jsx)(Nd.Provider,{value:k,children:(0,u.jsx)(Vd,(0,i.Z)({ownerState:x,className:(0,C.Z)(b.root,d),ref:n},y,{children:_}))})})),Ud=Wd;function Hd(e){return(0,se.Z)("MuiStep",e)}(0,oe.Z)("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);var Gd=["active","children","className","completed","disabled","expanded","index","last"],Xd=(0,b.ZP)("div",{name:"MuiStep",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})((function(e){var t=e.ownerState;return(0,i.Z)({},"horizontal"===t.orientation&&{paddingLeft:8,paddingRight:8},t.alternativeLabel&&{flex:1,position:"relative"})})),qd=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiStep"}),a=r.active,o=r.children,s=r.className,l=r.completed,c=r.disabled,d=r.expanded,f=void 0!==d&&d,h=r.index,p=r.last,m=(0,S.Z)(r,Gd),g=e.useContext(Nd),v=g.activeStep,y=g.connector,x=g.alternativeLabel,b=g.orientation,w=g.nonLinear,_=void 0!==a&&a,k=void 0!==l&&l,D=void 0!==c&&c;v===h?_=void 0===a||a:!w&&v>h?k=void 0===l||l:!w&&v<h&&(D=void 0===c||c);var T=e.useMemo((function(){return{index:h,last:p,expanded:f,icon:h+1,active:_,completed:k,disabled:D}}),[h,p,f,_,k,D]),I=(0,i.Z)({},r,{active:_,orientation:b,alternativeLabel:x,completed:k,disabled:D,expanded:f}),A=function(e){var t=e.classes,n={root:["root",e.orientation,e.alternativeLabel&&"alternativeLabel",e.completed&&"completed"]};return(0,L.Z)(n,Hd,t)}(I),M=(0,u.jsxs)(Xd,(0,i.Z)({className:(0,C.Z)(A.root,s),ref:n,ownerState:I},m,{children:[y&&x&&0!==h?y:null,o]}));return(0,u.jsx)(Pd.Provider,{value:T,children:y&&!x&&0!==h?(0,u.jsxs)(e.Fragment,{children:[y,M]}):M})})),Yd=qd,Kd=(0,tu.Z)((0,u.jsx)("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),Qd=(0,tu.Z)((0,u.jsx)("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning"),Jd=n(99259);function $d(e){return(0,se.Z)("MuiStepIcon",e)}var ef,tf=(0,oe.Z)("MuiStepIcon",["root","active","completed","error","text"]),nf=["active","className","completed","error","icon"],rf=(0,b.ZP)(Jd.Z,{name:"MuiStepIcon",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t,n=e.theme;return t={display:"block",transition:n.transitions.create("color",{duration:n.transitions.duration.shortest}),color:(n.vars||n).palette.text.disabled},(0,v.Z)(t,"&.".concat(tf.completed),{color:(n.vars||n).palette.primary.main}),(0,v.Z)(t,"&.".concat(tf.active),{color:(n.vars||n).palette.primary.main}),(0,v.Z)(t,"&.".concat(tf.error),{color:(n.vars||n).palette.error.main}),t})),af=(0,b.ZP)("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:function(e,t){return t.text}})((function(e){var t=e.theme;return{fill:(t.vars||t).palette.primary.contrastText,fontSize:t.typography.caption.fontSize,fontFamily:t.typography.fontFamily}})),of=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiStepIcon"}),r=n.active,a=void 0!==r&&r,o=n.className,s=n.completed,l=void 0!==s&&s,c=n.error,d=void 0!==c&&c,f=n.icon,h=(0,S.Z)(n,nf),p=(0,i.Z)({},n,{active:a,completed:l,error:d}),m=function(e){var t=e.classes,n={root:["root",e.active&&"active",e.completed&&"completed",e.error&&"error"],text:["text"]};return(0,L.Z)(n,$d,t)}(p);if("number"===typeof f||"string"===typeof f){var g=(0,C.Z)(o,m.root);return d?(0,u.jsx)(rf,(0,i.Z)({as:Qd,className:g,ref:t,ownerState:p},h)):l?(0,u.jsx)(rf,(0,i.Z)({as:Kd,className:g,ref:t,ownerState:p},h)):(0,u.jsxs)(rf,(0,i.Z)({className:g,ref:t,ownerState:p},h,{children:[ef||(ef=(0,u.jsx)("circle",{cx:"12",cy:"12",r:"12"})),(0,u.jsx)(af,{className:m.text,x:"12",y:"16",textAnchor:"middle",ownerState:p,children:f})]}))}return f}));function sf(e){return(0,se.Z)("MuiStepLabel",e)}var uf=(0,oe.Z)("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),lf=["children","className","componentsProps","error","icon","optional","StepIconComponent","StepIconProps"],cf=(0,b.ZP)("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.orientation]]}})((function(e){var t,n=e.ownerState;return(0,i.Z)((t={display:"flex",alignItems:"center"},(0,v.Z)(t,"&.".concat(uf.alternativeLabel),{flexDirection:"column"}),(0,v.Z)(t,"&.".concat(uf.disabled),{cursor:"default"}),t),"vertical"===n.orientation&&{textAlign:"left",padding:"8px 0"})})),df=(0,b.ZP)("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:function(e,t){return t.label}})((function(e){var t,n=e.theme;return(0,i.Z)({},n.typography.body2,(t={display:"block",transition:n.transitions.create("color",{duration:n.transitions.duration.shortest})},(0,v.Z)(t,"&.".concat(uf.active),{color:(n.vars||n).palette.text.primary,fontWeight:500}),(0,v.Z)(t,"&.".concat(uf.completed),{color:(n.vars||n).palette.text.primary,fontWeight:500}),(0,v.Z)(t,"&.".concat(uf.alternativeLabel),{textAlign:"center",marginTop:16}),(0,v.Z)(t,"&.".concat(uf.error),{color:(n.vars||n).palette.error.main}),t))})),ff=(0,b.ZP)("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:function(e,t){return t.iconContainer}})((function(){return(0,v.Z)({flexShrink:0,display:"flex",paddingRight:8},"&.".concat(uf.alternativeLabel),{paddingRight:0})})),hf=(0,b.ZP)("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:function(e,t){return t.labelContainer}})((function(e){var t=e.theme;return{width:"100%",color:(t.vars||t).palette.text.secondary}})),pf=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiStepLabel"}),a=r.children,o=r.className,s=r.componentsProps,l=void 0===s?{}:s,c=r.error,d=void 0!==c&&c,f=r.icon,h=r.optional,p=r.StepIconComponent,m=r.StepIconProps,g=(0,S.Z)(r,lf),v=e.useContext(Nd),y=v.alternativeLabel,x=v.orientation,b=e.useContext(Pd),w=b.active,_=b.disabled,k=b.completed,D=b.icon,T=f||D,I=p;T&&!I&&(I=of);var A=(0,i.Z)({},r,{active:w,alternativeLabel:y,completed:k,disabled:_,error:d,orientation:x}),M=function(e){var t=e.classes,n=e.orientation,r=e.active,i=e.completed,a=e.error,o=e.disabled,s=e.alternativeLabel,u={root:["root",n,a&&"error",o&&"disabled",s&&"alternativeLabel"],label:["label",r&&"active",i&&"completed",a&&"error",o&&"disabled",s&&"alternativeLabel"],iconContainer:["iconContainer",s&&"alternativeLabel"],labelContainer:["labelContainer"]};return(0,L.Z)(u,sf,t)}(A);return(0,u.jsxs)(cf,(0,i.Z)({className:(0,C.Z)(M.root,o),ref:n,ownerState:A},g,{children:[T||I?(0,u.jsx)(ff,{className:M.iconContainer,ownerState:A,children:(0,u.jsx)(I,(0,i.Z)({completed:k,active:w,error:d,icon:T},m))}):null,(0,u.jsxs)(hf,{className:M.labelContainer,ownerState:A,children:[a?(0,u.jsx)(df,(0,i.Z)({className:M.label,ownerState:A},l.label,{children:a})):null,h]})]}))}));pf.muiName="StepLabel";var mf=pf;function gf(e){return(0,se.Z)("MuiStepButton",e)}var vf,yf=(0,oe.Z)("MuiStepButton",["root","horizontal","vertical","touchRipple"]),xf=["children","className","icon","optional"],bf=(0,b.ZP)(In,{name:"MuiStepButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,v.Z)({},"& .".concat(yf.touchRipple),t.touchRipple),t.root,t[n.orientation]]}})((function(e){var t=e.ownerState;return(0,i.Z)({width:"100%",padding:"24px 16px",margin:"-24px -16px",boxSizing:"content-box"},"vertical"===t.orientation&&{justifyContent:"flex-start",padding:"8px",margin:"-8px"},(0,v.Z)({},"& .".concat(yf.touchRipple),{color:"rgba(0, 0, 0, 0.3)"}))})),wf=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiStepButton"}),a=r.children,o=r.className,s=r.icon,l=r.optional,c=(0,S.Z)(r,xf),d=e.useContext(Pd).disabled,f=e.useContext(Nd).orientation,h=(0,i.Z)({},r,{orientation:f}),p=function(e){var t=e.classes,n={root:["root",e.orientation],touchRipple:["touchRipple"]};return(0,L.Z)(n,gf,t)}(h),m={icon:s,optional:l},g=(0,Zn.Z)(a,["StepLabel"])?e.cloneElement(a,m):(0,u.jsx)(mf,(0,i.Z)({},m,{children:a}));return(0,u.jsx)(bf,(0,i.Z)({focusRipple:!0,disabled:d,TouchRippleProps:{className:p.touchRipple},className:(0,C.Z)(p.root,o),ref:n,ownerState:h},c,{children:g}))}));function _f(){if(vf)return vf;var e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),vf="reverse",e.scrollLeft>0?vf="default":(e.scrollLeft=1,0===e.scrollLeft&&(vf="negative")),document.body.removeChild(e),vf}function Sf(e,t){var n=e.scrollLeft;if("rtl"!==t)return n;switch(_f()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function Cf(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function kf(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},a=r.ease,o=void 0===a?Cf:a,s=r.duration,u=void 0===s?300:s,l=null,c=t[e],d=!1,f=function(){d=!0},h=function r(a){if(d)i(new Error("Animation cancelled"));else{null===l&&(l=a);var s=Math.min(1,(a-l)/u);t[e]=o(s)*(n-c)+c,s>=1?requestAnimationFrame((function(){i(null)})):requestAnimationFrame(r)}};return c===n?(i(new Error("Element already at target position")),f):(requestAnimationFrame(h),f)}var Df=["onChange"],Tf={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};var If=(0,tu.Z)((0,u.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Af=(0,tu.Z)((0,u.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Mf(e){return(0,se.Z)("MuiTabScrollButton",e)}var Ef,Nf,Rf=(0,oe.Z)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Pf=["className","direction","orientation","disabled"],Of=(0,b.ZP)(In,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.orientation&&t[n.orientation]]}})((function(e){var t=e.ownerState;return(0,i.Z)((0,v.Z)({width:40,flexShrink:0,opacity:.8},"&.".concat(Rf.disabled),{opacity:0}),"vertical"===t.orientation&&{width:"100%",height:40,"& svg":{transform:"rotate(".concat(t.isRtl?-90:90,"deg)")}})})),Lf=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiTabScrollButton"}),r=n.className,a=n.direction,o=(0,S.Z)(n,Pf),s="rtl"===_().direction,l=(0,i.Z)({isRtl:s},n),c=function(e){var t=e.classes,n={root:["root",e.orientation,e.disabled&&"disabled"]};return(0,L.Z)(n,Mf,t)}(l);return(0,u.jsx)(Of,(0,i.Z)({component:"div",className:(0,C.Z)(c.root,r),ref:t,role:null,ownerState:l,tabIndex:null},o,{children:"left"===a?Ef||(Ef=(0,u.jsx)(If,{fontSize:"small"})):Nf||(Nf=(0,u.jsx)(Af,{fontSize:"small"}))}))}));function Ff(e){return(0,se.Z)("MuiTabs",e)}var Zf=(0,oe.Z)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Bf=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],zf=function(e,t){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild},Vf=function(e,t){return e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild},jf=function(e,t,n){for(var r=!1,i=n(e,t);i;){if(i===e.firstChild){if(r)return;r=!0}var a=i.disabled||"true"===i.getAttribute("aria-disabled");if(i.hasAttribute("tabindex")&&!a)return void i.focus();i=n(e,i)}},Wf=(0,b.ZP)("div",{name:"MuiTabs",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,v.Z)({},"& .".concat(Zf.scrollButtons),t.scrollButtons),(0,v.Z)({},"& .".concat(Zf.scrollButtons),n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile),t.root,n.vertical&&t.vertical]}})((function(e){var t=e.ownerState,n=e.theme;return(0,i.Z)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&(0,v.Z)({},"& .".concat(Zf.scrollButtons),(0,v.Z)({},n.breakpoints.down("sm"),{display:"none"})))})),Uf=(0,b.ZP)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:function(e,t){var n=e.ownerState;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})((function(e){var t=e.ownerState;return(0,i.Z)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})})),Hf=(0,b.ZP)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:function(e,t){var n=e.ownerState;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})((function(e){var t=e.ownerState;return(0,i.Z)({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})})),Gf=(0,b.ZP)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:function(e,t){return t.indicator}})((function(e){var t=e.ownerState,n=e.theme;return(0,i.Z)({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create()},"primary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.primary.main},"secondary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})})),Xf=(0,b.ZP)((function(t){var n=t.onChange,r=(0,S.Z)(t,Df),a=e.useRef(),o=e.useRef(null),s=function(){a.current=o.current.offsetHeight-o.current.clientHeight};return e.useEffect((function(){var e=(0,ze.Z)((function(){var e=a.current;s(),e!==a.current&&n(a.current)})),t=(0,Ve.Z)(o.current);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}),[n]),e.useEffect((function(){s(),n(a.current)}),[n]),(0,u.jsx)("div",(0,i.Z)({style:Tf,ref:o},r))}),{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),qf={},Yf=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiTabs"}),a=_(),o="rtl"===a.direction,s=r["aria-label"],l=r["aria-labelledby"],c=r.action,d=r.centered,f=void 0!==d&&d,h=r.children,p=r.className,m=r.component,y=void 0===m?"div":m,x=r.allowScrollButtonsMobile,b=void 0!==x&&x,w=r.indicatorColor,k=void 0===w?"primary":w,D=r.onChange,T=r.orientation,I=void 0===T?"horizontal":T,A=r.ScrollButtonComponent,M=void 0===A?Lf:A,E=r.scrollButtons,N=void 0===E?"auto":E,R=r.selectionFollowsFocus,P=r.TabIndicatorProps,O=void 0===P?{}:P,F=r.TabScrollButtonProps,Z=void 0===F?{}:F,B=r.textColor,z=void 0===B?"primary":B,V=r.value,j=r.variant,W=void 0===j?"standard":j,U=r.visibleScrollbar,H=void 0!==U&&U,G=(0,S.Z)(r,Bf),X="scrollable"===W,q="vertical"===I,Y=q?"scrollTop":"scrollLeft",K=q?"top":"left",Q=q?"bottom":"right",J=q?"clientHeight":"clientWidth",$=q?"height":"width",ee=(0,i.Z)({},r,{component:y,allowScrollButtonsMobile:b,indicatorColor:k,orientation:I,vertical:q,scrollButtons:N,textColor:z,variant:W,visibleScrollbar:H,fixed:!X,hideScrollbar:X&&!H,scrollableX:X&&!q,scrollableY:X&&q,centered:f&&!X,scrollButtonsHideMobile:!b}),te=function(e){var t=e.vertical,n=e.fixed,r=e.hideScrollbar,i=e.scrollableX,a=e.scrollableY,o=e.centered,s=e.scrollButtonsHideMobile,u=e.classes,l={root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",a&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",s&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]};return(0,L.Z)(l,Ff,u)}(ee);var ne=e.useState(!1),re=(0,g.Z)(ne,2),ie=re[0],ae=re[1],oe=e.useState(qf),se=(0,g.Z)(oe,2),ue=se[0],le=se[1],ce=e.useState({start:!1,end:!1}),de=(0,g.Z)(ce,2),he=de[0],pe=de[1],me=e.useState({overflow:"hidden",scrollbarWidth:0}),ge=(0,g.Z)(me,2),ve=ge[0],ye=ge[1],xe=new Map,be=e.useRef(null),we=e.useRef(null),_e=function(){var e,t,n=be.current;if(n){var r=n.getBoundingClientRect();e={clientWidth:n.clientWidth,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollLeftNormalized:Sf(n,a.direction),scrollWidth:n.scrollWidth,top:r.top,bottom:r.bottom,left:r.left,right:r.right}}if(n&&!1!==V){var i=we.current.children;if(i.length>0){var o=i[xe.get(V)];0,t=o?o.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},Se=(0,Xt.Z)((function(){var e,t,n=_e(),r=n.tabsMeta,i=n.tabMeta,a=0;if(q)t="top",i&&r&&(a=i.top-r.top+r.scrollTop);else if(t=o?"right":"left",i&&r){var s=o?r.scrollLeftNormalized+r.clientWidth-r.scrollWidth:r.scrollLeft;a=(o?-1:1)*(i[t]-r[t]+s)}var u=(e={},(0,v.Z)(e,t,a),(0,v.Z)(e,$,i?i[$]:0),e);if(isNaN(ue[t])||isNaN(ue[$]))le(u);else{var l=Math.abs(ue[t]-u[t]),c=Math.abs(ue[$]-u[$]);(l>=1||c>=1)&&le(u)}})),Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.animation,r=void 0===n||n;r?kf(Y,be.current,e,{duration:a.transitions.duration.standard}):be.current[Y]=e},ke=function(e){var t=be.current[Y];q?t+=e:(t+=e*(o?-1:1),t*=o&&"reverse"===_f()?-1:1),Ce(t)},De=function(){for(var e=be.current[J],t=0,n=Array.from(we.current.children),r=0;r<n.length;r+=1){var i=n[r];if(t+i[J]>e)break;t+=i[J]}return t},Te=function(){ke(-1*De())},Ie=function(){ke(De())},Ae=e.useCallback((function(e){ye({overflow:null,scrollbarWidth:e})}),[]),Me=(0,Xt.Z)((function(e){var t=_e(),n=t.tabsMeta,r=t.tabMeta;if(r&&n)if(r[K]<n[K]){var i=n[Y]+(r[K]-n[K]);Ce(i,{animation:e})}else if(r[Q]>n[Q]){var a=n[Y]+(r[Q]-n[Q]);Ce(a,{animation:e})}})),Ee=(0,Xt.Z)((function(){if(X&&!1!==N){var e,t,n=be.current,r=n.scrollTop,i=n.scrollHeight,s=n.clientHeight,u=n.scrollWidth,l=n.clientWidth;if(q)e=r>1,t=r<i-s-1;else{var c=Sf(be.current,a.direction);e=o?c<u-l-1:c>1,t=o?c>1:c<u-l-1}e===he.start&&t===he.end||pe({start:e,end:t})}}));e.useEffect((function(){var e,t=(0,ze.Z)((function(){Se(),Ee()})),n=(0,Ve.Z)(be.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t),Array.from(we.current.children).forEach((function(t){e.observe(t)}))),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[Se,Ee]);var Ne=e.useMemo((function(){return(0,ze.Z)((function(){Ee()}))}),[Ee]);e.useEffect((function(){return function(){Ne.clear()}}),[Ne]),e.useEffect((function(){ae(!0)}),[]),e.useEffect((function(){Se(),Ee()})),e.useEffect((function(){Me(qf!==ue)}),[Me,ue]),e.useImperativeHandle(c,(function(){return{updateIndicator:Se,updateScrollButtons:Ee}}),[Se,Ee]);var Re=(0,u.jsx)(Gf,(0,i.Z)({},O,{className:(0,C.Z)(te.indicator,O.className),ownerState:ee,style:(0,i.Z)({},ue,O.style)})),Pe=0,Oe=e.Children.map(h,(function(t){if(!e.isValidElement(t))return null;var n=void 0===t.props.value?Pe:t.props.value;xe.set(n,Pe);var r=n===V;return Pe+=1,e.cloneElement(t,(0,i.Z)({fullWidth:"fullWidth"===W,indicator:r&&!ie&&Re,selected:r,selectionFollowsFocus:R,onChange:D,textColor:z,value:n},1!==Pe||!1!==V||t.props.tabIndex?{}:{tabIndex:0}))})),Le=function(){var e={};e.scrollbarSizeListener=X?(0,u.jsx)(Xf,{onChange:Ae,className:(0,C.Z)(te.scrollableX,te.hideScrollbar)}):null;var t=he.start||he.end,n=X&&("auto"===N&&t||!0===N);return e.scrollButtonStart=n?(0,u.jsx)(M,(0,i.Z)({orientation:I,direction:o?"right":"left",onClick:Te,disabled:!he.start},Z,{className:(0,C.Z)(te.scrollButtons,Z.className)})):null,e.scrollButtonEnd=n?(0,u.jsx)(M,(0,i.Z)({orientation:I,direction:o?"left":"right",onClick:Ie,disabled:!he.end},Z,{className:(0,C.Z)(te.scrollButtons,Z.className)})):null,e}();return(0,u.jsxs)(Wf,(0,i.Z)({className:(0,C.Z)(te.root,p),ownerState:ee,ref:n,as:y},G,{children:[Le.scrollButtonStart,Le.scrollbarSizeListener,(0,u.jsxs)(Uf,{className:te.scroller,ownerState:ee,style:(0,v.Z)({overflow:ve.overflow},q?"margin".concat(o?"Left":"Right"):"marginBottom",H?void 0:-ve.scrollbarWidth),ref:be,onScroll:Ne,children:[(0,u.jsx)(Hf,{"aria-label":s,"aria-labelledby":l,"aria-orientation":"vertical"===I?"vertical":null,className:te.flexContainer,ownerState:ee,onKeyDown:function(e){var t=we.current,n=(0,qo.Z)(t).activeElement;if("tab"===n.getAttribute("role")){var r="horizontal"===I?"ArrowLeft":"ArrowUp",i="horizontal"===I?"ArrowRight":"ArrowDown";switch("horizontal"===I&&o&&(r="ArrowRight",i="ArrowLeft"),e.key){case r:e.preventDefault(),jf(t,n,Vf);break;case i:e.preventDefault(),jf(t,n,zf);break;case"Home":e.preventDefault(),jf(t,null,zf);break;case"End":e.preventDefault(),jf(t,null,Vf)}}},ref:we,role:"tablist",children:Oe}),ie&&Re]}),Le.scrollButtonEnd]}))})),Kf=Yf;function Qf(e){return(0,se.Z)("MuiTab",e)}var Jf=(0,oe.Z)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),$f=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],eh=(0,b.ZP)(In,{name:"MuiTab",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.label&&n.icon&&t.labelIcon,t["textColor".concat((0,Je.Z)(n.textColor))],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped]}})((function(e){var t,n,r,a=e.theme,o=e.ownerState;return(0,i.Z)({},a.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},o.label&&{flexDirection:"top"===o.iconPosition||"bottom"===o.iconPosition?"column":"row"},{lineHeight:1.25},o.icon&&o.label&&(0,v.Z)({minHeight:72,paddingTop:9,paddingBottom:9},"& > .".concat(Jf.iconWrapper),(0,i.Z)({},"top"===o.iconPosition&&{marginBottom:6},"bottom"===o.iconPosition&&{marginTop:6},"start"===o.iconPosition&&{marginRight:a.spacing(1)},"end"===o.iconPosition&&{marginLeft:a.spacing(1)})),"inherit"===o.textColor&&(t={color:"inherit",opacity:.6},(0,v.Z)(t,"&.".concat(Jf.selected),{opacity:1}),(0,v.Z)(t,"&.".concat(Jf.disabled),{opacity:(a.vars||a).palette.action.disabledOpacity}),t),"primary"===o.textColor&&(n={color:(a.vars||a).palette.text.secondary},(0,v.Z)(n,"&.".concat(Jf.selected),{color:(a.vars||a).palette.primary.main}),(0,v.Z)(n,"&.".concat(Jf.disabled),{color:(a.vars||a).palette.text.disabled}),n),"secondary"===o.textColor&&(r={color:(a.vars||a).palette.text.secondary},(0,v.Z)(r,"&.".concat(Jf.selected),{color:(a.vars||a).palette.secondary.main}),(0,v.Z)(r,"&.".concat(Jf.disabled),{color:(a.vars||a).palette.text.disabled}),r),o.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},o.wrapped&&{fontSize:a.typography.pxToRem(12)})})),th=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiTab"}),a=r.className,o=r.disabled,s=void 0!==o&&o,l=r.disableFocusRipple,c=void 0!==l&&l,d=r.fullWidth,f=r.icon,h=r.iconPosition,p=void 0===h?"top":h,m=r.indicator,g=r.label,v=r.onChange,y=r.onClick,x=r.onFocus,b=r.selected,w=r.selectionFollowsFocus,_=r.textColor,k=void 0===_?"inherit":_,D=r.value,T=r.wrapped,I=void 0!==T&&T,A=(0,S.Z)(r,$f),M=(0,i.Z)({},r,{disabled:s,disableFocusRipple:c,selected:b,icon:!!f,iconPosition:p,label:!!g,fullWidth:d,textColor:k,wrapped:I}),E=function(e){var t=e.classes,n=e.textColor,r=e.fullWidth,i=e.wrapped,a=e.icon,o=e.label,s=e.selected,u=e.disabled,l={root:["root",a&&o&&"labelIcon","textColor".concat((0,Je.Z)(n)),r&&"fullWidth",i&&"wrapped",s&&"selected",u&&"disabled"],iconWrapper:["iconWrapper"]};return(0,L.Z)(l,Qf,t)}(M),N=f&&g&&e.isValidElement(f)?e.cloneElement(f,{className:(0,C.Z)(E.iconWrapper,f.props.className)}):f;return(0,u.jsxs)(eh,(0,i.Z)({focusRipple:!c,className:(0,C.Z)(E.root,a),ref:n,role:"tab","aria-selected":b,disabled:s,onClick:function(e){!b&&v&&v(e,D),y&&y(e)},onFocus:function(e){w&&!b&&v&&v(e,D),x&&x(e)},ownerState:M,tabIndex:b?0:-1},A,{children:["top"===p||"start"===p?(0,u.jsxs)(e.Fragment,{children:[N,g]}):(0,u.jsxs)(e.Fragment,{children:[g,N]}),m]}))})),nh=["children","value","index"];function rh(e){var t=e.children,n=e.value,r=e.index,i=function(e,t){if(null==e)return{};var n,r,i=(0,S.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,nh);return(0,u.jsx)("div",x(x({role:"tabpanel",hidden:n!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},i),{},{children:n===r&&(0,u.jsx)(O,{sx:{p:3},children:(0,u.jsx)(Bt,{children:t})})}))}function ih(e){var t=e.items,n=e.value,r=e.onChange;return(0,u.jsxs)(O,{sx:{width:"100%"},children:[(0,u.jsx)(O,{children:(0,u.jsx)(Kf,{value:n,onChange:function(e,t){return r(t)},"aria-label":"basic tabs example",children:t.map((function(e){return(0,u.jsx)(th,x({label:e.name},function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}(e.index)),e.index)}))})}),t.map((function(e){return(0,u.jsx)(rh,{index:e.index,value:n},e.index)}))]})}var ah=(0,tu.Z)((0,u.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function oh(e){return(0,se.Z)("MuiChip",e)}var sh=(0,oe.Z)("MuiChip",["root","sizeSmall","sizeMedium","colorPrimary","colorSecondary","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","focusVisible"]),uh=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"],lh=(0,b.ZP)("div",{name:"MuiChip",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.color,i=n.clickable,a=n.onDelete,o=n.size,s=n.variant;return[(0,v.Z)({},"& .".concat(sh.avatar),t.avatar),(0,v.Z)({},"& .".concat(sh.avatar),t["avatar".concat((0,Je.Z)(o))]),(0,v.Z)({},"& .".concat(sh.avatar),t["avatarColor".concat((0,Je.Z)(r))]),(0,v.Z)({},"& .".concat(sh.icon),t.icon),(0,v.Z)({},"& .".concat(sh.icon),t["icon".concat((0,Je.Z)(o))]),(0,v.Z)({},"& .".concat(sh.icon),t["iconColor".concat((0,Je.Z)(r))]),(0,v.Z)({},"& .".concat(sh.deleteIcon),t.deleteIcon),(0,v.Z)({},"& .".concat(sh.deleteIcon),t["deleteIcon".concat((0,Je.Z)(o))]),(0,v.Z)({},"& .".concat(sh.deleteIcon),t["deleteIconColor".concat((0,Je.Z)(r))]),(0,v.Z)({},"& .".concat(sh.deleteIcon),t["deleteIconOutlinedColor".concat((0,Je.Z)(r))]),t.root,t["size".concat((0,Je.Z)(o))],t["color".concat((0,Je.Z)(r))],i&&t.clickable,i&&"default"!==r&&t["clickableColor".concat((0,Je.Z)(r),")")],a&&t.deletable,a&&"default"!==r&&t["deletableColor".concat((0,Je.Z)(r))],t[s],"outlined"===s&&t["outlined".concat((0,Je.Z)(r))]]}})((function(e){var t,n=e.theme,r=e.ownerState,a=(0,Ge.Fq)(n.palette.text.primary,.26);return(0,i.Z)((t={maxWidth:"100%",fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:n.palette.text.primary,backgroundColor:n.palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box"},(0,v.Z)(t,"&.".concat(sh.disabled),{opacity:n.palette.action.disabledOpacity,pointerEvents:"none"}),(0,v.Z)(t,"& .".concat(sh.avatar),{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===n.palette.mode?n.palette.grey[700]:n.palette.grey[300],fontSize:n.typography.pxToRem(12)}),(0,v.Z)(t,"& .".concat(sh.avatarColorPrimary),{color:n.palette.primary.contrastText,backgroundColor:n.palette.primary.dark}),(0,v.Z)(t,"& .".concat(sh.avatarColorSecondary),{color:n.palette.secondary.contrastText,backgroundColor:n.palette.secondary.dark}),(0,v.Z)(t,"& .".concat(sh.avatarSmall),{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)}),(0,v.Z)(t,"& .".concat(sh.icon),(0,i.Z)({color:"light"===n.palette.mode?n.palette.grey[700]:n.palette.grey[300],marginLeft:5,marginRight:-6},"small"===r.size&&{fontSize:18,marginLeft:4,marginRight:-4},"default"!==r.color&&{color:"inherit"})),(0,v.Z)(t,"& .".concat(sh.deleteIcon),(0,i.Z)({WebkitTapHighlightColor:"transparent",color:a,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:(0,Ge.Fq)(a,.4)}},"small"===r.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==r.color&&{color:(0,Ge.Fq)(n.palette[r.color].contrastText,.7),"&:hover, &:active":{color:n.palette[r.color].contrastText}})),t),"small"===r.size&&{height:24},"default"!==r.color&&{backgroundColor:n.palette[r.color].main,color:n.palette[r.color].contrastText},r.onDelete&&(0,v.Z)({},"&.".concat(sh.focusVisible),{backgroundColor:(0,Ge.Fq)(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}),r.onDelete&&"default"!==r.color&&(0,v.Z)({},"&.".concat(sh.focusVisible),{backgroundColor:n.palette[r.color].dark}))}),(function(e){var t,n=e.theme,r=e.ownerState;return(0,i.Z)({},r.clickable&&(t={userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:(0,Ge.Fq)(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)}},(0,v.Z)(t,"&.".concat(sh.focusVisible),{backgroundColor:(0,Ge.Fq)(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}),(0,v.Z)(t,"&:active",{boxShadow:n.shadows[1]}),t),r.clickable&&"default"!==r.color&&(0,v.Z)({},"&:hover, &.".concat(sh.focusVisible),{backgroundColor:n.palette[r.color].dark}))}),(function(e){var t,n,r=e.theme,a=e.ownerState;return(0,i.Z)({},"outlined"===a.variant&&(t={backgroundColor:"transparent",border:"1px solid ".concat("light"===r.palette.mode?r.palette.grey[400]:r.palette.grey[700])},(0,v.Z)(t,"&.".concat(sh.clickable,":hover"),{backgroundColor:r.palette.action.hover}),(0,v.Z)(t,"&.".concat(sh.focusVisible),{backgroundColor:r.palette.action.focus}),(0,v.Z)(t,"& .".concat(sh.avatar),{marginLeft:4}),(0,v.Z)(t,"& .".concat(sh.avatarSmall),{marginLeft:2}),(0,v.Z)(t,"& .".concat(sh.icon),{marginLeft:4}),(0,v.Z)(t,"& .".concat(sh.iconSmall),{marginLeft:2}),(0,v.Z)(t,"& .".concat(sh.deleteIcon),{marginRight:5}),(0,v.Z)(t,"& .".concat(sh.deleteIconSmall),{marginRight:3}),t),"outlined"===a.variant&&"default"!==a.color&&(n={color:r.palette[a.color].main,border:"1px solid ".concat((0,Ge.Fq)(r.palette[a.color].main,.7))},(0,v.Z)(n,"&.".concat(sh.clickable,":hover"),{backgroundColor:(0,Ge.Fq)(r.palette[a.color].main,r.palette.action.hoverOpacity)}),(0,v.Z)(n,"&.".concat(sh.focusVisible),{backgroundColor:(0,Ge.Fq)(r.palette[a.color].main,r.palette.action.focusOpacity)}),(0,v.Z)(n,"& .".concat(sh.deleteIcon),{color:(0,Ge.Fq)(r.palette[a.color].main,.7),"&:hover, &:active":{color:r.palette[a.color].main}}),n))})),ch=(0,b.ZP)("span",{name:"MuiChip",slot:"Label",overridesResolver:function(e,t){var n=e.ownerState.size;return[t.label,t["label".concat((0,Je.Z)(n))]]}})((function(e){var t=e.ownerState;return(0,i.Z)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"small"===t.size&&{paddingLeft:8,paddingRight:8})}));function dh(e){return"Backspace"===e.key||"Delete"===e.key}var fh=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiChip"}),a=r.avatar,o=r.className,s=r.clickable,l=r.color,c=void 0===l?"default":l,d=r.component,f=r.deleteIcon,h=r.disabled,p=void 0!==h&&h,m=r.icon,g=r.label,v=r.onClick,y=r.onDelete,x=r.onKeyDown,b=r.onKeyUp,w=r.size,_=void 0===w?"medium":w,k=r.variant,D=void 0===k?"filled":k,T=(0,S.Z)(r,uh),I=e.useRef(null),A=(0,Te.Z)(I,n),M=function(e){e.stopPropagation(),y&&y(e)},E=!(!1===s||!v)||s,N="small"===_,R=E||y?In:d||"div",P=(0,i.Z)({},r,{component:R,disabled:p,size:_,color:c,onDelete:!!y,clickable:E,variant:D}),O=function(e){var t=e.classes,n=e.disabled,r=e.size,i=e.color,a=e.onDelete,o=e.clickable,s=e.variant,u={root:["root",s,n&&"disabled","size".concat((0,Je.Z)(r)),"color".concat((0,Je.Z)(i)),o&&"clickable",o&&"clickableColor".concat((0,Je.Z)(i)),a&&"deletable",a&&"deletableColor".concat((0,Je.Z)(i)),"".concat(s).concat((0,Je.Z)(i))],label:["label","label".concat((0,Je.Z)(r))],avatar:["avatar","avatar".concat((0,Je.Z)(r)),"avatarColor".concat((0,Je.Z)(i))],icon:["icon","icon".concat((0,Je.Z)(r)),"iconColor".concat((0,Je.Z)(i))],deleteIcon:["deleteIcon","deleteIcon".concat((0,Je.Z)(r)),"deleteIconColor".concat((0,Je.Z)(i)),"deleteIconOutlinedColor".concat((0,Je.Z)(i))]};return(0,L.Z)(u,oh,t)}(P),F=R===In?(0,i.Z)({component:d||"div",focusVisibleClassName:O.focusVisible},y&&{disableRipple:!0}):{},Z=null;if(y){var B=(0,C.Z)("default"!==c&&("outlined"===D?O["deleteIconOutlinedColor".concat((0,Je.Z)(c))]:O["deleteIconColor".concat((0,Je.Z)(c))]),N&&O.deleteIconSmall);Z=f&&e.isValidElement(f)?e.cloneElement(f,{className:(0,C.Z)(f.props.className,O.deleteIcon,B),onClick:M}):(0,u.jsx)(ah,{className:(0,C.Z)(O.deleteIcon,B),onClick:M})}var z=null;a&&e.isValidElement(a)&&(z=e.cloneElement(a,{className:(0,C.Z)(O.avatar,a.props.className)}));var V=null;return m&&e.isValidElement(m)&&(V=e.cloneElement(m,{className:(0,C.Z)(O.icon,m.props.className)})),(0,u.jsxs)(lh,(0,i.Z)({as:R,className:(0,C.Z)(O.root,o),disabled:!(!E||!p)||void 0,onClick:v,onKeyDown:function(e){e.currentTarget===e.target&&dh(e)&&e.preventDefault(),x&&x(e)},onKeyUp:function(e){e.currentTarget===e.target&&(y&&dh(e)?y(e):"Escape"===e.key&&I.current&&I.current.blur()),b&&b(e)},ref:A,ownerState:P},F,T,{children:[z||V,(0,u.jsx)(ch,{className:(0,C.Z)(O.label),ownerState:P,children:g}),Z]}))})),hh=fh;function ph(e){return(0,se.Z)("MuiAlert",e)}var mh,gh=(0,oe.Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),vh=(0,tu.Z)((0,u.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),yh=(0,tu.Z)((0,u.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),xh=(0,tu.Z)((0,u.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),bh=(0,tu.Z)((0,u.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),wh=(0,tu.Z)((0,u.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),_h=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],Sh=(0,b.ZP)(Qe,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,Je.Z)(n.color||n.severity))]]}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?Ge._j:Ge.$n,a="light"===t.palette.mode?Ge.$n:Ge._j,o=n.color||n.severity;return(0,i.Z)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},o&&"standard"===n.variant&&(0,v.Z)({color:r(t.palette[o].light,.6),backgroundColor:a(t.palette[o].light,.9)},"& .".concat(gh.icon),{color:"dark"===t.palette.mode?t.palette[o].main:t.palette[o].light}),o&&"outlined"===n.variant&&(0,v.Z)({color:r(t.palette[o].light,.6),border:"1px solid ".concat(t.palette[o].light)},"& .".concat(gh.icon),{color:"dark"===t.palette.mode?t.palette[o].main:t.palette[o].light}),o&&"filled"===n.variant&&{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:"dark"===t.palette.mode?t.palette[o].dark:t.palette[o].main})})),Ch=(0,b.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,t){return t.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),kh=(0,b.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0"}),Dh=(0,b.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Th={success:(0,u.jsx)(vh,{fontSize:"inherit"}),warning:(0,u.jsx)(yh,{fontSize:"inherit"}),error:(0,u.jsx)(xh,{fontSize:"inherit"}),info:(0,u.jsx)(bh,{fontSize:"inherit"})},Ih=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiAlert"}),r=n.action,a=n.children,o=n.className,s=n.closeText,l=void 0===s?"Close":s,c=n.color,d=n.icon,f=n.iconMapping,h=void 0===f?Th:f,p=n.onClose,m=n.role,g=void 0===m?"alert":m,v=n.severity,y=void 0===v?"success":v,x=n.variant,b=void 0===x?"standard":x,w=(0,S.Z)(n,_h),_=(0,i.Z)({},n,{color:c,severity:y,variant:b}),k=function(e){var t=e.variant,n=e.color,r=e.severity,i=e.classes,a={root:["root","".concat(t).concat((0,Je.Z)(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,L.Z)(a,ph,i)}(_);return(0,u.jsxs)(Sh,(0,i.Z)({role:g,elevation:0,ownerState:_,className:(0,C.Z)(k.root,o),ref:t},w,{children:[!1!==d?(0,u.jsx)(Ch,{ownerState:_,className:k.icon,children:d||h[y]||Th[y]}):null,(0,u.jsx)(kh,{ownerState:_,className:k.message,children:a}),null!=r?(0,u.jsx)(Dh,{className:k.action,children:r}):null,null==r&&p?(0,u.jsx)(Dh,{ownerState:_,className:k.action,children:(0,u.jsx)(Pn,{size:"small","aria-label":l,title:l,color:"inherit",onClick:p,children:mh||(mh=(0,u.jsx)(wh,{fontSize:"small"}))})}):null]}))})),Ah=Ih,Mh=n(46928),Eh=n(52007),Nh=n.n(Eh);function Rh(e){return(0,se.Z)("MuiDataGrid",e)}var Ph=(0,oe.Z)("MuiDataGrid",["actionsCell","autoHeight","booleanCell","cell--editable","cell--editing","cell--textCenter","cell--textLeft","cell--textRight","cell--withRenderer","cell","cellContent","cellCheckbox","checkboxInput","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderDropZone","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeaders","columnHeadersInner","columnHeadersInner--scrollable","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsPanel","columnsPanelRow","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filterForm","filterFormDeleteIcon","filterFormLinkOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","iconButtonContainer","iconSeparator","main","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","root","root--densityStandard","root--densityComfortable","root--densityCompact","row","row--editable","row--editing","row--lastVisible","row--dragging","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","scrollArea--left","scrollArea--right","scrollArea","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","pinnedColumns--left","pinnedColumns--right","pinnedColumnHeaders","pinnedColumnHeaders--left","pinnedColumnHeaders--right","withBorder","treeDataGroupingCell","treeDataGroupingCellToggle","groupingCriteriaCell","groupingCriteriaCellToggle"]),Oh=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:function(e,t){return[(0,v.Z)({},"&.".concat(Ph.autoHeight),t.autoHeight),(0,v.Z)({},"& .".concat(Ph.editBooleanCell),t.editBooleanCell),(0,v.Z)({},"& .".concat(Ph["cell--editing"]),t["cell--editing"]),(0,v.Z)({},"& .".concat(Ph["cell--textCenter"]),t["cell--textCenter"]),(0,v.Z)({},"& .".concat(Ph["cell--textLeft"]),t["cell--textLeft"]),(0,v.Z)({},"& .".concat(Ph["cell--textRight"]),t["cell--textRight"]),(0,v.Z)({},"& .".concat(Ph["cell--withRenderer"]),t["cell--withRenderer"]),(0,v.Z)({},"& .".concat(Ph.cell),t.cell),(0,v.Z)({},"& .".concat(Ph.cellContent),t.cellContent),(0,v.Z)({},"& .".concat(Ph.cellCheckbox),t.cellCheckbox),(0,v.Z)({},"& .".concat(Ph.checkboxInput),t.checkboxInput),(0,v.Z)({},"& .".concat(Ph["columnHeader--alignCenter"]),t["columnHeader--alignCenter"]),(0,v.Z)({},"& .".concat(Ph["columnHeader--alignLeft"]),t["columnHeader--alignLeft"]),(0,v.Z)({},"& .".concat(Ph["columnHeader--alignRight"]),t["columnHeader--alignRight"]),(0,v.Z)({},"& .".concat(Ph["columnHeader--dragging"]),t["columnHeader--dragging"]),(0,v.Z)({},"& .".concat(Ph["columnHeader--moving"]),t["columnHeader--moving"]),(0,v.Z)({},"& .".concat(Ph["columnHeader--numeric"]),t["columnHeader--numeric"]),(0,v.Z)({},"& .".concat(Ph["columnHeader--sortable"]),t["columnHeader--sortable"]),(0,v.Z)({},"& .".concat(Ph["columnHeader--sorted"]),t["columnHeader--sorted"]),(0,v.Z)({},"& .".concat(Ph.columnHeader),t.columnHeader),(0,v.Z)({},"& .".concat(Ph.columnHeaderCheckbox),t.columnHeaderCheckbox),(0,v.Z)({},"& .".concat(Ph.columnHeaderDraggableContainer),t.columnHeaderDraggableContainer),(0,v.Z)({},"& .".concat(Ph.columnHeaderTitleContainer),t.columnHeaderTitleContainer),(0,v.Z)({},"& .".concat(Ph["columnSeparator--resizable"]),t["columnSeparator--resizable"]),(0,v.Z)({},"& .".concat(Ph["columnSeparator--resizing"]),t["columnSeparator--resizing"]),(0,v.Z)({},"& .".concat(Ph.columnSeparator),t.columnSeparator),(0,v.Z)({},"& .".concat(Ph.filterIcon),t.filterIcon),(0,v.Z)({},"& .".concat(Ph.iconSeparator),t.iconSeparator),(0,v.Z)({},"& .".concat(Ph.menuIcon),t.menuIcon),(0,v.Z)({},"& .".concat(Ph.menuIconButton),t.menuIconButton),(0,v.Z)({},"& .".concat(Ph.menuOpen),t.menuOpen),(0,v.Z)({},"& .".concat(Ph.menuList),t.menuList),(0,v.Z)({},"& .".concat(Ph["row--editable"]),t["row--editable"]),(0,v.Z)({},"& .".concat(Ph["row--editing"]),t["row--editing"]),(0,v.Z)({},"& .".concat(Ph["row--dragging"]),t["row--dragging"]),(0,v.Z)({},"& .".concat(Ph.row),t.row),(0,v.Z)({},"& .".concat(Ph.rowReorderCellPlaceholder),t.rowReorderCellPlaceholder),(0,v.Z)({},"& .".concat(Ph.rowReorderCell),t.rowReorderCell),(0,v.Z)({},"& .".concat(Ph["rowReorderCell--draggable"]),t["rowReorderCell--draggable"]),(0,v.Z)({},"& .".concat(Ph.sortIcon),t.sortIcon),(0,v.Z)({},"& .".concat(Ph.withBorder),t.withBorder),(0,v.Z)({},"& .".concat(Ph.treeDataGroupingCell),t.treeDataGroupingCell),(0,v.Z)({},"& .".concat(Ph.treeDataGroupingCellToggle),t.treeDataGroupingCellToggle),(0,v.Z)({},"& .".concat(Ph.detailPanelToggleCell),t.detailPanelToggleCell),(0,v.Z)({},"& .".concat(Ph["detailPanelToggleCell--expanded"]),t["detailPanelToggleCell--expanded"]),t.root]}})((function(e){var t,n,r=e.theme,a="light"===r.palette.mode?(0,Ge.$n)((0,Ge.Fq)(r.palette.divider,1),.88):(0,Ge._j)((0,Ge.Fq)(r.palette.divider,1),.68);return(0,i.Z)({flex:1,boxSizing:"border-box",position:"relative",border:"1px solid ".concat(a),borderRadius:r.shape.borderRadius,color:r.palette.text.primary},r.typography.body2,(n={outline:"none",height:"100%",display:"flex",flexDirection:"column"},(0,v.Z)(n,"&.".concat(Ph.autoHeight),(0,v.Z)({height:"auto"},"& .".concat(Ph["row--lastVisible"]," .").concat(Ph.cell),{borderBottomColor:"transparent"})),(0,v.Z)(n,"& .".concat(Ph["virtualScrollerContent--overflowed"]," .").concat(Ph["row--lastVisible"]," .").concat(Ph.cell),{borderBottomColor:"transparent"}),(0,v.Z)(n,"& .".concat(Ph.columnHeader,", & .").concat(Ph.cell),{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"}),(0,v.Z)(n,"& .".concat(Ph.columnHeader,":focus-within, & .").concat(Ph.cell,":focus-within"),{outline:"solid ".concat((0,Ge.Fq)(r.palette.primary.main,.5)," 1px"),outlineWidth:1,outlineOffset:-1}),(0,v.Z)(n,"& .".concat(Ph.columnHeader,":focus, & .").concat(Ph.cell,":focus"),{outline:"solid ".concat(r.palette.primary.main," 1px")}),(0,v.Z)(n,"& .".concat(Ph.columnHeaderCheckbox,", & .").concat(Ph.cellCheckbox),{padding:0,justifyContent:"center",alignItems:"center"}),(0,v.Z)(n,"& .".concat(Ph.columnHeader),{position:"relative",display:"flex",alignItems:"center"}),(0,v.Z)(n,"& .".concat(Ph["columnHeader--sorted"]," .").concat(Ph.iconButtonContainer,", & .").concat(Ph["columnHeader--filtered"]," .").concat(Ph.iconButtonContainer),{visibility:"visible",width:"auto"}),(0,v.Z)(n,"& .".concat(Ph.columnHeader,":not(.").concat(Ph["columnHeader--sorted"],") .").concat(Ph.sortIcon),{opacity:0,transition:r.transitions.create(["opacity"],{duration:r.transitions.duration.shorter})}),(0,v.Z)(n,"& .".concat(Ph.columnHeader,":not(.").concat(Ph["columnHeader--sorted"],"):hover .").concat(Ph.sortIcon),{opacity:.5}),(0,v.Z)(n,"& .".concat(Ph.columnHeaderTitleContainer),{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"}),(0,v.Z)(n,"& .".concat(Ph.columnHeaderTitleContainerContent),{overflow:"hidden",display:"flex",alignItems:"center"}),(0,v.Z)(n,"& .".concat(Ph.sortIcon,", & .").concat(Ph.filterIcon),{fontSize:"inherit"}),(0,v.Z)(n,"& .".concat(Ph["columnHeader--sortable"]),{cursor:"pointer"}),(0,v.Z)(n,"& .".concat(Ph["columnHeader--alignCenter"]," .").concat(Ph.columnHeaderTitleContainer),{justifyContent:"center"}),(0,v.Z)(n,"& .".concat(Ph["columnHeader--alignRight"]," .").concat(Ph.columnHeaderDraggableContainer,", & .").concat(Ph["columnHeader--alignRight"]," .").concat(Ph.columnHeaderTitleContainer),{flexDirection:"row-reverse"}),(0,v.Z)(n,"& .".concat(Ph["columnHeader--alignCenter"]," .").concat(Ph.menuIcon,", & .").concat(Ph["columnHeader--alignRight"]," .").concat(Ph.menuIcon),{marginRight:"auto",marginLeft:-6}),(0,v.Z)(n,"& .".concat(Ph["columnHeader--alignRight"]," .").concat(Ph.menuIcon,", & .").concat(Ph["columnHeader--alignRight"]," .").concat(Ph.menuIcon),{marginRight:"auto",marginLeft:-10}),(0,v.Z)(n,"& .".concat(Ph["columnHeader--moving"]),{backgroundColor:r.palette.action.hover}),(0,v.Z)(n,"& .".concat(Ph.columnSeparator),{position:"absolute",zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",color:a}),(0,v.Z)(n,"& .".concat(Ph["columnSeparator--sideLeft"]),{left:-12}),(0,v.Z)(n,"& .".concat(Ph["columnSeparator--sideRight"]),{right:-12}),(0,v.Z)(n,"& .".concat(Ph["columnSeparator--resizable"]),(0,v.Z)({cursor:"col-resize",touchAction:"none","&:hover":{color:r.palette.text.primary,"@media (hover: none)":{color:a}}},"&.".concat(Ph["columnSeparator--resizing"]),{color:r.palette.text.primary})),(0,v.Z)(n,"& .".concat(Ph.iconSeparator),{color:"inherit"}),(0,v.Z)(n,"& .".concat(Ph.menuIcon),{width:0,visibility:"hidden",fontSize:20,marginRight:-10,display:"flex",alignItems:"center"}),(0,v.Z)(n,"& .".concat(Ph.columnHeader,":hover"),(t={},(0,v.Z)(t,"& .".concat(Ph.iconButtonContainer),{visibility:"visible",width:"auto"}),(0,v.Z)(t,"& .".concat(Ph.menuIcon),{width:"auto",visibility:"visible"}),t)),(0,v.Z)(n,".".concat(Ph.menuOpen),{visibility:"visible",width:"auto"}),(0,v.Z)(n,"& .".concat(Ph.row),{display:"flex",width:"fit-content",breakInside:"avoid","&:hover, &.Mui-hovered":{backgroundColor:r.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:(0,Ge.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:(0,Ge.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,Ge.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity)}}}}),(0,v.Z)(n,"& .".concat(Ph.cell),{display:"flex",alignItems:"center",overflow:"hidden",whiteSpace:"nowrap",borderBottom:"1px solid ".concat(a)}),(0,v.Z)(n,"& .".concat(Ph.cellContent),{overflow:"hidden",textOverflow:"ellipsis"}),(0,v.Z)(n,"& .".concat(Ph.cell,".").concat(Ph["cell--editing"]),{padding:1,display:"flex",boxShadow:r.shadows[2],backgroundColor:r.palette.background.paper,"&:focus-within":{outline:"solid ".concat(r.palette.primary.main," 1px"),outlineOffset:"-1px"}}),(0,v.Z)(n,"& .".concat(Ph["row--editing"]),{boxShadow:r.shadows[2]}),(0,v.Z)(n,"& .".concat(Ph["row--editing"]," .").concat(Ph.cell),{boxShadow:r.shadows[0],backgroundColor:r.palette.background.paper}),(0,v.Z)(n,"& .".concat(Ph.editBooleanCell),{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"}),(0,v.Z)(n,"& .".concat(Ph.booleanCell,'[data-value="true"]'),{color:r.palette.text.secondary}),(0,v.Z)(n,"& .".concat(Ph.booleanCell,'[data-value="false"]'),{color:r.palette.text.disabled}),(0,v.Z)(n,"& .".concat(Ph.actionsCell),{display:"inline-flex",alignItems:"center",gridGap:r.spacing(1)}),(0,v.Z)(n,"& .".concat(Ph.rowReorderCell),{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:r.palette.action.disabledOpacity}),(0,v.Z)(n,"& .".concat(Ph["rowReorderCell--draggable"]),{cursor:"move",opacity:1}),(0,v.Z)(n,"& .".concat(Ph.rowReorderCellContainer),{padding:0,alignItems:"stretch"}),(0,v.Z)(n,"& .".concat(Ph.withBorder),{borderRight:"1px solid ".concat(a)}),(0,v.Z)(n,"& .".concat(Ph["cell--textLeft"]),{justifyContent:"flex-start"}),(0,v.Z)(n,"& .".concat(Ph["cell--textRight"]),{justifyContent:"flex-end"}),(0,v.Z)(n,"& .".concat(Ph["cell--textCenter"]),{justifyContent:"center"}),(0,v.Z)(n,"& .".concat(Ph.columnHeaderDraggableContainer),{display:"flex",width:"100%"}),(0,v.Z)(n,"& .".concat(Ph.rowReorderCellPlaceholder),{display:"none"}),(0,v.Z)(n,"& .".concat(Ph["columnHeader--dragging"],", & .").concat(Ph["row--dragging"]),{background:r.palette.background.paper,padding:"0 12px",borderRadius:r.shape.borderRadius,opacity:r.palette.action.disabledOpacity}),(0,v.Z)(n,"& .".concat(Ph["row--dragging"]),(0,v.Z)({background:r.palette.background.paper,padding:"0 12px",borderRadius:r.shape.borderRadius,opacity:r.palette.action.disabledOpacity},"& .".concat(Ph.rowReorderCellPlaceholder),{display:"flex"})),(0,v.Z)(n,"& .".concat(Ph.treeDataGroupingCell),{display:"flex",alignItems:"center",width:"100%"}),(0,v.Z)(n,"& .".concat(Ph.treeDataGroupingCellToggle),{flex:"0 0 28px",alignSelf:"stretch",marginRight:r.spacing(2)}),(0,v.Z)(n,"& .".concat(Ph.groupingCriteriaCell),{display:"flex",alignItems:"center",width:"100%"}),(0,v.Z)(n,"& .".concat(Ph.groupingCriteriaCellToggle),{flex:"0 0 28px",alignSelf:"stretch",marginRight:r.spacing(2)}),n))})),Lh="NOT_FOUND";var Fh=function(e,t){return e===t};function Zh(e,t){var n="object"===typeof t?t:{equalityCheck:t},r=n.equalityCheck,i=void 0===r?Fh:r,a=n.maxSize,o=void 0===a?1:a,s=n.resultEqualityCheck,u=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(i),l=1===o?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:Lh},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(u):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return Lh}return{get:r,put:function(t,i){r(t)===Lh&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(o,u);function c(){var t=l.get(arguments);if(t===Lh){if(t=e.apply(null,arguments),s){var n=l.getEntries(),r=n.find((function(e){return s(e.value,t)}));r&&(t=r.value)}l.put(arguments,t)}return t}return c.clearCache=function(){return l.clear()},c}function Bh(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function zh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a,o=0,s={memoizeOptions:void 0},u=r.pop();if("object"===typeof u&&(s=u,u=r.pop()),"function"!==typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var l=s,c=l.memoizeOptions,d=void 0===c?n:c,f=Array.isArray(d)?d:[d],h=Bh(r),p=e.apply(void 0,[function(){return o++,u.apply(null,arguments)}].concat(f)),m=e((function(){for(var e=[],t=h.length,n=0;n<t;n++)e.push(h[n].apply(null,arguments));return a=p.apply(null,e)}));return Object.assign(m,{resultFunc:u,memoizedResultFunc:p,dependencies:h,lastResult:function(){return a},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),m};return i}var Vh=zh(Zh),jh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning",n=!1,r=Array.isArray(e)?e.join("\n"):e;return function(){n||(n=!0,"error"===t?console.error(r):console.warn(r))}},Wh=function(e,t){return e},Uh={cache:null},Hh=(jh(["MUI: A selector was called without passing the instance ID, which may impact the performance of the grid.","To fix, call it with `apiRef`, e.g. `mySelector(apiRef)`, or pass the instance ID explicitly, e.g `mySelector(state, apiRef.current.instanceId)`."]),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null===Uh.cache&&(Uh.cache={});var r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=!!i.current,s=o?i.current.instanceId:null!=a?a:"default",u=o?i.current.state:i;null===Uh.cache&&(Uh.cache={});var l=Uh.cache;if(l[s]&&l[s].get(t))return l[s].get(t)(u,s);var c=Vh.apply(void 0,t);return l[s]||(l[s]=new Map),l[s].set(t,c),c(u,s)};return r.acceptsApiRef=!0,r}),Gh=function(e){return e.columns},Xh=Hh(Gh,(function(e){return e.all})),qh=Hh(Gh,(function(e){return e.lookup})),Yh=Hh(Xh,qh,(function(e,t){return e.map((function(e){return t[e]}))})),Kh=Hh(Gh,(function(e){return e.columnVisibilityModel})),Qh=Hh(Yh,Kh,(function(e,t){return e.filter((function(e){return!1!==t[e.field]}))})),Jh=(Hh(Qh,(function(e){return e.map((function(e){return e.field}))})),Hh(Qh,(function(e){for(var t=[],n=0,r=0;r<e.length;r+=1)t.push(n),n+=e[r].computedWidth;return t}))),$h=Hh(Qh,Jh,(function(e,t){var n=e.length;return 0===n?0:t[n-1]+e[n-1].computedWidth})),ep=Hh(Yh,(function(e){return e.filter((function(e){return e.filterable}))})),tp=Hh(Yh,(function(e){return e.reduce((function(e,t){return t.filterable&&(e[t.field]=t),e}),{})})),np=(Wh(Xh),Wh(Yh),Wh(Qh),Wh(ep),Wh(Hh(ep,(function(e){return e.map((function(e){return e.field}))}))),Wh(Hh(Qh,(function(e){return e.length}))),Wh(Hh(Jh,$h,(function(e,t){return{totalWidth:t,positions:e}}))));jh(["MUI: `useGridSelector` has been called before the initialization of the state.","This hook can only be used inside the context of the grid."]);var rp=function(e,t){return function(e){return e.acceptsApiRef}(t)?t(e):t(e.current.state)},ip=e.createContext(void 0);function ap(){var t=e.useContext(ip);if(void 0===t)throw new Error(["MUI: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid or DataGridPro parent component.","This can also happen if you are bundling multiple versions of the data grid."].join("\n"));return t}var op=e.createContext(void 0);var sp=function(){var t=e.useContext(op);if(!t)throw new Error("MUI: useGridRootProps should only be used inside the DataGrid/DataGridPro component.");return t},up=function(e){return e.rows},lp=Hh(up,(function(e){return e.totalRowCount})),cp=Hh(up,(function(e){return e.loading})),dp=Hh(up,(function(e){return e.totalTopLevelRowCount})),fp=Hh(up,(function(e){return e.idRowsLookup})),hp=Hh(up,(function(e){return e.idToIdLookup})),pp=Hh(up,(function(e){return e.tree})),mp=Hh(up,(function(e){return e.groupingName})),gp=Hh(up,(function(e){return e.treeDepth})),vp=Hh(up,(function(e){return e.ids})),yp=function(e){return e.density},xp=Hh(yp,(function(e){return e.value})),bp=Hh(yp,(function(e){return e.rowHeight})),wp=Hh(yp,(function(e){return e.headerHeight})),_p=Hh(yp,(function(e){return e.factor})),Sp=["children","className"],Cp=e.forwardRef((function(t,n){var r=sp(),a=t.children,o=t.className,s=(0,S.Z)(t,Sp),l=ap(),c=rp(l,Qh),d=rp(l,lp),f=rp(l,xp),h=e.useRef(null),p=(0,Te.Z)(h,n),m=function(e){var t=e.autoHeight,n=e.density,r=e.classes,i={root:["root",t&&"autoHeight","root--density".concat((0,Je.Z)(n))]};return(0,L.Z)(i,Rh,r)}({density:f,classes:r.classes,autoHeight:r.autoHeight});l.current.rootElementRef=h;var v=e.useState(!1),y=(0,g.Z)(v,2),x=y[0],b=y[1];return(0,Bn.Z)((function(){b(!0)}),[]),(0,Bn.Z)((function(){x&&l.current.unstable_updateGridDimensionsRef()}),[l,x]),x?(0,u.jsx)(Oh,(0,i.Z)({ref:p,className:(0,C.Z)(o,m.root),role:"grid","aria-colcount":c.length,"aria-rowcount":d,"aria-multiselectable":!r.disableMultipleSelection,"aria-label":r["aria-label"],"aria-labelledby":r["aria-labelledby"]},s,{children:a})):null}));function kp(t,n){var r=e.useRef(null);if(r.current)return r.current;var i=t.current.getLogger(n);return r.current=i,i}var Dp=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:function(e,t){return t.main}})((function(){return{position:"relative",flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"}}));function Tp(e){var t=function(e){var t=e.classes;return(0,L.Z)({root:["main"]},Rh,t)}({classes:sp().classes});return(0,u.jsx)(Dp,{className:t.root,children:e.children})}var Ip=n(60136),Ap=n(27277),Mp=function(e){(0,Ip.Z)(n,e);var t=(0,Ap.Z)(n);function n(){return(0,G.Z)(this,n),t.apply(this,arguments)}return(0,X.Z)(n,[{key:"componentDidCatch",value:function(e,t){this.props.api.current&&(this.logError(e),this.props.api.current.showError({error:e,errorInfo:t}))}},{key:"logError",value:function(e,t){this.props.logger.error("An unexpected error occurred. Error: ".concat(e&&e.message,". "),e,t)}},{key:"render",value:function(){var e;return this.props.hasError||null!=(e=this.state)&&e.hasError?this.props.render(this.props.componentProps||this.state):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),n}(e.Component);function Ep(e){var t=e.children,n=ap(),r=kp(n,"GridErrorHandler"),a=sp(),o=n.current.state.error;return(0,u.jsx)(Mp,{hasError:null!=o,componentProps:o,api:n,logger:r,render:function(e){var t;return(0,u.jsx)(Tp,{children:(0,u.jsx)(a.components.ErrorOverlay,(0,i.Z)({},e,null==(t=a.componentsProps)?void 0:t.errorOverlay))})},children:t})}function Np(){var t,n=ap(),r=sp(),a=e.useRef(null);return n.current.headerRef=a,(0,u.jsx)("div",{ref:a,children:(0,u.jsx)(r.components.Header,(0,i.Z)({},null==(t=r.componentsProps)?void 0:t.header))})}function Rp(e,t){var n=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},r=function(e){if(!(e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var r=this;n(this),this.__resizeRAF__&&t.cancelAnimationFrame(this.__resizeRAF__),this.__resizeRAF__=t.requestAnimationFrame((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(r)&&(r.__resizeLast__.width=r.offsetWidth,r.__resizeLast__.height=r.offsetHeight,r.__resizeListeners__.forEach((function(t){t.call(r,e)})))}))}},i=!1,a="",o="animationstart",s="Webkit Moz O ms".split(" "),u="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),l=document.createElement("fakeelement");if(void 0!==l.style.animationName&&(i=!0),!1===i)for(var c=0;c<s.length;c++)if(void 0!==l.style[s[c]+"AnimationName"]){a="-"+s[c].toLowerCase()+"-",o=u[c],i=!0;break}var d="resizeanim",f="@"+a+"keyframes "+"resizeanim { from { opacity: 0; } to { opacity: 0; } } ",h=a+"animation: 1ms "+"resizeanim; ";return{addResizeListener:function(i,a){if(!i.__resizeTriggers__){var s=i.ownerDocument,u=t.getComputedStyle(i);u&&"static"==u.position&&(i.style.position="relative"),function(t){if(!t.getElementById("muiDetectElementResize")){var n=(f||"")+".Mui-resizeTriggers { "+(h||"")+'visibility: hidden; opacity: 0; } .Mui-resizeTriggers, .Mui-resizeTriggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .Mui-resizeTriggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=t.head||t.getElementsByTagName("head")[0],i=t.createElement("style");i.id="muiDetectElementResize",i.type="text/css",null!=e&&i.setAttribute("nonce",e),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(t.createTextNode(n)),r.appendChild(i)}}(s),i.__resizeLast__={},i.__resizeListeners__=[],(i.__resizeTriggers__=s.createElement("div")).className="Mui-resizeTriggers",i.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',i.appendChild(i.__resizeTriggers__),n(i),i.addEventListener("scroll",r,!0),o&&(i.__resizeTriggers__.__animationListener__=function(e){e.animationName==d&&n(i)},i.__resizeTriggers__.addEventListener(o,i.__resizeTriggers__.__animationListener__))}i.__resizeListeners__.push(a)},removeResizeListener:function(e,t){if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",r,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(o,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(tZ){}}}}}var Pp=["children","defaultHeight","defaultWidth","disableHeight","disableWidth","nonce","onResize","style"],Op=e.forwardRef((function(t,n){var r=t.children,a=t.defaultHeight,o=void 0===a?null:a,s=t.defaultWidth,l=void 0===s?null:s,c=t.disableHeight,d=void 0!==c&&c,f=t.disableWidth,h=void 0!==f&&f,p=t.nonce,m=t.onResize,v=t.style,y=(0,S.Z)(t,Pp),x=e.useState({height:o,width:l}),b=(0,g.Z)(x,2),w=b[0],_=b[1],C=e.useRef(null),k=e.useRef(null),D=(0,Xt.Z)((function(){if(k.current){var e=k.current.offsetHeight||0,t=k.current.offsetWidth||0,n=(0,Ve.Z)(k.current).getComputedStyle(k.current),r=parseInt(n.paddingLeft,10)||0,i=parseInt(n.paddingRight,10)||0,a=e-(parseInt(n.paddingTop,10)||0)-(parseInt(n.paddingBottom,10)||0),o=t-r-i;(!d&&w.height!==a||!h&&w.width!==o)&&(_({height:a,width:o}),m&&m({height:a,width:o}))}}));(0,Bn.Z)((function(){var e;if(k.current=C.current.parentElement,k){var t=(0,Ve.Z)(null!=(e=k.current)?e:void 0),n=Rp(p,t);return n.addResizeListener(k.current,D),D(),function(){n.removeResizeListener(k.current,D)}}}),[p,D]);var T={overflow:"visible"},I={};d||(T.height=0,I.height=w.height),h||(T.width=0,I.width=w.width);var A=(0,Te.Z)(C,n);return(0,u.jsx)("div",(0,i.Z)({ref:A,style:(0,i.Z)({},T,v)},y,{children:null===w.height&&null===w.width?null:r(I)}))})),Lp=function(e){return e.sorting},Fp=Hh(Lp,(function(e){return e.sortedRows})),Zp=Hh(Fp,fp,(function(e,t){return e.map((function(e){return{id:e,model:t[e]}}))})),Bp=Hh(Lp,(function(e){return e.sortModel})),zp=Hh(Bp,(function(e){var t=e.reduce((function(t,n,r){return t[n.field]={sortDirection:n.sort,sortIndex:e.length>1?r+1:void 0},t}),{});return t})),Vp=function(e){return e.filter},jp=Hh(Vp,(function(e){return e.filterModel})),Wp=Hh(Vp,(function(e){return e.visibleRowsLookup})),Up=Hh(Vp,(function(e){return e.filteredRowsLookup})),Hp=(Hh(Vp,(function(e){return e.filteredDescendantCountLookup})),Hh(Wp,Zp,(function(e,t){return t.filter((function(t){return!1!==e[t.id]}))}))),Gp=Hh(Hp,(function(e){return e.map((function(e){return e.id}))})),Xp=Hh(Up,Zp,(function(e,t){return t.filter((function(t){return!1!==e[t.id]}))})),qp=Hh(Xp,(function(e){return e.map((function(e){return e.id}))})),Yp=Hh(Hp,pp,gp,(function(e,t,n){return n<2?e:e.filter((function(e){var n;return 0===(null==(n=t[e.id])?void 0:n.depth)}))})),Kp=Hh(Hp,(function(e){return e.length})),Qp=Hh(Yp,(function(e){return e.length})),Jp=Hh(jp,qh,(function(e,t){var n;return null==(n=e.items)?void 0:n.filter((function(e){var n,r;if(!e.columnField)return!1;var i=t[e.columnField];if(null==i||!i.filterOperators||0===(null==i||null==(n=i.filterOperators)?void 0:n.length))return!1;var a=i.filterOperators.find((function(t){return t.value===e.operatorValue}));return!!a&&(!a.InputComponent||null!=e.value&&""!==(null==(r=e.value)?void 0:r.toString()))}))})),$p=Hh(Jp,(function(e){return e.reduce((function(e,t){return e[t.columnField]?e[t.columnField].push(t):e[t.columnField]=[t],e}),{})}));function em(t){var n,r,a=ap(),o=sp(),s=rp(a,wp),l=e.useState((function(){var e,t;return null!=(e=null==(t=a.current.getRootDimensions())?void 0:t.viewportInnerSize)?e:null})),c=(0,g.Z)(l,2),d=c[0],f=c[1],h=e.useCallback((function(){var e,t;f(null!=(e=null==(t=a.current.getRootDimensions())?void 0:t.viewportInnerSize)?e:null)}),[a]);(0,Bn.Z)((function(){return a.current.subscribeEvent("viewportInnerSizeChange",h)}),[a,h]);var p=null!=(n=null==d?void 0:d.height)?n:0;return o.autoHeight&&0===p&&(p="auto"),d?(0,u.jsx)("div",(0,i.Z)({style:{height:p,width:null!=(r=null==d?void 0:d.width)?r:0,position:"absolute",top:s,bottom:"auto"===p?0:void 0}},t)):null}function tm(){var e,t,n,r=ap(),a=sp(),o=rp(r,lp),s=rp(r,Kp),l=rp(r,cp),c=!l&&o>0&&0===s,d=null;l||0!==o||(d=(0,u.jsx)(a.components.NoRowsOverlay,(0,i.Z)({},null==(e=a.componentsProps)?void 0:e.noRowsOverlay)));c&&(d=(0,u.jsx)(a.components.NoResultsOverlay,(0,i.Z)({},null==(t=a.componentsProps)?void 0:t.noResultsOverlay)));l&&(d=(0,u.jsx)(a.components.LoadingOverlay,(0,i.Z)({},null==(n=a.componentsProps)?void 0:n.loadingOverlay)));return null===d?null:(0,u.jsx)(em,{children:d})}function nm(t){var n=t.children,r=t.VirtualScrollerComponent,i=t.ColumnHeadersComponent,a=ap(),o=sp(),s=rp(a,wp),l=e.useState(o.disableVirtualization),c=(0,g.Z)(l,2),d=c[0],f=c[1],h=e.useCallback((function(){f(!0)}),[]),p=e.useCallback((function(){f(!1)}),[]);a.current.unstable_disableVirtualization=h,a.current.unstable_enableVirtualization=p;var m=e.useRef(null),v=e.useRef(null),y=e.useRef(null),x=e.useRef(null);a.current.columnHeadersContainerElementRef=v,a.current.columnHeadersElementRef=m,a.current.windowRef=y,a.current.renderingZoneRef=x;var b=e.useCallback((function(e){a.current.publishEvent("resize",e)}),[a]);return(0,u.jsxs)(Tp,{children:[(0,u.jsx)(tm,{}),(0,u.jsx)(i,{ref:v,innerRef:m}),(0,u.jsx)(Op,{nonce:o.nonce,disableHeight:o.autoHeight,onResize:b,children:function(e){var t={width:e.width,height:e.height?e.height-s:"auto",marginTop:s};return(0,u.jsx)(r,{ref:y,style:t,disableVirtualization:d})}}),n]})}function rm(){var t,n=ap(),r=sp(),a=e.useRef(null);return n.current.footerRef=a,r.hideFooter?null:(0,u.jsx)("div",{ref:a,children:(0,u.jsx)(r.components.Footer,(0,i.Z)({},null==(t=r.componentsProps)?void 0:t.footer))})}var im=function(e){var t=e.apiRef,n=e.props,r=e.children;return(0,u.jsx)(op.Provider,{value:n,children:(0,u.jsx)(ip.Provider,{value:t,children:r})})};function am(e){return"function"===typeof e}function om(){try{var e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(t){return!1}}function sm(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}var um=function(e,t,n){return Math.max(t,Math.min(n,e))};function lm(e,t){if(e===t)return!0;if(e&&t&&"object"===typeof e&&"object"===typeof t){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r+=1)if(!lm(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(var i=Array.from(e.entries()),a=0;a<i.length;a+=1)if(!t.has(i[a][0]))return!1;for(var o=0;o<i.length;o+=1){var s=i[o];if(!lm(s[1],t.get(s[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(var u=Array.from(e.entries()),l=0;l<u.length;l+=1)if(!t.has(u[l][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){var c=e.length;if(c!==t.length)return!1;for(var d=0;d<c;d+=1)if(e[d]!==t[d])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var f=Object.keys(e),h=f.length;if(h!==Object.keys(t).length)return!1;for(var p=0;p<h;p+=1)if(!Object.prototype.hasOwnProperty.call(t,f[p]))return!1;for(var m=0;m<h;m+=1){var g=f[m];if(!lm(e[g],t[g]))return!1}return!0}return e!==e&&t!==t}var cm=om()&&null!=window.localStorage.getItem("DEBUG"),dm=function(){},fm={debug:dm,info:dm,warn:dm,error:dm},hm=["debug","info","warn","error"];function pm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console,r=hm.indexOf(t);if(-1===r)throw new Error("MUI: Log level ".concat(t," not recognized."));var i=hm.reduce((function(t,i,a){return t[i]=a>=r?function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o=r[0],s=r.slice(1);n[i].apply(n,["MUI: ".concat(e," - ").concat(o)].concat((0,T.Z)(s)))}:dm,t}),{});return i}function mm(t,n,r){var i=e.useRef(n),a=e.useState(Object.keys(n)),o=(0,g.Z)(a,1)[0],s=e.useCallback((function(){t.current&&o.forEach((function(e){t.current.hasOwnProperty(e)||(t.current[e]=function(){var t;return(t=i.current)[e].apply(t,arguments)})}))}),[o,t]);e.useEffect((function(){i.current=n}),[n]),e.useEffect((function(){s()}),[s]),s()}var gm,vm=1e3,ym=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vm;(0,G.Z)(this,e),this.timeouts=new Map,this.cleanupTimeout=vm,this.cleanupTimeout=t}return(0,X.Z)(e,[{key:"register",value:function(e,t,n){var r=this;this.timeouts||(this.timeouts=new Map);var i=setTimeout((function(){"function"===typeof t&&t(),r.timeouts.delete(n.cleanupToken)}),this.cleanupTimeout);this.timeouts.set(n.cleanupToken,i)}},{key:"unregister",value:function(e){var t=this.timeouts.get(e.cleanupToken);t&&(this.timeouts.delete(e.cleanupToken),clearTimeout(t))}},{key:"reset",value:function(){var e=this;this.timeouts&&(this.timeouts.forEach((function(t,n){e.unregister({cleanupToken:n})})),this.timeouts=void 0)}}]),e}(),xm=function(){function e(){(0,G.Z)(this,e),this.registry=new FinalizationRegistry((function(e){"function"===typeof e&&e()}))}return(0,X.Z)(e,[{key:"register",value:function(e,t,n){this.registry.register(e,t,n)}},{key:"unregister",value:function(e){this.registry.unregister(e)}},{key:"reset",value:function(){}}]),e}();!function(e){e.DataGrid="DataGrid",e.DataGridPro="DataGridPro"}(gm||(gm={}));var bm=(0,X.Z)((function e(){(0,G.Z)(this,e)}));var wm={registry:null},_m=function(t){var n=0;return function(r,i,a,o){null===t.registry&&(t.registry="undefined"!==typeof FinalizationRegistry?new xm:new ym);var s=e.useState(new bm),u=(0,g.Z)(s,1)[0],l=e.useRef(null),c=e.useRef();c.current=a;var d=e.useRef(null);if(!l.current&&c.current){l.current=r.current.subscribeEvent(i,(function(e,t,n){var r;t.defaultMuiPrevented||(null==(r=c.current)||r.call(c,e,t,n))}),o),n+=1,d.current={cleanupToken:n},t.registry.register(u,(function(){var e;null==(e=l.current)||e.call(l),l.current=null,d.current=null}),d.current)}else!c.current&&l.current&&(l.current(),l.current=null,d.current&&(t.registry.unregister(d.current),d.current=null));e.useEffect((function(){if(!l.current&&c.current){l.current=r.current.subscribeEvent(i,(function(e,t,n){var r;t.defaultMuiPrevented||(null==(r=c.current)||r.call(c,e,t,n))}),o)}return d.current&&t.registry&&(t.registry.unregister(d.current),d.current=null),function(){var e;null==(e=l.current)||e.call(l),l.current=null}}),[r,i,o])}}(wm),Sm={isFirst:!0};function Cm(e,t,n){_m(e,t,n,Sm)}var km=function(){function e(){(0,G.Z)(this,e),this.maxListeners=10,this.warnOnce=!1,this.events={}}return(0,X.Z)(e,[{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.events[e];r||(r={highPriority:new Map,regular:new Map},this.events[e]=r),n.isFirst?r.highPriority.set(t,!0):r.regular.set(t,!0)}},{key:"removeListener",value:function(e,t){this.events[e]&&(this.events[e].regular.delete(t),this.events[e].highPriority.delete(t))}},{key:"removeAllListeners",value:function(){this.events={}}},{key:"emit",value:function(e){var t=this.events[e];if(t){for(var n=Array.from(t.highPriority.keys()),r=Array.from(t.regular.keys()),i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];for(var s=n.length-1;s>=0;s-=1){var u=n[s];t.highPriority.has(u)&&u.apply(this,a)}for(var l=0;l<r.length;l+=1){var c=r[l];t.regular.has(c)&&c.apply(this,a)}}}},{key:"once",value:function(e,t){var n=this;this.on(e,(function r(){n.removeListener(e,r);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];t.apply(n,a)}))}}]),e}(),Dm=function(e){return void 0!==e.isPropagationStopped},Tm=0;var Im=n(71002);function Am(e){var t=function(e,t){if("object"!==(0,Im.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==(0,Im.Z)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,Im.Z)(t)?t:String(t)}var Mm="none",Em={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree"},Nm=["stateId"],Rm=function(t,n){var r=function(t,n){var r=e.useRef();r.current||(r.current={unstable_eventManager:new km,unstable_caches:{},state:{},instanceId:Tm},Tm+=1),e.useImperativeHandle(t,(function(){return r.current}),[r]);var i=e.useCallback((function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var a=t[0],o=t[1],s=t[2],u=void 0===s?{}:s;if(u.defaultMuiPrevented=!1,!Dm(u)||!u.isPropagationStopped()){var l=n.signature===gm.DataGridPro?{api:r.current}:{};r.current.unstable_eventManager.emit(a,o,u,l)}}),[r,n.signature]),a=e.useCallback((function(e,t,n){r.current.unstable_eventManager.on(e,t,n);var i=r.current;return function(){i.unstable_eventManager.removeListener(e,t)}}),[r]),o=e.useCallback((function(e){r.current.publishEvent("componentError",e)}),[r]);return mm(r,{subscribeEvent:a,publishEvent:i,showError:o}),e.useEffect((function(){var e=r.current;return function(){e.publishEvent("unmount")}}),[r]),r}(t,n);return function(t,n){t.current.getLogger=e.useCallback((function(e){return cm?pm(e,"debug",n.logger):n.logLevel?pm(e,n.logLevel.toString(),n.logger):fm}),[n.logLevel,n.logger])}(r,n),function(t,n){var r=e.useCallback((function(e){t.current.setState((function(t){return(0,i.Z)({},t,{error:e})}))}),[t]);e.useEffect((function(){r(n.error)}),[r,n.error]),_m(t,"componentError",r)}(r,n),function(t,n){var r=e.useRef({}),a=e.useState(),o=(0,g.Z)(a,2)[1],s=e.useCallback((function(e){var t=e.stateId,n=(0,S.Z)(e,Nm);r.current[t]=(0,i.Z)({},n,{stateId:t})}),[]),u=e.useCallback((function(e){var i;if(i=am(e)?e(t.current.state):e,t.current.state===i)return!1;var a=!1,o=[];if(Object.keys(r.current).forEach((function(e){var n=r.current[e],s=n.stateSelector(t.current.state,t.current.instanceId),u=n.stateSelector(i,t.current.instanceId);u!==s&&(o.push({stateId:n.stateId,hasPropChanged:u!==n.propModel}),void 0!==n.propModel&&u!==n.propModel&&(a=!0))})),o.length>1)throw new Error("You're not allowed to update several sub-state in one transaction. You already updated ".concat(o[0].stateId,", therefore, you're not allowed to update ").concat(o.map((function(e){return e.stateId})).join(", ")," in the same transaction."));if(a||(t.current.state=i,t.current.publishEvent&&t.current.publishEvent("stateChange",i)),1===o.length){var s=o[0],u=s.stateId,l=s.hasPropChanged,c=r.current[u],d=c.stateSelector(i,t.current.instanceId);if(c.propOnChange&&l){var f=n.signature===gm.DataGridPro?{api:t.current}:{};c.propOnChange(d,f)}a||t.current.publishEvent(c.changeEvent,d)}return!a}),[t,n.signature]),l=e.useCallback((function(){return o((function(){return t.current.state}))}),[t]);mm(t,{setState:u,forceUpdate:l,unstable_updateControlState:s})}(r,n),function(t){var n=e.useRef({}),r=e.useCallback((function(e){e&&Object.values(e.appliers).forEach((function(e){e()}))}),[]),i=e.useCallback((function(e,t,i){n.current[e]||(n.current[e]={processors:new Map,appliers:{}});var a=n.current[e];return a.processors.get(t)!==i&&(a.processors.set(t,i),r(a)),function(){n.current[e].processors.set(t,null)}}),[r]),a=e.useCallback((function(e,t,r){return n.current[e]||(n.current[e]={processors:new Map,appliers:{}}),n.current[e].appliers[t]=r,function(){var r=n.current[e].appliers,i=(0,S.Z)(r,[t].map(Am));n.current[e].appliers=i}}),[]),o=e.useCallback((function(e){var t=n.current[e];r(t)}),[r]),s=e.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];return n.current[i]?Array.from(n.current[i].processors.values()).reduce((function(e,t){return t?t(e,o):e}),a):a}),[]);mm(t,{unstable_registerPipeProcessor:i,unstable_registerPipeApplier:a,unstable_requestPipeProcessorsApplication:o,unstable_applyPipeProcessors:s})}(r),function(t){var n=e.useRef(new Map),r=e.useRef({}),i=e.useCallback((function(e,n,i){var a=function(){var t=r.current[n],i=(0,S.Z)(t,[e].map(Am));r.current[n]=i};r.current[n]||(r.current[n]={});var o=r.current[n],s=o[e];return o[e]=i,s&&s!==i?(e===t.current.unstable_getActiveStrategy(Em[n])&&t.current.publishEvent("activeStrategyProcessorChange",n),a):a}),[t]),a=e.useCallback((function(e,n){var i=t.current.unstable_getActiveStrategy(Em[e]);if(null==i)throw new Error("Can't apply a strategy processor before defining an active strategy");var a=r.current[e];if(!a||!a[i])throw new Error('No processor found for processor "'.concat(e,'" on strategy "').concat(i,'"'));return(0,a[i])(n)}),[t]),o=e.useCallback((function(e){var t,r=Array.from(n.current.entries()).find((function(t){var n=(0,g.Z)(t,2)[1];return n.group===e&&n.isAvailable()}));return null!=(t=null==r?void 0:r[0])?t:Mm}),[]),s=e.useCallback((function(e,r,i){n.current.set(r,{group:e,isAvailable:i}),t.current.publishEvent("strategyAvailabilityChange")}),[t]);mm(t,{unstable_registerStrategyProcessor:i,unstable_applyStrategyProcessor:a,unstable_getActiveStrategy:o,unstable_setStrategyAvailability:s})}(r),function(t,n){var r=e.useCallback((function(e){if(null==n.localeText[e])throw new Error("Missing translation for key ".concat(e,"."));return n.localeText[e]}),[n.localeText]);mm(t,{getLocaleText:r})}(r,n),r},Pm=function(t,n,r){var i=e.useRef(!1);i.current||(n.current.state=t(n.current.state,r,n),i.current=!0)};function Om(e){var t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);var n=document.createRange();n.selectNode(t);var r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}var Lm=function(t){var n=e.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(0!==t.current.getSelectedRows().size){var n=t.current.getDataAsCsv({includeHeaders:e,delimiter:"\t"});navigator.clipboard?navigator.clipboard.writeText(n).catch((function(){Om(n)})):Om(n)}}),[t]),r=e.useCallback((function(e){var n,r=e.ctrlKey||e.metaKey||e.altKey;"C"===String.fromCharCode(e.keyCode)&&r&&""===(null==(n=window.getSelection())?void 0:n.toString())&&t.current.unstable_copySelectedRowsToClipboard(e.altKey)}),[t]);!function(t,n,r,i,a){var o=kp(t,"useNativeEventListener"),s=e.useState(!1),u=(0,g.Z)(s,2),l=u[0],c=u[1],d=e.useRef(i),f=e.useCallback((function(e){return d.current&&d.current(e)}),[]);e.useEffect((function(){d.current=i}),[i]),e.useEffect((function(){var e;if((e=am(n)?n():n&&n.current?n.current:null)&&f&&r&&!l){o.debug("Binding native ".concat(r," event")),e.addEventListener(r,f,a);var i=e;c(!0),t.current.subscribeEvent("unmount",(function(){o.debug("Clearing native ".concat(r," event")),i.removeEventListener(r,f,a)}))}}),[n,f,r,l,o,a,t])}(t,t.current.rootElementRef,"keydown",r),mm(t,{unstable_copySelectedRowsToClipboard:n})},Fm=function(e){return e.columnMenu},Zm=function(e){return(0,i.Z)({},e,{columnMenu:{open:!1}})},Bm=function(t){var n=e.useRef(!0);n.current&&(n.current=!1,t())},zm=function(t,n,r){var i=e.useRef(),a=e.useRef("mui-".concat(Math.round(1e9*Math.random()))),o=e.useCallback((function(){i.current=t.current.unstable_registerPipeProcessor(n,a.current,r)}),[t,r,n]);Bm((function(){o()}));var s=e.useRef(!0);e.useEffect((function(){return s.current?s.current=!1:o(),function(){i.current&&(i.current(),i.current=null)}}),[o])},Vm=function(t,n,r){var i=e.useRef(),a=e.useRef("mui-".concat(Math.round(1e9*Math.random()))),o=e.useCallback((function(){i.current=t.current.unstable_registerPipeApplier(n,a.current,r)}),[t,r,n]);Bm((function(){o()}));var s=e.useRef(!0);e.useEffect((function(){return s.current?s.current=!1:o(),function(){i.current&&(i.current(),i.current=null)}}),[o])},jm=n(15861),Wm=n(87757),Um=n.n(Wm),Hm=(0,tu.Z)((0,u.jsx)("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),Gm=(0,tu.Z)((0,u.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),Xm=(0,tu.Z)((0,u.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),qm=(0,tu.Z)((0,u.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),Ym=(0,tu.Z)((0,u.jsx)("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),Km=(0,tu.Z)((0,u.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),Qm=(0,tu.Z)((0,u.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search"),Jm=((0,tu.Z)((0,u.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),(0,tu.Z)((0,u.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle"),(0,tu.Z)((0,u.jsx)("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon")),$m=(0,tu.Z)((0,u.jsx)("path",{d:"M11 19V5h2v14z"}),"Separator"),eg=(0,tu.Z)((0,u.jsx)("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),tg=(0,tu.Z)((0,u.jsx)("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),ng=(0,tu.Z)((0,u.jsx)("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),rg=(0,tu.Z)((0,u.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),ig=(0,tu.Z)((0,u.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ag=(0,tu.Z)((0,u.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),og=(0,tu.Z)((0,u.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),sg=(0,tu.Z)((0,u.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),ug=(0,tu.Z)((0,u.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),lg=(0,tu.Z)((0,u.jsx)("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),cg=(0,tu.Z)((0,u.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),dg=(0,tu.Z)((0,u.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");function fg(e){return"object"===typeof e&&null!==e?e.value:e}function hg(e,t){if(void 0!==t){var n=t.find((function(t){var n=fg(t);return String(n)===String(e)}));return fg(n)}}var pg=["item","applyValue","type","apiRef","focusElementRef"];var mg=function(e,t,n){var r=e.valueOptions,i=e.valueFormatter,a=e.field;return[""].concat("function"===typeof r?(0,T.Z)(r({field:a})):(0,T.Z)(r||[])).map((function(e){var r="object"===typeof e,o=r?e.value:e,s=r?e.value:e,l=i&&""!==e?i({value:e,field:a,api:t}):e,c=r?e.label:l;return(0,u.jsx)(n,{value:s,children:c},o)}))};function gg(t){var n,r,a,o,s,l=t.item,c=t.applyValue,d=t.type,f=t.apiRef,h=t.focusElementRef,p=(0,S.Z)(t,pg);var m=e.useRef(),v=e.useState(null!=(n=l.value)?n:""),y=(0,g.Z)(v,2),x=y[0],b=y[1],w=e.useState(!1),_=(0,g.Z)(w,2),C=_[0],k=_[1],D=(0,Hc.Z)(),T=sp(),I=null==(a=((null==(r=T.componentsProps)?void 0:r.baseSelect)||{}).native)||a,A="singleSelect"===d?{select:!0,SelectProps:(0,i.Z)({native:I},null==(o=T.componentsProps)?void 0:o.baseSelect),children:mg(f.current.getColumn(l.columnField),f.current,I?"option":il)}:{},M=e.useCallback((function(e){var t=e.target.value;if("singleSelect"===d){var n=f.current.getColumn(l.columnField),r="function"===typeof n.valueOptions?n.valueOptions({field:n.field}):n.valueOptions;t=hg(t,r)}clearTimeout(m.current),b(String(t)),k(!0),m.current=setTimeout((function(){c((0,i.Z)({},l,{value:t})),k(!1)}),500)}),[f,c,l,d]);e.useEffect((function(){return function(){clearTimeout(m.current)}}),[]),e.useEffect((function(){var e,t=null!=(e=l.value)?e:"";b(String(t))}),[l.value]);var E=C?{endAdornment:(0,u.jsx)(sg,{})}:p.InputProps;return(0,u.jsx)(T.components.BaseTextField,(0,i.Z)({id:D,label:f.current.getLocaleText("filterPanelInputLabel"),placeholder:f.current.getLocaleText("filterPanelInputPlaceholder"),value:x,onChange:M,type:d||"text",variant:"standard",InputProps:E,InputLabelProps:{shrink:!0},inputRef:h},A,p,null==(s=T.componentsProps)?void 0:s.baseTextField))}var vg=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue","isValidating","debounceMs","isProcessingProps","onValueChange"],yg=(0,b.ZP)(yu,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:function(e,t){return t.editInputCell}})((function(e){var t=e.theme;return(0,i.Z)({},t.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})}));function xg(t){var n,r=sp(),a=t.id,o=t.value,s=t.api,l=t.field,c=t.colDef,d=t.hasFocus,f=t.debounceMs,h=void 0===f?null!=(n=r.experimentalFeatures)&&n.newEditingApi?200:500:f,p=t.isProcessingProps,m=t.onValueChange,v=(0,S.Z)(t,vg),y=e.useRef(),x=e.useState(o),b=(0,g.Z)(x,2),w=b[0],_=b[1],C=function(e){var t=e.classes;return(0,L.Z)({root:["editInputCell"]},Rh,t)}({classes:r.classes}),k=e.useCallback(function(){var e=(0,jm.Z)(Um().mark((function e(t){var n;return Um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.value,!m){e.next=4;break}return e.next=4,m(t,n);case 4:_(n),s.setEditCellValue({id:a,field:l,value:n,debounceMs:h},t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s,h,l,a,m]);return e.useEffect((function(){_(o)}),[o]),(0,Bn.Z)((function(){d&&y.current.focus()}),[d]),(0,u.jsx)(yg,(0,i.Z)({inputRef:y,className:C.root,fullWidth:!0,type:"number"===c.type?c.type:"text",value:null!=w?w:"",onChange:k,endAdornment:p?(0,u.jsx)(sg,{}):void 0},v))}var bg=jh(["MUI: The `sortModel` can only contain a single item when the `disableMultipleColumnsSorting` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),wg=function(e,t){return t&&e.length>1?(bg(),[e[0]]):e},_g=function(e,t){return function(n){return(0,i.Z)({},n,{sorting:(0,i.Z)({},n.sorting,{sortModel:wg(e,t)})})}},Sg=function(e,t){var n=e.indexOf(t);return t&&-1!==n&&n+1!==e.length?e[n+1]:e[0]},Cg=function(e,t){return null==e&&null!=t?-1:null==t&&null!=e?1:null==e&&null==t?0:null},kg=new Intl.Collator,Dg=function(e,t){var n=Cg(e,t);return null!==n?n:Number(e)-Number(t)},Tg=function(e,t){var n=Cg(e,t);return null!==n?n:e>t?1:e<t?-1:0},Ig=n(96248),Ag=n(58959);function Mg(e){return"undefined"!==typeof e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function Eg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ignoreAccents,n=void 0===t||t,r=e.ignoreCase,i=void 0===r||r,a=e.limit,o=e.matchFrom,s=void 0===o?"any":o,u=e.stringify,l=e.trim,c=void 0!==l&&l;return function(e,t){var r=t.inputValue,o=t.getOptionLabel,l=c?r.trim():r;i&&(l=l.toLowerCase()),n&&(l=Mg(l));var d=e.filter((function(e){var t=(u||o)(e);return i&&(t=t.toLowerCase()),n&&(t=Mg(t)),"start"===s?0===t.indexOf(l):t.indexOf(l)>-1}));return"number"===typeof a?d.slice(0,a):d}}function Ng(e,t){for(var n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}var Rg=Eg();function Pg(t){var n,r=t.autoComplete,a=void 0!==r&&r,o=t.autoHighlight,s=void 0!==o&&o,u=t.autoSelect,l=void 0!==u&&u,c=t.blurOnSelect,d=void 0!==c&&c,f=t.disabled,h=t.clearOnBlur,p=void 0===h?!t.freeSolo:h,m=t.clearOnEscape,v=void 0!==m&&m,y=t.componentName,x=void 0===y?"useAutocomplete":y,b=t.defaultValue,w=void 0===b?t.multiple?[]:null:b,_=t.disableClearable,S=void 0!==_&&_,C=t.disableCloseOnSelect,k=void 0!==C&&C,D=t.disabledItemsFocusable,T=void 0!==D&&D,I=t.disableListWrap,A=void 0!==I&&I,M=t.filterOptions,E=void 0===M?Rg:M,N=t.filterSelectedOptions,R=void 0!==N&&N,P=t.freeSolo,O=void 0!==P&&P,L=t.getOptionDisabled,F=t.getOptionLabel,Z=void 0===F?function(e){var t;return null!=(t=e.label)?t:e}:F,B=t.isOptionEqualToValue,V=void 0===B?function(e,t){return e===t}:B,j=t.groupBy,W=t.handleHomeEndKeys,H=void 0===W?!t.freeSolo:W,G=t.id,X=t.includeInputInList,q=void 0!==X&&X,Y=t.inputValue,K=t.multiple,Q=void 0!==K&&K,J=t.onChange,$=t.onClose,ee=t.onHighlightChange,te=t.onInputChange,ne=t.onOpen,re=t.open,ie=t.openOnFocus,ae=void 0!==ie&&ie,oe=t.options,se=t.readOnly,ue=void 0!==se&&se,le=t.selectOnFocus,ce=void 0===le?!t.freeSolo:le,de=t.value,fe=(0,Ig.Z)(G);n=function(e){var t=Z(e);return"string"!==typeof t?String(t):t};var he=e.useRef(!1),pe=e.useRef(!0),me=e.useRef(null),ge=e.useRef(null),ve=e.useState(null),ye=(0,g.Z)(ve,2),xe=ye[0],be=ye[1],we=e.useState(-1),_e=(0,g.Z)(we,2),Se=_e[0],Ce=_e[1],ke=s?0:-1,De=e.useRef(ke),Te=(0,Ag.Z)({controlled:de,default:w,name:x}),Ie=(0,g.Z)(Te,2),Ae=Ie[0],Me=Ie[1],Ee=(0,Ag.Z)({controlled:Y,default:"",name:x,state:"inputValue"}),Ne=(0,g.Z)(Ee,2),Re=Ne[0],Pe=Ne[1],Oe=e.useState(!1),Le=(0,g.Z)(Oe,2),Fe=Le[0],Ze=Le[1],Be=e.useCallback((function(e,t){if((Q?Ae.length<t.length:null!==t)||p){var r;if(Q)r="";else if(null==t)r="";else{var i=n(t);r="string"===typeof i?i:""}Re!==r&&(Pe(r),te&&te(e,r,"reset"))}}),[n,Re,Q,te,Pe,p,Ae]),ze=e.useRef();e.useEffect((function(){var e=Ae!==ze.current;ze.current=Ae,Fe&&!e||O&&!e||Be(null,Ae)}),[Ae,Be,Fe,ze,O]);var Ve=(0,Ag.Z)({controlled:re,default:!1,name:x,state:"open"}),je=(0,g.Z)(Ve,2),We=je[0],Ue=je[1],He=e.useState(!0),Ge=(0,g.Z)(He,2),Xe=Ge[0],qe=Ge[1],Ye=!Q&&null!=Ae&&Re===n(Ae),Ke=We&&!ue,Qe=Ke?E(oe.filter((function(e){return!R||!(Q?Ae:[Ae]).some((function(t){return null!==t&&V(e,t)}))})),{inputValue:Ye&&Xe?"":Re,getOptionLabel:n}):[],Je=We&&Qe.length>0&&!ue,$e=(0,z.Z)((function(e){-1===e?me.current.focus():xe.querySelector('[data-tag-index="'.concat(e,'"]')).focus()}));e.useEffect((function(){Q&&Se>Ae.length-1&&(Ce(-1),$e(-1))}),[Ae,Q,Se,$e]);var et=(0,z.Z)((function(e){var t=e.event,n=e.index,r=e.reason,i=void 0===r?"auto":r;if(De.current=n,-1===n?me.current.removeAttribute("aria-activedescendant"):me.current.setAttribute("aria-activedescendant","".concat(fe,"-option-").concat(n)),ee&&ee(t,-1===n?null:Qe[n],i),ge.current){var a=ge.current.querySelector('[role="option"].Mui-focused');a&&(a.classList.remove("Mui-focused"),a.classList.remove("Mui-focusVisible"));var o=ge.current.parentElement.querySelector('[role="listbox"]');if(o)if(-1!==n){var s=ge.current.querySelector('[data-option-index="'.concat(n,'"]'));if(s&&(s.classList.add("Mui-focused"),"keyboard"===i&&s.classList.add("Mui-focusVisible"),o.scrollHeight>o.clientHeight&&"mouse"!==i)){var u=s,l=o.clientHeight+o.scrollTop,c=u.offsetTop+u.offsetHeight;c>l?o.scrollTop=c-o.clientHeight:u.offsetTop-u.offsetHeight*(j?1.3:0)<o.scrollTop&&(o.scrollTop=u.offsetTop-u.offsetHeight*(j?1.3:0))}}else o.scrollTop=0}})),tt=(0,z.Z)((function(e){var t=e.event,r=e.diff,i=e.direction,o=void 0===i?"next":i,s=e.reason,u=void 0===s?"auto":s;if(Ke){var l=function(e,t){if(!ge.current||-1===e)return-1;for(var n=e;;){if("next"===t&&n===Qe.length||"previous"===t&&-1===n)return-1;var r=ge.current.querySelector('[data-option-index="'.concat(n,'"]')),i=!T&&(!r||r.disabled||"true"===r.getAttribute("aria-disabled"));if(!(r&&!r.hasAttribute("tabindex")||i))return n;n+="next"===t?1:-1}}(function(){var e=Qe.length-1;if("reset"===r)return ke;if("start"===r)return 0;if("end"===r)return e;var t=De.current+r;return t<0?-1===t&&q?-1:A&&-1!==De.current||Math.abs(r)>1?0:e:t>e?t===e+1&&q?-1:A||Math.abs(r)>1?e:0:t}(),o);if(et({index:l,reason:u,event:t}),a&&"reset"!==r)if(-1===l)me.current.value=Re;else{var c=n(Qe[l]);me.current.value=c,0===c.toLowerCase().indexOf(Re.toLowerCase())&&Re.length>0&&me.current.setSelectionRange(Re.length,c.length)}}})),nt=e.useCallback((function(){if(Ke){var e=Q?Ae[0]:Ae;if(0!==Qe.length&&null!=e){if(ge.current)if(null==e)De.current>=Qe.length-1?et({index:Qe.length-1}):et({index:De.current});else{var t=Qe[De.current];if(Q&&t&&-1!==Ng(Ae,(function(e){return V(t,e)})))return;var n=Ng(Qe,(function(t){return V(t,e)}));-1===n?tt({diff:"reset"}):et({index:n})}}else tt({diff:"reset"})}}),[Qe.length,!Q&&Ae,R,tt,et,Ke,Re,Q]),rt=(0,z.Z)((function(e){(0,U.Z)(ge,e),e&&nt()}));e.useEffect((function(){nt()}),[nt]);var it=function(e){We||(Ue(!0),qe(!0),ne&&ne(e))},at=function(e,t){We&&(Ue(!1),$&&$(e,t))},ot=function(e,t,n,r){if(Q){if(Ae.length===t.length&&Ae.every((function(e,n){return e===t[n]})))return}else if(Ae===t)return;J&&J(e,t,n,r),Me(t)},st=e.useRef(!1),ut=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"selectOption",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",i=n,a=t;if(Q){var o=Ng(a=Array.isArray(Ae)?Ae.slice():[],(function(e){return V(t,e)}));-1===o?a.push(t):"freeSolo"!==r&&(a.splice(o,1),i="removeOption")}Be(e,a),ot(e,a,i,{option:t}),k||e.ctrlKey||e.metaKey||at(e,i),(!0===d||"touch"===d&&st.current||"mouse"===d&&!st.current)&&me.current.blur()};var lt=function(e,t){if(Q){""===Re&&at(e,"toggleInput");var n=Se;-1===Se?""===Re&&"previous"===t&&(n=Ae.length-1):((n+="next"===t?1:-1)<0&&(n=0),n===Ae.length&&(n=-1)),n=function(e,t){if(-1===e)return-1;for(var n=e;;){if("next"===t&&n===Ae.length||"previous"===t&&-1===n)return-1;var r=xe.querySelector('[data-tag-index="'.concat(n,'"]'));if(r&&r.hasAttribute("tabindex")&&!r.disabled&&"true"!==r.getAttribute("aria-disabled"))return n;n+="next"===t?1:-1}}(n,t),Ce(n),$e(n)}},ct=function(e){he.current=!0,Pe(""),te&&te(e,"","clear"),ot(e,Q?[]:null,"clear")},dt=function(e){return function(t){if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1!==Se&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(Ce(-1),$e(-1)),229!==t.which))switch(t.key){case"Home":Ke&&H&&(t.preventDefault(),tt({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":Ke&&H&&(t.preventDefault(),tt({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),tt({diff:-5,direction:"previous",reason:"keyboard",event:t}),it(t);break;case"PageDown":t.preventDefault(),tt({diff:5,direction:"next",reason:"keyboard",event:t}),it(t);break;case"ArrowDown":t.preventDefault(),tt({diff:1,direction:"next",reason:"keyboard",event:t}),it(t);break;case"ArrowUp":t.preventDefault(),tt({diff:-1,direction:"previous",reason:"keyboard",event:t}),it(t);break;case"ArrowLeft":lt(t,"previous");break;case"ArrowRight":lt(t,"next");break;case"Enter":if(-1!==De.current&&Ke){var n=Qe[De.current],r=!!L&&L(n);if(t.preventDefault(),r)return;ut(t,n,"selectOption"),a&&me.current.setSelectionRange(me.current.value.length,me.current.value.length)}else O&&""!==Re&&!1===Ye&&(Q&&t.preventDefault(),ut(t,Re,"createOption","freeSolo"));break;case"Escape":Ke?(t.preventDefault(),t.stopPropagation(),at(t,"escape")):v&&(""!==Re||Q&&Ae.length>0)&&(t.preventDefault(),t.stopPropagation(),ct(t));break;case"Backspace":if(Q&&!ue&&""===Re&&Ae.length>0){var i=-1===Se?Ae.length-1:Se,o=Ae.slice();o.splice(i,1),ot(t,o,"removeOption",{option:Ae[i]})}}}},ft=function(e){Ze(!0),ae&&!he.current&&it(e)},ht=function(e){null!==ge.current&&ge.current.parentElement.contains(document.activeElement)?me.current.focus():(Ze(!1),pe.current=!0,he.current=!1,l&&-1!==De.current&&Ke?ut(e,Qe[De.current],"blur"):l&&O&&""!==Re?ut(e,Re,"blur","freeSolo"):p&&Be(e,Ae),at(e,"blur"))},pt=function(e){var t=e.target.value;Re!==t&&(Pe(t),qe(!1),te&&te(e,t,"input")),""===t?S||Q||ot(e,null,"clear"):it(e)},mt=function(e){et({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"mouse"})},gt=function(){st.current=!0},vt=function(e){var t=Number(e.currentTarget.getAttribute("data-option-index"));ut(e,Qe[t],"selectOption"),st.current=!1},yt=function(e){return function(t){var n=Ae.slice();n.splice(e,1),ot(t,n,"removeOption",{option:Ae[e]})}},xt=function(e){We?at(e,"toggleInput"):it(e)},bt=function(e){e.target.getAttribute("id")!==fe&&e.preventDefault()},wt=function(){me.current.focus(),ce&&pe.current&&me.current.selectionEnd-me.current.selectionStart===0&&me.current.select(),pe.current=!1},_t=function(e){""!==Re&&We||xt(e)},St=O&&Re.length>0;St=St||(Q?Ae.length>0:null!==Ae);var Ct=Qe;if(j){new Map;Ct=Qe.reduce((function(e,t,n){var r=j(t);return e.length>0&&e[e.length-1].group===r?e[e.length-1].options.push(t):e.push({key:n,index:n,group:r,options:[t]}),e}),[])}return f&&Fe&&ht(),{getRootProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.Z)({"aria-owns":Je?"".concat(fe,"-listbox"):null},e,{onKeyDown:dt(e),onMouseDown:bt,onClick:wt})},getInputLabelProps:function(){return{id:"".concat(fe,"-label"),htmlFor:fe}},getInputProps:function(){return{id:fe,value:Re,onBlur:ht,onFocus:ft,onChange:pt,onMouseDown:_t,"aria-activedescendant":Ke?"":null,"aria-autocomplete":a?"both":"list","aria-controls":Je?"".concat(fe,"-listbox"):void 0,"aria-expanded":Je,autoComplete:"off",ref:me,autoCapitalize:"none",spellCheck:"false",role:"combobox"}},getClearProps:function(){return{tabIndex:-1,onClick:ct}},getPopupIndicatorProps:function(){return{tabIndex:-1,onClick:xt}},getTagProps:function(e){var t=e.index;return(0,i.Z)({key:t,"data-tag-index":t,tabIndex:-1},!ue&&{onDelete:yt(t)})},getListboxProps:function(){return{role:"listbox",id:"".concat(fe,"-listbox"),"aria-labelledby":"".concat(fe,"-label"),ref:rt,onMouseDown:function(e){e.preventDefault()}}},getOptionProps:function(e){var t=e.index,r=e.option,i=(Q?Ae:[Ae]).some((function(e){return null!=e&&V(r,e)})),a=!!L&&L(r);return{key:n(r),tabIndex:-1,role:"option",id:"".concat(fe,"-option-").concat(t),onMouseOver:mt,onClick:vt,onTouchStart:gt,"data-option-index":t,"aria-disabled":a,"aria-selected":i}},id:fe,inputValue:Re,value:Ae,dirty:St,popupOpen:Ke,focused:Fe||-1!==Se,anchorEl:xe,setAnchorEl:be,focusedTag:Se,groupedOptions:Ct}}function Og(e){return(0,se.Z)("MuiListSubheader",e)}(0,oe.Z)("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);var Lg=["className","color","component","disableGutters","disableSticky","inset"],Fg=(0,b.ZP)("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat((0,Je.Z)(n.color))],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},"primary"===n.color&&{color:(t.vars||t).palette.primary.main},"inherit"===n.color&&{color:"inherit"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.inset&&{paddingLeft:72},!n.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper})})),Zg=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiListSubheader"}),r=n.className,a=n.color,o=void 0===a?"default":a,s=n.component,l=void 0===s?"li":s,c=n.disableGutters,d=void 0!==c&&c,f=n.disableSticky,h=void 0!==f&&f,p=n.inset,m=void 0!==p&&p,g=(0,S.Z)(n,Lg),v=(0,i.Z)({},n,{color:o,component:l,disableGutters:d,disableSticky:h,inset:m}),y=function(e){var t=e.classes,n=e.color,r=e.disableGutters,i=e.inset,a=e.disableSticky,o={root:["root","default"!==n&&"color".concat((0,Je.Z)(n)),!r&&"gutters",i&&"inset",!a&&"sticky"]};return(0,L.Z)(o,Og,t)}(v);return(0,u.jsx)(Fg,(0,i.Z)({as:l,className:(0,C.Z)(y.root,r),ref:t,ownerState:v},g))})),Bg=Zg;function zg(e){return(0,se.Z)("MuiAutocomplete",e)}var Vg,jg,Wg=(0,oe.Z)("MuiAutocomplete",["root","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),Ug=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","value"],Hg=(0,b.ZP)("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.fullWidth,i=n.hasClearIcon,a=n.hasPopupIcon,o=n.inputFocused,s=n.size;return[(0,v.Z)({},"& .".concat(Wg.tag),t.tag),(0,v.Z)({},"& .".concat(Wg.tag),t["tagSize".concat((0,Je.Z)(s))]),(0,v.Z)({},"& .".concat(Wg.inputRoot),t.inputRoot),(0,v.Z)({},"& .".concat(Wg.input),t.input),(0,v.Z)({},"& .".concat(Wg.input),o&&t.inputFocused),t.root,r&&t.fullWidth,a&&t.hasPopupIcon,i&&t.hasClearIcon]}})((function(e){var t,n,r,a,o,s=e.ownerState;return(0,i.Z)((t={},(0,v.Z)(t,"&.".concat(Wg.focused," .").concat(Wg.clearIndicator),{visibility:"visible"}),(0,v.Z)(t,"@media (pointer: fine)",(0,v.Z)({},"&:hover .".concat(Wg.clearIndicator),{visibility:"visible"})),t),s.fullWidth&&{width:"100%"},(o={},(0,v.Z)(o,"& .".concat(Wg.tag),(0,i.Z)({margin:3,maxWidth:"calc(100% - 6px)"},"small"===s.size&&{margin:2,maxWidth:"calc(100% - 4px)"})),(0,v.Z)(o,"& .".concat(Wg.inputRoot),(n={flexWrap:"wrap"},(0,v.Z)(n,".".concat(Wg.hasPopupIcon,"&, .").concat(Wg.hasClearIcon,"&"),{paddingRight:30}),(0,v.Z)(n,".".concat(Wg.hasPopupIcon,".").concat(Wg.hasClearIcon,"&"),{paddingRight:56}),(0,v.Z)(n,"& .".concat(Wg.input),{width:0,minWidth:30}),n)),(0,v.Z)(o,"& .".concat(bu.root),{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}}),(0,v.Z)(o,"& .".concat(bu.root,".").concat(cu.sizeSmall),(0,v.Z)({},"& .".concat(bu.input),{padding:"2px 4px 3px 0"})),(0,v.Z)(o,"& .".concat(Zu.root),(r={padding:9},(0,v.Z)(r,".".concat(Wg.hasPopupIcon,"&, .").concat(Wg.hasClearIcon,"&"),{paddingRight:39}),(0,v.Z)(r,".".concat(Wg.hasPopupIcon,".").concat(Wg.hasClearIcon,"&"),{paddingRight:65}),(0,v.Z)(r,"& .".concat(Wg.input),{padding:"7.5px 4px 7.5px 6px"}),(0,v.Z)(r,"& .".concat(Wg.endAdornment),{right:9}),r)),(0,v.Z)(o,"& .".concat(Zu.root,".").concat(cu.sizeSmall),(0,v.Z)({padding:6},"& .".concat(Wg.input),{padding:"2.5px 4px 2.5px 6px"})),(0,v.Z)(o,"& .".concat(Tu.root),(a={paddingTop:19,paddingLeft:8},(0,v.Z)(a,".".concat(Wg.hasPopupIcon,"&, .").concat(Wg.hasClearIcon,"&"),{paddingRight:39}),(0,v.Z)(a,".".concat(Wg.hasPopupIcon,".").concat(Wg.hasClearIcon,"&"),{paddingRight:65}),(0,v.Z)(a,"& .".concat(Tu.input),{padding:"7px 4px"}),(0,v.Z)(a,"& .".concat(Wg.endAdornment),{right:9}),a)),(0,v.Z)(o,"& .".concat(Tu.root,".").concat(cu.sizeSmall),(0,v.Z)({paddingBottom:1},"& .".concat(Tu.input),{padding:"2.5px 4px"})),(0,v.Z)(o,"& .".concat(cu.hiddenLabel),{paddingTop:8}),(0,v.Z)(o,"& .".concat(Wg.input),(0,i.Z)({flexGrow:1,textOverflow:"ellipsis",opacity:0},s.inputFocused&&{opacity:1})),o))})),Gg=(0,b.ZP)("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:function(e,t){return t.endAdornment}})({position:"absolute",right:0,top:"calc(50% - 14px)"}),Xg=(0,b.ZP)(Pn,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:function(e,t){return t.clearIndicator}})({marginRight:-2,padding:4,visibility:"hidden"}),qg=(0,b.ZP)(Pn,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:function(e,t){var n=e.ownerState;return(0,i.Z)({},t.popupIndicator,n.popupOpen&&t.popupIndicatorOpen)}})((function(e){var t=e.ownerState;return(0,i.Z)({padding:2,marginRight:-2},t.popupOpen&&{transform:"rotate(180deg)"})})),Yg=(0,b.ZP)(Uc,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:function(e,t){var n=e.ownerState;return[(0,v.Z)({},"& .".concat(Wg.option),t.option),t.popper,n.disablePortal&&t.popperDisablePortal]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({zIndex:(t.vars||t).zIndex.modal},n.disablePortal&&{position:"absolute"})})),Kg=(0,b.ZP)(Qe,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:function(e,t){return t.paper}})((function(e){var t=e.theme;return(0,i.Z)({},t.typography.body1,{overflow:"auto"})})),Qg=(0,b.ZP)("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:function(e,t){return t.loading}})((function(e){var t=e.theme;return{color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}})),Jg=(0,b.ZP)("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:function(e,t){return t.noOptions}})((function(e){var t=e.theme;return{color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}})),$g=(0,b.ZP)("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:function(e,t){return t.listbox}})((function(e){var t,n,r=e.theme;return(0,v.Z)({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto"},"& .".concat(Wg.option),(n={minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16},(0,v.Z)(n,r.breakpoints.up("sm"),{minHeight:"auto"}),(0,v.Z)(n,"&.".concat(Wg.focused),{backgroundColor:(r.vars||r).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}),(0,v.Z)(n,'&[aria-disabled="true"]',{opacity:(r.vars||r).palette.action.disabledOpacity,pointerEvents:"none"}),(0,v.Z)(n,"&.".concat(Wg.focusVisible),{backgroundColor:(r.vars||r).palette.action.focus}),(0,v.Z)(n,'&[aria-selected="true"]',(t={backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / ").concat(r.vars.palette.action.selectedOpacity,")"):(0,Ge.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity)},(0,v.Z)(t,"&.".concat(Wg.focused),{backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / calc(").concat(r.vars.palette.action.selectedOpacity," + ").concat(r.vars.palette.action.hoverOpacity,"))"):(0,Ge.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(r.vars||r).palette.action.selected}}),(0,v.Z)(t,"&.".concat(Wg.focusVisible),{backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / calc(").concat(r.vars.palette.action.selectedOpacity," + ").concat(r.vars.palette.action.focusOpacity,"))"):(0,Ge.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)}),t)),n))})),ev=(0,b.ZP)(Bg,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:function(e,t){return t.groupLabel}})((function(e){var t=e.theme;return{backgroundColor:(t.vars||t).palette.background.paper,top:-8}})),tv=(0,b.ZP)("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:function(e,t){return t.groupUl}})((0,v.Z)({padding:0},"& .".concat(Wg.option),{paddingLeft:24})),nv=e.forwardRef((function(t,n){var r,a,o,s=(0,fe.Z)({props:t,name:"MuiAutocomplete"}),l=(s.autoComplete,s.autoHighlight,s.autoSelect,s.blurOnSelect,s.ChipProps),c=s.className,d=s.clearIcon,f=void 0===d?Vg||(Vg=(0,u.jsx)(wh,{fontSize:"small"})):d,h=s.clearOnBlur,p=(void 0===h&&s.freeSolo,s.clearOnEscape,s.clearText),m=void 0===p?"Clear":p,g=s.closeText,v=void 0===g?"Close":g,y=s.componentsProps,x=void 0===y?{}:y,b=s.defaultValue,w=(void 0===b&&s.multiple,s.disableClearable),_=void 0!==w&&w,k=(s.disableCloseOnSelect,s.disabled),D=void 0!==k&&k,T=(s.disabledItemsFocusable,s.disableListWrap,s.disablePortal),I=void 0!==T&&T,A=(s.filterSelectedOptions,s.forcePopupIcon),M=void 0===A?"auto":A,E=s.freeSolo,N=void 0!==E&&E,R=s.fullWidth,P=void 0!==R&&R,O=s.getLimitTagsText,F=void 0===O?function(e){return"+".concat(e)}:O,Z=s.getOptionLabel,B=void 0===Z?function(e){var t;return null!=(t=e.label)?t:e}:Z,z=s.groupBy,V=s.handleHomeEndKeys,j=(void 0===V&&s.freeSolo,s.includeInputInList,s.limitTags),W=void 0===j?-1:j,U=s.ListboxComponent,H=void 0===U?"ul":U,G=s.ListboxProps,X=s.loading,q=void 0!==X&&X,Y=s.loadingText,K=void 0===Y?"Loading\u2026":Y,Q=s.multiple,J=void 0!==Q&&Q,$=s.noOptionsText,ee=void 0===$?"No options":$,te=(s.openOnFocus,s.openText),ne=void 0===te?"Open":te,re=s.PaperComponent,ie=void 0===re?Qe:re,ae=s.PopperComponent,oe=void 0===ae?Uc:ae,se=s.popupIcon,ue=void 0===se?jg||(jg=(0,u.jsx)(nu,{})):se,le=s.readOnly,ce=void 0!==le&&le,de=s.renderGroup,he=s.renderInput,pe=s.renderOption,me=s.renderTags,ge=s.selectOnFocus,ve=(void 0===ge&&s.freeSolo,s.size),ye=void 0===ve?"medium":ve,xe=(0,S.Z)(s,Ug),be=Pg((0,i.Z)({},s,{componentName:"Autocomplete"})),we=be.getRootProps,_e=be.getInputProps,Se=be.getInputLabelProps,Ce=be.getPopupIndicatorProps,ke=be.getClearProps,De=be.getTagProps,Te=be.getListboxProps,Ie=be.getOptionProps,Ae=be.value,Me=be.dirty,Ee=be.id,Ne=be.popupOpen,Re=be.focused,Pe=be.focusedTag,Oe=be.anchorEl,Le=be.setAnchorEl,Fe=be.inputValue,Ze=be.groupedOptions,Be=!_&&!D&&Me&&!ce,ze=(!N||!0===M)&&!1!==M,Ve=(0,i.Z)({},s,{disablePortal:I,focused:Re,fullWidth:P,hasClearIcon:Be,hasPopupIcon:ze,inputFocused:-1===Pe,popupOpen:Ne,size:ye}),je=function(e){var t=e.classes,n=e.disablePortal,r=e.focused,i=e.fullWidth,a=e.hasClearIcon,o=e.hasPopupIcon,s=e.inputFocused,u=e.popupOpen,l=e.size,c={root:["root",r&&"focused",i&&"fullWidth",a&&"hasClearIcon",o&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",s&&"inputFocused"],tag:["tag","tagSize".concat((0,Je.Z)(l))],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",u&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return(0,L.Z)(c,zg,t)}(Ve);if(J&&Ae.length>0){var We=function(e){return(0,i.Z)({className:(0,C.Z)(je.tag),disabled:D},De(e))};o=me?me(Ae,We,Ve):Ae.map((function(e,t){return(0,u.jsx)(hh,(0,i.Z)({label:B(e),size:ye},We({index:t}),l))}))}if(W>-1&&Array.isArray(o)){var Ue=o.length-W;!Re&&Ue>0&&(o=o.splice(0,W)).push((0,u.jsx)("span",{className:je.tag,children:F(Ue)},o.length))}var He=de||function(e){return(0,u.jsxs)("li",{children:[(0,u.jsx)(ev,{className:je.groupLabel,ownerState:Ve,component:"div",children:e.group}),(0,u.jsx)(tv,{className:je.groupUl,ownerState:Ve,children:e.children})]},e.key)},Ge=pe||function(e,t){return(0,u.jsx)("li",(0,i.Z)({},e,{children:B(t)}))},Xe=function(e,t){var n=Ie({option:e,index:t});return Ge((0,i.Z)({},n,{className:je.option}),e,{selected:n["aria-selected"],inputValue:Fe})};return(0,u.jsxs)(e.Fragment,{children:[(0,u.jsx)(Hg,(0,i.Z)({ref:n,className:(0,C.Z)(je.root,c),ownerState:Ve},we(xe),{children:he({id:Ee,disabled:D,fullWidth:!0,size:"small"===ye?"small":void 0,InputLabelProps:Se(),InputProps:(0,i.Z)({ref:Le,className:je.inputRoot,startAdornment:o},(Be||ze)&&{endAdornment:(0,u.jsxs)(Gg,{className:je.endAdornment,ownerState:Ve,children:[Be?(0,u.jsx)(Xg,(0,i.Z)({},ke(),{"aria-label":m,title:m,ownerState:Ve},x.clearIndicator,{className:(0,C.Z)(je.clearIndicator,null==(r=x.clearIndicator)?void 0:r.className),children:f})):null,ze?(0,u.jsx)(qg,(0,i.Z)({},Ce(),{disabled:D,"aria-label":Ne?v:ne,title:Ne?v:ne,className:(0,C.Z)(je.popupIndicator),ownerState:Ve,children:ue})):null]})}),inputProps:(0,i.Z)({className:(0,C.Z)(je.input),disabled:D,readOnly:ce},_e())})})),Ne&&Oe?(0,u.jsx)(Yg,{as:oe,className:(0,C.Z)(je.popper),disablePortal:I,style:{width:Oe?Oe.clientWidth:null},ownerState:Ve,role:"presentation",anchorEl:Oe,open:!0,children:(0,u.jsxs)(Kg,(0,i.Z)({ownerState:Ve,as:ie},x.paper,{className:(0,C.Z)(je.paper,null==(a=x.paper)?void 0:a.className),children:[q&&0===Ze.length?(0,u.jsx)(Qg,{className:je.loading,ownerState:Ve,children:K}):null,0!==Ze.length||N||q?null:(0,u.jsx)(Jg,{className:je.noOptions,ownerState:Ve,role:"presentation",onMouseDown:function(e){e.preventDefault()},children:ee}),Ze.length>0?(0,u.jsx)($g,(0,i.Z)({as:H,className:je.listbox,ownerState:Ve},Te(),G,{children:Ze.map((function(e,t){return z?He({key:e.key,group:e.group,children:e.options.map((function(t,n){return Xe(t,e.index+n)}))}):Xe(e,t)}))})):null]}))}):null]})})),rv=nv;function iv(e){return(0,se.Z)("MuiFormLabel",e)}var av=(0,oe.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),ov=["children","className","color","component","disabled","error","filled","focused","required"],sv=(0,b.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return(0,i.Z)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,i.Z)({color:(n.vars||n).palette.text.secondary},n.typography.body1,(t={lineHeight:"1.4375em",padding:0,position:"relative"},(0,v.Z)(t,"&.".concat(av.focused),{color:(n.vars||n).palette[r.color].main}),(0,v.Z)(t,"&.".concat(av.disabled),{color:(n.vars||n).palette.text.disabled}),(0,v.Z)(t,"&.".concat(av.error),{color:(n.vars||n).palette.error.main}),t))})),uv=(0,b.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return(0,v.Z)({},"&.".concat(av.error),{color:(t.vars||t).palette.error.main})})),lv=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiFormLabel"}),r=n.children,a=n.className,o=n.component,s=void 0===o?"label":o,l=(0,S.Z)(n,ov),c=Js({props:n,muiFormControl:eu(),states:["color","required","focused","disabled","error","filled"]}),d=(0,i.Z)({},n,{color:c.color||"primary",component:s,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),f=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,a=e.error,o=e.filled,s=e.required,u={root:["root","color".concat((0,Je.Z)(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",a&&"error"]};return(0,L.Z)(u,iv,t)}(d);return(0,u.jsxs)(sv,(0,i.Z)({as:s,ownerState:d,className:(0,C.Z)(f.root,a),ref:t},l,{children:[r,c.required&&(0,u.jsxs)(uv,{ownerState:d,"aria-hidden":!0,className:f.asterisk,children:["\u2009","*"]})]}))})),cv=lv;function dv(e){return(0,se.Z)("MuiInputLabel",e)}(0,oe.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var fv=["disableAnimation","margin","shrink","variant"],hv=(0,b.ZP)(cv,{shouldForwardProp:function(e){return(0,b.FO)(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,v.Z)({},"& .".concat(av.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,i.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,i.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,i.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))})),pv=e.forwardRef((function(e,t){var n=(0,fe.Z)({name:"MuiInputLabel",props:e}),r=n.disableAnimation,a=void 0!==r&&r,o=n.shrink,s=(0,S.Z)(n,fv),l=eu(),c=o;"undefined"===typeof c&&l&&(c=l.filled||l.focused||l.adornedStart);var d=Js({props:n,muiFormControl:l,states:["size","variant","required"]}),f=(0,i.Z)({},n,{disableAnimation:a,formControl:l,shrink:c,size:d.size,variant:d.variant,required:d.required}),h=function(e){var t=e.classes,n=e.formControl,r=e.size,a=e.shrink,o={root:["root",n&&"formControl",!e.disableAnimation&&"animated",a&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},s=(0,L.Z)(o,dv,t);return(0,i.Z)({},t,s)}(f);return(0,u.jsx)(hv,(0,i.Z)({"data-shrink":c,ownerState:f,ref:t},s,{classes:h}))}));function mv(e){return(0,se.Z)("MuiFormControl",e)}(0,oe.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var gv=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],vv=(0,b.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return(0,i.Z)({},t.root,t["margin".concat((0,Je.Z)(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return(0,i.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),yv=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiFormControl"}),a=r.children,o=r.className,s=r.color,l=void 0===s?"primary":s,c=r.component,d=void 0===c?"div":c,f=r.disabled,h=void 0!==f&&f,p=r.error,m=void 0!==p&&p,v=r.focused,y=r.fullWidth,x=void 0!==y&&y,b=r.hiddenLabel,w=void 0!==b&&b,_=r.margin,k=void 0===_?"none":_,D=r.required,T=void 0!==D&&D,I=r.size,A=void 0===I?"medium":I,M=r.variant,E=void 0===M?"outlined":M,N=(0,S.Z)(r,gv),R=(0,i.Z)({},r,{color:l,component:d,disabled:h,error:m,fullWidth:x,hiddenLabel:w,margin:k,required:T,size:A,variant:E}),P=function(e){var t=e.classes,n=e.margin,r=e.fullWidth,i={root:["root","none"!==n&&"margin".concat((0,Je.Z)(n)),r&&"fullWidth"]};return(0,L.Z)(i,mv,t)}(R),O=e.useState((function(){var t=!1;return a&&e.Children.forEach(a,(function(e){if((0,Zn.Z)(e,["Input","Select"])){var n=(0,Zn.Z)(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)}})),t})),F=(0,g.Z)(O,2),Z=F[0],B=F[1],z=e.useState((function(){var t=!1;return a&&e.Children.forEach(a,(function(e){(0,Zn.Z)(e,["Input","Select"])&&Bs(e.props,!0)&&(t=!0)})),t})),V=(0,g.Z)(z,2),j=V[0],W=V[1],U=e.useState(!1),H=(0,g.Z)(U,2),G=H[0],X=H[1];h&&G&&X(!1);var q=void 0===v||h?G:v,Y=e.useCallback((function(){W(!0)}),[]),K={adornedStart:Z,setAdornedStart:B,color:l,disabled:h,error:m,filled:j,focused:q,fullWidth:x,hiddenLabel:w,size:A,onBlur:function(){X(!1)},onEmpty:e.useCallback((function(){W(!1)}),[]),onFilled:Y,onFocus:function(){X(!0)},registerEffect:undefined,required:T,variant:E};return(0,u.jsx)($s.Provider,{value:K,children:(0,u.jsx)(vv,(0,i.Z)({as:d,ownerState:R,className:(0,C.Z)(P.root,o),ref:n},N,{children:a}))})})),xv=yv;function bv(e){return(0,se.Z)("MuiFormHelperText",e)}var wv,_v=(0,oe.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),Sv=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Cv=(0,b.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat((0,Je.Z)(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,i.Z)({color:(n.vars||n).palette.text.secondary},n.typography.caption,(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},(0,v.Z)(t,"&.".concat(_v.disabled),{color:(n.vars||n).palette.text.disabled}),(0,v.Z)(t,"&.".concat(_v.error),{color:(n.vars||n).palette.error.main}),t),"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),kv=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiFormHelperText"}),r=n.children,a=n.className,o=n.component,s=void 0===o?"p":o,l=(0,S.Z)(n,Sv),c=Js({props:n,muiFormControl:eu(),states:["variant","size","disabled","error","filled","focused","required"]}),d=(0,i.Z)({},n,{component:s,contained:"filled"===c.variant||"outlined"===c.variant,variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),f=function(e){var t=e.classes,n=e.contained,r=e.size,i=e.disabled,a=e.error,o=e.filled,s=e.focused,u=e.required,l={root:["root",i&&"disabled",a&&"error",r&&"size".concat((0,Je.Z)(r)),n&&"contained",s&&"focused",o&&"filled",u&&"required"]};return(0,L.Z)(l,bv,t)}(d);return(0,u.jsx)(Cv,(0,i.Z)({as:s,ownerState:d,className:(0,C.Z)(f.root,a),ref:t},l,{children:" "===r?wv||(wv=(0,u.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))}));function Dv(e){return(0,se.Z)("MuiTextField",e)}(0,oe.Z)("MuiTextField",["root"]);var Tv=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Iv={standard:ku,filled:Ru,outlined:Gu},Av=(0,b.ZP)(xv,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Mv=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiTextField"}),r=n.autoComplete,a=n.autoFocus,o=void 0!==a&&a,s=n.children,l=n.className,c=n.color,d=void 0===c?"primary":c,f=n.defaultValue,h=n.disabled,p=void 0!==h&&h,m=n.error,g=void 0!==m&&m,v=n.FormHelperTextProps,y=n.fullWidth,x=void 0!==y&&y,b=n.helperText,w=n.id,_=n.InputLabelProps,k=n.inputProps,D=n.InputProps,T=n.inputRef,I=n.label,A=n.maxRows,M=n.minRows,E=n.multiline,N=void 0!==E&&E,R=n.name,P=n.onBlur,O=n.onChange,F=n.onFocus,Z=n.placeholder,B=n.required,z=void 0!==B&&B,V=n.rows,j=n.select,W=void 0!==j&&j,U=n.SelectProps,H=n.type,G=n.value,X=n.variant,q=void 0===X?"outlined":X,Y=(0,S.Z)(n,Tv),K=(0,i.Z)({},n,{autoFocus:o,color:d,disabled:p,error:g,fullWidth:x,multiline:N,required:z,select:W,variant:q}),Q=function(e){var t=e.classes;return(0,L.Z)({root:["root"]},Dv,t)}(K);var J={};"outlined"===q&&(_&&"undefined"!==typeof _.shrink&&(J.notched=_.shrink),J.label=I),W&&(U&&U.native||(J.id=void 0),J["aria-describedby"]=void 0);var $=(0,Ig.Z)(w),ee=b&&$?"".concat($,"-helper-text"):void 0,te=I&&$?"".concat($,"-label"):void 0,ne=Iv[q],re=(0,u.jsx)(ne,(0,i.Z)({"aria-describedby":ee,autoComplete:r,autoFocus:o,defaultValue:f,fullWidth:x,multiline:N,name:R,rows:V,maxRows:A,minRows:M,type:H,value:G,id:$,inputRef:T,onBlur:P,onChange:O,onFocus:F,placeholder:Z,inputProps:k},J,D));return(0,u.jsxs)(Av,(0,i.Z)({className:(0,C.Z)(Q.root,l),disabled:p,error:g,fullWidth:x,ref:t,required:z,color:d,variant:q,ownerState:K},Y,{children:[null!=I&&""!==I&&(0,u.jsx)(pv,(0,i.Z)({htmlFor:$,id:te},_,{children:I})),W?(0,u.jsx)($u,(0,i.Z)({"aria-describedby":ee,id:$,labelId:te,value:G,input:re},U,{children:s})):re,b&&(0,u.jsx)(kv,(0,i.Z)({id:ee},v,{children:b}))]}))})),Ev=Mv,Nv=["item","applyValue","type","apiRef","focusElementRef"];function Rv(t){var n=t.item,r=t.applyValue,a=t.type,o=t.apiRef,s=t.focusElementRef,l=(0,S.Z)(t,Nv),c=e.useState(n.value||[]),d=(0,g.Z)(c,2),f=d[0],h=d[1],p=(0,Hc.Z)();e.useEffect((function(){var e,t=null!=(e=n.value)?e:[];h(t.map(String))}),[n.value]);var m=e.useCallback((function(e,t){h(t.map(String)),r((0,i.Z)({},n,{value:(0,T.Z)(t)}))}),[r,n]);return(0,u.jsx)(rv,(0,i.Z)({multiple:!0,freeSolo:!0,limitTags:1,options:[],filterOptions:function(e,t){var n=t.inputValue;return null==n||""===n?[]:[n]},id:p,value:f,onChange:m,renderTags:function(e,t){return e.map((function(e,n){return(0,u.jsx)(hh,(0,i.Z)({variant:"outlined",size:"small",label:e},t({index:n})))}))},renderInput:function(e){return(0,u.jsx)(Ev,(0,i.Z)({},e,{label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:(0,i.Z)({},e.InputLabelProps,{shrink:!0}),inputRef:s,type:a||"text",variant:"standard"}))}},l))}var Pv={width:100,minWidth:50,maxWidth:1/0,hide:!1,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,editable:!1,sortComparator:function(e,t){var n=Cg(e,t);return null!==n?n:"string"===typeof e?kg.compare(e.toString(),t.toString()):e-t},type:"string",align:"left",filterOperators:[{value:"contains",getApplyFilterFn:function(e){if(!e.value)return null;var t=new RegExp(sm(e.value),"i");return function(e){var n=e.value;return null!=n&&t.test(n.toString())}},InputComponent:gg},{value:"equals",getApplyFilterFn:function(e){if(!e.value)return null;var t=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return function(n){var r=n.value;return null!=r&&0===t.compare(e.value,r.toString())}},InputComponent:gg},{value:"startsWith",getApplyFilterFn:function(e){if(!e.value)return null;var t=new RegExp("^".concat(sm(e.value),".*$"),"i");return function(e){var n=e.value;return null!=n&&t.test(n.toString())}},InputComponent:gg},{value:"endsWith",getApplyFilterFn:function(e){if(!e.value)return null;var t=new RegExp(".*".concat(sm(e.value),"$"),"i");return function(e){var n=e.value;return null!=n&&t.test(n.toString())}},InputComponent:gg},{value:"isEmpty",getApplyFilterFn:function(){return function(e){var t=e.value;return""===t||null==t}}},{value:"isNotEmpty",getApplyFilterFn:function(){return function(e){var t=e.value;return""!==t&&null!=t}}},{value:"isAnyOf",getApplyFilterFn:function(e){if(!Array.isArray(e.value)||0===e.value.length)return null;var t=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return function(n){var r=n.value;return null!=r&&e.value.some((function(e){return 0===t.compare(e,r.toString()||"")}))}},InputComponent:Rv}],renderEditCell:function(e){return(0,u.jsx)(xg,(0,i.Z)({},e))},getApplyQuickFilterFn:function(e){if(!e)return null;var t=new RegExp(sm(e),"i");return function(e){var n=e.value;return null!=n&&t.test(n.toString())}}},Ov=function(e){return null==e?null:Number(e)},Lv=function(){return[{label:"=",value:"=",getApplyFilterFn:function(e){return null==e.value||Number.isNaN(e.value)?null:function(t){var n=t.value;return Ov(n)===e.value}},InputComponent:gg,InputComponentProps:{type:"number"}},{label:"!=",value:"!=",getApplyFilterFn:function(e){return null==e.value||Number.isNaN(e.value)?null:function(t){var n=t.value;return Ov(n)!==e.value}},InputComponent:gg,InputComponentProps:{type:"number"}},{label:">",value:">",getApplyFilterFn:function(e){return null==e.value||Number.isNaN(e.value)?null:function(t){var n=t.value;return null!=n&&Ov(n)>e.value}},InputComponent:gg,InputComponentProps:{type:"number"}},{label:">=",value:">=",getApplyFilterFn:function(e){return null==e.value||Number.isNaN(e.value)?null:function(t){var n=t.value;return null!=n&&Ov(n)>=e.value}},InputComponent:gg,InputComponentProps:{type:"number"}},{label:"<",value:"<",getApplyFilterFn:function(e){return null==e.value||Number.isNaN(e.value)?null:function(t){var n=t.value;return null!=n&&Ov(n)<e.value}},InputComponent:gg,InputComponentProps:{type:"number"}},{label:"<=",value:"<=",getApplyFilterFn:function(e){return null==e.value||Number.isNaN(e.value)?null:function(t){var n=t.value;return null!=n&&Ov(n)<=e.value}},InputComponent:gg,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:function(){return function(e){return null==e.value}}},{value:"isNotEmpty",getApplyFilterFn:function(){return function(e){return null!=e.value}}},{value:"isAnyOf",getApplyFilterFn:function(e){return Array.isArray(e.value)&&0!==e.value.length?function(t){var n=t.value;return null!=n&&e.value.includes(Number(n))}:null},InputComponent:Rv,InputComponentProps:{type:"number"}}]},Fv=(Wh(Lv),(0,i.Z)({},Pv,{type:"number",align:"right",headerAlign:"right",sortComparator:Dg,valueParser:function(e){return""===e?null:Number(e)},valueFormatter:function(e){var t=e.value;return t&&function(e){return"number"===typeof e}(t)&&t.toLocaleString()||t},filterOperators:Lv(),getApplyQuickFilterFn:function(e){return null==e||Number.isNaN(e)||""===e?null:function(t){var n=t.value;return Ov(n)===Ov(e)}}})),Zv=["item","applyValue","type","apiRef","focusElementRef","InputProps"];function Bv(t){var n,r,a=t.item,o=t.applyValue,s=t.type,l=t.apiRef,c=t.focusElementRef,d=t.InputProps,f=(0,S.Z)(t,Zv),h=e.useRef(),p=e.useState(null!=(n=a.value)?n:""),m=(0,g.Z)(p,2),v=m[0],y=m[1],x=e.useState(!1),b=(0,g.Z)(x,2),w=b[0],_=b[1],C=(0,Hc.Z)(),k=sp(),D=e.useCallback((function(e){var t=e.target.value;clearTimeout(h.current),y(String(t)),_(!0),h.current=setTimeout((function(){o((0,i.Z)({},a,{value:t})),_(!1)}),500)}),[o,a]);return e.useEffect((function(){return function(){clearTimeout(h.current)}}),[]),e.useEffect((function(){var e,t=null!=(e=a.value)?e:"";y(String(t))}),[a.value]),(0,u.jsx)(k.components.BaseTextField,(0,i.Z)({id:C,label:l.current.getLocaleText("filterPanelInputLabel"),placeholder:l.current.getLocaleText("filterPanelInputPlaceholder"),value:v,onChange:D,type:s||"text",variant:"standard",InputLabelProps:{shrink:!0},inputRef:c,InputProps:(0,i.Z)({},w?{endAdornment:(0,u.jsx)(sg,{})}:{},d,{inputProps:(0,i.Z)({max:"datetime-local"===s?"9999-12-31T23:59":"9999-12-31"},null==d?void 0:d.inputProps)})},f,null==(r=k.componentsProps)?void 0:r.baseTextField))}var zv=/(\d+)-(\d+)-(\d+)/,Vv=/(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;function jv(e,t,n,r){if(!e.value)return null;var i=e.value.match(n?Vv:zv).slice(1).map(Number),a=(0,g.Z)(i,5),o=a[0],s=a[1],u=a[2],l=a[3],c=a[4],d=new Date(o,s-1,u,l||0,c||0).getTime();return function(e){var i=e.value;if(!i)return!1;var a=i instanceof Date?i:new Date(i.toString());if(r)return t(a.getTime(),d);var o=(i instanceof Date?new Date(a):a).setHours(n?a.getHours():0,n?a.getMinutes():0,0,0);return t(o,d)}}var Wv=function(e){return[{value:"is",getApplyFilterFn:function(t){return jv(t,(function(e,t){return e===t}),e)},InputComponent:Bv,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:function(t){return jv(t,(function(e,t){return e!==t}),e)},InputComponent:Bv,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:function(t){return jv(t,(function(e,t){return e>t}),e)},InputComponent:Bv,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:function(t){return jv(t,(function(e,t){return e>=t}),e)},InputComponent:Bv,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:function(t){return jv(t,(function(e,t){return e<t}),e,!e)},InputComponent:Bv,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:function(t){return jv(t,(function(e,t){return e<=t}),e)},InputComponent:Bv,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:function(){return function(e){return null==e.value}}},{value:"isNotEmpty",getApplyFilterFn:function(){return function(e){return null!=e.value}}}]},Uv=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue","inputProps","isValidating","isProcessingProps","onValueChange"];function Hv(t){var n=t.id,r=t.value,a=t.api,o=t.field,s=t.colDef,l=t.hasFocus,c=t.inputProps,d=t.onValueChange,f=(0,S.Z)(t,Uv),h="dateTime"===s.type,p=e.useRef(),m=e.useMemo((function(){var e,t;null==(e=null==r?null:r instanceof Date?r:new Date((null!=r?r:"").toString()))||Number.isNaN(e.getTime())?t="":t=new Date(e.getTime()-60*e.getTimezoneOffset()*1e3).toISOString().substr(0,h?16:10);return{parsed:e,formatted:t}}),[r,h]),v=e.useState(m),y=(0,g.Z)(v,2),x=y[0],b=y[1],w=function(e){var t=e.classes;return(0,L.Z)({root:["editInputCell"]},Rh,t)}({classes:sp().classes}),_=e.useCallback(function(){var e=(0,jm.Z)(Um().mark((function e(t){var r,i,s,u,l,c,f,h,p,m,v,y,x,w,_;return Um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===(r=t.target.value)?i=null:(s=r.split("T"),u=(0,g.Z)(s,2),l=u[0],c=u[1],f=l.split("-"),h=(0,g.Z)(f,3),p=h[0],m=h[1],v=h[2],(i=new Date).setFullYear(p,Number(m)-1,v),i.setHours(0,0,0,0),c&&(y=c.split(":"),x=(0,g.Z)(y,2),w=x[0],_=x[1],i.setHours(Number(w),Number(_),0,0))),!d){e.next=5;break}return e.next=5,d(t,i);case 5:b({parsed:i,formatted:r}),a.setEditCellValue({id:n,field:o,value:i},t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,o,n,d]);return e.useEffect((function(){b((function(e){var t,n;return m.parsed!==e.parsed&&(null==(t=m.parsed)?void 0:t.getTime())!==(null==(n=e.parsed)?void 0:n.getTime())?m:e}))}),[m]),(0,Bn.Z)((function(){l&&p.current.focus()}),[l]),(0,u.jsx)(yu,(0,i.Z)({inputRef:p,fullWidth:!0,className:w.root,type:h?"datetime-local":"date",inputProps:(0,i.Z)({max:h?"9999-12-31T23:59":"9999-12-31"},c),value:x.formatted,onChange:_},f))}var Gv=function(e){return(0,u.jsx)(Hv,(0,i.Z)({},e))};var Xv=(0,i.Z)({},Pv,{type:"date",sortComparator:Tg,valueFormatter:function(e){var t=e.value;return t instanceof Date?t.toLocaleDateString():null!=t?t:""},filterOperators:Wv(),renderEditCell:Gv,getApplyQuickFilterFn:void 0}),qv=(0,i.Z)({},Pv,{type:"dateTime",sortComparator:Tg,valueFormatter:function(e){var t=e.value;return t instanceof Date?t.toLocaleString():null!=t?t:""},filterOperators:Wv(!0),renderEditCell:Gv,getApplyQuickFilterFn:void 0}),Yv=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","getValue"],Kv=e.memo((function(t){var n=t.value,r=t.api,a=(0,S.Z)(t,Yv),o=sp(),s=function(e){var t=e.classes;return(0,L.Z)({root:["booleanCell"]},Rh,t)}({classes:o.classes}),l=e.useMemo((function(){return n?o.components.BooleanCellTrueIcon:o.components.BooleanCellFalseIcon}),[o.components.BooleanCellFalseIcon,o.components.BooleanCellTrueIcon,n]);return(0,u.jsx)(l,(0,i.Z)({fontSize:"small",className:s.root,titleAccess:r.getLocaleText(n?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":Boolean(n)},a))})),Qv=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus","isValidating","isProcessingProps","error","onValueChange"];function Jv(t){var n,r=t.id,a=t.value,o=t.api,s=t.field,l=t.className,c=t.hasFocus,d=t.onValueChange,f=(0,S.Z)(t,Qv),h=e.useRef(null),p=(0,Hc.Z)(),m=e.useState(a),v=(0,g.Z)(m,2),y=v[0],x=v[1],b=sp(),w=function(e){var t=e.classes;return(0,L.Z)({root:["editBooleanCell"]},Rh,t)}({classes:b.classes}),_=e.useCallback(function(){var e=(0,jm.Z)(Um().mark((function e(t){var n;return Um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.checked,!d){e.next=4;break}return e.next=4,d(t,n);case 4:return x(n),e.next=7,o.setEditCellValue({id:r,field:s,value:n},t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,s,r,d]);return e.useEffect((function(){x(a)}),[a]),(0,Bn.Z)((function(){c&&h.current.focus()}),[c]),(0,u.jsx)("label",(0,i.Z)({htmlFor:p,className:(0,C.Z)(w.root,l)},f,{children:(0,u.jsx)(b.components.BaseCheckbox,(0,i.Z)({id:p,inputRef:h,checked:Boolean(y),onChange:_,size:"small"},null==(n=b.componentsProps)?void 0:n.baseCheckbox))}))}var $v=["item","applyValue","apiRef","focusElementRef"];function ey(t){var n,r,a,o,s=t.item,l=t.applyValue,c=t.apiRef,d=t.focusElementRef,f=(0,S.Z)(t,$v),h=e.useState(s.value||""),p=(0,g.Z)(h,2),m=p[0],v=p[1],y=sp(),x=null==(r=((null==(n=y.componentsProps)?void 0:n.baseSelect)||{}).native)||r,b=x?"option":il,w=e.useCallback((function(e){var t=e.target.value;v(t),l((0,i.Z)({},s,{value:t}))}),[l,s]);return e.useEffect((function(){v(s.value||"")}),[s.value]),(0,u.jsxs)(y.components.BaseTextField,(0,i.Z)({label:c.current.getLocaleText("filterPanelInputLabel"),value:m,onChange:w,variant:"standard",select:!0,SelectProps:(0,i.Z)({native:x,displayEmpty:!0},null==(a=y.componentsProps)?void 0:a.baseSelect),InputLabelProps:{shrink:!0},inputRef:d},f,null==(o=y.componentsProps)?void 0:o.baseTextField,{children:[(0,u.jsx)(b,{value:"",children:c.current.getLocaleText("filterValueAny")}),(0,u.jsx)(b,{value:"true",children:c.current.getLocaleText("filterValueTrue")}),(0,u.jsx)(b,{value:"false",children:c.current.getLocaleText("filterValueFalse")})]}))}var ty,ny,ry,iy=(0,i.Z)({},Pv,{type:"boolean",align:"center",headerAlign:"center",renderCell:function(e){return e.rowNode.isAutoGenerated?"":(0,u.jsx)(Kv,(0,i.Z)({},e))},renderEditCell:function(e){return(0,u.jsx)(Jv,(0,i.Z)({},e))},sortComparator:Dg,valueFormatter:function(e){var t=e.value,n=e.api;return t?n.getLocaleText("booleanCellTrueLabel"):n.getLocaleText("booleanCellFalseLabel")},filterOperators:[{value:"is",getApplyFilterFn:function(e){if(!e.value)return null;var t="true"===e.value;return function(e){var n=e.value;return Boolean(n)===t}},InputComponent:ey}],getApplyQuickFilterFn:void 0}),ay=function(e){return"Escape"===e},oy=function(e){return"Enter"===e},sy=function(e){return"Tab"===e},uy=function(e){return" "===e},ly=function(e){return"Delete"===e||"Backspace"===e},cy=/^((?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])|(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])|(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])|(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9])|[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]|(?:[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDD-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF73\uDF80-\uDFD8\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6\uDF00-\uDF92\uDF94-\uDFCA])|(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]))$/i,dy=function(e){return cy.test(e)},fy=["Enter","Escape","Tab"],hy=["Enter","Tab"],py=function(e){return oy(e)||ly(e)||dy(e)},my=function(e){return fy.indexOf(e)>-1},gy=function(e){return hy.indexOf(e)>-1},vy=function(e){return function(e){return"Home"===e||"End"===e}(e)||function(e){return 0===e.indexOf("Arrow")}(e)||function(e){return 0===e.indexOf("Page")}(e)||uy(e)},yy=function(e){return!!e.key};!function(e){e.Cell="cell",e.Row="row"}(ty||(ty={})),function(e){e.Edit="edit",e.View="view"}(ny||(ny={})),function(e){e.Edit="edit",e.View="view"}(ry||(ry={}));var xy=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus","isValidating","isProcessingProps","error","onValueChange"];function by(t){var n,r,a,o,s=t.id,l=t.value,c=t.api,d=t.field,f=t.row,h=t.colDef,p=t.hasFocus,m=t.error,v=t.onValueChange,y=(0,S.Z)(t,xy),x=e.useRef(),b=e.useRef(),w=sp(),_=e.useState("cell"===w.editMode),C=(0,g.Z)(_,2),k=C[0],D=C[1],T=null!=(r=((null==(n=w.componentsProps)?void 0:n.baseSelect)||{}).native)&&r;o="function"===typeof h.valueOptions?h.valueOptions({id:s,row:f,field:d}):h.valueOptions,h.valueFormatter&&(o=o.map((function(e){if("object"===typeof e)return e;var t={field:d,api:c,value:e};return{value:e,label:String(h.valueFormatter(t))}})));var I=function(){var e=(0,jm.Z)(Um().mark((function e(t){var n,r,i,a,u;return Um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(!1),r=t.target,i=hg(r.value,o),!v){e.next=6;break}return e.next=6,v(t,i);case 6:return e.next=8,c.setEditCellValue({id:s,field:d,value:i},t);case 8:if(a=e.sent,null==(n=w.experimentalFeatures)||!n.newEditingApi){e.next=11;break}return e.abrupt("return");case 11:if(w.editMode!==ty.Row&&!1!==a){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,Promise.resolve(c.commitCellChange({id:s,field:d},t));case 15:e.sent&&(c.setCellMode(s,d,"view"),t.key&&(u=c.getCellParams(s,d),c.publishEvent("cellNavigationKeyDown",u,t)));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Bn.Z)((function(){p&&b.current.focus()}),[p]),(0,u.jsx)(w.components.BaseSelect,(0,i.Z)({ref:x,inputRef:b,value:l,onChange:I,open:k,onOpen:function(){D(!0)},MenuProps:{onClose:function(e,t){var n;w.editMode!==ty.Row?("backdropClick"===t||ay(e.key))&&(null!=(n=w.experimentalFeatures)&&n.newEditingApi?c.stopCellEditMode({id:s,field:d,ignoreModifications:!0}):c.setCellMode(s,d,"view")):D(!1)}},error:m,native:T,fullWidth:!0},y,null==(a=w.componentsProps)?void 0:a.baseSelect,{children:o.map((function(e){return function(e,t){var n="object"===typeof e,r=n?e.value:e,i=n?e.value:e,a=n?e.label:e;return(0,u.jsx)(t,{value:i,children:a},r)}(e,T?"option":il)}))}))}var wy=["item","applyValue","type","apiRef","focusElementRef"],_y=function(e,t,n){var r=e.valueOptions,i=e.valueFormatter,a=e.field;return[""].concat("function"===typeof r?(0,T.Z)(r({field:a})):(0,T.Z)(r||[])).map((function(e){var r="object"===typeof e,o=r?e.value:e,s=r?e.value:e,l=i&&""!==e?i({value:e,field:a,api:t}):e,c=r?e.label:l;return(0,u.jsx)(n,{value:s,children:c},o)}))};function Sy(t){var n,r,a,o,s,l=t.item,c=t.applyValue,d=t.type,f=t.apiRef,h=t.focusElementRef,p=(0,S.Z)(t,wy),m=e.useState(null!=(n=l.value)?n:""),v=(0,g.Z)(m,2),y=v[0],x=v[1],b=(0,Hc.Z)(),w=sp(),_=null==(a=((null==(r=w.componentsProps)?void 0:r.baseSelect)||{}).native)||a,C=l.columnField?f.current.getColumn(l.columnField):null,k=e.useMemo((function(){return"function"===typeof C.valueOptions?C.valueOptions({field:C.field}):C.valueOptions}),[C]),D=e.useCallback((function(e){var t=e.target.value;t=hg(t,k),x(String(t)),c((0,i.Z)({},l,{value:t}))}),[c,l,k]);return e.useEffect((function(){var e,t;if(void 0!==k){if((t=hg(l.value,k))!==l.value)return void c((0,i.Z)({},l,{value:t}))}else t=l.value;t=null!=(e=t)?e:"",x(String(t))}),[l,k,c]),(0,u.jsx)(w.components.BaseTextField,(0,i.Z)({id:b,label:f.current.getLocaleText("filterPanelInputLabel"),placeholder:f.current.getLocaleText("filterPanelInputPlaceholder"),value:y,onChange:D,type:d||"text",variant:"standard",InputLabelProps:{shrink:!0},inputRef:h,select:!0,SelectProps:(0,i.Z)({native:_},null==(o=w.componentsProps)?void 0:o.baseSelect)},p,null==(s=w.componentsProps)?void 0:s.baseTextField,{children:_y(f.current.getColumn(l.columnField),f.current,_?"option":il)}))}var Cy=["item","applyValue","type","apiRef","focusElementRef"],ky=function(e,t){return fg(e)===fg(t)},Dy=Eg();function Ty(t){var n=t.item,r=t.applyValue,a=t.apiRef,o=t.focusElementRef,s=(0,S.Z)(t,Cy),l=(0,Hc.Z)(),c=n.columnField?a.current.getColumn(n.columnField):null,d=e.useMemo((function(){return"function"===typeof(null==c?void 0:c.valueOptions)?c.valueOptions({field:c.field}):null==c?void 0:c.valueOptions}),[c]),f=e.useMemo((function(){return null==d?void 0:d.map(fg)}),[d]),h=a.current.getColumn(n.columnField),p=h.valueFormatter,m=h.field,g=function(e){return"object"===typeof e?e.label:p&&""!==e?p({value:e,field:m,api:a.current}):e},v=e.useMemo((function(){return Array.isArray(n.value)?void 0!==d?n.value.map((function(e){var t=fg(e);return(null==f?void 0:f.findIndex((function(e){return e===t})))||0})).filter((function(e){return e>=0})).map((function(e){return d[e]})):n.value:[]}),[n.value,d,f]);e.useEffect((function(){Array.isArray(n.value)&&v.length===n.value.length||r((0,i.Z)({},n,{value:v.map(fg)}))}),[n,v,r]);var y=e.useCallback((function(e,t){r((0,i.Z)({},n,{value:(0,T.Z)(t.map(fg))}))}),[r,n]);return(0,u.jsx)(rv,(0,i.Z)({multiple:!0,freeSolo:!1,limitTags:1,options:d,isOptionEqualToValue:ky,filterOptions:Dy,id:l,value:v,onChange:y,renderTags:function(e,t){return e.map((function(e,n){return(0,u.jsx)(hh,(0,i.Z)({variant:"outlined",size:"small",label:g(e)},t({index:n})))}))},renderInput:function(e){return(0,u.jsx)(Ev,(0,i.Z)({},e,{label:a.current.getLocaleText("filterPanelInputLabel"),placeholder:a.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:(0,i.Z)({},e.InputLabelProps,{shrink:!0}),inputRef:o,type:"singleSelect",variant:"standard"}))}},s))}var Iy=function(e){return null==e||"object"!==typeof e?e:e.value},Ay=(0,i.Z)({},Pv,{type:"singleSelect",renderEditCell:function(e){return(0,u.jsx)(by,(0,i.Z)({},e))},filterOperators:[{value:"is",getApplyFilterFn:function(e){return null==e.value||""===e.value?null:function(t){var n=t.value;return Iy(n)===Iy(e.value)}},InputComponent:Sy},{value:"not",getApplyFilterFn:function(e){return null==e.value||""===e.value?null:function(t){var n=t.value;return Iy(n)!==Iy(e.value)}},InputComponent:Sy},{value:"isAnyOf",getApplyFilterFn:function(e){if(!Array.isArray(e.value)||0===e.value.length)return null;var t=e.value.map(Iy);return function(e){var n=e.value;return t.includes(Iy(n))}},InputComponent:Ty}],getApplyQuickFilterFn:function(e,t,n){if(!e)return null;var r=t.valueOptions,i=t.valueFormatter,a=t.field,o=[Iy(e).toString()],s="function"===typeof r?r({field:a}):r||[];return s&&s.forEach((function(t){var r,s;"object"===typeof t?(r=t.value,s=t.label):(r=t,s=i?i({value:t,field:a,api:n.current}):t),s.slice(0,e.length).toLowerCase()===e.toLowerCase()&&(o.includes(r)||o.push(r.toString()))})),function(e){var t=e.value;return null!=t&&o.includes(Iy(t).toString())}}});function My(e){return e.substring(2).toLowerCase()}var Ey=function(t){var n=t.children,r=t.disableReactTree,i=void 0!==r&&r,a=t.mouseEvent,o=void 0===a?"onClick":a,s=t.onClickAway,l=t.touchEvent,c=void 0===l?"onTouchEnd":l,d=e.useRef(!1),f=e.useRef(null),h=e.useRef(!1),p=e.useRef(!1);e.useEffect((function(){return setTimeout((function(){h.current=!0}),0),function(){h.current=!1}}),[]);var m=(0,Z.Z)(n.ref,f),g=(0,z.Z)((function(e){var t=p.current;p.current=!1;var n=(0,B.Z)(f.current);!h.current||!f.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,n)||(d.current?d.current=!1:(e.composedPath?e.composedPath().indexOf(f.current)>-1:!n.documentElement.contains(e.target)||f.current.contains(e.target))||!i&&t||s(e))})),v=function(e){return function(t){p.current=!0;var r=n.props[e];r&&r(t)}},y={ref:m};return!1!==c&&(y[c]=v(c)),e.useEffect((function(){if(!1!==c){var e=My(c),t=(0,B.Z)(f.current),n=function(){d.current=!0};return t.addEventListener(e,g),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,g),t.removeEventListener("touchmove",n)}}}),[g,c]),!1!==o&&(y[o]=v(o)),e.useEffect((function(){if(!1!==o){var e=My(o),t=(0,B.Z)(f.current);return t.addEventListener(e,g),function(){t.removeEventListener(e,g)}}}),[g,o]),(0,u.jsx)(e.Fragment,{children:e.cloneElement(n,y)})},Ny=["open","target","onClickAway","children","position","className","onExited"],Ry=(0,b.ZP)(Uc,{name:"MuiDataGrid",slot:"Menu",overridesResolver:function(e,t){return t.menu}})((function(e){var t=e.theme;return(0,v.Z)({zIndex:t.zIndex.modal},"& .".concat(Ph.menuList),{outline:0})})),Py={"bottom-start":"top left","bottom-end":"top right"},Oy=function(t){var n,r=t.open,a=t.target,o=t.onClickAway,s=t.children,l=t.position,c=t.className,d=t.onExited,f=(0,S.Z)(t,Ny),h=e.useRef(a),p=e.useRef(r),m=sp(),g=function(e){var t=e.classes;return(0,L.Z)({root:["menu"]},Rh,t)}({classes:m.classes});e.useEffect((function(){p.current&&h.current&&h.current.focus(),p.current=r,h.current=a}),[r,a]);return(0,u.jsx)(Ry,(0,i.Z)({as:m.components.BasePopper,className:(0,C.Z)(c,g.root),open:r,anchorEl:a,transition:!0,placement:l},f,null==(n=m.componentsProps)?void 0:n.basePopper,{children:function(e){var t,n=e.TransitionProps,r=e.placement;return(0,u.jsx)(Ey,{onClickAway:o,mouseEvent:"onMouseDown",children:(0,u.jsx)(us,(0,i.Z)({},n,{style:{transformOrigin:Py[r]},onExited:(t=null==n?void 0:n.onExited,function(e){t&&t(),d&&d(e)}),children:(0,u.jsx)(Qe,{children:s})}))})}}))},Ly=["colDef","id","api","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","getValue","tabIndex","position","focusElementRef"],Fy=function(t){var n=t.colDef,r=t.id,a=t.hasFocus,o=t.tabIndex,s=t.position,l=void 0===s?"bottom-end":s,c=t.focusElementRef,d=(0,S.Z)(t,Ly),f=e.useState(-1),h=(0,g.Z)(f,2),p=h[0],m=h[1],v=e.useState(!1),y=(0,g.Z)(v,2),x=y[0],b=y[1],w=ap(),_=e.useRef(null),C=e.useRef(null),k=e.useRef(!1),D=e.useRef({}),T=(0,Hc.Z)(),I=(0,Hc.Z)(),A=sp();if(e.useLayoutEffect((function(){a||Object.entries(D.current).forEach((function(e){var t=(0,g.Z)(e,2),n=t[0],r=t[1];null==r||r.stop({},(function(){delete D.current[n]}))}))}),[a]),e.useEffect((function(){p<0||!_.current||(p>=_.current.children.length||_.current.children[p].focus())}),[p]),e.useEffect((function(){a||(m(-1),k.current=!1)}),[a]),e.useImperativeHandle(c,(function(){return{focus:function(){k.current||m(0)}}}),[]),!function(e){return"function"===typeof e.getActions}(n))throw new Error("MUI: Missing the `getActions` property in the `GridColDef`.");var M=n.getActions(w.current.getRowParams(r)),E=M.filter((function(e){return!e.props.showInMenu})),N=M.filter((function(e){return e.props.showInMenu})),R=E.length+(N.length?1:0);e.useEffect((function(){p>=R&&m(R-1)}),[p,R]);var P=function(){b(!1)},O=function(e){return function(t){D.current[e]=t}},L=function(e,t){return function(n){m(e),k.current=!0,t&&t(n)}};return(0,u.jsxs)("div",(0,i.Z)({role:"menu",ref:_,tabIndex:-1,className:Ph.actionsCell,onKeyDown:function(e){if(!(R<=1)){var t=p;"ArrowRight"===e.key?t+=1:"ArrowLeft"===e.key&&(t-=1),t<0||t>=R||t!==p&&(e.preventDefault(),e.stopPropagation(),m(t))}}},d,{children:[E.map((function(t,n){return e.cloneElement(t,{key:n,touchRippleRef:O(n),onClick:L(n,t.props.onClick),tabIndex:p===n?o:-1})})),N.length>0&&I&&(0,u.jsx)(Pn,{ref:C,id:I,"aria-label":w.current.getLocaleText("actionsCellMore"),"aria-controls":T,"aria-expanded":x?"true":void 0,"aria-haspopup":"true",role:"menuitem",size:"small",onClick:function(){b(!0),m(R-1),k.current=!0},touchRippleRef:O(I),tabIndex:p===E.length?o:-1,children:(0,u.jsx)(A.components.MoreActionsIcon,{fontSize:"small"})}),N.length>0&&(0,u.jsx)(Oy,{onClickAway:P,onClick:P,open:x,target:C.current,position:l,children:(0,u.jsx)(ns,{id:T,className:Ph.menuList,onKeyDown:function(e){"Tab"===e.key&&e.preventDefault(),["Tab","Enter","Escape"].includes(e.key)&&P()},"aria-labelledby":I,variant:"menu",autoFocusItem:!0,children:N.map((function(t,n){return e.cloneElement(t,{key:n})}))})})]}))},Zy="actions",By=(0,i.Z)({},Pv,{sortable:!1,filterable:!1,width:100,align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:function(e){return(0,u.jsx)(Fy,(0,i.Z)({},e))},getApplyQuickFilterFn:void 0}),zy="__default__",Vy=function(){var e;return e={string:Pv,number:Fv,date:Xv,dateTime:qv,boolean:iy,singleSelect:Ay},(0,v.Z)(e,Zy,By),(0,v.Z)(e,zy,Pv),e},jy=["maxWidth","minWidth","width","flex"],Wy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,i.Z)({},Vy());return Object.entries(e).forEach((function(e){var n=(0,g.Z)(e,2),r=n[0],a=n[1];t[r]?t[r]=(0,i.Z)({},t[r],a):t[r]=(0,i.Z)({},t[a.extendType||zy],a)})),t};var Uy,Hy=function(e,t){var n={},r=0,a=0,o=[];e.all.forEach((function(t){var s,u=(0,i.Z)({},e.lookup[t]);!1===e.columnVisibilityModel[t]?u.computedWidth=0:(u.flex&&u.flex>0?(r+=u.flex,s=0,o.push(u)):s=um(u.width,u.minWidth,u.maxWidth),a+=s,u.computedWidth=s);n[t]=u}));var s=Math.max(t-a,0);if(r>0&&t>0){var u=function(e){var t=e.initialFreeSpace,n=e.totalFlexUnits,r=e.flexColumns,i={all:{},frozenFields:[],freeze:function(e){var t=i.all[e];t&&!0!==t.frozen&&(i.all[e].frozen=!0,i.frozenFields.push(e))}};return function e(){if(i.frozenFields.length!==r.length){var a={min:{},max:{}},o=t,s=n,u=0;i.frozenFields.forEach((function(e){o-=i.all[e].computedWidth,s-=i.all[e].flex}));for(var l=0;l<r.length;l+=1){var c=r[l];if(!i.all[c.field]||!0!==i.all[c.field].frozen){var d=o/s*c.flex;d<c.minWidth?(u+=c.minWidth-d,d=c.minWidth,a.min[c.field]=!0):d>c.maxWidth&&(u+=c.maxWidth-d,d=c.maxWidth,a.max[c.field]=!0),i.all[c.field]={frozen:!1,computedWidth:d,flex:c.flex}}}u<0?Object.keys(a.max).forEach((function(e){i.freeze(e)})):u>0?Object.keys(a.min).forEach((function(e){i.freeze(e)})):r.forEach((function(e){var t=e.field;i.freeze(t)})),e()}}(),i.all}({initialFreeSpace:s,totalFlexUnits:r,flexColumns:o});Object.keys(u).forEach((function(e){n[e].computedWidth=u[e].computedWidth}))}return(0,i.Z)({},e,{lookup:n})},Gy=function(e){var t,n,r,a,o,s=e.apiRef,u=e.columnsToUpsert,l=e.initialState,c=e.columnTypes,d=e.currentColumnVisibilityModel,f=void 0===d?Kh(s):d,h=e.shouldRegenColumnVisibilityModelFromColumns,p=e.keepOnlyColumnsToUpsert,m=void 0!==p&&p,y=!s.current.state.columns;if(y)o={all:[],lookup:{}};else{var x=Gh(s.current.state);o={all:m?[]:(0,T.Z)(x.all),lookup:(0,i.Z)({},x.lookup)}}var b={};m&&!y&&(b=Object.keys(o.lookup).reduce((function(e,t){return(0,i.Z)({},e,(0,v.Z)({},t,!1))}),{}));var w={};u.forEach((function(e){var t=e.field;w[t]=!0,b[t]=!0;var n=o.lookup[t];null==n?(n=(0,i.Z)({},function(e,t){return t&&e[t]?e[t]:e.__default__}(c,e.type),{field:t,hasBeenResized:!1}),o.all.push(t)):m&&o.all.push(t);var r=n.hasBeenResized;jy.forEach((function(t){void 0!==e[t]&&(r=!0,-1===e[t]&&(e[t]=1/0))})),o.lookup[t]=(0,i.Z)({},n,{hide:null!=e.hide&&e.hide},e,{hasBeenResized:r})})),m&&!y&&Object.keys(o.lookup).forEach((function(e){b[e]||delete o.lookup[e]}));var _=(0,i.Z)({},o.lookup),S=s.current.unstable_applyPipeProcessors("hydrateColumns",o),C={};if(h){var k=!1,D=(0,i.Z)({},f);y?S.all.forEach((function(e){D[e]=!o.lookup[e].hide})):m&&Object.keys(D).forEach((function(e){S.lookup[e]||(delete D[e],k=!0)})),S.all.forEach((function(e){if(w[e]||_[e]!==S.lookup[e]){var t=f[e];if(void 0===t)if(y)t=!0;else t=!!Gh(s.current.state).lookup[e];var n=!S.lookup[e].hide;n!==t&&(k=!0,D[e]=n)}})),C=k||y?D:f}else C=f;var I=function(e,t){if(!t)return e;var n=t.orderedFields,r=void 0===n?[]:n,a=t.dimensions,o=void 0===a?{}:a,s=Object.keys(o);if(0===s.length&&0===r.length)return e;for(var u={},l=[],c=0;c<r.length;c+=1){var d=r[c];e.lookup[d]&&(u[d]=!0,l.push(d))}for(var f=0===l.length?e.all:[].concat(l,(0,T.Z)(e.all.filter((function(e){return!u[e]})))),h=(0,i.Z)({},e.lookup),p=function(e){var t=s[e],n=(0,i.Z)({},h[t],{hasBeenResized:!0});Object.entries(o[t]).forEach((function(e){var t=(0,g.Z)(e,2),r=t[0],i=t[1];n[r]=-1===i?1/0:i})),h[t]=n},m=0;m<s.length;m+=1)p(m);return{all:f,lookup:h}}(S,l),A=(0,i.Z)({},I,{columnVisibilityModel:C});return Hy(A,null!=(t=null==(n=(r=s.current).getRootDimensions)||null==(a=n.call(r))?void 0:a.viewportInnerSize.width)?t:0)},Xy=function(e){return function(t){return(0,i.Z)({},t,{columns:e})}};function qy(e){for(var t=e.firstColumnToRender,n=e.apiRef,r=e.firstRowToRender,i=e.lastRowToRender,a=e.visibleRows,o=t,s=r;s<i;s+=1){if(a[s]){var u=a[s].id,l=n.current.unstable_getCellColSpanInfo(u,t);l&&l.spannedByColSpan&&(o=l.leftVisibleCellIndex)}}return o}function Yy(e){var t=e.firstColumnIndex,n=e.minColumnIndex,r=e.columnBuffer,i=e.firstRowToRender,a=e.lastRowToRender,o=e.apiRef,s=e.visibleRows;return qy({firstColumnToRender:Math.max(t-r,n),apiRef:o,firstRowToRender:i,lastRowToRender:a,visibleRows:s})}!function(e){e.filters="filters",e.columns="columns"}(Uy||(Uy={}));var Ky,Qy=function(e,t,n){var r,a,o,s,u,l,c,d=!!t.columnVisibilityModel||!(null==(r=t.initialState)||null==(a=r.columns)||!a.columnVisibilityModel),f=Wy(t.columnTypes),h=Gy({apiRef:n,columnTypes:f,columnsToUpsert:t.columns,initialState:null==(o=t.initialState)?void 0:o.columns,shouldRegenColumnVisibilityModelFromColumns:!d,currentColumnVisibilityModel:null!=(s=null!=(u=t.columnVisibilityModel)?u:null==(l=t.initialState)||null==(c=l.columns)?void 0:c.columnVisibilityModel)?s:{},keepOnlyColumnsToUpsert:!0});return(0,i.Z)({},e,{columns:h})};!function(e){e.Compact="compact",e.Standard="standard",e.Comfortable="comfortable"}(Ky||(Ky={}));var Jy=function(e,t,n){switch(e){case Ky.Compact:return{value:e,headerHeight:Math.floor(.7*t),rowHeight:Math.floor(.7*n),factor:.7};case Ky.Comfortable:return{value:e,headerHeight:Math.floor(1.3*t),rowHeight:Math.floor(1.3*n),factor:1.3};default:return{value:e,headerHeight:t,rowHeight:n,factor:1}}},$y=function(e,t){return(0,i.Z)({},e,{density:Jy(t.density,t.headerHeight,t.rowHeight)})};var ex=["field","id","value","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","getValue","api"],tx=e.forwardRef((function(t,n){var r,a=t.field,o=t.id,s=t.value,l=t.hasFocus,c=t.tabIndex,d=(0,S.Z)(t,ex),f=ap(),h=sp(),p=function(e){var t=e.classes;return(0,L.Z)({root:["checkboxInput"]},Rh,t)}({classes:h.classes}),m=e.useRef(null),g=e.useRef(),v=(0,Te.Z)(m,n),y=f.current.getCellElement(o,a);e.useLayoutEffect((function(){0===c&&y&&(y.tabIndex=-1)}),[y,c]),e.useLayoutEffect((function(){if(l){var e,t=null==(e=m.current)?void 0:e.querySelector("input");null==t||t.focus()}else g.current&&g.current.stop({})}),[l]);var x=e.useCallback((function(e){uy(e.key)&&e.stopPropagation(),vy(e.key)&&!e.shiftKey&&f.current.publishEvent("cellNavigationKeyDown",t,e)}),[f,t]),b=!h.isRowSelectable||h.isRowSelectable(f.current.getRowParams(o)),w=f.current.getLocaleText(s?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return(0,u.jsx)(h.components.BaseCheckbox,(0,i.Z)({ref:v,tabIndex:c,checked:s,onChange:function(e){var t={value:e.target.checked,id:o};f.current.publishEvent("rowSelectionCheckboxChange",t,e)},className:p.root,color:"primary",inputProps:{"aria-label":w},onKeyDown:x,disabled:!b,touchRippleRef:g},null==(r=h.componentsProps)?void 0:r.baseCheckbox,d))})),nx=e.memo(tx),rx=function(e){return e.focus},ix=Hh(rx,(function(e){return e.cell})),ax=Hh(rx,(function(e){return e.columnHeader})),ox=function(e){return e.tabIndex},sx=Hh(ox,(function(e){return e.cell})),ux=Hh(ox,(function(e){return e.columnHeader})),lx=function(e){return e.selection},cx=Hh(lx,(function(e){return e.length})),dx=Hh(lx,fp,(function(e,t){return new Map(e.map((function(e){return[e,t[e]]})))})),fx=Hh(lx,(function(e){return e.reduce((function(e,t){return e[t]=t,e}),{})})),hx=function(e){return e.pagination},px=Hh(hx,(function(e){return e.page})),mx=Hh(hx,(function(e){return e.pageSize})),gx=(Hh(hx,(function(e){return e.pageCount})),Hh(hx,pp,gp,Hp,Yp,(function(e,t,n,r,i){var a=i.length,o=Math.min(e.pageSize*e.page,a-1),s=Math.min(o+e.pageSize-1,a-1);if(-1===o||-1===s)return null;if(n<2)return{firstRowIndex:o,lastRowIndex:s};for(var u=i[o],l=s-o+1,c=r.findIndex((function(e){return e.id===u.id})),d=c,f=0;d<r.length&&f<=l;){var h=t[r[d].id].depth;(f<l||h>0)&&(d+=1),0===h&&(f+=1)}return{firstRowIndex:c,lastRowIndex:d-1}}))),vx=Hh(Hp,gx,(function(e,t){return t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]})),yx=Hh(Gp,gx,(function(e,t){return t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]})),xx=["field","colDef"],bx=e.forwardRef((function(t,n){var r,a=(0,S.Z)(t,xx),o=e.useState(!1),s=(0,g.Z)(o,2)[1],l=ap(),c=sp(),d=function(e){var t=e.classes;return(0,L.Z)({root:["checkboxInput"]},Rh,t)}({classes:c.classes}),f=rp(l,ux),h=rp(l,lx),p=rp(l,Gp),m=rp(l,yx),v=e.useMemo((function(){return"function"!==typeof c.isRowSelectable?h:h.filter((function(e){return!!l.current.getRow(e)&&c.isRowSelectable(l.current.getRowParams(e))}))}),[l,c.isRowSelectable,h]),y=e.useMemo((function(){return(c.pagination&&c.checkboxSelectionVisibleOnly?m:p).reduce((function(e,t){return e[t]=!0,e}),{})}),[c.pagination,c.checkboxSelectionVisibleOnly,m,p]),x=e.useMemo((function(){return v.filter((function(e){return y[e]})).length}),[v,y]),b=x>0&&x<Object.keys(y).length,w=x>0,_=null!==f&&f.field===t.field?0:-1;e.useLayoutEffect((function(){var e=l.current.getColumnHeaderElement(t.field);0===_&&e&&(e.tabIndex=-1)}),[_,l,t.field]);var C=e.useCallback((function(e){" "===e.key&&l.current.publishEvent("headerSelectionCheckboxChange",{value:!w}),vy(e.key)&&!e.shiftKey&&l.current.publishEvent("columnHeaderNavigationKeyDown",t,e)}),[l,t,w]),k=e.useCallback((function(){s((function(e){return!e}))}),[]);e.useEffect((function(){return l.current.subscribeEvent("selectionChange",k)}),[l,k]);var D=l.current.getLocaleText(w?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return(0,u.jsx)(c.components.BaseCheckbox,(0,i.Z)({ref:n,indeterminate:b,checked:w,onChange:function(e){var t={value:e.target.checked};l.current.publishEvent("headerSelectionCheckboxChange",t)},className:d.root,color:"primary",inputProps:{"aria-label":D},tabIndex:_,onKeyDown:C},null==(r=c.componentsProps)?void 0:r.baseCheckbox,a))})),wx=(0,i.Z)({},iy,{field:"__check__",type:"checkboxSelection",width:50,resizable:!1,sortable:!1,filterable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,valueGetter:function(e){return void 0!==fx(e.api.state,e.api.instanceId)[e.id]},renderHeader:function(e){return(0,u.jsx)(bx,(0,i.Z)({},e))},renderCell:function(e){return(0,u.jsx)(nx,(0,i.Z)({},e))}}),_x=function(e,t){if("string"===typeof e){var n=e.replace(/"/g,'""');return[t,"\n","\r"].some((function(e){return n.includes(e)}))?'"'.concat(n,'"'):n}return e};jh(["MUI: When the value of a field is an object or a `renderCell` is provided, the CSV export might not display the value correctly.","You can provide a `valueFormatter` with a string representation to be used."]);function Sx(e){var t=e.columns,n=e.rowIds,r=e.getCellParams,i=e.delimiterCharacter,a=e.includeHeaders,o=n.reduce((function(e,n){return"".concat(e).concat(function(e,t,n,r){return t.map((function(t){var i=n(e,t.field);return _x(i.formattedValue,r)}))}(n,t,r,i).join(i),"\r\n")}),"").trim();if(!a)return o;var s="".concat(t.filter((function(e){return e.field!==wx.field})).map((function(e){return _x(e.headerName||e.field,i)})).join(i),"\r\n");return"".concat(s).concat(o).trim()}var Cx,kx=function(e){var t=e.apiRef,n=e.options,r=Yh(t);return n.fields?n.fields.map((function(e){return r.find((function(t){return t.field===e}))})).filter((function(e){return!!e})):(n.allColumns?r:Qh(t)).filter((function(e){return!e.disableExport}))},Dx=function(e){var t=e.apiRef,n=qp(t),r=t.current.getSelectedRows();return r.size>0?n.filter((function(e){return r.has(e)})):n},Tx=function(e){var t=ap(),n=e.hideMenu,r=e.options;return(0,u.jsx)(il,{onClick:function(){t.current.exportDataAsCsv(r),null==n||n()},children:t.current.getLocaleText("toolbarExportCSV")})},Ix=function(e){var t=ap(),n=e.hideMenu,r=e.options;return(0,u.jsx)(il,{onClick:function(){t.current.exportDataAsPrint(r),null==n||n()},children:t.current.getLocaleText("toolbarExportPrint")})},Ax=function(t){var n=kp(t,"useGridCsvExport"),r=e.useCallback((function(){var e,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.debug("Get data as CSV");var a=kx({apiRef:t,options:i}),o=null!=(e=i.getRowsToExport)?e:Dx,s=o({apiRef:t});return Sx({columns:a,rowIds:s,getCellParams:t.current.getCellParams,delimiterCharacter:i.delimiter||",",includeHeaders:null==(r=i.includeHeaders)||r})}),[n,t]),i=e.useCallback((function(e){n.debug("Export data as CSV");var t=r(e);!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"csv",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.title||"untitled",r="".concat(n,".").concat(t);if("download"in HTMLAnchorElement.prototype){var i=URL.createObjectURL(e),a=document.createElement("a");return a.href=i,a.download=r,a.click(),void setTimeout((function(){URL.revokeObjectURL(i)}))}throw new Error("MUI: exportAs not supported")}(new Blob([null!=e&&e.utf8WithBom?new Uint8Array([239,187,191]):"",t],{type:"text/csv"}),"csv",null==e?void 0:e.fileName)}),[n,r]);mm(t,{getDataAsCsv:r,exportDataAsCsv:i});var a=e.useCallback((function(e,t){var n;return null!=(n=t.csvOptions)&&n.disableToolbarButton?e:[].concat((0,T.Z)(e),[{component:(0,u.jsx)(Tx,{options:t.csvOptions}),componentName:"csvExport"}])}),[]);zm(t,"exportMenu",a)},Mx=function(e){return e.rowsMeta},Ex="client",Nx="server";!function(e){e.And="and",e.Or="or"}(Cx||(Cx={}));var Rx=function(){return{items:[],linkOperator:Cx.And,quickFilterValues:[],quickFilterLogicOperator:Cx.And}},Px=function(t,n,r,i){var a=e.useCallback((function(){t.current.unstable_registerStrategyProcessor(n,r,i)}),[t,i,r,n]);Bm((function(){a()}));var o=e.useRef(!0);e.useEffect((function(){o.current?o.current=!1:a()}),[a])},Ox=jh(["MUI: The `filterModel` can only contain a single item when the `disableMultipleColumnsFiltering` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),Lx=jh("MUI: The 'id' field is required on `filterModel.items` when you use multiple filters.","error"),Fx=jh(["MUI: One of your filtering item have no `operatorValue` provided.","This property will become required on `@mui/x-data-grid@6.X`."]),Zx=function(e,t,n){var r,a=e.items.length>1;a&&t?(Ox(),r=[e.items[0]]):r=e.items;var o=a&&r.some((function(e){return null==e.id})),s=r.some((function(e){return null==e.operatorValue}));return o&&Lx(),s&&Fx(),s||o?(0,i.Z)({},e,{items:r.map((function(e){return function(e,t){var n=(0,i.Z)({},e);if(null==n.id&&(n.id=Math.round(1e5*Math.random())),null==n.operatorValue){var r=t.current.getColumn(n.columnField);n.operatorValue=r&&r.filterOperators[0].value}return n}(e,n)}))}):e.items!==r?(0,i.Z)({},e,{items:r}):e},Bx=function(e,t,n){return function(r){return(0,i.Z)({},r,{filter:(0,i.Z)({},r.filter,{filterModel:Zx(e,t,n)})})}},zx=function(e,t){var n=function(e,t){var n=e.items,r=e.linkOperator,a=void 0===r?Cx.And:r,o=n.map((function(e){if(!e.columnField||!e.operatorValue)return null;var n,r=t.current.getColumn(e.columnField);if(!r)return null;if(r.valueParser){var a,o=r.valueParser;n=Array.isArray(e.value)?null==(a=e.value)?void 0:a.map((function(e){return o(e)})):o(e.value)}else n=e.value;var s=(0,i.Z)({},e,{value:n}),u=r.filterOperators;if(null==u||!u.length)throw new Error("MUI: No filter operators found for column '".concat(r.field,"'."));var l=u.find((function(e){return e.value===s.operatorValue}));if(!l)throw new Error("MUI: No filter operator found for column '".concat(r.field,"' and operator value '").concat(s.operatorValue,"'."));var c=l.getApplyFilterFn(s,r);return"function"!==typeof c?null:{fn:function(e){var n=t.current.getCellParams(e,s.columnField);return c(n)},item:s}})).filter((function(e){return!!e}));return 0===o.length?null:function(e,t){var n=t?o.filter((function(e){return t(e.item.columnField)})):o;return a===Cx.And?n.every((function(t){return t.fn(e)})):n.some((function(t){return t.fn(e)}))}}(e,t),r=function(e,t){var n=e.quickFilterValues,r=void 0===n?[]:n,i=e.quickFilterLogicOperator,a=void 0===i?Cx.And:i;if(0===r.length)return null;var o=Xh(t),s={};o.forEach((function(e){var n=t.current.getColumn(e),i=null==n?void 0:n.getApplyQuickFilterFn;i&&(s[e]=r.map((function(e){return i(e,n,t)})))}));var u=r.filter((function(e,t){return Object.keys(s).some((function(e){return null!=s[e][t]}))}));return function(e,n){var r={};return Object.keys(s).forEach((function(i){n&&!n(i)||(r[i]=t.current.getCellParams(e,i))})),a===Cx.And?u.every((function(e,t){return Object.keys(s).some((function(e){var n,i;return null!=s[e][t]&&(null==(n=(i=s[e])[t])?void 0:n.call(i,r[e]))}))})):u.some((function(e,t){return Object.keys(s).some((function(e){var n,i;return null!=s[e][t]&&(null==(n=(i=s[e])[t])?void 0:n.call(i,r[e]))}))}))}}(e,t);return null==n&&null==r?null:null==n?r:null==r?n:function(e,t){return n(e,t)&&r(e,t)}},Vx=function(e,t,n){var r,a,o,s,u=null!=(r=null!=(a=t.filterModel)?a:null==(o=t.initialState)||null==(s=o.filter)?void 0:s.filterModel)?r:Rx();return(0,i.Z)({},e,{filter:{filterModel:Zx(u,t.disableMultipleColumnsFiltering,n),visibleRowsLookup:{},filteredDescendantCountLookup:{}}})},jx=function(e,t){var n,r;return t.pagination&&"client"===t.paginationMode?(r=gx(e),n=vx(e)):r=0===(n=Hp(e)).length?null:{firstRowIndex:0,lastRowIndex:n.length-1},{rows:n,range:r}},Wx=function(t,n){var r=jx(t,n);return e.useMemo((function(){return{rows:r.rows,range:r.range}}),[r.rows,r.range])},Ux=function(e){return(0,i.Z)({},e,{focus:{cell:null,columnHeader:null},tabIndex:{cell:null,columnHeader:null}})},Hx="__detail_panel_toggle__",Gx=function(e){return e?0:100},Xx=function(e){return function(t){return(0,i.Z)({},t,{pagination:(0,i.Z)({},t.pagination,{pageSize:e})})}},qx=function(e,t){return t>0&&e>0?Math.ceil(e/t):0},Yx=function(e){return e.pageCount?(0,i.Z)({},e,{page:Math.max(Math.min(e.page,e.pageCount-1),0)}):e},Kx=function(e){return function(t){return(0,i.Z)({},t,{pagination:Yx((0,i.Z)({},t.pagination,{page:e}))})}},Qx=(jh(["MUI: the 'rowCount' prop is undefined while using paginationMode='server'","For more detail, see http://mui.com/components/data-grid/pagination/#basic-implementation"],"error"),function(e,t){var n,r,a,o,s,u,l,c,d;return d=null!=t.pageSize?t.pageSize:null!=(null==(n=t.initialState)||null==(r=n.pagination)?void 0:r.pageSize)?t.initialState.pagination.pageSize:Gx(t.autoPageSize),(0,i.Z)({},e,{pagination:{pageSize:d,page:null!=(a=null!=(o=t.page)?o:null==(s=t.initialState)||null==(u=s.pagination)?void 0:u.page)?a:0,pageCount:qx(null!=(l=t.rowCount)?l:0,d),rowCount:null!=(c=t.rowCount)?c:0}})}),Jx=function(t,n){!function(t,n){var r,a,o=kp(t,"useGridPageSize"),s=rp(t,bp);t.current.unstable_updateControlState({stateId:"pageSize",propModel:n.pageSize,propOnChange:n.onPageSizeChange,stateSelector:mx,changeEvent:"pageSizeChange"});var u=e.useCallback((function(e){e!==mx(t)&&(o.debug("Setting page size to ".concat(e)),t.current.setState(Xx(e)),t.current.forceUpdate())}),[t,o]);mm(t,{setPageSize:u});var l=e.useCallback((function(e){var r,a,o=mx(t);return null!=n.pageSize||null!=(null==(r=n.initialState)||null==(a=r.pagination)?void 0:a.pageSize)||o!==Gx(n.autoPageSize)?(0,i.Z)({},e,{pagination:(0,i.Z)({},e.pagination,{pageSize:o})}):e}),[t,n.pageSize,null==(r=n.initialState)||null==(a=r.pagination)?void 0:a.pageSize,n.autoPageSize]),c=e.useCallback((function(e,n){var r,i=null==(r=n.stateToRestore.pagination)?void 0:r.pageSize;return null!=i&&t.current.setState(Xx(i)),e}),[t]);zm(t,"exportState",l),zm(t,"restoreState",c);var d=e.useCallback((function(){var e=t.current.getRootDimensions();if(n.autoPageSize&&e){var r=Math.floor(e.viewportInnerSize.height/s);t.current.setPageSize(r)}}),[t,n.autoPageSize,s]);_m(t,"viewportInnerSizeChange",d),e.useEffect((function(){null==n.pageSize||n.autoPageSize||t.current.setPageSize(n.pageSize)}),[t,n.autoPageSize,n.pageSize]),e.useEffect((function(){d()}),[d])}(t,n),function(t,n){var r,a,o=kp(t,"useGridPage"),s=rp(t,Qp);t.current.unstable_updateControlState({stateId:"page",propModel:n.page,propOnChange:n.onPageChange,stateSelector:px,changeEvent:"pageChange"});var u=e.useCallback((function(e){o.debug("Setting page to ".concat(e)),t.current.setState(Kx(e)),t.current.forceUpdate()}),[t,o]);mm(t,{setPage:u});var l=e.useCallback((function(e){var r,a,o=px(t);return null!=n.page||null!=(null==(r=n.initialState)||null==(a=r.pagination)?void 0:a.page)||0!==o?(0,i.Z)({},e,{pagination:(0,i.Z)({},e.pagination,{page:o})}):e}),[t,n.page,null==(r=n.initialState)||null==(a=r.pagination)?void 0:a.page]),c=e.useCallback((function(e,n){var r,i,a=null!=(r=null==(i=n.stateToRestore.pagination)?void 0:i.page)?r:px(t);return t.current.setState(Kx(a)),e}),[t]);zm(t,"exportState",l),zm(t,"restoreState",c),_m(t,"pageSizeChange",(function(e){t.current.setState((function(t){var n=qx(t.pagination.rowCount,e);return(0,i.Z)({},t,{pagination:Yx((0,i.Z)({},t.pagination,{pageCount:n,page:t.pagination.page}))})})),t.current.forceUpdate()})),_m(t,"pageChange",(function(){return t.current.scrollToIndexes({rowIndex:px(t)*mx(t)})})),e.useEffect((function(){}),[n.rowCount,n.paginationMode]),e.useEffect((function(){t.current.setState((function(e){var t=void 0!==n.rowCount?n.rowCount:s,r=qx(t,e.pagination.pageSize),a=null==n.page?e.pagination.page:n.page;return(0,i.Z)({},e,{pagination:Yx((0,i.Z)({},e.pagination,{page:a,rowCount:t,pageCount:r}))})})),t.current.forceUpdate()}),[s,n.rowCount,n.page,n.paginationMode,t])}(t,n)},$x=function(e){return e.preferencePanel},eb=function(e,t){var n,r;return(0,i.Z)({},e,{preferencePanel:null!=(n=null==(r=t.initialState)?void 0:r.preferencePanel)?n:{open:!1}})},tb=function(e){return e.editRows};function nb(e){return"function"===typeof e.then}var rb,ib,ab=function(e){return(0,i.Z)({},e,{editRows:{}})};function ob(t,n){var r,a=kp(t,"useGridEditRows");!function(t,n){var r,a=kp(t,"useGridEditRows"),o=function(e){return function(){n.editMode===ty.Cell&&e.apply(void 0,arguments)}},s=e.useCallback((function(e,n,r){t.current.getCellMode(e,n)!==r&&(a.debug("Switching cell id: ".concat(e," field: ").concat(n," to mode: ").concat(r)),t.current.setState((function(a){var o=(0,i.Z)({},a.editRows);return o[e]=(0,i.Z)({},o[e]),r===ny.Edit?o[e][n]={value:t.current.getCellValue(e,n)}:(delete o[e][n],Object.keys(o[e]).length||delete o[e]),(0,i.Z)({},a,{editRows:o})})),t.current.forceUpdate(),t.current.publishEvent("cellModeChange",t.current.getCellParams(e,n)))}),[t,a]),u=e.useCallback((function(e,n){var r=tb(t.current.state);return r[e]&&r[e][n]?ny.Edit:ny.View}),[t]),l=e.useCallback((function(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.id,s=e.field;t.current.unstable_runPendingEditCellValueMutation(o,s);var u=t.current.getEditRowsModel();if(!u[o]||!u[o][s])throw new Error("MUI: Cell at id: ".concat(o," and field: ").concat(s," is not in edit mode."));var l=u[o][s],c=t.current.getColumn(s),d=t.current.getRow(o);if(null!=(r=n.experimentalFeatures)&&r.preventCommitWhileValidating){var f=u[o][s];if(f.isValidating||f.error)return!1}var h=(0,i.Z)({},e,{value:l.value}),p=!!l.error;if(!p&&"function"===typeof c.preProcessEditCellProps){var m=c.preProcessEditCellProps({id:o,row:d,props:l});if(nb(m))return m.then((function(e){return t.current.unstable_setEditCellProps({id:o,field:s,props:e}),!e.error&&(t.current.publishEvent("cellEditCommit",h,a),!0)}));t.current.unstable_setEditCellProps({id:o,field:s,props:m}),p=!!m.error}return!p&&(t.current.publishEvent("cellEditCommit",h,a),!0)}),[t,null==(r=n.experimentalFeatures)?void 0:r.preventCommitWhileValidating]),c=e.useCallback((function(e){var n=t.current.getColumn(e.field),r=t.current.getRow(e.id);return new Promise((function(a){var o={value:e.value},s=t.current.getEditRowsModel()[e.id][e.field];if("function"!==typeof n.preProcessEditCellProps)return t.current.unstable_setEditCellProps((0,i.Z)({},e,{props:o})),void a(!0);o=t.current.unstable_setEditCellProps((0,i.Z)({},e,{props:(0,i.Z)({},s,{isValidating:!0})})),Promise.resolve(n.preProcessEditCellProps({id:e.id,row:r,props:(0,i.Z)({},o,{value:t.current.unstable_parseValue(e.id,e.field,e.value)})})).then((function(n){t.current.unstable_setEditCellProps((0,i.Z)({},e,{props:(0,i.Z)({},n,{isValidating:!1})})),a(!n.error)}))}))}),[t]);mm(t,{setCellMode:s,getCellMode:u,commitCellChange:l,unstable_setCellEditingEditCellValue:c});var d=e.useCallback(function(){var e=(0,jm.Z)(Um().mark((function e(n,r){var i,a,o,s,u,l;return Um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.id,a=n.field,o=n.cellMode,n.isEditable){e.next=3;break}return e.abrupt("return");case 3:if(s=o===ny.Edit,u=r.ctrlKey||r.metaKey||r.altKey,s||!py(r.key)||u||" "===r.key&&r.shiftKey||t.current.publishEvent("cellEditStart",n,r),!s&&ly(r.key)&&(t.current.setEditCellValue({id:i,field:a,value:""}),t.current.commitCellChange({id:i,field:a},r),t.current.publishEvent("cellEditStop",n,r)),!s||!gy(r.key)){e.next=14;break}return l={id:i,field:a},e.next=11,t.current.commitCellChange(l,r);case 11:if(e.sent){e.next=14;break}return e.abrupt("return");case 14:s&&my(r.key)&&t.current.publishEvent("cellEditStop",n,r);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),f=e.useCallback((function(e,n){e.isEditable&&t.current.publishEvent("cellEditStart",e,n)}),[t]),h=function(){var e=(0,jm.Z)(Um().mark((function e(n,r){return Um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.cellMode!==ny.View){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.current.commitCellChange(n,r);case 4:t.current.publishEvent("cellEditStop",n,r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=(0,Xt.Z)((function(e,t){h(e,t)})),m=(0,Xt.Z)((function(){var e=ix(t);if(e){var n=t.current.getCellParams(e.id,e.field);h(n,{})}})),g=e.useCallback((function(e,n){e.isEditable&&(t.current.setCellMode(e.id,e.field,ny.Edit),yy(n)&&dy(n.key)&&t.current.unstable_setEditCellProps({id:e.id,field:e.field,props:{value:""}}))}),[t]),y=e.useCallback((function(e,n){t.current.setCellMode(e.id,e.field,ny.View),yy(n)&&(gy(n.key)?t.current.publishEvent("cellNavigationKeyDown",e,n):("Escape"===n.key||ly(n.key))&&t.current.setCellFocus(e.id,e.field))}),[t]),x=e.useCallback((function(e){var n=e.id,r=e.field,o=t.current.getEditRowsModel()[n][r].value;a.debug("Setting cell id: ".concat(n," field: ").concat(r," to value: ").concat(null==o?void 0:o.toString()));var s=t.current.getRow(n);if(s){var u=t.current.getColumn(e.field),l=(0,i.Z)({},s,(0,v.Z)({},r,o));u.valueSetter&&(l=u.valueSetter({row:s,value:o})),t.current.updateRows([l])}}),[t,a]),b=e.useCallback((function(e){var n=t.current.getRow(e.id),r=t.current.getColumn(e.field),a=r.preProcessEditCellProps?r.preProcessEditCellProps({id:e.id,row:n,props:e.props}):e.props;nb(a)?a.then((function(n){t.current.unstable_setEditCellProps((0,i.Z)({},e,{props:n}))})):t.current.unstable_setEditCellProps((0,i.Z)({},e,{props:a}))}),[t]);_m(t,"cellKeyDown",o(d)),_m(t,"cellDoubleClick",o(f)),_m(t,"cellFocusOut",o(p)),_m(t,"columnHeaderDragStart",o(m)),_m(t,"cellEditStart",o(g)),_m(t,"cellEditStop",o(y)),_m(t,"cellEditCommit",o(x)),_m(t,"editCellPropsChange",o(b)),Cm(t,"cellEditCommit",n.onCellEditCommit),Cm(t,"cellEditStart",n.onCellEditStart),Cm(t,"cellEditStop",n.onCellEditStop)}(t,n),function(t,n){var r,a,o=e.useRef(null),s=e.useRef(null),u=rp(t,Yh),l=function(e){return function(){n.editMode===ty.Row&&e.apply(void 0,arguments)}},c=e.useCallback((function(e,n){n!==t.current.getRowMode(e)&&(t.current.setState((function(r){var a=(0,i.Z)({},r.editRows);return n===ry.Edit?(a[e]={},u.forEach((function(n){var r=t.current.getCellParams(e,n.field);r.isEditable&&(a[e][n.field]={value:r.value})}))):delete a[e],(0,i.Z)({},r,{editRows:a})})),t.current.forceUpdate())}),[t,u]),d=e.useCallback((function(e){return n.editMode===ty.Cell?ry.View:tb(t.current.state)[e]?ry.Edit:ry.View}),[t,n.editMode]),f=e.useCallback((function(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.editMode===ty.Cell)throw new Error("MUI: You can't commit changes when the edit mode is 'cell'.");t.current.unstable_runPendingEditCellValueMutation(e);var a=t.current.getEditRowsModel()[e];if(!a)throw new Error("MUI: Row at id: ".concat(e," is not being edited."));if(null!=(r=n.experimentalFeatures)&&r.preventCommitWhileValidating&&!Object.keys(a).reduce((function(e,t){return e&&!a[t].isValidating&&!a[t].error}),!0))return!1;if(Object.values(a).some((function(e){return!!e.error})))return!1;var o=Object.keys(a).filter((function(e){return"function"===typeof t.current.getColumn(e).preProcessEditCellProps}));if(o.length>0){var s=t.current.getRow(e),u=o.map(function(){var n=(0,jm.Z)(Um().mark((function n(r){var i,o;return Um().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.current.getColumn(r),n.next=3,Promise.resolve(i.preProcessEditCellProps({id:e,row:s,props:a[r]}));case 3:return o=n.sent,t.current.unstable_setEditCellProps({id:e,field:r,props:o}),n.abrupt("return",o.error);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());return Promise.all(u).then((function(n){return!n.some((function(e){return!!e}))&&(t.current.publishEvent("rowEditCommit",e,i),!0)}))}return t.current.publishEvent("rowEditCommit",e,i),!0}),[t,n.editMode,null==(r=n.experimentalFeatures)?void 0:r.preventCommitWhileValidating]),h=e.useCallback((function(e){var n=t.current.getEditRowsModel()[e.id],r=t.current.getRow(e.id),a=!0;return new Promise((function(o){Object.keys(n).forEach(function(){var o=(0,jm.Z)(Um().mark((function o(s){var u,l;return Um().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(u=t.current.getColumn(s),l=s===e.field?{value:e.value}:n[s],l=t.current.unstable_setEditCellProps({id:e.id,field:s,props:(0,i.Z)({},l,{isValidating:!0})}),!u.preProcessEditCellProps){o.next=7;break}return o.next=6,Promise.resolve(u.preProcessEditCellProps({id:e.id,row:r,props:(0,i.Z)({},l,{value:s===e.field?t.current.unstable_parseValue(e.id,s,e.value):l.value})}));case 6:l=o.sent;case 7:l.error&&(a=!1),t.current.unstable_setEditCellProps({id:e.id,field:s,props:(0,i.Z)({},l,{isValidating:!1})});case 9:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()),o(a)}))}),[t]);mm(t,{setRowMode:c,getRowMode:d,commitRowChange:f,unstable_setRowEditingEditCellValue:h});var p=e.useCallback(function(){var e=(0,jm.Z)(Um().mark((function e(r,i){var a,o,s,u;return Um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.cellMode,r.isEditable){e.next=3;break}return e.abrupt("return");case 3:if(o=a===ny.Edit,s=t.current.getRowParams(r.id),!o){e.next=18;break}if("Enter"!==i.key){e.next=15;break}return e.next=9,t.current.commitRowChange(r.id);case 9:if(e.sent||null==(u=n.experimentalFeatures)||!u.preventCommitWhileValidating){e.next=12;break}return e.abrupt("return");case 12:t.current.publishEvent("rowEditStop",s,i),e.next=16;break;case 15:"Escape"===i.key&&t.current.publishEvent("rowEditStop",s,i);case 16:e.next=19;break;case 18:"Enter"===i.key&&t.current.publishEvent("rowEditStart",s,i);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t,null==(a=n.experimentalFeatures)?void 0:a.preventCommitWhileValidating]),m=e.useCallback((function(e,n){if(e.isEditable){var r=t.current.getRowParams(e.id);t.current.publishEvent("rowEditStart",r,n)}}),[t]),g=e.useCallback((function(e){var n=t.current.getRow(e.id),r=t.current.getEditRowsModel()[e.id];Object.keys(r).forEach(function(){var i=(0,jm.Z)(Um().mark((function i(a){var o,s,u;return Um().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(o=t.current.getColumn(a)).preProcessEditCellProps){i.next=9;break}return s=a===e.field?e.props:r[a],i.next=5,Promise.resolve(o.preProcessEditCellProps({id:e.id,row:n,props:s}));case 5:u=i.sent,t.current.unstable_setEditCellProps({id:e.id,field:a,props:u}),i.next=10;break;case 9:a===e.field&&t.current.unstable_setEditCellProps(e);case 10:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}())}),[t]),v=e.useCallback((function(e){t.current.setRowMode(e.id,ry.Edit)}),[t]),y=e.useCallback((function(e,n){t.current.setRowMode(e.id,ry.View),"Enter"===n.key&&t.current.publishEvent("cellNavigationKeyDown",e,n)}),[t]),x=e.useCallback((function(e){var n=t.current.getEditRowsModel()[e];if(!n)throw new Error("MUI: Row at id: ".concat(e," is not being edited."));var r=t.current.getRow(e);if(r){var a=(0,i.Z)({},r);Object.keys(n).forEach((function(e){var r=t.current.getColumn(e),i=n[e].value;r.valueSetter?a=r.valueSetter({row:a,value:i}):a[e]=i})),t.current.updateRows([a])}}),[t]),b=e.useCallback((function(e){s.current=e}),[]),w=function(){var e=(0,jm.Z)(Um().mark((function e(n,r){return Um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.cellMode!==ny.View){e.next=2;break}return e.abrupt("return");case 2:s.current=null,o.current=setTimeout((0,jm.Z)(Um().mark((function e(){var i,a;return Um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null==(i=s.current)?void 0:i.id)===n.id){e.next=5;break}return e.next=3,t.current.commitRowChange(n.id,r);case 3:a=t.current.getRowParams(n.id),t.current.publishEvent("rowEditStop",a,r);case 5:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=(0,Xt.Z)((function(e,t){w(e,t)})),S=(0,Xt.Z)((function(){var e=ix(t);if(e){var n=t.current.getCellParams(e.id,e.field);w(n,{})}}));_m(t,"cellKeyDown",l(p)),_m(t,"cellDoubleClick",l(m)),_m(t,"editCellPropsChange",l(g)),_m(t,"rowEditStart",l(v)),_m(t,"rowEditStop",l(y)),_m(t,"rowEditCommit",l(x)),_m(t,"cellFocusIn",l(b)),_m(t,"cellFocusOut",l(_)),_m(t,"columnHeaderDragStart",l(S)),Cm(t,"rowEditCommit",n.onRowEditCommit),Cm(t,"rowEditStart",n.onRowEditStart),Cm(t,"rowEditStop",n.onRowEditStop)}(t,n);var o=e.useRef({});t.current.unstable_updateControlState({stateId:"editRows",propModel:n.editRowsModel,propOnChange:n.onEditRowsModelChange,stateSelector:tb,changeEvent:"editRowsModelChange"});var s=e.useCallback((function(e){return!e.rowNode.isAutoGenerated&&!!e.colDef.editable&&!!e.colDef.renderEditCell&&(!n.isCellEditable||n.isCellEditable(e))}),[n.isCellEditable]),u=function(e,t,n,r){if(n){if(o.current[e]||(o.current[e]={}),o.current[e][t]){var i=(0,g.Z)(o.current[e][t],1)[0];clearTimeout(i)}var a=setTimeout((function(){r(),delete o.current[e][t]}),n);o.current[e][t]=[a,function(){r();var n=(0,g.Z)(o.current[e][t],1)[0];clearTimeout(n),delete o.current[e][t]}]}else r()},l=e.useCallback((function(e,t){if(o.current[e])if(t){if(o.current[e][t]){(0,(0,g.Z)(o.current[e][t],2)[1])()}}else Object.keys(o.current[e]).forEach((function(t){(0,(0,g.Z)(o.current[e][t],2)[1])()}))}),[]),c=e.useCallback((function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(e.id,e.field,e.debounceMs,(function(){var i;if(null!=(i=n.experimentalFeatures)&&i.preventCommitWhileValidating)return"row"===n.editMode?t.current.unstable_setRowEditingEditCellValue(e):t.current.unstable_setCellEditingEditCellValue(e);var a={id:e.id,field:e.field,props:{value:e.value}};return t.current.publishEvent("editCellPropsChange",a,r)}))}),[t,n.editMode,null==(r=n.experimentalFeatures)?void 0:r.preventCommitWhileValidating]),d=e.useCallback((function(e,n,r){var i=t.current.getColumn(n);return i.valueParser?i.valueParser(r,t.current.getCellParams(e,n)):r}),[t]),f=e.useCallback((function(e){var n=e.id,r=e.field,o=e.props;return a.debug("Setting cell props on id: ".concat(n," field: ").concat(r)),t.current.setState((function(e){var t=(0,i.Z)({},e.editRows);return t[n]=(0,i.Z)({},e.editRows[n]),t[n][r]=(0,i.Z)({},o,{value:d(n,r,o.value)}),(0,i.Z)({},e,{editRows:t})})),t.current.forceUpdate(),tb(t.current.state)[n][r]}),[t,a,d]),h=e.useCallback((function(e){tb(t.current.state)!==e&&(a.debug("Setting editRows model"),t.current.setState((function(t){return(0,i.Z)({},t,{editRows:e})})),t.current.forceUpdate())}),[t,a]),p=e.useCallback((function(){return tb(t.current.state)}),[t]),m=e.useCallback((function(e,t){var n=t.detail>1;e.isEditable&&e.cellMode===ny.View&&n&&t.preventDefault()}),[]);_m(t,"cellMouseDown",m),Cm(t,"editCellPropsChange",n.onEditCellPropsChange),mm(t,{isCellEditable:s,setEditRowsModel:h,getEditRowsModel:p,setEditCellValue:c,unstable_setEditCellProps:f,unstable_parseValue:d,unstable_runPendingEditCellValueMutation:l}),e.useEffect((function(){void 0!==n.editRowsModel&&t.current.setEditRowsModel(n.editRowsModel)}),[t,n.editRowsModel])}!function(e){e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown"}(rb||(rb={})),function(e){e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown"}(ib||(ib={}));var sb,ub,lb=["id","field"],cb=["id","field"],db=jh(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#persistence."],"error");!function(e){e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown"}(sb||(sb={})),function(e){e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown"}(ub||(ub={}));var fb=["id"],hb=["id"],pb=jh(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#persistence."],"error"),mb=function(e){return(0,i.Z)({},e,{editRows:{}})},gb=function(t,n){!function(t,n){var r=e.useState({}),a=(0,g.Z)(r,2),o=a[0],s=a[1],u=e.useRef({}),l=n.processRowUpdate,c=n.onProcessRowUpdateError,d=n.cellModesModel,f=n.onCellModesModelChange,h=n.signature,p=function(e){return function(){n.editMode===ty.Cell&&e.apply(void 0,arguments)}},m=e.useCallback((function(e,n){var r=t.current.getCellParams(e,n);if(!t.current.isCellEditable(r))throw new Error("MUI: The cell with id=".concat(e," and field=").concat(n," is not editable."))}),[t]),y=e.useCallback((function(e,n,r){if(t.current.getCellMode(e,n)!==r)throw new Error("MUI: The cell with id=".concat(e," and field=").concat(n," is not in ").concat(r," mode."))}),[t]),x=e.useCallback((function(e,n){if(e.isEditable&&e.cellMode!==ny.Edit){var r=(0,i.Z)({},e,{reason:rb.cellDoubleClick});t.current.publishEvent("cellEditStart",r,n)}}),[t]),b=e.useCallback((function(e,n){if(e.cellMode!==ny.View){var r=(0,i.Z)({},e,{reason:ib.cellFocusOut});t.current.publishEvent("cellEditStop",r,n)}}),[t]),w=e.useCallback((function(e,n){var r;if(e.cellMode===ny.Edit){if("Escape"===n.key?r=ib.escapeKeyDown:"Enter"===n.key?r=ib.enterKeyDown:"Tab"===n.key&&(r=n.shiftKey?ib.shiftTabKeyDown:ib.tabKeyDown,n.preventDefault()),r){var a=(0,i.Z)({},e,{reason:r});t.current.publishEvent("cellEditStop",a,n)}}else if(e.isEditable){var o;if(dy(n.key)){if(n.shiftKey||n.ctrlKey||n.metaKey||n.altKey)return;o=rb.printableKeyDown}else"Enter"===n.key?o=rb.enterKeyDown:"Delete"===n.key&&(o=rb.deleteKeyDown);if(o){var s=(0,i.Z)({},e,{reason:o});t.current.publishEvent("cellEditStart",s,n)}}}),[t]),_=e.useCallback((function(e){var n=e.id,r=e.field,i=e.reason,a={id:n,field:r};i!==rb.deleteKeyDown&&i!==rb.printableKeyDown||(a.deleteValue=!0),t.current.startCellEditMode(a)}),[t]),C=e.useCallback((function(e){var n,r=e.id,i=e.field,a=e.reason;a===ib.enterKeyDown?n="below":a===ib.tabKeyDown?n="right":a===ib.shiftTabKeyDown&&(n="left");var o="escapeKeyDown"===a;tb(t.current.state)[r][i].isProcessingProps&&(o=!0),t.current.stopCellEditMode({id:r,field:i,ignoreModifications:o,cellToFocusAfter:n})}),[t]);_m(t,"cellDoubleClick",p(x)),_m(t,"cellFocusOut",p(b)),_m(t,"cellKeyDown",p(w)),_m(t,"cellEditStart",p(_)),_m(t,"cellEditStop",p(C)),Cm(t,"cellEditStart",n.onCellEditStart),Cm(t,"cellEditStop",n.onCellEditStop);var k=e.useCallback((function(e,n){var r=tb(t.current.state);return r[e]&&r[e][n]?ny.Edit:ny.View}),[t]),D=e.useCallback((function(e){var r=e!==n.cellModesModel;if(f&&r){var i=h===gm.DataGridPro?{api:t.current}:{};f(e,i)}n.cellModesModel&&r||(s(e),t.current.publishEvent("cellModesModelChange",e))}),[t,f,n.cellModesModel,h]),T=e.useCallback((function(e,t,n){var r=(0,i.Z)({},o);if(null!==n)r[e]=(0,i.Z)({},r[e],(0,v.Z)({},t,(0,i.Z)({},n)));else{var a=o[e],s=(0,S.Z)(a,[t].map(Am));r[e]=s,0===Object.keys(r[e]).length&&delete r[e]}D(r)}),[o,D]),I=e.useCallback((function(e,n,r){t.current.setState((function(t){var a=(0,i.Z)({},t.editRows);return null!==r?a[e]=(0,i.Z)({},a[e],(0,v.Z)({},n,(0,i.Z)({},r))):(delete a[e][n],0===Object.keys(a[e]).length&&delete a[e]),(0,i.Z)({},t,{editRows:a})})),t.current.forceUpdate()}),[t]),A=e.useCallback((function(e){var t=e.id,n=e.field,r=(0,S.Z)(e,lb);m(t,n),y(t,n,ny.View),T(t,n,(0,i.Z)({mode:ny.Edit},r))}),[m,y,T]),M=e.useCallback((function(e){var n=e.id,r=e.field,i={value:e.deleteValue?"":t.current.getCellValue(n,r),error:!1,isProcessingProps:!1};I(n,r,i),t.current.setCellFocus(n,r)}),[t,I]),E=e.useCallback((function(e){var t=e.id,n=e.field,r=(0,S.Z)(e,cb);y(t,n,ny.Edit),T(t,n,(0,i.Z)({mode:ny.View},r))}),[y,T]),N=e.useCallback(function(){var e=(0,jm.Z)(Um().mark((function e(n){var r,i,a,o,s,u,d,f,h,p,m,g,v;return Um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.id,i=n.field,a=n.ignoreModifications,o=n.cellToFocusAfter,s=void 0===o?"none":o,y(r,i,ny.Edit),t.current.unstable_runPendingEditCellValueMutation(r,i),u=function(){"none"!==s&&t.current.unstable_moveFocusToRelativeCell(r,i,s),I(r,i,null),T(r,i,null)},!a){e.next=7;break}return u(),e.abrupt("return");case 7:if(d=tb(t.current.state),f=d[r][i],h=f.error,p=f.isProcessingProps,!h&&!p){e.next=11;break}return e.abrupt("return");case 11:if(m=t.current.unstable_getRowWithUpdatedValuesFromCellEditing(r,i),l){g=function(e){c?c(e):db()};try{v=t.current.getRow(r),Promise.resolve(l(m,v)).then((function(e){t.current.updateRows([e]),u()})).catch(g)}catch(x){g(x)}}else t.current.updateRows([m]),u();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,c,l,y,T,I]),R=e.useCallback(function(){var e=(0,jm.Z)(Um().mark((function e(n){var r,a,o,s,u,l,c,d,f;return Um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.id,a=n.field,o=n.value,m(r,a),y(r,a,ny.Edit),s=t.current.getColumn(a),u=t.current.getRow(r),l=o,s.valueParser&&(l=s.valueParser(o,t.current.getCellParams(r,a))),c=tb(t.current.state),d=(0,i.Z)({},c[r][a],{value:l}),!s.preProcessEditCellProps){e.next=16;break}return f=o!==c[r][a].value,d=(0,i.Z)({},d,{isProcessingProps:!0}),I(r,a,d),e.next=15,Promise.resolve(s.preProcessEditCellProps({id:r,row:u,props:d,hasChanged:f}));case 15:d=e.sent;case 16:if(t.current.getCellMode(r,a)!==ny.View){e.next=18;break}return e.abrupt("return",!1);case 18:return c=tb(t.current.state),(d=(0,i.Z)({},d,{isProcessingProps:!1})).value=s.preProcessEditCellProps?c[r][a].value:l,I(r,a,d),c=tb(t.current.state),e.abrupt("return",!c[r][a].error);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,m,y,I]),P=e.useCallback((function(e,n){var r=t.current.getColumn(n),a=tb(t.current.state)[e][n].value,o=t.current.getRow(e);return r.valueSetter?r.valueSetter({value:a,row:o}):(0,i.Z)({},o,(0,v.Z)({},n,a))}),[t]);mm(t,{getCellMode:k,startCellEditMode:A,stopCellEditMode:E,unstable_setCellEditingEditCellValue:R,unstable_getRowWithUpdatedValuesFromCellEditing:P}),e.useEffect((function(){d&&D(d)}),[d,D]),e.useEffect((function(){var e=hp(t);Object.entries(o).forEach((function(t){var n=(0,g.Z)(t,2),r=n[0],a=n[1];Object.entries(a).forEach((function(t){var n,a,o,s=(0,g.Z)(t,2),l=s[0],c=s[1],d=(null==(n=u.current[r])||null==(a=n[l])?void 0:a.mode)||ny.View,f=null!=(o=e[r])?o:r;c.mode===ny.Edit&&d===ny.View?M((0,i.Z)({id:f,field:l},c)):c.mode===ny.View&&d===ny.Edit&&N((0,i.Z)({id:f,field:l},c))}))})),u.current=o}),[t,o,M,N])}(t,n),function(t,n){var r=e.useState({}),a=(0,g.Z)(r,2),o=a[0],s=a[1],u=e.useRef({}),l=e.useRef(null),c=e.useRef(null),d=n.processRowUpdate,f=n.onProcessRowUpdateError,h=n.rowModesModel,p=n.onRowModesModelChange,m=n.signature,y=function(e){return function(){n.editMode===ty.Row&&e.apply(void 0,arguments)}},x=e.useCallback((function(e,n){var r=t.current.getCellParams(e,n);if(!t.current.isCellEditable(r))throw new Error("MUI: The cell with id=".concat(e," and field=").concat(n," is not editable."))}),[t]),b=e.useCallback((function(e,n){if(t.current.getRowMode(e)!==n)throw new Error("MUI: The row with id=".concat(e," is not in ").concat(n," mode."))}),[t]),w=e.useCallback((function(e,n){if(e.isEditable&&t.current.getRowMode(e.id)!==ry.Edit){var r=t.current.getRowParams(e.id),a=(0,i.Z)({},r,{field:e.field,reason:sb.cellDoubleClick});t.current.publishEvent("rowEditStart",a,n)}}),[t]),_=e.useCallback((function(e){c.current=e}),[]),C=e.useCallback((function(e,n){e.isEditable&&t.current.getRowMode(e.id)!==ry.View&&(c.current=null,l.current=setTimeout((function(){var r;if(l.current=null,(null==(r=c.current)?void 0:r.id)!==e.id){if(!t.current.getRow(e.id))return;var a=t.current.getRowParams(e.id),o=(0,i.Z)({},a,{field:e.field,reason:ub.rowFocusOut});t.current.publishEvent("rowEditStop",o,n)}})))}),[t]);e.useEffect((function(){return function(){clearTimeout(l.current)}}),[]);var k=e.useCallback((function(e,n){if(e.cellMode===ry.Edit){var r;if("Escape"===n.key)r=ub.escapeKeyDown;else if("Enter"===n.key)r=ub.enterKeyDown;else if("Tab"===n.key){var a=Xh(t).filter((function(n){return t.current.isCellEditable(t.current.getCellParams(e.id,n))}));n.shiftKey?e.field===a[0]&&(r=ub.shiftTabKeyDown):e.field===a[a.length-1]&&(r=ub.tabKeyDown),r&&n.preventDefault()}if(r){var o=t.current.getRowParams(e.id),s=(0,i.Z)({},o,{reason:r,field:e.field});t.current.publishEvent("rowEditStop",s,n)}}else if(e.isEditable){var u;if(dy(n.key)){if(n.shiftKey||n.ctrlKey||n.metaKey||n.altKey)return;u=sb.printableKeyDown}else"Enter"===n.key?u=sb.enterKeyDown:"Delete"===n.key&&(u=sb.deleteKeyDown);if(u){var l=t.current.getRowParams(e.id),c=(0,i.Z)({},l,{field:e.field,reason:u});t.current.publishEvent("rowEditStart",c,n)}}}),[t]),D=e.useCallback((function(e){var n=e.id,r=e.field,i=e.reason,a={id:n,fieldToFocus:r};i!==sb.deleteKeyDown&&i!==sb.printableKeyDown||(a.deleteValue=!!r),t.current.startRowEditMode(a)}),[t]),T=e.useCallback((function(e){var n,r=e.id,i=e.reason,a=e.field;t.current.unstable_runPendingEditCellValueMutation(r),i===ub.enterKeyDown?n="below":i===ub.tabKeyDown?n="right":i===ub.shiftTabKeyDown&&(n="left");var o="escapeKeyDown"===i,s=tb(t.current.state);o||(o=Object.values(s[r]).some((function(e){return e.isProcessingProps}))),t.current.stopRowEditMode({id:r,ignoreModifications:o,field:a,cellToFocusAfter:n})}),[t]);_m(t,"cellDoubleClick",y(w)),_m(t,"cellFocusIn",y(_)),_m(t,"cellFocusOut",y(C)),_m(t,"cellKeyDown",y(k)),_m(t,"rowEditStart",y(D)),_m(t,"rowEditStop",y(T)),Cm(t,"rowEditStart",n.onRowEditStart),Cm(t,"rowEditStop",n.onRowEditStop);var I=e.useCallback((function(e){if(n.editMode===ty.Cell)return ry.View;var r=tb(t.current.state);return r[e]&&Object.keys(r[e]).length>0?ry.Edit:ry.View}),[t,n.editMode]),A=e.useCallback((function(e){var r=e!==n.rowModesModel;if(p&&r){var i=m===gm.DataGridPro?{api:t.current}:{};p(e,i)}n.rowModesModel&&r||(s(e),t.current.publishEvent("rowModesModelChange",e))}),[t,p,n.rowModesModel,m]),M=e.useCallback((function(e,t){var n=(0,i.Z)({},o);null!==t?n[e]=(0,i.Z)({},t):delete n[e],A(n)}),[o,A]),E=e.useCallback((function(e,n){t.current.setState((function(t){var r=(0,i.Z)({},t.editRows);return null!==n?r[e]=n:delete r[e],(0,i.Z)({},t,{editRows:r})})),t.current.forceUpdate()}),[t]),N=e.useCallback((function(e,n,r){t.current.setState((function(t){var a=(0,i.Z)({},t.editRows);return null!==r?a[e]=(0,i.Z)({},a[e],(0,v.Z)({},n,(0,i.Z)({},r))):(delete a[e][n],0===Object.keys(a[e]).length&&delete a[e]),(0,i.Z)({},t,{editRows:a})})),t.current.forceUpdate()}),[t]),R=e.useCallback((function(e){var t=e.id,n=(0,S.Z)(e,fb);b(t,ry.View),M(t,(0,i.Z)({mode:ry.Edit},n))}),[b,M]),P=e.useCallback((function(e){var n=e.id,r=e.fieldToFocus,i=e.deleteValue,a=Xh(t).reduce((function(e,a){if(!t.current.getCellParams(n,a).isEditable)return e;var o=i&&r===a;return e[a]={value:o?"":t.current.getCellValue(n,a),error:!1,isProcessingProps:!1},e}),{});E(n,a),r&&t.current.setCellFocus(n,r)}),[t,E]),O=e.useCallback((function(e){var t=e.id,n=(0,S.Z)(e,hb);b(t,ry.Edit),M(t,(0,i.Z)({mode:ry.View},n))}),[b,M]),L=e.useCallback((function(e){var n=e.id,r=e.ignoreModifications,i=e.field,a=e.cellToFocusAfter,o=void 0===a?"none":a;t.current.unstable_runPendingEditCellValueMutation(n);var s=function(){"none"!==o&&i&&t.current.unstable_moveFocusToRelativeCell(n,i,o),E(n,null),M(n,null)};if(r)s();else{var u=tb(t.current.state),l=t.current.getRow(n);if(!Object.values(u[n]).some((function(e){return e.isProcessingProps}))&&!Object.values(u[n]).some((function(e){return e.error}))){var c=t.current.unstable_getRowWithUpdatedValuesFromRowEditing(n);if(d){var h=function(e){f?f(e):pb()};try{Promise.resolve(d(c,l)).then((function(e){t.current.updateRows([e]),s()})).catch(h)}catch(p){h(p)}}else t.current.updateRows([c]),s()}}}),[t,f,d,E,M]),F=e.useCallback((function(e){var n=e.id,r=e.field,a=e.value;x(n,r);var o=t.current.getColumn(r),s=t.current.getRow(n),u=a;o.valueParser&&(u=o.valueParser(a,t.current.getCellParams(n,r)));var l=tb(t.current.state),c=(0,i.Z)({},l[n][r],{value:u});return o.preProcessEditCellProps||N(n,r,c),new Promise((function(e){var a=[];if(o.preProcessEditCellProps){var d=c.value!==l[n][r].value;c=(0,i.Z)({},c,{isProcessingProps:!0}),N(n,r,c);var f=l[n],h=(0,S.Z)(f,[r].map(Am)),p=Promise.resolve(o.preProcessEditCellProps({id:n,row:s,props:c,hasChanged:d,otherFieldsProps:h})).then((function(a){t.current.getRowMode(n)!==ry.View?(l=tb(t.current.state),(a=(0,i.Z)({},a,{isProcessingProps:!1})).value=o.preProcessEditCellProps?l[n][r].value:u,N(n,r,a)):e(!1)}));a.push(p)}Object.entries(l[n]).forEach((function(o){var u=(0,g.Z)(o,2),c=u[0],d=u[1];if(c!==r){var f=t.current.getColumn(c);if(f.preProcessEditCellProps){d=(0,i.Z)({},d,{isProcessingProps:!0}),N(n,c,d);var h=(l=tb(t.current.state))[n],p=(0,S.Z)(h,[c].map(Am)),m=Promise.resolve(f.preProcessEditCellProps({id:n,row:s,props:d,hasChanged:!1,otherFieldsProps:p})).then((function(r){t.current.getRowMode(n)!==ry.View?(r=(0,i.Z)({},r,{isProcessingProps:!1}),N(n,c,r)):e(!1)}));a.push(m)}}})),Promise.all(a).then((function(){t.current.getRowMode(n)===ry.Edit?(l=tb(t.current.state),e(!l[n][r].error)):e(!1)}))}))}),[t,x,N]),Z=e.useCallback((function(e){var n=tb(t.current.state),r=t.current.getRow(e),a=(0,i.Z)({},r);return Object.entries(n[e]).forEach((function(e){var n=(0,g.Z)(e,2),r=n[0],i=n[1],o=t.current.getColumn(r);o.valueSetter?a=o.valueSetter({value:i.value,row:a}):a[r]=i.value})),a}),[t]);mm(t,{getRowMode:I,startRowEditMode:R,stopRowEditMode:O,unstable_setRowEditingEditCellValue:F,unstable_getRowWithUpdatedValuesFromRowEditing:Z}),e.useEffect((function(){h&&A(h)}),[h,A]),e.useEffect((function(){var e=hp(t);Object.entries(o).forEach((function(t){var n,r,a=(0,g.Z)(t,2),o=a[0],s=a[1],l=(null==(n=u.current[o])?void 0:n.mode)||ry.View,c=null!=(r=e[o])?r:o;s.mode===ry.Edit&&l===ry.View?P((0,i.Z)({id:c},s)):s.mode===ry.View&&l===ry.Edit&&L((0,i.Z)({id:c},s))})),u.current=o}),[t,o,P,L])}(t,n);var r=e.useRef({}),a=n.isCellEditable,o=e.useCallback((function(e){return!e.rowNode.isAutoGenerated&&(!!e.colDef.editable&&(!!e.colDef.renderEditCell&&(!a||a(e))))}),[a]);e.useEffect((function(){var e=r.current;return function(){Object.entries(e).forEach((function(t){var n=(0,g.Z)(t,2),r=n[0],i=n[1];Object.keys(i).forEach((function(t){var n=(0,g.Z)(e[r][t],1)[0];clearTimeout(n),delete e[r][t]}))}))}}),[]);var s=e.useCallback((function(e,t){if(r.current[e])if(t){if(r.current[e][t]){(0,(0,g.Z)(r.current[e][t],2)[1])()}}else Object.keys(r.current[e]).forEach((function(t){(0,(0,g.Z)(r.current[e][t],2)[1])()}))}),[]),u=e.useCallback((function(e){var i=e.id,a=e.field,o=e.debounceMs;return new Promise((function(s){!function(e,t,n,i){if(n){if(r.current[e]||(r.current[e]={}),r.current[e][t]){var a=(0,g.Z)(r.current[e][t],1)[0];clearTimeout(a)}var o=setTimeout((function(){i(),delete r.current[e][t]}),n);r.current[e][t]=[o,function(){var n=(0,g.Z)(r.current[e][t],1)[0];clearTimeout(n),i(),delete r.current[e][t]}]}else i()}(i,a,o,(0,jm.Z)(Um().mark((function r(){var o,u;return Um().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=n.editMode===ty.Row?t.current.unstable_setRowEditingEditCellValue:t.current.unstable_setCellEditingEditCellValue,t.current.getCellMode(i,a)!==ny.Edit){r.next=6;break}return r.next=4,o(e);case 4:u=r.sent,s(u);case 6:case"end":return r.stop()}}),r)}))))}))}),[t,n.editMode]),l=e.useCallback((function(e,r){return n.editMode===ty.Cell?t.current.unstable_getRowWithUpdatedValuesFromCellEditing(e,r):t.current.unstable_getRowWithUpdatedValuesFromRowEditing(e)}),[t,n.editMode]);mm(t,{isCellEditable:o,setEditCellValue:u,unstable_runPendingEditCellValueMutation:s,unstable_getRowWithUpdatedValues:l})},vb=["rowsBeforePartialUpdates"];var yb=function(e,t,n){var r=t?t(e):e.id;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"A row was provided without id in the rows prop:";if(null==e)throw new Error(["MUI: The data grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",n,JSON.stringify(t)].join("\n"))}(r,e,n),r},xb=function(e){for(var t=e.rows,n=e.getRowId,r={rowsBeforePartialUpdates:t,loadingPropBeforePartialUpdates:e.loading,idRowsLookup:{},idToIdLookup:{},ids:[]},i=0;i<t.length;i+=1){var a=t[i],o=yb(a,n);r.idRowsLookup[o]=a,r.idToIdLookup[o]=o,r.ids.push(o)}return r},bb=function(e){var t=e.apiRef,n=e.previousTree,r=e.rowCountProp,a=e.loadingProp,o=t.current.unstable_caches.rows,s=(0,S.Z)(o,vb),u=null!=r?r:0,l=t.current.unstable_applyStrategyProcessor("rowTreeCreation",(0,i.Z)({},s,{previousTree:n})),c=t.current.unstable_applyPipeProcessors("hydrateRows",l),d=1===c.treeDepth?c.ids.length:Object.values(c.tree).filter((function(e){return null==e.parent})).length;return(0,i.Z)({},c,{groupingResponseBeforeRowHydration:l,loading:a,totalRowCount:Math.max(u,c.ids.length),totalTopLevelRowCount:Math.max(u,d)})},wb=function e(t,n,r){var i,a=null==(i=t[n])?void 0:i.children;if(null==a)return[];for(var o=[],s=0;s<a.length;s+=1){var u=a[s],l=t[u];r&&l.isAutoGenerated||o.push(u),o.push.apply(o,(0,T.Z)(e(t,l.id,r)))}return o},_b=function(e,t,n){return n.current.unstable_caches.rows=xb({rows:t.rows,getRowId:t.getRowId,loading:t.loading}),(0,i.Z)({},e,{rows:bb({apiRef:n,previousTree:null,rowCountProp:t.rowCount,loadingProp:t.loading})})},Sb=function(t,n){var r=kp(t,"useGridRows"),a=Wx(t,n),o=e.useRef(Date.now()),s=e.useRef(null),u=e.useCallback((function(e){var n;return null!=(n=fp(t)[e])?n:null}),[t]),l=e.useMemo((function(){return a.rows.reduce((function(e,t,n){return e[t.id]=n,e}),{})}),[a.rows]),c=e.useCallback((function(e,r){var a=function(){s.current=null,o.current=Date.now(),t.current.setState((function(e){return(0,i.Z)({},e,{rows:bb({apiRef:t,previousTree:pp(t),rowCountProp:n.rowCount,loadingProp:n.loading})})})),t.current.publishEvent("rowsSet"),t.current.forceUpdate()};if(s.current&&(clearTimeout(s.current),s.current=null),t.current.unstable_caches.rows=e,r){var u=n.throttleRowsMs-(Date.now()-o.current);u>0?s.current=setTimeout(a,u):a()}else a()}),[n.throttleRowsMs,n.rowCount,n.loading,t]),d=e.useCallback((function(e){r.debug("Updating all rows, new length ".concat(e.length)),c(xb({rows:e,getRowId:n.getRowId,loading:n.loading}),!0)}),[r,n.getRowId,n.loading,c]),f=e.useCallback((function(e){if(n.signature===gm.DataGrid&&e.length>1)throw new Error(["MUI: You can't update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n"));var r=new Map;e.forEach((function(e){var t=yb(e,n.getRowId,"A row was provided without id when calling updateRows():");r.has(t)?r.set(t,(0,i.Z)({},r.get(t),e)):r.set(t,e)}));var a=[],o=t.current.unstable_caches.rows,s={rowsBeforePartialUpdates:o.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:o.loadingPropBeforePartialUpdates,idRowsLookup:(0,i.Z)({},o.idRowsLookup),idToIdLookup:(0,i.Z)({},o.idToIdLookup),ids:(0,T.Z)(o.ids)};r.forEach((function(e,n){return"delete"===e._action?(delete s.idRowsLookup[n],delete s.idToIdLookup[n],void a.push(n)):t.current.getRow(n)?void(s.idRowsLookup[n]=(0,i.Z)({},t.current.getRow(n),e)):(s.idRowsLookup[n]=e,s.idToIdLookup[n]=n,void s.ids.push(n))})),a.length>0&&(s.ids=s.ids.filter((function(e){return!a.includes(e)}))),c(s,!0)}),[n.signature,n.getRowId,c,t]),h=e.useCallback((function(){var e=vp(t),n=fp(t);return new Map(e.map((function(e){return[e,n[e]]})))}),[t]),p=e.useCallback((function(){return lp(t)}),[t]),m=e.useCallback((function(){return vp(t)}),[t]),g=e.useCallback((function(e){return l[e]}),[l]),y=e.useCallback((function(e,n){var r=t.current.getRowNode(e);if(!r)throw new Error("MUI: No row with id #".concat(e," found"));var a=(0,i.Z)({},r,{childrenExpanded:n});t.current.setState((function(t){return(0,i.Z)({},t,{rows:(0,i.Z)({},t.rows,{tree:(0,i.Z)({},t.rows.tree,(0,v.Z)({},e,a))})})})),t.current.forceUpdate(),t.current.publishEvent("rowExpansionChange",a)}),[t]),x=e.useCallback((function(e){var n;return null!=(n=pp(t)[e])?n:null}),[t]),b=e.useCallback((function(e){var n,r=e.skipAutoGeneratedRows,i=void 0===r||r,a=e.groupId,o=e.applySorting,s=e.applyFiltering,u=pp(t);if(o){var l=u[a];if(!l)return[];var c=Fp(t);n=[];for(var d=c.findIndex((function(e){return e===a}))+1,f=d;f<c.length&&u[c[f]].depth>l.depth;f+=1){var h=c[f],p=u[h];i&&p.isAutoGenerated||n.push(h)}}else n=wb(u,a,i);if(s){var m=Up(t);n=n.filter((function(e){return!1!==m[e]}))}return n}),[t]),w={getRow:u,getRowModels:h,getRowsCount:p,getAllRowIds:m,setRows:d,setRowIndex:e.useCallback((function(e,n){var a=vp(t),o=a.findIndex((function(t){return t===e}));if(-1!==o&&o!==n){r.debug("Moving row ".concat(e," to index ").concat(n));var s=(0,T.Z)(a);s.splice(n,0,s.splice(o,1)[0]),t.current.setState((function(e){return(0,i.Z)({},e,{rows:(0,i.Z)({},e.rows,{ids:s})})})),t.current.applySorting()}}),[t,r]),updateRows:f,setRowChildrenExpansion:y,getRowNode:x,getRowIndexRelativeToVisibleRows:g,getRowGroupChildren:b},_=e.useCallback((function(){var e;r.info("Row grouping pre-processing have changed, regenerating the row tree"),e=t.current.unstable_caches.rows.rowsBeforePartialUpdates===n.rows?t.current.unstable_caches.rows:xb({rows:n.rows,getRowId:n.getRowId,loading:n.loading}),c(e,!1)}),[r,t,n.rows,n.getRowId,n.loading,c]),S=e.useCallback((function(e){"rowTreeCreation"===e&&_()}),[_]),C=e.useCallback((function(){t.current.unstable_getActiveStrategy("rowTree")!==mp(t)&&_()}),[t,_]);_m(t,"activeStrategyProcessorChange",S),_m(t,"strategyAvailabilityChange",C);var k=e.useCallback((function(){t.current.setState((function(e){return(0,i.Z)({},e,{rows:(0,i.Z)({},e.rows,t.current.unstable_applyPipeProcessors("hydrateRows",e.rows.groupingResponseBeforeRowHydration))})})),t.current.publishEvent("rowsSet"),t.current.forceUpdate()}),[t]);Vm(t,"hydrateRows",k),mm(t,w),e.useEffect((function(){return function(){null!==s.current&&clearTimeout(s.current)}}),[]);var D=e.useRef(!0);e.useEffect((function(){D.current?D.current=!1:t.current.unstable_caches.rows.rowsBeforePartialUpdates===n.rows&&t.current.unstable_caches.rows.loadingPropBeforePartialUpdates===n.loading||(r.debug("Updating all rows, new length ".concat(n.rows.length)),c(xb({rows:n.rows,getRowId:n.getRowId,loading:n.loading}),!1))}),[n.rows,n.rowCount,n.getRowId,n.loading,r,c,t])},Cb=function(e){for(var t=e.ids,n=e.idRowsLookup,r=e.idToIdLookup,i=e.previousTree,a={},o=0;o<t.length;o+=1){var s=t[o];i&&i[s]?a[s]=i[s]:a[s]={id:s,depth:0,parent:null,groupingKey:"",groupingField:null}}return{groupingName:Mm,tree:a,treeDepth:1,idRowsLookup:n,idToIdLookup:r,ids:t}};function kb(e,t){return e.closest(".".concat(t))}function Db(e){return e.replace(/["\\]/g,"\\$&")}function Tb(e,t){return e.querySelector(".".concat(Ph.row,'[data-id="').concat(Db(String(t)),'"]'))}jh(["MUI: You are calling getValue. This method is deprecated and will be removed in the next major version.","Instead, you can access the data from `params.row`."]);function Ib(t){var n=e.useCallback((function(e){return{field:e,colDef:t.current.getColumn(e)}}),[t]),r=e.useCallback((function(){var e;return(e=t.current).getCellValue.apply(e,arguments)}),[t]),i=e.useCallback((function(e){var n=t.current.getRow(e);if(!n)throw new Error("No row with id #".concat(e," found"));return{id:e,columns:t.current.getAllColumns(),row:n,getValue:r}}),[t,r]),a=e.useCallback((function(e,n){var i=t.current.getRow(e),a=t.current.getRowNode(e);if(!i||!a)throw new Error("No row with id #".concat(e," found"));var o=ix(t),s=sx(t);return{id:e,field:n,row:i,rowNode:a,value:i[n],colDef:t.current.getColumn(n),cellMode:t.current.getCellMode(e,n),getValue:r,api:t.current,hasFocus:null!==o&&o.field===n&&o.id===e,tabIndex:s&&s.field===n&&s.id===e?0:-1}}),[t,r]),o=e.useCallback((function(e,n){var i=t.current.getColumn(n),a=t.current.getCellValue(e,n),o=t.current.getRow(e),s=t.current.getRowNode(e);if(!o||!s)throw new Error("No row with id #".concat(e," found"));var u=ix(t),l=sx(t),c={id:e,field:n,row:o,rowNode:s,colDef:i,cellMode:t.current.getCellMode(e,n),getValue:r,hasFocus:null!==u&&u.field===n&&u.id===e,tabIndex:l&&l.field===n&&l.id===e?0:-1,value:a,formattedValue:a};return i.valueFormatter&&(c.formattedValue=i.valueFormatter({id:e,field:c.field,value:c.value,api:t.current})),c.isEditable=i&&t.current.isCellEditable(c),c}),[t,r]),s=e.useCallback((function(e,n){var r=t.current.getColumn(n);if(!r||!r.valueGetter){var i=t.current.getRow(e);if(!i)throw new Error("No row with id #".concat(e," found"));return i[n]}return r.valueGetter(a(e,n))}),[t,a]),u=e.useCallback((function(e){return t.current.rootElementRef.current?function(e,t){return e.querySelector('[role="columnheader"][data-field="'.concat(Db(t),'"]'))}(t.current.rootElementRef.current,e):null}),[t]),l=e.useCallback((function(e){return t.current.rootElementRef.current?Tb(t.current.rootElementRef.current,e):null}),[t]),c=e.useCallback((function(e,n){return t.current.rootElementRef.current?function(e,t){var n=t.id,r=t.field,i=Tb(e,n);return i?i.querySelector(".".concat(Ph.cell,'[data-field="').concat(Db(r),'"]')):null}(t.current.rootElementRef.current,{id:e,field:n}):null}),[t]);mm(t,{getCellValue:s,getCellParams:o,getCellElement:c,getRowParams:i,getRowElement:l,getColumnHeaderParams:n,getColumnHeaderElement:u})}var Ab=function(e,t){return null==e||Array.isArray(e)?e:t&&t[0]===e?t:[e]},Mb=function(e,t){var n;return(0,i.Z)({},e,{selection:null!=(n=Ab(t.selectionModel))?n:[]})},Eb=function(t,n){var r=function(t){var n=t.classes;return e.useMemo((function(){return(0,L.Z)({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},Rh,n)}),[n])}({classes:n.classes}),a=e.useCallback((function(e){var a=(0,i.Z)({},wx,{cellClassName:r.cellCheckbox,headerClassName:r.columnHeaderCheckbox,headerName:t.current.getLocaleText("checkboxSelectionHeaderName")}),o=n.checkboxSelection,s=null!=e.lookup[a.field];return o&&!s?(e.lookup[a.field]=a,e.all=[a.field].concat((0,T.Z)(e.all))):!o&&s&&(delete e.lookup[a.field],e.all=e.all.filter((function(e){return e!==a.field}))),e}),[t,r,n.checkboxSelection]);zm(t,"hydrateColumns",a)},Nb=function(e,t){var n,r,a,o,s=null!=(n=null!=(r=t.sortModel)?r:null==(a=t.initialState)||null==(o=a.sorting)?void 0:o.sortModel)?n:[];return(0,i.Z)({},e,{sorting:{sortModel:wg(s,t.disableMultipleColumnsSorting),sortedRows:[]}})};function Rb(e){var t=e.clientHeight,n=e.scrollTop,r=e.offsetHeight,i=e.offsetTop,a=i+r;return r>t?i:a-t>n?a-t:i<n?i:void 0}var Pb=function(e){return(0,i.Z)({},e,{rowsMeta:{currentPageTotalHeight:0,positions:[]}})},Ob=function(t){var n,r,a=Rm(void 0,t);return Eb(a,t),function(e){Px(e,Mm,"rowTreeCreation",Cb)}(a),Pm(Mb,a,t),Pm(Qy,a,t),Pm(_b,a,t),Pm(null!=(n=t.experimentalFeatures)&&n.newEditingApi?mb:ab,a,t),Pm(Ux,a,t),Pm(Nb,a,t),Pm(eb,a,t),Pm(Vx,a,t),Pm($y,a,t),Pm(Qx,a,t),Pm(Pb,a,t),Pm(Zm,a,t),function(t,n){var r=kp(t,"useGridKeyboardNavigation"),i=Wx(t,n),a=e.useCallback((function(e,n){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left",o=null==(i=Hp(t)[n])?void 0:i.id,s=t.current.unstable_getCellColSpanInfo(o,e);s&&s.spannedByColSpan&&("left"===a?e=s.leftVisibleCellIndex:"right"===a&&(e=s.rightVisibleCellIndex)),r.debug("Navigating to cell row ".concat(n,", col ").concat(e)),t.current.scrollToIndexes({colIndex:e,rowIndex:n});var u=t.current.getVisibleColumns()[e].field;t.current.setCellFocus(o,u)}),[t,r]),o=e.useCallback((function(e,n){r.debug("Navigating to header col ".concat(e)),t.current.scrollToIndexes({colIndex:e});var i=t.current.getVisibleColumns()[e].field;t.current.setColumnHeaderFocus(i,n)}),[t,r]),s=e.useCallback((function(e,n){var r=t.current.getRootDimensions();if(i.range&&r){var s=t.current.unstable_getViewportPageSize(),u=Hp(t),l=e.field?t.current.getColumnIndex(e.field):0,c=u.findIndex((function(t){return t.id===e.id})),d=i.range.firstRowIndex,f=i.range.lastRowIndex,h=Qh(t).length-1,p=!0;switch(n.key){case"ArrowDown":case"Enter":c<f&&a(l,c+1);break;case"ArrowUp":c>d?a(l,c-1):o(l,n);break;case"ArrowRight":l<h&&a(l+1,c,"right");break;case"ArrowLeft":l>0&&a(l-1,c);break;case"Tab":n.shiftKey&&l>0?a(l-1,c,"left"):!n.shiftKey&&l<h&&a(l+1,c,"right");break;case" ":if(e.field===Hx)break;var m=e.colDef;if(m&&"treeDataGroup"===m.type)break;!n.shiftKey&&c<f&&a(l,Math.min(c+s,f));break;case"PageDown":c<f&&a(l,Math.min(c+s,f));break;case"PageUp":var g=Math.max(c-s,d);g!==c&&g>=d?a(l,g):o(l,n);break;case"Home":n.ctrlKey||n.metaKey||n.shiftKey?a(0,d):a(0,c);break;case"End":n.ctrlKey||n.metaKey||n.shiftKey?a(h,f):a(h,c);break;default:p=!1}p&&n.preventDefault()}}),[t,i,a,o]),u=e.useCallback((function(e,n){var r,s,u,l,c=n.currentTarget.querySelector(".".concat(Ph.columnHeaderTitleContainerContent));if((!c||!c.contains(n.target)||e.field===wx.field)&&t.current.getRootDimensions()){var d=t.current.unstable_getViewportPageSize(),f=e.field?t.current.getColumnIndex(e.field):0,h=null!=(r=null==(s=i.range)?void 0:s.firstRowIndex)?r:null,p=null!=(u=null==(l=i.range)?void 0:l.lastRowIndex)?u:null,m=Qh(t).length-1,g=!0;switch(n.key){case"ArrowDown":null!==h&&a(f,h);break;case"ArrowRight":f<m&&o(f+1,n);break;case"ArrowLeft":f>0&&o(f-1,n);break;case"PageDown":null!==h&&null!==p&&a(f,Math.min(h+d,p));break;case"Home":o(0,n);break;case"End":o(m,n);break;case"Enter":(n.ctrlKey||n.metaKey)&&t.current.toggleColumnMenu(e.field);break;case" ":break;default:g=!1}g&&n.preventDefault()}}),[t,i,a,o]),l=e.useCallback((function(e,n){if(n.currentTarget.contains(n.target)){var r=t.current.getCellParams(e.id,e.field);r.cellMode!==ny.Edit&&vy(n.key)&&t.current.publishEvent("cellNavigationKeyDown",r,n)}}),[t]);_m(t,"cellNavigationKeyDown",s),_m(t,"columnHeaderKeyDown",u),_m(t,"cellKeyDown",l)}(a,t),function(t,n){var r=kp(t,"useGridSelection"),a=e.useMemo((function(){return Ab(n.selectionModel,lx(t.current.state))}),[t,n.selectionModel]),o=e.useRef(null);t.current.unstable_updateControlState({stateId:"selection",propModel:a,propOnChange:n.onSelectionModelChange,stateSelector:lx,changeEvent:"selectionChange"});var s=n.checkboxSelection,u=n.disableMultipleSelection,l=n.disableSelectionOnClick,c=n.isRowSelectable,d=n.pagination,f=n.paginationMode,h=!u||s,p=Wx(t,n),m=e.useCallback((function(e){var n,r=e,i=null!=(n=o.current)?n:e,a=t.current.isRowSelected(e);if(a){var s=Gp(t),u=s.findIndex((function(e){return e===i})),l=s.findIndex((function(e){return e===r}));if(u===l)return;r=u>l?s[l+1]:s[l-1]}o.current=e,t.current.selectRowRange({startId:i,endId:r},!a)}),[t]),v=e.useCallback((function(e){lx(t.current.state)!==e&&(r.debug("Setting selection model"),t.current.setState((function(t){return(0,i.Z)({},t,{selection:e})})),t.current.forceUpdate())}),[t,r]),y=e.useCallback((function(e){return lx(t.current.state).includes(e)}),[t]),x=e.useCallback((function(){return dx(t)}),[t]),b=e.useCallback((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!c||c(t.current.getRowParams(e)))if(o.current=e,i)r.debug("Setting selection for row ".concat(e)),t.current.setSelectionModel(n?[e]:[]);else{r.debug("Toggling selection for row ".concat(e));var a=lx(t.current.state).filter((function(t){return t!==e}));n&&a.push(e),(a.length<2||h)&&t.current.setSelectionModel(a)}}),[t,c,r,h]),w=e.useCallback((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r.debug("Setting selection for several rows");var o,s=c?e.filter((function(e){return c(t.current.getRowParams(e))})):e;if(a)o=n?s:[];else{var u=(0,i.Z)({},fx(t));s.forEach((function(e){n?u[e]=e:delete u[e]})),o=Object.values(u)}(o.length<2||h)&&t.current.setSelectionModel(o)}),[t,c,r,h]),_=e.useCallback((function(e){var n=e.startId,i=e.endId,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2?arguments[2]:void 0;if(t.current.getRow(n)&&t.current.getRow(i)){r.debug("Expanding selection from row ".concat(n," to row ").concat(i));var s=Gp(t),u=s.indexOf(n),l=s.indexOf(i),c=u>l?[l,u]:[u,l],d=(0,g.Z)(c,2),f=d[0],h=d[1],p=s.slice(f,h+1);t.current.selectRows(p,a,o)}}),[t,r]);mm(t,{selectRow:b,selectRows:w,selectRowRange:_,setSelectionModel:v,getSelectedRows:x,isRowSelected:y});var S=e.useCallback((function(){if(!n.keepNonExistentRowsSelected){var e=lx(t.current.state),r=fp(t),a=(0,i.Z)({},fx(t)),o=!1;e.forEach((function(e){r[e]||(delete a[e],o=!0)})),o&&t.current.setSelectionModel(Object.values(a))}}),[t,n.keepNonExistentRowsSelected]),C=e.useCallback((function(e,n){var r=n.metaKey||n.ctrlKey,i=!s&&!r&&!yy(n),a=!h||i,o=t.current.isRowSelected(e);a?t.current.selectRow(e,!!i||!o,!0):t.current.selectRow(e,!o,!1)}),[t,h,s]),k=e.useCallback((function(e,n){if(!l&&e.field!==wx.field&&e.field!==Hx){if(e.field&&t.current.getColumn(e.field).type===Zy)return;n.shiftKey&&(h||s)?m(e.id):C(e.id,n)}}),[l,h,s,t,m,C]),D=e.useCallback((function(e,t){var n;h&&t.shiftKey&&(null==(n=window.getSelection())||n.removeAllRanges())}),[h]),T=e.useCallback((function(e,n){n.nativeEvent.shiftKey?m(e.id):t.current.selectRow(e.id,e.value)}),[t,m]),I=e.useCallback((function(e){var r=n.checkboxSelectionVisibleOnly&&n.pagination?yx(t):Gp(t);t.current.selectRows(r,e.value)}),[t,n.checkboxSelectionVisibleOnly,n.pagination]),A=e.useCallback((function(e,n){if(t.current.getCellMode(e.id,e.field)!==ny.Edit&&n.currentTarget.contains(n.target)){if(vy(n.key)&&n.shiftKey){var r=ix(t);if(r&&r.id!==e.id){n.preventDefault();var i=t.current.isRowSelected(r.id);if(!h)return void t.current.selectRow(r.id,!i,!0);var a,o,s=t.current.getRowIndexRelativeToVisibleRows(r.id),u=t.current.getRowIndexRelativeToVisibleRows(e.id);s>u?i?(a=u,o=s-1):(a=u,o=s):i?(a=s+1,o=u):(a=s,o=u);var l=p.rows.slice(a,o+1).map((function(e){return e.id}));return void t.current.selectRows(l,!i)}}if(" "===n.key&&n.shiftKey)return n.preventDefault(),void C(e.id,n);"a"===n.key.toLowerCase()&&(n.ctrlKey||n.metaKey)&&(n.preventDefault(),w(t.current.getAllRowIds(),!0))}}),[t,C,w,p.rows,h]);_m(t,"sortedRowsSet",S),_m(t,"cellClick",k),_m(t,"rowSelectionCheckboxChange",T),_m(t,"headerSelectionCheckboxChange",I),_m(t,"cellMouseDown",D),_m(t,"cellKeyDown",A),e.useEffect((function(){void 0!==a&&t.current.setSelectionModel(a)}),[t,a]);var M=null!=a;e.useEffect((function(){if(!M){var e=lx(t.current.state);if(c){var n=e.filter((function(e){return c(t.current.getRowParams(e))}));n.length<e.length&&t.current.setSelectionModel(n)}}}),[t,c,M]),e.useEffect((function(){var e=lx(t.current.state);if(!h&&e.length>1){var n=jx(t,{pagination:d,paginationMode:f}).rows.reduce((function(e,t){return e[t.id]=!0,e}),{}),r=e.find((function(e){var r=!0;return c&&(r=c(t.current.getRowParams(e))),r&&n[e]}));t.current.setSelectionModel(void 0!==r?[r]:[])}}),[t,h,s,u,c,d,f])}(a,t),function(t,n){var r,a,o,s=kp(t,"useGridColumns"),l=e.useMemo((function(){return Wy(n.columnTypes)}),[n.columnTypes]),c=e.useRef(n.columns),d=e.useRef(l),f=e.useRef(!!n.columnVisibilityModel||!(null==(r=n.initialState)||null==(a=r.columns)||!a.columnVisibilityModel));t.current.unstable_updateControlState({stateId:"visibleColumns",propModel:n.columnVisibilityModel,propOnChange:n.onColumnVisibilityModelChange,stateSelector:Kh,changeEvent:"columnVisibilityModelChange"});var h=e.useCallback((function(e){s.debug("Updating columns state."),t.current.setState(Xy(e)),t.current.forceUpdate(),t.current.publishEvent("columnsChange",e.all)}),[s,t]),p=e.useCallback((function(e){return qh(t)[e]}),[t]),m=e.useCallback((function(){return Yh(t)}),[t]),g=e.useCallback((function(){return Qh(t)}),[t]),y=e.useCallback((function(){return np(t)}),[t]),x=e.useCallback((function(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?Qh(t):Yh(t)).findIndex((function(t){return t.field===e}))}),[t]),b=e.useCallback((function(e){var n=x(e);return Jh(t)[n]}),[t,x]),w=e.useCallback((function(e){Kh(t)!==e&&(t.current.setState((function(n){return(0,i.Z)({},n,{columns:Gy({apiRef:t,columnTypes:l,columnsToUpsert:[],initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!1,currentColumnVisibilityModel:e,keepOnlyColumnsToUpsert:!1})})})),t.current.forceUpdate())}),[t,l]),_=e.useCallback((function(e){var n=Gy({apiRef:t,columnTypes:l,columnsToUpsert:e,initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!0,keepOnlyColumnsToUpsert:!1});h(n)}),[t,h,l]),S=e.useCallback((function(e){return t.current.updateColumns([e])}),[t]),C=e.useCallback((function(e,n){if(f.current){var r,a=Kh(t);if(n!==(null==(r=a[e])||r)){var o=(0,i.Z)({},a,(0,v.Z)({},e,n));t.current.setColumnVisibilityModel(o)}}else{var s=t.current.getColumn(e),u=(0,i.Z)({},s,{hide:!n});t.current.updateColumns([u]);var l={field:e,colDef:u,isVisible:n};t.current.publishEvent("columnVisibilityChange",l)}}),[t]),k=e.useCallback((function(e,n){var r=Xh(t),a=r.findIndex((function(t){return t===e}));if(a!==n){s.debug("Moving column ".concat(e," to index ").concat(n));var o=(0,T.Z)(r);o.splice(n,0,o.splice(a,1)[0]),h((0,i.Z)({},Gh(t.current.state),{all:o}));var u={field:e,element:t.current.getColumnHeaderElement(e),colDef:t.current.getColumn(e),targetIndex:n,oldIndex:a};t.current.publishEvent("columnOrderChange",u)}}),[t,s,h]),D=e.useCallback((function(e,n){s.debug("Updating column ".concat(e," width to ").concat(n));var r=t.current.getColumn(e),a=(0,i.Z)({},r,{width:n});t.current.updateColumns([a]),t.current.publishEvent("columnWidthChange",{element:t.current.getColumnHeaderElement(e),colDef:a,width:n})}),[t,s]);mm(t,{getColumn:p,getAllColumns:m,getColumnIndex:x,getColumnPosition:b,getVisibleColumns:g,getColumnsMeta:y,updateColumn:S,updateColumns:_,setColumnVisibilityModel:w,setColumnVisibility:C,setColumnIndex:k,setColumnWidth:D});var I=e.useCallback((function(e){var n={};if(f.current){var r=Kh(t);Object.values(r).some((function(e){return!1===e}))&&(n.columnVisibilityModel=r)}n.orderedFields=Xh(t);var a=Yh(t),o={};return a.forEach((function(e){if(e.hasBeenResized){var t={};jy.forEach((function(n){var r=e[n];r===1/0&&(r=-1),t[n]=r})),o[e.field]=t}})),Object.keys(o).length>0&&(n.dimensions=o),(0,i.Z)({},e,{columns:n})}),[t]),A=e.useCallback((function(e,n){var r,i=f.current?null==(r=n.stateToRestore.columns)?void 0:r.columnVisibilityModel:void 0,a=n.stateToRestore.columns;if(null==i&&null==a)return e;var o=Gy({apiRef:t,columnTypes:l,columnsToUpsert:[],initialState:a,shouldRegenColumnVisibilityModelFromColumns:!f.current,currentColumnVisibilityModel:i,keepOnlyColumnsToUpsert:!1});return t.current.setState(Xy(o)),null!=a&&t.current.publishEvent("columnsChange",o.all),e}),[t,l]),M=e.useCallback((function(e,t){if(t===Uy.columns){var r,a=n.components.ColumnsPanel;return(0,u.jsx)(a,(0,i.Z)({},null==(r=n.componentsProps)?void 0:r.columnsPanel))}return e}),[n.components.ColumnsPanel,null==(o=n.componentsProps)?void 0:o.columnsPanel]);zm(t,"exportState",I),zm(t,"restoreState",A),zm(t,"preferencePanel",M);var E=e.useRef(null);_m(t,"viewportInnerSizeChange",(function(e){E.current!==e.width&&(E.current=e.width,h(Hy(Gh(t.current.state),e.width)))})),Cm(t,"columnVisibilityChange",n.onColumnVisibilityChange);var N=e.useCallback((function(){s.info("Columns pipe processing have changed, regenerating the columns");var e=Gy({apiRef:t,columnTypes:l,columnsToUpsert:[],initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!f.current,keepOnlyColumnsToUpsert:!1});h(e)}),[t,s,h,l]);Vm(t,"hydrateColumns",N);var R=e.useRef(!0);e.useEffect((function(){if(R.current)R.current=!1;else if(s.info("GridColumns have changed, new length ".concat(n.columns.length)),c.current!==n.columns||d.current!==l){var e=Gy({apiRef:t,columnTypes:l,initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!f.current,columnsToUpsert:n.columns,keepOnlyColumnsToUpsert:!0});c.current=n.columns,d.current=l,h(e)}}),[s,t,h,n.columns,l]),e.useEffect((function(){void 0!==n.columnVisibilityModel&&t.current.setColumnVisibilityModel(n.columnVisibilityModel)}),[t,s,n.columnVisibilityModel])}(a,t),Sb(a,t),Ib(a),function(t){var n=e.useRef({}),r=e.useCallback((function(e,t,r){var i=n.current;i[e]||(i[e]={}),i[e][t]=r}),[]),i=e.useCallback((function(e,t){var r;return null==(r=n.current[e])?void 0:r[t]}),[]),a=e.useCallback((function(e){var n=e.columnIndex,i=e.rowId,a=e.minFirstColumnIndex,o=e.maxLastColumnIndex,s=t.current.getVisibleColumns(),u=s.length,l=s[n],c="function"===typeof l.colSpan?l.colSpan(t.current.getCellParams(i,l.field)):l.colSpan;if(!c||1===c)return r(i,n,{spannedByColSpan:!1,cellProps:{colSpan:1,width:l.computedWidth}}),{colSpan:1};for(var d=l.computedWidth,f=1;f<c;f+=1){var h=n+f;h>=a&&h<o&&(d+=s[h].computedWidth,r(i,n+f,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(n+c,u-1),leftVisibleCellIndex:n})),r(i,n,{spannedByColSpan:!1,cellProps:{colSpan:c,width:d}})}return{colSpan:c}}),[t,r]),o=e.useCallback((function(e){for(var t=e.rowId,n=e.minFirstColumn,r=e.maxLastColumn,i=n;i<r;i+=1){var o=a({columnIndex:i,rowId:t,minFirstColumnIndex:n,maxLastColumnIndex:r});o.colSpan>1&&(i+=o.colSpan-1)}}),[a]);mm(t,{unstable_getCellColSpanInfo:i,unstable_calculateColSpan:o});var s=e.useCallback((function(){n.current={}}),[]);_m(t,"columnOrderChange",s)}(a),(null!=(r=t.experimentalFeatures)&&r.newEditingApi?gb:ob)(a,t),function(t,n){var r=kp(t,"useGridFocus"),a=e.useRef(null),o=e.useCallback((function(e,n){var a=ix(t);(null==a?void 0:a.id)===e&&(null==a?void 0:a.field)===n||(t.current.setState((function(t){return r.debug("Focusing on cell with id=".concat(e," and field=").concat(n)),(0,i.Z)({},t,{tabIndex:{cell:{id:e,field:n},columnHeader:null},focus:{cell:{id:e,field:n},columnHeader:null}})})),t.current.forceUpdate(),t.current.getRow(e)&&t.current.publishEvent("cellFocusIn",t.current.getCellParams(e,n)))}),[t,r]),s=e.useCallback((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=ix(t);a&&t.current.publishEvent("cellFocusOut",t.current.getCellParams(a.id,a.field),n),t.current.setState((function(t){return r.debug("Focusing on column header with colIndex=".concat(e)),(0,i.Z)({},t,{tabIndex:{columnHeader:{field:e},cell:null},focus:{columnHeader:{field:e},cell:null}})})),t.current.forceUpdate()}),[t,r]),u=e.useCallback((function(e,r,i){var a=t.current.getColumnIndex(r),o=t.current.getRowIndexRelativeToVisibleRows(e),s=Qh(t);"right"===i?a+=1:"left"===i?a-=1:o+=1;var u=jx(t,{pagination:n.pagination,paginationMode:n.paginationMode});a>=s.length?(o+=1)<u.rows.length&&(a=0):a<0&&(o-=1)>=0&&(a=s.length-1),o=um(o,0,u.rows.length-1),a=um(a,0,s.length-1);var l=u.rows[o],c=s[a];t.current.setCellFocus(l.id,c.field)}),[t,n.pagination,n.paginationMode]),l=e.useCallback((function(e){var n=e.id,r=e.field;t.current.setCellFocus(n,r)}),[t]),c=e.useCallback((function(e,n){"Enter"===n.key||"Tab"===n.key||vy(n.key)||t.current.setCellFocus(e.id,e.field)}),[t]),d=e.useCallback((function(e,n){var r=e.field;n.target===n.currentTarget&&t.current.setColumnHeaderFocus(r,n)}),[t]),f=e.useCallback((function(){r.debug("Clearing focus"),t.current.setState((function(e){return(0,i.Z)({},e,{focus:{cell:null,columnHeader:null}})}))}),[r,t]),h=e.useCallback((function(e){a.current=e}),[]),p=e.useCallback((function(e){var n=a.current;a.current=null;var r=ix(t);if(r){if((null==n?void 0:n.id)!==r.id||(null==n?void 0:n.field)!==r.field){var o=t.current.getCellElement(r.id,r.field);null!=o&&o.contains(e.target)||t.current.getRow(r.id)&&(t.current.publishEvent("cellFocusOut",t.current.getCellParams(r.id,r.field),e),n?t.current.setCellFocus(n.id,n.field):(t.current.setState((function(e){return(0,i.Z)({},e,{focus:{cell:null,columnHeader:null}})})),t.current.forceUpdate()))}}else n&&t.current.setCellFocus(n.id,n.field)}),[t]),m=e.useCallback((function(e){if("view"!==e.cellMode){var n=ix(t);(null==n?void 0:n.id)===e.id&&(null==n?void 0:n.field)===e.field||t.current.setCellFocus(e.id,e.field)}}),[t]),g=e.useCallback((function(){var e=ix(t);e&&!t.current.getRow(e.id)&&t.current.setState((function(e){return(0,i.Z)({},e,{focus:{cell:null,columnHeader:null}})}))}),[t]);mm(t,{setCellFocus:o,setColumnHeaderFocus:s,unstable_moveFocusToRelativeCell:u}),e.useEffect((function(){var e=(0,qo.Z)(t.current.rootElementRef.current);return e.addEventListener("click",p),function(){e.removeEventListener("click",p)}}),[t,p]),_m(t,"columnHeaderBlur",f),_m(t,"cellDoubleClick",l),_m(t,"cellMouseUp",h),_m(t,"cellKeyDown",c),_m(t,"cellModeChange",m),_m(t,"columnHeaderFocus",d),_m(t,"rowsSet",g)}(a,t),function(t){var n=kp(t,"useGridPreferencesPanel"),r=e.useRef(),a=e.useRef(),o=e.useCallback((function(){n.debug("Hiding Preferences Panel");var e=$x(t.current.state);e.openedPanelValue&&t.current.publishEvent("preferencePanelClose",{openedPanelValue:e.openedPanelValue}),t.current.setState((function(e){return(0,i.Z)({},e,{preferencePanel:{open:!1}})})),t.current.forceUpdate()}),[t,n]),s=e.useCallback((function(){a.current=setTimeout((function(){return clearTimeout(r.current)}),0)}),[]),u=e.useCallback((function(){r.current=setTimeout(o,100)}),[o]),l=e.useCallback((function(e){n.debug("Opening Preferences Panel"),s(),t.current.setState((function(t){return(0,i.Z)({},t,{preferencePanel:(0,i.Z)({},t.preferencePanel,{open:!0,openedPanelValue:e})})})),t.current.publishEvent("preferencePanelOpen",{openedPanelValue:e}),t.current.forceUpdate()}),[n,s,t]);mm(t,{showPreferences:l,hidePreferences:u});var c=e.useCallback((function(e){var n=$x(t.current.state);return n.open||n.openedPanelValue?(0,i.Z)({},e,{preferencePanel:n}):e}),[t]),d=e.useCallback((function(e,n){var r=n.stateToRestore.preferencePanel;return null!=r&&t.current.setState((function(e){return(0,i.Z)({},e,{preferencePanel:r})})),e}),[t]);zm(t,"exportState",c),zm(t,"restoreState",d),e.useEffect((function(){return function(){clearTimeout(r.current),clearTimeout(a.current)}}),[])}(a),function(t,n){var r,a=kp(t,"useGridFilter");t.current.unstable_updateControlState({stateId:"filter",propModel:n.filterModel,propOnChange:n.onFilterModelChange,stateSelector:jp,changeEvent:"filterModelChange"});var o=e.useCallback((function(){t.current.setState((function(e){var r=jp(e,t.current.instanceId),a=n.filterMode===Ex?zx(r,t):null,o=t.current.unstable_applyStrategyProcessor("filtering",{isRowMatchingFilters:a});return(0,i.Z)({},e,{filter:(0,i.Z)({},e.filter,o)})})),t.current.publishEvent("filteredRowsSet")}),[n.filterMode,t]),s=e.useCallback((function(){o(),t.current.forceUpdate()}),[t,o]),l=e.useCallback((function(e){var n=jp(t),r=(0,T.Z)(n.items),a=r.findIndex((function(t){return t.id===e.id}));-1===a?r.push(e):r[a]=e,t.current.setFilterModel((0,i.Z)({},n,{items:r}))}),[t]),c=e.useCallback((function(e){var n=jp(t),r=n.items.filter((function(t){return t.id!==e.id}));r.length!==n.items.length&&t.current.setFilterModel((0,i.Z)({},n,{items:r}))}),[t]),d=e.useCallback((function(e){if(a.debug("Displaying filter panel"),e){var r,o=jp(t),s=o.items.filter((function(e){return void 0!==e.value}));r=s.find((function(t){return t.columnField===e}))?s:n.disableMultipleColumnsFiltering?[{columnField:e}]:[].concat((0,T.Z)(s),[{columnField:e}]),t.current.setFilterModel((0,i.Z)({},o,{items:r}))}t.current.showPreferences(Uy.filters)}),[t,a,n.disableMultipleColumnsFiltering]),f=e.useCallback((function(){a.debug("Hiding filter panel"),t.current.hidePreferences()}),[t,a]),h=e.useCallback((function(e){var n=jp(t);n.linkOperator!==e&&t.current.setFilterModel((0,i.Z)({},n,{linkOperator:e}))}),[t]),p=e.useCallback((function(e){var n=jp(t);lm(n.quickFilterValues,e)||t.current.setFilterModel((0,i.Z)({},n,{quickFilterValues:(0,T.Z)(e)}))}),[t]),m=e.useCallback((function(e){jp(t)!==e&&(a.debug("Setting filter model"),t.current.setState(Bx(e,n.disableMultipleColumnsFiltering,t)),t.current.unstable_applyFilters())}),[t,a,n.disableMultipleColumnsFiltering]),g=e.useCallback((function(){var e=Hp(t);return new Map(e.map((function(e){return[e.id,e.model]})))}),[t]);mm(t,{setFilterLinkOperator:h,unstable_applyFilters:s,deleteFilterItem:c,upsertFilterItem:l,setFilterModel:m,showFilterPanel:d,hideFilterPanel:f,getVisibleRowModels:g,setQuickFilterValues:p});var v=e.useCallback((function(e){var n=jp(t);return 0===n.items.length&&n.linkOperator===Rx().linkOperator?e:(0,i.Z)({},e,{filter:{filterModel:n}})}),[t]),y=e.useCallback((function(e,r){var a,o=null==(a=r.stateToRestore.filter)?void 0:a.filterModel;return null==o?e:(t.current.setState(Bx(o,n.disableMultipleColumnsFiltering,t)),(0,i.Z)({},e,{callbacks:[].concat((0,T.Z)(e.callbacks),[t.current.unstable_applyFilters])}))}),[t,n.disableMultipleColumnsFiltering]),x=e.useCallback((function(e,t){if(t===Uy.filters){var r,a=n.components.FilterPanel;return(0,u.jsx)(a,(0,i.Z)({},null==(r=n.componentsProps)?void 0:r.filterPanel))}return e}),[n.components.FilterPanel,null==(r=n.componentsProps)?void 0:r.filterPanel]),b=e.useCallback((function(e){if(n.filterMode===Ex&&e.isRowMatchingFilters){for(var r=vp(t),i={},a=0;a<r.length;a+=1){var o=r[a];i[o]=e.isRowMatchingFilters(o)}return{filteredRowsLookup:i,visibleRowsLookup:i,filteredDescendantCountLookup:{}}}return{visibleRowsLookup:{},filteredRowsLookup:{},filteredDescendantCountLookup:{}}}),[t,n.filterMode]);zm(t,"exportState",v),zm(t,"restoreState",y),zm(t,"preferencePanel",x),Px(t,Mm,"filtering",b);var w=e.useCallback((function(){a.debug("onColUpdated - GridColumns changed, applying filters");var e=jp(t),n=tp(t),r=e.items.filter((function(e){return e.columnField&&n[e.columnField]}));r.length<e.items.length&&t.current.setFilterModel((0,i.Z)({},e,{items:r}))}),[t,a]),_=e.useCallback((function(e){"filtering"===e&&t.current.unstable_applyFilters()}),[t]);_m(t,"rowsSet",o),_m(t,"rowExpansionChange",t.current.unstable_applyFilters),_m(t,"columnsChange",w),_m(t,"activeStrategyProcessorChange",_),Bm((function(){t.current.unstable_applyFilters()})),e.useEffect((function(){void 0!==n.filterModel&&t.current.setFilterModel(n.filterModel)}),[t,a,n.filterModel])}(a,t),function(t,n){var r=kp(t,"useGridSorting");t.current.unstable_updateControlState({stateId:"sortModel",propModel:n.sortModel,propOnChange:n.onSortModelChange,stateSelector:Bp,changeEvent:"sortModelChange"});var a=e.useCallback((function(e,n){var r=Bp(t),i=r.findIndex((function(t){return t.field===e})),a=(0,T.Z)(r);return i>-1?n?a.splice(i,1,n):a.splice(i,1):a=[].concat((0,T.Z)(r),[n]),a}),[t]),o=e.useCallback((function(e,r){var a,o=Bp(t).find((function(t){return t.field===e.field}));if(o){var s,u=void 0===r?Sg(null!=(s=e.sortingOrder)?s:n.sortingOrder,o.sort):r;return null==u?void 0:(0,i.Z)({},o,{sort:u})}return{field:e.field,sort:void 0===r?Sg(null!=(a=e.sortingOrder)?a:n.sortingOrder):r}}),[t,n.sortingOrder]),s=e.useCallback((function(){t.current.setState((function(e){if(n.sortingMode===Nx)return r.debug("Skipping sorting rows as sortingMode = server"),(0,i.Z)({},e,{sorting:(0,i.Z)({},e.sorting,{sortedRows:vp(e,t.current.instanceId)})});var a=function(e,t){var n=e.map((function(e){return function(e,t){var n=t.current.getColumn(e.field);if(!n)return null;var r="desc"===e.sort?function(){return-1*n.sortComparator.apply(n,arguments)}:n.sortComparator;return{getSortCellParams:function(e){return{id:e,field:n.field,rowNode:t.current.getRowNode(e),value:t.current.getCellValue(e,n.field),api:t.current}},comparator:r}}(e,t)})).filter((function(e){return!!e}));return 0===n.length?null:function(e){return e.map((function(e){return{value:e,params:n.map((function(t){return t.getSortCellParams(e.id)}))}})).sort((function(e,t){return r=n,i=e.params,a=t.params,r.reduce((function(e,t,n){if(0!==e)return e;var r=i[n],o=a[n];return t.comparator(r.value,o.value,r,o)}),0);var r,i,a})).map((function(e){return e.value.id}))}}(Bp(e,t.current.instanceId),t),o=t.current.unstable_applyStrategyProcessor("sorting",{sortRowList:a});return(0,i.Z)({},e,{sorting:(0,i.Z)({},e.sorting,{sortedRows:o})})})),t.current.publishEvent("sortedRowsSet"),t.current.forceUpdate()}),[t,r,n.sortingMode]),u=e.useCallback((function(e){Bp(t)!==e&&(r.debug("Setting sort model"),t.current.setState(_g(e,n.disableMultipleColumnsSorting)),t.current.forceUpdate(),t.current.applySorting())}),[t,r,n.disableMultipleColumnsSorting]),l=e.useCallback((function(e,r,i){if(e.sortable){var s,u=o(e,r);s=!i||n.disableMultipleColumnsSorting?u?[u]:[]:a(e.field,u),t.current.setSortModel(s)}}),[t,a,o,n.disableMultipleColumnsSorting]),c=e.useCallback((function(){return Bp(t)}),[t]),d=e.useCallback((function(){return Zp(t).map((function(e){return e.model}))}),[t]),f=e.useCallback((function(){return Fp(t)}),[t]),h=e.useCallback((function(e){return t.current.getSortedRowIds().indexOf(e)}),[t]),p=e.useCallback((function(e){return t.current.getSortedRowIds()[e]}),[t]);mm(t,{getSortModel:c,getSortedRows:d,getSortedRowIds:f,getRowIndex:h,getRowIdFromRowIndex:p,setSortModel:u,sortColumn:l,applySorting:s});var m=e.useCallback((function(e){var n=Bp(t);return 0===n.length?e:(0,i.Z)({},e,{sorting:{sortModel:n}})}),[t]),g=e.useCallback((function(e,r){var a,o=null==(a=r.stateToRestore.sorting)?void 0:a.sortModel;return null==o?e:(t.current.setState(_g(o,n.disableMultipleColumnsSorting)),(0,i.Z)({},e,{callbacks:[].concat((0,T.Z)(e.callbacks),[t.current.applySorting])}))}),[t,n.disableMultipleColumnsSorting]),v=e.useCallback((function(e){if(!e.sortRowList)return vp(t);var n=pp(t);return e.sortRowList(Object.values(n))}),[t]);zm(t,"exportState",m),zm(t,"restoreState",g),Px(t,Mm,"sorting",v);var y=e.useCallback((function(e,t){var n=e.colDef,r=t.shiftKey||t.metaKey||t.ctrlKey;l(n,void 0,r)}),[l]),x=e.useCallback((function(e,t){var n=e.colDef;!oy(t.key)||t.ctrlKey||t.metaKey||l(n,void 0,t.shiftKey)}),[l]),b=e.useCallback((function(){var e=Bp(t),n=qh(t);if(e.length>0){var r=e.filter((function(e){return n[e.field]}));r.length<e.length&&t.current.setSortModel(r)}}),[t]),w=e.useCallback((function(e){"sorting"===e&&t.current.applySorting()}),[t]);_m(t,"columnHeaderClick",y),_m(t,"columnHeaderKeyDown",x),_m(t,"rowsSet",t.current.applySorting),_m(t,"columnsChange",b),_m(t,"activeStrategyProcessorChange",w),Bm((function(){t.current.applySorting()})),e.useEffect((function(){void 0!==n.sortModel&&t.current.setSortModel(n.sortModel)}),[t,n.sortModel])}(a,t),function(t,n){var r=kp(t,"useDensity"),a=e.useCallback((function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.headerHeight,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.rowHeight;r.debug("Set grid density to ".concat(e)),t.current.setState((function(t){var n=yp(t),r=Jy(e,a,o);return lm(n,r)?t:(0,i.Z)({},t,{density:r})})),t.current.forceUpdate()}),[r,t,n.headerHeight,n.rowHeight]);e.useEffect((function(){t.current.setDensity(n.density,n.headerHeight,n.rowHeight)}),[t,n.density,n.rowHeight,n.headerHeight]),mm(t,{setDensity:a})}(a,t),Jx(a,t),function(t,n){var r=n.getRowHeight,a=n.getRowSpacing,o=e.useRef({}),s=rp(t,bp),u=rp(t,Vp),l=rp(t,hx),c=rp(t,Lp),d=Wx(t,n),f=e.useCallback((function(){t.current.setState((function(e){var n=[],s=_p(e,t.current.instanceId),u=bp(e,t.current.instanceId),l=d.rows.reduce((function(e,l){var c;n.push(e);var f,h=o.current[l.id]&&o.current[l.id].isResized||!1;h?c=o.current[l.id].value:(c=u,r&&(c=null!=(f=r((0,i.Z)({},l,{densityFactor:s})))?f:u));var p={base:c};if(a){var m,g,v=t.current.getRowIndexRelativeToVisibleRows(l.id),y=a((0,i.Z)({},l,{isFirstVisible:0===v,isLastVisible:v===d.rows.length-1,indexRelativeToCurrentPage:v}));p.spacingTop=null!=(m=y.top)?m:0,p.spacingBottom=null!=(g=y.bottom)?g:0}var x=t.current.unstable_applyPipeProcessors("rowHeight",p,l),b=Object.values(x).reduce((function(e,t){return e+t}),0);return o.current[l.id]={value:c,sizes:x,isResized:h},e+b}),0);return(0,i.Z)({},e,{rowsMeta:{currentPageTotalHeight:l,positions:n}})})),t.current.forceUpdate()}),[t,d.rows,a,r]),h=e.useCallback((function(e,t){o.current[e]={value:t,isResized:!0,sizes:(0,i.Z)({},o.current[e].sizes,{base:t})},f()}),[f]);e.useEffect((function(){f()}),[s,u,l,c,f]),Vm(t,"rowHeight",f),mm(t,{unstable_getRowHeight:function(e){var t;return(null==(t=o.current[e])?void 0:t.value)||s},unstable_getRowInternalSizes:function(e){var t;return null==(t=o.current[e])?void 0:t.sizes},unstable_setRowHeight:h})}(a,t),function(t,n){var r=kp(t,"useGridScroll"),i=t.current.columnHeadersElementRef,a=t.current.windowRef,o=rp(t,Hp),s=e.useCallback((function(e){var i=lp(t),s=Qh(t);if(null!=e.rowIndex&&0===i||0===s.length)return!1;r.debug("Scrolling to cell at row ".concat(e.rowIndex,", col: ").concat(e.colIndex," "));var u={};if(null!=e.colIndex){var l,c=Jh(t);if("undefined"!==typeof e.rowIndex){var d,f=null==(d=o[e.rowIndex])?void 0:d.id,h=t.current.unstable_getCellColSpanInfo(f,e.colIndex);h&&!h.spannedByColSpan&&(l=h.cellProps.width)}"undefined"===typeof l&&(l=s[e.colIndex].computedWidth),u.left=Rb({clientHeight:a.current.clientWidth,scrollTop:a.current.scrollLeft,offsetHeight:l,offsetTop:c[e.colIndex]})}if(null!=e.rowIndex){var p=Mx(t.current.state),m=px(t),g=mx(t),v=n.pagination?e.rowIndex-m*g:e.rowIndex,y=p.positions[v+1]?p.positions[v+1]-p.positions[v]:p.currentPageTotalHeight-p.positions[v];u.top=Rb({clientHeight:a.current.clientHeight,scrollTop:a.current.scrollTop,offsetHeight:y,offsetTop:p.positions[v]})}return(void 0!==typeof(u=t.current.unstable_applyPipeProcessors("scrollToIndexes",u,e)).left||void 0!==typeof u.top)&&(t.current.scroll(u),!0)}),[r,t,a,n.pagination,o]),u=e.useCallback((function(e){a.current&&null!=e.left&&i.current&&(i.current.scrollLeft=e.left,a.current.scrollLeft=e.left,r.debug("Scrolling left: ".concat(e.left))),a.current&&null!=e.top&&(a.current.scrollTop=e.top,r.debug("Scrolling top: ".concat(e.top))),r.debug("Scrolling, updating container, and viewport")}),[a,i,r]),l=e.useCallback((function(){return null!=a&&a.current?{top:a.current.scrollTop,left:a.current.scrollLeft}:{top:0,left:0}}),[a]);mm(t,{scroll:u,scrollToIndexes:s,getScrollPosition:l})}(a,t),function(t){var n=kp(t,"useGridColumnMenu"),r=e.useCallback((function(e){t.current.setState((function(t){return t.columnMenu.open&&t.columnMenu.field===e?t:(n.debug("Opening Column Menu"),(0,i.Z)({},t,{columnMenu:{open:!0,field:e}}))}))&&(t.current.hidePreferences(),t.current.forceUpdate())}),[t,n]),a=e.useCallback((function(){t.current.setState((function(e){return e.columnMenu.open||void 0!==e.columnMenu.field?(n.debug("Hiding Column Menu"),(0,i.Z)({},e,{columnMenu:(0,i.Z)({},e.columnMenu,{open:!1,field:void 0})})):e}))&&t.current.forceUpdate()}),[t,n]),o=e.useCallback((function(e){n.debug("Toggle Column Menu");var i=Fm(t.current.state);i.open&&i.field===e?a():r(e)}),[t,n,r,a]);mm(t,{showColumnMenu:r,hideColumnMenu:a,toggleColumnMenu:o}),_m(t,"columnResizeStart",a),_m(t,"virtualScrollerWheel",t.current.hideColumnMenu),_m(t,"virtualScrollerTouchMove",t.current.hideColumnMenu)}(a),Ax(a),function(t,n){var r=kp(t,"useGridPrintExport"),a=e.useRef(null),o=e.useRef(null),s=e.useRef({});e.useEffect((function(){a.current=(0,qo.Z)(t.current.rootElementRef.current)}),[t]);var l=e.useCallback((function(e,n){return new Promise((function(r){if(e||n){var i=kx({apiRef:t,options:{fields:e,allColumns:n}}).map((function(e){return e.field})),a=Yh(t),o={};a.forEach((function(e){o[e.field]=i.includes(e.field)})),t.current.setColumnVisibilityModel(o),r()}else r()}))}),[t]),c=e.useCallback((function(e){var t=document.createElement("iframe");return t.id="grid-print-window",t.src=window.location.href,t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}),[]),d=e.useCallback((function(e,n){var r,o,s,u=(0,i.Z)({copyStyles:!0,hideToolbar:!1,hideFooter:!1},n);e.onload=null;var l=e.contentDocument||(null==(r=e.contentWindow)?void 0:r.document);if(l){var c=wp(t),d=Mx(t.current.state),f=t.current.rootElementRef.current,h=f.cloneNode(!0),p=h.querySelector(".".concat(Ph.virtualScroller));p.style.height="auto",p.style.width="auto",p.parentElement.style.width="auto",p.parentElement.style.height="auto",h.querySelector(".".concat(Ph.main)).style.overflow="visible",h.querySelector(".".concat(Ph.columnHeaders)).querySelector(".".concat(Ph.columnHeadersInner)).style.width="100%";var m,g,v=(null==(o=f.querySelector(".".concat(Ph.toolbarContainer)))?void 0:o.clientHeight)||0,y=(null==(s=f.querySelector(".".concat(Ph.footerContainer)))?void 0:s.clientHeight)||0;u.hideToolbar&&(null==(m=h.querySelector(".".concat(Ph.toolbarContainer)))||m.remove(),v=0),u.hideFooter&&(null==(g=h.querySelector(".".concat(Ph.footerContainer)))||g.remove(),y=0),h.style.height="".concat(d.currentPageTotalHeight+c+v+y,"px"),l.body.innerHTML="",l.body.appendChild(h);var x,b="function"===typeof u.pageStyle?u.pageStyle():u.pageStyle;if("string"===typeof b){var w=l.createElement("style");w.appendChild(l.createTextNode(b)),l.head.appendChild(w)}if(u.bodyClassName&&(x=l.body.classList).add.apply(x,(0,T.Z)(u.bodyClassName.split(" "))),u.copyStyles)for(var _=a.current.querySelectorAll("style, link[rel='stylesheet']"),S=0;S<_.length;S+=1){var C=_[S];if("STYLE"===C.tagName){var k=l.createElement(C.tagName),D=C.sheet;if(D){for(var I="",A=0;A<D.cssRules.length;A+=1)"string"===typeof D.cssRules[A].cssText&&(I+="".concat(D.cssRules[A].cssText,"\r\n"));k.appendChild(l.createTextNode(I)),l.head.appendChild(k)}}else if(C.getAttribute("href")){for(var M=l.createElement(C.tagName),E=0;E<C.attributes.length;E+=1){var N=C.attributes[E];N&&M.setAttribute(N.nodeName,N.nodeValue||"")}l.head.appendChild(M)}}e.contentWindow.print()}}),[t,a]),f=e.useCallback((function(e){var n,r;a.current.body.removeChild(e),t.current.restoreState(o.current||{}),null!=(n=o.current)&&null!=(r=n.columns)&&r.columnVisibilityModel||t.current.setColumnVisibilityModel(s.current),t.current.unstable_enableVirtualization(),o.current=null,s.current={}}),[t]),h=e.useCallback(function(){var e=(0,jm.Z)(Um().mark((function e(i){var u,h;return Um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.debug("Export data as Print"),t.current.rootElementRef.current){e.next=3;break}throw new Error("MUI: No grid root element available.");case 3:return o.current=t.current.exportState(),s.current=Kh(t),n.pagination&&(u=Kp(t),t.current.setPageSize(u)),e.next=8,l(null==i?void 0:i.fields,null==i?void 0:i.allColumns);case 8:t.current.unstable_disableVirtualization(),h=c(null==i?void 0:i.fileName),a.current.body.appendChild(h),h.onload=function(){return d(h,i)},h.contentWindow.onafterprint=function(){return f(h)};case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,r,t,c,d,f,l]);mm(t,{exportDataAsPrint:h});var p=e.useCallback((function(e,t){var n;return null!=(n=t.printOptions)&&n.disableToolbarButton?e:[].concat((0,T.Z)(e),[{component:(0,u.jsx)(Ix,{options:t.printOptions}),componentName:"printExport"}])}),[]);zm(t,"exportMenu",p)}(a,t),Lm(a),function(t,n){var r=kp(t,"useResizeContainer"),i=e.useRef(!1),a=e.useRef(null),o=e.useRef(null),s=rp(t,Mx),u=rp(t,wp),l=e.useCallback((function(){var e,r=null==(e=t.current.rootElementRef)?void 0:e.current,i=$h(t);if(a.current){var l;if(null!=n.scrollbarSize)l=n.scrollbarSize;else if(i&&r){var c=(0,qo.Z)(r).createElement("div");c.style.width="99px",c.style.height="99px",c.style.position="absolute",c.style.overflow="scroll",c.className="scrollDiv",r.appendChild(c),l=c.offsetWidth-c.clientWidth,r.removeChild(c)}else l=0;var d={width:a.current.width,height:n.autoHeight?s.currentPageTotalHeight:a.current.height-u},f=function(e){var t=e.content,n=e.container,r=e.scrollBarSize,i=t.width>n.width,a=t.height>n.height,o=!1,s=!1;return(i||a)&&(o=i,(s=t.height+(o?r:0)>n.height)&&(o=t.width+r>n.width)),{hasScrollX:o,hasScrollY:s}}({content:{width:Math.round(i),height:s.currentPageTotalHeight},container:d,scrollBarSize:l}),h=f.hasScrollX,p=f.hasScrollY,m={viewportOuterSize:d,viewportInnerSize:{width:d.width-(p?l:0),height:d.height-(h?l:0)},hasScrollX:h,hasScrollY:p},g=o.current;o.current=m,m.viewportInnerSize.width===(null==g?void 0:g.viewportInnerSize.width)&&m.viewportInnerSize.height===(null==g?void 0:g.viewportInnerSize.height)||t.current.publishEvent("viewportInnerSizeChange",m.viewportInnerSize)}}),[t,n.scrollbarSize,n.autoHeight,u,s.currentPageTotalHeight]),c=e.useCallback((function(){l(),t.current.publishEvent("debouncedResize",a.current)}),[t,l]),d=e.useCallback((function(){return o.current}),[]),f=e.useCallback((function(){var e=t.current.getRootDimensions();if(!e)return 0;var r=jx(t,{pagination:n.pagination,paginationMode:n.paginationMode});if(n.getRowHeight){var i=t.current.unstable_getRenderContext(),a=i.lastRowIndex-i.firstRowIndex;return Math.min(a-1,r.rows.length)}var o=Math.floor(e.viewportInnerSize.height/bp(t));return Math.min(o,r.rows.length)}),[t,n.pagination,n.paginationMode,n.getRowHeight]);mm(t,{resize:c,getRootDimensions:d,unstable_getViewportPageSize:f,unstable_updateGridDimensionsRef:l});var h=e.useMemo((function(){return(0,ze.Z)(c,60)}),[c]),p=e.useRef(!0),m=e.useCallback((function(e){a.current=e;var t=/jsdom/.test(window.navigator.userAgent);if(0!==e.height||i.current||n.autoHeight||t||(r.warn(["The parent of the grid has an empty height.","You need to make sure the container has an intrinsic height.","The grid displays with a height of 0px.","","You can find a solution in the docs:","https://mui.com/x/react-data-grid/layout/"].join("\n")),i.current=!0),0!==e.width||i.current||t||(r.warn(["The parent of the grid has an empty width.","You need to make sure the container has an intrinsic width.","The grid displays with a width of 0px.","","You can find a solution in the docs:","https://mui.com/x/react-data-grid/layout/"].join("\n")),i.current=!0),p.current)return c(),void(p.current=!1);h()}),[n.autoHeight,h,r,c]);(0,Bn.Z)((function(){return l()}),[l]),Cm(t,"sortedRowsSet",l),Cm(t,"pageChange",l),Cm(t,"pageSizeChange",l),Cm(t,"columnsChange",l),_m(t,"resize",m),Cm(t,"debouncedResize",n.onResize)}(a,t),function(e,t){Cm(e,"columnHeaderClick",t.onColumnHeaderClick),Cm(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),Cm(e,"columnHeaderOver",t.onColumnHeaderOver),Cm(e,"columnHeaderOut",t.onColumnHeaderOut),Cm(e,"columnHeaderEnter",t.onColumnHeaderEnter),Cm(e,"columnHeaderLeave",t.onColumnHeaderLeave),Cm(e,"columnOrderChange",t.onColumnOrderChange),Cm(e,"cellClick",t.onCellClick),Cm(e,"cellDoubleClick",t.onCellDoubleClick),Cm(e,"cellKeyDown",t.onCellKeyDown),Cm(e,"cellFocusOut",t.onCellFocusOut),Cm(e,"preferencePanelClose",t.onPreferencePanelClose),Cm(e,"preferencePanelOpen",t.onPreferencePanelOpen),Cm(e,"rowDoubleClick",t.onRowDoubleClick),Cm(e,"rowClick",t.onRowClick),Cm(e,"componentError",t.onError),Cm(e,"stateChange",t.onStateChange)}(a,t),function(t){var n=e.useCallback((function(){return t.current.unstable_applyPipeProcessors("exportState",{})}),[t]),r=e.useCallback((function(e){t.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:e}).callbacks.forEach((function(e){e()})),t.current.forceUpdate()}),[t]);mm(t,{exportState:n,restoreState:r})}(a),a},Lb={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",errorOverlayDefaultLabel:"An error occurred.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:function(e){return"".concat(e,1!==e?" active filters":" active filter")},toolbarQuickFilterPlaceholder:"Search...",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsPanelTextFieldLabel:"Find column",columnsPanelTextFieldPlaceholder:"Column title",columnsPanelDragIconLabel:"Reorder column",columnsPanelShowAllButton:"Show all",columnsPanelHideAllButton:"Hide all",filterPanelAddFilter:"Add filter",filterPanelDeleteIconLabel:"Delete",filterPanelLinkOperator:"Logic operator",filterPanelOperators:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:function(e){return"".concat(e,1!==e?" active filters":" active filter")},columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:function(e){return"".concat(e.toLocaleString(),1!==e?" rows selected":" row selected")},footerTotalRows:"Total Rows:",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," of ").concat(t.toLocaleString())},checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:function(e){return"Group by ".concat(e)},unGroupColumn:function(e){return"Stop grouping by ".concat(e)},expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering"};function Fb(e){return(0,se.Z)("PrivateSwitchBase",e)}(0,oe.Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var Zb=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Bb=(0,b.ZP)(In)((function(e){var t=e.ownerState;return(0,i.Z)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),zb=(0,b.ZP)("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Vb=e.forwardRef((function(e,t){var n=e.autoFocus,r=e.checked,a=e.checkedIcon,o=e.className,s=e.defaultChecked,l=e.disabled,c=e.disableFocusRipple,d=void 0!==c&&c,f=e.edge,h=void 0!==f&&f,p=e.icon,m=e.id,v=e.inputProps,y=e.inputRef,x=e.name,b=e.onBlur,w=e.onChange,_=e.onFocus,k=e.readOnly,D=e.required,T=e.tabIndex,I=e.type,A=e.value,M=(0,S.Z)(e,Zb),E=(0,zs.Z)({controlled:r,default:Boolean(s),name:"SwitchBase",state:"checked"}),N=(0,g.Z)(E,2),R=N[0],P=N[1],O=eu(),F=l;O&&"undefined"===typeof F&&(F=O.disabled);var Z="checkbox"===I||"radio"===I,B=(0,i.Z)({},e,{checked:R,disabled:F,disableFocusRipple:d,edge:h}),z=function(e){var t=e.classes,n=e.checked,r=e.disabled,i=e.edge,a={root:["root",n&&"checked",r&&"disabled",i&&"edge".concat((0,Je.Z)(i))],input:["input"]};return(0,L.Z)(a,Fb,t)}(B);return(0,u.jsxs)(Bb,(0,i.Z)({component:"span",className:(0,C.Z)(z.root,o),centerRipple:!0,focusRipple:!d,disabled:F,tabIndex:null,role:void 0,onFocus:function(e){_&&_(e),O&&O.onFocus&&O.onFocus(e)},onBlur:function(e){b&&b(e),O&&O.onBlur&&O.onBlur(e)},ownerState:B,ref:t},M,{children:[(0,u.jsx)(zb,(0,i.Z)({autoFocus:n,checked:r,defaultChecked:s,className:z.input,disabled:F,id:Z&&m,name:x,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var t=e.target.checked;P(t),w&&w(e,t)}},readOnly:k,ref:y,required:D,ownerState:B,tabIndex:T,type:I},"checkbox"===I&&void 0===A?{}:{value:A},v)),R?a:p]}))})),jb=(0,tu.Z)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Wb=(0,tu.Z)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Ub=(0,tu.Z)((0,u.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Hb(e){return(0,se.Z)("MuiCheckbox",e)}var Gb=(0,oe.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),Xb=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],qb=(0,b.ZP)(Vb,{shouldForwardProp:function(e){return(0,b.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.indeterminate&&t.indeterminate,"default"!==n.color&&t["color".concat((0,Je.Z)(n.color))]]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,i.Z)({color:n.palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:(0,Ge.Fq)("default"===r.color?n.palette.action.active:n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(t={},(0,v.Z)(t,"&.".concat(Gb.checked,", &.").concat(Gb.indeterminate),{color:n.palette[r.color].main}),(0,v.Z)(t,"&.".concat(Gb.disabled),{color:n.palette.action.disabled}),t))})),Yb=(0,u.jsx)(Wb,{}),Kb=(0,u.jsx)(jb,{}),Qb=(0,u.jsx)(Ub,{}),Jb=e.forwardRef((function(t,n){var r,a,o=(0,fe.Z)({props:t,name:"MuiCheckbox"}),s=o.checkedIcon,l=void 0===s?Yb:s,c=o.color,d=void 0===c?"primary":c,f=o.icon,h=void 0===f?Kb:f,p=o.indeterminate,m=void 0!==p&&p,g=o.indeterminateIcon,v=void 0===g?Qb:g,y=o.inputProps,x=o.size,b=void 0===x?"medium":x,w=(0,S.Z)(o,Xb),_=m?v:h,C=m?v:l,k=(0,i.Z)({},o,{color:d,indeterminate:m,size:b}),D=function(e){var t=e.classes,n=e.indeterminate,r=e.color,a={root:["root",n&&"indeterminate","color".concat((0,Je.Z)(r))]},o=(0,L.Z)(a,Hb,t);return(0,i.Z)({},t,o)}(k);return(0,u.jsx)(qb,(0,i.Z)({type:"checkbox",inputProps:(0,i.Z)({"data-indeterminate":m},y),icon:e.cloneElement(_,{fontSize:null!=(r=_.props.fontSize)?r:b}),checkedIcon:e.cloneElement(C,{fontSize:null!=(a=C.props.fontSize)?a:b}),ownerState:k,ref:n},w,{classes:D}))})),$b=Jb;function ew(e){return(0,se.Z)("MuiSwitch",e)}var tw,nw=(0,oe.Z)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),rw=["className","color","edge","size","sx"],iw=(0,b.ZP)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.edge&&t["edge".concat((0,Je.Z)(n.edge))],t["size".concat((0,Je.Z)(n.size))]]}})((function(e){var t,n=e.ownerState;return(0,i.Z)({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===n.edge&&{marginLeft:-8},"end"===n.edge&&{marginRight:-8},"small"===n.size&&(t={width:40,height:24,padding:7},(0,v.Z)(t,"& .".concat(nw.thumb),{width:16,height:16}),(0,v.Z)(t,"& .".concat(nw.switchBase),(0,v.Z)({padding:4},"&.".concat(nw.checked),{transform:"translateX(16px)"})),t))})),aw=(0,b.ZP)(Vb,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:function(e,t){var n=e.ownerState;return[t.switchBase,(0,v.Z)({},"& .".concat(nw.input),t.input),"default"!==n.color&&t["color".concat((0,Je.Z)(n.color))]]}})((function(e){var t,n=e.theme;return t={position:"absolute",top:0,left:0,zIndex:1,color:"light"===n.palette.mode?n.palette.common.white:n.palette.grey[300],transition:n.transitions.create(["left","transform"],{duration:n.transitions.duration.shortest})},(0,v.Z)(t,"&.".concat(nw.checked),{transform:"translateX(20px)"}),(0,v.Z)(t,"&.".concat(nw.disabled),{color:"light"===n.palette.mode?n.palette.grey[100]:n.palette.grey[600]}),(0,v.Z)(t,"&.".concat(nw.checked," + .").concat(nw.track),{opacity:.5}),(0,v.Z)(t,"&.".concat(nw.disabled," + .").concat(nw.track),{opacity:"light"===n.palette.mode?.12:.2}),(0,v.Z)(t,"& .".concat(nw.input),{left:"-100%",width:"300%"}),t}),(function(e){var t,n=e.theme,r=e.ownerState;return(0,i.Z)({"&:hover":{backgroundColor:(0,Ge.Fq)(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(t={},(0,v.Z)(t,"&.".concat(nw.checked),(0,v.Z)({color:n.palette[r.color].main,"&:hover":{backgroundColor:(0,Ge.Fq)(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(nw.disabled),{color:"light"===n.palette.mode?(0,Ge.$n)(n.palette[r.color].main,.62):(0,Ge._j)(n.palette[r.color].main,.55)})),(0,v.Z)(t,"&.".concat(nw.checked," + .").concat(nw.track),{backgroundColor:n.palette[r.color].main}),t))})),ow=(0,b.ZP)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:function(e,t){return t.track}})((function(e){var t=e.theme;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:"light"===t.palette.mode?t.palette.common.black:t.palette.common.white,opacity:"light"===t.palette.mode?.38:.3}})),sw=(0,b.ZP)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:function(e,t){return t.thumb}})((function(e){return{boxShadow:e.theme.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),uw=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiSwitch"}),r=n.className,a=n.color,o=void 0===a?"primary":a,s=n.edge,l=void 0!==s&&s,c=n.size,d=void 0===c?"medium":c,f=n.sx,h=(0,S.Z)(n,rw),p=(0,i.Z)({},n,{color:o,edge:l,size:d}),m=function(e){var t=e.classes,n=e.edge,r=e.size,a=e.color,o=e.checked,s=e.disabled,u={root:["root",n&&"edge".concat((0,Je.Z)(n)),"size".concat((0,Je.Z)(r))],switchBase:["switchBase","color".concat((0,Je.Z)(a)),o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=(0,L.Z)(u,ew,t);return(0,i.Z)({},t,l)}(p),g=(0,u.jsx)(sw,{className:m.thumb,ownerState:p});return(0,u.jsxs)(iw,{className:(0,C.Z)(m.root,r),sx:f,ownerState:p,children:[(0,u.jsx)(aw,(0,i.Z)({type:"checkbox",icon:g,checkedIcon:g,ref:t,ownerState:p},h,{classes:(0,i.Z)({},m,{root:m.switchBase})})),(0,u.jsx)(ow,{className:m.track,ownerState:p})]})})),lw=uw,cw=["align","children","colIndex","colDef","cellMode","field","formattedValue","hasFocus","height","isEditable","rowId","tabIndex","value","width","className","showRightBorder","extendRowFullWidth","row","colSpan","onClick","onDoubleClick","onMouseDown","onMouseUp","onKeyDown","onDragEnter","onDragOver"];var dw=function(t){var n=e.useRef({});return e.useEffect((function(){n.current=t})),n.current};function fw(e){return(0,se.Z)("BaseBadge",e)}(0,oe.Z)("BaseBadge",["root","badge","invisible"]);var hw=["badgeContent","component","children","className","components","componentsProps","invisible","max","showZero"],pw=e.forwardRef((function(e,t){var n=e.component,r=e.children,a=e.className,o=e.components,s=void 0===o?{}:o,l=e.componentsProps,c=void 0===l?{}:l,d=e.max,f=void 0===d?99:d,h=e.showZero,p=void 0!==h&&h,m=(0,S.Z)(e,hw),g=function(e){var t=e.badgeContent,n=e.invisible,r=void 0!==n&&n,i=e.max,a=void 0===i?99:i,o=e.showZero,s=void 0!==o&&o,u=dw({badgeContent:t,max:a}),l=r;!1!==r||0!==t||s||(l=!0);var c=l?u:e,d=c.badgeContent,f=c.max,h=void 0===f?a:f;return{badgeContent:d,invisible:l,max:h,displayValue:d&&Number(d)>h?"".concat(h,"+"):d}}((0,i.Z)({},e,{max:f})),v=g.badgeContent,y=g.max,x=g.displayValue,b=g.invisible,w=(0,i.Z)({},e,{badgeContent:v,invisible:b,max:y,showZero:p}),_=function(e){var t={root:["root"],badge:["badge",e.invisible&&"invisible"]};return(0,L.Z)(t,fw,void 0)}(w),k=n||s.Root||"span",D=_l(k,(0,i.Z)({},m,c.root),w),T=s.Badge||"span",I=_l(T,c.badge,w);return(0,u.jsxs)(k,(0,i.Z)({},D,{ref:t},m,{className:(0,C.Z)(_.root,D.className,a),children:[r,(0,u.jsx)(T,(0,i.Z)({},I,{className:(0,C.Z)(_.badge,I.className),children:x}))]}))})),mw=pw,gw=function(e){return!e||!F(e)};function vw(e){return(0,se.Z)("MuiBadge",e)}var yw=(0,oe.Z)("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),xw=["anchorOrigin","className","component","components","componentsProps","overlap","color","invisible","max","badgeContent","showZero","variant"],bw=(0,b.ZP)("span",{name:"MuiBadge",slot:"Root",overridesResolver:function(e,t){return t.root}})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),ww=(0,b.ZP)("span",{name:"MuiBadge",slot:"Badge",overridesResolver:function(e,t){var n=e.ownerState;return[t.badge,t[n.variant],t["anchorOrigin".concat((0,Je.Z)(n.anchorOrigin.vertical)).concat((0,Je.Z)(n.anchorOrigin.horizontal)).concat((0,Je.Z)(n.overlap))],"default"!==n.color&&t["color".concat((0,Je.Z)(n.color))],n.invisible&&t.invisible]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen})},"default"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].main,color:(t.vars||t).palette[n.color].contrastText},"dot"===n.variant&&{borderRadius:4,height:8,minWidth:8,padding:0},"top"===n.anchorOrigin.vertical&&"right"===n.anchorOrigin.horizontal&&"rectangular"===n.overlap&&(0,v.Z)({top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%"},"&.".concat(yw.invisible),{transform:"scale(0) translate(50%, -50%)"}),"bottom"===n.anchorOrigin.vertical&&"right"===n.anchorOrigin.horizontal&&"rectangular"===n.overlap&&(0,v.Z)({bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%"},"&.".concat(yw.invisible),{transform:"scale(0) translate(50%, 50%)"}),"top"===n.anchorOrigin.vertical&&"left"===n.anchorOrigin.horizontal&&"rectangular"===n.overlap&&(0,v.Z)({top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%"},"&.".concat(yw.invisible),{transform:"scale(0) translate(-50%, -50%)"}),"bottom"===n.anchorOrigin.vertical&&"left"===n.anchorOrigin.horizontal&&"rectangular"===n.overlap&&(0,v.Z)({bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%"},"&.".concat(yw.invisible),{transform:"scale(0) translate(-50%, 50%)"}),"top"===n.anchorOrigin.vertical&&"right"===n.anchorOrigin.horizontal&&"circular"===n.overlap&&(0,v.Z)({top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%"},"&.".concat(yw.invisible),{transform:"scale(0) translate(50%, -50%)"}),"bottom"===n.anchorOrigin.vertical&&"right"===n.anchorOrigin.horizontal&&"circular"===n.overlap&&(0,v.Z)({bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%"},"&.".concat(yw.invisible),{transform:"scale(0) translate(50%, 50%)"}),"top"===n.anchorOrigin.vertical&&"left"===n.anchorOrigin.horizontal&&"circular"===n.overlap&&(0,v.Z)({top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%"},"&.".concat(yw.invisible),{transform:"scale(0) translate(-50%, -50%)"}),"bottom"===n.anchorOrigin.vertical&&"left"===n.anchorOrigin.horizontal&&"circular"===n.overlap&&(0,v.Z)({bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%"},"&.".concat(yw.invisible),{transform:"scale(0) translate(-50%, 50%)"}),n.invisible&&{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})})})),_w=e.forwardRef((function(e,t){var n,r,a,o,s=(0,fe.Z)({props:e,name:"MuiBadge"}),l=s.anchorOrigin,c=void 0===l?{vertical:"top",horizontal:"right"}:l,d=s.className,f=s.component,h=void 0===f?"span":f,p=s.components,m=void 0===p?{}:p,g=s.componentsProps,v=void 0===g?{}:g,y=s.overlap,x=void 0===y?"rectangular":y,b=s.color,w=void 0===b?"default":b,_=s.invisible,k=void 0!==_&&_,D=s.max,T=s.badgeContent,I=s.showZero,A=void 0!==I&&I,M=s.variant,E=void 0===M?"standard":M,N=(0,S.Z)(s,xw),R=dw({anchorOrigin:c,color:w,overlap:x,variant:E}),P=k;!1===k&&(0===T&&!A||null==T&&"dot"!==E)&&(P=!0);var O,F=P?R:s,Z=F.color,B=void 0===Z?w:Z,z=F.overlap,V=void 0===z?x:z,j=F.anchorOrigin,W=void 0===j?c:j,U=F.variant,H=void 0===U?E:U,G=function(e){var t=e.color,n=e.anchorOrigin,r=e.invisible,i=e.overlap,a=e.variant,o=e.classes,s=void 0===o?{}:o,u={root:["root"],badge:["badge",a,r&&"invisible","anchorOrigin".concat((0,Je.Z)(n.vertical)).concat((0,Je.Z)(n.horizontal)),"anchorOrigin".concat((0,Je.Z)(n.vertical)).concat((0,Je.Z)(n.horizontal)).concat((0,Je.Z)(i)),"overlap".concat((0,Je.Z)(i)),"default"!==t&&"color".concat((0,Je.Z)(t))]};return(0,L.Z)(u,vw,s)}((0,i.Z)({},s,{anchorOrigin:W,invisible:P,color:B,overlap:V,variant:H}));return"dot"!==H&&(O=T&&Number(T)>D?"".concat(D,"+"):T),(0,u.jsx)(mw,(0,i.Z)({invisible:k,badgeContent:O,showZero:A,max:D},N,{components:(0,i.Z)({Root:bw,Badge:ww},m),className:(0,C.Z)(d,G.root,null==(n=v.root)?void 0:n.className),componentsProps:{root:(0,i.Z)({},v.root,gw(m.Root)&&{as:h,ownerState:(0,i.Z)({},null==(r=v.root)?void 0:r.ownerState,{anchorOrigin:W,color:B,overlap:V,variant:H})}),badge:(0,i.Z)({},v.badge,{className:(0,C.Z)(G.badge,null==(a=v.badge)?void 0:a.className)},gw(m.Badge)&&{ownerState:(0,i.Z)({},null==(o=v.badge)?void 0:o.ownerState,{anchorOrigin:W,color:B,overlap:V,variant:H})})},ref:t}))})),Sw=_w,Cw=["className"],kw=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:function(e,t){return t.iconButtonContainer}})((function(){return{display:"flex",visibility:"hidden",width:0}})),Dw=e.forwardRef((function(e,t){var n=e.className,r=(0,S.Z)(e,Cw),a=function(e){var t=e.classes;return(0,L.Z)({root:["iconButtonContainer"]},Rh,t)}({classes:sp().classes});return(0,u.jsx)(kw,(0,i.Z)({ref:t,className:(0,C.Z)(a.root,n)},r))}));var Tw=["hideMenu","currentColumn","open","id","labelledby","className","children"],Iw=e.forwardRef((function(t,n){var r=t.hideMenu,a=t.open,o=t.id,s=t.labelledby,l=t.className,c=t.children,d=(0,S.Z)(t,Tw),f=e.useCallback((function(e){sy(e.key)&&e.preventDefault(),function(e){return sy(e)||ay(e)}(e.key)&&r(e)}),[r]);return(0,u.jsx)(ns,(0,i.Z)({id:o,ref:n,className:(0,C.Z)(Ph.menuList,l),"aria-labelledby":s,onKeyDown:f,autoFocus:a},d,{children:c}))})),Aw=function(t){var n=t.onClick,r=ap(),i=sp(),a=e.useCallback((function(e){n(e),r.current.showPreferences(Uy.columns)}),[r,n]);return i.disableColumnSelector?null:(0,u.jsx)(il,{onClick:a,children:r.current.getLocaleText("columnMenuShowColumns")})},Mw=function(t){var n=t.column,r=t.onClick,i=ap(),a=sp(),o=e.useCallback((function(e){r(e),i.current.showFilterPanel(null==n?void 0:n.field)}),[i,null==n?void 0:n.field,r]);return a.disableColumnFilter||null==n||!n.filterable?null:(0,u.jsx)(il,{onClick:o,children:i.current.getLocaleText("columnMenuFilter")})},Ew=function(t){var n=t.column,r=t.onClick,i=ap(),a=sp(),o=e.useRef(),s=1===Qh(i).filter((function(e){return!0!==e.disableColumnMenu})).length,l=e.useCallback((function(e){s||(r(e),o.current=setTimeout((function(){i.current.setColumnVisibility(null==n?void 0:n.field,!1)}),100))}),[i,null==n?void 0:n.field,r,s]);return e.useEffect((function(){return function(){return clearTimeout(o.current)}}),[]),a.disableColumnSelector||!1===n.hideable?null:(0,u.jsx)(il,{onClick:l,disabled:s,children:i.current.getLocaleText("columnMenuHideColumn")})},Nw=function(t){var n=t.column,r=t.onClick,i=ap(),a=rp(i,Bp),o=e.useMemo((function(){if(!n)return null;var e=a.find((function(e){return e.field===n.field}));return null==e?void 0:e.sort}),[n,a]),s=e.useCallback((function(e){r(e);var t=e.currentTarget.getAttribute("data-value")||null;i.current.sortColumn(n,t)}),[i,n,r]);return n&&n.sortable?(0,u.jsxs)(e.Fragment,{children:[(0,u.jsx)(il,{onClick:s,disabled:null==o,children:i.current.getLocaleText("columnMenuUnsort")}),(0,u.jsx)(il,{onClick:s,"data-value":"asc",disabled:"asc"===o,children:i.current.getLocaleText("columnMenuSortAsc")}),(0,u.jsx)(il,{onClick:s,"data-value":"desc",disabled:"desc"===o,children:i.current.getLocaleText("columnMenuSortDesc")})]}):null},Rw=e.forwardRef((function(t,n){var r=t.hideMenu,a=t.currentColumn,o=ap(),s=[(0,u.jsx)(Nw,{onClick:r,column:a}),(0,u.jsx)(Mw,{onClick:r,column:a}),(0,u.jsx)(Ew,{onClick:r,column:a}),(0,u.jsx)(Aw,{onClick:r,column:a})],l=o.current.unstable_applyPipeProcessors("columnMenu",s,a);return(0,u.jsx)(Iw,(0,i.Z)({ref:n},t,{children:l.map((function(t,n){return e.cloneElement(t,{key:n,onClick:r,column:a})}))}))})),Pw=["className","rowCount","visibleRowCount"],Ow=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:function(e,t){return t.rowCount}})((function(e){return{alignItems:"center",display:"flex",margin:e.theme.spacing(0,2)}})),Lw=e.forwardRef((function(e,t){var n=e.className,r=e.rowCount,a=e.visibleRowCount,o=(0,S.Z)(e,Pw),s=ap(),l=function(e){var t=e.classes;return(0,L.Z)({root:["rowCount"]},Rh,t)}({classes:sp().classes});if(0===r)return null;var c=a<r?s.current.getLocaleText("footerTotalVisibleRows")(a,r):r.toLocaleString();return(0,u.jsxs)(Ow,(0,i.Z)({ref:t,className:(0,C.Z)(l.root,n)},o,{children:[s.current.getLocaleText("footerTotalRows")," ",c]}))})),Fw=["className","selectedRowCount"],Zw=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:function(e,t){return t.selectedRowCount}})((function(e){var t=e.theme;return(0,v.Z)({alignItems:"center",display:"flex",margin:t.spacing(0,2),visibility:"hidden",width:0,height:0},t.breakpoints.up("sm"),{visibility:"visible",width:"auto",height:"auto"})})),Bw=e.forwardRef((function(e,t){var n=e.className,r=e.selectedRowCount,a=(0,S.Z)(e,Fw),o=ap(),s=function(e){var t=e.classes;return(0,L.Z)({root:["selectedRowCount"]},Rh,t)}({classes:sp().classes}),l=o.current.getLocaleText("footerRowSelected")(r);return(0,u.jsx)(Zw,(0,i.Z)({ref:t,className:(0,C.Z)(s.root,n)},a,{children:l}))})),zw=["className"],Vw=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:function(e,t){return t.footerContainer}})((function(e){var t=e.theme,n="light"===t.palette.mode?(0,Ge.$n)((0,Ge.Fq)(t.palette.divider,1),.88):(0,Ge._j)((0,Ge.Fq)(t.palette.divider,1),.68);return{display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid ".concat(n)}})),jw=e.forwardRef((function(e,t){var n=e.className,r=(0,S.Z)(e,zw),a=function(e){var t=e.classes;return(0,L.Z)({root:["footerContainer"]},Rh,t)}({classes:sp().classes});return(0,u.jsx)(Vw,(0,i.Z)({ref:t,className:(0,C.Z)(a.root,n)},r))})),Ww=e.forwardRef((function(e,t){var n,r=ap(),a=sp(),o=rp(r,dp),s=rp(r,cx),l=rp(r,Qp),c=!a.hideFooterSelectedRowCount&&s>0?(0,u.jsx)(Bw,{selectedRowCount:s}):(0,u.jsx)("div",{}),d=a.hideFooterRowCount||a.pagination?null:(0,u.jsx)(Lw,{rowCount:o,visibleRowCount:l}),f=a.pagination&&!a.hideFooterPagination&&a.components.Pagination&&(0,u.jsx)(a.components.Pagination,(0,i.Z)({},null==(n=a.componentsProps)?void 0:n.pagination));return(0,u.jsxs)(jw,(0,i.Z)({ref:t},e,{children:[c,d,f]}))})),Uw=e.forwardRef((function(e,t){var n,r,a=sp();return(0,u.jsxs)("div",(0,i.Z)({ref:t},e,{children:[(0,u.jsx)(a.components.PreferencesPanel,(0,i.Z)({},null==(n=a.componentsProps)?void 0:n.preferencesPanel)),a.components.Toolbar&&(0,u.jsx)(a.components.Toolbar,(0,i.Z)({},null==(r=a.componentsProps)?void 0:r.toolbar))]}))})),Hw=e.forwardRef((function(e,t){var n,r,a,o=ap(),s=rp(o,Yh),l=sp(),c=rp(o,$x),d=o.current.unstable_applyPipeProcessors("preferencePanel",null,null!=(n=c.openedPanelValue)?n:Uy.filters);return(0,u.jsx)(l.components.Panel,(0,i.Z)({ref:t,as:l.components.BasePopper,open:s.length>0&&c.open},null==(r=l.componentsProps)?void 0:r.panel,e,null==(a=l.componentsProps)?void 0:a.basePopper,{children:d}))})),Gw=["className"],Xw=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:function(e,t){return t.overlay}})((function(e){var t=e.theme;return{display:"flex",height:"100%",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:(0,Ge.Fq)(t.palette.background.default,t.palette.action.disabledOpacity)}})),qw=e.forwardRef((function(e,t){var n=e.className,r=(0,S.Z)(e,Gw),a=function(e){var t=e.classes;return(0,L.Z)({root:["overlay"]},Rh,t)}({classes:sp().classes});return(0,u.jsx)(Xw,(0,i.Z)({ref:t,className:(0,C.Z)(a.root,n)},r))})),Yw=e.forwardRef((function(e,t){return(0,u.jsx)(qw,(0,i.Z)({ref:t},e,{children:(0,u.jsx)(Sd,{})}))})),Kw=e.forwardRef((function(e,t){var n=ap().current.getLocaleText("noRowsLabel");return(0,u.jsx)(qw,(0,i.Z)({ref:t},e,{children:n}))}));var Qw=e.createContext();var Jw=e.createContext();function $w(e){return(0,se.Z)("MuiTableCell",e)}var e_,t_,n_,r_,i_,a_,o_,s_,u_=(0,oe.Z)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),l_=["align","className","component","padding","scope","size","sortDirection","variant"],c_=(0,b.ZP)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["size".concat((0,Je.Z)(n.size))],"normal"!==n.padding&&t["padding".concat((0,Je.Z)(n.padding))],"inherit"!==n.align&&t["align".concat((0,Je.Z)(n.align))],n.stickyHeader&&t.stickyHeader]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===t.palette.mode?(0,Ge.$n)((0,Ge.Fq)(t.palette.divider,1),.88):(0,Ge._j)((0,Ge.Fq)(t.palette.divider,1),.68)),textAlign:"left",padding:16},"head"===n.variant&&{color:t.palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===n.variant&&{color:t.palette.text.primary},"footer"===n.variant&&{color:t.palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===n.size&&(0,v.Z)({padding:"6px 16px"},"&.".concat(u_.paddingCheckbox),{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}),"checkbox"===n.padding&&{width:48,padding:"0 0 0 4px"},"none"===n.padding&&{padding:0},"left"===n.align&&{textAlign:"left"},"center"===n.align&&{textAlign:"center"},"right"===n.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===n.align&&{textAlign:"justify"},n.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:t.palette.background.default})})),d_=e.forwardRef((function(t,n){var r,a=(0,fe.Z)({props:t,name:"MuiTableCell"}),o=a.align,s=void 0===o?"inherit":o,l=a.className,c=a.component,d=a.padding,f=a.scope,h=a.size,p=a.sortDirection,m=a.variant,g=(0,S.Z)(a,l_),v=e.useContext(Qw),y=e.useContext(Jw),x=y&&"head"===y.variant;r=c||(x?"th":"td");var b=f;!b&&x&&(b="col");var w=m||y&&y.variant,_=(0,i.Z)({},a,{align:s,component:r,padding:d||(v&&v.padding?v.padding:"normal"),size:h||(v&&v.size?v.size:"medium"),sortDirection:p,stickyHeader:"head"===w&&v&&v.stickyHeader,variant:w}),k=function(e){var t=e.classes,n=e.variant,r=e.align,i=e.padding,a=e.size,o={root:["root",n,e.stickyHeader&&"stickyHeader","inherit"!==r&&"align".concat((0,Je.Z)(r)),"normal"!==i&&"padding".concat((0,Je.Z)(i)),"size".concat((0,Je.Z)(a))]};return(0,L.Z)(o,$w,t)}(_),D=null;return p&&(D="asc"===p?"ascending":"descending"),(0,u.jsx)(c_,(0,i.Z)({as:r,ref:n,className:(0,C.Z)(k.root,l),"aria-sort":D,scope:b,ownerState:_},g))})),f_=d_,h_=(0,tu.Z)((0,u.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),p_=(0,tu.Z)((0,u.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),m_=["backIconButtonProps","count","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton"],g_=e.forwardRef((function(e,t){var n=e.backIconButtonProps,r=e.count,a=e.getItemAriaLabel,o=e.nextIconButtonProps,s=e.onPageChange,l=e.page,c=e.rowsPerPage,d=e.showFirstButton,f=e.showLastButton,h=(0,S.Z)(e,m_),p=_();return(0,u.jsxs)("div",(0,i.Z)({ref:t},h,{children:[d&&(0,u.jsx)(Pn,{onClick:function(e){s(e,0)},disabled:0===l,"aria-label":a("first",l),title:a("first",l),children:"rtl"===p.direction?e_||(e_=(0,u.jsx)(h_,{})):t_||(t_=(0,u.jsx)(p_,{}))}),(0,u.jsx)(Pn,(0,i.Z)({onClick:function(e){s(e,l-1)},disabled:0===l,color:"inherit","aria-label":a("previous",l),title:a("previous",l)},n,{children:"rtl"===p.direction?n_||(n_=(0,u.jsx)(Af,{})):r_||(r_=(0,u.jsx)(If,{}))})),(0,u.jsx)(Pn,(0,i.Z)({onClick:function(e){s(e,l+1)},disabled:-1!==r&&l>=Math.ceil(r/c)-1,color:"inherit","aria-label":a("next",l),title:a("next",l)},o,{children:"rtl"===p.direction?i_||(i_=(0,u.jsx)(If,{})):a_||(a_=(0,u.jsx)(Af,{}))})),f&&(0,u.jsx)(Pn,{onClick:function(e){s(e,Math.max(0,Math.ceil(r/c)-1))},disabled:l>=Math.ceil(r/c)-1,"aria-label":a("last",l),title:a("last",l),children:"rtl"===p.direction?o_||(o_=(0,u.jsx)(p_,{})):s_||(s_=(0,u.jsx)(h_,{}))})]}))}));function v_(e){return(0,se.Z)("MuiTablePagination",e)}var y_,x_=(0,oe.Z)("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),b_=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton"],w_=(0,b.ZP)(f_,{name:"MuiTablePagination",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t=e.theme;return{overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}}})),__=(0,b.ZP)(gt,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:function(e,t){return(0,i.Z)((0,v.Z)({},"& .".concat(x_.actions),t.actions),t.toolbar)}})((function(e){var t,n=e.theme;return t={minHeight:52,paddingRight:2},(0,v.Z)(t,"".concat(n.breakpoints.up("xs")," and (orientation: landscape)"),{minHeight:52}),(0,v.Z)(t,n.breakpoints.up("sm"),{minHeight:52,paddingRight:2}),(0,v.Z)(t,"& .".concat(x_.actions),{flexShrink:0,marginLeft:20}),t})),S_=(0,b.ZP)("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:function(e,t){return t.spacer}})({flex:"1 1 100%"}),C_=(0,b.ZP)("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:function(e,t){return t.selectLabel}})((function(e){var t=e.theme;return(0,i.Z)({},t.typography.body2,{flexShrink:0})})),k_=(0,b.ZP)($u,{name:"MuiTablePagination",slot:"Select",overridesResolver:function(e,t){var n;return(0,i.Z)((n={},(0,v.Z)(n,"& .".concat(x_.selectIcon),t.selectIcon),(0,v.Z)(n,"& .".concat(x_.select),t.select),n),t.input,t.selectRoot)}})((0,v.Z)({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8},"& .".concat(x_.select),{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"})),D_=(0,b.ZP)(il,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:function(e,t){return t.menuItem}})({}),T_=(0,b.ZP)("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:function(e,t){return t.displayedRows}})((function(e){var t=e.theme;return(0,i.Z)({},t.typography.body2,{flexShrink:0})}));function I_(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\u2013").concat(n," of ").concat(-1!==r?r:"more than ".concat(n))}function A_(e){return"Go to ".concat(e," page")}var M_=e.forwardRef((function(t,n){var r,a=(0,fe.Z)({props:t,name:"MuiTablePagination"}),o=a.ActionsComponent,s=void 0===o?g_:o,l=a.backIconButtonProps,c=a.className,d=a.colSpan,f=a.component,h=void 0===f?f_:f,p=a.count,m=a.getItemAriaLabel,g=void 0===m?A_:m,v=a.labelDisplayedRows,y=void 0===v?I_:v,x=a.labelRowsPerPage,b=void 0===x?"Rows per page:":x,w=a.nextIconButtonProps,_=a.onPageChange,k=a.onRowsPerPageChange,D=a.page,T=a.rowsPerPage,I=a.rowsPerPageOptions,A=void 0===I?[10,25,50,100]:I,M=a.SelectProps,E=void 0===M?{}:M,N=a.showFirstButton,R=void 0!==N&&N,P=a.showLastButton,O=void 0!==P&&P,Z=(0,S.Z)(a,b_),B=a,z=function(e){var t=e.classes;return(0,L.Z)({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},v_,t)}(B),V=E.native?"option":D_;h!==f_&&"td"!==h||(r=d||1e3);var j=(0,Hc.Z)(E.id),W=(0,Hc.Z)(E.labelId);return(0,u.jsx)(w_,(0,i.Z)({colSpan:r,ref:n,as:h,ownerState:B,className:(0,C.Z)(z.root,c)},Z,{children:(0,u.jsxs)(__,{className:z.toolbar,children:[(0,u.jsx)(S_,{className:z.spacer}),A.length>1&&(0,u.jsx)(C_,{className:z.selectLabel,id:W,children:b}),A.length>1&&(0,u.jsx)(k_,(0,i.Z)({variant:"standard",input:y_||(y_=(0,u.jsx)(yu,{})),value:T,onChange:k,id:j,labelId:W},E,{classes:(0,i.Z)({},E.classes,{root:(0,C.Z)(z.input,z.selectRoot,(E.classes||{}).root),select:(0,C.Z)(z.select,(E.classes||{}).select),icon:(0,C.Z)(z.selectIcon,(E.classes||{}).icon)}),children:A.map((function(t){return(0,e.createElement)(V,(0,i.Z)({},!F(V)&&{ownerState:B},{className:z.menuItem,key:t.label?t.label:t,value:t.value?t.value:t}),t.label?t.label:t)}))})),(0,u.jsx)(T_,{className:z.displayedRows,children:y({from:0===p?0:D*T+1,to:-1===p?(D+1)*T:-1===T?p:Math.min(p,(D+1)*T),count:-1===p?-1:p,page:D})}),(0,u.jsx)(s,{className:z.actions,backIconButtonProps:l,count:p,nextIconButtonProps:w,onPageChange:_,page:D,rowsPerPage:T,showFirstButton:R,showLastButton:O,getItemAriaLabel:g})]})}))})),E_=(0,b.ZP)(M_)((function(e){var t,n=e.theme;return t={},(0,v.Z)(t,"& .".concat(x_.selectLabel),(0,v.Z)({display:"none"},n.breakpoints.up("sm"),{display:"block"})),(0,v.Z)(t,"& .".concat(x_.input),(0,v.Z)({display:"none"},n.breakpoints.up("sm"),{display:"inline-flex"})),t})),N_=e.forwardRef((function(t,n){var r,a=ap(),o=sp(),s=rp(a,hx),l=e.useMemo((function(){return Math.floor(s.rowCount/(s.pageSize||1))}),[s.rowCount,s.pageSize]),c=e.useCallback((function(e){var t=Number(e.target.value);a.current.setPageSize(t)}),[a]),d=e.useCallback((function(e,t){a.current.setPage(t)}),[a]);return(0,u.jsx)(E_,(0,i.Z)({ref:n,component:"div",count:s.rowCount,page:s.page<=l?s.page:l,rowsPerPageOptions:null!=(r=o.rowsPerPageOptions)&&r.includes(s.pageSize)?o.rowsPerPageOptions:[],rowsPerPage:s.pageSize,onPageChange:d,onRowsPerPageChange:c},a.current.getLocaleText("MuiTablePagination"),t))})),R_=["className"],P_=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:function(e,t){return t.panelContent}})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function O_(e){var t=e.className,n=(0,S.Z)(e,R_),r=function(e){var t=e.classes;return(0,L.Z)({root:["panelContent"]},Rh,t)}({classes:sp().classes});return(0,u.jsx)(P_,(0,i.Z)({className:(0,C.Z)(t,r.root)},n))}var L_=["className"],F_=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:function(e,t){return t.panelFooter}})((function(e){return{padding:e.theme.spacing(.5),display:"flex",justifyContent:"space-between"}}));function Z_(e){var t=e.className,n=(0,S.Z)(e,L_),r=function(e){var t=e.classes;return(0,L.Z)({root:["panelFooter"]},Rh,t)}({classes:sp().classes});return(0,u.jsx)(F_,(0,i.Z)({className:(0,C.Z)(t,r.root)},n))}var B_=["className"],z_=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:function(e,t){return t.panelWrapper}})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),V_=function(){return!0};function j_(e){var t=e.className,n=(0,S.Z)(e,B_),r=function(e){var t=e.classes;return(0,L.Z)({root:["panelWrapper"]},Rh,t)}({classes:sp().classes});return(0,u.jsx)(ae,{open:!0,disableEnforceFocus:!0,isEnabled:V_,children:(0,u.jsx)(z_,(0,i.Z)({tabIndex:-1,className:(0,C.Z)(t,r.root)},n))})}var W_=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:function(e,t){return t.filterForm}})((function(e){return{display:"flex",padding:e.theme.spacing(1)}})),U_=(0,b.ZP)(xv,{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:function(e,t){return t.filterFormDeleteIcon}})((function(e){var t=e.theme;return{flexShrink:0,justifyContent:"flex-end",marginRight:t.spacing(.5),marginBottom:t.spacing(.2)}})),H_=(0,b.ZP)(xv,{name:"MuiDataGrid",slot:"FilterFormLinkOperatorInput",overridesResolver:function(e,t){return t.filterFormLinkOperatorInput}})({minWidth:55,marginRight:5,justifyContent:"end"}),G_=(0,b.ZP)(xv,{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:function(e,t){return t.filterFormColumnInput}})({width:150}),X_=(0,b.ZP)(xv,{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:function(e,t){return t.filterFormOperatorInput}})({width:120}),q_=(0,b.ZP)(xv,{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:function(e,t){return t.filterFormValueInput}})({width:190}),Y_=function(e){switch(e){case Cx.And:return"filterPanelOperatorAnd";case Cx.Or:return"filterPanelOperatorOr";default:throw new Error("MUI: Invalid `linkOperator` property in the `GridFilterPanel`.")}},K_=function(e){return e.headerName||e.field},Q_=new Intl.Collator;function J_(t){var n,r,a,o,s,l,c,d=t.item,f=t.hasMultipleFilters,h=t.deleteFilter,p=t.applyFilterChanges,m=t.multiFilterOperator,g=t.showMultiFilterOperators,v=t.disableMultiFilterOperator,y=t.applyMultiFilterOperatorChanges,x=t.focusElementRef,b=t.linkOperators,w=void 0===b?[Cx.And,Cx.Or]:b,_=t.columnsSort,S=t.deleteIconProps,k=void 0===S?{}:S,D=t.linkOperatorInputProps,T=void 0===D?{}:D,I=t.operatorInputProps,A=void 0===I?{}:I,M=t.columnInputProps,E=void 0===M?{}:M,N=t.valueInputProps,R=void 0===N?{}:N,P=ap(),O=rp(P,ep),F=(0,Hc.Z)(),Z=(0,Hc.Z)(),B=(0,Hc.Z)(),z=(0,Hc.Z)(),V=sp(),j=function(e){var t=e.classes;return(0,L.Z)({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],linkOperatorInput:["filterFormLinkOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},Rh,t)}({classes:V.classes}),W=e.useRef(null),U=e.useRef(null),H=f&&w.length>0,G=(null==(n=V.componentsProps)?void 0:n.baseFormControl)||{},X=null==(a=((null==(r=V.componentsProps)?void 0:r.baseSelect)||{}).native)||a,q=X?"option":il,Y=e.useMemo((function(){switch(_){case"asc":return O.sort((function(e,t){return Q_.compare(K_(e),K_(t))}));case"desc":return O.sort((function(e,t){return-Q_.compare(K_(e),K_(t))}));default:return O}}),[O,_]),K=d.columnField?P.current.getColumn(d.columnField):null,Q=e.useMemo((function(){var e;return d.operatorValue&&K?null==(e=K.filterOperators)?void 0:e.find((function(e){return e.value===d.operatorValue})):null}),[d,K]),J=e.useCallback((function(e){var t=e.target.value,n=P.current.getColumn(t);if(n.field!==K.field){var r=n.filterOperators.find((function(e){return e.value===d.operatorValue}))||n.filterOperators[0],a=!r.InputComponent||r.InputComponent!==(null==Q?void 0:Q.InputComponent);p((0,i.Z)({},d,{columnField:t,operatorValue:r.value,value:a?void 0:d.value}))}}),[P,p,d,K,Q]),$=e.useCallback((function(e){var t=e.target.value,n=null==K?void 0:K.filterOperators.find((function(e){return e.value===t})),r=!(null!=n&&n.InputComponent)||(null==n?void 0:n.InputComponent)!==(null==Q?void 0:Q.InputComponent);p((0,i.Z)({},d,{operatorValue:t,value:r?void 0:d.value}))}),[p,d,K,Q]),ee=e.useCallback((function(e){var t=e.target.value===Cx.And.toString()?Cx.And:Cx.Or;y(t)}),[y]);return e.useImperativeHandle(x,(function(){return{focus:function(){var e;null!=Q&&Q.InputComponent?null==W||null==(e=W.current)||e.focus():U.current.focus()}}}),[Q]),(0,u.jsxs)(W_,{className:j.root,children:[(0,u.jsx)(U_,(0,i.Z)({variant:"standard",as:V.components.BaseFormControl},G,k,{className:(0,C.Z)(j.deleteIcon,G.className,k.className),children:(0,u.jsx)(Pn,{"aria-label":P.current.getLocaleText("filterPanelDeleteIconLabel"),title:P.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:function(){V.disableMultipleColumnsFiltering?void 0===d.value?h(d):p((0,i.Z)({},d,{value:void 0})):h(d)},size:"small",children:(0,u.jsx)(V.components.FilterPanelDeleteIcon,{fontSize:"small"})})})),(0,u.jsx)(H_,(0,i.Z)({variant:"standard",as:V.components.BaseFormControl},G,T,{sx:(0,i.Z)({display:H?"flex":"none",visibility:g?"visible":"hidden"},G.sx||{},T.sx||{}),className:(0,C.Z)(j.linkOperatorInput,G.className,T.className),children:(0,u.jsx)(V.components.BaseSelect,(0,i.Z)({inputProps:{"aria-label":P.current.getLocaleText("filterPanelLinkOperator")},value:m,onChange:ee,disabled:!!v||1===w.length,native:X},null==(o=V.componentsProps)?void 0:o.baseSelect,{children:w.map((function(e){return(0,u.jsx)(q,{value:e.toString(),children:P.current.getLocaleText(Y_(e))},e.toString())}))}))})),(0,u.jsxs)(G_,(0,i.Z)({variant:"standard",as:V.components.BaseFormControl},G,E,{className:(0,C.Z)(j.columnInput,G.className,E.className),children:[(0,u.jsx)(pv,{htmlFor:F,id:Z,children:P.current.getLocaleText("filterPanelColumns")}),(0,u.jsx)(V.components.BaseSelect,(0,i.Z)({labelId:Z,id:F,label:P.current.getLocaleText("filterPanelColumns"),value:d.columnField||"",onChange:J,native:X},null==(s=V.componentsProps)?void 0:s.baseSelect,{children:Y.map((function(e){return(0,u.jsx)(q,{value:e.field,children:K_(e)},e.field)}))}))]})),(0,u.jsxs)(X_,(0,i.Z)({variant:"standard",as:V.components.BaseFormControl},G,A,{className:(0,C.Z)(j.operatorInput,G.className,A.className),children:[(0,u.jsx)(pv,{htmlFor:B,id:z,children:P.current.getLocaleText("filterPanelOperators")}),(0,u.jsx)(V.components.BaseSelect,(0,i.Z)({labelId:z,label:P.current.getLocaleText("filterPanelOperators"),id:B,value:d.operatorValue,onChange:$,native:X,inputRef:U},null==(l=V.componentsProps)?void 0:l.baseSelect,{children:null==K||null==(c=K.filterOperators)?void 0:c.map((function(e){return(0,u.jsx)(q,{value:e.value,children:e.label||P.current.getLocaleText("filterOperator".concat((0,Je.Z)(e.value)))},e.value)}))}))]})),(0,u.jsx)(q_,(0,i.Z)({variant:"standard",as:V.components.BaseFormControl},G,R,{className:(0,C.Z)(j.valueInput,G.className,R.className),children:null!=Q&&Q.InputComponent?(0,u.jsx)(Q.InputComponent,(0,i.Z)({apiRef:P,item:d,applyValue:p,focusElementRef:W},Q.InputComponentProps)):null}))]})}var $_=["linkOperators","columnsSort","filterFormProps"];function eS(e){return(0,se.Z)("MuiFormControlLabel",e)}var tS=(0,oe.Z)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]),nS=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","value"],rS=(0,b.ZP)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,v.Z)({},"& .".concat(tS.label),t.label),t.root,t["labelPlacement".concat((0,Je.Z)(n.labelPlacement))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)((0,v.Z)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16},"&.".concat(tS.disabled),{cursor:"default"}),"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},(0,v.Z)({},"& .".concat(tS.label),(0,v.Z)({},"&.".concat(tS.disabled),{color:(t.vars||t).palette.text.disabled})))})),iS=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiFormControlLabel"}),a=r.className,o=r.componentsProps,s=void 0===o?{}:o,l=r.control,c=r.disabled,d=r.disableTypography,f=r.label,h=r.labelPlacement,p=void 0===h?"end":h,m=(0,S.Z)(r,nS),g=eu(),v=c;"undefined"===typeof v&&"undefined"!==typeof l.props.disabled&&(v=l.props.disabled),"undefined"===typeof v&&g&&(v=g.disabled);var y={disabled:v};["checked","name","onChange","value","inputRef"].forEach((function(e){"undefined"===typeof l.props[e]&&"undefined"!==typeof r[e]&&(y[e]=r[e])}));var x=Js({props:r,muiFormControl:g,states:["error"]}),b=(0,i.Z)({},r,{disabled:v,labelPlacement:p,error:x.error}),w=function(e){var t=e.classes,n=e.disabled,r=e.labelPlacement,i=e.error,a={root:["root",n&&"disabled","labelPlacement".concat((0,Je.Z)(r)),i&&"error"],label:["label",n&&"disabled"]};return(0,L.Z)(a,eS,t)}(b),_=f;return null==_||_.type===Bt||d||(_=(0,u.jsx)(Bt,(0,i.Z)({component:"span",className:w.label},s.typography,{children:_}))),(0,u.jsxs)(rS,(0,i.Z)({className:(0,C.Z)(w.root,a),ownerState:b,ref:n},m,{children:[e.cloneElement(l,y),_]}))})),aS=iS,oS=["className"],sS=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"PanelHeader",overridesResolver:function(e,t){return t.panelHeader}})((function(e){return{padding:e.theme.spacing(1)}}));function uS(e){var t=e.className,n=(0,S.Z)(e,oS),r=function(e){var t=e.classes;return(0,L.Z)({root:["panelHeader"]},Rh,t)}({classes:sp().classes});return(0,u.jsx)(sS,(0,i.Z)({className:(0,C.Z)(t,r.root)},n))}var lS=!1;"undefined"!==typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/soothsayer-wizard-feature-deploy",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.GRID_EXPERIMENTAL_ENABLED&&om()&&window.localStorage.getItem("GRID_EXPERIMENTAL_ENABLED")?lS="true"===window.localStorage.getItem("GRID_EXPERIMENTAL_ENABLED"):"undefined"!==typeof process&&(lS="true"==={NODE_ENV:"production",PUBLIC_URL:"/soothsayer-wizard-feature-deploy",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.GRID_EXPERIMENTAL_ENABLED);var cS=lS,dS=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"ColumnsPanel",overridesResolver:function(e,t){return t.columnsPanel}})((function(){return{padding:"8px 0px 8px 8px"}})),fS=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"ColumnsPanelRow",overridesResolver:function(e,t){return t.columnsPanelRow}})((function(e){var t=e.theme;return(0,v.Z)({display:"flex",justifyContent:"space-between",padding:"1px 8px 1px 7px"},"& .".concat(nw.root),{marginRight:t.spacing(.5)})})),hS=(0,b.ZP)(Pn)({justifyContent:"flex-end"});var pS=["children","className","classes"],mS=(0,oe.Z)("MuiDataGrid",["panel","paper"]),gS=(0,b.ZP)(Uc,{name:"MuiDataGrid",slot:"Panel",overridesResolver:function(e,t){return t.panel}})((function(e){return{zIndex:e.theme.zIndex.modal}})),vS=(0,b.ZP)(Qe,{name:"MuiDataGrid",slot:"Paper",overridesResolver:function(e,t){return t.paper}})((function(e){return{backgroundColor:e.theme.palette.background.paper,minWidth:300,maxHeight:450,display:"flex"}})),yS=e.forwardRef((function(t,n){var r,a=t.children,o=t.className,s=(0,S.Z)(t,pS),l=ap(),c=mS,d=e.useState(!1),f=(0,g.Z)(d,2),h=f[0],p=f[1],m=e.useCallback((function(){l.current.hidePreferences()}),[l]),v=e.useCallback((function(e){ay(e.key)&&l.current.hidePreferences()}),[l]),y=e.useMemo((function(){return[{name:"flip",enabled:!1},{name:"isPlaced",enabled:!0,phase:"main",fn:function(){p(!0)},effect:function(){return function(){p(!1)}}}]}),[]),x=null==(r=l.current.columnHeadersContainerElementRef)?void 0:r.current;return x?(0,u.jsx)(gS,(0,i.Z)({ref:n,placement:"bottom-start",className:(0,C.Z)(o,c.panel),anchorEl:x,modifiers:y},s,{children:(0,u.jsx)(Ey,{mouseEvent:"onMouseUp",onClickAway:m,children:(0,u.jsx)(vS,{className:c.paper,elevation:8,onKeyDown:v,children:h&&a})})})):null})),xS=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","renderedColumns","containerWidth","firstColumnToRender","lastColumnToRender","cellFocus","cellTabIndex","editRowsState","isLastVisible","onClick","onDoubleClick","onMouseEnter","onMouseLeave"],bS=function(e){var t=e.width,n=e.height;if(!t||!n)return null;var r={width:t,height:n};return(0,u.jsx)("div",{className:"MuiDataGrid-cell",style:r})};var wS=["sortingOrder"],_S=e.memo((function(e){var t=e.sortingOrder,n=(0,S.Z)(e,wS),r=sp(),a="asc"===(0,g.Z)(t,1)[0]?r.components.ColumnSortedAscendingIcon:r.components.ColumnSortedDescendingIcon;return a?(0,u.jsx)(a,(0,i.Z)({},n)):null})),SS=["message","hasError","errorInfo"],CS=e.forwardRef((function(e,t){var n=e.message,r=(0,S.Z)(e,SS),a=ap(),o=a.current.getLocaleText("errorOverlayDefaultLabel"),s=rp(a,bp);return(0,u.jsx)(qw,(0,i.Z)({ref:t,sx:{width:"100%",minHeight:2*s}},r,{children:n||o}))})),kS=e.forwardRef((function(e,t){var n=ap().current.getLocaleText("noResultsOverlayLabel");return(0,u.jsx)(qw,(0,i.Z)({ref:t},e,{children:n}))})),DS={BooleanCellTrueIcon:cg,BooleanCellFalseIcon:ig,ColumnMenuIcon:rg,OpenFilterButtonIcon:Ym,FilterPanelDeleteIcon:ig,ColumnFilteredIcon:Km,ColumnSelectorIcon:Jm,ColumnUnsortedIcon:_S,ColumnSortedAscendingIcon:Hm,ColumnSortedDescendingIcon:Gm,ColumnResizeIcon:$m,DensityCompactIcon:eg,DensityStandardIcon:tg,DensityComfortableIcon:ng,ExportIcon:lg,MoreActionsIcon:dg,TreeDataCollapseIcon:qm,TreeDataExpandIcon:Xm,GroupingCriteriaCollapseIcon:qm,GroupingCriteriaExpandIcon:Xm,DetailPanelExpandIcon:ag,DetailPanelCollapseIcon:og,RowReorderIcon:ug,QuickFilterIcon:Qm},TS=(0,i.Z)({},DS,{BaseCheckbox:$b,BaseTextField:Ev,BaseFormControl:xv,BaseSelect:$u,BaseSwitch:lw,BaseButton:yl,BaseTooltip:nd,BasePopper:Uc,Cell:function(t){var n=t.align,r=t.children,a=t.colIndex,o=t.cellMode,s=t.field,l=t.formattedValue,c=t.hasFocus,d=t.height,f=t.isEditable,h=t.rowId,p=t.tabIndex,m=t.value,g=t.width,v=t.className,y=t.showRightBorder,x=t.colSpan,b=t.onClick,w=t.onDoubleClick,_=t.onMouseDown,k=t.onMouseUp,D=t.onKeyDown,T=t.onDragEnter,I=t.onDragOver,A=(0,S.Z)(t,cw),M=null==l?m:l,E=e.useRef(null),N=e.useRef(null),R=ap(),P=function(e){var t=e.align,n=e.showRightBorder,r=e.isEditable,i=e.classes,a={root:["cell","cell--text".concat((0,Je.Z)(t)),r&&"cell--editable",n&&"withBorder"],content:["cellContent"]};return(0,L.Z)(a,Rh,i)}({align:n,showRightBorder:y,isEditable:f,classes:sp().classes}),O=e.useCallback((function(e){return function(t){var n=R.current.getCellParams(h,s||"");R.current.publishEvent(e,n,t),k&&k(t)}}),[R,s,k,h]),F=e.useCallback((function(e,t){return function(n){if(n.currentTarget.contains(n.target)&&R.current.getRow(h)){var r=R.current.getCellParams(h,s||"");R.current.publishEvent(e,r,n),t&&t(n)}}}),[R,s,h]),Z={minWidth:g,maxWidth:g,minHeight:d,maxHeight:d};e.useLayoutEffect((function(){if(c&&o!==ny.Edit){var e=(0,qo.Z)(R.current.rootElementRef.current);if(E.current&&!E.current.contains(e.activeElement)){var t=E.current.querySelector('[tabindex="0"]'),n=N.current||t||E.current;if(void 0===tw&&document.createElement("div").focus({get preventScroll(){return tw=!0,!1}}),tw)n.focus({preventScroll:!0});else{var r=R.current.getScrollPosition();n.focus(),R.current.scroll(r)}}}}),[c,o,R]);var B=A.onFocus,z="actions"===R.current.getColumn(s).type;return(0,u.jsx)("div",(0,i.Z)({ref:E,className:(0,C.Z)(v,P.root),role:"cell","data-field":s,"data-colindex":a,"aria-colindex":a+1,"aria-colspan":x,style:Z,tabIndex:"view"!==o&&f||z?-1:p,onClick:F("cellClick",b),onDoubleClick:F("cellDoubleClick",w),onMouseDown:F("cellMouseDown",_),onMouseUp:O("cellMouseUp"),onKeyDown:F("cellKeyDown",D),onDragEnter:F("cellDragEnter",T),onDragOver:F("cellDragOver",I)},A,{onFocus:B,children:null==r?(0,u.jsx)("div",{className:P.content,children:null==M?void 0:M.toString()}):e.isValidElement(r)&&z?e.cloneElement(r,{focusElementRef:N}):r}))},ColumnHeaderFilterIconButton:function(t){var n,r=t.counter,a=t.field,o=t.onClick,s=ap(),l=sp(),c=function(e){var t=e.classes;return(0,L.Z)({icon:["filterIcon"]},Rh,t)}((0,i.Z)({},t,{classes:l.classes})),d=e.useCallback((function(e){e.preventDefault(),e.stopPropagation();var t=$x(s.current.state),n=t.open,r=t.openedPanelValue;n&&r===Uy.filters?s.current.hideFilterPanel():s.current.showFilterPanel(),o&&o(s.current.getColumnHeaderParams(a),e)}),[s,a,o]);if(!r)return null;var f=(0,u.jsx)(Pn,{onClick:d,color:"default","aria-label":s.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,children:(0,u.jsx)(l.components.ColumnFilteredIcon,{className:c.icon,fontSize:"small"})});return(0,u.jsx)(l.components.BaseTooltip,(0,i.Z)({title:s.current.getLocaleText("columnHeaderFiltersTooltipActive")(r),enterDelay:1e3},null==(n=l.componentsProps)?void 0:n.baseTooltip,{children:(0,u.jsxs)(Dw,{children:[r>1&&(0,u.jsx)(Sw,{badgeContent:r,color:"default",children:f}),1===r&&f]})}))},ColumnMenu:Rw,ErrorOverlay:CS,Footer:Ww,Header:Uw,Toolbar:null,PreferencesPanel:Hw,LoadingOverlay:Yw,NoResultsOverlay:kS,NoRowsOverlay:Kw,Pagination:N_,FilterPanel:function(t){var n,r=ap(),a=sp(),o=rp(r,jp),s=rp(r,ep),l=e.useRef(null),c=t.linkOperators,d=void 0===c?[Cx.And,Cx.Or]:c,f=t.columnsSort,h=t.filterFormProps,p=(0,S.Z)(t,$_),m=e.useCallback((function(e){r.current.upsertFilterItem(e)}),[r]),g=e.useCallback((function(e){r.current.setFilterLinkOperator(e)}),[r]),v=e.useCallback((function(){var e=s.find((function(e){var t;return null==(t=e.filterOperators)?void 0:t.length}));return e?{columnField:e.field,operatorValue:e.filterOperators[0].value,id:Math.round(1e5*Math.random())}:null}),[s]),y=e.useMemo((function(){if(o.items.length)return o.items;var e=v();return e?[e]:[]}),[o.items,v]),x=y.length>1,b=e.useCallback((function(e){var t=1===y.length;r.current.deleteFilterItem(e),t&&r.current.hideFilterPanel()}),[r,y.length]);return e.useEffect((function(){d.length>0&&o.linkOperator&&!d.includes(o.linkOperator)&&g(d[0])}),[d,g,o.linkOperator]),e.useEffect((function(){y.length>0&&l.current.focus()}),[y.length]),(0,u.jsxs)(j_,(0,i.Z)({},p,{children:[(0,u.jsx)(O_,{children:y.map((function(e,t){return(0,u.jsx)(J_,(0,i.Z)({item:e,applyFilterChanges:m,deleteFilter:b,hasMultipleFilters:x,showMultiFilterOperators:t>0,multiFilterOperator:o.linkOperator,disableMultiFilterOperator:1!==t,applyMultiFilterOperatorChanges:g,focusElementRef:t===y.length-1?l:null,linkOperators:d,columnsSort:f},h),null==e.id?t:e.id)}))}),!a.disableMultipleColumnsFiltering&&(0,u.jsx)(Z_,{children:(0,u.jsx)(a.components.BaseButton,(0,i.Z)({onClick:function(){var e=v();e&&r.current.setFilterModel((0,i.Z)({},o,{items:[].concat((0,T.Z)(y),[e])}))},startIcon:(0,u.jsx)(ag,{}),color:"primary"},null==(n=a.componentsProps)?void 0:n.baseButton,{children:r.current.getLocaleText("filterPanelAddFilter")}))})]}))},ColumnsPanel:function(t){var n,r,a,o=ap(),s=e.useRef(null),l=rp(o,Yh),c=rp(o,Kh),d=sp(),f=e.useState(""),h=(0,g.Z)(f,2),p=h[0],m=h[1],v=function(e){var t=e.classes;return(0,L.Z)({root:["columnsPanel"],columnsPanelRow:["columnsPanelRow"]},Rh,t)}({classes:d.classes}),y=function(e){var t=e.target.name;o.current.setColumnVisibility(t,!1===c[t])},x=e.useCallback((function(e){o.current.updateColumns(l.map((function(t){return!1!==t.hideable?{field:t.field,hide:!e}:t})))}),[o,l]),b=e.useCallback((function(e){m(e.target.value)}),[]),w=e.useMemo((function(){if(!p)return l;var e=p.toLowerCase();return l.filter((function(t){return(t.headerName||t.field).toLowerCase().indexOf(e)>-1}))}),[l,p]);return e.useEffect((function(){s.current.focus()}),[]),(0,u.jsxs)(j_,(0,i.Z)({},t,{children:[(0,u.jsx)(uS,{children:(0,u.jsx)(d.components.BaseTextField,(0,i.Z)({label:o.current.getLocaleText("columnsPanelTextFieldLabel"),placeholder:o.current.getLocaleText("columnsPanelTextFieldPlaceholder"),inputRef:s,value:p,onChange:b,variant:"standard",fullWidth:!0},null==(n=d.componentsProps)?void 0:n.baseTextField))}),(0,u.jsx)(O_,{children:(0,u.jsx)(dS,{className:v.root,children:w.map((function(e){var t;return(0,u.jsxs)(fS,{className:v.columnsPanelRow,children:[(0,u.jsx)(aS,{control:(0,u.jsx)(d.components.BaseSwitch,(0,i.Z)({disabled:!1===e.hideable,checked:!1!==c[e.field],onClick:y,name:e.field,color:"primary",size:"small"},null==(t=d.componentsProps)?void 0:t.baseSwitch)),label:e.headerName||e.field}),!d.disableColumnReorder&&cS&&(0,u.jsx)(hS,{draggable:!0,"aria-label":o.current.getLocaleText("columnsPanelDragIconLabel"),title:o.current.getLocaleText("columnsPanelDragIconLabel"),size:"small",disabled:!0,children:(0,u.jsx)(ug,{})})]},e.field)}))})}),(0,u.jsxs)(Z_,{children:[(0,u.jsx)(d.components.BaseButton,(0,i.Z)({onClick:function(){return x(!1)},color:"primary"},null==(r=d.componentsProps)?void 0:r.baseButton,{children:o.current.getLocaleText("columnsPanelHideAllButton")})),(0,u.jsx)(d.components.BaseButton,(0,i.Z)({onClick:function(){return x(!0)},color:"primary"},null==(a=d.componentsProps)?void 0:a.baseButton,{children:o.current.getLocaleText("columnsPanelShowAllButton")}))]})]}))},Panel:yS,Row:function(t){var n,r=t.selected,a=t.rowId,o=t.row,s=t.index,l=t.style,c=t.rowHeight,d=t.className,f=t.visibleColumns,h=t.renderedColumns,p=t.containerWidth,m=t.firstColumnToRender,g=t.cellFocus,v=t.cellTabIndex,y=t.editRowsState,x=t.isLastVisible,b=void 0!==x&&x,w=t.onClick,_=t.onDoubleClick,k=t.onMouseEnter,D=t.onMouseLeave,T=(0,S.Z)(t,xS),I=s+2,A=ap(),M=sp(),E=Wx(A,M),N=rp(A,$h),R=null!=(n=A.current.getRootDimensions())?n:{hasScrollX:!1,hasScrollY:!1},P=R.hasScrollX,O=R.hasScrollY,F=function(e){var t=e.editable,n=e.editing,r=e.selected,i=e.isLastVisible,a=e.classes,o={root:["row",r&&"selected",t&&"row--editable",n&&"row--editing",i&&"row--lastVisible"]};return(0,L.Z)(o,Rh,a)}({selected:r,isLastVisible:b,classes:M.classes,editing:A.current.getRowMode(a)===ry.Edit,editable:M.editMode===ty.Row}),Z=e.useCallback((function(e,t){return function(n){(1!==n.target.nodeType||n.currentTarget.contains(n.target))&&A.current.getRow(a)&&(A.current.publishEvent(e,A.current.getRowParams(a),n),t&&t(n))}}),[A,a]),B=e.useCallback((function(e){var t=kb(e.target,Ph.cell),n=null==t?void 0:t.getAttribute("data-field");if(n){if(n===wx.field)return;if(n===Hx)return;if("__reorder__"===n)return;if(A.current.getCellMode(a,n)===ny.Edit)return;if(A.current.getColumn(n).type===Zy)return}Z("rowClick",w)(e)}),[A,w,Z,a]),z=(0,i.Z)({},l,{maxHeight:c,minHeight:c}),V=A.current.unstable_getRowInternalSizes(a);null!=V&&V.spacingTop&&(z["border"===M.rowSpacingType?"borderTopWidth":"marginTop"]=V.spacingTop),null!=V&&V.spacingBottom&&(z["border"===M.rowSpacingType?"borderBottomWidth":"marginBottom"]=V.spacingBottom);var j=null;if("function"===typeof M.getRowClassName){var W=s-E.range.firstRowIndex,U=(0,i.Z)({},A.current.getRowParams(a),{isFirstVisible:0===W,isLastVisible:W===E.rows.length-1,indexRelativeToCurrentPage:W});j=M.getRowClassName(U)}for(var H=[],G=0;G<h.length;G+=1){var X=h[G],q=m+G,Y=q===f.length-1,K=Y?!(Y&&P&&!O)&&M.disableExtendRowFullWidth:M.showCellRightBorder,Q=A.current.getCellParams(a,X.field),J=[];X.cellClassName&&J.push((0,C.Z)("function"===typeof X.cellClassName?X.cellClassName(Q):X.cellClassName));var $,ee=y[a]?y[a][X.field]:null,te=null;if(null==ee&&X.renderCell)te=X.renderCell((0,i.Z)({},Q,{api:A.current})),J.push((0,C.Z)(Ph["cell--withRenderer"],null==($=M.classes)?void 0:$["cell--withRenderer"]));if(null!=ee&&X.renderEditCell){var ne,re=o;A.current.unstable_getRowWithUpdatedValues&&(re=A.current.unstable_getRowWithUpdatedValues(a,X.field));var ie=(0,i.Z)({},Q,{row:re},ee,{api:A.current});te=X.renderEditCell(ie),J.push((0,C.Z)(Ph["cell--editing"],null==(ne=M.classes)?void 0:ne["cell--editing"]))}M.getCellClassName&&J.push(M.getCellClassName(Q));var ae=null!==g&&g.id===a&&g.field===X.field,oe=null!==v&&v.id===a&&v.field===X.field&&"view"===Q.cellMode?0:-1,se=A.current.unstable_getCellColSpanInfo(a,q);if(se&&!se.spannedByColSpan){var ue,le=se.cellProps,ce=le.colSpan,de=le.width;H.push((0,u.jsx)(M.components.Cell,(0,i.Z)({value:Q.value,field:X.field,width:de,rowId:a,height:c,showRightBorder:K,formattedValue:Q.formattedValue,align:X.align||"left",cellMode:Q.cellMode,colIndex:q,isEditable:Q.isEditable,hasFocus:ae,tabIndex:oe,className:(0,C.Z)(J),colSpan:ce},null==(ue=M.componentsProps)?void 0:ue.cell,{children:te}),X.field))}}var fe=p-N;return(0,u.jsxs)("div",(0,i.Z)({"data-id":a,"data-rowindex":s,role:"row",className:(0,C.Z)(j,F.root,d),"aria-rowindex":I,"aria-selected":r,style:z,onClick:B,onDoubleClick:Z("rowDoubleClick",_),onMouseEnter:Z("rowMouseEnter",k),onMouseLeave:Z("rowMouseLeave",D)},T,{children:[H,fe>0&&(0,u.jsx)(bS,{width:fe,height:c})]}))}}),IS={apiRef:void 0,disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,disableMultipleSelection:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,disableColumnResize:!0,signature:"DataGrid"},AS={autoHeight:!1,autoPageSize:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,columnBuffer:3,rowBuffer:3,columnThreshold:3,rowThreshold:3,density:Ky.Standard,disableExtendRowFullWidth:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnSelector:!1,disableDensitySelector:!1,disableMultipleColumnsFiltering:!1,disableMultipleSelection:!1,disableMultipleColumnsSorting:!1,disableSelectionOnClick:!1,disableVirtualization:!1,editMode:ty.Cell,filterMode:Ex,headerHeight:56,hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,logger:console,logLevel:"error",pagination:!1,paginationMode:Ex,rowHeight:52,rowsPerPageOptions:[25,50,100],rowSpacingType:"margin",showCellRightBorder:!1,showColumnRightBorder:!1,sortingOrder:["asc","desc",null],sortingMode:Ex,throttleRowsMs:0,disableColumnReorder:!1,disableColumnResize:!1,keepNonExistentRowsSelected:!1},MS=["className"],ES=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:function(e,t){return t.virtualScroller}})({overflow:"auto",position:"relative","@media print":{overflow:"hidden"}}),NS=e.forwardRef((function(e,t){var n=e.className,r=(0,S.Z)(e,MS),a=function(e){var t=e.classes;return(0,L.Z)({root:["virtualScroller"]},Rh,t)}({classes:sp().classes});return(0,u.jsx)(ES,(0,i.Z)({ref:t,className:(0,C.Z)(a.root,n)},r))})),RS=["className","style"],PS=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:function(e,t){return t.virtualScrollerContent}})({}),OS=e.forwardRef((function(e,t){var n=e.className,r=e.style,a=(0,S.Z)(e,RS),o=sp(),s=function(e){var t=e.classes,n={root:["virtualScrollerContent",e.overflowedContent&&"virtualScrollerContent--overflowed"]};return(0,L.Z)(n,Rh,t)}({classes:o.classes,overflowedContent:!o.autoHeight&&"auto"===(null==r?void 0:r.minHeight)});return(0,u.jsx)(PS,(0,i.Z)({ref:t,className:(0,C.Z)(s.root,n),style:r},a))})),LS=["className"],FS=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:function(e,t){return t.virtualScrollerRenderZone}})({position:"absolute",display:"flex",flexDirection:"column"}),ZS=e.forwardRef((function(e,t){var n=e.className,r=(0,S.Z)(e,LS),a=function(e){var t=e.classes;return(0,L.Z)({root:["virtualScrollerRenderZone"]},Rh,t)}({classes:sp().classes});return(0,u.jsx)(FS,(0,i.Z)({ref:t,className:(0,C.Z)(a.root,n)},r))})),BS=["style"];function zS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(t.length<=0)return-1;if(n>=r)return n;var i=n+Math.floor((r-n)/2),a=t[i];return e<=a?zS(e,t,n,i):zS(e,t,i+1,r)}var VS=function(e){var t=e.firstIndex,n=e.lastIndex,r=e.buffer,i=e.minFirstIndex,a=e.maxLastIndex;return[um(t-r,i,a),um(n+r,i,a)]},jS=["className","disableVirtualization"],WS=e.forwardRef((function(t,n){var r=t.className,a=t.disableVirtualization,o=(0,S.Z)(t,jS),s=function(t){var n=ap(),r=sp(),a=rp(n,Qh),o=t.ref,s=t.disableVirtualization,l=t.onRenderZonePositioning,c=t.renderZoneMinColumnIndex,d=void 0===c?0:c,f=t.renderZoneMaxColumnIndex,h=void 0===f?a.length:f,p=t.getRowProps,m=rp(n,Jh),v=rp(n,$h),y=rp(n,bp),x=rp(n,ix),b=rp(n,sx),w=rp(n,Mx),_=rp(n,tb),C=rp(n,fx),k=Wx(n,r),D=e.useRef(null),T=e.useRef(null),I=(0,Te.Z)(o,T),A=e.useState(null),M=(0,g.Z)(A,2),E=M[0],N=M[1],R=e.useRef(E),P=e.useRef({top:0,left:0}),O=e.useState(null),L=(0,g.Z)(O,2),F=L[0],Z=L[1],B=e.useRef(v),z=e.useCallback((function(){if(s)return{firstRowIndex:0,lastRowIndex:k.rows.length,firstColumnIndex:0,lastColumnIndex:a.length};var e=P.current,t=e.top,n=e.left,i=zS(t,w.positions);return{firstRowIndex:i,lastRowIndex:r.autoHeight?i+k.rows.length:zS(t+T.current.clientHeight,w.positions),firstColumnIndex:zS(n,m),lastColumnIndex:zS(n+F,m)}}),[s,w.positions,r.autoHeight,k.rows.length,m,F,a.length]);e.useEffect((function(){s?D.current.style.transform="translate3d(0px, 0px, 0px)":(T.current.scrollLeft=0,T.current.scrollTop=0)}),[s]),e.useEffect((function(){Z(T.current.clientWidth)}),[w.currentPageTotalHeight]);var V=e.useCallback((function(){T.current&&Z(T.current.clientWidth)}),[]);_m(n,"resize",V);var W=e.useCallback((function(e){var t=VS({firstIndex:e.firstRowIndex,lastIndex:e.lastRowIndex,minFirstIndex:0,maxLastIndex:k.rows.length,buffer:r.rowBuffer}),i=(0,g.Z)(t,2),a=i[0],o=i[1],s=VS({firstIndex:e.firstColumnIndex,lastIndex:e.lastColumnIndex,minFirstIndex:d,maxLastIndex:h,buffer:r.columnBuffer}),u=qy({firstColumnToRender:(0,g.Z)(s,1)[0],apiRef:n,firstRowToRender:a,lastRowToRender:o,visibleRows:k.rows}),c=Mx(n.current.state).positions[a],f=Jh(n)[u];D.current.style.transform="translate3d(".concat(f,"px, ").concat(c,"px, 0px)"),"function"===typeof l&&l({top:c,left:f})}),[n,k.rows,l,d,h,r.columnBuffer,r.rowBuffer]);e.useLayoutEffect((function(){E&&W(E)}),[E,W]);var U=e.useCallback((function(e){N(e),R.current=e}),[N,R]);e.useEffect((function(){if(null!=F){var e=z();U(e);var t=P.current,r={top:t.top,left:t.left,renderContext:e};n.current.publishEvent("rowsScroll",r)}}),[n,z,F,U]);var H=function(e){var t=e.currentTarget,i=t.scrollTop,a=t.scrollLeft;if(P.current.top=i,P.current.left=a,!(a<0||i<0)&&R.current){var o=s?R.current:z(),u=Math.abs(o.firstRowIndex-R.current.firstRowIndex),l=Math.abs(o.lastRowIndex-R.current.lastRowIndex),c=Math.abs(o.firstColumnIndex-R.current.firstColumnIndex),d=Math.abs(o.lastColumnIndex-R.current.lastColumnIndex),f=u>=r.rowThreshold||l>=r.rowThreshold||c>=r.columnThreshold||d>=r.columnThreshold||B.current!==v;n.current.publishEvent("rowsScroll",{top:i,left:a,renderContext:f?o:R.current},e),f&&(j.flushSync((function(){U(o)})),B.current=v)}},G=function(e){n.current.publishEvent("virtualScrollerWheel",{},e)},X=function(e){n.current.publishEvent("virtualScrollerTouchMove",{},e)},q=F&&v>F,Y=e.useMemo((function(){var e=Math.max(w.currentPageTotalHeight,1),t=!1;null!=T&&T.current&&e<=(null==T?void 0:T.current.clientHeight)&&(t=!0);var n={width:q?v:"auto",height:e,minHeight:t?"100%":"auto"};return r.autoHeight&&0===k.rows.length&&(n.height=2*y),n}),[T,v,w.currentPageTotalHeight,k.rows.length,q,r.autoHeight,y]);e.useEffect((function(){n.current.publishEvent("virtualScrollerContentSizeChange")}),[n,Y]),r.autoHeight&&0===k.rows.length&&(Y.height=2*y);var K={};q||(K.overflowX="hidden");var Q=e.useCallback((function(){return R.current}),[]);return n.current.unstable_getRenderContext=Q,{renderContext:E,updateRenderZonePosition:W,getRows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{renderContext:E},t=e.renderContext,o=e.minFirstColumn,l=void 0===o?d:o,c=e.maxLastColumn,f=void 0===c?h:c,m=e.availableSpace,v=void 0===m?F:m;if(!k.range||!t||null==v)return null;for(var y=s?0:r.rowBuffer,w=s?0:r.columnBuffer,S=VS({firstIndex:t.firstRowIndex,lastIndex:t.lastRowIndex,minFirstIndex:0,maxLastIndex:k.rows.length,buffer:y}),D=(0,g.Z)(S,2),T=D[0],I=D[1],A=[],M=T;M<I;M+=1){var N=k.rows[M];A.push(N),n.current.unstable_calculateColSpan({rowId:N.id,minFirstColumn:l,maxLastColumn:f})}var R=VS({firstIndex:t.firstColumnIndex,lastIndex:t.lastColumnIndex,minFirstIndex:l,maxLastIndex:f,buffer:w}),P=(0,g.Z)(R,2),O=P[0],L=P[1],Z=qy({firstColumnToRender:O,apiRef:n,firstRowToRender:T,lastRowToRender:I,visibleRows:k.rows}),B=a.slice(Z,L),z=[];for(M=0;M<A.length;M+=1){var V,j=A[M],W=j.id,U=j.model,H=T+M===k.rows.length-1,G=n.current.unstable_getRowHeight(W),X=void 0;X=null!=C[W]&&("function"!==typeof r.isRowSelectable||r.isRowSelectable(n.current.getRowParams(W))),z.push((0,u.jsx)(r.components.Row,(0,i.Z)({row:U,rowId:W,rowHeight:G,cellFocus:x,cellTabIndex:b,editRowsState:_,renderedColumns:B,visibleColumns:a,firstColumnToRender:Z,lastColumnToRender:L,selected:X,index:k.range.firstRowIndex+T+M,containerWidth:v,isLastVisible:H},"function"===typeof p?p(W,U):{},null==(V=r.componentsProps)?void 0:V.row),W))}return z},getRootProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,n=void 0===t?{}:t,r=(0,S.Z)(e,BS);return(0,i.Z)({ref:I,onScroll:H,onWheel:G,onTouchMove:X,style:(0,i.Z)({},n,K)},r)},getContentProps:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).style,t=void 0===e?{}:e;return{style:(0,i.Z)({},t,Y)}},getRenderZoneProps:function(){return{ref:D}}}}({ref:n,disableVirtualization:a}),l=s.getRootProps,c=s.getContentProps,d=s.getRenderZoneProps,f=s.getRows;return(0,u.jsx)(NS,(0,i.Z)({className:r},l(o),{children:(0,u.jsx)(OS,(0,i.Z)({},c(),{children:(0,u.jsx)(ZS,(0,i.Z)({},d(),{children:f()}))}))}))}));function US(e){var t=e.direction,n=e.index,r=e.sortingOrder,a=ap(),o=sp(),s=function(e){var t=e.classes;return(0,L.Z)({icon:["sortIcon"]},Rh,t)}((0,i.Z)({},e,{classes:o.classes})),l=function(e,t,n,r){var a,o={};return"asc"===t?a=e.ColumnSortedAscendingIcon:"desc"===t?a=e.ColumnSortedDescendingIcon:(a=e.ColumnUnsortedIcon,o.sortingOrder=r),a?(0,u.jsx)(a,(0,i.Z)({fontSize:"small",className:n},o)):null}(o.components,t,s.icon,r);if(!l)return null;var c=(0,u.jsx)(Pn,{tabIndex:-1,"aria-label":a.current.getLocaleText("columnHeaderSortIconLabel"),title:a.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",children:l});return(0,u.jsxs)(Dw,{children:[null!=n&&(0,u.jsx)(Sw,{badgeContent:n,color:"default",children:c}),null==n&&c]})}var HS=e.memo(US),GS=["className"],XS=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:function(e,t){return t.columnHeaderTitle}})((function(e){return{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:e.theme.typography.fontWeightMedium}})),qS=e.forwardRef((function(e,t){var n=e.className,r=(0,S.Z)(e,GS),a=function(e){var t=e.classes;return(0,L.Z)({root:["columnHeaderTitle"]},Rh,t)}({classes:sp().classes});return(0,u.jsx)(XS,(0,i.Z)({ref:t,className:(0,C.Z)(a.root,n)},r))}));function YS(t){var n,r=t.label,a=t.description,o=t.columnWidth,s=sp(),l=e.useRef(null),c=e.useState(""),d=(0,g.Z)(c,2),f=d[0],h=d[1];return e.useEffect((function(){if(!a&&l&&l.current){var e=(t=l.current).scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth;h(e?r:"")}var t}),[l,o,a,r]),(0,u.jsx)(s.components.BaseTooltip,(0,i.Z)({title:a||f},null==(n=s.componentsProps)?void 0:n.baseTooltip,{children:(0,u.jsx)(qS,{ref:l,children:r})}))}var KS,QS=["resizable","resizing","height","side"];!function(e){e.Left="left",e.Right="right"}(KS||(KS={}));function JS(t){var n=t.height,r=t.side,a=void 0===r?KS.Right:r,o=(0,S.Z)(t,QS),s=sp(),l=function(e){var t=e.resizable,n=e.resizing,r=e.classes,i=e.side,a={root:["columnSeparator",t&&"columnSeparator--resizable",n&&"columnSeparator--resizing",i&&"columnSeparator--side".concat((0,Je.Z)(i))],icon:["iconSeparator"]};return(0,L.Z)(a,Rh,r)}((0,i.Z)({},t,{side:a,classes:s.classes})),c=e.useCallback((function(e){e.preventDefault(),e.stopPropagation()}),[]);return(0,u.jsx)("div",(0,i.Z)({className:l.root,style:{minHeight:n,opacity:s.showColumnRightBorder?0:1}},o,{onClick:c,children:(0,u.jsx)(s.components.ColumnResizeIcon,{className:l.icon})}))}var $S=e.memo(JS),eC=e.memo((function(t){var n=t.column,r=t.open,a=t.columnMenuId,o=t.columnMenuButtonId,s=t.iconButtonRef,l=ap(),c=sp(),d=function(e){var t=e.classes,n={root:["menuIcon",e.open&&"menuOpen"],button:["menuIconButton"]};return(0,L.Z)(n,Rh,t)}((0,i.Z)({},t,{classes:c.classes})),f=e.useCallback((function(e){e.preventDefault(),e.stopPropagation(),l.current.toggleColumnMenu(n.field)}),[l,n.field]);return(0,u.jsx)("div",{className:d.root,children:(0,u.jsx)(Pn,{ref:s,tabIndex:-1,className:d.button,"aria-label":l.current.getLocaleText("columnMenuLabel"),title:l.current.getLocaleText("columnMenuLabel"),size:"small",onClick:f,"aria-expanded":r?"true":void 0,"aria-haspopup":"true","aria-controls":a,id:o,children:(0,u.jsx)(c.components.ColumnMenuIcon,{fontSize:"small"})})})}));function tC(t){var n=t.columnMenuId,r=t.columnMenuButtonId,a=t.ContentComponent,o=t.contentComponentProps,s=t.field,l=t.open,c=t.target,d=t.onExited,f=ap(),h=f.current.getColumn(s),p=e.useCallback((function(e){e.stopPropagation(),f.current.hideColumnMenu()}),[f]);return c?(0,u.jsx)(Oy,{placement:"bottom-".concat("right"===h.align?"start":"end"),open:l,target:c,onClickAway:p,onExited:d,children:(0,u.jsx)(a,(0,i.Z)({currentColumn:h,hideMenu:p,open:l,id:n,labelledby:r},o))}):null}function nC(t){var n,r,a,o,s,l=t.column,c=t.columnMenuOpen,d=t.colIndex,f=t.headerHeight,h=t.isResizing,p=t.isLastColumn,m=t.sortDirection,v=t.sortIndex,y=t.filterItemsCounter,x=t.hasFocus,b=t.tabIndex,w=t.extendRowFullWidth,_=t.disableReorder,S=t.separatorSide,k=ap(),D=sp(),T=e.useRef(null),I=(0,Hc.Z)(),A=(0,Hc.Z)(),M=e.useRef(null),E=e.useState(c),N=(0,g.Z)(E,2),R=N[0],P=N[1],O=null!=(n=k.current.getRootDimensions())?n:{hasScrollX:!1,hasScrollY:!1},F=O.hasScrollX,Z=O.hasScrollY,B=null;l.renderHeader&&(B=l.renderHeader(k.current.getColumnHeaderParams(l.field)));var z=e.useCallback((function(e){return function(t){t.currentTarget.contains(t.target)&&k.current.publishEvent(e,k.current.getColumnHeaderParams(l.field),t)}}),[k,l.field]),V={onClick:z("columnHeaderClick"),onDoubleClick:z("columnHeaderDoubleClick"),onMouseOver:z("columnHeaderOver"),onMouseOut:z("columnHeaderOut"),onMouseEnter:z("columnHeaderEnter"),onMouseLeave:z("columnHeaderLeave"),onKeyDown:z("columnHeaderKeyDown"),onFocus:z("columnHeaderFocus"),onBlur:z("columnHeaderBlur")},j={onDragStart:z("columnHeaderDragStart"),onDragEnter:z("columnHeaderDragEnter"),onDragOver:z("columnHeaderDragOver"),onDragEnd:z("columnHeaderDragEnd")},W=p?!(p&&F&&!Z)&&!w:D.showColumnRightBorder,U=function(e){var t=e.column,n=e.classes,r=e.isDragging,i=e.sortDirection,a=e.showRightBorder,o=e.filterItemsCounter,s=null!=i,u=null!=o&&o>0,l="number"===t.type,c={root:["columnHeader","left"===t.headerAlign&&"columnHeader--alignLeft","center"===t.headerAlign&&"columnHeader--alignCenter","right"===t.headerAlign&&"columnHeader--alignRight",t.sortable&&"columnHeader--sortable",r&&"columnHeader--moving",s&&"columnHeader--sorted",u&&"columnHeader--filtered",l&&"columnHeader--numeric",a&&"withBorder"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return(0,L.Z)(c,Rh,n)}((0,i.Z)({},t,{classes:D.classes,showRightBorder:W})),H=l.computedWidth,G="none";null!=m&&(G="asc"===m?"ascending":"descending"),e.useEffect((function(){R||P(c)}),[R,c]);var X=e.useCallback((function(){P(!1)}),[]),q=!D.disableColumnMenu&&!l.disableColumnMenu&&(0,u.jsx)(eC,{column:l,columnMenuId:I,columnMenuButtonId:A,open:R,iconButtonRef:M}),Y=null!=(r=l.sortingOrder)?r:D.sortingOrder,K=(0,u.jsxs)(e.Fragment,{children:[!D.disableColumnFilter&&(0,u.jsx)(D.components.ColumnHeaderFilterIconButton,(0,i.Z)({field:l.field,counter:y},null==(a=D.componentsProps)?void 0:a.columnHeaderFilterIconButton)),l.sortable&&!l.hideSortIcons&&(0,u.jsx)(HS,{direction:m,index:v,sortingOrder:Y})]});e.useLayoutEffect((function(){var e=k.current.state.columnMenu;if(x&&!e.open){var t=T.current.querySelector('[tabindex="0"]')||T.current;null==t||t.focus(),k.current.columnHeadersContainerElementRef.current.scrollLeft=0}}),[k,x]);var Q="function"===typeof l.headerClassName?l.headerClassName({field:l.field,colDef:l}):l.headerClassName;return(0,u.jsxs)("div",(0,i.Z)({ref:T,className:(0,C.Z)(U.root,Q),"data-field":l.field,style:{width:H,minWidth:H,maxWidth:H},role:"columnheader",tabIndex:b,"aria-colindex":d+1,"aria-sort":G},V,{children:[(0,u.jsxs)("div",(0,i.Z)({className:U.draggableContainer,draggable:!D.disableColumnReorder&&!_&&!l.disableReorder},j,{children:[(0,u.jsxs)("div",{className:U.titleContainer,children:[(0,u.jsx)("div",{className:U.titleContainerContent,children:B||(0,u.jsx)(YS,{label:null!=(o=l.headerName)?o:l.field,description:l.description,columnWidth:H})}),K]}),q]})),(0,u.jsx)($S,{resizable:!D.disableColumnResize&&!!l.resizable,resizing:h,height:f,onMouseDown:z("columnSeparatorMouseDown"),side:S}),(0,u.jsx)(tC,{columnMenuId:I,columnMenuButtonId:A,field:l.field,open:c,target:M.current,ContentComponent:D.components.ColumnMenu,contentComponentProps:null==(s=D.componentsProps)?void 0:s.columnMenu,onExited:X})]}))}var rC=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:function(e,t){return[(0,v.Z)({},"&.".concat(Ph["scrollArea--left"]),t["scrollArea--left"]),(0,v.Z)({},"&.".concat(Ph["scrollArea--right"]),t["scrollArea--right"]),t.scrollArea]}})((function(){var e;return e={position:"absolute",top:0,zIndex:101,width:20,bottom:0},(0,v.Z)(e,"&.".concat(Ph["scrollArea--left"]),{left:0}),(0,v.Z)(e,"&.".concat(Ph["scrollArea--right"]),{right:0}),e}));function iC(t){var n=t.scrollDirection,r=e.useRef(null),a=ap(),o=e.useRef(),s=e.useState(!1),l=(0,g.Z)(s,2),c=l[0],d=l[1],f=rp(a,wp),h=e.useRef({left:0,top:0}),p=sp(),m=function(e){var t=e.scrollDirection,n=e.classes,r={root:["scrollArea","scrollArea--".concat(t)]};return(0,L.Z)(r,Rh,n)}((0,i.Z)({},t,{classes:p.classes})),v=e.useCallback((function(e){h.current=e}),[]),y=e.useCallback((function(e){var t;if("left"===n)t=e.clientX-r.current.getBoundingClientRect().right;else{if("right"!==n)throw new Error("MUI: Wrong drag direction");t=Math.max(1,e.clientX-r.current.getBoundingClientRect().left)}t=1.5*(t-1)+1,clearTimeout(o.current),o.current=setTimeout((function(){a.current.scroll({left:h.current.left+t,top:h.current.top})}))}),[n,a]);e.useEffect((function(){return function(){clearTimeout(o.current)}}),[]);var x=e.useCallback((function(){d((function(e){return!e}))}),[]);return _m(a,"rowsScroll",v),_m(a,"columnHeaderDragStart",x),_m(a,"columnHeaderDragEnd",x),c?(0,u.jsx)(rC,{ref:r,className:(0,C.Z)(m.root),onDragOver:y,style:{height:f}}):null}var aC=e.memo(iC),oC=["className"],sC=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:function(e,t){return t.columnHeaders}})((function(e){var t=e.theme,n="light"===t.palette.mode?(0,Ge.$n)((0,Ge.Fq)(t.palette.divider,1),.88):(0,Ge._j)((0,Ge.Fq)(t.palette.divider,1),.68);return{position:"absolute",top:0,left:0,right:0,overflow:"hidden",display:"flex",alignItems:"center",borderBottom:"1px solid ".concat(n),borderTopLeftRadius:t.shape.borderRadius,borderTopRightRadius:t.shape.borderRadius}})),uC=e.forwardRef((function(e,t){var n=e.className,r=(0,S.Z)(e,oC),a=function(e){var t=e.classes;return(0,L.Z)({root:["columnHeaders"]},Rh,t)}({classes:sp().classes});return(0,u.jsx)(sC,(0,i.Z)({ref:t,className:(0,C.Z)(n,a.root)},r))})),lC=["isDragging","className"],cC=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"columnHeadersInner",overridesResolver:function(e,t){return[(0,v.Z)({},"&.".concat(Ph.columnHeaderDropZone),t.columnHeaderDropZone),t.columnHeadersInner]}})((function(){var e;return e={display:"flex",alignItems:"center"},(0,v.Z)(e,"&.".concat(Ph.columnHeaderDropZone," .").concat(Ph.columnHeaderDraggableContainer),{cursor:"move"}),(0,v.Z)(e,"&.".concat(Ph["columnHeadersInner--scrollable"]," .").concat(Ph.columnHeader,":last-child"),{borderRight:"none"}),e})),dC=e.forwardRef((function(e,t){var n,r,a=e.isDragging,o=e.className,s=(0,S.Z)(e,lC),l=ap(),c=sp(),d=function(e){var t=e.isDragging,n=e.hasScrollX,r=e.classes,i={root:["columnHeadersInner",t&&"columnHeaderDropZone",n&&"columnHeadersInner--scrollable"]};return(0,L.Z)(i,Rh,r)}({isDragging:a,hasScrollX:null!=(n=null==(r=l.current.getRootDimensions())?void 0:r.hasScrollX)&&n,classes:c.classes});return(0,u.jsx)(cC,(0,i.Z)({ref:t,className:(0,C.Z)(o,d.root)},s))})),fC=["innerRef","className"],hC=e.forwardRef((function(t,n){var r=t.innerRef,a=(0,S.Z)(t,fC),o=function(t){var n=t.innerRef,r=t.minColumnIndex,a=void 0===r?0:r,o=e.useState(""),s=(0,g.Z)(o,2),l=s[0],c=s[1],d=e.useState(""),f=(0,g.Z)(d,2),h=f[0],p=f[1],m=ap(),v=rp(m,Qh),y=rp(m,Jh),x=rp(m,ux),b=rp(m,sx),w=rp(m,ax),_=rp(m,wp),S=rp(m,$p),C=rp(m,zp),k=rp(m,Fm),D=sp(),T=e.useRef(null),I=(0,Te.Z)(n,T),A=e.useState(null),M=(0,g.Z)(A,2),E=M[0],N=M[1],R=e.useRef(E),P=e.useRef(0),O=Wx(m,D);e.useEffect((function(){m.current.columnHeadersContainerElementRef.current.scrollLeft=0}),[m]);var L=e.useRef(Zh(Yy,{equalityCheck:function(e,t){return["firstColumnIndex","minColumnIndex","columnBuffer"].every((function(n){return e[n]===t[n]}))}})),F=e.useCallback((function(e){var t=VS({firstIndex:e.firstRowIndex,lastIndex:e.lastRowIndex,minFirstIndex:0,maxLastIndex:O.rows.length,buffer:D.rowBuffer}),n=(0,g.Z)(t,2),r=n[0],i=n[1],o=L.current({firstColumnIndex:e.firstColumnIndex,minColumnIndex:a,columnBuffer:D.columnBuffer,firstRowToRender:r,lastRowToRender:i,apiRef:m,visibleRows:O.rows}),s=o>0?P.current-y[o]:P.current;T.current.style.transform="translate3d(".concat(-s,"px, 0px, 0px)")}),[y,a,D.columnBuffer,m,O.rows,D.rowBuffer]);e.useLayoutEffect((function(){E&&F(E)}),[E,F]);var Z=e.useCallback((function(e,t){var n,r,i=e.left,a=e.renderContext,o=void 0===a?null:a;if(T.current&&(P.current!==i||(null==(n=R.current)?void 0:n.firstColumnIndex)!==(null==o?void 0:o.firstColumnIndex)||(null==(r=R.current)?void 0:r.lastColumnIndex)!==(null==o?void 0:o.lastColumnIndex))){P.current=i;var s=!1;o===R.current&&R.current?s=!0:(function(e){return!!e.target}(t)?(j.flushSync((function(){N(o)})),s=!0):N(o),R.current=o),o&&s&&F(o)}}),[F]),B=e.useCallback((function(e){return p(e.field)}),[]),z=e.useCallback((function(){return p("")}),[]),V=e.useCallback((function(e){return c(e.field)}),[]),W=e.useCallback((function(){return c("")}),[]);_m(m,"columnResizeStart",B),_m(m,"columnResizeStop",z),_m(m,"columnHeaderDragStart",V),_m(m,"columnHeaderDragEnd",W),_m(m,"rowsScroll",Z);var U={minHeight:_,maxHeight:_,lineHeight:"".concat(_,"px")};return{renderContext:E,getColumns:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e||{},r=n.renderContext,o=void 0===r?E:r,s=n.minFirstColumn,c=void 0===s?a:s,d=n.maxLastColumn,f=void 0===d?v.length:d;if(!o)return null;for(var p=[],y=VS({firstIndex:o.firstRowIndex,lastIndex:o.lastRowIndex,minFirstIndex:0,maxLastIndex:O.rows.length,buffer:D.rowBuffer}),T=(0,g.Z)(y,2),I=T[0],A=T[1],M=L.current({firstColumnIndex:o.firstColumnIndex,minColumnIndex:c,columnBuffer:D.columnBuffer,apiRef:m,firstRowToRender:I,lastRowToRender:A,visibleRows:O.rows}),N=Math.min(o.lastColumnIndex+D.columnBuffer,f),R=v.slice(M,N),P=0;P<R.length;P+=1){var F=R[P],Z=M+P,B=0===Z,z=!(null===x&&null===b),V=null!==x&&x.field===F.field||B&&!z?0:-1,j=null!==w&&w.field===F.field,W=k.open&&k.field===F.field;p.push((0,u.jsx)(nC,(0,i.Z)({},C[F.field],{columnMenuOpen:W,filterItemsCounter:S[F.field]&&S[F.field].length,headerHeight:_,isDragging:F.field===l,column:F,colIndex:Z,isResizing:h===F.field,isLastColumn:Z===v.length-1,extendRowFullWidth:!D.disableExtendRowFullWidth,hasFocus:j,tabIndex:V},t),F.field))}return p},isDragging:!!l,getRootProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.Z)({style:U},e)},getInnerProps:function(){return{ref:I,"aria-rowindex":1,role:"row"}}}}({innerRef:r}),s=o.isDragging,l=o.getRootProps,c=o.getInnerProps,d=o.getColumns;return(0,u.jsxs)(uC,(0,i.Z)({ref:n},l(a),{children:[(0,u.jsx)(aC,{scrollDirection:"left"}),(0,u.jsx)(dC,(0,i.Z)({isDragging:s},c(),{children:d()})),(0,u.jsx)(aC,{scrollDirection:"right"})]}))})),pC=e.forwardRef((function(t,n){var r=function(t){if(t.pageSize>100)throw new Error("'props.pageSize' cannot exceed 100 in DataGrid.");var n=(0,fe.Z)({props:t,name:"MuiDataGrid"}),r=e.useMemo((function(){return(0,i.Z)({},Lb,n.localeText)}),[n.localeText]),a=e.useMemo((function(){var e=n.components;if(!e)return(0,i.Z)({},TS);var t={};return Object.entries(TS).forEach((function(n){var r=(0,g.Z)(n,2),i=r[0],a=r[1];t[i]=void 0===e[i]?a:e[i]})),t}),[n.components]);return e.useMemo((function(){return(0,i.Z)({},AS,n,{localeText:r,components:a},IS)}),[n,r,a])}(t),a=Ob(r);return(0,u.jsx)(im,{apiRef:a,props:r,children:(0,u.jsx)(Cp,{className:r.className,style:r.style,sx:r.sx,ref:n,children:(0,u.jsxs)(Ep,{children:[(0,u.jsx)(Np,{}),(0,u.jsx)(nm,{ColumnHeadersComponent:hC,VirtualScrollerComponent:WS}),(0,u.jsx)(rm,{})]})})})})),mC=e.memo(pC);pC.propTypes={"aria-label":Nh().string,"aria-labelledby":Nh().string,autoHeight:Nh().bool,autoPageSize:Nh().bool,cellModesModel:Nh().object,checkboxSelection:Nh().bool,classes:Nh().object,columnBuffer:Nh().number,columns:(Nh().array.isRequired,function(){return null}),columnThreshold:Nh().number,columnTypes:Nh().object,columnVisibilityModel:Nh().object,components:Nh().object,componentsProps:Nh().object,density:Nh().oneOf(["comfortable","compact","standard"]),disableColumnFilter:Nh().bool,disableColumnMenu:Nh().bool,disableColumnSelector:Nh().bool,disableDensitySelector:Nh().bool,disableExtendRowFullWidth:Nh().bool,disableSelectionOnClick:Nh().bool,disableVirtualization:Nh().bool,editMode:Nh().oneOf(["cell","row"]),editRowsModel:Nh().object,error:Nh().any,experimentalFeatures:Nh().shape({newEditingApi:Nh().bool,preventCommitWhileValidating:Nh().bool,warnIfFocusStateIsNotSynced:Nh().bool}),filterMode:Nh().oneOf(["client","server"]),filterModel:Nh().shape({items:Nh().arrayOf(Nh().shape({columnField:Nh().string.isRequired,id:Nh().oneOfType([Nh().number,Nh().string]),operatorValue:Nh().string,value:Nh().any})).isRequired,linkOperator:Nh().oneOf(["and","or"]),quickFilterLogicOperator:Nh().oneOf(["and","or"]),quickFilterValues:Nh().array}),getCellClassName:Nh().func,getDetailPanelContent:Nh().func,getRowClassName:Nh().func,getRowHeight:Nh().func,getRowId:Nh().func,getRowSpacing:Nh().func,headerHeight:Nh().number,hideFooter:Nh().bool,hideFooterPagination:Nh().bool,hideFooterSelectedRowCount:Nh().bool,initialState:Nh().object,isCellEditable:Nh().func,isRowSelectable:Nh().func,keepNonExistentRowsSelected:Nh().bool,loading:Nh().bool,localeText:Nh().object,logger:Nh().shape({debug:Nh().func.isRequired,error:Nh().func.isRequired,info:Nh().func.isRequired,warn:Nh().func.isRequired}),logLevel:Nh().oneOf(["debug","error","info","warn",!1]),nonce:Nh().string,onCellClick:Nh().func,onCellDoubleClick:Nh().func,onCellEditCommit:Nh().func,onCellEditStart:Nh().func,onCellEditStop:Nh().func,onCellFocusOut:Nh().func,onCellKeyDown:Nh().func,onCellModesModelChange:Nh().func,onColumnHeaderClick:Nh().func,onColumnHeaderDoubleClick:Nh().func,onColumnHeaderEnter:Nh().func,onColumnHeaderLeave:Nh().func,onColumnHeaderOut:Nh().func,onColumnHeaderOver:Nh().func,onColumnOrderChange:Nh().func,onColumnVisibilityChange:Nh().func,onColumnVisibilityModelChange:Nh().func,onEditCellPropsChange:Nh().func,onEditRowsModelChange:Nh().func,onError:Nh().func,onFilterModelChange:Nh().func,onPageChange:Nh().func,onPageSizeChange:Nh().func,onPreferencePanelClose:Nh().func,onPreferencePanelOpen:Nh().func,onProcessRowUpdateError:Nh().func,onResize:Nh().func,onRowClick:Nh().func,onRowDoubleClick:Nh().func,onRowEditCommit:Nh().func,onRowEditStart:Nh().func,onRowEditStop:Nh().func,onRowModesModelChange:Nh().func,onSelectionModelChange:Nh().func,onSortModelChange:Nh().func,onStateChange:Nh().func,page:Nh().number,pageSize:(Nh().number,function(){return null}),pagination:function(e){return!1===e.pagination?new Error(["MUI: `<DataGrid pagination={false} />` is not a valid prop.","Infinite scrolling is not available in the MIT version.","","You need to upgrade to the DataGridPro component to disable the pagination."].join("\n")):null},paginationMode:Nh().oneOf(["client","server"]),processRowUpdate:Nh().func,rowBuffer:Nh().number,rowCount:Nh().number,rowHeight:Nh().number,rowModesModel:Nh().object,rows:Nh().array.isRequired,rowSpacingType:Nh().oneOf(["border","margin"]),rowsPerPageOptions:Nh().arrayOf(Nh().number),rowThreshold:Nh().number,scrollbarSize:Nh().number,selectionModel:(Nh().oneOfType([Nh().number,Nh().string,Nh().array]),function(){return null}),showCellRightBorder:Nh().bool,showColumnRightBorder:Nh().bool,sortingMode:Nh().oneOf(["client","server"]),sortingOrder:Nh().arrayOf(Nh().oneOf(["asc","desc"])),sortModel:Nh().arrayOf(Nh().shape({field:Nh().string.isRequired,sort:Nh().oneOf(["asc","desc"])})),sx:Nh().oneOfType([Nh().arrayOf(Nh().oneOfType([Nh().func,Nh().object,Nh().bool])),Nh().func,Nh().object])};var gC=Po((function(e){return{root:{"& .MuiDataGrid-columnHeaderCheckbox .MuiDataGrid-columnHeaderTitleContainer":{display:"none"}}}}));function vC(e){var t=e.columns,n=e.rows,r=e.selectionModel,i=e.handleSelected,a=e.checkboxSelection,o=void 0!==a&&a,s=gC();return(0,u.jsx)("div",{style:{height:450,width:"100%"},children:o?(0,u.jsx)(mC,{className:s.root,rows:n,columns:t,pageSize:20,rowsPerPageOptions:[20],checkboxSelection:!0,onSelectionModelChange:function(e){return i(e)},selectionModel:r}):(0,u.jsx)(mC,{rows:n,columns:t,pageSize:20,rowsPerPageOptions:[20]})})}function yC(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function xC(e){return yC(1,arguments),e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function bC(e){yC(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function wC(e){if(yC(1,arguments),!xC(e)&&"number"!==typeof e)return!1;var t=bC(e);return!isNaN(Number(t))}var _C={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},SC=function(e,t,n){var r,i=_C[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function CC(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var kC={date:CC({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:CC({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:CC({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},DC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},TC=function(e,t,n,r){return DC[e]};function IC(e){return function(t,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=i.width?String(i.width):a;r=e.formattingValues[o]||e.formattingValues[a]}else{var s=e.defaultWidth,u=i.width?String(i.width):e.defaultWidth;r=e.values[u]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}var AC={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:IC({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:IC({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:IC({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:IC({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:IC({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function MC(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var o,s=a[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(u)?NC(u,(function(e){return e.test(s)})):EC(u,(function(e){return e.test(s)}));o=e.valueCallback?e.valueCallback(l):l,o=n.valueCallback?n.valueCallback(o):o;var c=t.slice(s.length);return{value:o,rest:c}}}function EC(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function NC(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}var RC,PC={ordinalNumber:(RC={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(RC.matchPattern);if(!n)return null;var r=n[0],i=e.match(RC.parsePattern);if(!i)return null;var a=RC.valueCallback?RC.valueCallback(i[0]):i[0];a=t.valueCallback?t.valueCallback(a):a;var o=e.slice(r.length);return{value:a,rest:o}}),era:MC({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:MC({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:MC({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:MC({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:MC({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},OC={code:"en-US",formatDistance:SC,formatLong:kC,formatRelative:TC,localize:AC,match:PC,options:{weekStartsOn:0,firstWeekContainsDate:1}};function LC(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function FC(e,t){yC(2,arguments);var n=bC(e).getTime(),r=LC(t);return new Date(n+r)}function ZC(e,t){yC(2,arguments);var n=LC(t);return FC(e,-n)}var BC=864e5;function zC(e){yC(1,arguments);var t=1,n=bC(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function VC(e){yC(1,arguments);var t=bC(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=zC(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var o=zC(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function jC(e){yC(1,arguments);var t=VC(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=zC(n);return r}var WC=6048e5;function UC(e,t){yC(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,a=null==i?0:LC(i),o=null==n.weekStartsOn?a:LC(n.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=bC(e),u=s.getUTCDay(),l=(u<o?7:0)+u-o;return s.setUTCDate(s.getUTCDate()-l),s.setUTCHours(0,0,0,0),s}function HC(e,t){yC(1,arguments);var n=bC(e),r=n.getUTCFullYear(),i=t||{},a=i.locale,o=a&&a.options&&a.options.firstWeekContainsDate,s=null==o?1:LC(o),u=null==i.firstWeekContainsDate?s:LC(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=new Date(0);l.setUTCFullYear(r+1,0,u),l.setUTCHours(0,0,0,0);var c=UC(l,t),d=new Date(0);d.setUTCFullYear(r,0,u),d.setUTCHours(0,0,0,0);var f=UC(d,t);return n.getTime()>=c.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function GC(e,t){yC(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.firstWeekContainsDate,a=null==i?1:LC(i),o=null==n.firstWeekContainsDate?a:LC(n.firstWeekContainsDate),s=HC(e,t),u=new Date(0);u.setUTCFullYear(s,0,o),u.setUTCHours(0,0,0,0);var l=UC(u,t);return l}var XC=6048e5;function qC(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var YC={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return qC("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):qC(n+1,2)},d:function(e,t){return qC(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return qC(e.getUTCHours()%12||12,t.length)},H:function(e,t){return qC(e.getUTCHours(),t.length)},m:function(e,t){return qC(e.getUTCMinutes(),t.length)},s:function(e,t){return qC(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return qC(Math.floor(r*Math.pow(10,n-3)),t.length)}},KC=YC,QC="midnight",JC="noon",$C="morning",ek="afternoon",tk="evening",nk="night",rk={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return KC.y(e,t)},Y:function(e,t,n,r){var i=HC(e,r),a=i>0?i:1-i;return"YY"===t?qC(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):qC(a,t.length)},R:function(e,t){return qC(VC(e),t.length)},u:function(e,t){return qC(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return qC(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return qC(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return KC.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return qC(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=function(e,t){yC(1,arguments);var n=bC(e),r=UC(n,t).getTime()-GC(n,t).getTime();return Math.round(r/XC)+1}(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):qC(i,t.length)},I:function(e,t,n){var r=function(e){yC(1,arguments);var t=bC(e),n=zC(t).getTime()-jC(t).getTime();return Math.round(n/WC)+1}(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):qC(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):KC.d(e,t)},D:function(e,t,n){var r=function(e){yC(1,arguments);var t=bC(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/BC)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):qC(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return qC(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return qC(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return qC(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?JC:0===i?QC:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?tk:i>=12?ek:i>=4?$C:nk,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return KC.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):KC.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):qC(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):qC(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):KC.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):KC.s(e,t)},S:function(e,t){return KC.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return ak(i);case"XXXX":case"XX":return ok(i);default:return ok(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return ak(i);case"xxxx":case"xx":return ok(i);default:return ok(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ik(i,":");default:return"GMT"+ok(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ik(i,":");default:return"GMT"+ok(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return qC(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return qC((r._originalDate||e).getTime(),t.length)}};function ik(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;if(0===a)return n+String(i);var o=t||"";return n+String(i)+o+qC(a,2)}function ak(e,t){return e%60===0?(e>0?"-":"+")+qC(Math.abs(e)/60,2):ok(e,t)}function ok(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+qC(Math.floor(i/60),2)+n+qC(i%60,2)}var sk=rk;function uk(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}}function lk(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}}var ck={p:lk,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return uk(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",uk(i,t)).replace("{{time}}",lk(a,t))}},dk=ck;function fk(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var hk=["D","DD"],pk=["YY","YYYY"];function mk(e){return-1!==hk.indexOf(e)}function gk(e){return-1!==pk.indexOf(e)}function vk(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var yk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bk=/^'([^]*?)'?$/,wk=/''/g,_k=/[a-zA-Z]/;function Sk(e,t,n){yC(2,arguments);var r=String(t),i=n||{},a=i.locale||OC,o=a.options&&a.options.firstWeekContainsDate,s=null==o?1:LC(o),u=null==i.firstWeekContainsDate?s:LC(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=a.options&&a.options.weekStartsOn,c=null==l?0:LC(l),d=null==i.weekStartsOn?c:LC(i.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!a.localize)throw new RangeError("locale must contain localize property");if(!a.formatLong)throw new RangeError("locale must contain formatLong property");var f=bC(e);if(!wC(f))throw new RangeError("Invalid time value");var h=fk(f),p=ZC(f,h),m={firstWeekContainsDate:u,weekStartsOn:d,locale:a,_originalDate:f},g=r.match(xk).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,dk[t])(e,a.formatLong,m):e})).join("").match(yk).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return Ck(n);var o=sk[r];if(o)return!i.useAdditionalWeekYearTokens&&gk(n)&&vk(n,t,e),!i.useAdditionalDayOfYearTokens&&mk(n)&&vk(n,t,e),o(p,n,a.localize,m);if(r.match(_k))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("");return g}function Ck(e){return e.match(bk)[1].replace(wk,"'")}function kk(e,t){yC(2,arguments);var n=bC(e),r=LC(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),a=new Date(n.getTime());a.setMonth(n.getMonth()+r+1,0);var o=a.getDate();return i>=o?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function Dk(e,t){yC(2,arguments);var n=LC(t);return kk(e,-n)}var Tk=Lo;function Ik(t){var n=Tk(),r=t.startSeries,i=t.endSeries,a=t.onPickedDate,o=t.filter,s=void 0!==o&&o,l=t.kde,c=void 0!==l&&l,d=(0,e.useState)(new Date(r)),f=(0,g.Z)(d,2),h=f[0],p=f[1],m=(0,e.useState)(new Date(i)),v=(0,g.Z)(m,2),y=v[0],x=v[1];return(0,e.useEffect)((function(){!0===c&&(p(new Date(r)),x(new Date(i)))}),[c,r,i]),(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:s?4:6,sm:s?4:6,md:s?4:6,lg:s?4:6,children:(0,u.jsx)("form",{className:n.container,noValidate:!0,children:(0,u.jsx)(Ev,{label:"Start Date",type:"date",name:"start date",variant:"outlined",clearable:"false",disabled:c,min:Sk(Dk(r,24),"yyyy-MM-dd"),max:Sk(i,"yyyy-MM-dd"),value:Sk(h,"yyyy-MM-dd"),className:n.datePicker,InputLabelProps:{shrink:!0,className:n.datePicker},inputProps:{min:Sk(r,"yyyy-MM-dd"),max:Sk(y,"yyyy-MM-dd")},onChange:function(e){var t=new Date(e.target.value);t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getTime()<y.getTime()&&p(t),a(t,y,c)}})})}),(0,u.jsx)(Go,{item:!0,xs:s?4:6,sm:s?4:6,md:s?4:6,lg:s?4:6,children:(0,u.jsx)("form",{className:n.container,noValidate:!0,children:(0,u.jsx)(Ev,{label:"End Date",type:"date",name:"end date",variant:"outlined",disabled:c,min:Sk(Dk(r,24),"yyyy-MM-dd"),max:Sk(i,"yyyy-MM-dd"),value:Sk(y,"yyyy-MM-dd"),className:n.datePicker,InputLabelProps:{shrink:!0,className:n.datePicker},inputProps:{min:Sk(h,"yyyy-MM-dd"),max:Sk(i,"yyyy-MM-dd")},onChange:function(e){var t=new Date(e.target.value);t.setHours(23),t.setMinutes(59),t.setSeconds(59),t.setMilliseconds(999),h.getTime()<t.getTime()&&x(t),a(h,t,c)}})})})]})}var Ak=n(93817),Mk=n(95095),Ek=n.n(Mk),Nk=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,Rk=/\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\b/g,Pk=/[^-+\dA-Z]/g;var Ok={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},Lk={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},Fk=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(e).padStart(t,"0")},Zk=function(e){var t=e.y,n=e.m,r=e.d,i=e._,a=e.dayName,o=e.short,s=void 0!==o&&o,u=new Date,l=new Date;l.setDate(l[i+"Date"]()-1);var c=new Date;c.setDate(c[i+"Date"]()+1);return u[i+"FullYear"]()===t&&u[i+"Month"]()===n&&u[i+"Date"]()===r?s?"Tdy":"Today":l[i+"FullYear"]()===t&&l[i+"Month"]()===n&&l[i+"Date"]()===r?s?"Ysd":"Yesterday":c[i+"FullYear"]()===t&&c[i+"Month"]()===n&&c[i+"Date"]()===r?s?"Tmw":"Tomorrow":a},Bk=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var i=(t-n)/6048e5;return 1+Math.floor(i)},zk=function(e){var t=e.getDay();return 0===t&&(t=7),t},Vk=function(e){return(String(e).match(Rk)||[""]).pop().replace(Pk,"").replace(/GMT\+0000/g,"UTC")},jk=function(t){var n,r,i=t.series,a=t.timeseries,o=t.style,s=t.clusters,l=t.dataClusterIndex,c=t.onBrushActivate,d=t.onBrushDeactivate,f=t.onSelected,h=t.brushingMode,p=(0,e.useState)(),m=(0,g.Z)(p,2),v=m[0],y=m[1],b=(0,e.useCallback)((function(e){y(e)}),[y]),w=(0,e.useMemo)((function(){return void 0===l?Object.entries(i)[0][1].map((function(){return-1})):l}),[l,i]),_=(0,e.useMemo)((function(){for(var e=0,t=[],o=[],u=[],l=[],c=Object.keys(i),d=c.length,f=[],h=[],p=0;p<s.length;p++)h.push(p);var m=s.map((function(e){return e.color})),g=92/(d+1)-3,v=92/d-3;function y(e,t,n){return{id:e,left:"".concat(5+n*(g+3),"%"),top:"".concat(5+t*(v+3)+3,"%"),width:"".concat(g,"%"),height:"".concat(v,"%"),show:!0}}function b(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"value";return{id:t,name:t,nameTextStyle:{color:"#5470c6",fontWeight:n===t?"bold":"normal",textBorderColor:n===t?"#ffffff":"transparent",textBorderWidth:n===t?5:0},scale:!0,type:i,position:"top",gridIndex:e,axisLabel:{show:!0,showMinLabel:!0,showMaxLabel:!0,color:n===t?"#5470c6":"#ffffff"},axisLine:{show:!0},axisTick:{show:!0,inside:!0},splitLine:{lineStyle:{color:"white",opacity:0}},nameLocation:"center",nameGap:30}}function _(t,n,i){return{id:t,name:t,nameTextStyle:{color:"#5470c6",fontWeight:r===t?"bold":"normal",textBorderColor:r===t?"#ffffff":"transparent",textBorderWidth:r===t?5:0},scale:!0,type:n,position:"right",gridIndex:e,axisLabel:{show:i,showMinLabel:!0,showMaxLabel:!0,color:r===t?"#5470c6":"#ffffff"},axisLine:{show:i},axisTick:{show:i,inside:!0},splitLine:{lineStyle:{color:"white",opacity:0}},nameLocation:"center",nameGap:30}}function S(t,n,r){return{type:"scatter",encode:{x:[t],y:[n]},symbolSize:4,xAxisIndex:e,yAxisIndex:e,color:"#5470c6",tooltip:{backgroundColor:"#242f39",textStyle:{color:"#ffffff",fontFamily:"Roboto",fontSize:12,width:20},formatter:function(e){return'<div style={{align: "left" }}> '.concat("timeseries"===t?function(e,t,n,r){if(1!==arguments.length||"string"!==typeof e||/\d/.test(e)||(t=e,e=void 0),(e=e||0===e?e:new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var i=(t=String(Ok[t]||t||Ok.default)).slice(0,4);"UTC:"!==i&&"GMT:"!==i||(t=t.slice(4),n=!0,"GMT:"===i&&(r=!0));var a=function(){return n?"getUTC":"get"},o=function(){return e[a()+"Date"]()},s=function(){return e[a()+"Day"]()},u=function(){return e[a()+"Month"]()},l=function(){return e[a()+"FullYear"]()},c=function(){return e[a()+"Hours"]()},d=function(){return e[a()+"Minutes"]()},f=function(){return e[a()+"Seconds"]()},h=function(){return e[a()+"Milliseconds"]()},p=function(){return n?0:e.getTimezoneOffset()},m=function(){return Bk(e)},g=function(){return zk(e)},v={d:function(){return o()},dd:function(){return Fk(o())},ddd:function(){return Lk.dayNames[s()]},DDD:function(){return Zk({y:l(),m:u(),d:o(),_:a(),dayName:Lk.dayNames[s()],short:!0})},dddd:function(){return Lk.dayNames[s()+7]},DDDD:function(){return Zk({y:l(),m:u(),d:o(),_:a(),dayName:Lk.dayNames[s()+7]})},m:function(){return u()+1},mm:function(){return Fk(u()+1)},mmm:function(){return Lk.monthNames[u()]},mmmm:function(){return Lk.monthNames[u()+12]},yy:function(){return String(l()).slice(2)},yyyy:function(){return Fk(l(),4)},h:function(){return c()%12||12},hh:function(){return Fk(c()%12||12)},H:function(){return c()},HH:function(){return Fk(c())},M:function(){return d()},MM:function(){return Fk(d())},s:function(){return f()},ss:function(){return Fk(f())},l:function(){return Fk(h(),3)},L:function(){return Fk(Math.floor(h()/10))},t:function(){return c()<12?Lk.timeNames[0]:Lk.timeNames[1]},tt:function(){return c()<12?Lk.timeNames[2]:Lk.timeNames[3]},T:function(){return c()<12?Lk.timeNames[4]:Lk.timeNames[5]},TT:function(){return c()<12?Lk.timeNames[6]:Lk.timeNames[7]},Z:function(){return r?"GMT":n?"UTC":Vk(e)},o:function(){return(p()>0?"-":"+")+Fk(100*Math.floor(Math.abs(p())/60)+Math.abs(p())%60,4)},p:function(){return(p()>0?"-":"+")+Fk(Math.floor(Math.abs(p())/60),2)+":"+Fk(Math.floor(Math.abs(p())%60),2)},S:function(){return["th","st","nd","rd"][o()%10>3?0:(o()%100-o()%10!=10)*o()%10]},W:function(){return m()},WW:function(){return Fk(m())},N:function(){return g()}};return t.replace(Nk,(function(e){return e in v?v[e]():e.slice(1,e.length-1)}))}(r(e.dataIndex),"yyyy-MM-dd h:MM:ss"):t+" :"+r(e.dataIndex),' </div> <div style={{align: "left" }}> ').concat(n," : ").concat(i[n][e.dataIndex].toFixed(2),"</div>")}}}}for(var C=0;C<d;C++)for(var k=function(n){if(n<C)return"continue";if(t.push(y("grid-".concat(c[C],"-").concat(c[n]),C,n)),o.push(b(0===C?c[n]:void 0,C===n)),u.push(_(void 0,C!==n?"value":"category",!1)),C!==n)f.push(e),l.push(S(c[n],c[C],(function(e){return i[c[n]][e].toFixed(2)})));else{for(var r=[Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER],a=r[0],s=r[1],d=0;d<i[c[C]].length;d++)i[c[C]][d]<a?a=i[c[C]][d]:i[c[C]][d]>s&&(s=i[c[C]][d]);for(var h=[],p=(s-a)/40,m=0;m<i[c[C]].length;m++){var g=Math.floor((i[c[C]][m]-a)/p);void 0===h[g]?h[g]=[1,g*p+a,-1]:h[g][0]++}l.push({type:"bar",color:"#5470c6",data:h,xAxisIndex:e,yAxisIndex:e,tooltip:{formatter:function(e){return"".concat(e.data[1].toFixed(2),": ").concat(e.data[0].toFixed(0)," points")}}}),o[e].show=!0,u[e].show=!0}e++},D=0;D<d;D++)k(D);for(var I=0;I<d;I++)t.push(y("grid-".concat(c[I],"-timeseries}"),I,d)),o.push(b(0===I?"timeseries":void 0,0===I,"time")),u.push(_(c[I],"value",!0)),f.push(e),l.push(S("timeseries",c[I],(function(e){return a[e]}))),e++;return{dataset:{dimensions:[].concat((0,T.Z)(Object.keys(i)),["timeseries","clusterIndex"]),source:x(x({},i),{},{timeseries:a,clusterIndex:w})},grid:t,xAxis:o,yAxis:u,series:l,brush:{brushLink:f,xAxisIndex:f,yAxisIndex:f,toolbox:["rect","polygon","keep","clear"]},animation:!1,toolbox:{show:!0},tooltip:{},visualMap:[{type:"piecewise",right:"10%",orient:"horizontal",categories:h,inRange:{color:m},outOfRange:{color:"#5470c6"},showLabel:!1}]}}),[w,s,i,a,n,r]),S=(0,e.useMemo)((function(){return Ek()((function(e){var t=e.batch;if((null===t||void 0===t?void 0:t.length)>0){var n=t[0].selected.find((function(e){return e.dataIndex.length>0}));f(void 0!==n?n.dataIndex:[])}}),100)}),[f]),C=(0,e.useMemo)((function(){return Ek()((function(e){var t,n;"boolean"===typeof(null===e||void 0===e||null===(t=e.brushOption)||void 0===t?void 0:t.brushType)?d():"string"===typeof(null===e||void 0===e||null===(n=e.brushOption)||void 0===n?void 0:n.brushType)&&c()}),100)}),[c,d]),k=(0,e.useMemo)((function(){return{brushSelected:S,globalCursorTaken:C}}),[S,C]);return(0,e.useEffect)((function(){void 0!==v&&(!0===h?v.setOption(_,{notMerge:!1,replaceMerge:["grid","yAxis","xAxis"]}):v.setOption(_,{notMerge:!0}))}),[h,v,_]),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(Ak.EchartsComponent,{onInit:function(e){return b(e)},style:o,eventsHandler:k})})},Wk=(0,e.memo)(jk);function Uk(e){return(0,se.Z)("MuiDialog",e)}var Hk=(0,oe.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var Gk=(0,e.createContext)({}),Xk=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],qk=(0,b.ZP)(Oe,{name:"MuiDialog",slot:"Backdrop",overrides:function(e,t){return t.backdrop}})({zIndex:-1}),Yk=(0,b.ZP)(Be,{name:"MuiDialog",slot:"Root",overridesResolver:function(e,t){return t.root}})({"@media print":{position:"absolute !important"}}),Kk=(0,b.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:function(e,t){var n=e.ownerState;return[t.container,t["scroll".concat((0,Je.Z)(n.scroll))]]}})((function(e){var t=e.ownerState;return(0,i.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),Qk=(0,b.ZP)(Qe,{name:"MuiDialog",slot:"Paper",overridesResolver:function(e,t){var n=e.ownerState;return[t.paper,t["scrollPaper".concat((0,Je.Z)(n.scroll))],t["paperWidth".concat((0,Je.Z)(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&(0,v.Z)({maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit)},"&.".concat(Hk.paperScrollBody),(0,v.Z)({},t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})),"xs"!==n.maxWidth&&(0,v.Z)({maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)},"&.".concat(Hk.paperScrollBody),(0,v.Z)({},t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64),{maxWidth:"calc(100% - 64px)"})),n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&(0,v.Z)({margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0},"&.".concat(Hk.paperScrollBody),{margin:0,maxWidth:"100%"}))})),Jk=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiDialog"}),a=_(),o={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},s=r["aria-describedby"],l=r["aria-labelledby"],c=r.BackdropComponent,d=r.BackdropProps,f=r.children,h=r.className,p=r.disableEscapeKeyDown,m=void 0!==p&&p,g=r.fullScreen,v=void 0!==g&&g,y=r.fullWidth,x=void 0!==y&&y,b=r.maxWidth,w=void 0===b?"sm":b,k=r.onBackdropClick,D=r.onClose,T=r.open,I=r.PaperComponent,A=void 0===I?Qe:I,M=r.PaperProps,E=void 0===M?{}:M,N=r.scroll,R=void 0===N?"paper":N,P=r.TransitionComponent,O=void 0===P?Ee:P,F=r.transitionDuration,Z=void 0===F?o:F,B=r.TransitionProps,z=(0,S.Z)(r,Xk),V=(0,i.Z)({},r,{disableEscapeKeyDown:m,fullScreen:v,fullWidth:x,maxWidth:w,scroll:R}),j=function(e){var t=e.classes,n=e.scroll,r=e.maxWidth,i=e.fullWidth,a=e.fullScreen,o={root:["root"],container:["container","scroll".concat((0,Je.Z)(n))],paper:["paper","paperScroll".concat((0,Je.Z)(n)),"paperWidth".concat((0,Je.Z)(String(r))),i&&"paperFullWidth",a&&"paperFullScreen"]};return(0,L.Z)(o,Uk,t)}(V),W=e.useRef(),U=(0,Ig.Z)(l),H=e.useMemo((function(){return{titleId:U}}),[U]);return(0,u.jsx)(Yk,(0,i.Z)({className:(0,C.Z)(j.root,h),BackdropProps:(0,i.Z)({transitionDuration:Z,as:c},d),closeAfterTransition:!0,BackdropComponent:qk,disableEscapeKeyDown:m,onClose:D,open:T,ref:n,onClick:function(e){W.current&&(W.current=null,k&&k(e),D&&D(e,"backdropClick"))},ownerState:V},z,{children:(0,u.jsx)(O,(0,i.Z)({appear:!0,in:T,timeout:Z,role:"presentation"},B,{children:(0,u.jsx)(Kk,{className:(0,C.Z)(j.container),onMouseDown:function(e){W.current=e.target===e.currentTarget},ownerState:V,children:(0,u.jsx)(Qk,(0,i.Z)({as:A,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":U},E,{className:(0,C.Z)(j.paper,E.className),ownerState:V,children:(0,u.jsx)(Gk.Provider,{value:H,children:f})}))})}))}))}));function $k(e){return(0,se.Z)("MuiDialogTitle",e)}var eD=(0,oe.Z)("MuiDialogTitle",["root"]),tD=["className","id"],nD=(0,b.ZP)(Bt,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:"16px 24px",flex:"0 0 auto"}),rD=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiDialogTitle"}),a=r.className,o=r.id,s=(0,S.Z)(r,tD),l=r,c=function(e){var t=e.classes;return(0,L.Z)({root:["root"]},$k,t)}(l),d=e.useContext(Gk).titleId,f=void 0===d?o:d;return(0,u.jsx)(nD,(0,i.Z)({component:"h2",className:(0,C.Z)(c.root,a),ownerState:l,ref:n,variant:"h6",id:f},s))}));function iD(e){return(0,se.Z)("MuiDialogContent",e)}(0,oe.Z)("MuiDialogContent",["root","dividers"]);var aD=["className","dividers"],oD=(0,b.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dividers&&t.dividers]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:(0,v.Z)({},".".concat(eD.root," + &"),{paddingTop:0}))})),sD=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiDialogContent"}),r=n.className,a=n.dividers,o=void 0!==a&&a,s=(0,S.Z)(n,aD),l=(0,i.Z)({},n,{dividers:o}),c=function(e){var t=e.classes,n={root:["root",e.dividers&&"dividers"]};return(0,L.Z)(n,iD,t)}(l);return(0,u.jsx)(oD,(0,i.Z)({className:(0,C.Z)(c.root,r),ownerState:l,ref:t},s))}));function uD(e){return(0,se.Z)("MuiDialogActions",e)}(0,oe.Z)("MuiDialogActions",["root","spacing"]);var lD=["className","disableSpacing"],cD=(0,b.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableSpacing&&t.spacing]}})((function(e){var t=e.ownerState;return(0,i.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),dD=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiDialogActions"}),r=n.className,a=n.disableSpacing,o=void 0!==a&&a,s=(0,S.Z)(n,lD),l=(0,i.Z)({},n,{disableSpacing:o}),c=function(e){var t=e.classes,n={root:["root",!e.disableSpacing&&"spacing"]};return(0,L.Z)(n,uD,t)}(l);return(0,u.jsx)(cD,(0,i.Z)({className:(0,C.Z)(c.root,r),ownerState:l,ref:t},s))}));function fD(e){return(0,se.Z)("MuiFormGroup",e)}(0,oe.Z)("MuiFormGroup",["root","row","error"]);var hD=["className","row"],pD=(0,b.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.row&&t.row]}})((function(e){var t=e.ownerState;return(0,i.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})})),mD=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiFormGroup"}),r=n.className,a=n.row,o=void 0!==a&&a,s=(0,S.Z)(n,hD),l=Js({props:n,muiFormControl:eu(),states:["error"]}),c=(0,i.Z)({},n,{row:o,error:l.error}),d=function(e){var t=e.classes,n={root:["root",e.row&&"row",e.error&&"error"]};return(0,L.Z)(n,fD,t)}(c);return(0,u.jsx)(pD,(0,i.Z)({className:(0,C.Z)(d.root,r),ownerState:c,ref:t},s))}));var gD=e.createContext(void 0),vD=["actions","children","defaultValue","name","onChange","value"],yD=e.forwardRef((function(t,n){var r=t.actions,a=t.children,o=t.defaultValue,s=t.name,l=t.onChange,c=t.value,d=(0,S.Z)(t,vD),f=e.useRef(null),h=(0,zs.Z)({controlled:c,default:o,name:"RadioGroup"}),p=(0,g.Z)(h,2),m=p[0],v=p[1];e.useImperativeHandle(r,(function(){return{focus:function(){var e=f.current.querySelector("input:not(:disabled):checked");e||(e=f.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var y=(0,Te.Z)(n,f),x=(0,Hc.Z)(s);return(0,u.jsx)(gD.Provider,{value:{name:x,onChange:function(e){v(e.target.value),l&&l(e,e.target.value)},value:m},children:(0,u.jsx)(mD,(0,i.Z)({role:"radiogroup",ref:y},d,{children:a}))})})),xD=(0,tu.Z)((0,u.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),bD=(0,tu.Z)((0,u.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),wD=(0,b.ZP)("span")({position:"relative",display:"flex"}),_D=(0,b.ZP)(xD)({transform:"scale(1)"}),SD=(0,b.ZP)(bD)((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));var CD=function(e){var t=e.checked,n=void 0!==t&&t,r=e.classes,a=void 0===r?{}:r,o=e.fontSize,s=(0,i.Z)({},e,{checked:n});return(0,u.jsxs)(wD,{className:a.root,ownerState:s,children:[(0,u.jsx)(_D,{fontSize:o,className:a.background,ownerState:s}),(0,u.jsx)(SD,{fontSize:o,className:a.dot,ownerState:s})]})},kD=n(31260);function DD(e){return(0,se.Z)("MuiRadio",e)}var TD=(0,oe.Z)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),ID=["checked","checkedIcon","color","icon","name","onChange","size"],AD=(0,b.ZP)(Vb,{shouldForwardProp:function(e){return(0,b.FO)(e)||"classes"===e},name:"MuiRadio",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["color".concat((0,Je.Z)(n.color))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({color:t.palette.text.secondary,"&:hover":{backgroundColor:(0,Ge.Fq)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&(0,v.Z)({},"&.".concat(TD.checked),{color:t.palette[n.color].main}),(0,v.Z)({},"&.".concat(TD.disabled),{color:t.palette.action.disabled}))}));var MD=(0,u.jsx)(CD,{checked:!0}),ED=(0,u.jsx)(CD,{}),ND=e.forwardRef((function(t,n){var r,a,o,s,l=(0,fe.Z)({props:t,name:"MuiRadio"}),c=l.checked,d=l.checkedIcon,f=void 0===d?MD:d,h=l.color,p=void 0===h?"primary":h,m=l.icon,g=void 0===m?ED:m,v=l.name,y=l.onChange,x=l.size,b=void 0===x?"medium":x,w=(0,S.Z)(l,ID),_=(0,i.Z)({},l,{color:p,size:b}),C=function(e){var t=e.classes,n=e.color,r={root:["root","color".concat((0,Je.Z)(n))]};return(0,i.Z)({},t,(0,L.Z)(r,DD,t))}(_),k=e.useContext(gD),D=c,T=(0,kD.Z)(y,k&&k.onChange),I=v;return k&&("undefined"===typeof D&&(o=k.value,D="object"===typeof(s=l.value)&&null!==s?o===s:String(o)===String(s)),"undefined"===typeof I&&(I=k.name)),(0,u.jsx)(AD,(0,i.Z)({type:"radio",icon:e.cloneElement(g,{fontSize:null!=(r=ED.props.fontSize)?r:b}),checkedIcon:e.cloneElement(f,{fontSize:null!=(a=MD.props.fontSize)?a:b}),ownerState:_,classes:C,name:I,checked:D,onChange:T,ref:n},w))})),RD=ND,PD=n(86711),OD=Lo;function LD(t){var n=t.clusters,r=t.activeClusterIndex,i=t.onChange,a=t.onActiveChange,o=(0,e.useMemo)((function(){return n.map((function(e,t){return x({index:t},e)}))}),[n]),s=[{field:"select",headerName:"Select",flex:1,renderCell:function(e){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(yD,{"aria-label":"gender",value:e.row.index,onChange:function(){return C(e.row.index)},children:(0,u.jsx)(aS,{control:(0,u.jsx)(RD,{style:{color:"#51b4ec"},size:"small"}),label:"",checked:e.row.index===r})})})}},{field:"id",headerName:"Name",flex:2,renderCell:function(e){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(Ev,{fullWidth:!0,className:l.textField,rows:1,autoFocus:e.row.index===y,type:"text",value:e.row.id,InputLabelProps:{shrink:!0,className:l.textField},InputProps:{classes:{root:l.textField,disabled:l.textField}},variant:"outlined",onChange:function(t){return w(t,e.row.index)},tabIndex:0})})}},{field:"color",headerName:"Color",flex:2,renderCell:function(e){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(Ev,{fullWidth:!0,className:l.textField,rows:1,autoFocus:e.row.index===y,type:"color",value:e.row.color,InputLabelProps:{shrink:!0,className:l.textField},InputProps:{classes:{root:l.textField,disabled:l.textField}},variant:"outlined",onChange:function(t){return _(t,e.row.index)},tabIndex:0})})}},{field:"delete",headerName:"Delete",flex:1,renderCell:function(e){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(Pn,{onClick:function(){return S(e.row.index)},children:(0,u.jsx)(PD.Z,{style:{fontSize:"1rem",color:"#f04461",borderRadius:5}})})})}}],l=OD(),c=(0,e.useReducer)((function(e){return e+1}),0),d=(0,g.Z)(c,2),f=d[0],h=d[1],p=(0,e.useCallback)((function(){"function"===typeof i&&i([].concat((0,T.Z)(n),[{id:f,color:"#000"}])),b(f),h()}),[n,h,i,f]),m=(0,e.useState)(),v=(0,g.Z)(m,2),y=v[0],b=v[1],w=(0,e.useCallback)((function(e,t){var r=e.target,a=n[t];b(t),a.id=r.value,"function"===typeof i&&i([].concat((0,T.Z)(n.slice(0,t)),[a],(0,T.Z)(n.slice(t+1))))}),[n,b,i]),_=(0,e.useCallback)((function(e,t){var r=e.target,a=n[t];a.color=r.value,"function"===typeof i&&i([].concat((0,T.Z)(n.slice(0,t)),[a],(0,T.Z)(n.slice(t+1))))}),[n,i]),S=(0,e.useCallback)((function(e){window.confirm("Please confirm your delete request ?")&&i([].concat((0,T.Z)(n.slice(0,e)),(0,T.Z)(n.slice(e+1))))}),[n,i]),C=(0,e.useCallback)((function(e){"function"===typeof a&&a(e)}),[a]),k=(0,e.useCallback)((function(){window.confirm("Please confirm your delete request ?")&&i([])}),[i]);return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"left",children:"Cluster Table"}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"left",children:(0,u.jsx)(vC,{columns:s,rows:o,checkboxSelection:!1})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"left",children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:6,children:(0,u.jsx)(yl,{variant:"outlined",className:l.button,onClick:p,fullWidth:!0,children:(0,u.jsx)(Bt,{className:l.contentTextWhite,children:"Add cluster"})})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:6,children:(0,u.jsx)(yl,{variant:"outlined",className:l.button,onClick:k,fullWidth:!0,children:(0,u.jsx)(Bt,{className:l.contentTextWhite,children:"Delete All"})})})]})})]})})}function FD(e){return(0,se.Z)("MuiSlider",e)}var ZD=(0,oe.Z)("MuiSlider",["root","active","focusVisible","disabled","dragging","marked","vertical","trackInverted","trackFalse","rail","track","mark","markActive","markLabel","markLabelActive","thumb","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel"]);var BD=function(t){var n=t.children,r=t.className,i=t.value,a=t.theme,o=function(e){var t=e.open;return{offset:(0,C.Z)(t&&ZD.valueLabelOpen),circle:ZD.valueLabelCircle,label:ZD.valueLabelLabel}}(t);return e.cloneElement(n,{className:(0,C.Z)(n.props.className)},(0,u.jsxs)(e.Fragment,{children:[n.props.children,(0,u.jsx)("span",{className:(0,C.Z)(o.offset,r),theme:a,"aria-hidden":!0,children:(0,u.jsx)("span",{className:o.circle,children:(0,u.jsx)("span",{className:o.label,children:i})})})]}))},zD=n(45372),VD={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function jD(e,t){return e-t}function WD(e,t,n){return null==e?t:Math.min(Math.max(t,e),n)}function UD(e,t){var n,r=null!=(n=e.reduce((function(e,n,r){var i=Math.abs(t-n);return null===e||i<e.distance||i===e.distance?{distance:i,index:r}:e}),null))?n:{};return r.index}function HD(e,t){if(void 0!==t.current&&e.changedTouches){for(var n=e,r=0;r<n.changedTouches.length;r+=1){var i=n.changedTouches[r];if(i.identifier===t.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function GD(e,t,n){return 100*(e-t)/(n-t)}function XD(e,t,n){var r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var r=e.toString().split(".")[1];return r?r.length:0}(t)))}function qD(e){var t=e.values,n=e.newValue,r=e.index,i=t.slice();return i[r]=n,i.sort(jD)}function YD(e){var t,n,r,i=e.sliderRef,a=e.activeIndex,o=e.setActive,s=(0,B.Z)(i.current);null!=(t=i.current)&&t.contains(s.activeElement)&&Number(null==s||null==(n=s.activeElement)?void 0:n.getAttribute("data-index"))===a||(null==(r=i.current)||r.querySelector('[type="range"][data-index="'.concat(a,'"]')).focus());o&&o(a)}var KD,QD={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},JD=function(e){return e};function $D(){return void 0===KD&&(KD="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),KD}function eT(t){var n=t.ref,r=t["aria-labelledby"],a=t.defaultValue,o=t.disableSwap,s=void 0!==o&&o,u=t.disabled,l=void 0!==u&&u,c=t.marks,d=void 0!==c&&c,f=t.max,h=void 0===f?100:f,p=t.min,m=void 0===p?0:p,v=t.name,y=t.onChange,x=t.onChangeCommitted,b=t.orientation,w=void 0===b?"horizontal":b,_=t.scale,S=void 0===_?JD:_,C=t.step,k=void 0===C?1:C,D=t.tabIndex,I=t.value,A=t.isRtl,M=void 0!==A&&A,E=e.useRef(),N=e.useState(-1),R=(0,g.Z)(N,2),P=R[0],O=R[1],L=e.useState(-1),F=(0,g.Z)(L,2),V=F[0],j=F[1],U=e.useState(!1),H=(0,g.Z)(U,2),G=H[0],X=H[1],q=e.useRef(0),Y=(0,Ag.Z)({controlled:I,default:null!=a?a:m,name:"Slider"}),K=(0,g.Z)(Y,2),Q=K[0],J=K[1],$=y&&function(e,t,n){var r=e.nativeEvent||e,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:t,name:v}}),y(i,t,n)},ee=Array.isArray(Q),te=ee?Q.slice().sort(jD):[Q];te=te.map((function(e){return WD(e,m,h)}));var ne=!0===d&&null!==k?(0,T.Z)(Array(Math.floor((h-m)/k)+1)).map((function(e,t){return{value:m+k*t}})):d||[],re=ne.map((function(e){return e.value})),ie=(0,zD.Z)(),ae=ie.isFocusVisibleRef,oe=ie.onBlur,se=ie.onFocus,ue=ie.ref,le=e.useState(-1),ce=(0,g.Z)(le,2),de=ce[0],fe=ce[1],he=e.useRef(),pe=(0,Z.Z)(ue,he),me=(0,Z.Z)(n,pe),ge=function(e){return function(t){var n,r=Number(t.currentTarget.getAttribute("data-index"));se(t),!0===ae.current&&fe(r),j(r),null==e||null==(n=e.onFocus)||n.call(e,t)}},ve=function(e){return function(t){var n;oe(t),!1===ae.current&&fe(-1),j(-1),null==e||null==(n=e.onBlur)||n.call(e,t)}};(0,W.Z)((function(){var e;l&&he.current.contains(document.activeElement)&&(null==(e=document.activeElement)||e.blur())}),[l]),l&&-1!==P&&O(-1),l&&-1!==de&&fe(-1);var ye=function(e){return function(t){var n;null==(n=e.onChange)||n.call(e,t);var r=Number(t.currentTarget.getAttribute("data-index")),i=te[r],a=re.indexOf(i),o=t.target.valueAsNumber;if(ne&&null==k&&(o=o<i?re[a-1]:re[a+1]),o=WD(o,m,h),ne&&null==k){var u=re.indexOf(te[r]);o=o<te[r]?re[u-1]:re[u+1]}if(ee){s&&(o=WD(o,te[r-1]||-1/0,te[r+1]||1/0));var l=o;o=qD({values:te,newValue:o,index:r});var c=r;s||(c=o.indexOf(l)),YD({sliderRef:he,activeIndex:c})}J(o),fe(r),$&&$(t,o,r),x&&x(t,o)}},xe=e.useRef(),be=w;M&&"horizontal"===w&&(be+="-reverse");var we=function(e){var t,n,r=e.finger,i=e.move,a=void 0!==i&&i,o=e.values,u=he.current.getBoundingClientRect(),l=u.width,c=u.height,d=u.bottom,f=u.left;if(t=0===be.indexOf("vertical")?(d-r.y)/c:(r.x-f)/l,-1!==be.indexOf("-reverse")&&(t=1-t),n=function(e,t,n){return(n-t)*e+t}(t,m,h),k)n=XD(n,k,m);else{var p=UD(re,n);n=re[p]}n=WD(n,m,h);var g=0;if(ee){g=a?xe.current:UD(o,n),s&&(n=WD(n,o[g-1]||-1/0,o[g+1]||1/0));var v=n;n=qD({values:o,newValue:n,index:g}),s&&a||(g=n.indexOf(v),xe.current=g)}return{newValue:n,activeIndex:g}},_e=(0,z.Z)((function(e){var t=HD(e,E);if(t)if(q.current+=1,"mousemove"!==e.type||0!==e.buttons){var n=we({finger:t,move:!0,values:te}),r=n.newValue,i=n.activeIndex;YD({sliderRef:he,activeIndex:i,setActive:O}),J(r),!G&&q.current>2&&X(!0),$&&$(e,r,i)}else Se(e)})),Se=(0,z.Z)((function(e){var t=HD(e,E);if(X(!1),t){var n=we({finger:t,values:te}).newValue;O(-1),"touchend"===e.type&&j(-1),x&&x(e,n),E.current=void 0,ke()}})),Ce=(0,z.Z)((function(e){if(!l){$D()||e.preventDefault();var t=e.changedTouches[0];null!=t&&(E.current=t.identifier);var n=HD(e,E);if(!1!==n){var r=we({finger:n,values:te}),i=r.newValue,a=r.activeIndex;YD({sliderRef:he,activeIndex:a,setActive:O}),J(i),$&&$(e,i,a)}q.current=0;var o=(0,B.Z)(he.current);o.addEventListener("touchmove",_e),o.addEventListener("touchend",Se)}})),ke=e.useCallback((function(){var e=(0,B.Z)(he.current);e.removeEventListener("mousemove",_e),e.removeEventListener("mouseup",Se),e.removeEventListener("touchmove",_e),e.removeEventListener("touchend",Se)}),[Se,_e]);e.useEffect((function(){var e=he.current;return e.addEventListener("touchstart",Ce,{passive:$D()}),function(){e.removeEventListener("touchstart",Ce,{passive:$D()}),ke()}}),[ke,Ce]),e.useEffect((function(){l&&ke()}),[l,ke]);var De=function(e){return function(t){var n;if(null==(n=e.onMouseDown)||n.call(e,t),!l&&!t.defaultPrevented&&0===t.button){t.preventDefault();var r=HD(t,E);if(!1!==r){var i=we({finger:r,values:te}),a=i.newValue,o=i.activeIndex;YD({sliderRef:he,activeIndex:o,setActive:O}),J(a),$&&$(t,a,o)}q.current=0;var s=(0,B.Z)(he.current);s.addEventListener("mousemove",_e),s.addEventListener("mouseup",Se)}}},Te=GD(ee?te[0]:m,m,h),Ie=GD(te[te.length-1],m,h)-Te,Ae=function(e){return function(t){var n;null==(n=e.onMouseOver)||n.call(e,t);var r=Number(t.currentTarget.getAttribute("data-index"));j(r)}},Me=function(e){return function(t){var n;null==(n=e.onMouseLeave)||n.call(e,t),j(-1)}};return{axis:be,axisProps:QD,getRootProps:function(e){var t={onMouseDown:De(e||{})},n=(0,i.Z)({},e,t);return(0,i.Z)({ref:me},n)},getHiddenInputProps:function(e){var n={onChange:ye(e||{}),onFocus:ge(e||{}),onBlur:ve(e||{})},a=(0,i.Z)({},e,n);return(0,i.Z)({tabIndex:D,"aria-labelledby":r,"aria-orientation":w,"aria-valuemax":S(h),"aria-valuemin":S(m),name:v,type:"range",min:t.min,max:t.max,step:t.step,disabled:l},a,{style:(0,i.Z)({},VD,{direction:M?"rtl":"ltr",width:"100%",height:"100%"})})},getThumbProps:function(e){var t={onMouseOver:Ae(e||{}),onMouseLeave:Me(e||{})},n=(0,i.Z)({},e,t);return(0,i.Z)({},n)},dragging:G,marks:ne,values:te,active:P,focusVisible:de,open:V,range:ee,trackOffset:Te,trackLeap:Ie}}var tT=["aria-label","aria-valuetext","className","component","classes","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","tabIndex","track","value","valueLabelDisplay","valueLabelFormat","isRtl","components","componentsProps"],nT=function(e){return e},rT=function(e){return e.children},iT=e.forwardRef((function(t,n){var r,a,o,s,l,c,d,f=t["aria-label"],h=t["aria-valuetext"],p=t.className,m=t.component,g=t.classes,v=t.disableSwap,y=void 0!==v&&v,x=t.disabled,b=void 0!==x&&x,w=t.getAriaLabel,_=t.getAriaValueText,k=t.marks,D=void 0!==k&&k,T=t.max,I=void 0===T?100:T,A=t.min,M=void 0===A?0:A,E=t.onMouseDown,N=t.orientation,R=void 0===N?"horizontal":N,P=t.scale,O=void 0===P?nT:P,Z=t.step,B=void 0===Z?1:Z,z=t.track,V=void 0===z?"normal":z,j=t.valueLabelDisplay,W=void 0===j?"off":j,U=t.valueLabelFormat,H=void 0===U?nT:U,G=t.isRtl,X=void 0!==G&&G,q=t.components,Y=void 0===q?{}:q,K=t.componentsProps,Q=void 0===K?{}:K,J=(0,S.Z)(t,tT),$=(0,i.Z)({},t,{mark:D,classes:g,disabled:b,isRtl:X,max:I,min:M,orientation:R,scale:O,step:B,track:V,valueLabelDisplay:W,valueLabelFormat:H}),ee=eT((0,i.Z)({},$,{ref:n})),te=ee.axisProps,ne=ee.getRootProps,re=ee.getHiddenInputProps,ie=ee.getThumbProps,ae=ee.open,oe=ee.active,se=ee.axis,ue=ee.range,le=ee.focusVisible,ce=ee.dragging,de=ee.marks,fe=ee.values,he=ee.trackOffset,pe=ee.trackLeap;$.marked=de.length>0&&de.some((function(e){return e.label})),$.dragging=ce;var me=null!=(r=null!=m?m:Y.Root)?r:"span",ge=_l(me,(0,i.Z)({},J,Q.root),$),ve=null!=(a=Y.Rail)?a:"span",ye=_l(ve,Q.rail,$),xe=null!=(o=Y.Track)?o:"span",be=_l(xe,Q.track,$),we=(0,i.Z)({},te[se].offset(he),te[se].leap(pe)),_e=null!=(s=Y.Thumb)?s:"span",Se=_l(_e,Q.thumb,$),Ce=null!=(l=Y.ValueLabel)?l:BD,ke=_l(Ce,Q.valueLabel,$),De=null!=(c=Y.Mark)?c:"span",Te=_l(De,Q.mark,$),Ie=null!=(d=Y.MarkLabel)?d:"span",Ae=_l(Ie,Q.markLabel,$),Me=Y.Input||"input",Ee=_l(Me,Q.input,$),Ne=re(),Re=function(e){var t=e.disabled,n=e.dragging,r=e.marked,i=e.orientation,a=e.track,o=e.classes,s={root:["root",t&&"disabled",n&&"dragging",r&&"marked","vertical"===i&&"vertical","inverted"===a&&"trackInverted",!1===a&&"trackFalse"],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled"],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return(0,L.Z)(s,FD,o)}($);return(0,u.jsxs)(me,(0,i.Z)({},ge,ne({onMouseDown:E}),{className:(0,C.Z)(Re.root,ge.className,p),children:[(0,u.jsx)(ve,(0,i.Z)({},ye,{className:(0,C.Z)(Re.rail,ye.className)})),(0,u.jsx)(xe,(0,i.Z)({},be,{className:(0,C.Z)(Re.track,be.className),style:(0,i.Z)({},we,be.style)})),de.map((function(t,n){var r,a=GD(t.value,M,I),o=te[se].offset(a);return r=!1===V?-1!==fe.indexOf(t.value):"normal"===V&&(ue?t.value>=fe[0]&&t.value<=fe[fe.length-1]:t.value<=fe[0])||"inverted"===V&&(ue?t.value<=fe[0]||t.value>=fe[fe.length-1]:t.value>=fe[0]),(0,u.jsxs)(e.Fragment,{children:[(0,u.jsx)(De,(0,i.Z)({"data-index":n},Te,!F(De)&&{markActive:r},{style:(0,i.Z)({},o,Te.style),className:(0,C.Z)(Re.mark,Te.className,r&&Re.markActive)})),null!=t.label?(0,u.jsx)(Ie,(0,i.Z)({"aria-hidden":!0,"data-index":n},Ae,!F(Ie)&&{markLabelActive:r},{style:(0,i.Z)({},o,Ae.style),className:(0,C.Z)(Re.markLabel,Ae.className,r&&Re.markLabelActive),children:t.label})):null]},t.value)})),fe.map((function(t,n){var r=GD(t,M,I),a=te[se].offset(r),o="off"===W?rT:Ce;return(0,u.jsx)(e.Fragment,{children:(0,u.jsx)(o,(0,i.Z)({},!F(o)&&{valueLabelFormat:H,valueLabelDisplay:W,value:"function"===typeof H?H(O(t),n):H,index:n,open:ae===n||oe===n||"on"===W,disabled:b},ke,{className:(0,C.Z)(Re.valueLabel,ke.className),children:(0,u.jsx)(_e,(0,i.Z)({"data-index":n},Se,ie(),{className:(0,C.Z)(Re.thumb,Se.className,oe===n&&Re.active,le===n&&Re.focusVisible)},!F(_e)&&{ownerState:(0,i.Z)({},$,Se.ownerState)},{style:(0,i.Z)({},a,{pointerEvents:y&&oe!==n?"none":void 0},Se.style),children:(0,u.jsx)(Me,(0,i.Z)({},Ne,{"data-index":n,"aria-label":w?w(n):f,"aria-valuenow":O(t),"aria-valuetext":_?_(O(t),n):h,value:fe[n]},!F(Me)&&{ownerState:(0,i.Z)({},$,Ee.ownerState)},Ee,{style:(0,i.Z)({},Ne.style,Ee.style)}))}))}))},n)}))]}))})),aT=iT,oT=["component","components","componentsProps","color","size"],sT=(0,i.Z)({},ZD,(0,oe.Z)("MuiSlider",["colorPrimary","colorSecondary","thumbColorPrimary","thumbColorSecondary","sizeSmall","thumbSizeSmall"])),uT=(0,b.ZP)("span",{name:"MuiSlider",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=!0===n.marksProp&&null!==n.step?(0,T.Z)(Array(Math.floor((n.max-n.min)/n.step)+1)).map((function(e,t){return{value:n.min+n.step*t}})):n.marksProp||[],i=r.length>0&&r.some((function(e){return e.label}));return[t.root,t["color".concat((0,Je.Z)(n.color))],"medium"!==n.size&&t["size".concat((0,Je.Z)(n.size))],i&&t.marked,"vertical"===n.orientation&&t.vertical,"inverted"===n.track&&t.trackInverted,!1===n.track&&t.trackFalse]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,i.Z)({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:n.palette[r.color].main,WebkitTapHighlightColor:"transparent"},"horizontal"===r.orientation&&(0,i.Z)({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},"small"===r.size&&{height:2},r.marked&&{marginBottom:20}),"vertical"===r.orientation&&(0,i.Z)({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},"small"===r.size&&{width:2},r.marked&&{marginRight:44}),(t={"@media print":{colorAdjust:"exact"}},(0,v.Z)(t,"&.".concat(sT.disabled),{pointerEvents:"none",cursor:"default",color:n.palette.grey[400]}),(0,v.Z)(t,"&.".concat(sT.dragging),(0,v.Z)({},"& .".concat(sT.thumb,", & .").concat(sT.track),{transition:"none"})),t))})),lT=(0,b.ZP)("span",{name:"MuiSlider",slot:"Rail",overridesResolver:function(e,t){return t.rail}})((function(e){var t=e.ownerState;return(0,i.Z)({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},"horizontal"===t.orientation&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===t.orientation&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},"inverted"===t.track&&{opacity:1})})),cT=(0,b.ZP)("span",{name:"MuiSlider",slot:"Track",overridesResolver:function(e,t){return t.track}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?(0,Ge.$n)(t.palette[n.color].main,.62):(0,Ge._j)(t.palette[n.color].main,.5);return(0,i.Z)({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest})},"small"===n.size&&{border:"none"},"horizontal"===n.orientation&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===n.orientation&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},!1===n.track&&{display:"none"},"inverted"===n.track&&{backgroundColor:r,borderColor:r})})),dT=(0,b.ZP)("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:function(e,t){var n=e.ownerState;return[t.thumb,t["thumbColor".concat((0,Je.Z)(n.color))],"medium"!==n.size&&t["thumbSize".concat((0,Je.Z)(n.size))]]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,i.Z)({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:n.transitions.create(["box-shadow","left","bottom"],{duration:n.transitions.duration.shortest})},"small"===r.size&&{width:12,height:12},"horizontal"===r.orientation&&{top:"50%",transform:"translate(-50%, -50%)"},"vertical"===r.orientation&&{left:"50%",transform:"translate(-50%, 50%)"},(t={"&:before":(0,i.Z)({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:n.shadows[2]},"small"===r.size&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},(0,v.Z)(t,"&:hover, &.".concat(sT.focusVisible),{boxShadow:"0px 0px 0px 8px ".concat((0,Ge.Fq)(n.palette[r.color].main,.16)),"@media (hover: none)":{boxShadow:"none"}}),(0,v.Z)(t,"&.".concat(sT.active),{boxShadow:"0px 0px 0px 14px ".concat((0,Ge.Fq)(n.palette[r.color].main,.16))}),(0,v.Z)(t,"&.".concat(sT.disabled),{"&:hover":{boxShadow:"none"}}),t))})),fT=(0,b.ZP)(BD,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:function(e,t){return t.valueLabel}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,i.Z)((t={},(0,v.Z)(t,"&.".concat(sT.valueLabelOpen),{transform:"translateY(-100%) scale(1)"}),(0,v.Z)(t,"zIndex",1),(0,v.Z)(t,"whiteSpace","nowrap"),t),n.typography.body2,{fontWeight:500,transition:n.transitions.create(["transform"],{duration:n.transitions.duration.shortest}),top:-10,transformOrigin:"bottom center",transform:"translateY(-100%) scale(0)",position:"absolute",backgroundColor:n.palette.grey[600],borderRadius:2,color:n.palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},"small"===r.size&&{fontSize:n.typography.pxToRem(12),padding:"0.25rem 0.5rem"},{"&:before":{position:"absolute",content:'""',width:8,height:8,bottom:0,left:"50%",transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit"}})})),hT=(0,b.ZP)("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:function(e){return(0,b.Dz)(e)&&"markActive"!==e},overridesResolver:function(e,t){return t.mark}})((function(e){var t=e.theme,n=e.ownerState,r=e.markActive;return(0,i.Z)({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},"horizontal"===n.orientation&&{top:"50%",transform:"translate(-1px, -50%)"},"vertical"===n.orientation&&{left:"50%",transform:"translate(-50%, 1px)"},r&&{backgroundColor:t.palette.background.paper,opacity:.8})})),pT=(0,b.ZP)("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:function(e){return(0,b.Dz)(e)&&"markLabelActive"!==e},overridesResolver:function(e,t){return t.markLabel}})((function(e){var t=e.theme,n=e.ownerState,r=e.markLabelActive;return(0,i.Z)({},t.typography.body2,{color:t.palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},"horizontal"===n.orientation&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},"vertical"===n.orientation&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},r&&{color:t.palette.text.primary})})),mT=e.forwardRef((function(e,t){var n,r,a,o,s=(0,fe.Z)({props:e,name:"MuiSlider"}),l="rtl"===_().direction,c=s.component,d=void 0===c?"span":c,f=s.components,h=void 0===f?{}:f,p=s.componentsProps,m=void 0===p?{}:p,g=s.color,v=void 0===g?"primary":g,y=s.size,x=void 0===y?"medium":y,b=(0,S.Z)(s,oT),w=function(e){var t=e.color,n=e.size,r=e.classes,a=void 0===r?{}:r;return(0,i.Z)({},a,{root:(0,C.Z)(a.root,FD("color".concat((0,Je.Z)(t))),a["color".concat((0,Je.Z)(t))],n&&[FD("size".concat((0,Je.Z)(n))),a["size".concat((0,Je.Z)(n))]]),thumb:(0,C.Z)(a.thumb,FD("thumbColor".concat((0,Je.Z)(t))),a["thumbColor".concat((0,Je.Z)(t))],n&&[FD("thumbSize".concat((0,Je.Z)(n))),a["thumbSize".concat((0,Je.Z)(n))]])})}((0,i.Z)({},s,{color:v,size:x}));return(0,u.jsx)(aT,(0,i.Z)({},b,{isRtl:l,components:(0,i.Z)({Root:uT,Rail:lT,Track:cT,Thumb:dT,ValueLabel:fT,Mark:hT,MarkLabel:pT},h),componentsProps:(0,i.Z)({},m,{root:(0,i.Z)({},m.root,gw(h.Root)&&{as:d,ownerState:(0,i.Z)({},null==(n=m.root)?void 0:n.ownerState,{color:v,size:x})}),thumb:(0,i.Z)({},m.thumb,gw(h.Thumb)&&{ownerState:(0,i.Z)({},null==(r=m.thumb)?void 0:r.ownerState,{color:v,size:x})}),track:(0,i.Z)({},m.track,gw(h.Track)&&{ownerState:(0,i.Z)({},null==(a=m.track)?void 0:a.ownerState,{color:v,size:x})}),valueLabel:(0,i.Z)({},m.valueLabel,gw(h.ValueLabel)&&{ownerState:(0,i.Z)({},null==(o=m.valueLabel)?void 0:o.ownerState,{color:v,size:x})})}),classes:w,ref:t}))})),gT=mT;var vT=Lo;function yT(t){var n=t.sensors,r=t.series,i=t.timeseries,a=t.onBrushActivate,o=void 0===a?function(){}:a,s=t.onBrushByIndicator,l=void 0===s?function(){}:s,c=vT(),d=(0,e.useState)(""),f=(0,g.Z)(d,2),h=f[0],p=f[1],m=(0,e.useState)(""),v=(0,g.Z)(m,2),y=v[0],x=v[1],b=(0,e.useState)(0),w=(0,g.Z)(b,2),_=w[0],S=w[1],C=(0,e.useState)(1),k=(0,g.Z)(C,2),D=k[0],I=k[1],A=(0,e.useMemo)((function(){return n.map((function(e){return{id:e,value:e}}))}),[n]),M=function(){_<0?S(0):_>Math.max.apply(Math,(0,T.Z)(r[n[0]])).toFixed(2)&&S(Math.max.apply(Math,(0,T.Z)(r[n[0]])).toFixed(2))};return(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:"Brush by indicator"}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"left",children:(0,u.jsx)(sl,{label:"Sensor Tag",items:A.filter((function(e){return e.value!==y})),value:y,onChange:function(e){return x(e)}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"left",children:(0,u.jsx)(sl,{label:"Operator",items:wr.filter((function(e){return e.value!==h})),value:h,onChange:function(e){return p(e)}})}),""!==h&&(0,u.jsx)(u.Fragment,{children:"inRange"!==h?(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,children:[(0,u.jsx)(Go,{item:!0,xs:4,sm:4,md:4,lg:4,children:"Value :"}),(0,u.jsxs)(Go,{item:!0,container:!0,xs:8,sm:8,md:8,lg:8,spacing:0,children:[(0,u.jsx)(Go,{item:!0,xs:10,sm:10,md:10,lg:10,style:{paddingRight:"10px"},children:(0,u.jsx)(gT,{min:0,max:Math.max.apply(Math,(0,T.Z)(r[n[0]])).toFixed(2),value:_,step:.01,"aria-label":"Default",valueLabelDisplay:"auto",onChange:function(e,t){S(t)}})}),(0,u.jsx)(Go,{xs:2,sm:2,md:2,lg:2,align:"right",children:(0,u.jsx)(ku,{value:_,size:"small",onChange:function(e){return S(""===e.target.value?"":Number(e.target.value))},onBlur:M,inputProps:{step:.01,min:0,max:Math.max.apply(Math,(0,T.Z)(r[n[0]])).toFixed(2),type:"number","aria-labelledby":"input-slider"}})})]})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Go,{item:!0,xs:6,sm:6,md:6,lg:6,align:"left",children:"Value 1"}),(0,u.jsx)("br",{}),(0,u.jsx)(Go,{item:!0,xs:6,sm:6,md:6,lg:6,align:"right",children:"Value 2"}),(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,children:[(0,u.jsx)(Go,{item:!0,xs:2,sm:2,md:2,lg:2,align:"left",children:(0,u.jsx)(ku,{value:_,size:"small",onChange:function(e){return S(""===e.target.value?"":Number(e.target.value))},onBlur:M,inputProps:{step:.01,min:0,max:Math.max.apply(Math,(0,T.Z)(r[n[0]])).toFixed(2),type:"number","aria-labelledby":"input-slider"}})}),(0,u.jsx)(Go,{item:!0,xs:8,sm:8,md:8,lg:8,align:"center",children:(0,u.jsx)(gT,{getAriaLabel:function(){return"Minimum distance"},value:[_,D],min:0,max:Math.max.apply(Math,(0,T.Z)(r[n[0]])).toFixed(2),step:.01,onChange:function(e,t,n){Array.isArray(t)&&(0===n?S(Math.min(t[0],D-1)):I(Math.max(t[1],_+1)))},valueLabelDisplay:"auto",disableSwap:!0})}),(0,u.jsx)(Go,{item:!0,xs:2,sm:2,md:2,lg:2,align:"right",children:(0,u.jsx)(ku,{value:D,size:"small",onChange:function(e){return I(""===e.target.value?"":Number(e.target.value))},onBlur:M,inputProps:{step:.01,min:0,max:Math.max.apply(Math,(0,T.Z)(r[n[0]])).toFixed(2),type:"number","aria-labelledby":"input-slider"}})})]})]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:6,lg:6,align:"right",children:(0,u.jsx)(yl,{variant:"outlined",className:c.button,fullWidth:!0,onClick:function(){l([]),o()},children:"Clear Filter"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:6,lg:6,align:"right",children:(0,u.jsx)(yl,{variant:"outlined",className:c.button,fullWidth:!0,onClick:function(){var e=function(e){var t=e.tag,n=e.operator,r=e.value1,i=e.value2,a=e.series,o=e.timeseries;if(""!==t&&""!==n&&""!==r||""!==i){for(var s=[],u=0;u<o.length;u++)switch(n){case"inRange":a[t][u]>=Number(r)&&a[t][u]<=Number(i)&&s.push(u);break;case"equal":a[t][u]===Number(r)&&s.push(u);break;case"moreThan":a[t][u]>Number(r)&&s.push(u);break;case"moreThanEqual":a[t][u]>=Number(r)&&s.push(u);break;case"lessThan":a[t][u]<Number(r)&&s.push(u);break;case"lessThanEqual":a[t][u]<=Number(r)&&s.push(u);break;default:s=[]}if(s.length>0)return s;console.error("brushDataIndex function => no result from this condition")}else console.error("brushDataIndex function => tag, operator and value must be defined")}({tag:y,operator:h,value1:_,value2:D,series:r,timeseries:i});(null===e||void 0===e?void 0:e.length)>0&&(l(e),o())},children:"Filter"})})]})})]})}var xT=Lo;function bT(t){var n=xT(),r=t.sensors,i=t.series,a=t.timeseries,o=t.clusters,s=t.activeClusterIndex,l=t.dataClusterIndex,c=t.onChange,d=t.onActiveChange,f=t.onBrushActivate,h=t.onBrushByIndicator,p=(0,e.useState)(!1),m=(0,g.Z)(p,2),v=m[0],y=m[1],x=function(){y(!1)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(yl,{variant:"text",size:"small",className:n.defaultButton,onClick:function(){y(!0)},children:(0,u.jsx)(Bt,{className:n.contentTextBlack,children:"Add Cluster"})}),(0,u.jsxs)(Jk,{keepMounted:!0,open:v,onClose:x,PaperProps:{style:{border:"1px solid white",borderRadius:4}},fullWidth:!0,maxWidth:"xl",children:[(0,u.jsx)(rD,{className:n.dialog,children:"Pairplot Customization"}),(0,u.jsx)(sD,{className:n.dialog,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:4,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:6,lg:6,children:(0,u.jsx)(LD,{clusters:o,activeClusterIndex:s,dataClusterIndex:l,onChange:c,onActiveChange:d})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:6,lg:6,children:(0,u.jsx)(yT,{sensors:r,series:i,timeseries:a,onBrushActivate:f,onBrushByIndicator:h,indexCluster:!0})})]})}),(0,u.jsx)(dD,{className:n.dialog,children:(0,u.jsx)(yl,{variant:"contained",className:n.button,onClick:x,children:"Close"})})]})]})}var wT={id:"default",color:"#00ff00"},_T=function(t){var n=t.data,r=t.selectedTags,i=(0,e.useState)(!1),a=(0,g.Z)(i,2),o=a[0],s=a[1],l=(0,e.useState)([wT]),c=(0,g.Z)(l,2),d=c[0],f=c[1],h=(0,e.useCallback)((function(e){f(e)}),[f]),p=(0,e.useState)(0),m=(0,g.Z)(p,2),y=m[0],x=m[1],b=(0,e.useCallback)((function(e){x(e)}),[x]),w=(0,e.useMemo)((function(){if(s(!1),r.length>0){var e=r.map((function(e){return(0,v.Z)({},e,n.map((function(t){return t[e]})))})),t=n.map((function(e){return new Date(e.TimeStamp)})),i=e.reduce((function(e,t){var n=Object.keys(t)[0];return e[n]=t[n],e}),{});return[i,t]}return[void 0,void 0]}),[n,r]),_=(0,g.Z)(w,2),S=_[0],C=_[1],k=(0,e.useReducer)((function(e,t){if(!1===o)return e;var n=!1,r=e.map((function(e){return e===y?(n=!0,-1):e}));return void 0!==t&&t.length>0&&(n=!0,t.forEach((function(e){r[e]=y}))),n?r:e}),S?Object.values(S)[0].map((function(){return-1})):[]),D=(0,g.Z)(k,2),T=D[0],I=D[1],A=(0,e.useCallback)((function(){s(!0)}),[s]),M=(0,e.useCallback)((function(){s(!1)}),[s]),E=(0,e.useCallback)((function(e){I(e)}),[I]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Wk,{style:{width:"100%",height:"100%"},series:S,timeseries:C,clusters:d,brushingMode:o,dataClusterIndex:T,onBrushActivate:A,onBrushDeactivate:M,onSelected:E}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"right",style:{paddingTop:20},children:(0,u.jsx)(bT,{sensors:r,series:S,timeseries:C,clusters:d,activeClusterIndex:y,dataClusterIndex:T,onChange:h,onActiveChange:b,onBrushActivate:A,onBrushByIndicator:E})})]})},ST=(0,e.memo)(_T),CT=n(46974);function kT(e){var t=e.data,n=e.rawdata,r=Object.keys(t[0]);r.splice(0,1);var i=function(e){var t=Object.keys(e[0]);t.splice(0,1);var n=e.map((function(e){return Object.entries(e).filter((function(e){var n=(0,g.Z)(e,1)[0];return-1!==t.indexOf(n)})).map((function(e){var t=(0,g.Z)(e,2),n=(t[0],t[1]);return Number(n)}))})),r=CT.tensor(n),i=CT.moments(r,[0]),a=CT.sqrt(i.variance).arraySync();return[i.mean.arraySync(),a]}(n),a=(0,g.Z)(i,2),o=a[0],s=a[1],u=r.map((function(e,n){var r=o[n]-s[n],i=o[n]+s[n],a=[];return t.forEach((function(t,n){return t[e]>=r&&t[e]<=i||a.push(n),!0})),(0,v.Z)({},e,a.length)}));return u}var DT=n(37762),TT=function(e){var t,n=e.y,r=void 0===n?[]:n,i=e.timestamps,a=(e.series,e.startDate),o=e.endDate,s=(e.clusterIndex,e.axisOffset),u=e.visualMap;return t=r&&r.length>0?[{type:"value",scale:!!r[0].autoScale,max:function(e){return!r[0].autoScale&&r[0].max?r[0].max:null},min:function(e){return!r[0].autoScale&&r[0].min?r[0].min:null},name:r[0].name,show:!0,nameLocation:"middle",nameTextStyle:{color:"#ffffff"},nameGap:25,splitLine:{lineStyle:{color:"#ffffff",opacity:0}},axisLine:{lineStyle:{opacity:.5}},axisLabel:{show:!0,color:"#ffffff"},axisPointer:{show:!0,label:{formatter:function(e){return e.value.toFixed(2)},backgroundColor:"#242f39",color:"#ffffff",width:30,fontSize:12}},minorTick:{show:!0}}].concat((0,T.Z)(r.slice(1).map((function(e,t){var n=e.name,r=e.max,i=e.min,a=(e.color,e.autoScale);return{type:"value",scale:!!a,max:function(e){return!a&&r?r:null},min:function(e){return!a&&i?i:null},name:n,nameLocation:"middle",nameTextStyle:{color:"#ffffff"},nameGap:30,position:"right",offset:t*s,splitLine:{lineStyle:{color:"white",opacity:0}},axisLabel:{show:!0,color:"#ffffff"},axisPointer:{label:{formatter:function(e){return e.value.toFixed(2)},backgroundColor:"#242f39",color:"#ffffff",width:30,fontSize:12,padding:[3,3,3,3]}},minorTick:{show:!0}}})))):[{type:"value",scale:!0}],{tooltip:{backgroundColor:"#242f39",trigger:"axis",axisPointer:{type:"cross"},textStyle:{color:"#ffffff",fontFamily:"Roboto",fontSize:12}},dataset:r.map((function(e){return e.dataset})),animationEnabled:!0,animationDuration:100,grid:{left:35,containLabel:!0},toolbox:{feature:{dataZoom:{yAxisIndex:"none",title:{zoom:"zoom",back:"back"},emphasis:{iconStyle:{textPadding:20}}}}},title:{left:"center"},legend:{show:!0,textStyle:{color:"#ffffff"}},xAxis:[{type:"time",axisTick:{alignWithLabel:!0},axisLine:{onZero:!0,lineStyle:{color:"#242f39"}},axisLabel:{color:"#ffffff"},min:a,max:o,data:i}],yAxis:t,dataZoom:[{type:"inside",xAxisIndex:[0,1]},{type:"slider",xAxisIndex:[0,1]}],visualMap:u,series:(0,T.Z)(r.map((function(e,t){var n=e.name;e.data;return{name:n,connectNulls:!1,datasetIndex:t,type:"line",sampling:"lttb",emphasis:{focus:"series"},lineStyle:{opacity:1,width:1},symbol:"none",yAxisIndex:t}})))}},IT=function(e,t){return IT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},IT(e,t)};function AT(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}IT(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var MT=function(){return MT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},MT.apply(this,arguments)};Object.create;Object.create;var ET=n(24741),NT=n(80315);function RT(e,t){var n={};return t.forEach((function(t){n[t]=e[t]})),n}function PT(e){return"function"===typeof e}var OT=n(78262),LT=n.n(OT),FT=function(t){function n(e){var n=t.call(this,e)||this;return n.echarts=e.echarts,n.ele=null,n.isInitialResize=!0,n}return AT(n,t),n.prototype.componentDidMount=function(){this.renderNewEcharts()},n.prototype.componentDidUpdate=function(e){var t=this.props.shouldSetOption;if(!PT(t)||t(e,this.props)){if(!LT()(e.theme,this.props.theme)||!LT()(e.opts,this.props.opts)||!LT()(e.onEvents,this.props.onEvents))return this.dispose(),void this.renderNewEcharts();var n=["option","notMerge","lazyUpdate","showLoading","loadingOption"];LT()(RT(this.props,n),RT(e,n))||this.updateEChartsOption(),LT()(e.style,this.props.style)&&LT()(e.className,this.props.className)||this.resize()}},n.prototype.componentWillUnmount=function(){this.dispose()},n.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)||this.echarts.init(this.ele,this.props.theme,this.props.opts)},n.prototype.dispose=function(){if(this.ele){try{(0,NT.ZH)(this.ele)}catch(tZ){console.warn(tZ)}this.echarts.dispose(this.ele)}},n.prototype.renderNewEcharts=function(){var e=this,t=this.props,n=t.onEvents,r=t.onChartReady,i=this.updateEChartsOption();this.bindEvents(i,n||{}),PT(r)&&r(i),this.ele&&(0,NT.ak)(this.ele,(function(){e.resize()}))},n.prototype.bindEvents=function(e,t){function n(t,n){"string"===typeof t&&PT(n)&&e.on(t,(function(t){n(t,e)}))}for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n(r,t[r])},n.prototype.updateEChartsOption=function(){var e=this.props,t=e.option,n=e.notMerge,r=void 0!==n&&n,i=e.lazyUpdate,a=void 0!==i&&i,o=e.showLoading,s=e.loadingOption,u=void 0===s?null:s,l=this.getEchartsInstance();return l.setOption(t,r,a),o?l.showLoading(u):l.hideLoading(),l},n.prototype.resize=function(){var e=this.getEchartsInstance();if(!this.isInitialResize)try{e.resize()}catch(tZ){console.warn(tZ)}this.isInitialResize=!1},n.prototype.render=function(){var t=this,n=this.props,r=n.style,i=n.className,a=void 0===i?"":i,o=MT({height:300},r);return e.createElement("div",{ref:function(e){t.ele=e},style:o,className:"echarts-for-react "+a})},n}(e.PureComponent),ZT=function(e){function t(t){var n=e.call(this,t)||this;return n.echarts=ET,n}return AT(t,e),t}(FT),BT=function(t){var n=t.style,r=t.selectedTags,i=t.series,a=t.timeseries,o=t.visualMap,s=void 0===o?[]:o,l=t.dataClusterIndex,c=t.scale,d=a[0],f=a[a.length-1],h=(0,e.useMemo)((function(){return void 0===l?Object.entries(i)[0][1].map((function(){return-1})):l}),[l,i]),p=(0,e.useMemo)((function(){var e,t=[],n=(0,DT.Z)(r);try{var o=function(){var n=e.value,r=c.find((function(e){return e.tag===n}));t.push({name:"".concat(n),dataset:{id:"".concat(n),dimensions:[{name:"timestamp",type:"time"},{name:"value",type:"float"}],source:i[n].reduce((function(e,t,n){return e[n]={timestamp:a[n],value:t},e}),[])},color:"#242f39",max:r.max,min:r.min,autoScale:r.autoScale})};for(n.s();!(e=n.n()).done;)o()}catch(s){n.e(s)}finally{n.f()}return t}),[r,i,a,c]);return(0,u.jsx)(ZT,{notMerge:!0,lazyUpdate:!1,option:TT({y:(0,T.Z)(p),timeseries:a,clusterIndex:h,series:i,startDate:d,endDate:f,axisOffset:35,visualMap:s}),style:n})},zT=(0,e.memo)(BT),VT={id:"default",color:"#00ff00"},jT=["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],WT=function(t){var n=t.selectedTags,r=t.data,i=t.rawdata,a=t.indexSeries,o=t.getFilteredSensor,s=t.reset,l=t.scale,c=Object.keys(r[0]);c.splice(0,1);var d=(0,e.useState)([VT]),f=(0,g.Z)(d,2),h=f[0],p=(f[1],(0,e.useState)(0)),m=(0,g.Z)(p,2),y=m[0],x=(m[1],(0,e.useState)(!1)),b=(0,g.Z)(x,2),w=b[0],_=(b[1],(0,e.useState)(0)),S=(0,g.Z)(_,2),C=S[0],k=S[1],D=(0,e.useMemo)((function(){var e;if(e=i||r,n.length>0&&e){var t=n.map((function(t){return(0,v.Z)({},t,e.map((function(e){return e[t]})))})),a=e.map((function(e){return e.TimeStamp})),o=t.reduce((function(e,t){var n=Object.keys(t)[0];return e[n]=t[n],e}),{});return[o,a]}return[]}),[i,n,r]),I=(0,g.Z)(D,2),A=I[0],M=I[1],E=(0,e.useMemo)((function(){if(a){var e=[],t=[],r=[];if(n.length>0&&a.length>0){for(var i=0;i<a.length;i++){var o=a[i];i===a.length-1||(o+1!==a[i+1]&&t.push(o),o-1!==a[i-1]&&e.push(o))}for(var s=0;s<e.length;s++)r.push({start:e[s],end:t[s]});return r.filter((function(e){return e.start!==e.end&&e.start&&e.end}))}return[]}return[]}),[a,n]),N=(0,e.useMemo)((function(){if(M&&n.length>0&&E.length>0){for(var e=E.map((function(e){return{min:new Date(M[e.start]).getTime(),max:new Date(M[e.end]).getTime(),color:"red"}})),t=[],r=0;r<E.length;r++)0===r?t.push({max:new Date(M[E[r].start]).getTime()}):r===E.length?t.push({min:new Date(M[E[r].end]).getTime()}):t.push({min:new Date(M[E[r-1].end]).getTime(),max:new Date(M[E[r].start]).getTime()});var i=n.map((function(n,r){return{type:"piecewise",show:!1,dimension:0,seriesIndex:r,inRange:{color:jT[r]},pieces:[].concat((0,T.Z)(e),t)}}));return i}return[]}),[M,n,E]),R=(0,e.useReducer)((function(e,t){if(!1===w)return e;var n=!1,r=e.map((function(e){return e===y?(n=!0,-1):e}));return void 0!==t&&t.length>0&&(n=!0,t.forEach((function(e){r[e]=y}))),n?r:e}),A?Object.values(A)[0].map((function(){return-1})):[]),P=(0,g.Z)(R,2),L=P[0],F=(P[1],(0,e.useMemo)((function(){return Ek()((function(e){if(a.length>0){var t=function(e,t){return e.filter((function(e,n){return e[c[n]]>=t})).map((function(e){return Object.keys(e)[0]}))}(kT({data:r,rawdata:i}),e);o(t)}}),500)}),[r,o,a,i]));return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(Go,{container:!0,spacing:1,style:{width:"100%",height:"100%"},children:[(0,u.jsx)(Go,{item:!0,xs:a?11:12,children:n.length>0&&(0,u.jsx)(zT,{style:{width:"100%",height:"100%"},series:A,timeseries:M,selectedTags:n,clusters:h,dataClusterIndex:L,visualMap:N,scale:l})}),a&&(0,u.jsx)(Go,{item:!0,xs:1,style:{paddingTop:"100px",paddingBottom:"100px"},children:(0,u.jsxs)(O,{sx:{height:"100%"},children:[(0,u.jsx)(gT,{orientation:"vertical",min:0,max:a.length,value:C,"aria-label":"Temperature",valueLabelDisplay:"auto",onChange:function(e,t){k(t),i&&F(t)}}),(0,u.jsx)(yl,{variant:"text",style:{marginTop:"10px"},onClick:function(){return k(0),void s()},children:"Reset"})]})})]})})},UT=(0,e.memo)(WT),HT=n(763),GT=n(74365);function XT(e){var t=e.data,n=e.batchSize,r=e.bandwidth,i=(0,g.Z)(t.shape,2),a=i[0],o=i[1];if(void 0===r){var s=function(e,t){void 0===t&&(t=e.shape[0]);for(var n=(0,g.Z)(e.shape,2),r=n[0],i=n[1],a=CT.moments(e.slice([0,0],[t,i]),0),o=a.mean,s=a.variance,u=r%t,l=t;l<r-u;l+=t){var c=CT.moments(e.slice([l,0],[t,i]),0),d=c.mean,f=c.variance,h=l+t;s=s.mul((l-1)/(h-1)).add(f.mul((t-1)/(h-1))).add(o.sub(d).pow(2).mul(l*t/(h*(h-1)))),o=o.mul(l/h).add(d.mul(t/h))}if(0!==u){var p=r-u,m=CT.moments(e.slice([p,0],[u,i]),0),v=m.mean,y=m.variance,x=p+u;s=s.mul((p-1)/(x-1)).add(y.mul((u-1)/(x-1))).add(o.sub(v).pow(2).mul(p*u/(x*(x-1)))),o=o.mul(p/x).add(v.mul(u/x))}return[o,s]}(t,n),u=(0,g.Z)(s,2),l=(u[0],u[1]);r=0!==CT.prod(l).arraySync()?l.div(CT.tensor(Math.pow(a,2/(o+4)))):CT.diag(CT.tensor([Number.EPSILON]).tile([o]))}return r}var qT=n(18257),YT=n(44357),KT=(n(14913),n(48127)),QT=n(3027),JT=n(45687);(0,YT.D)([KT.N,QT.N]);function $T(e,t,n){"object"==typeof t&&(n=t,t=null);var r,i=this;if(!(e instanceof Function))for(var a in r=[],e)e.hasOwnProperty(a)&&r.push(a);var o=function t(n){if(i.apply(this,arguments),e instanceof Function?eI(this,e.call(this,n)):tI(this,e,r),this.constructor===t)for(var a=t.__initializers__,o=0;o<a.length;o++)a[o].apply(this,arguments)};o.__super__=i,o.__initializers__=i.__initializers__?i.__initializers__.slice():[],t&&o.__initializers__.push(t);var s=function(){};return s.prototype=i.prototype,(o.prototype=new s).constructor=o,eI(o.prototype,n),o.extend=i.extend,o.derive=i.extend,o}function eI(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function tI(e,t,n){for(var r=0;r<n.length;r++){var i=n[r];e[i]=t[i]}}(0,YT.D)(JT.T);var nI={extend:$T,derive:$T};function rI(e,t){this.action=e,this.context=t}var iI={trigger:function(e){if(this.hasOwnProperty("__handlers__")&&this.__handlers__.hasOwnProperty(e)){var t=this.__handlers__[e],n=t.length,r=-1,i=arguments;switch(i.length){case 1:for(;++r<n;)t[r].action.call(t[r].context);return;case 2:for(;++r<n;)t[r].action.call(t[r].context,i[1]);return;case 3:for(;++r<n;)t[r].action.call(t[r].context,i[1],i[2]);return;case 4:for(;++r<n;)t[r].action.call(t[r].context,i[1],i[2],i[3]);return;case 5:for(;++r<n;)t[r].action.call(t[r].context,i[1],i[2],i[3],i[4]);return;default:for(;++r<n;)t[r].action.apply(t[r].context,Array.prototype.slice.call(i,1));return}}},on:function(e,t,n){if(e&&t){var r=this.__handlers__||(this.__handlers__={});if(r[e]){if(this.has(e,t))return}else r[e]=[];var i=new rI(t,n||this);return r[e].push(i),this}},once:function(e,t,n){if(e&&t){var r=this;return this.on(e,(function n(){r.off(e,n),t.apply(this,arguments)}),n)}},before:function(e,t,n){if(e&&t)return e="before"+e,this.on(e,t,n)},after:function(e,t,n){if(e&&t)return e="after"+e,this.on(e,t,n)},success:function(e,t){return this.once("success",e,t)},error:function(e,t){return this.once("error",e,t)},off:function(e,t){var n=this.__handlers__||(this.__handlers__={});if(t){if(n[e]){for(var r=n[e],i=[],a=0;a<r.length;a++)t&&r[a].action!==t&&i.push(r[a]);n[e]=i}return this}n[e]=[]},has:function(e,t){var n=this.__handlers__;if(!n||!n[e])return!1;for(var r=n[e],i=0;i<r.length;i++)if(r[i].action===t)return!0}},aI=iI,oI=0,sI=Array.prototype.forEach,uI={genGUID:function(){return++oI},relative2absolute:function(e,t){if(!t||e.match(/^\//))return e;for(var n=e.split("/"),r=t.split("/"),i=n[0];"."===i||".."===i;)".."===i&&r.pop(),n.shift(),i=n[0];return r.join("/")+"/"+n.join("/")},extend:function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},defaults:function(e,t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e},extendWithPropList:function(e,t,n){if(t)for(var r=0;r<n.length;r++){var i=n[r];e[i]=t[i]}return e},defaultsWithPropList:function(e,t,n){if(t)for(var r=0;r<n.length;r++){var i=n[r];null==e[i]&&(e[i]=t[i])}return e},each:function(e,t,n){if(e&&t)if(e.forEach&&e.forEach===sI)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e);else for(var a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e)},isObject:function(e){return e===Object(e)},isArray:function(e){return Array.isArray(e)},isArrayLike:function(e){return!!e&&e.length===+e.length},clone:function(e){if(uI.isObject(e)){if(uI.isArray(e))return e.slice();if(uI.isArrayLike(e)){for(var t=new e.constructor(e.length),n=0;n<e.length;n++)t[n]=e[n];return t}return uI.extend({},e)}return e}},lI=uI,cI=function(){this.__uid__=lI.genGUID()};cI.__initializers__=[function(e){lI.extend(this,e)}],lI.extend(cI,nI),lI.extend(cI.prototype,aI);var dI=cI,fI=["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_vertex_array_object","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","EXT_texture_filter_anisotropic","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_frag_depth","EXT_sRGB","ANGLE_instanced_arrays"],hI=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE"];var pI=function(e){for(var t={},n={},r=0;r<fI.length;r++){a(fI[r])}for(r=0;r<hI.length;r++){var i=hI[r];n[i]=e.getParameter(e[i])}function a(n){if(e.getExtension){var r=e.getExtension(n);r||(r=e.getExtension("MOZ_"+n)),r||(r=e.getExtension("WEBKIT_"+n)),t[n]=r}}this.getExtension=function(e){return e in t||a(e),t[e]},this.getParameter=function(e){return n[e]}},mI=256,gI=1024,vI=16384,yI=0,xI=1,bI=2,wI=3,_I=4,SI=5,CI=6,kI=35040,DI=35044,TI=35048,II=1028,AI=1029,MI=1032,EI=2304,NI=2305,RI=5120,PI=5121,OI=5122,LI=5123,FI=5124,ZI=5125,BI=5126,zI=6402,VI=6406,jI=6407,WI=6408,UI=6409,HI=6410,GI=9728,XI=9729,qI=9984,YI=9985,KI=9986,QI=9987,JI=3553,$I=34067,eA=10497,tA=33071,nA=33648,rA=36160,iA=36161,aA=34041,oA=36064,sA=36096,uA=36128,lA=33306;var cA,dA={get:function(e){var t=new XMLHttpRequest;t.open("get",e.url),t.responseType=e.responseType||"text",e.onprogress&&(t.onprogress=function(t){if(t.lengthComputable){var n=t.loaded/t.total;e.onprogress(n,t.loaded,t.total)}else e.onprogress(null)}),t.onload=function(n){t.status>=400?e.onerror&&e.onerror():e.onload&&e.onload(t.response)},e.onerror&&(t.onerror=e.onerror),t.send(null)}},fA={supportWebGL:function(){if(null==cA)try{var e=document.createElement("canvas");if(!(e.getContext("webgl")||e.getContext("experimental-webgl")))throw new Error}catch(tZ){cA=!1}return cA}};fA.Int8Array="undefined"===typeof Int8Array?Array:Int8Array,fA.Uint8Array="undefined"===typeof Uint8Array?Array:Uint8Array,fA.Uint16Array="undefined"===typeof Uint16Array?Array:Uint16Array,fA.Uint32Array="undefined"===typeof Uint32Array?Array:Uint32Array,fA.Int16Array="undefined"===typeof Int16Array?Array:Int16Array,fA.Float32Array="undefined"===typeof Float32Array?Array:Float32Array,fA.Float64Array="undefined"===typeof Float64Array?Array:Float64Array;var hA={};"undefined"!==typeof window?hA=window:"undefined"!==typeof n.g&&(hA=n.g),fA.requestAnimationFrame=hA.requestAnimationFrame||hA.msRequestAnimationFrame||hA.mozRequestAnimationFrame||hA.webkitRequestAnimationFrame||function(e){setTimeout(e,16)},fA.createCanvas=function(){return document.createElement("canvas")},fA.createImage=function(){return new hA.Image},fA.request={get:dA.get},fA.addEventListener=function(e,t,n,r){e.addEventListener(t,n,r)},fA.removeEventListener=function(e,t,n){e.removeEventListener(t,n)};var pA=fA,mA=function(){this.head=null,this.tail=null,this._length=0};mA.prototype.insert=function(e){var t=new mA.Entry(e);return this.insertEntry(t),t},mA.prototype.insertAt=function(e,t){if(!(e<0)){for(var n=this.head,r=0;n&&r!=e;)n=n.next,r++;if(n){var i=new mA.Entry(t),a=n.prev;a?(a.next=i,i.prev=a):this.head=i,i.next=n,n.prev=i}else this.insert(t)}},mA.prototype.insertBeforeEntry=function(e,t){var n=new mA.Entry(e),r=t.prev;r?(r.next=n,n.prev=r):this.head=n,n.next=t,t.prev=n,this._length++},mA.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,this.tail=e):this.head=this.tail=e,this._length++},mA.prototype.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._length--},mA.prototype.removeAt=function(e){if(!(e<0)){for(var t=this.head,n=0;t&&n!=e;)t=t.next,n++;return t?(this.remove(t),t.value):void 0}},mA.prototype.getHead=function(){if(this.head)return this.head.value},mA.prototype.getTail=function(){if(this.tail)return this.tail.value},mA.prototype.getAt=function(e){if(!(e<0)){for(var t=this.head,n=0;t&&n!=e;)t=t.next,n++;return t.value}},mA.prototype.indexOf=function(e){for(var t=this.head,n=0;t;){if(t.value===e)return n;t=t.next,n++}},mA.prototype.length=function(){return this._length},mA.prototype.isEmpty=function(){return 0===this._length},mA.prototype.forEach=function(e,t){for(var n=this.head,r=0,i="undefined"!=typeof t;n;)i?e.call(t,n.value,r):e(n.value,r),n=n.next,r++},mA.prototype.clear=function(){this.tail=this.head=null,this._length=0},mA.Entry=function(e){this.value=e,this.next=null,this.prev=null};var gA=mA,vA=function(e){this._list=new gA,this._map={},this._maxSize=e||10};vA.prototype.setMaxSize=function(e){this._maxSize=e},vA.prototype.put=function(e,t){if(!this._map.hasOwnProperty(e)){var n=this._list.length();if(n>=this._maxSize&&n>0){var r=this._list.head;this._list.remove(r),delete this._map[r.key]}var i=this._list.insert(t);i.key=e,this._map[e]=i}},vA.prototype.get=function(e){var t=this._map[e];if(this._map.hasOwnProperty(e))return t!==this._list.tail&&(this._list.remove(t),this._list.insertEntry(t)),t.value},vA.prototype.remove=function(e){var t=this._map[e];"undefined"!==typeof t&&(delete this._map[e],this._list.remove(t))},vA.prototype.clear=function(){this._list.clear(),this._map={}};var yA=vA,xA={},bA={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function wA(e){return(e=Math.round(e))<0?0:e>255?255:e}function _A(e){return e<0?0:e>1?1:e}function SA(e){return e.length&&"%"===e.charAt(e.length-1)?wA(parseFloat(e)/100*255):wA(parseInt(e,10))}function CA(e){return e.length&&"%"===e.charAt(e.length-1)?_A(parseFloat(e)/100):_A(parseFloat(e))}function kA(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function DA(e,t,n){return e+(t-e)*n}function TA(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function IA(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var AA=new yA(20),MA=null;function EA(e,t){MA&&IA(MA,t),MA=AA.put(e,MA||t.slice())}function NA(e,t){var n=(parseFloat(e[0])%360+360)%360/360,r=CA(e[1]),i=CA(e[2]),a=i<=.5?i*(r+1):i+r-i*r,o=2*i-a;return TA(t=t||[],wA(255*kA(o,a,n+1/3)),wA(255*kA(o,a,n)),wA(255*kA(o,a,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}xA.parse=function(e,t){if(e){t=t||[];var n=AA.get(e);if(n)return IA(t,n);var r,i=(e+="").replace(/ /g,"").toLowerCase();if(i in bA)return IA(t,bA[i]),EA(e,t),t;if("#"===i.charAt(0))return 4===i.length?(r=parseInt(i.substr(1),16))>=0&&r<=4095?(TA(t,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,1),EA(e,t),t):void TA(t,0,0,0,1):7===i.length?(r=parseInt(i.substr(1),16))>=0&&r<=16777215?(TA(t,(16711680&r)>>16,(65280&r)>>8,255&r,1),EA(e,t),t):void TA(t,0,0,0,1):void 0;var a=i.indexOf("("),o=i.indexOf(")");if(-1!==a&&o+1===i.length){var s=i.substr(0,a),u=i.substr(a+1,o-(a+1)).split(","),l=1;switch(s){case"rgba":if(4!==u.length)return void TA(t,0,0,0,1);l=CA(u.pop());case"rgb":return 3!==u.length?void TA(t,0,0,0,1):(TA(t,SA(u[0]),SA(u[1]),SA(u[2]),l),EA(e,t),t);case"hsla":return 4!==u.length?void TA(t,0,0,0,1):(u[3]=CA(u[3]),NA(u,t),EA(e,t),t);case"hsl":return 3!==u.length?void TA(t,0,0,0,1):(NA(u,t),EA(e,t),t);default:return}}TA(t,0,0,0,1)}},xA.parseToFloat=function(e,t){if(t=xA.parse(e,t))return t[0]/=255,t[1]/=255,t[2]/=255,t},xA.lift=function(e,t){var n=xA.parse(e);if(n){for(var r=0;r<3;r++)n[r]=t<0?n[r]*(1-t)|0:(255-n[r])*t+n[r]|0;return xA.stringify(n,4===n.length?"rgba":"rgb")}},xA.toHex=function(e){var t=xA.parse(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)},xA.fastLerp=function(e,t,n){if(t&&t.length&&e>=0&&e<=1){n=n||[];var r=e*(t.length-1),i=Math.floor(r),a=Math.ceil(r),o=t[i],s=t[a],u=r-i;return n[0]=wA(DA(o[0],s[0],u)),n[1]=wA(DA(o[1],s[1],u)),n[2]=wA(DA(o[2],s[2],u)),n[3]=_A(DA(o[3],s[3],u)),n}},xA.fastMapToColor=xA.fastLerp,xA.lerp=function(e,t,n){if(t&&t.length&&e>=0&&e<=1){var r=e*(t.length-1),i=Math.floor(r),a=Math.ceil(r),o=xA.parse(t[i]),s=xA.parse(t[a]),u=r-i,l=xA.stringify([wA(DA(o[0],s[0],u)),wA(DA(o[1],s[1],u)),wA(DA(o[2],s[2],u)),_A(DA(o[3],s[3],u))],"rgba");return n?{color:l,leftIndex:i,rightIndex:a,value:r}:l}},xA.mapToColor=xA.lerp,xA.modifyHSL=function(e,t,n,r){if(e=xA.parse(e))return e=function(e){if(e){var t,n,r=e[0]/255,i=e[1]/255,a=e[2]/255,o=Math.min(r,i,a),s=Math.max(r,i,a),u=s-o,l=(s+o)/2;if(0===u)t=0,n=0;else{n=l<.5?u/(s+o):u/(2-s-o);var c=((s-r)/6+u/2)/u,d=((s-i)/6+u/2)/u,f=((s-a)/6+u/2)/u;r===s?t=f-d:i===s?t=1/3+c-f:a===s&&(t=2/3+d-c),t<0&&(t+=1),t>1&&(t-=1)}var h=[360*t,n,l];return null!=e[3]&&h.push(e[3]),h}}(e),null!=t&&(e[0]=(i=t,(i=Math.round(i))<0?0:i>360?360:i)),null!=n&&(e[1]=CA(n)),null!=r&&(e[2]=CA(r)),xA.stringify(NA(e),"rgba");var i},xA.modifyAlpha=function(e,t){if((e=xA.parse(e))&&null!=t)return e[3]=_A(t),xA.stringify(e,"rgba")},xA.stringify=function(e,t){if(e&&e.length){var n=e[0]+","+e[1]+","+e[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(n+=","+e[3]),t+"("+n+")"}};var RA=xA.parseToFloat,PA={};function OA(e){var t=Object.keys(e);t.sort();for(var n=[],r=0;r<t.length;r++){var i=t[r],a=e[i];null===a?n.push(i):n.push(i+" "+a.toString())}return n.join("\n")}var LA=dI.extend((function(){return{name:"",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}}),(function(){this.name||(this.name="MATERIAL_"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)}),{precision:"highp",setUniform:function(e,t){void 0===t&&console.warn('Uniform value "'+e+'" is undefined');var n=this.uniforms[e];n&&("string"===typeof t&&(t=RA(t)||t),n.value=t,this.autoUpdateTextureStatus&&"t"===n.type&&(t?this.enableTexture(e):this.disableTexture(e)))},setUniforms:function(e){for(var t in e){var n=e[t];this.setUniform(t,n)}},isUniformEnabled:function(e){return this._enabledUniforms.indexOf(e)>=0},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(e,t){if("object"===typeof e)for(var n in e){var r=e[n];this.setUniform(n,r)}else this.setUniform(e,t)},get:function(e){var t=this.uniforms[e];if(t)return t.value},attachShader:function(e,t){var n=this.uniforms;this.uniforms=e.createUniforms(),this.shader=e;var r=this.uniforms;this._enabledUniforms=Object.keys(r),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter((function(e){var t=this.uniforms[e].type;return"t"===t||"tv"===t}),this);var i=this.vertexDefines,a=this.fragmentDefines;if(this.vertexDefines=lI.clone(e.vertexDefines),this.fragmentDefines=lI.clone(e.fragmentDefines),t){for(var o in n)r[o]&&(r[o].value=n[o].value);lI.defaults(this.vertexDefines,i),lI.defaults(this.fragmentDefines,a)}var s={};for(var u in e.textures)s[u]={shaderType:e.textures[u].shaderType,type:e.textures[u].type,enabled:!(!t||!this._textureStatus[u])&&this._textureStatus[u].enabled};this._textureStatus=s,this._programKey=""},clone:function(){var e=new this.constructor({name:this.name,shader:this.shader});for(var t in this.uniforms)e.uniforms[t].value=this.uniforms[t].value;return e.depthTest=this.depthTest,e.depthMask=this.depthMask,e.transparent=this.transparent,e.blend=this.blend,e.vertexDefines=lI.clone(this.vertexDefines),e.fragmentDefines=lI.clone(this.fragmentDefines),e.enableTexture(this.getEnabledTextures()),e.precision=this.precision,e},define:function(e,t,n){var r=this.vertexDefines,i=this.fragmentDefines;"vertex"!==e&&"fragment"!==e&&"both"!==e&&arguments.length<3&&(n=t,t=e,e="both"),n=null!=n?n:null,"vertex"!==e&&"both"!==e||r[t]!==n&&(r[t]=n,this._programKey=""),"fragment"!==e&&"both"!==e||i[t]!==n&&(i[t]=n,"both"!==e&&(this._programKey=""))},undefine:function(e,t){"vertex"!==e&&"fragment"!==e&&"both"!==e&&arguments.length<2&&(t=e,e="both"),"vertex"!==e&&"both"!==e||this.isDefined("vertex",t)&&(delete this.vertexDefines[t],this._programKey=""),"fragment"!==e&&"both"!==e||this.isDefined("fragment",t)&&(delete this.fragmentDefines[t],"both"!==e&&(this._programKey=""))},isDefined:function(e,t){switch(e){case"vertex":return void 0!==this.vertexDefines[t];case"fragment":return void 0!==this.fragmentDefines[t]}},getDefine:function(e,t){switch(e){case"vertex":return this.vertexDefines[t];case"fragment":return this.fragmentDefines[t]}},enableTexture:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.enableTexture(e[t]);else{var n=this._textureStatus[e];if(n)n.enabled||(n.enabled=!0,this._programKey="")}},enableTexturesAll:function(){var e=this._textureStatus;for(var t in e)e[t].enabled=!0;this._programKey=""},disableTexture:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.disableTexture(e[t]);else{var n=this._textureStatus[e];if(n)!n.enabled||(n.enabled=!1,this._programKey="")}},disableTexturesAll:function(){var e=this._textureStatus;for(var t in e)e[t].enabled=!1;this._programKey=""},isTextureEnabled:function(e){var t=this._textureStatus;return!!t[e]&&t[e].enabled},getEnabledTextures:function(){var e=[],t=this._textureStatus;for(var n in t)t[n].enabled&&e.push(n);return e},dirtyDefines:function(){this._programKey=""},getProgramKey:function(){return this._programKey||(this._programKey=function(e,t,n){n.sort();for(var r=[],i=0;i<n.length;i++){var a=n[i];r.push(a)}var o=OA(e)+"\n"+OA(t)+"\n"+r.join("\n");if(PA[o])return PA[o];var s=lI.genGUID();return PA[o]=s,s}(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}}),FA=LA,ZA=1e-6,BA=Array,zA=Math.random,VA={create:function(){var e=new BA(2);return e[0]=0,e[1]=0,e},clone:function(e){var t=new BA(2);return t[0]=e[0],t[1]=e[1],t},fromValues:function(e,t){var n=new BA(2);return n[0]=e,n[1]=t,n},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e},set:function(e,t,n){return e[0]=t,e[1]=n,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},subtract:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}};VA.sub=VA.subtract,VA.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},VA.mul=VA.multiply,VA.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},VA.div=VA.divide,VA.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},VA.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e},VA.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},VA.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e},VA.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)},VA.dist=VA.distance,VA.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r},VA.sqrDist=VA.squaredDistance,VA.length=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)},VA.len=VA.length,VA.squaredLength=function(e){var t=e[0],n=e[1];return t*t+n*n},VA.sqrLen=VA.squaredLength,VA.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},VA.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},VA.normalize=function(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e},VA.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},VA.cross=function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e},VA.lerp=function(e,t,n,r){var i=t[0],a=t[1];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e},VA.random=function(e,t){t=t||1;var n=2*GLMAT_RANDOM()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},VA.transformMat2=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e},VA.transformMat2d=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e},VA.transformMat3=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e},VA.transformMat4=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e},VA.forEach=function(){var e=VA.create();return function(t,n,r,i,a,o){var s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],a(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}}();var jA=VA,WA=function(e,t){e=e||0,t=t||0,this.array=jA.fromValues(e,t),this._dirty=!0};if(WA.prototype={constructor:WA,add:function(e){return jA.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,t){return this.array[0]=e,this.array[1]=t,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this._dirty=!0,this},clone:function(){return new WA(this.x,this.y)},copy:function(e){return jA.copy(this.array,e.array),this._dirty=!0,this},cross:function(e,t){return jA.cross(e.array,this.array,t.array),e._dirty=!0,this},dist:function(e){return jA.dist(this.array,e.array)},distance:function(e){return jA.distance(this.array,e.array)},div:function(e){return jA.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return jA.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return jA.dot(this.array,e.array)},len:function(){return jA.len(this.array)},length:function(){return jA.length(this.array)},lerp:function(e,t,n){return jA.lerp(this.array,e.array,t.array,n),this._dirty=!0,this},min:function(e){return jA.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return jA.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return jA.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return jA.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return jA.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return jA.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return jA.random(this.array,e),this._dirty=!0,this},scale:function(e){return jA.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,t){return jA.scaleAndAdd(this.array,this.array,e.array,t),this._dirty=!0,this},sqrDist:function(e){return jA.sqrDist(this.array,e.array)},squaredDistance:function(e){return jA.squaredDistance(this.array,e.array)},sqrLen:function(){return jA.sqrLen(this.array)},squaredLength:function(){return jA.squaredLength(this.array)},sub:function(e){return jA.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return jA.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat2:function(e){return jA.transformMat2(this.array,this.array,e.array),this._dirty=!0,this},transformMat2d:function(e){return jA.transformMat2d(this.array,this.array,e.array),this._dirty=!0,this},transformMat3:function(e){return jA.transformMat3(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return jA.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Object.defineProperty){var UA=WA.prototype;Object.defineProperty(UA,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),Object.defineProperty(UA,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}})}WA.add=function(e,t,n){return jA.add(e.array,t.array,n.array),e._dirty=!0,e},WA.set=function(e,t,n){return jA.set(e.array,t,n),e._dirty=!0,e},WA.copy=function(e,t){return jA.copy(e.array,t.array),e._dirty=!0,e},WA.cross=function(e,t,n){return jA.cross(e.array,t.array,n.array),e._dirty=!0,e},WA.distance=WA.dist=function(e,t){return jA.distance(e.array,t.array)},WA.divide=WA.div=function(e,t,n){return jA.divide(e.array,t.array,n.array),e._dirty=!0,e},WA.dot=function(e,t){return jA.dot(e.array,t.array)},WA.len=function(e){return jA.length(e.array)},WA.lerp=function(e,t,n,r){return jA.lerp(e.array,t.array,n.array,r),e._dirty=!0,e},WA.min=function(e,t,n){return jA.min(e.array,t.array,n.array),e._dirty=!0,e},WA.max=function(e,t,n){return jA.max(e.array,t.array,n.array),e._dirty=!0,e},WA.multiply=WA.mul=function(e,t,n){return jA.multiply(e.array,t.array,n.array),e._dirty=!0,e},WA.negate=function(e,t){return jA.negate(e.array,t.array),e._dirty=!0,e},WA.normalize=function(e,t){return jA.normalize(e.array,t.array),e._dirty=!0,e},WA.random=function(e,t){return jA.random(e.array,t),e._dirty=!0,e},WA.scale=function(e,t,n){return jA.scale(e.array,t.array,n),e._dirty=!0,e},WA.scaleAndAdd=function(e,t,n,r){return jA.scaleAndAdd(e.array,t.array,n.array,r),e._dirty=!0,e},WA.squaredDistance=WA.sqrDist=function(e,t){return jA.sqrDist(e.array,t.array)},WA.squaredLength=WA.sqrLen=function(e){return jA.sqrLen(e.array)},WA.subtract=WA.sub=function(e,t,n){return jA.subtract(e.array,t.array,n.array),e._dirty=!0,e},WA.transformMat2=function(e,t,n){return jA.transformMat2(e.array,t.array,n.array),e._dirty=!0,e},WA.transformMat2d=function(e,t,n){return jA.transformMat2d(e.array,t.array,n.array),e._dirty=!0,e},WA.transformMat3=function(e,t,n){return jA.transformMat3(e.array,t.array,n.array),e._dirty=!0,e},WA.transformMat4=function(e,t,n){return jA.transformMat4(e.array,t.array,n.array),e._dirty=!0,e};var HA=WA,GA={};function XA(e){for(var t=e.split("\n"),n=0,r=t.length;n<r;n++)t[n]=n+1+": "+t[n];return t.join("\n")}function qA(e,t,n){if(!e.getShaderParameter(t,e.COMPILE_STATUS))return[e.getShaderInfoLog(t),XA(n)].join("\n")}var YA=new pA.Float32Array(16),KA=dI.extend({uniformSemantics:{},attributes:{}},(function(){this._locations={},this._textureSlot=0,this._program=null}),{bind:function(e){this._textureSlot=0,e.gl.useProgram(this._program)},hasUniform:function(e){var t=this._locations[e];return null!==t&&void 0!==t},useTextureSlot:function(e,t,n){t&&(e.gl.activeTexture(e.gl.TEXTURE0+n),t.isRenderable()?t.bind(e):t.unbind(e))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(e){this._textureSlot=e||0},takeCurrentTextureSlot:function(e,t){var n=this._textureSlot;return this.useTextureSlot(e,t,n),this._textureSlot++,n},setUniform:function(e,t,n,r){var i=this._locations[n];if(null===i||void 0===i)return!1;switch(t){case"m4":if(!(r instanceof Float32Array)){for(var a=0;a<r.length;a++)YA[a]=r[a];r=YA}e.uniformMatrix4fv(i,!1,r);break;case"2i":e.uniform2i(i,r[0],r[1]);break;case"2f":e.uniform2f(i,r[0],r[1]);break;case"3i":e.uniform3i(i,r[0],r[1],r[2]);break;case"3f":e.uniform3f(i,r[0],r[1],r[2]);break;case"4i":e.uniform4i(i,r[0],r[1],r[2],r[3]);break;case"4f":e.uniform4f(i,r[0],r[1],r[2],r[3]);break;case"1i":e.uniform1i(i,r);break;case"1f":e.uniform1f(i,r);break;case"1fv":e.uniform1fv(i,r);break;case"1iv":e.uniform1iv(i,r);break;case"2iv":e.uniform2iv(i,r);break;case"2fv":e.uniform2fv(i,r);break;case"3iv":e.uniform3iv(i,r);break;case"3fv":e.uniform3fv(i,r);break;case"4iv":e.uniform4iv(i,r);break;case"4fv":e.uniform4fv(i,r);break;case"m2":case"m2v":e.uniformMatrix2fv(i,!1,r);break;case"m3":case"m3v":e.uniformMatrix3fv(i,!1,r);break;case"m4v":if(Array.isArray(r)&&Array.isArray(r[0])){var o=new pA.Float32Array(16*r.length),s=0;for(a=0;a<r.length;a++)for(var u=r[a],l=0;l<16;l++)o[s++]=u[l];e.uniformMatrix4fv(i,!1,o)}else e.uniformMatrix4fv(i,!1,r)}return!0},setUniformOfSemantic:function(e,t,n){var r=this.uniformSemantics[t];return!!r&&this.setUniform(e,r.type,r.symbol,n)},enableAttributes:function(e,t,n){var r,i=e.gl,a=this._program,o=this._locations;(r=n?n.__enabledAttributeList:GA[e.__uid__])||(r=n?n.__enabledAttributeList=[]:GA[e.__uid__]=[]);for(var s=[],u=0;u<t.length;u++){var l=t[u];if(this.attributes[l]){var c=o[l];if(null==c){if(-1===(c=i.getAttribLocation(a,l))){s[u]=-1;continue}o[l]=c}s[u]=c,r[c]?r[c]=2:r[c]=1}else s[u]=-1}for(u=0;u<r.length;u++)switch(r[u]){case 1:i.enableVertexAttribArray(u),r[u]=3;break;case 2:r[u]=3;break;case 3:i.disableVertexAttribArray(u),r[u]=0}return s},getAttribLocation:function(e,t){var n=this._locations,r=n[t];return null==r&&(r=e.getAttribLocation(this._program,t),n[t]=r),r},buildProgram:function(e,t,n,r){var i=e.createShader(e.VERTEX_SHADER),a=e.createProgram();e.shaderSource(i,n),e.compileShader(i);var o=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(o,r),e.compileShader(o);var s=qA(e,i,n);if(s)return s;if(s=qA(e,o,r))return s;if(e.attachShader(a,i),e.attachShader(a,o),t.attributeSemantics.POSITION)e.bindAttribLocation(a,0,t.attributeSemantics.POSITION.symbol);else{var u=Object.keys(this.attributes);e.bindAttribLocation(a,0,u[0])}if(e.linkProgram(a),e.deleteShader(i),e.deleteShader(o),this._program=a,this.vertexCode=n,this.fragmentCode=r,!e.getProgramParameter(a,e.LINK_STATUS))return"Could not link program\n"+e.getProgramInfoLog(a);for(var l=0;l<t.uniforms.length;l++){var c=t.uniforms[l];this._locations[c]=e.getUniformLocation(a,c)}}}),QA=/for\s*?\(int\s*?_idx_\s*\=\s*([\w-]+)\;\s*_idx_\s*<\s*([\w-]+);\s*_idx_\s*\+\+\s*\)\s*\{\{([\s\S]+?)(?=\}\})\}\}/g;function JA(e,t,n){var r={};for(var i in n)r[i+"_COUNT"]=n[i];return e.replace(QA,(function(e,n,i,a){var o="";isNaN(n)&&(n=n in t?t[n]:r[n]),isNaN(i)&&(i=i in t?t[i]:r[i]);for(var s=parseInt(n);s<parseInt(i);s++)o+="{"+a.replace(/float\s*\(\s*_idx_\s*\)/g,s.toFixed(1)).replace(/_idx_/g,s)+"}";return o}))}function $A(e,t,n){var r=[];if(t)for(var i in t){var a=t[i];a>0&&r.push("#define "+i.toUpperCase()+"_COUNT "+a)}if(n)for(var o=0;o<n.length;o++){var s=n[o];r.push("#define "+s.toUpperCase()+"_ENABLED")}for(var s in e){var u=e[s];null===u?r.push("#define "+s):r.push("#define "+s+" "+u.toString())}return r.join("\n")}function eM(e){this._renderer=e,this._cache={}}eM.prototype.getProgram=function(e,t,n){var r=this._cache,i=e.isSkinnedMesh&&e.isSkinnedMesh(),a=e.isInstancedMesh&&e.isInstancedMesh(),o="s"+t.shader.shaderID+"m"+t.getProgramKey();if(n&&(o+="se"+n.getProgramKey(e.lightGroup)),i&&(o+=",sk"+e.joints.length),a&&(o+=",is"),y=r[o])return y;var s=n?n.getLightsNumbers(e.lightGroup):{},u=this._renderer,l=u.gl,c=t.getEnabledTextures(),d="";if(i){var f={SKINNING:null,JOINT_COUNT:e.joints.length};e.joints.length>u.getMaxJointNumber()&&(f.USE_SKIN_MATRICES_TEXTURE=null),d+="\n"+$A(f)+"\n"}a&&(d+="\n#define INSTANCING\n");var h=d+$A(t.vertexDefines,s,c),p=d+$A(t.fragmentDefines,s,c),m=h+"\n"+t.shader.vertex,g=["OES_standard_derivatives","EXT_shader_texture_lod"].filter((function(e){return null!=u.getGLExtension(e)}));g.indexOf("EXT_shader_texture_lod")>=0&&(p+="\n#define SUPPORT_TEXTURE_LOD"),g.indexOf("OES_standard_derivatives")>=0&&(p+="\n#define SUPPORT_STANDARD_DERIVATIVES");var v,y,x=function(e){for(var t=[],n=0;n<e.length;n++)t.push("#extension GL_"+e[n]+" : enable");return t.join("\n")}(g)+"\n"+(["precision",v=t.precision,"float"].join(" ")+";\n"+["precision",v,"int"].join(" ")+";\n"+["precision",v,"sampler2D"].join(" ")+";\n\n")+p+"\n"+t.shader.fragment,b=JA(m,t.vertexDefines,s),w=JA(x,t.fragmentDefines,s);(y=new KA).uniformSemantics=t.shader.uniformSemantics,y.attributes=t.shader.attributes;var _=y.buildProgram(l,t.shader,b,w);return y.__error=_,r[o]=y,y};var tM=eM,nM=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g,rM=/attribute\s+(float|int|vec2|vec3|vec4)\s+([\s\S]*?);/g,iM=/#define\s+(\w+)?(\s+[\d-.]+)?\s*;?\s*\n/g,aM={bool:"1i",int:"1i",sampler2D:"t",samplerCube:"t",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",ivec2:"2i",ivec3:"3i",ivec4:"4i",mat2:"m2",mat3:"m3",mat4:"m4"};function oM(e){for(var t=[],n=0;n<e;n++)t[n]=0;return t}var sM={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return oM(2)},vec3:function(){return oM(3)},vec4:function(){return oM(4)},ivec2:function(){return oM(2)},ivec3:function(){return oM(3)},ivec4:function(){return oM(4)},mat2:function(){return oM(4)},mat3:function(){return oM(9)},mat4:function(){return oM(16)},array:function(){return[]}},uM=["POSITION","NORMAL","BINORMAL","TANGENT","TEXCOORD","TEXCOORD_0","TEXCOORD_1","COLOR","JOINT","WEIGHT"],lM=["SKIN_MATRIX","VIEWPORT_SIZE","VIEWPORT","DEVICEPIXELRATIO","WINDOW_SIZE","NEAR","FAR","TIME"],cM=["WORLD","VIEW","PROJECTION","WORLDVIEW","VIEWPROJECTION","WORLDVIEWPROJECTION","WORLDINVERSE","VIEWINVERSE","PROJECTIONINVERSE","WORLDVIEWINVERSE","VIEWPROJECTIONINVERSE","WORLDVIEWPROJECTIONINVERSE","WORLDTRANSPOSE","VIEWTRANSPOSE","PROJECTIONTRANSPOSE","WORLDVIEWTRANSPOSE","VIEWPROJECTIONTRANSPOSE","WORLDVIEWPROJECTIONTRANSPOSE","WORLDINVERSETRANSPOSE","VIEWINVERSETRANSPOSE","PROJECTIONINVERSETRANSPOSE","WORLDVIEWINVERSETRANSPOSE","VIEWPROJECTIONINVERSETRANSPOSE","WORLDVIEWPROJECTIONINVERSETRANSPOSE"],dM={vec4:4,vec3:3,vec2:2,float:1},fM={},hM={};function pM(e){return e.replace(/[ \t]*\/\/.*\n/g,"").replace(/[ \t]*\/\*[\s\S]*?\*\//g,"")}function mM(){console.error("Wrong uniform/attributes syntax")}function gM(e,t){for(var n=/[,=\(\):]/,r=t.replace(/:\s*\[\s*(.*)\s*\]/g,"="+e+"($1)").replace(/\s+/g,"").split(/(?=[,=\(\):])/g),i=[],a=0;a<r.length;a++)r[a].match(n)?i.push(r[a].charAt(0),r[a].slice(1)):i.push(r[a]);var o,s=0,u={},l=null;function c(e){e||mM();var t=e.match(/\[(.*?)\]/);o=e.replace(/\[(.*?)\]/,""),u[o]={},t&&(u[o].isArray=!0,u[o].arraySize=t[1])}c((r=i)[0]);for(a=1;a<r.length;a++){var d=r[a];if(d)if("="!==d)if(":"!==d)if(","!==d)if(")"!==d)if("("!==d)if(d.indexOf("vec")>=0){if(1!==s&&4!==s){mM();break}s=2,l=[]}else if(1!==s)if(4!==s)c(d),s=0;else{var f=d;uM.indexOf(f)>=0||lM.indexOf(f)>=0||cM.indexOf(f)>=0?u[o].semantic=f:"ignore"===f||"unconfigurable"===f?u[o].ignore=!0:u[o].value="bool"===e?"true"===f:parseFloat(f)}else u[o].value="bool"===e?"true"===d:parseFloat(d),l=null;else{if(2!==s){mM();break}if(!(l instanceof Array)){mM();break}l.push(+r[++a])}else u[o].value=new pA.Float32Array(l),l=null,s=5;else if(2===s){if(!(l instanceof Array)){mM();break}l.push(+r[++a])}else s=5;else s=4;else{if(0!==s&&3!==s){mM();break}s=1}}return u}function vM(e,t){"object"===typeof e&&(t=e.fragment,e=e.vertex),e=pM(e),t=pM(t),this._shaderID=function(e,t){var n="vertex:"+e+"fragment:"+t;if(fM[n])return fM[n];var r=lI.genGUID();return fM[n]=r,hM[r]={vertex:e,fragment:t},r}(e,t),this._vertexCode=vM.parseImport(e),this._fragmentCode=vM.parseImport(t),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}vM.prototype={constructor:vM,createUniforms:function(){var e={};for(var t in this.uniformTemplates){var n=this.uniformTemplates[t];e[t]={type:n.type,value:n.value()}}return e},_parseImport:function(){this._vertexCode=vM.parseImport(this.vertex),this._fragmentCode=vM.parseImport(this.fragment)},_addSemanticUniform:function(e,t,n){if(uM.indexOf(n)>=0)this.attributeSemantics[n]={symbol:e,type:t};else if(cM.indexOf(n)>=0){var r=!1,i=n;n.match(/TRANSPOSE$/)&&(r=!0,i=n.slice(0,-9)),this.matrixSemantics[n]={symbol:e,type:t,isTranspose:r,semanticNoTranspose:i}}else lM.indexOf(n)>=0&&(this.uniformSemantics[n]={symbol:e,type:t})},_addMaterialUniform:function(e,t,n,r,i,a){a[e]={type:n,value:i?sM.array:r||sM[t],semantic:null}},_parseUniforms:function(){var e={},t=this;function n(e){return null!=e?function(){return e}:null}function r(r,i,a){var o=gM(i,a),s=[];for(var u in o){var l=o[u],c=l.semantic,d=u,f=aM[i],h=n(o[u].value);o[u].isArray&&(d+="["+o[u].arraySize+"]",f+="v"),s.push(d),t._uniformList.push(u),l.ignore||("sampler2D"!==i&&"samplerCube"!==i||(t.textures[u]={shaderType:"fragment",type:i}),c?t._addSemanticUniform(u,f,c):t._addMaterialUniform(u,i,f,h,o[u].isArray,e))}return s.length>0?"uniform "+i+" "+s.join(",")+";\n":""}this._uniformList=[],this._vertexCode=this._vertexCode.replace(nM,r),this._fragmentCode=this._fragmentCode.replace(nM,r),t.matrixSemanticKeys=Object.keys(this.matrixSemantics),this.uniformTemplates=e},_parseAttributes:function(){var e={},t=this;this._vertexCode=this._vertexCode.replace(rM,(function(n,r,i){var a=gM(r,i),o=dM[r]||1,s=[];for(var u in a){var l=a[u].semantic;if(e[u]={type:"float",size:o,semantic:l||null},l){if(uM.indexOf(l)<0)throw new Error('Unkown semantic "'+l+'"');t.attributeSemantics[l]={symbol:u,type:r}}s.push(u)}return"attribute "+r+" "+s.join(",")+";\n"})),this.attributes=e},_parseDefines:function(){var e=this;function t(t,n,r){var i=e.fragmentDefines;return i[n]||(i[n]="false"!==r&&("true"===r||(r?isNaN(parseFloat(r))?r.trim():parseFloat(r):null))),""}this._vertexCode=this._vertexCode.replace(iM,t),this._fragmentCode=this._fragmentCode.replace(iM,t)},clone:function(){var e=hM[this._shaderID];return new vM(e.vertex,e.fragment)}},Object.defineProperty&&(Object.defineProperty(vM.prototype,"shaderID",{get:function(){return this._shaderID}}),Object.defineProperty(vM.prototype,"vertex",{get:function(){return this._vertexCode}}),Object.defineProperty(vM.prototype,"fragment",{get:function(){return this._fragmentCode}}),Object.defineProperty(vM.prototype,"uniforms",{get:function(){return this._uniformList}}));var yM=/(@import)\s*([0-9a-zA-Z_\-\.]*)/g;vM.parseImport=function(e){return e=e.replace(yM,(function(e,t,n){return(e=vM.source(n))?vM.parseImport(e):(console.error('Shader chunk "'+n+'" not existed in library'),"")}))};var xM=/(@export)\s*([0-9a-zA-Z_\-\.]*)\s*\n([\s\S]*?)@end/g;vM.import=function(e){e.replace(xM,(function(e,t,n,r){if(r=r.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+\x24)/g,"")){for(var i,a=n.split("."),o=vM.codes,s=0;s<a.length-1;)o[i=a[s++]]||(o[i]={}),o=o[i];o[i=a[s]]=r}return r}))},vM.codes={},vM.source=function(e){for(var t=e.split("."),n=vM.codes,r=0;n&&r<t.length;){n=n[t[r++]]}return"string"!==typeof n?(console.error('Shader "'+e+'" not existed in library'),""):n};var bM=vM,wM="@export clay.prez.vertex\nuniform mat4 WVP : WORLDVIEWPROJECTION;\nattribute vec3 pos : POSITION;\nattribute vec2 uv : TEXCOORD_0;\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\n@import clay.chunk.skinning_header\n@import clay.chunk.instancing_header\nvarying vec2 v_Texcoord;\nvoid main()\n{\n vec4 P = vec4(pos, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n gl_Position = WVP * P;\n v_Texcoord = uv * uvRepeat + uvOffset;\n}\n@end\n@export clay.prez.fragment\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n gl_FragColor = vec4(0.0,0.0,0.0,1.0);\n}\n@end",_M={create:function(){var e=new BA(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},clone:function(e){var t=new BA(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},transpose:function(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],d=t[9],f=t[10],h=t[11],p=t[12],m=t[13],g=t[14],v=t[15],y=n*s-r*o,x=n*u-i*o,b=n*l-a*o,w=r*u-i*s,_=r*l-a*s,S=i*l-a*u,C=c*m-d*p,k=c*g-f*p,D=c*v-h*p,T=d*g-f*m,I=d*v-h*m,A=f*v-h*g,M=y*A-x*I+b*T+w*D-_*k+S*C;return M?(M=1/M,e[0]=(s*A-u*I+l*T)*M,e[1]=(i*I-r*A-a*T)*M,e[2]=(m*S-g*_+v*w)*M,e[3]=(f*_-d*S-h*w)*M,e[4]=(u*D-o*A-l*k)*M,e[5]=(n*A-i*D+a*k)*M,e[6]=(g*b-p*S-v*x)*M,e[7]=(c*S-f*b+h*x)*M,e[8]=(o*I-s*D+l*C)*M,e[9]=(r*D-n*I-a*C)*M,e[10]=(p*_-m*b+v*y)*M,e[11]=(d*b-c*_-h*y)*M,e[12]=(s*k-o*T-u*C)*M,e[13]=(n*T-r*k+i*C)*M,e[14]=(m*x-p*w-g*y)*M,e[15]=(c*w-d*x+f*y)*M,e):null},adjoint:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],d=t[9],f=t[10],h=t[11],p=t[12],m=t[13],g=t[14],v=t[15];return e[0]=s*(f*v-h*g)-d*(u*v-l*g)+m*(u*h-l*f),e[1]=-(r*(f*v-h*g)-d*(i*v-a*g)+m*(i*h-a*f)),e[2]=r*(u*v-l*g)-s*(i*v-a*g)+m*(i*l-a*u),e[3]=-(r*(u*h-l*f)-s*(i*h-a*f)+d*(i*l-a*u)),e[4]=-(o*(f*v-h*g)-c*(u*v-l*g)+p*(u*h-l*f)),e[5]=n*(f*v-h*g)-c*(i*v-a*g)+p*(i*h-a*f),e[6]=-(n*(u*v-l*g)-o*(i*v-a*g)+p*(i*l-a*u)),e[7]=n*(u*h-l*f)-o*(i*h-a*f)+c*(i*l-a*u),e[8]=o*(d*v-h*m)-c*(s*v-l*m)+p*(s*h-l*d),e[9]=-(n*(d*v-h*m)-c*(r*v-a*m)+p*(r*h-a*d)),e[10]=n*(s*v-l*m)-o*(r*v-a*m)+p*(r*l-a*s),e[11]=-(n*(s*h-l*d)-o*(r*h-a*d)+c*(r*l-a*s)),e[12]=-(o*(d*g-f*m)-c*(s*g-u*m)+p*(s*f-u*d)),e[13]=n*(d*g-f*m)-c*(r*g-i*m)+p*(r*f-i*d),e[14]=-(n*(s*g-u*m)-o*(r*g-i*m)+p*(r*u-i*s)),e[15]=n*(s*f-u*d)-o*(r*f-i*d)+c*(r*u-i*s),e},determinant:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],d=e[10],f=e[11],h=e[12],p=e[13],m=e[14],g=e[15];return(t*o-n*a)*(d*g-f*m)-(t*s-r*a)*(c*g-f*p)+(t*u-i*a)*(c*m-d*p)+(n*s-r*o)*(l*g-f*h)-(n*u-i*o)*(l*m-d*h)+(r*u-i*s)*(l*p-c*h)},multiply:function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],f=t[9],h=t[10],p=t[11],m=t[12],g=t[13],v=t[14],y=t[15],x=n[0],b=n[1],w=n[2],_=n[3];return e[0]=x*r+b*s+w*d+_*m,e[1]=x*i+b*u+w*f+_*g,e[2]=x*a+b*l+w*h+_*v,e[3]=x*o+b*c+w*p+_*y,x=n[4],b=n[5],w=n[6],_=n[7],e[4]=x*r+b*s+w*d+_*m,e[5]=x*i+b*u+w*f+_*g,e[6]=x*a+b*l+w*h+_*v,e[7]=x*o+b*c+w*p+_*y,x=n[8],b=n[9],w=n[10],_=n[11],e[8]=x*r+b*s+w*d+_*m,e[9]=x*i+b*u+w*f+_*g,e[10]=x*a+b*l+w*h+_*v,e[11]=x*o+b*c+w*p+_*y,x=n[12],b=n[13],w=n[14],_=n[15],e[12]=x*r+b*s+w*d+_*m,e[13]=x*i+b*u+w*f+_*g,e[14]=x*a+b*l+w*h+_*v,e[15]=x*o+b*c+w*p+_*y,e},multiplyAffine:function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[4],s=t[5],u=t[6],l=t[8],c=t[9],d=t[10],f=t[12],h=t[13],p=t[14],m=n[0],g=n[1],v=n[2];return e[0]=m*r+g*o+v*l,e[1]=m*i+g*s+v*c,e[2]=m*a+g*u+v*d,m=n[4],g=n[5],v=n[6],e[4]=m*r+g*o+v*l,e[5]=m*i+g*s+v*c,e[6]=m*a+g*u+v*d,m=n[8],g=n[9],v=n[10],e[8]=m*r+g*o+v*l,e[9]=m*i+g*s+v*c,e[10]=m*a+g*u+v*d,m=n[12],g=n[13],v=n[14],e[12]=m*r+g*o+v*l+f,e[13]=m*i+g*s+v*c+h,e[14]=m*a+g*u+v*d+p,e}};_M.mul=_M.multiply,_M.mulAffine=_M.multiplyAffine,_M.translate=function(e,t,n){var r,i,a,o,s,u,l,c,d,f,h,p,m=n[0],g=n[1],v=n[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*v+t[12],e[13]=t[1]*m+t[5]*g+t[9]*v+t[13],e[14]=t[2]*m+t[6]*g+t[10]*v+t[14],e[15]=t[3]*m+t[7]*g+t[11]*v+t[15]):(r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],f=t[9],h=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=d,e[9]=f,e[10]=h,e[11]=p,e[12]=r*m+s*g+d*v+t[12],e[13]=i*m+u*g+f*v+t[13],e[14]=a*m+l*g+h*v+t[14],e[15]=o*m+c*g+p*v+t[15]),e},_M.scale=function(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},_M.rotate=function(e,t,n,r){var i,a,o,s,u,l,c,d,f,h,p,m,g,v,y,x,b,w,_,S,C,k,D,T,I=r[0],A=r[1],M=r[2],E=Math.sqrt(I*I+A*A+M*M);return Math.abs(E)<ZA?null:(I*=E=1/E,A*=E,M*=E,i=Math.sin(n),o=1-(a=Math.cos(n)),s=t[0],u=t[1],l=t[2],c=t[3],d=t[4],f=t[5],h=t[6],p=t[7],m=t[8],g=t[9],v=t[10],y=t[11],x=I*I*o+a,b=A*I*o+M*i,w=M*I*o-A*i,_=I*A*o-M*i,S=A*A*o+a,C=M*A*o+I*i,k=I*M*o+A*i,D=A*M*o-I*i,T=M*M*o+a,e[0]=s*x+d*b+m*w,e[1]=u*x+f*b+g*w,e[2]=l*x+h*b+v*w,e[3]=c*x+p*b+y*w,e[4]=s*_+d*S+m*C,e[5]=u*_+f*S+g*C,e[6]=l*_+h*S+v*C,e[7]=c*_+p*S+y*C,e[8]=s*k+d*D+m*T,e[9]=u*k+f*D+g*T,e[10]=l*k+h*D+v*T,e[11]=c*k+p*D+y*T,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)},_M.rotateX=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],u=t[7],l=t[8],c=t[9],d=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+l*r,e[5]=o*i+c*r,e[6]=s*i+d*r,e[7]=u*i+f*r,e[8]=l*i-a*r,e[9]=c*i-o*r,e[10]=d*i-s*r,e[11]=f*i-u*r,e},_M.rotateY=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],u=t[3],l=t[8],c=t[9],d=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-l*r,e[1]=o*i-c*r,e[2]=s*i-d*r,e[3]=u*i-f*r,e[8]=a*r+l*i,e[9]=o*r+c*i,e[10]=s*r+d*i,e[11]=u*r+f*i,e},_M.rotateZ=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],u=t[3],l=t[4],c=t[5],d=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+l*r,e[1]=o*i+c*r,e[2]=s*i+d*r,e[3]=u*i+f*r,e[4]=l*i-a*r,e[5]=c*i-o*r,e[6]=d*i-s*r,e[7]=f*i-u*r,e},_M.fromRotationTranslation=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=r+r,u=i+i,l=a+a,c=r*s,d=r*u,f=r*l,h=i*u,p=i*l,m=a*l,g=o*s,v=o*u,y=o*l;return e[0]=1-(h+m),e[1]=d+y,e[2]=f-v,e[3]=0,e[4]=d-y,e[5]=1-(c+m),e[6]=p+g,e[7]=0,e[8]=f+v,e[9]=p-g,e[10]=1-(c+h),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},_M.fromQuat=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,u=i+i,l=n*o,c=r*o,d=r*s,f=i*o,h=i*s,p=i*u,m=a*o,g=a*s,v=a*u;return e[0]=1-d-p,e[1]=c+v,e[2]=f-g,e[3]=0,e[4]=c-v,e[5]=1-l-p,e[6]=h+m,e[7]=0,e[8]=f+g,e[9]=h-m,e[10]=1-l-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},_M.frustum=function(e,t,n,r,i,a,o){var s=1/(n-t),u=1/(i-r),l=1/(a-o);return e[0]=2*a*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*u,e[10]=(o+a)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*l,e[15]=0,e},_M.perspective=function(e,t,n,r,i){var a=1/Math.tan(t/2),o=1/(r-i);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+r)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*r*o,e[15]=0,e},_M.ortho=function(e,t,n,r,i,a,o){var s=1/(t-n),u=1/(r-i),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(o+a)*l,e[15]=1,e},_M.lookAt=function(e,t,n,r){var i,a,o,s,u,l,c,d,f,h,p=t[0],m=t[1],g=t[2],v=r[0],y=r[1],x=r[2],b=n[0],w=n[1],_=n[2];return Math.abs(p-b)<ZA&&Math.abs(m-w)<ZA&&Math.abs(g-_)<ZA?_M.identity(e):(c=p-b,d=m-w,f=g-_,i=y*(f*=h=1/Math.sqrt(c*c+d*d+f*f))-x*(d*=h),a=x*(c*=h)-v*f,o=v*d-y*c,(h=Math.sqrt(i*i+a*a+o*o))?(i*=h=1/h,a*=h,o*=h):(i=0,a=0,o=0),s=d*o-f*a,u=f*i-c*o,l=c*a-d*i,(h=Math.sqrt(s*s+u*u+l*l))?(s*=h=1/h,u*=h,l*=h):(s=0,u=0,l=0),e[0]=i,e[1]=s,e[2]=c,e[3]=0,e[4]=a,e[5]=u,e[6]=d,e[7]=0,e[8]=o,e[9]=l,e[10]=f,e[11]=0,e[12]=-(i*p+a*m+o*g),e[13]=-(s*p+u*m+l*g),e[14]=-(c*p+d*m+f*g),e[15]=1,e)},_M.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))};var SM=_M,CM={create:function(){var e=new BA(3);return e[0]=0,e[1]=0,e[2]=0,e},clone:function(e){var t=new BA(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},fromValues:function(e,t,n){var r=new BA(3);return r[0]=e,r[1]=t,r[2]=n,r},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},set:function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},subtract:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}};CM.sub=CM.subtract,CM.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e},CM.mul=CM.multiply,CM.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e},CM.div=CM.divide,CM.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},CM.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},CM.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},CM.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e},CM.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)},CM.dist=CM.distance,CM.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i},CM.sqrDist=CM.squaredDistance,CM.length=function(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)},CM.len=CM.length,CM.squaredLength=function(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r},CM.sqrLen=CM.squaredLength,CM.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},CM.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},CM.normalize=function(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a),e},CM.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},CM.cross=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],u=n[2];return e[0]=i*u-a*s,e[1]=a*o-r*u,e[2]=r*s-i*o,e},CM.lerp=function(e,t,n,r){var i=t[0],a=t[1],o=t[2];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=o+r*(n[2]-o),e},CM.random=function(e,t){t=t||1;var n=2*zA()*Math.PI,r=2*zA()-1,i=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*i,e[1]=Math.sin(n)*i,e[2]=r*t,e},CM.transformMat4=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,e[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,e[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,e},CM.transformMat3=function(e,t,n){var r=t[0],i=t[1],a=t[2];return e[0]=r*n[0]+i*n[3]+a*n[6],e[1]=r*n[1]+i*n[4]+a*n[7],e[2]=r*n[2]+i*n[5]+a*n[8],e},CM.transformQuat=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*a-u*i,d=l*i+u*r-o*a,f=l*a+o*i-s*r,h=-o*r-s*i-u*a;return e[0]=c*l+h*-o+d*-u-f*-s,e[1]=d*l+h*-s+f*-o-c*-u,e[2]=f*l+h*-u+c*-s-d*-o,e},CM.rotateX=function(e,t,n,r){var i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e},CM.rotateY=function(e,t,n,r){var i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e},CM.rotateZ=function(e,t,n,r){var i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e},CM.forEach=function(){var e=CM.create();return function(t,n,r,i,a,o){var s,u;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}(),CM.angle=function(e,t){var n=CM.fromValues(e[0],e[1],e[2]),r=CM.fromValues(t[0],t[1],t[2]);CM.normalize(n,n),CM.normalize(r,r);var i=CM.dot(n,r);return i>1?0:Math.acos(i)};var kM=CM;bM.import(wM);var DM=SM.create,TM={};function IM(e){return e.material}function AM(e,t,n){return t.uniforms[n].value}function MM(e,t,n,r){return n!==r}function EM(e){return!0}function NM(){}var RM={float:BI,byte:RI,ubyte:PI,short:OI,ushort:LI};function PM(e,t,n){this.availableAttributes=e,this.availableAttributeSymbols=t,this.indicesBuffer=n,this.vao=null}function OM(e){var t,n;this.bind=function(e){t||((t=pA.createCanvas()).width=t.height=1,t.getContext("2d"));var r=e.gl,i=!n;i&&(n=r.createTexture()),r.bindTexture(r.TEXTURE_2D,n),i&&r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t)},this.unbind=function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,null)},this.isRenderable=function(){return!0}}var LM=dI.extend((function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:"undefined"!==typeof window&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},maxJointNumber:20,__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}}),(function(){this.canvas||(this.canvas=pA.createCanvas());var e=this.canvas;try{var t={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!this.gl)throw new Error;this._glinfo=new pI(this.gl),this.gl.targetRenderer&&console.error("Already created a renderer"),this.gl.targetRenderer=this,this.resize()}catch(tZ){throw"Error creating WebGL Context "+tZ}this._programMgr=new tM(this),this._placeholderTexture=new OM(this)}),{resize:function(e,t){var n=this.canvas,r=this.devicePixelRatio;null!=e?(n.style&&(n.style.width=e+"px",n.style.height=t+"px"),n.width=e*r,n.height=t*r,this._width=e,this._height=t):(this._width=n.width/r,this._height=n.height/r),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var e=this.viewport;return e.width/e.height},setDevicePixelRatio:function(e){this.devicePixelRatio=e,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(e){return this._glinfo.getExtension(e)},getGLParameter:function(e){return this._glinfo.getParameter(e)},setViewport:function(e,t,n,r,i){if("object"===typeof e){var a=e;e=a.x,t=a.y,n=a.width,r=a.height,i=a.devicePixelRatio}i=i||this.devicePixelRatio,this.gl.viewport(e*i,t*i,n*i,r*i),this.viewport={x:e,y:t,width:n,height:r,devicePixelRatio:i}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){if(this._clearStack.length>0){var e=this._clearStack.pop();this.clearColor=e.clearColor,this.clearBit=e.clearBit}},bindSceneRendering:function(e){this._sceneRendering=e},render:function(e,t,n,r){var i=this.gl,a=this.clearColor;if(this.clearBit){i.colorMask(!0,!0,!0,!0),i.depthMask(!0);var o=this.viewport,s=!1,u=o.devicePixelRatio;(o.width!==this._width||o.height!==this._height||u&&u!==this.devicePixelRatio||o.x||o.y)&&(s=!0,i.enable(i.SCISSOR_TEST),i.scissor(o.x*u,o.y*u,o.width*u,o.height*u)),i.clearColor(a[0],a[1],a[2],a[3]),i.clear(this.clearBit),s&&i.disable(i.SCISSOR_TEST)}if(n||e.update(!1),e.updateLights(),t=t||e.getMainCamera()){t.update();var l=e.updateRenderList(t,!0);this._sceneRendering=e;var c=l.opaque,d=l.transparent,f=e.material;e.trigger("beforerender",this,e,t,l),r?(this.renderPreZ(c,e,t),i.depthFunc(i.LEQUAL)):i.depthFunc(i.LESS);for(var h=DM(),p=kM.create(),m=0;m<d.length;m++){var g=d[m];SM.multiplyAffine(h,t.viewMatrix.array,g.worldTransform.array),kM.transformMat4(p,g.position.array,h),g.__depth=p[2]}this.renderPass(c,t,{getMaterial:function(e){return f||e.material},sortCompare:this.opaqueSortCompare}),this.renderPass(d,t,{getMaterial:function(e){return f||e.material},sortCompare:this.transparentSortCompare}),e.trigger("afterrender",this,e,t,l),this._sceneRendering=null}else console.error("Can't find camera in the scene.")},getProgram:function(e,t,n){return t=t||e.material,this._programMgr.getProgram(e,t,n)},validateProgram:function(e){if(e.__error){var t=e.__error;if(TM[e.__uid__])return;if(TM[e.__uid__]=!0,this.throwError)throw new Error(t);this.trigger("error",t)}},updatePrograms:function(e,t,n){var r=n&&n.getMaterial||IM;t=t||null;for(var i=0;i<e.length;i++){var a=e[i],o=r.call(this,a);if(i>0){var s=e[i-1],u=s.joints?s.joints.length:0;if((a.joints?a.joints.length:0)===u&&a.material===s.material&&a.lightGroup===s.lightGroup){a.__program=s.__program;continue}}var l=this._programMgr.getProgram(a,o,t);this.validateProgram(l),a.__program=l}},renderPass:function(e,t,n){this.trigger("beforerenderpass",this,e,t,n),(n=n||{}).getMaterial=n.getMaterial||IM,n.getUniform=n.getUniform||AM,n.isMaterialChanged=n.isMaterialChanged||MM,n.beforeRender=n.beforeRender||NM,n.afterRender=n.afterRender||NM;var r=n.ifRender||EM;this.updatePrograms(e,this._sceneRendering,n),n.sortCompare&&e.sort(n.sortCompare);var i=this.viewport,a=i.devicePixelRatio,o=[i.x*a,i.y*a,i.width*a,i.height*a],s=this.devicePixelRatio,u=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*s,this._height*s],l=[o[2],o[3]],c=Date.now();t?(SM.copy(FM.VIEW,t.viewMatrix.array),SM.copy(FM.PROJECTION,t.projectionMatrix.array),SM.copy(FM.VIEWINVERSE,t.worldTransform.array)):(SM.identity(FM.VIEW),SM.identity(FM.PROJECTION),SM.identity(FM.VIEWINVERSE)),SM.multiply(FM.VIEWPROJECTION,FM.PROJECTION,FM.VIEW),SM.invert(FM.PROJECTIONINVERSE,FM.PROJECTION),SM.invert(FM.VIEWPROJECTIONINVERSE,FM.VIEWPROJECTION);for(var d,f,h,p,m,g,v,y,x,b,w,_,S=this.gl,C=this._sceneRendering,k=null,D=0;D<e.length;D++){var T,I=e[D],A=null!=I.worldTransform;if(r(I)){A&&(T=I.isSkinnedMesh&&I.isSkinnedMesh()?I.offsetMatrix?I.offsetMatrix.array:FM.IDENTITY:I.worldTransform.array);var M=I.geometry,E=n.getMaterial.call(this,I),N=I.__program,R=E.shader,P=M.__uid__+"-"+N.__uid__,O=P!==b;b=P,A&&(SM.copy(FM.WORLD,T),SM.multiply(FM.WORLDVIEWPROJECTION,FM.VIEWPROJECTION,T),SM.multiplyAffine(FM.WORLDVIEW,FM.VIEW,T),(R.matrixSemantics.WORLDINVERSE||R.matrixSemantics.WORLDINVERSETRANSPOSE)&&SM.invert(FM.WORLDINVERSE,T),(R.matrixSemantics.WORLDVIEWINVERSE||R.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&SM.invert(FM.WORLDVIEWINVERSE,FM.WORLDVIEW),(R.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||R.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&SM.invert(FM.WORLDVIEWPROJECTIONINVERSE,FM.WORLDVIEWPROJECTION)),I.beforeRender&&I.beforeRender(this),n.beforeRender.call(this,I,E,d);var L=N!==f;L?(N.bind(this),N.setUniformOfSemantic(S,"VIEWPORT",o),N.setUniformOfSemantic(S,"WINDOW_SIZE",u),t&&(N.setUniformOfSemantic(S,"NEAR",t.near),N.setUniformOfSemantic(S,"FAR",t.far)),N.setUniformOfSemantic(S,"DEVICEPIXELRATIO",a),N.setUniformOfSemantic(S,"TIME",c),N.setUniformOfSemantic(S,"VIEWPORT_SIZE",l),C&&C.setLightUniforms(N,I.lightGroup,this)):N=f,(L||n.isMaterialChanged(I,h,E,d))&&(E.depthTest!==p&&(E.depthTest?S.enable(S.DEPTH_TEST):S.disable(S.DEPTH_TEST),p=E.depthTest),E.depthMask!==m&&(S.depthMask(E.depthMask),m=E.depthMask),E.transparent!==x&&(E.transparent?S.enable(S.BLEND):S.disable(S.BLEND),x=E.transparent),E.transparent&&(E.blend?E.blend(S):(S.blendEquationSeparate(S.FUNC_ADD,S.FUNC_ADD),S.blendFuncSeparate(S.SRC_ALPHA,S.ONE_MINUS_SRC_ALPHA,S.ONE,S.ONE_MINUS_SRC_ALPHA))),_=this._bindMaterial(I,E,N,h||null,d||null,f||null,n.getUniform),d=E);var F=R.matrixSemanticKeys;if(A)for(var Z=0;Z<F.length;Z++){var B=F[Z],z=R.matrixSemantics[B],V=FM[B];if(z.isTranspose){var j=FM[z.semanticNoTranspose];SM.transpose(V,j)}N.setUniform(S,z.type,z.symbol,V)}I.cullFace!==v&&(v=I.cullFace,S.cullFace(v)),I.frontFace!==y&&(y=I.frontFace,S.frontFace(y)),I.culling!==g&&((g=I.culling)?S.enable(S.CULL_FACE):S.disable(S.CULL_FACE)),this._updateSkeleton(I,N,_),O&&(w=this._bindVAO(k,R,M,N)),this._renderObject(I,w,N),n.afterRender(this,I),I.afterRender&&I.afterRender(this),f=N,h=I}}this.trigger("afterrenderpass",this,e,t,n)},getMaxJointNumber:function(){return this.maxJointNumber},_updateSkeleton:function(e,t,n){var r=this.gl,i=e.skeleton;if(i)if(i.update(),e.joints.length>this.getMaxJointNumber()){var a=i.getSubSkinMatricesTexture(e.__uid__,e.joints);t.useTextureSlot(this,a,n),t.setUniform(r,"1i","skinMatricesTexture",n),t.setUniform(r,"1f","skinMatricesTextureSize",a.width)}else{var o=i.getSubSkinMatrices(e.__uid__,e.joints);t.setUniformOfSemantic(r,"SKIN_MATRIX",o)}},_renderObject:function(e,t,n){var r=this.gl,i=e.geometry,a=e.mode;null==a&&(a=4);var o=null,s=e.isInstancedMesh&&e.isInstancedMesh();if(!s||(o=this.getGLExtension("ANGLE_instanced_arrays"))){var u;if(s&&(u=this._bindInstancedAttributes(e,n,o)),t.indicesBuffer){var l=this.getGLExtension("OES_element_index_uint")&&i.indices instanceof Uint32Array?r.UNSIGNED_INT:r.UNSIGNED_SHORT;s?o.drawElementsInstancedANGLE(a,t.indicesBuffer.count,l,0,e.getInstanceCount()):r.drawElements(a,t.indicesBuffer.count,l,0)}else s?o.drawArraysInstancedANGLE(a,0,i.vertexCount,e.getInstanceCount()):r.drawArrays(a,0,i.vertexCount);if(s)for(var c=0;c<u.length;c++)r.disableVertexAttribArray(u[c])}else console.warn("Device not support ANGLE_instanced_arrays extension")},_bindInstancedAttributes:function(e,t,n){for(var r=this.gl,i=e.getInstancedAttributesBuffers(this),a=[],o=0;o<i.length;o++){var s=i[o],u=t.getAttribLocation(r,s.symbol);if(!(u<0)){var l=RM[s.type]||r.FLOAT;r.enableVertexAttribArray(u),r.bindBuffer(r.ARRAY_BUFFER,s.buffer),r.vertexAttribPointer(u,s.size,l,!1,0,0),n.vertexAttribDivisorANGLE(u,s.divisor),a.push(u)}}return a},_bindMaterial:function(e,t,n,r,i,a,o){for(var s=this.gl,u=a===n,l=n.currentTextureSlot(),c=t.getEnabledUniforms(),d=t.getTextureUniforms(),f=this._placeholderTexture,h=0;h<d.length;h++){var p=o(e,t,v=d[h]);if("t"===(g=t.uniforms[v].type)&&p)p.__slot=-1;else if("tv"===g)for(var m=0;m<p.length;m++)p[m]&&(p[m].__slot=-1)}f.__slot=-1;for(h=0;h<c.length;h++){var g,v=c[h],y=t.uniforms[v],x=(p=o(e,t,v),"t"===(g=y.type));if(x&&(p&&p.isRenderable()||(p=f)),i&&u){var b=o(r,i,v);if(x&&(b&&b.isRenderable()||(b=f)),b===p){if(x)n.takeCurrentTextureSlot(this,null);else if("tv"===g&&p)for(m=0;m<p.length;m++)n.takeCurrentTextureSlot(this,null);continue}}if(null!=p)if(x)if(p.__slot<0){var w=n.currentTextureSlot();n.setUniform(s,"1i",v,w)&&(n.takeCurrentTextureSlot(this,p),p.__slot=w)}else n.setUniform(s,"1i",v,p.__slot);else if(Array.isArray(p)){if(0===p.length)continue;if("tv"===g){if(!n.hasUniform(v))continue;var _=[];for(m=0;m<p.length;m++){var S=p[m];if(S.__slot<0){w=n.currentTextureSlot();_.push(w),n.takeCurrentTextureSlot(this,S),S.__slot=w}else _.push(S.__slot)}n.setUniform(s,"1iv",v,_)}else n.setUniform(s,y.type,v,p)}else n.setUniform(s,y.type,v,p)}var C=n.currentTextureSlot();return n.resetTextureSlot(l),C},_bindVAO:function(e,t,n,r){var i=!n.dynamic,a=this.gl,o=this.__uid__+"-"+r.__uid__,s=n.__vaoCache[o];if(!s){var u=n.getBufferChunks(this);if(!u||!u.length)return;for(var l=u[0],c=l.attributeBuffers,d=l.indicesBuffer,f=[],h=[],p=0;p<c.length;p++){var m,g=(_=c[p]).name,v=_.semantic;if(v){var y=t.attributeSemantics[v];m=y&&y.symbol}else m=g;m&&r.attributes[m]&&(f.push(_),h.push(m))}s=new PM(f,h,d),i&&(n.__vaoCache[o]=s)}var x=!0;e&&i&&(null==s.vao?s.vao=e.createVertexArrayOES():x=!1,e.bindVertexArrayOES(s.vao));f=s.availableAttributes,d=s.indicesBuffer;if(x){var b=r.enableAttributes(this,s.availableAttributeSymbols,e&&i&&s);for(p=0;p<f.length;p++){var w=b[p];if(-1!==w){var _,S=(_=f[p]).buffer,C=_.size,k=RM[_.type]||a.FLOAT;a.bindBuffer(a.ARRAY_BUFFER,S),a.vertexAttribPointer(w,C,k,!1,0,0)}}n.isUseIndices()&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,d.buffer)}return s},renderPreZ:function(e,t,n){var r=this.gl,i=this._prezMaterial||new FA({shader:new bM(bM.source("clay.prez.vertex"),bM.source("clay.prez.fragment"))});this._prezMaterial=i,r.colorMask(!1,!1,!1,!1),r.depthMask(!0),this.renderPass(e,n,{ifRender:function(e){return!e.ignorePreZ},isMaterialChanged:function(e,t){var n=e.material,r=t.material;return n.get("diffuseMap")!==r.get("diffuseMap")||(n.get("alphaCutoff")||0)!==(r.get("alphaCutoff")||0)},getUniform:function(e,t,n){return"alphaMap"===n?e.material.get("diffuseMap"):"alphaCutoff"===n?e.material.isDefined("fragment","ALPHA_TEST")&&e.material.get("diffuseMap")&&e.material.get("alphaCutoff")||0:"uvRepeat"===n?e.material.get("uvRepeat"):"uvOffset"===n?e.material.get("uvOffset"):t.get(n)},getMaterial:function(){return i},sort:this.opaqueSortCompare}),r.colorMask(!0,!0,!0,!0),r.depthMask(!0)},disposeScene:function(e){this.disposeNode(e,!0,!0),e.dispose()},disposeNode:function(e,t,n){e.getParent()&&e.getParent().remove(e);var r={};e.traverse((function(e){var i=e.material;if(e.geometry&&t&&e.geometry.dispose(this),n&&i&&!r[i.__uid__]){for(var a=i.getTextureUniforms(),o=0;o<a.length;o++){var s=a[o],u=i.uniforms[s].value,l=i.uniforms[s].type;if(u)if("t"===l)u.dispose&&u.dispose(this);else if("tv"===l)for(var c=0;c<u.length;c++)u[c]&&u[c].dispose&&u[c].dispose(this)}r[i.__uid__]=!0}e.dispose&&e.dispose(this)}),this)},disposeGeometry:function(e){e.dispose(this)},disposeTexture:function(e){e.dispose(this)},disposeFrameBuffer:function(e){e.dispose(this)},dispose:function(){},screenToNDC:function(e,t,n){n||(n=new HA),t=this._height-t;var r=this.viewport,i=n.array;return i[0]=(e-r.x)/r.width,i[0]=2*i[0]-1,i[1]=(t-r.y)/r.height,i[1]=2*i[1]-1,n}});LM.opaqueSortCompare=LM.prototype.opaqueSortCompare=function(e,t){return e.renderOrder===t.renderOrder?e.__program===t.__program?e.material===t.material?e.geometry.__uid__-t.geometry.__uid__:e.material.__uid__-t.material.__uid__:e.__program&&t.__program?e.__program.__uid__-t.__program.__uid__:0:e.renderOrder-t.renderOrder},LM.transparentSortCompare=LM.prototype.transparentSortCompare=function(e,t){return e.renderOrder===t.renderOrder?e.__depth===t.__depth?e.__program===t.__program?e.material===t.material?e.geometry.__uid__-t.geometry.__uid__:e.material.__uid__-t.material.__uid__:e.__program&&t.__program?e.__program.__uid__-t.__program.__uid__:0:e.__depth-t.__depth:e.renderOrder-t.renderOrder};var FM={IDENTITY:DM(),WORLD:DM(),VIEW:DM(),PROJECTION:DM(),WORLDVIEW:DM(),VIEWPROJECTION:DM(),WORLDVIEWPROJECTION:DM(),WORLDINVERSE:DM(),VIEWINVERSE:DM(),PROJECTIONINVERSE:DM(),WORLDVIEWINVERSE:DM(),VIEWPROJECTIONINVERSE:DM(),WORLDVIEWPROJECTIONINVERSE:DM(),WORLDTRANSPOSE:DM(),VIEWTRANSPOSE:DM(),PROJECTIONTRANSPOSE:DM(),WORLDVIEWTRANSPOSE:DM(),VIEWPROJECTIONTRANSPOSE:DM(),WORLDVIEWPROJECTIONTRANSPOSE:DM(),WORLDINVERSETRANSPOSE:DM(),VIEWINVERSETRANSPOSE:DM(),PROJECTIONINVERSETRANSPOSE:DM(),WORLDVIEWINVERSETRANSPOSE:DM(),VIEWPROJECTIONINVERSETRANSPOSE:DM(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:DM()};LM.COLOR_BUFFER_BIT=vI,LM.DEPTH_BUFFER_BIT=mI,LM.STENCIL_BUFFER_BIT=gI;var ZM=LM,BM=function(e,t,n){e=e||0,t=t||0,n=n||0,this.array=kM.fromValues(e,t,n),this._dirty=!0};BM.prototype={constructor:BM,add:function(e){return kM.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,t,n){return this.array[0]=e,this.array[1]=t,this.array[2]=n,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this._dirty=!0,this},clone:function(){return new BM(this.x,this.y,this.z)},copy:function(e){return kM.copy(this.array,e.array),this._dirty=!0,this},cross:function(e,t){return kM.cross(this.array,e.array,t.array),this._dirty=!0,this},dist:function(e){return kM.dist(this.array,e.array)},distance:function(e){return kM.distance(this.array,e.array)},div:function(e){return kM.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return kM.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return kM.dot(this.array,e.array)},len:function(){return kM.len(this.array)},length:function(){return kM.length(this.array)},lerp:function(e,t,n){return kM.lerp(this.array,e.array,t.array,n),this._dirty=!0,this},min:function(e){return kM.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return kM.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return kM.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return kM.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return kM.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return kM.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return kM.random(this.array,e),this._dirty=!0,this},scale:function(e){return kM.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,t){return kM.scaleAndAdd(this.array,this.array,e.array,t),this._dirty=!0,this},sqrDist:function(e){return kM.sqrDist(this.array,e.array)},squaredDistance:function(e){return kM.squaredDistance(this.array,e.array)},sqrLen:function(){return kM.sqrLen(this.array)},squaredLength:function(){return kM.squaredLength(this.array)},sub:function(e){return kM.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return kM.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat3:function(e){return kM.transformMat3(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return kM.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},transformQuat:function(e){return kM.transformQuat(this.array,this.array,e.array),this._dirty=!0,this},applyProjection:function(e){var t=this.array;if(0===(e=e.array)[15]){var n=-1/t[2];t[0]=e[0]*t[0]*n,t[1]=e[5]*t[1]*n,t[2]=(e[10]*t[2]+e[14])*n}else t[0]=e[0]*t[0]+e[12],t[1]=e[5]*t[1]+e[13],t[2]=e[10]*t[2]+e[14];return this._dirty=!0,this},eulerFromQuat:function(e,t){BM.eulerFromQuat(this,e,t)},eulerFromMat3:function(e,t){BM.eulerFromMat3(this,e,t)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var zM=Object.defineProperty;if(zM){var VM=BM.prototype;zM(VM,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),zM(VM,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),zM(VM,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}})}function jM(e,t,n){return e<t?t:e>n?n:e}BM.add=function(e,t,n){return kM.add(e.array,t.array,n.array),e._dirty=!0,e},BM.set=function(e,t,n,r){kM.set(e.array,t,n,r),e._dirty=!0},BM.copy=function(e,t){return kM.copy(e.array,t.array),e._dirty=!0,e},BM.cross=function(e,t,n){return kM.cross(e.array,t.array,n.array),e._dirty=!0,e},BM.distance=BM.dist=function(e,t){return kM.distance(e.array,t.array)},BM.divide=BM.div=function(e,t,n){return kM.divide(e.array,t.array,n.array),e._dirty=!0,e},BM.dot=function(e,t){return kM.dot(e.array,t.array)},BM.len=function(e){return kM.length(e.array)},BM.lerp=function(e,t,n,r){return kM.lerp(e.array,t.array,n.array,r),e._dirty=!0,e},BM.min=function(e,t,n){return kM.min(e.array,t.array,n.array),e._dirty=!0,e},BM.max=function(e,t,n){return kM.max(e.array,t.array,n.array),e._dirty=!0,e},BM.multiply=BM.mul=function(e,t,n){return kM.multiply(e.array,t.array,n.array),e._dirty=!0,e},BM.negate=function(e,t){return kM.negate(e.array,t.array),e._dirty=!0,e},BM.normalize=function(e,t){return kM.normalize(e.array,t.array),e._dirty=!0,e},BM.random=function(e,t){return kM.random(e.array,t),e._dirty=!0,e},BM.scale=function(e,t,n){return kM.scale(e.array,t.array,n),e._dirty=!0,e},BM.scaleAndAdd=function(e,t,n,r){return kM.scaleAndAdd(e.array,t.array,n.array,r),e._dirty=!0,e},BM.squaredDistance=BM.sqrDist=function(e,t){return kM.sqrDist(e.array,t.array)},BM.squaredLength=BM.sqrLen=function(e){return kM.sqrLen(e.array)},BM.subtract=BM.sub=function(e,t,n){return kM.subtract(e.array,t.array,n.array),e._dirty=!0,e},BM.transformMat3=function(e,t,n){return kM.transformMat3(e.array,t.array,n.array),e._dirty=!0,e},BM.transformMat4=function(e,t,n){return kM.transformMat4(e.array,t.array,n.array),e._dirty=!0,e},BM.transformQuat=function(e,t,n){return kM.transformQuat(e.array,t.array,n.array),e._dirty=!0,e};var WM=Math.atan2,UM=Math.asin,HM=Math.abs;BM.eulerFromQuat=function(e,t,n){e._dirty=!0,t=t.array;var r=e.array,i=t[0],a=t[1],o=t[2],s=t[3],u=i*i,l=a*a,c=o*o,d=s*s;switch(n=(n||"XYZ").toUpperCase()){case"XYZ":r[0]=WM(2*(i*s-a*o),d-u-l+c),r[1]=UM(jM(2*(i*o+a*s),-1,1)),r[2]=WM(2*(o*s-i*a),d+u-l-c);break;case"YXZ":r[0]=UM(jM(2*(i*s-a*o),-1,1)),r[1]=WM(2*(i*o+a*s),d-u-l+c),r[2]=WM(2*(i*a+o*s),d-u+l-c);break;case"ZXY":r[0]=UM(jM(2*(i*s+a*o),-1,1)),r[1]=WM(2*(a*s-o*i),d-u-l+c),r[2]=WM(2*(o*s-i*a),d-u+l-c);break;case"ZYX":r[0]=WM(2*(i*s+o*a),d-u-l+c),r[1]=UM(jM(2*(a*s-i*o),-1,1)),r[2]=WM(2*(i*a+o*s),d+u-l-c);break;case"YZX":r[0]=WM(2*(i*s-o*a),d-u+l-c),r[1]=WM(2*(a*s-i*o),d+u-l-c),r[2]=UM(jM(2*(i*a+o*s),-1,1));break;case"XZY":r[0]=WM(2*(i*s+a*o),d-u+l-c),r[1]=WM(2*(i*o+a*s),d+u-l-c),r[2]=UM(jM(2*(o*s-i*a),-1,1));break;default:console.warn("Unkown order: "+n)}return e},BM.eulerFromMat3=function(e,t,n){var r=t.array,i=r[0],a=r[3],o=r[6],s=r[1],u=r[4],l=r[7],c=r[2],d=r[5],f=r[8],h=e.array;switch(n=(n||"XYZ").toUpperCase()){case"XYZ":h[1]=UM(jM(o,-1,1)),HM(o)<.99999?(h[0]=WM(-l,f),h[2]=WM(-a,i)):(h[0]=WM(d,u),h[2]=0);break;case"YXZ":h[0]=UM(-jM(l,-1,1)),HM(l)<.99999?(h[1]=WM(o,f),h[2]=WM(s,u)):(h[1]=WM(-c,i),h[2]=0);break;case"ZXY":h[0]=UM(jM(d,-1,1)),HM(d)<.99999?(h[1]=WM(-c,f),h[2]=WM(-a,u)):(h[1]=0,h[2]=WM(s,i));break;case"ZYX":h[1]=UM(-jM(c,-1,1)),HM(c)<.99999?(h[0]=WM(d,f),h[2]=WM(s,i)):(h[0]=0,h[2]=WM(-a,u));break;case"YZX":h[2]=UM(jM(s,-1,1)),HM(s)<.99999?(h[0]=WM(-l,u),h[1]=WM(-c,i)):(h[0]=0,h[1]=WM(o,f));break;case"XZY":h[2]=UM(-jM(a,-1,1)),HM(a)<.99999?(h[0]=WM(d,u),h[1]=WM(o,i)):(h[0]=WM(-l,f),h[1]=0);break;default:console.warn("Unkown order: "+n)}return e._dirty=!0,e},Object.defineProperties(BM,{POSITIVE_X:{get:function(){return new BM(1,0,0)}},NEGATIVE_X:{get:function(){return new BM(-1,0,0)}},POSITIVE_Y:{get:function(){return new BM(0,1,0)}},NEGATIVE_Y:{get:function(){return new BM(0,-1,0)}},POSITIVE_Z:{get:function(){return new BM(0,0,1)}},NEGATIVE_Z:{get:function(){return new BM(0,0,-1)}},UP:{get:function(){return new BM(0,1,0)}},ZERO:{get:function(){return new BM}}});var GM=BM,XM=1e-5,qM=function(e,t){this.origin=e||new GM,this.direction=t||new GM};qM.prototype={constructor:qM,intersectPlane:function(e,t){var n=e.normal.array,r=e.distance,i=this.origin.array,a=this.direction.array,o=kM.dot(n,a);if(0===o)return null;t||(t=new GM);var s=(kM.dot(n,i)-r)/o;return kM.scaleAndAdd(t.array,i,a,-s),t._dirty=!0,t},mirrorAgainstPlane:function(e){var t=kM.dot(e.normal.array,this.direction.array);kM.scaleAndAdd(this.direction.array,this.direction.array,e.normal.array,2*-t),this.direction._dirty=!0},distanceToPoint:function(){var e=kM.create();return function(t){kM.sub(e,t,this.origin.array);var n=kM.dot(e,this.direction.array);if(n<0)return kM.distance(this.origin.array,t);var r=kM.lenSquared(e);return Math.sqrt(r-n*n)}}(),intersectSphere:function(){var e=kM.create();return function(t,n,r){var i=this.origin.array,a=this.direction.array;t=t.array,kM.sub(e,t,i);var o=kM.dot(e,a),s=kM.squaredLength(e)-o*o,u=n*n;if(!(s>u)){var l=Math.sqrt(u-s),c=o-l,d=o+l;return r||(r=new GM),c<0?d<0?null:(kM.scaleAndAdd(r.array,i,a,d),r):(kM.scaleAndAdd(r.array,i,a,c),r)}}}(),intersectBoundingBox:function(e,t){var n,r,i,a,o,s,u=this.direction.array,l=this.origin.array,c=e.min.array,d=e.max.array,f=1/u[0],h=1/u[1],p=1/u[2];if(f>=0?(n=(c[0]-l[0])*f,r=(d[0]-l[0])*f):(r=(c[0]-l[0])*f,n=(d[0]-l[0])*f),h>=0?(i=(c[1]-l[1])*h,a=(d[1]-l[1])*h):(a=(c[1]-l[1])*h,i=(d[1]-l[1])*h),n>a||i>r)return null;if((i>n||n!==n)&&(n=i),(a<r||r!==r)&&(r=a),p>=0?(o=(c[2]-l[2])*p,s=(d[2]-l[2])*p):(s=(c[2]-l[2])*p,o=(d[2]-l[2])*p),n>s||o>r)return null;if((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0)return null;var m=n>=0?n:r;return t||(t=new GM),kM.scaleAndAdd(t.array,l,u,m),t},intersectTriangle:function(){var e=kM.create(),t=kM.create(),n=kM.create(),r=kM.create();return function(i,a,o,s,u,l){var c=this.direction.array,d=this.origin.array;i=i.array,a=a.array,o=o.array,kM.sub(e,a,i),kM.sub(t,o,i),kM.cross(r,t,c);var f=kM.dot(e,r);if(s){if(f>-1e-5)return null}else if(f>-1e-5&&f<XM)return null;kM.sub(n,d,i);var h=kM.dot(r,n)/f;if(h<0||h>1)return null;kM.cross(r,e,n);var p=kM.dot(c,r)/f;if(p<0||p>1||h+p>1)return null;kM.cross(r,e,t);var m=-kM.dot(n,r)/f;return m<0?null:(u||(u=new GM),l&&GM.set(l,1-h-p,h,p),kM.scaleAndAdd(u.array,d,c,m),u)}}(),applyTransform:function(e){GM.add(this.direction,this.direction,this.origin),GM.transformMat4(this.origin,this.origin,e),GM.transformMat4(this.direction,this.direction,e),GM.sub(this.direction,this.direction,this.origin),GM.normalize(this.direction,this.direction)},copy:function(e){GM.copy(this.origin,e.origin),GM.copy(this.direction,e.direction)},clone:function(){var e=new qM;return e.copy(this),e}};var YM=qM,KM={create:function(){var e=new BA(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},clone:function(e){var t=new BA(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},fromValues:function(e,t,n,r){var i=new BA(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},set:function(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},subtract:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}};KM.sub=KM.subtract,KM.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e},KM.mul=KM.multiply,KM.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e},KM.div=KM.divide,KM.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e},KM.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e},KM.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},KM.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e},KM.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return Math.sqrt(n*n+r*r+i*i+a*a)},KM.dist=KM.distance,KM.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return n*n+r*r+i*i+a*a},KM.sqrDist=KM.squaredDistance,KM.length=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.sqrt(t*t+n*n+r*r+i*i)},KM.len=KM.length,KM.squaredLength=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i},KM.sqrLen=KM.squaredLength,KM.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},KM.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},KM.normalize=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e[3]=t[3]*o),e},KM.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},KM.lerp=function(e,t,n,r){var i=t[0],a=t[1],o=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=o+r*(n[2]-o),e[3]=s+r*(n[3]-s),e},KM.random=function(e,t){return t=t||1,e[0]=zA(),e[1]=zA(),e[2]=zA(),e[3]=zA(),KM.normalize(e,e),KM.scale(e,e,t),e},KM.transformMat4=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e},KM.transformQuat=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*a-u*i,d=l*i+u*r-o*a,f=l*a+o*i-s*r,h=-o*r-s*i-u*a;return e[0]=c*l+h*-o+d*-u-f*-s,e[1]=d*l+h*-s+f*-o-c*-u,e[2]=f*l+h*-u+c*-s-d*-o,e},KM.forEach=function(){var e=KM.create();return function(t,n,r,i,a,o){var s,u;for(n||(n=4),r||(r=0),u=i?Math.min(i*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}();var QM=KM,JM={create:function(){var e=new BA(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromMat4:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},clone:function(e){var t=new BA(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},transpose:function(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],d=c*o-s*l,f=-c*a+s*u,h=l*a-o*u,p=n*d+r*f+i*h;return p?(p=1/p,e[0]=d*p,e[1]=(-c*r+i*l)*p,e[2]=(s*r-i*o)*p,e[3]=f*p,e[4]=(c*n-i*u)*p,e[5]=(-s*n+i*a)*p,e[6]=h*p,e[7]=(-l*n+r*u)*p,e[8]=(o*n-r*a)*p,e):null},adjoint:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8];return e[0]=o*c-s*l,e[1]=i*l-r*c,e[2]=r*s-i*o,e[3]=s*u-a*c,e[4]=n*c-i*u,e[5]=i*a-n*s,e[6]=a*l-o*u,e[7]=r*u-n*l,e[8]=n*o-r*a,e},determinant:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*(l*a-o*u)+n*(-l*i+o*s)+r*(u*i-a*s)},multiply:function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],f=n[0],h=n[1],p=n[2],m=n[3],g=n[4],v=n[5],y=n[6],x=n[7],b=n[8];return e[0]=f*r+h*o+p*l,e[1]=f*i+h*s+p*c,e[2]=f*a+h*u+p*d,e[3]=m*r+g*o+v*l,e[4]=m*i+g*s+v*c,e[5]=m*a+g*u+v*d,e[6]=y*r+x*o+b*l,e[7]=y*i+x*s+b*c,e[8]=y*a+x*u+b*d,e}};JM.mul=JM.multiply,JM.translate=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],f=n[0],h=n[1];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e[6]=f*r+h*o+l,e[7]=f*i+h*s+c,e[8]=f*a+h*u+d,e},JM.rotate=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],f=Math.sin(n),h=Math.cos(n);return e[0]=h*r+f*o,e[1]=h*i+f*s,e[2]=h*a+f*u,e[3]=h*o-f*r,e[4]=h*s-f*i,e[5]=h*u-f*a,e[6]=l,e[7]=c,e[8]=d,e},JM.scale=function(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},JM.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},JM.fromQuat=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,u=i+i,l=n*o,c=r*o,d=r*s,f=i*o,h=i*s,p=i*u,m=a*o,g=a*s,v=a*u;return e[0]=1-d-p,e[3]=c-v,e[6]=f+g,e[1]=c+v,e[4]=1-l-p,e[7]=h-m,e[2]=f-g,e[5]=h+m,e[8]=1-l-d,e},JM.normalFromMat4=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],d=t[9],f=t[10],h=t[11],p=t[12],m=t[13],g=t[14],v=t[15],y=n*s-r*o,x=n*u-i*o,b=n*l-a*o,w=r*u-i*s,_=r*l-a*s,S=i*l-a*u,C=c*m-d*p,k=c*g-f*p,D=c*v-h*p,T=d*g-f*m,I=d*v-h*m,A=f*v-h*g,M=y*A-x*I+b*T+w*D-_*k+S*C;return M?(M=1/M,e[0]=(s*A-u*I+l*T)*M,e[1]=(u*D-o*A-l*k)*M,e[2]=(o*I-s*D+l*C)*M,e[3]=(i*I-r*A-a*T)*M,e[4]=(n*A-i*D+a*k)*M,e[5]=(r*D-n*I-a*C)*M,e[6]=(m*S-g*_+v*w)*M,e[7]=(g*b-p*S-v*x)*M,e[8]=(p*_-m*b+v*y)*M,e):null},JM.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))};var $M=JM,eE={create:function(){var e=new BA(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}};eE.rotationTo=function(){var e=kM.create(),t=kM.fromValues(1,0,0),n=kM.fromValues(0,1,0);return function(r,i,a){var o=kM.dot(i,a);return o<-.999999?(kM.cross(e,t,i),kM.length(e)<1e-6&&kM.cross(e,n,i),kM.normalize(e,e),eE.setAxisAngle(r,e,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(kM.cross(e,i,a),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+o,eE.normalize(r,r))}}(),eE.setAxes=function(){var e=$M.create();return function(t,n,r,i){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],eE.normalize(t,eE.fromMat3(t,e))}}(),eE.clone=QM.clone,eE.fromValues=QM.fromValues,eE.copy=QM.copy,eE.set=QM.set,eE.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},eE.setAxisAngle=function(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e},eE.add=QM.add,eE.multiply=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*c+o*s+i*l-a*u,e[1]=i*c+o*u+a*s-r*l,e[2]=a*c+o*l+r*u-i*s,e[3]=o*c-r*s-i*u-a*l,e},eE.mul=eE.multiply,eE.scale=QM.scale,eE.rotateX=function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+o*s,e[1]=i*u+a*s,e[2]=a*u-i*s,e[3]=o*u-r*s,e},eE.rotateY=function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u-a*s,e[1]=i*u+o*s,e[2]=a*u+r*s,e[3]=o*u-i*s,e},eE.rotateZ=function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+i*s,e[1]=i*u-r*s,e[2]=a*u+o*s,e[3]=o*u-a*s,e},eE.calculateW=function(e,t){var n=t[0],r=t[1],i=t[2];return e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),e},eE.dot=QM.dot,eE.lerp=QM.lerp,eE.slerp=function(e,t,n,r){var i,a,o,s,u,l=t[0],c=t[1],d=t[2],f=t[3],h=n[0],p=n[1],m=n[2],g=n[3];return(a=l*h+c*p+d*m+f*g)<0&&(a=-a,h=-h,p=-p,m=-m,g=-g),1-a>1e-6?(i=Math.acos(a),o=Math.sin(i),s=Math.sin((1-r)*i)/o,u=Math.sin(r*i)/o):(s=1-r,u=r),e[0]=s*l+u*h,e[1]=s*c+u*p,e[2]=s*d+u*m,e[3]=s*f+u*g,e},eE.invert=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a,s=o?1/o:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=a*s,e},eE.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},eE.length=QM.length,eE.len=eE.length,eE.squaredLength=QM.squaredLength,eE.sqrLen=eE.squaredLength,eE.normalize=QM.normalize,eE.fromMat3=function(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*a+a]-t[3*o+o]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*a+o]-t[3*o+a])*n,e[a]=(t[3*a+i]+t[3*i+a])*n,e[o]=(t[3*o+i]+t[3*i+o])*n}return e};var tE=eE,nE=function(){this._axisX=new GM,this._axisY=new GM,this._axisZ=new GM,this.array=SM.create(),this._dirty=!0};nE.prototype={constructor:nE,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},adjoint:function(){return SM.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new nE).copy(this)},copy:function(e){return SM.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return SM.determinant(this.array)},fromQuat:function(e){return SM.fromQuat(this.array,e.array),this._dirty=!0,this},fromRotationTranslation:function(e,t){return SM.fromRotationTranslation(this.array,e.array,t.array),this._dirty=!0,this},fromMat2d:function(e){return nE.fromMat2d(this,e),this},frustum:function(e,t,n,r,i,a){return SM.frustum(this.array,e,t,n,r,i,a),this._dirty=!0,this},identity:function(){return SM.identity(this.array),this._dirty=!0,this},invert:function(){return SM.invert(this.array,this.array),this._dirty=!0,this},lookAt:function(e,t,n){return SM.lookAt(this.array,e.array,t.array,n.array),this._dirty=!0,this},mul:function(e){return SM.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return SM.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return SM.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return SM.multiply(this.array,e.array,this.array),this._dirty=!0,this},ortho:function(e,t,n,r,i,a){return SM.ortho(this.array,e,t,n,r,i,a),this._dirty=!0,this},perspective:function(e,t,n,r){return SM.perspective(this.array,e,t,n,r),this._dirty=!0,this},rotate:function(e,t){return SM.rotate(this.array,this.array,e,t.array),this._dirty=!0,this},rotateX:function(e){return SM.rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return SM.rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return SM.rotateZ(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return SM.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return SM.translate(this.array,this.array,e.array),this._dirty=!0,this},transpose:function(){return SM.transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:function(){var e=kM.create(),t=kM.create(),n=kM.create(),r=$M.create();return function(i,a,o){var s=this.array;kM.set(e,s[0],s[1],s[2]),kM.set(t,s[4],s[5],s[6]),kM.set(n,s[8],s[9],s[10]);var u=kM.length(e),l=kM.length(t),c=kM.length(n);this.determinant()<0&&(u=-u),i&&i.set(u,l,c),o.set(s[12],s[13],s[14]),$M.fromMat4(r,s),r[0]/=u,r[1]/=u,r[2]/=u,r[3]/=l,r[4]/=l,r[5]/=l,r[6]/=c,r[7]/=c,r[8]/=c,tE.fromMat3(a.array,r),tE.normalize(a.array,a.array),a._dirty=!0,o._dirty=!0}}(),toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var rE=Object.defineProperty;if(rE){var iE=nE.prototype;rE(iE,"z",{get:function(){var e=this.array;return this._axisZ.set(e[8],e[9],e[10]),this._axisZ},set:function(e){var t=this.array;e=e.array,t[8]=e[0],t[9]=e[1],t[10]=e[2],this._dirty=!0}}),rE(iE,"y",{get:function(){var e=this.array;return this._axisY.set(e[4],e[5],e[6]),this._axisY},set:function(e){var t=this.array;e=e.array,t[4]=e[0],t[5]=e[1],t[6]=e[2],this._dirty=!0}}),rE(iE,"x",{get:function(){var e=this.array;return this._axisX.set(e[0],e[1],e[2]),this._axisX},set:function(e){var t=this.array;e=e.array,t[0]=e[0],t[1]=e[1],t[2]=e[2],this._dirty=!0}})}nE.adjoint=function(e,t){return SM.adjoint(e.array,t.array),e._dirty=!0,e},nE.copy=function(e,t){return SM.copy(e.array,t.array),e._dirty=!0,e},nE.determinant=function(e){return SM.determinant(e.array)},nE.identity=function(e){return SM.identity(e.array),e._dirty=!0,e},nE.ortho=function(e,t,n,r,i,a,o){return SM.ortho(e.array,t,n,r,i,a,o),e._dirty=!0,e},nE.perspective=function(e,t,n,r,i){return SM.perspective(e.array,t,n,r,i),e._dirty=!0,e},nE.lookAt=function(e,t,n,r){return SM.lookAt(e.array,t.array,n.array,r.array),e._dirty=!0,e},nE.invert=function(e,t){return SM.invert(e.array,t.array),e._dirty=!0,e},nE.multiply=nE.mul=function(e,t,n){return SM.mul(e.array,t.array,n.array),e._dirty=!0,e},nE.fromQuat=function(e,t){return SM.fromQuat(e.array,t.array),e._dirty=!0,e},nE.fromRotationTranslation=function(e,t,n){return SM.fromRotationTranslation(e.array,t.array,n.array),e._dirty=!0,e},nE.fromMat2d=function(e,t){e._dirty=!0;t=t.array;return(e=e.array)[0]=t[0],e[4]=t[2],e[12]=t[4],e[1]=t[1],e[5]=t[3],e[13]=t[5],e},nE.rotate=function(e,t,n,r){return SM.rotate(e.array,t.array,n,r.array),e._dirty=!0,e},nE.rotateX=function(e,t,n){return SM.rotateX(e.array,t.array,n),e._dirty=!0,e},nE.rotateY=function(e,t,n){return SM.rotateY(e.array,t.array,n),e._dirty=!0,e},nE.rotateZ=function(e,t,n){return SM.rotateZ(e.array,t.array,n),e._dirty=!0,e},nE.scale=function(e,t,n){return SM.scale(e.array,t.array,n.array),e._dirty=!0,e},nE.transpose=function(e,t){return SM.transpose(e.array,t.array),e._dirty=!0,e},nE.translate=function(e,t,n){return SM.translate(e.array,t.array,n.array),e._dirty=!0,e};var aE=nE,oE=function(e,t,n,r){e=e||0,t=t||0,n=n||0,r=void 0===r?1:r,this.array=tE.fromValues(e,t,n,r),this._dirty=!0};oE.prototype={constructor:oE,add:function(e){return tE.add(this.array,this.array,e.array),this._dirty=!0,this},calculateW:function(){return tE.calculateW(this.array,this.array),this._dirty=!0,this},set:function(e,t,n,r){return this.array[0]=e,this.array[1]=t,this.array[2]=n,this.array[3]=r,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new oE(this.x,this.y,this.z,this.w)},conjugate:function(){return tE.conjugate(this.array,this.array),this._dirty=!0,this},copy:function(e){return tE.copy(this.array,e.array),this._dirty=!0,this},dot:function(e){return tE.dot(this.array,e.array)},fromMat3:function(e){return tE.fromMat3(this.array,e.array),this._dirty=!0,this},fromMat4:function(){var e=$M.create();return function(t){return $M.fromMat4(e,t.array),$M.transpose(e,e),tE.fromMat3(this.array,e),this._dirty=!0,this}}(),identity:function(){return tE.identity(this.array),this._dirty=!0,this},invert:function(){return tE.invert(this.array,this.array),this._dirty=!0,this},len:function(){return tE.len(this.array)},length:function(){return tE.length(this.array)},lerp:function(e,t,n){return tE.lerp(this.array,e.array,t.array,n),this._dirty=!0,this},mul:function(e){return tE.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return tE.multiply(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return tE.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return tE.multiply(this.array,e.array,this.array),this._dirty=!0,this},normalize:function(){return tE.normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(e){return tE.rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return tE.rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return tE.rotateZ(this.array,this.array,e),this._dirty=!0,this},rotationTo:function(e,t){return tE.rotationTo(this.array,e.array,t.array),this._dirty=!0,this},setAxes:function(e,t,n){return tE.setAxes(this.array,e.array,t.array,n.array),this._dirty=!0,this},setAxisAngle:function(e,t){return tE.setAxisAngle(this.array,e.array,t),this._dirty=!0,this},slerp:function(e,t,n){return tE.slerp(this.array,e.array,t.array,n),this._dirty=!0,this},sqrLen:function(){return tE.sqrLen(this.array)},squaredLength:function(){return tE.squaredLength(this.array)},fromEuler:function(e,t){return oE.fromEuler(this,e,t)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var sE=Object.defineProperty;if(sE){var uE=oE.prototype;sE(uE,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),sE(uE,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),sE(uE,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),sE(uE,"w",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}oE.add=function(e,t,n){return tE.add(e.array,t.array,n.array),e._dirty=!0,e},oE.set=function(e,t,n,r,i){tE.set(e.array,t,n,r,i),e._dirty=!0},oE.copy=function(e,t){return tE.copy(e.array,t.array),e._dirty=!0,e},oE.calculateW=function(e,t){return tE.calculateW(e.array,t.array),e._dirty=!0,e},oE.conjugate=function(e,t){return tE.conjugate(e.array,t.array),e._dirty=!0,e},oE.identity=function(e){return tE.identity(e.array),e._dirty=!0,e},oE.invert=function(e,t){return tE.invert(e.array,t.array),e._dirty=!0,e},oE.dot=function(e,t){return tE.dot(e.array,t.array)},oE.len=function(e){return tE.length(e.array)},oE.lerp=function(e,t,n,r){return tE.lerp(e.array,t.array,n.array,r),e._dirty=!0,e},oE.slerp=function(e,t,n,r){return tE.slerp(e.array,t.array,n.array,r),e._dirty=!0,e},oE.multiply=oE.mul=function(e,t,n){return tE.multiply(e.array,t.array,n.array),e._dirty=!0,e},oE.rotateX=function(e,t,n){return tE.rotateX(e.array,t.array,n),e._dirty=!0,e},oE.rotateY=function(e,t,n){return tE.rotateY(e.array,t.array,n),e._dirty=!0,e},oE.rotateZ=function(e,t,n){return tE.rotateZ(e.array,t.array,n),e._dirty=!0,e},oE.setAxisAngle=function(e,t,n){return tE.setAxisAngle(e.array,t.array,n),e._dirty=!0,e},oE.normalize=function(e,t){return tE.normalize(e.array,t.array),e._dirty=!0,e},oE.squaredLength=oE.sqrLen=function(e){return tE.sqrLen(e.array)},oE.fromMat3=function(e,t){return tE.fromMat3(e.array,t.array),e._dirty=!0,e},oE.setAxes=function(e,t,n,r){return tE.setAxes(e.array,t.array,n.array,r.array),e._dirty=!0,e},oE.rotationTo=function(e,t,n){return tE.rotationTo(e.array,t.array,n.array),e._dirty=!0,e},oE.fromEuler=function(e,t,n){e._dirty=!0,t=t.array;var r=e.array,i=Math.cos(t[0]/2),a=Math.cos(t[1]/2),o=Math.cos(t[2]/2),s=Math.sin(t[0]/2),u=Math.sin(t[1]/2),l=Math.sin(t[2]/2);switch(n=(n||"XYZ").toUpperCase()){case"XYZ":r[0]=s*a*o+i*u*l,r[1]=i*u*o-s*a*l,r[2]=i*a*l+s*u*o,r[3]=i*a*o-s*u*l;break;case"YXZ":r[0]=s*a*o+i*u*l,r[1]=i*u*o-s*a*l,r[2]=i*a*l-s*u*o,r[3]=i*a*o+s*u*l;break;case"ZXY":r[0]=s*a*o-i*u*l,r[1]=i*u*o+s*a*l,r[2]=i*a*l+s*u*o,r[3]=i*a*o-s*u*l;break;case"ZYX":r[0]=s*a*o-i*u*l,r[1]=i*u*o+s*a*l,r[2]=i*a*l-s*u*o,r[3]=i*a*o+s*u*l;break;case"YZX":r[0]=s*a*o+i*u*l,r[1]=i*u*o+s*a*l,r[2]=i*a*l-s*u*o,r[3]=i*a*o-s*u*l;break;case"XZY":r[0]=s*a*o-i*u*l,r[1]=i*u*o-s*a*l,r[2]=i*a*l+s*u*o,r[3]=i*a*o+s*u*l}};var lE=oE,cE=kM.set,dE=kM.copy,fE=function(e,t){this.min=e||new GM(1/0,1/0,1/0),this.max=t||new GM(-1/0,-1/0,-1/0),this.vertices=null};fE.prototype={constructor:fE,updateFromVertices:function(e){if(e.length>0){var t=this.min,n=this.max,r=t.array,i=n.array;dE(r,e[0]),dE(i,e[0]);for(var a=1;a<e.length;a++){var o=e[a];o[0]<r[0]&&(r[0]=o[0]),o[1]<r[1]&&(r[1]=o[1]),o[2]<r[2]&&(r[2]=o[2]),o[0]>i[0]&&(i[0]=o[0]),o[1]>i[1]&&(i[1]=o[1]),o[2]>i[2]&&(i[2]=o[2])}t._dirty=!0,n._dirty=!0}},union:function(e){var t=this.min,n=this.max;return kM.min(t.array,t.array,e.min.array),kM.max(n.array,n.array,e.max.array),t._dirty=!0,n._dirty=!0,this},intersection:function(e){var t=this.min,n=this.max;return kM.max(t.array,t.array,e.min.array),kM.min(n.array,n.array,e.max.array),t._dirty=!0,n._dirty=!0,this},intersectBoundingBox:function(e){var t=this.min.array,n=this.max.array,r=e.min.array,i=e.max.array;return!(t[0]>i[0]||t[1]>i[1]||t[2]>i[2]||n[0]<r[0]||n[1]<r[1]||n[2]<r[2])},containBoundingBox:function(e){var t=this.min.array,n=this.max.array,r=e.min.array,i=e.max.array;return t[0]<=r[0]&&t[1]<=r[1]&&t[2]<=r[2]&&n[0]>=i[0]&&n[1]>=i[1]&&n[2]>=i[2]},containPoint:function(e){var t=this.min.array,n=this.max.array,r=e.array;return t[0]<=r[0]&&t[1]<=r[1]&&t[2]<=r[2]&&n[0]>=r[0]&&n[1]>=r[1]&&n[2]>=r[2]},isFinite:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this.min.array,t=this.max.array;return isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])&&isFinite(t[0])&&isFinite(t[1])&&isFinite(t[2])})),applyTransform:function(e){this.transformFrom(this,e)},transformFrom:function(){var e=kM.create(),t=kM.create(),n=kM.create(),r=kM.create(),i=kM.create(),a=kM.create();return function(o,s){var u=o.min.array,l=o.max.array,c=s.array;return e[0]=c[0]*u[0],e[1]=c[1]*u[0],e[2]=c[2]*u[0],t[0]=c[0]*l[0],t[1]=c[1]*l[0],t[2]=c[2]*l[0],n[0]=c[4]*u[1],n[1]=c[5]*u[1],n[2]=c[6]*u[1],r[0]=c[4]*l[1],r[1]=c[5]*l[1],r[2]=c[6]*l[1],i[0]=c[8]*u[2],i[1]=c[9]*u[2],i[2]=c[10]*u[2],a[0]=c[8]*l[2],a[1]=c[9]*l[2],a[2]=c[10]*l[2],u=this.min.array,l=this.max.array,u[0]=Math.min(e[0],t[0])+Math.min(n[0],r[0])+Math.min(i[0],a[0])+c[12],u[1]=Math.min(e[1],t[1])+Math.min(n[1],r[1])+Math.min(i[1],a[1])+c[13],u[2]=Math.min(e[2],t[2])+Math.min(n[2],r[2])+Math.min(i[2],a[2])+c[14],l[0]=Math.max(e[0],t[0])+Math.max(n[0],r[0])+Math.max(i[0],a[0])+c[12],l[1]=Math.max(e[1],t[1])+Math.max(n[1],r[1])+Math.max(i[1],a[1])+c[13],l[2]=Math.max(e[2],t[2])+Math.max(n[2],r[2])+Math.max(i[2],a[2])+c[14],this.min._dirty=!0,this.max._dirty=!0,this}}(),applyProjection:function(e){var t=this.min.array,n=this.max.array,r=e.array,i=t[0],a=t[1],o=t[2],s=n[0],u=n[1],l=t[2],c=n[0],d=n[1],f=n[2];if(1===r[15])t[0]=r[0]*i+r[12],t[1]=r[5]*a+r[13],n[2]=r[10]*o+r[14],n[0]=r[0]*c+r[12],n[1]=r[5]*d+r[13],t[2]=r[10]*f+r[14];else{var h=-1/o;t[0]=r[0]*i*h,t[1]=r[5]*a*h,n[2]=(r[10]*o+r[14])*h,h=-1/l,n[0]=r[0]*s*h,n[1]=r[5]*u*h,h=-1/f,t[2]=(r[10]*f+r[14])*h}return this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var e=this.vertices;if(!e){e=[];for(var t=0;t<8;t++)e[t]=kM.fromValues(0,0,0);this.vertices=e}var n=this.min.array,r=this.max.array;return cE(e[0],n[0],n[1],n[2]),cE(e[1],n[0],r[1],n[2]),cE(e[2],r[0],n[1],n[2]),cE(e[3],r[0],r[1],n[2]),cE(e[4],n[0],n[1],r[2]),cE(e[5],n[0],r[1],r[2]),cE(e[6],r[0],n[1],r[2]),cE(e[7],r[0],r[1],r[2]),this},copy:function(e){var t=this.min,n=this.max;return dE(t.array,e.min.array),dE(n.array,e.max.array),t._dirty=!0,n._dirty=!0,this},clone:function(){var e=new fE;return e.copy(this),e}};var hE=fE,pE=0,mE=dI.extend({name:"",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},(function(){this.name||(this.name=(this.type||"NODE")+"_"+pE++),this.position||(this.position=new GM),this.rotation||(this.rotation=new lE),this.scale||(this.scale=new GM(1,1,1)),this.worldTransform=new aE,this.localTransform=new aE,this._children=[]}),{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(e){var t=this._scene;if(t){var n=t._nodeRepository;delete n[this.name],n[e]=this}this.name=e},add:function(e){var t=e._parent;if(t!==this){t&&t.remove(e),e._parent=this,this._children.push(e);var n=this._scene;n&&n!==e.scene&&e.traverse(this._addSelfToScene,this),e._needsUpdateWorldTransform=!0}},remove:function(e){var t=this._children,n=t.indexOf(e);n<0||(t.splice(n,1),e._parent=null,this._scene&&e.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var e=this._children,t=0;t<e.length;t++)e[t]._parent=null,this._scene&&e[t].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(e){e._scene.removeFromScene(e),e._scene=null},_addSelfToScene:function(e){this._scene.addToScene(e),e._scene=this._scene},isAncestor:function(e){for(var t=e._parent;t;){if(t===this)return!0;t=t._parent}return!1},children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},getChildByName:function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},getDescendantByName:function(e){for(var t=this._children,n=0;n<t.length;n++){var r=t[n];if(r.name===e)return r;var i=r.getDescendantByName(e);if(i)return i}},queryNode:function(e){if(e){for(var t=e.split("/"),n=this,r=0;r<t.length;r++){var i=t[r];if(i){for(var a=!1,o=n._children,s=0;s<o.length;s++){var u=o[s];if(u.name===i){n=u,a=!0;break}}if(!a)return}}return n}},getPath:function(e){if(!this._parent)return"/";for(var t=this._parent,n=this.name;t._parent&&(n=t.name+"/"+n,t._parent!=e);)t=t._parent;return!t._parent&&e?null:n},traverse:function(e,t){e.call(t,this);for(var n=this._children,r=0,i=n.length;r<i;r++)n[r].traverse(e,t)},eachChild:function(e,t){for(var n=this._children,r=0,i=n.length;r<i;r++){var a=n[r];e.call(t,a,r)}},setLocalTransform:function(e){SM.copy(this.localTransform.array,e.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(e){var t=e?null:this.scale;this.localTransform.decomposeMatrix(t,this.rotation,this.position)},setWorldTransform:function(e){SM.copy(this.worldTransform.array,e.array),this.decomposeWorldTransform()},decomposeWorldTransform:function(){var e=SM.create();return function(t){var n=this.localTransform,r=this.worldTransform;this._parent?(SM.invert(e,this._parent.worldTransform.array),SM.multiply(n.array,e,r.array)):SM.copy(n.array,r.array);var i=t?null:this.scale;n.decomposeMatrix(i,this.rotation,this.position)}}(),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var e=this.position,t=this.rotation,n=this.scale;if(this.transformNeedsUpdate()){var r=this.localTransform.array;SM.fromRotationTranslation(r,t.array,e.array),SM.scale(r,r,n.array),t._dirty=!1,n._dirty=!1,e._dirty=!1,this._needsUpdateWorldTransform=!0}},_updateWorldTransformTopDown:function(){var e=this.localTransform.array,t=this.worldTransform.array;this._parent?SM.multiplyAffine(t,this._parent.worldTransform.array,e):SM.copy(t,e)},updateWorldTransform:function(){for(var e=this;e&&e.getParent()&&e.getParent().transformNeedsUpdate();)e=e.getParent();e.update()},update:function(e){this.autoUpdateLocalTransform?this.updateLocalTransform():e=!0,(e||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),e=!0,this._needsUpdateWorldTransform=!1);for(var t=this._children,n=0,r=t.length;n<r;n++)t[n].update(e)},getBoundingBox:function(){function e(e){return!e.invisible&&e.geometry}var t=new hE,n=new aE,r=new aE;return function(i,a){return a=a||new hE,i=i||e,this._parent?aE.invert(r,this._parent.worldTransform):aE.identity(r),this.traverse((function(e){e.geometry&&e.geometry.boundingBox&&(t.copy(e.geometry.boundingBox),aE.multiply(n,r,e.worldTransform),t.applyTransform(n),a.union(t))}),this,e),a}}(),getWorldPosition:function(e){this.transformNeedsUpdate()&&this.updateWorldTransform();var t=this.worldTransform.array;if(e){var n=e.array;return n[0]=t[12],n[1]=t[13],n[2]=t[14],e}return new GM(t[12],t[13],t[14])},clone:function(){var e=new this.constructor,t=this._children;e.setName(this.name),e.position.copy(this.position),e.rotation.copy(this.rotation),e.scale.copy(this.scale);for(var n=0;n<t.length;n++)e.add(t[n].clone());return e},rotateAround:function(){var e=new GM,t=new aE;return function(n,r,i){e.copy(this.position).subtract(n);var a=this.localTransform;a.identity(),a.translate(n),a.rotate(i,r),t.fromRotationTranslation(this.rotation,e),a.multiply(t),a.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}}(),lookAt:function(){var e=new aE;return function(t,n){e.lookAt(this.position,t,n||this.localTransform.y).invert(),this.setLocalTransform(e),this.target=t}}()}),gE=mE,vE=gE.extend({material:null,geometry:null,mode:_I,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:AI,frontFace:NI,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&this.geometry.vertexCount>0},beforeRender:function(e){},afterRender:function(e,t){},getBoundingBox:function(e,t){return t=gE.prototype.getBoundingBox.call(this,e,t),this.geometry&&this.geometry.boundingBox&&t.union(this.geometry.boundingBox),t},clone:function(){var e=["castShadow","receiveShadow","mode","culling","cullFace","frontFace","frustumCulling","renderOrder","lineWidth","ignorePicking","ignorePreZ","ignoreGBuffer"];return function(){var t=gE.prototype.clone.call(this);t.geometry=this.geometry,t.material=this.material;for(var n=0;n<e.length;n++){var r=e[n];t[r]!==this[r]&&(t[r]=this[r])}return t}}()});vE.POINTS=yI,vE.LINES=xI,vE.LINE_LOOP=bI,vE.LINE_STRIP=wI,vE.TRIANGLES=_I,vE.TRIANGLE_STRIP=SI,vE.TRIANGLE_FAN=CI,vE.BACK=AI,vE.FRONT=II,vE.FRONT_AND_BACK=MI,vE.CW=EI,vE.CCW=NI;var yE=vE,xE=dI.extend({scene:null,camera:null,renderer:null},(function(){this._ray=new YM,this._ndc=new HA}),{pick:function(e,t,n){return this.pickAll(e,t,[],n)[0]||null},pickAll:function(e,t,n,r){return this.renderer.screenToNDC(e,t,this._ndc),this.camera.castRay(this._ndc,this._ray),n=n||[],this._intersectNode(this.scene,n,r||!1),n.sort(this._intersectionCompareFunc),n},_intersectNode:function(e,t,n){e instanceof yE&&e.isRenderable()&&(e.ignorePicking&&!n||!(e.mode===_I&&e.geometry.isUseIndices()||e.geometry.pickByRay||e.geometry.pick)||this._intersectRenderable(e,t));for(var r=0;r<e._children.length;r++)this._intersectNode(e._children[r],t,n)},_intersectRenderable:function(){var e=new GM,t=new GM,n=new GM,r=new YM,i=new aE;return function(a,o){var s=a.isSkinnedMesh();r.copy(this._ray),aE.invert(i,a.worldTransform),s||r.applyTransform(i);var u=a.geometry,l=s?a.skeleton.boundingBox:u.boundingBox;if(!l||r.intersectBoundingBox(l))if(u.pick)u.pick(this._ndc.x,this._ndc.y,this.renderer,this.camera,a,o);else if(u.pickByRay)u.pickByRay(r,a,o);else{var c,d,f=a.cullFace===AI&&a.frontFace===NI||a.cullFace===II&&a.frontFace===EI,h=u.indices,p=u.attributes.position,m=u.attributes.weight,g=u.attributes.joint,v=[];if(p&&p.value&&h){if(s){d=a.skeleton.getSubSkinMatrices(a.__uid__,a.joints);for(var y=0;y<a.joints.length;y++){v[y]=v[y]||[];for(var x=0;x<16;x++)v[y][x]=d[16*y+x]}var b=[],w=[],_=[],S=[],C=[],k=u.attributes.skinnedPosition;k&&k.value||(u.createAttribute("skinnedPosition","f",3),(k=u.attributes.skinnedPosition).init(u.vertexCount));for(y=0;y<u.vertexCount;y++){p.get(y,b),m.get(y,w),g.get(y,_),w[3]=1-w[0]-w[1]-w[2],kM.set(S,0,0,0);for(x=0;x<4;x++)_[x]>=0&&w[x]>1e-4&&(kM.transformMat4(C,b,v[_[x]]),kM.scaleAndAdd(S,S,C,w[x]));k.set(y,S)}}for(y=0;y<h.length;y+=3){var D=h[y],T=h[y+1],I=h[y+2],A=s?u.attributes.skinnedPosition:p;if(A.get(D,e.array),A.get(T,t.array),A.get(I,n.array),c=f?r.intersectTriangle(e,t,n,a.culling):r.intersectTriangle(e,n,t,a.culling)){var M=new GM;s?GM.copy(M,c):GM.transformMat4(M,c,a.worldTransform),o.push(new xE.Intersection(c,M,a,[D,T,I],y/3,GM.dist(M,this._ray.origin)))}}}}}}(),_intersectionCompareFunc:function(e,t){return e.distance-t.distance}});xE.Intersection=function(e,t,n,r,i,a){this.point=e,this.pointWorld=t,this.target=n,this.triangle=r,this.triangleIndex=i,this.distance=a};var bE=xE,wE="__dt__",_E=function(){this._contextId=0,this._caches=[],this._context={}};(_E.prototype={use:function(e,t){var n=this._caches;n[e]||(n[e]={},t&&(n[e]=t())),this._contextId=e,this._context=n[e]},put:function(e,t){this._context[e]=t},get:function(e){return this._context[e]},dirty:function(e){var t=wE+(e=e||"");this.put(t,!0)},dirtyAll:function(e){for(var t=wE+(e=e||""),n=this._caches,r=0;r<n.length;r++)n[r]&&(n[r][t]=!0)},fresh:function(e){var t=wE+(e=e||"");this.put(t,!1)},freshAll:function(e){for(var t=wE+(e=e||""),n=this._caches,r=0;r<n.length;r++)n[r]&&(n[r][t]=!1)},isDirty:function(e){var t=wE+(e=e||""),n=this._context;return!n.hasOwnProperty(t)||!0===n[t]},deleteContext:function(e){delete this._caches[e],this._context={}},delete:function(e){delete this._context[e]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(e,t){Object.keys(this._caches).forEach((function(n){e&&e.call(t,n)}))},miss:function(e){return!this._context.hasOwnProperty(e)}}).constructor=_E;var SE=_E,CE=dI.extend({width:512,height:512,type:PI,format:WI,wrapS:eA,wrapT:eA,minFilter:QI,magFilter:XI,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},(function(){this._cache=new SE}),{getWebGLTexture:function(e){var t=e.gl,n=this._cache;return n.use(e.__uid__),n.miss("webgl_texture")&&n.put("webgl_texture",t.createTexture()),this.dynamic?this.update(e):n.isDirty()&&(this.update(e),n.fresh()),n.get("webgl_texture")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(e){},updateCommon:function(e){var t=e.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,this.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,this.unpackAlignment),this.format===zI&&(this.useMipmap=!1);var n=e.getGLExtension("EXT_sRGB");this.format!==CE.SRGB||n||(this.format=CE.RGB),this.format!==CE.SRGB_ALPHA||n||(this.format=CE.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?tA:this.wrapS},getAvailableWrapT:function(){return this.NPOT?tA:this.wrapT},getAvailableMinFilter:function(){var e=this.minFilter;return this.NPOT||!this.useMipmap?e===qI||e===KI?GI:e===QI||e===YI?XI:e:e},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(e){--e;for(var t=1;t<32;t<<=1)e|=e>>t;return e+1},dispose:function(e){var t=this._cache;t.use(e.__uid__);var n=t.get("webgl_texture");n&&e.gl.deleteTexture(n),t.deleteContext(e.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(CE.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e}}),Object.defineProperty(CE.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e}}),CE.BYTE=RI,CE.UNSIGNED_BYTE=PI,CE.SHORT=OI,CE.UNSIGNED_SHORT=LI,CE.INT=FI,CE.UNSIGNED_INT=ZI,CE.FLOAT=BI,CE.HALF_FLOAT=36193,CE.UNSIGNED_INT_24_8_WEBGL=34042,CE.DEPTH_COMPONENT=zI,CE.DEPTH_STENCIL=aA,CE.ALPHA=VI,CE.RGB=jI,CE.RGBA=WI,CE.LUMINANCE=UI,CE.LUMINANCE_ALPHA=HI,CE.SRGB=35904,CE.SRGB_ALPHA=35906,CE.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,CE.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,CE.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,CE.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,CE.NEAREST=GI,CE.LINEAR=XI,CE.NEAREST_MIPMAP_NEAREST=qI,CE.LINEAR_MIPMAP_NEAREST=YI,CE.NEAREST_MIPMAP_LINEAR=KI,CE.LINEAR_MIPMAP_LINEAR=QI,CE.REPEAT=eA,CE.CLAMP_TO_EDGE=tA,CE.MIRRORED_REPEAT=nA;var kE=CE,DE=yE.extend({skeleton:null,joints:null},(function(){this.joints||(this.joints=[])}),{offsetMatrix:null,isInstancedMesh:function(){return!1},isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&this.joints.length>0)},clone:function(){var e=yE.prototype.clone.call(this);return e.skeleton=this.skeleton,this.joints&&(e.joints=this.joints.slice()),e}});DE.POINTS=yI,DE.LINES=xI,DE.LINE_LOOP=bI,DE.LINE_STRIP=wI,DE.TRIANGLES=_I,DE.TRIANGLE_STRIP=SI,DE.TRIANGLE_FAN=CI,DE.BACK=AI,DE.FRONT=II,DE.FRONT_AND_BACK=MI,DE.CW=EI,DE.CCW=NI;var TE=DE,IE={isPowerOfTwo:function(e){return 0===(e&e-1)},nextPowerOfTwo:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e},nearestPowerOfTwo:function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}},AE=IE,ME=AE.isPowerOfTwo;function EE(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}var NE=kE.extend((function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}}),{textureType:"texture2D",update:function(e){var t=e.gl;t.bindTexture(t.TEXTURE_2D,this._cache.get("webgl_texture")),this.updateCommon(e);var n=this.format,r=this.type,i=!(!this.convertToPOT||this.mipmaps.length||!this.image||this.wrapS!==kE.REPEAT&&this.wrapT!==kE.REPEAT||!this.NPOT);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,i?this.wrapS:this.getAvailableWrapS()),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,i?this.wrapT:this.getAvailableWrapT()),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,i?this.magFilter:this.getAvailableMagFilter()),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,i?this.minFilter:this.getAvailableMinFilter());var a=e.getGLExtension("EXT_texture_filter_anisotropic");(a&&this.anisotropic>1&&t.texParameterf(t.TEXTURE_2D,a.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===r)&&(e.getGLExtension("OES_texture_half_float")||(r=BI));if(this.mipmaps.length)for(var o=this.width,s=this.height,u=0;u<this.mipmaps.length;u++){var l=this.mipmaps[u];this._updateTextureData(t,l,u,o,s,n,r,!1),o/=2,s/=2}else this._updateTextureData(t,this,0,this.width,this.height,n,r,i),!this.useMipmap||this.NPOT&&!i||t.generateMipmap(t.TEXTURE_2D);t.bindTexture(t.TEXTURE_2D,null)},_updateTextureData:function(e,t,n,r,i,a,o,s){if(t.image){var u=t.image;s&&(this._potCanvas=function(e,t){var n=EE(e.width),r=EE(e.height);return(t=t||document.createElement("canvas")).width=n,t.height=r,t.getContext("2d").drawImage(e.image,0,0,n,r),t}(this,this._potCanvas),u=this._potCanvas),e.texImage2D(e.TEXTURE_2D,n,a,a,o,u)}else a<=kE.COMPRESSED_RGBA_S3TC_DXT5_EXT&&a>=kE.COMPRESSED_RGB_S3TC_DXT1_EXT?e.compressedTexImage2D(e.TEXTURE_2D,n,a,r,i,0,t.pixels):e.texImage2D(e.TEXTURE_2D,n,a,r,i,0,a,o,t.pixels)},generateMipmap:function(e){var t=e.gl;this.useMipmap&&!this.NPOT&&(t.bindTexture(t.TEXTURE_2D,this._cache.get("webgl_texture")),t.generateMipmap(t.TEXTURE_2D))},isPowerOfTwo:function(){return ME(this.width)&&ME(this.height)},isRenderable:function(){return this.image?this.image.width>0&&this.image.height>0:!(!this.width||!this.height)},bind:function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,this.getWebGLTexture(e))},unbind:function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,null)},load:function(e,t){var n=pA.createImage();t&&(n.crossOrigin=t);var r=this;return n.onload=function(){r.dirty(),r.trigger("success",r)},n.onerror=function(){r.trigger("error",r)},n.src=e,this.image=n,this}});Object.defineProperty(NE.prototype,"width",{get:function(){return this.image?this.image.width:this._width},set:function(e){this.image?console.warn("Texture from image can't set width"):(this._width!==e&&this.dirty(),this._width=e)}}),Object.defineProperty(NE.prototype,"height",{get:function(){return this.image?this.image.height:this._height},set:function(e){this.image?console.warn("Texture from image can't set height"):(this._height!==e&&this.dirty(),this._height=e)}});var RE=NE;function PE(e){return{byte:pA.Int8Array,ubyte:pA.Uint8Array,short:pA.Int16Array,ushort:pA.Uint16Array}[e]||pA.Float32Array}function OE(e){return"attr_"+e}function LE(e,t,n,r){switch(this.name=e,this.type=t,this.size=n,this.semantic=r||"",this.value=null,n){case 1:this.get=function(e){return this.value[e]},this.set=function(e,t){this.value[e]=t},this.copy=function(e,t){this.value[e]=this.value[e]};break;case 2:this.get=function(e,t){var n=this.value;return t[0]=n[2*e],t[1]=n[2*e+1],t},this.set=function(e,t){var n=this.value;n[2*e]=t[0],n[2*e+1]=t[1]},this.copy=function(e,t){var n=this.value;t*=2,n[e*=2]=n[t],n[e+1]=n[t+1]};break;case 3:this.get=function(e,t){var n=3*e,r=this.value;return t[0]=r[n],t[1]=r[n+1],t[2]=r[n+2],t},this.set=function(e,t){var n=3*e,r=this.value;r[n]=t[0],r[n+1]=t[1],r[n+2]=t[2]},this.copy=function(e,t){var n=this.value;t*=3,n[e*=3]=n[t],n[e+1]=n[t+1],n[e+2]=n[t+2]};break;case 4:this.get=function(e,t){var n=this.value,r=4*e;return t[0]=n[r],t[1]=n[r+1],t[2]=n[r+2],t[3]=n[r+3],t},this.set=function(e,t){var n=this.value,r=4*e;n[r]=t[0],n[r+1]=t[1],n[r+2]=t[2],n[r+3]=t[3]},this.copy=function(e,t){var n=this.value;t*=4,n[e*=4]=n[t],n[e+1]=n[t+1],n[e+2]=n[t+2],n[e+3]=n[t+3]}}}function FE(e,t,n,r,i){this.name=e,this.type=t,this.buffer=n,this.size=r,this.semantic=i,this.symbol="",this.needsRemove=!1}function ZE(e){this.buffer=e,this.count=0}LE.prototype.init=function(e){if(!this.value||this.value.length!==e*this.size){var t=PE(this.type);this.value=new t(e*this.size)}},LE.prototype.fromArray=function(e){var t,n=PE(this.type);if(e[0]&&e[0].length){var r=0,i=this.size;t=new n(e.length*i);for(var a=0;a<e.length;a++)for(var o=0;o<i;o++)t[r++]=e[a][o]}else t=new n(e);this.value=t},LE.prototype.clone=function(e){var t=new LE(this.name,this.type,this.size,this.semantic);return e&&console.warn("todo"),t};var BE=dI.extend((function(){return{attributes:{},indices:null,dynamic:!0,_enabledAttributes:null,__used:0}}),(function(){this._cache=new SE,this._attributeList=Object.keys(this.attributes),this.__vaoCache={}}),{mainAttribute:"",pick:null,pickByRay:null,dirty:function(){for(var e=this.getEnabledAttributes(),t=0;t<e.length;t++)this.dirtyAttribute(e[t]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirty("any")},dirtyIndices:function(){this._cache.dirtyAll("indices")},dirtyAttribute:function(e){this._cache.dirtyAll(OE(e)),this._cache.dirtyAll("attributes")},getTriangleIndices:function(e,t){if(e<this.triangleCount&&e>=0){t||(t=[]);var n=this.indices;return t[0]=n[3*e],t[1]=n[3*e+1],t[2]=n[3*e+2],t}},setTriangleIndices:function(e,t){var n=this.indices;n[3*e]=t[0],n[3*e+1]=t[1],n[3*e+2]=t[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(e){var t,n=this.vertexCount>65535?pA.Uint32Array:pA.Uint16Array;if(e[0]&&e[0].length){var r=0;t=new n(3*e.length);for(var i=0;i<e.length;i++)for(var a=0;a<3;a++)t[r++]=e[i][a]}else t=new n(e);this.indices=t},createAttribute:function(e,t,n,r){var i=new LE(e,t,n,r);return this.attributes[e]&&this.removeAttribute(e),this.attributes[e]=i,this._attributeList.push(e),i},removeAttribute:function(e){var t=this._attributeList,n=t.indexOf(e);return n>=0&&(t.splice(n,1),delete this.attributes[e],!0)},getAttribute:function(e){return this.attributes[e]},getEnabledAttributes:function(){var e=this._enabledAttributes,t=this._attributeList;if(e)return e;for(var n=[],r=this.vertexCount,i=0;i<t.length;i++){var a=t[i],o=this.attributes[a];o.value&&o.value.length===r*o.size&&n.push(a)}return this._enabledAttributes=n,n},getBufferChunks:function(e){var t=this._cache;t.use(e.__uid__);var n=t.isDirty("attributes"),r=t.isDirty("indices");if(n||r){this._updateBuffer(e.gl,n,r);for(var i=this.getEnabledAttributes(),a=0;a<i.length;a++)t.fresh(OE(i[a]));t.fresh("attributes"),t.fresh("indices")}return t.fresh("any"),t.get("chunks")},_updateBuffer:function(e,t,n){var r=this._cache,i=r.get("chunks"),a=!1;i||((i=[])[0]={attributeBuffers:[],indicesBuffer:null},r.put("chunks",i),a=!0);var o=i[0],s=o.attributeBuffers,u=o.indicesBuffer;if(t||a){var l=this.getEnabledAttributes(),c={};if(!a)for(var d=0;d<s.length;d++)c[s[d].name]=s[d];for(var f=0;f<l.length;f++){var h,p,m=l[f],g=this.attributes[m];a||(h=c[m]),p=h?h.buffer:e.createBuffer(),r.isDirty(OE(m))&&(e.bindBuffer(e.ARRAY_BUFFER,p),e.bufferData(e.ARRAY_BUFFER,g.value,this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW)),s[f]=new FE(m,g.type,p,g.size,g.semantic)}for(d=f;d<s.length;d++)e.deleteBuffer(s[d].buffer);s.length=f}this.isUseIndices()&&(n||a)&&(u||(u=new ZE(e.createBuffer()),o.indicesBuffer=u),u.count=this.indices.length,e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,u.buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW))},dispose:function(e){var t=this._cache;t.use(e.__uid__);var n=t.get("chunks");if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=0;a<i.attributeBuffers.length;a++){var o=i.attributeBuffers[a];e.gl.deleteBuffer(o.buffer)}i.indicesBuffer&&e.gl.deleteBuffer(i.indicesBuffer.buffer)}if(this.__vaoCache){var s=e.getGLExtension("OES_vertex_array_object");for(var u in this.__vaoCache){var l=this.__vaoCache[u].vao;l&&s.deleteVertexArrayOES(l)}}this.__vaoCache={},t.deleteContext(e.__uid__)}});Object.defineProperty&&(Object.defineProperty(BE.prototype,"vertexCount",{enumerable:!1,get:function(){var e=this.attributes[this.mainAttribute];return e||(e=this.attributes[this._attributeList[0]]),e&&e.value?e.value.length/e.size:0}}),Object.defineProperty(BE.prototype,"triangleCount",{enumerable:!1,get:function(){var e=this.indices;return e?e.length/3:0}})),BE.STATIC_DRAW=DI,BE.DYNAMIC_DRAW=TI,BE.STREAM_DRAW=kI,BE.AttributeBuffer=FE,BE.IndicesBuffer=ZE,BE.Attribute=LE;var zE=BE,VE=kM.create,jE=kM.add,WE=kM.set,UE=zE.Attribute,HE=zE.extend((function(){return{attributes:{position:new UE("position","float",3,"POSITION"),texcoord0:new UE("texcoord0","float",2,"TEXCOORD_0"),texcoord1:new UE("texcoord1","float",2,"TEXCOORD_1"),normal:new UE("normal","float",3,"NORMAL"),tangent:new UE("tangent","float",4,"TANGENT"),color:new UE("color","float",4,"COLOR"),weight:new UE("weight","float",3,"WEIGHT"),joint:new UE("joint","float",4,"JOINT"),barycentric:new UE("barycentric","float",3,null)},boundingBox:null}}),{mainAttribute:"position",updateBoundingBox:function(){var e=this.boundingBox;e||(e=this.boundingBox=new hE);var t=this.attributes.position.value;if(t&&t.length){var n=e.min,r=e.max,i=n.array,a=r.array;kM.set(i,t[0],t[1],t[2]),kM.set(a,t[0],t[1],t[2]);for(var o=3;o<t.length;){var s=t[o++],u=t[o++],l=t[o++];s<i[0]&&(i[0]=s),u<i[1]&&(i[1]=u),l<i[2]&&(i[2]=l),s>a[0]&&(a[0]=s),u>a[1]&&(a[1]=u),l>a[2]&&(a[2]=l)}n._dirty=!0,r._dirty=!0}},generateVertexNormals:function(){if(this.vertexCount){var e=this.indices,t=this.attributes,n=t.position.value,r=t.normal.value;if(r&&r.length===n.length)for(var i=0;i<r.length;i++)r[i]=0;else r=t.normal.value=new pA.Float32Array(n.length);for(var a,o,s,u=VE(),l=VE(),c=VE(),d=VE(),f=VE(),h=VE(),p=e?e.length:this.vertexCount,m=0;m<p;){e?(a=e[m++],o=e[m++],s=e[m++]):(a=m++,o=m++,s=m++),WE(u,n[3*a],n[3*a+1],n[3*a+2]),WE(l,n[3*o],n[3*o+1],n[3*o+2]),WE(c,n[3*s],n[3*s+1],n[3*s+2]),kM.sub(d,u,l),kM.sub(f,l,c),kM.cross(h,d,f);for(i=0;i<3;i++)r[3*a+i]=r[3*a+i]+h[i],r[3*o+i]=r[3*o+i]+h[i],r[3*s+i]=r[3*s+i]+h[i]}for(i=0;i<r.length;)WE(h,r[i],r[i+1],r[i+2]),kM.normalize(h,h),r[i++]=h[0],r[i++]=h[1],r[i++]=h[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.indices,t=this.attributes,n=t.position.value,r=t.normal.value,i=VE(),a=VE(),o=VE(),s=VE(),u=VE(),l=VE();r||(r=t.normal.value=new Float32Array(n.length));for(var c,d,f,h=e?e.length:this.vertexCount,p=0;p<h;){e?(c=e[p++],d=e[p++],f=e[p++]):(c=p++,d=p++,f=p++),WE(i,n[3*c],n[3*c+1],n[3*c+2]),WE(a,n[3*d],n[3*d+1],n[3*d+2]),WE(o,n[3*f],n[3*f+1],n[3*f+2]),kM.sub(s,i,a),kM.sub(u,a,o),kM.cross(l,s,u),kM.normalize(l,l);for(var m=0;m<3;m++)r[3*c+m]=l[m],r[3*d+m]=l[m],r[3*f+m]=l[m]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var e=this.vertexCount,t=this.attributes;t.tangent.value||(t.tangent.value=new Float32Array(4*e));var n=t.texcoord0.value,r=t.position.value,i=t.tangent.value,a=t.normal.value;if(n){for(var o=[],s=[],u=0;u<e;u++)o[u]=[0,0,0],s[u]=[0,0,0];var l,c,d,f=[0,0,0],h=[0,0,0],p=this.indices,m=p?p.length:this.vertexCount;for(u=0;u<m;){p?(l=p[u++],c=p[u++],d=p[u++]):(l=u++,c=u++,d=u++);var g=n[2*l],v=n[2*c],y=n[2*d],x=n[2*l+1],b=n[2*c+1],w=n[2*d+1],_=r[3*l],S=r[3*c],C=r[3*d],k=r[3*l+1],D=r[3*c+1],T=r[3*d+1],I=r[3*l+2],A=S-_,M=C-_,E=D-k,N=T-k,R=r[3*c+2]-I,P=r[3*d+2]-I,O=v-g,L=y-g,F=b-x,Z=w-x,B=1/(O*Z-F*L);f[0]=(Z*A-F*M)*B,f[1]=(Z*E-F*N)*B,f[2]=(Z*R-F*P)*B,h[0]=(O*M-L*A)*B,h[1]=(O*N-L*E)*B,h[2]=(O*P-L*R)*B,jE(o[l],o[l],f),jE(o[c],o[c],f),jE(o[d],o[d],f),jE(s[l],s[l],h),jE(s[c],s[c],h),jE(s[d],s[d],h)}var z=VE(),V=VE(),j=VE();for(u=0;u<e;u++){j[0]=a[3*u],j[1]=a[3*u+1],j[2]=a[3*u+2];var W=o[u];kM.scale(z,j,kM.dot(j,W)),kM.sub(z,W,z),kM.normalize(z,z),kM.cross(V,j,W),i[4*u]=z[0],i[4*u+1]=z[1],i[4*u+2]=z[2],i[4*u+3]=kM.dot(V,s[u])<0?-1:1}this.dirty()}else console.warn("Geometry without texcoords can't generate tangents.")}},isUniqueVertex:function(){return!this.isUseIndices()||this.vertexCount===this.indices.length},generateUniqueVertex:function(){if(this.vertexCount&&this.indices){this.indices.length>65535&&(this.indices=new pA.Uint32Array(this.indices));for(var e=this.attributes,t=this.indices,n=this.getEnabledAttributes(),r={},i=0;i<n.length;i++){r[u=n[i]]=e[u].value,e[u].init(this.indices.length)}for(var a=0,o=0;o<t.length;o++){var s=t[o];for(i=0;i<n.length;i++)for(var u,l=e[u=n[i]].value,c=e[u].size,d=0;d<c;d++)l[a*c+d]=r[u][s*c+d];t[o]=a,a++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.attributes,t=e.barycentric.value,n=this.indices;if(!t||t.length!==3*n.length){t=e.barycentric.value=new Float32Array(3*n.length);for(var r=0;r<(n?n.length:this.vertexCount/3);)for(var i=0;i<3;i++){t[3*(n?n[r++]:3*r+i)+i]=1}this.dirty()}}},applyTransform:function(e){var t=this.attributes,n=t.position.value,r=t.normal.value,i=t.tangent.value;e=e.array;var a=SM.create();SM.invert(a,e),SM.transpose(a,a);var o=kM.transformMat4,s=kM.forEach;s(n,3,0,null,o,e),r&&s(r,3,0,null,o,a),i&&s(i,4,0,null,o,a),this.boundingBox&&this.updateBoundingBox()},dispose:function(e){var t=this._cache;t.use(e.__uid__);var n=t.get("chunks");if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=0;a<i.attributeBuffers.length;a++){var o=i.attributeBuffers[a];e.gl.deleteBuffer(o.buffer)}i.indicesBuffer&&e.gl.deleteBuffer(i.indicesBuffer.buffer)}if(this.__vaoCache){var s=e.getGLExtension("OES_vertex_array_object");for(var u in this.__vaoCache){var l=this.__vaoCache[u].vao;l&&s.deleteVertexArrayOES(l)}}this.__vaoCache={},t.deleteContext(e.__uid__)}});HE.STATIC_DRAW=zE.STATIC_DRAW,HE.DYNAMIC_DRAW=zE.DYNAMIC_DRAW,HE.STREAM_DRAW=zE.STREAM_DRAW,HE.AttributeBuffer=zE.AttributeBuffer,HE.IndicesBuffer=zE.IndicesBuffer,HE.Attribute=UE;var GE=HE,XE="@export clay.header.",qE="@end",YE=":unconfigurable;",KE=[XE+"directional_light","uniform vec3 directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]"+YE,"uniform vec3 directionalLightColor[DIRECTIONAL_LIGHT_COUNT]"+YE,qE,XE+"ambient_light","uniform vec3 ambientLightColor[AMBIENT_LIGHT_COUNT]"+YE,qE,XE+"ambient_sh_light","uniform vec3 ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]"+YE,"uniform vec3 ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]"+YE,"vec3 calcAmbientSHLight(int idx, vec3 N) {\n int offset = 9 * idx;\n return ambientSHLightCoefficients[0]\n + ambientSHLightCoefficients[1] * N.x\n + ambientSHLightCoefficients[2] * N.y\n + ambientSHLightCoefficients[3] * N.z\n + ambientSHLightCoefficients[4] * N.x * N.z\n + ambientSHLightCoefficients[5] * N.z * N.y\n + ambientSHLightCoefficients[6] * N.y * N.x\n + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)\n + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);\n}",qE,XE+"ambient_cubemap_light","uniform vec3 ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]"+YE,"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]"+YE,"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]"+YE,qE,XE+"point_light","uniform vec3 pointLightPosition[POINT_LIGHT_COUNT]"+YE,"uniform float pointLightRange[POINT_LIGHT_COUNT]"+YE,"uniform vec3 pointLightColor[POINT_LIGHT_COUNT]"+YE,qE,XE+"spot_light","uniform vec3 spotLightPosition[SPOT_LIGHT_COUNT]"+YE,"uniform vec3 spotLightDirection[SPOT_LIGHT_COUNT]"+YE,"uniform float spotLightRange[SPOT_LIGHT_COUNT]"+YE,"uniform float spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]"+YE,"uniform float spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]"+YE,"uniform float spotLightFalloffFactor[SPOT_LIGHT_COUNT]"+YE,"uniform vec3 spotLightColor[SPOT_LIGHT_COUNT]"+YE,qE].join("\n");bM.import(KE);var QE=gE.extend((function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0}}),{type:"",clone:function(){var e=gE.prototype.clone.call(this);return e.color=Array.prototype.slice.call(this.color),e.intensity=this.intensity,e.castShadow=this.castShadow,e.shadowResolution=this.shadowResolution,e}}),JE=QE,$E=function(e,t){this.normal=e||new GM(0,1,0),this.distance=t||0};$E.prototype={constructor:$E,distanceToPoint:function(e){return kM.dot(e.array,this.normal.array)-this.distance},projectPoint:function(e,t){t||(t=new GM);var n=this.distanceToPoint(e);return kM.scaleAndAdd(t.array,e.array,this.normal.array,-n),t._dirty=!0,t},normalize:function(){var e=1/kM.len(this.normal.array);kM.scale(this.normal.array,e),this.distance*=e},intersectFrustum:function(e){for(var t=e.vertices,n=this.normal.array,r=kM.dot(t[0].array,n)>this.distance,i=1;i<8;i++)if(kM.dot(t[i].array,n)>this.distance!=r)return!0},intersectLine:function(){var e=kM.create();return function(t,n,r){var i=this.distanceToPoint(t),a=this.distanceToPoint(n);if(i>0&&a>0||i<0&&a<0)return null;var o=this.normal.array,s=this.distance,u=t.array;kM.sub(e,n.array,t.array),kM.normalize(e,e);var l=kM.dot(o,e);if(0===l)return null;r||(r=new GM);var c=(kM.dot(o,u)-s)/l;return kM.scaleAndAdd(r.array,u,e,-c),r._dirty=!0,r}}(),applyTransform:function(){var e=SM.create(),t=QM.create(),n=QM.create();return n[3]=1,function(r){r=r.array,kM.scale(n,this.normal.array,this.distance),QM.transformMat4(n,n,r),this.distance=kM.dot(n,this.normal.array),SM.invert(e,r),SM.transpose(e,e),t[3]=0,kM.copy(t,this.normal.array),QM.transformMat4(t,t,e),kM.copy(this.normal.array,t)}}(),copy:function(e){kM.copy(this.normal.array,e.normal.array),this.normal._dirty=!0,this.distance=e.distance},clone:function(){var e=new $E;return e.copy(this),e}};var eN=$E,tN=kM.set,nN=kM.copy,rN=kM.transformMat4,iN=Math.min,aN=Math.max,oN=function(){this.planes=[];for(var e=0;e<6;e++)this.planes.push(new eN);this.boundingBox=new hE,this.vertices=[];for(e=0;e<8;e++)this.vertices[e]=kM.fromValues(0,0,0)};oN.prototype={setFromProjection:function(e){var t=this.planes,n=e.array,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],l=n[6],c=n[7],d=n[8],f=n[9],h=n[10],p=n[11],m=n[12],g=n[13],v=n[14],y=n[15];tN(t[0].normal.array,o-r,c-s,p-d),t[0].distance=-(y-m),t[0].normalize(),tN(t[1].normal.array,o+r,c+s,p+d),t[1].distance=-(y+m),t[1].normalize(),tN(t[2].normal.array,o+i,c+u,p+f),t[2].distance=-(y+g),t[2].normalize(),tN(t[3].normal.array,o-i,c-u,p-f),t[3].distance=-(y-g),t[3].normalize(),tN(t[4].normal.array,o-a,c-l,p-h),t[4].distance=-(y-v),t[4].normalize(),tN(t[5].normal.array,o+a,c+l,p+h),t[5].distance=-(y+v),t[5].normalize();var x=this.boundingBox,b=this.vertices;if(0===y){var w=u/r,_=-v/(h-1),S=-v/(h+1),C=-S/u,k=-_/u;x.min.set(-C*w,-C,S),x.max.set(C*w,C,_),tN(b[0],-C*w,-C,S),tN(b[1],-C*w,C,S),tN(b[2],C*w,-C,S),tN(b[3],C*w,C,S),tN(b[4],-k*w,-k,_),tN(b[5],-k*w,k,_),tN(b[6],k*w,-k,_),tN(b[7],k*w,k,_)}else{var D=(-1-m)/r,T=(1-m)/r,I=(1-g)/u,A=(-1-g)/u,M=(-1-v)/h,E=(1-v)/h;x.min.set(Math.min(D,T),Math.min(A,I),Math.min(E,M)),x.max.set(Math.max(T,D),Math.max(I,A),Math.max(M,E));var N=x.min.array,R=x.max.array;tN(b[0],N[0],N[1],N[2]),tN(b[1],N[0],R[1],N[2]),tN(b[2],R[0],N[1],N[2]),tN(b[3],R[0],R[1],N[2]),tN(b[4],N[0],N[1],R[2]),tN(b[5],N[0],R[1],R[2]),tN(b[6],R[0],N[1],R[2]),tN(b[7],R[0],R[1],R[2])}},getTransformedBoundingBox:function(){var e=kM.create();return function(t,n){var r=this.vertices,i=n.array,a=t.min,o=t.max,s=a.array,u=o.array,l=r[0];rN(e,l,i),nN(s,e),nN(u,e);for(var c=1;c<8;c++)l=r[c],rN(e,l,i),s[0]=iN(e[0],s[0]),s[1]=iN(e[1],s[1]),s[2]=iN(e[2],s[2]),u[0]=aN(e[0],u[0]),u[1]=aN(e[1],u[1]),u[2]=aN(e[2],u[2]);return a._dirty=!0,o._dirty=!0,t}}()};var sN=oN,uN=gE.extend((function(){return{projectionMatrix:new aE,invProjectionMatrix:new aE,viewMatrix:new aE,frustum:new sN}}),(function(){this.update(!0)}),{update:function(e){gE.prototype.update.call(this,e),aE.invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),aE.invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(e){aE.copy(this.viewMatrix,e),aE.invert(this.worldTransform,e),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(e){aE.copy(this.projectionMatrix,e),aE.invert(this.invProjectionMatrix,e),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:function(){var e=QM.create();return function(t,n){var r=void 0!==n?n:new YM,i=t.array[0],a=t.array[1];return QM.set(e,i,a,-1,1),QM.transformMat4(e,e,this.invProjectionMatrix.array),QM.transformMat4(e,e,this.worldTransform.array),kM.scale(r.origin.array,e,1/e[3]),QM.set(e,i,a,1,1),QM.transformMat4(e,e,this.invProjectionMatrix.array),QM.transformMat4(e,e,this.worldTransform.array),kM.scale(e,e,1/e[3]),kM.sub(r.direction.array,e,r.origin.array),kM.normalize(r.direction.array,r.direction.array),r.direction._dirty=!0,r.origin._dirty=!0,r}}()}),lN=uN,cN=SM.create(),dN=SM.create(),fN={};function hN(e){var t=[],n=Object.keys(e);n.sort();for(var r=0;r<n.length;r++){var i=n[r];t.push(i+" "+e[i])}var a=t.join("\n");if(fN[a])return fN[a];var o=lI.genGUID();return fN[a]=o,o}function pN(){this.opaque=[],this.transparent=[],this._opaqueCount=0,this._transparentCount=0}pN.prototype.startCount=function(){this._opaqueCount=0,this._transparentCount=0},pN.prototype.add=function(e,t){t?this.transparent[this._transparentCount++]=e:this.opaque[this._opaqueCount++]=e},pN.prototype.endCount=function(){this.transparent.length=this._transparentCount,this.opaque.length=this._opaqueCount};var mN=gE.extend((function(){return{material:null,lights:[],viewBoundingBoxLastFrame:new hE,shadowUniforms:{},_cameraList:[],_lightUniforms:{},_previousLightNumber:{},_lightNumber:{},_lightProgramKeys:{},_nodeRepository:{},_renderLists:new yA(20)}}),(function(){this._scene=this}),{addToScene:function(e){e instanceof lN?(this._cameraList.length>0&&console.warn("Found multiple camera in one scene. Use the fist one."),this._cameraList.push(e)):e instanceof JE&&this.lights.push(e),e.name&&(this._nodeRepository[e.name]=e)},removeFromScene:function(e){var t;e instanceof lN?(t=this._cameraList.indexOf(e))>=0&&this._cameraList.splice(t,1):e instanceof JE&&(t=this.lights.indexOf(e))>=0&&this.lights.splice(t,1),e.name&&delete this._nodeRepository[e.name]},getNode:function(e){return this._nodeRepository[e]},setMainCamera:function(e){var t=this._cameraList.indexOf(e);t>=0&&this._cameraList.splice(t,1),this._cameraList.unshift(e)},getMainCamera:function(){return this._cameraList[0]},getLights:function(){return this.lights},updateLights:function(){var e=this.lights;this._previousLightNumber=this._lightNumber;for(var t={},n=0;n<e.length;n++){var r=e[n];if(!r.invisible){var i=r.group;t[i]||(t[i]={}),t[i][r.type]=t[i][r.type]||0,t[i][r.type]++}}for(var a in this._lightNumber=t,t)this._lightProgramKeys[a]=hN(t[a]);this._updateLightUniforms()},cloneNode:function(e){var t=e.clone(),n={};return function e(t,r){n[t.__uid__]=r;for(var i=0;i<t._children.length;i++){e(t._children[i],r._children[i])}}(e,t),t.traverse((function(e){e.skeleton&&(e.skeleton=e.skeleton.clone(n)),e.material&&(e.material=e.material.clone())})),t},updateRenderList:function(e,t){var n=e.__uid__,r=this._renderLists.get(n);r||(r=new pN,this._renderLists.put(n,r)),r.startCount(),t&&(this.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),this.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0));var i=this.material&&this.material.transparent||!1;return this._doUpdateRenderList(this,e,i,r,t),r.endCount(),r},getRenderList:function(e){return this._renderLists.get(e.__uid__)},_doUpdateRenderList:function(e,t,n,r,i){if(!e.invisible)for(var a=0;a<e._children.length;a++){var o=e._children[a];if(o.isRenderable()){var s=o.isSkinnedMesh()?cN:o.worldTransform.array,u=o.geometry;SM.multiplyAffine(dN,t.viewMatrix.array,s),(i&&!u.boundingBox||!this.isFrustumCulled(o,t,dN))&&r.add(o,o.material.transparent||n)}o._children.length>0&&this._doUpdateRenderList(o,t,n,r,i)}},isFrustumCulled:function(){var e=new hE,t=new aE;return function(n,r,i){var a=n.boundingBox;if(a||(a=n.skeleton&&n.skeleton.boundingBox?n.skeleton.boundingBox:n.geometry.boundingBox),!a)return!1;if(t.array=i,e.transformFrom(a,t),n.castShadow&&this.viewBoundingBoxLastFrame.union(e),n.frustumCulling){if(!e.intersectBoundingBox(r.frustum.boundingBox))return!0;t.array=r.projectionMatrix.array,e.max.array[2]>0&&e.min.array[2]<0&&(e.max.array[2]=-1e-20),e.applyProjection(t);var o=e.min.array,s=e.max.array;if(s[0]<-1||o[0]>1||s[1]<-1||o[1]>1||s[2]<-1||o[2]>1)return!0}return!1}}(),_updateLightUniforms:function(){var e=this.lights;e.sort(gN);var t=this._lightUniforms;for(var n in t)for(var r in t[n])t[n][r].value.length=0;for(var i=0;i<e.length;i++){var a=e[i];if(!a.invisible){n=a.group;for(var r in a.uniformTemplates){var o=a.uniformTemplates[r],s=o.value(a);if(null!=s){t[n]||(t[n]={}),t[n][r]||(t[n][r]={type:"",value:[]});var u=t[n][r];switch(u.type=o.type+"v",o.type){case"1i":case"1f":case"t":u.value.push(s);break;case"2f":case"3f":case"4f":for(var l=0;l<s.length;l++)u.value.push(s[l]);break;default:console.error("Unkown light uniform type "+o.type)}}}}}},getLightGroups:function(){var e=[];for(var t in this._lightNumber)e.push(t);return e},getNumberChangedLightGroups:function(){var e=[];for(var t in this._lightNumber)this.isLightNumberChanged(t)&&e.push(t);return e},isLightNumberChanged:function(e){var t=this._previousLightNumber,n=this._lightNumber;for(var r in n[e]){if(!t[e])return!0;if(n[e][r]!==t[e][r])return!0}for(var r in t[e]){if(!n[e])return!0;if(n[e][r]!==t[e][r])return!0}return!1},getLightsNumbers:function(e){return this._lightNumber[e]},getProgramKey:function(e){return this._lightProgramKeys[e]},setLightUniforms:function(){function e(e,t,n){for(var r in e){var i=e[r];if("tv"===i.type){if(!t.hasUniform(r))continue;for(var a=[],o=0;o<i.value.length;o++){var s=i.value[o],u=t.takeCurrentTextureSlot(n,s);a.push(u)}t.setUniform(n.gl,"1iv",r,a)}else t.setUniform(n.gl,i.type,r,i.value)}}return function(t,n,r){e(this._lightUniforms[n],t,r),e(this.shadowUniforms,t,r)}}(),dispose:function(){this.material=null,this._opaqueList=[],this._transparentList=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={}}});function gN(e,t){if(t.castShadow&&!e.castShadow)return!0}var vN=mN,yN=n(79195),xN=AE.isPowerOfTwo,bN=["px","nx","py","ny","pz","nz"],wN=kE.extend((function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}}),{textureType:"textureCube",update:function(e){var t=e.gl;t.bindTexture(t.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),this.updateCommon(e);var n=this.format,r=this.type;t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_S,this.getAvailableWrapS()),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_T,this.getAvailableWrapT()),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var i=e.getGLExtension("EXT_texture_filter_anisotropic");(i&&this.anisotropic>1&&t.texParameterf(t.TEXTURE_CUBE_MAP,i.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===r)&&(e.getGLExtension("OES_texture_half_float")||(r=BI));if(this.mipmaps.length)for(var a=this.width,o=this.height,s=0;s<this.mipmaps.length;s++){var u=this.mipmaps[s];this._updateTextureData(t,u,s,a,o,n,r),a/=2,o/=2}else this._updateTextureData(t,this,0,this.width,this.height,n,r),!this.NPOT&&this.useMipmap&&t.generateMipmap(t.TEXTURE_CUBE_MAP);t.bindTexture(t.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(e,t,n,r,i,a,o){for(var s=0;s<6;s++){var u=bN[s],l=t.image&&t.image[u];l?e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,a,a,o,l):e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,a,r,i,0,a,o,t.pixels&&t.pixels[u])}},generateMipmap:function(e){var t=e.gl;this.useMipmap&&!this.NPOT&&(t.bindTexture(t.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),t.generateMipmap(t.TEXTURE_CUBE_MAP))},bind:function(e){e.gl.bindTexture(e.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(e))},unbind:function(e){e.gl.bindTexture(e.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?xN(this.image.px.width)&&xN(this.image.px.height):xN(this.width)&&xN(this.height)},isRenderable:function(){return this.image.px?_N(this.image.px)&&_N(this.image.nx)&&_N(this.image.py)&&_N(this.image.ny)&&_N(this.image.pz)&&_N(this.image.nz):!(!this.width||!this.height)},load:function(e,t){var n=0,r=this;return lI.each(e,(function(e,i){var a=pA.createImage();t&&(a.crossOrigin=t),a.onload=function(){0===--n&&(r.dirty(),r.trigger("success",r))},a.onerror=function(){n--},n++,a.src=e,r.image[i]=a})),this}});function _N(e){return e.width>0&&e.height>0}Object.defineProperty(wN.prototype,"width",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(e){this.image&&this.image.px?console.warn("Texture from image can't set width"):(this._width!==e&&this.dirty(),this._width=e)}}),Object.defineProperty(wN.prototype,"height",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(e){this.image&&this.image.px?console.warn("Texture from image can't set height"):(this._height!==e&&this.dirty(),this._height=e)}});var SN=wN,CN=lN.extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function(){var e=this.fov/180*Math.PI;this.projectionMatrix.perspective(e,this.aspect,this.near,this.far)},decomposeProjectionMatrix:function(){var e=this.projectionMatrix.array,t=2*Math.atan(1/e[5]);this.fov=t/Math.PI*180,this.aspect=e[5]/e[0],this.near=e[14]/(e[10]-1),this.far=e[14]/(e[10]+1)},clone:function(){var e=lN.prototype.clone.call(this);return e.fov=this.fov,e.aspect=this.aspect,e.near=this.near,e.far=this.far,e}}),kN=CN,DN="framebuffer",TN="renderbuffer",IN="renderbuffer_width",AN="renderbuffer_height",MN="renderbuffer_attached",EN="depthtexture_attached",NN=rA,RN=iA,PN=sA,ON=oA,LN=dI.extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},(function(){this._cache=new SE,this._textures={}}),{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(e){if(e.__currentFrameBuffer){if(e.__currentFrameBuffer===this)return;console.warn("Renderer already bound with another framebuffer. Unbind it first")}e.__currentFrameBuffer=this;var t=e.gl;t.bindFramebuffer(NN,this._getFrameBufferGL(e)),this._boundRenderer=e;var n=this._cache;n.put("viewport",e.viewport);var r,i,a=!1;for(var o in this._textures){a=!0;var s=this._textures[o];s&&(r=s.texture.width,i=s.texture.height,this._doAttach(e,s.texture,o,s.target))}this._width=r,this._height=i,!a&&this.depthBuffer&&console.error("Must attach texture before bind, or renderbuffer may have incorrect width and height."),this.viewport?e.setViewport(this.viewport):e.setViewport(0,0,r,i,1);var u=n.get("attached_textures");if(u)for(var o in u)if(!this._textures[o]){var l=u[o];this._doDetach(t,o,l)}if(!n.get(EN)&&this.depthBuffer){n.miss(TN)&&n.put(TN,t.createRenderbuffer());var c=n.get(TN);r===n.get(IN)&&i===n.get(AN)||(t.bindRenderbuffer(RN,c),t.renderbufferStorage(RN,t.DEPTH_COMPONENT16,r,i),n.put(IN,r),n.put(AN,i),t.bindRenderbuffer(RN,null)),n.get(MN)||(t.framebufferRenderbuffer(NN,PN,RN,c),n.put(MN,!0))}},unbind:function(e){e.__currentFrameBuffer=null,e.gl.bindFramebuffer(NN,null),this._boundRenderer=null,this._cache.use(e.__uid__);var t=this._cache.get("viewport");t&&e.setViewport(t),this.updateMipmap(e)},updateMipmap:function(e){var t=e.gl;for(var n in this._textures){var r=this._textures[n];if(r){var i=r.texture;if(!i.NPOT&&i.useMipmap&&i.minFilter===kE.LINEAR_MIPMAP_LINEAR){var a="textureCube"===i.textureType?$I:JI;t.bindTexture(a,i.getWebGLTexture(e)),t.generateMipmap(a),t.bindTexture(a,null)}}}},checkStatus:function(e){return e.checkFramebufferStatus(NN)},_getFrameBufferGL:function(e){var t=this._cache;return t.use(e.__uid__),t.miss(DN)&&t.put(DN,e.gl.createFramebuffer()),t.get(DN)},attach:function(e,t,n){if(!e.width)throw new Error("The texture attached to color buffer is not a valid.");t=t||ON,n=n||JI;var r,i=this._boundRenderer;if(i&&i.gl){var a=this._cache;a.use(i.__uid__),r=a.get("attached_textures")}var o=this._textures[t];if(!o||o.target!==n||o.texture!==e||!r||null==r[t]){var s=!0;i&&(s=this._doAttach(i,e,t,n),this.viewport||i.setViewport(0,0,e.width,e.height,1)),s&&(this._textures[t]=this._textures[t]||{},this._textures[t].texture=e,this._textures[t].target=n)}},_doAttach:function(e,t,n,r){var i=e.gl,a=t.getWebGLTexture(e),o=this._cache.get("attached_textures");if(o&&o[n]){var s=o[n];if(s.texture===t&&s.target===r)return}var u=!0;if(((n=+n)===PN||n===lA)&&(e.getGLExtension("WEBGL_depth_texture")||(console.error("Depth texture is not supported by the browser"),u=!1),t.format!==zI&&t.format!==aA&&(console.error("The texture attached to depth buffer is not a valid."),u=!1),u)){var l=this._cache.get(TN);l&&(i.framebufferRenderbuffer(NN,PN,RN,null),i.deleteRenderbuffer(l),this._cache.put(TN,!1)),this._cache.put(MN,!1),this._cache.put(EN,!0)}return i.framebufferTexture2D(NN,n,r,a,0),o||(o={},this._cache.put("attached_textures",o)),o[n]=o[n]||{},o[n].texture=t,o[n].target=r,u},_doDetach:function(e,t,n){e.framebufferTexture2D(NN,t,n,null,0);var r=this._cache.get("attached_textures");r&&r[t]&&(r[t]=null),t!==PN&&t!==lA||this._cache.put(EN,!1)},detach:function(e,t){(this._textures[e]=null,this._boundRenderer)&&(this._cache.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,e,t))},dispose:function(e){var t=e.gl,n=this._cache;n.use(e.__uid__);var r=n.get(TN);r&&t.deleteRenderbuffer(r);var i=n.get(DN);i&&t.deleteFramebuffer(i),n.deleteContext(e.__uid__),this._textures={}}});LN.DEPTH_ATTACHMENT=PN,LN.COLOR_ATTACHMENT0=ON,LN.STENCIL_ATTACHMENT=uA,LN.DEPTH_STENCIL_ATTACHMENT=lA;var FN=LN,ZN=["px","nx","py","ny","pz","nz"],BN=dI.extend((function(){var e={position:new GM,far:1e3,near:.1,texture:null,shadowMapPass:null},t=e._cameras={px:new kN({fov:90}),nx:new kN({fov:90}),py:new kN({fov:90}),ny:new kN({fov:90}),pz:new kN({fov:90}),nz:new kN({fov:90})};return t.px.lookAt(GM.POSITIVE_X,GM.NEGATIVE_Y),t.nx.lookAt(GM.NEGATIVE_X,GM.NEGATIVE_Y),t.py.lookAt(GM.POSITIVE_Y,GM.POSITIVE_Z),t.ny.lookAt(GM.NEGATIVE_Y,GM.NEGATIVE_Z),t.pz.lookAt(GM.POSITIVE_Z,GM.NEGATIVE_Y),t.nz.lookAt(GM.NEGATIVE_Z,GM.NEGATIVE_Y),e._frameBuffer=new FN,e}),{getCamera:function(e){return this._cameras[e]},render:function(e,t,n){var r=e.gl;n||t.update();for(var i=this.texture.width,a=2*Math.atan(i/(i-.5))/Math.PI*180,o=0;o<6;o++){var s=ZN[o],u=this._cameras[s];if(GM.copy(u.position,this.position),u.far=this.far,u.near=this.near,u.fov=a,this.shadowMapPass){u.update();var l=t.getBoundingBox();l.applyTransform(u.viewMatrix),t.viewBoundingBoxLastFrame.copy(l),this.shadowMapPass.render(e,t,u,!0)}this._frameBuffer.attach(this.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+o),this._frameBuffer.bind(e),e.render(t,u,!0),this._frameBuffer.unbind(e)}},dispose:function(e){this._frameBuffer.dispose(e)}}),zN=BN,VN=GE.extend({dynamic:!1,widthSegments:1,heightSegments:1},(function(){this.build()}),{build:function(){for(var e=this.heightSegments,t=this.widthSegments,n=this.attributes,r=[],i=[],a=[],o=[],s=0;s<=e;s++)for(var u=s/e,l=0;l<=t;l++){var c=l/t;if(r.push([2*c-1,2*u-1,0]),i&&i.push([c,u]),a&&a.push([0,0,1]),l<t&&s<e){var d=l+s*(t+1);o.push([d,d+1,d+t+1]),o.push([d+t+1,d+1,d+t+2])}}n.position.fromArray(r),n.texcoord0.fromArray(i),n.normal.fromArray(a),this.initIndicesFromArray(o),this.boundingBox=new hE,this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}}),jN=new aE;function WN(e,t,n){jN.identity();var r=new VN({widthSegments:t,heightSegments:n});switch(e){case"px":aE.translate(jN,jN,GM.POSITIVE_X),aE.rotateY(jN,jN,Math.PI/2);break;case"nx":aE.translate(jN,jN,GM.NEGATIVE_X),aE.rotateY(jN,jN,-Math.PI/2);break;case"py":aE.translate(jN,jN,GM.POSITIVE_Y),aE.rotateX(jN,jN,-Math.PI/2);break;case"ny":aE.translate(jN,jN,GM.NEGATIVE_Y),aE.rotateX(jN,jN,Math.PI/2);break;case"pz":aE.translate(jN,jN,GM.POSITIVE_Z);break;case"nz":aE.translate(jN,jN,GM.NEGATIVE_Z),aE.rotateY(jN,jN,Math.PI)}return r.applyTransform(jN),r}var UN=GE.extend({dynamic:!1,widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},(function(){this.build()}),{build:function(){var e={px:WN("px",this.depthSegments,this.heightSegments),nx:WN("nx",this.depthSegments,this.heightSegments),py:WN("py",this.widthSegments,this.depthSegments),ny:WN("ny",this.widthSegments,this.depthSegments),pz:WN("pz",this.widthSegments,this.heightSegments),nz:WN("nz",this.widthSegments,this.heightSegments)},t=["position","texcoord0","normal"],n=0,r=0;for(var i in e)n+=e[i].vertexCount,r+=e[i].indices.length;for(var a=0;a<t.length;a++)this.attributes[t[a]].init(n);this.indices=new pA.Uint16Array(r);var o=0,s=0;for(var i in e){var u=e[i];for(a=0;a<t.length;a++)for(var l=t[a],c=u.attributes[l].value,d=u.attributes[l].size,f="normal"===l,h=0;h<c.length;h++){var p=c[h];this.inside&&f&&(p=-p),this.attributes[l].value[h+d*s]=p}var m=u.indices.length;for(h=0;h<u.indices.length;h++)this.indices[h+o]=s+u.indices[this.inside?m-h-1:h];o+=u.indices.length,s+=u.vertexCount}this.boundingBox=new hE,this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1)}});bM.import("@export clay.skybox.vertex\n#define SHADER_NAME skybox\nuniform mat4 world : WORLD;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nvarying vec3 v_WorldPosition;\nvoid main()\n{\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end\n@export clay.skybox.fragment\n#define PI 3.1415926\nuniform mat4 viewInverse : VIEWINVERSE;\n#ifdef EQUIRECTANGULAR\nuniform sampler2D environmentMap;\n#else\nuniform samplerCube environmentMap;\n#endif\nuniform float lod: 0.0;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\n@import clay.util.srgb\n@import clay.util.ACES\nvoid main()\n{\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n#ifdef EQUIRECTANGULAR\n float phi = acos(V.y);\n float theta = atan(-V.x, V.z) + PI * 0.5;\n vec2 uv = vec2(theta / 2.0 / PI, phi / PI);\n vec4 texel = decodeHDR(texture2D(environmentMap, fract(uv)));\n#else\n #if defined(LOD) || defined(SUPPORT_TEXTURE_LOD)\n vec4 texel = decodeHDR(textureCubeLodEXT(environmentMap, V, lod));\n #else\n vec4 texel = decodeHDR(textureCube(environmentMap, V));\n #endif\n#endif\n#ifdef SRGB_DECODE\n texel = sRGBToLinear(texel);\n#endif\n#ifdef TONEMAPPING\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n#ifdef SRGB_ENCODE\n texel = linearTosRGB(texel);\n#endif\n gl_FragColor = encodeHDR(vec4(texel.rgb, 1.0));\n}\n@end");var HN=TE.extend((function(){var e=new bM({vertex:bM.source("clay.skybox.vertex"),fragment:bM.source("clay.skybox.fragment")}),t=new FA({shader:e,depthMask:!1});return{scene:null,geometry:new UN,material:t,environmentMap:null,culling:!1,_dummyCamera:new kN}}),(function(){var e=this.scene;e&&this.attachScene(e),this.environmentMap&&this.setEnvironmentMap(this.environmentMap)}),{attachScene:function(e){this.scene&&this.detachScene(),e.skybox=this,this.scene=e,e.on("beforerender",this._beforeRenderScene,this)},detachScene:function(){this.scene&&(this.scene.off("beforerender",this._beforeRenderScene),this.scene.skybox=null),this.scene=null},dispose:function(e){this.detachScene(),this.geometry.dispose(e)},setEnvironmentMap:function(e){"texture2D"===e.textureType?(this.material.define("EQUIRECTANGULAR"),e.minFilter=kE.LINEAR):this.material.undefine("EQUIRECTANGULAR"),this.material.set("environmentMap",e)},getEnvironmentMap:function(){return this.material.get("environmentMap")},_beforeRenderScene:function(e,t,n){this.renderSkybox(e,n)},renderSkybox:function(e,t){var n=this._dummyCamera;n.aspect=e.getViewportAspect(),n.fov=t.fov||50,n.updateProjectionMatrix(),aE.invert(n.invProjectionMatrix,n.projectionMatrix),n.worldTransform.copy(t.worldTransform),n.viewMatrix.copy(t.viewMatrix),this.position.copy(t.getWorldPosition()),this.update(),e.gl.disable(e.gl.BLEND),this.material.get("lod")>0?this.material.define("fragment","LOD"):this.material.undefine("fragment","LOD"),e.renderPass([this],n)}}),GN=HN,XN=GN;function qN(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}var YN=qN("DXT1"),KN=qN("DXT3"),QN=qN("DXT5"),JN={parse:function(e,t){var n=new Int32Array(e,0,31);if(542327876!==n[0])return null;if(4&!n(20))return null;var r,i,a=n(21),o=n[4],s=n[3],u=512&n[28],l=131072&n[2];switch(a){case YN:r=8,i=kE.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case KN:r=16,i=kE.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case QN:r=16,i=kE.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}var c=n[1]+4,d=u?6:1,f=1;l&&(f=Math.max(1,n[7]));for(var h=[],p=0;p<d;p++){var m=o,g=s;h[p]=new RE({width:m,height:g,format:i});for(var v=[],y=0;y<f;y++){var x=Math.max(4,m)/4*Math.max(4,g)/4*r,b=new Uint8Array(e,c,x);c+=x,m*=.5,g*=.5,v[y]=b}h[p].pixels=v[0],l&&(h[p].mipmaps=v)}if(!t)return h[0];t.width=h[0].width,t.height=h[0].height,t.format=h[0].format,t.pixels=h[0].pixels,t.mipmaps=h[0].mipmaps}},$N=String.fromCharCode;function eR(e,t,n,r){if(e[3]>0){var i=Math.pow(2,e[3]-128-8+r);t[n+0]=e[0]*i,t[n+1]=e[1]*i,t[n+2]=e[2]*i}else t[n+0]=0,t[n+1]=0,t[n+2]=0;return t[n+3]=1,t}function tR(e,t,n,r){for(var i,a,o=0,s=0,u=r;u>0;)if(e[s][0]=t[n++],e[s][1]=t[n++],e[s][2]=t[n++],e[s][3]=t[n++],1===e[s][0]&&1===e[s][1]&&1===e[s][2]){for(var l=e[s][3]<<o>>>0;l>0;l--)i=e[s-1],(a=e[s])[0]=i[0],a[1]=i[1],a[2]=i[2],a[3]=i[3],s++,u--;o+=8}else s++,u--,o=0;return n}function nR(e,t,n,r){if(r<8|r>32767)return tR(e,t,n,r);if(2!=(i=t[n++]))return tR(e,t,n-1,r);if(e[0][1]=t[n++],e[0][2]=t[n++],i=t[n++],(e[0][2]<<8>>>0|i)>>>0!==r)return null;for(var i=0;i<4;i++)for(var a=0;a<r;){var o=t[n++];if(o>128){o=(127&o)>>>0;for(var s=t[n++];o--;)e[a++][i]=s}else for(;o--;)e[a++][i]=t[n++]}return n}var rR={parseRGBE:function(e,t,n){null==n&&(n=0);var r=new Uint8Array(e),i=r.length;if("#?"===function(e,t,n){for(var r="",i=t;i<n;i++)r+=$N(e[i]);return r}(r,0,2)){for(var a=2;a<i&&("\n"!==$N(r[a])||"\n"!==$N(r[a+1]));a++);if(!(a>=i)){a+=2;for(var o="";a<i;a++){var s=$N(r[a]);if("\n"===s)break;o+=s}var u=o.split(" "),l=parseInt(u[1]),c=parseInt(u[3]);if(c&&l){for(var d=a+1,f=[],h=0;h<c;h++){f[h]=[];for(var p=0;p<4;p++)f[h][p]=0}for(var m=new Float32Array(c*l*4),g=0,v=0;v<l;v++){if(!(d=nR(f,r,d,c)))return null;for(h=0;h<c;h++)eR(f[h],m,g,n),g+=4}return t||(t=new RE),t.width=c,t.height=l,t.pixels=m,t.type=kE.FLOAT,t}}}},parseRGBEFromPNG:function(e){}},iR=rR,aR={loadTexture:function(e,t,n,r){var i;if("function"===typeof t?(r=n=t,t={}):t=t||{},"string"===typeof e){if(e.match(/.hdr$/)||"hdr"===t.fileType)return i=new RE({width:0,height:0,sRGB:!1}),aR._fetchTexture(e,(function(e){iR.parseRGBE(e,i,t.exposure),i.dirty(),n&&n(i)}),r),i;e.match(/.dds$/)||"dds"===t.fileType?(i=new RE({width:0,height:0}),aR._fetchTexture(e,(function(e){JN.parse(e,i),i.dirty(),n&&n(i)}),r)):((i=new RE).load(e),i.success(n),i.error(r))}else"object"===typeof e&&"undefined"!==typeof e.px&&((i=new SN).load(e),i.success(n),i.error(r));return i},loadPanorama:function(e,t,n,r,i,a){var o=this;"function"===typeof r?(a=i=r,r={}):r=r||{},aR.loadTexture(t,r,(function(t){t.flipY=r.flipY||!1,o.panoramaToCubeMap(e,t,n,r),t.dispose(e),i&&i(n)}),a)},panoramaToCubeMap:function(e,t,n,r){var i=new zN,a=new XN({scene:new vN});return a.setEnvironmentMap(t),(r=r||{}).encodeRGBM&&a.material.define("fragment","RGBM_ENCODE"),n.sRGB=t.sRGB,i.texture=n,i.render(e,a.scene),i.texture=null,i.dispose(e),n},heightToNormal:function(e,t){var n=document.createElement("canvas"),r=n.width=e.width,i=n.height=e.height,a=n.getContext("2d");a.drawImage(e,0,0,r,i),t=t||!1;for(var o=a.getImageData(0,0,r,i),s=a.createImageData(r,i),u=0;u<o.data.length;u+=4){if(t){var l=o.data[u],c=o.data[u+1],d=o.data[u+2];if(Math.abs(l-c)+Math.abs(c-d)>20)return console.warn("Given image is not a height map"),e}var f,h,p,m;u%(4*r)===0?(f=o.data[u],p=o.data[u+4]):u%(4*r)===4*(r-1)?(f=o.data[u-4],p=o.data[u]):(f=o.data[u-4],p=o.data[u+4]),u<4*r?(h=o.data[u],m=o.data[u+4*r]):u>r*(i-1)*4?(h=o.data[u-4*r],m=o.data[u]):(h=o.data[u-4*r],m=o.data[u+4*r]),s.data[u]=f-p+127,s.data[u+1]=h-m+127,s.data[u+2]=255,s.data[u+3]=255}return a.putImageData(s,0,0),n},isHeightImage:function(e,t,n){if(!e||!e.width||!e.height)return!1;var r=document.createElement("canvas"),i=r.getContext("2d"),a=t||32;n=n||20,r.width=r.height=a,i.drawImage(e,0,0,a,a);for(var o=i.getImageData(0,0,a,a),s=0;s<o.data.length;s+=4){var u=o.data[s],l=o.data[s+1],c=o.data[s+2];if(Math.abs(u-l)+Math.abs(l-c)>n)return!1}return!0},_fetchTexture:function(e,t,n){pA.request.get({url:e,responseType:"arraybuffer",onload:t,onerror:n})},createChessboard:function(e,t,n,r){e=e||512,t=t||64,n=n||"black",r=r||"white";var i=Math.ceil(e/t),a=document.createElement("canvas");a.width=e,a.height=e;var o=a.getContext("2d");o.fillStyle=r,o.fillRect(0,0,e,e),o.fillStyle=n;for(var s=0;s<i;s++)for(var u=0;u<i;u++){(u%2?s%2:s%2-1)&&o.fillRect(s*t,u*t,t,t)}return new RE({image:a,anisotropic:8})},createBlank:function(e){var t=document.createElement("canvas");t.width=1,t.height=1;var n=t.getContext("2d");return n.fillStyle=e,n.fillRect(0,0,1,1),new RE({image:t})}},oR=aR,sR=["mousedown","mouseup","mousemove","mouseover","mouseout","click","dblclick","contextmenu"];function uR(e){return"_on"+e}var lR=function(e){var t=this;this._texture=new RE({anisotropic:32,flipY:!1,surface:this,dispose:function(e){t.dispose(),RE.prototype.dispose.call(this,e)}}),sR.forEach((function(e){this[uR(e)]=function(t){t.triangle&&this._meshes.forEach((function(n){this.dispatchEvent(e,n,t.triangle,t.point)}),this)}}),this),this._meshes=[],e&&this.setECharts(e),this.onupdate=null};lR.prototype={constructor:lR,getTexture:function(){return this._texture},setECharts:function(e){this._chart=e;var t=e.getDom();if(t instanceof HTMLCanvasElement){var n=this,r=e.getZr(),i=r.__oldRefreshImmediately||r.refreshImmediately;r.refreshImmediately=function(){i.call(this),n._texture.dirty(),n.onupdate&&n.onupdate()},r.__oldRefreshImmediately=i}else console.error("ECharts must init on canvas if it is used as texture."),t=document.createElement("canvas");this._texture.image=t,this._texture.dirty(),this.onupdate&&this.onupdate()},dispatchEvent:function(){var e=new GM,t=new GM,n=new GM,r=new HA,i=new HA,a=new HA,o=new HA,s=new GM;return function(u,l,c,d){var f=l.geometry,h=f.attributes.position,p=f.attributes.texcoord0,m=GM.dot,g=GM.cross;h.get(c[0],e.array),h.get(c[1],t.array),h.get(c[2],n.array),p.get(c[0],r.array),p.get(c[1],i.array),p.get(c[2],a.array),g(s,t,n);var v=m(e,s),y=m(d,s)/v;g(s,n,e);var x=m(d,s)/v;g(s,e,t);var b=m(d,s)/v;HA.scale(o,r,y),HA.scaleAndAdd(o,o,i,x),HA.scaleAndAdd(o,o,a,b);var w=o.x*this._chart.getWidth(),_=o.y*this._chart.getHeight();this._chart.getZr().handler.dispatch(u,{zrX:w,zrY:_})}}(),attachToMesh:function(e){this._meshes.indexOf(e)>=0||(sR.forEach((function(t){e.on(t,this[uR(t)],this)}),this),this._meshes.push(e))},detachFromMesh:function(e){var t=this._meshes.indexOf(e);t>=0&&this._meshes.splice(t,1),sR.forEach((function(t){e.off(t,this[uR(t)])}),this)},dispose:function(){this._meshes.forEach((function(e){this.detachFromMesh(e)}),this)}};var cR=lR,dR=lN.extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var e=this.projectionMatrix.array;this.left=(-1-e[12])/e[0],this.right=(1-e[12])/e[0],this.top=(1-e[13])/e[5],this.bottom=(-1-e[13])/e[5],this.near=-(-1-e[14])/e[10],this.far=-(1-e[14])/e[10]},clone:function(){var e=lN.prototype.clone.call(this);return e.left=this.left,e.right=this.right,e.near=this.near,e.far=this.far,e.top=this.top,e.bottom=this.bottom,e}}),fR=dR;bM.import("\n@export clay.compositor.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n v_Texcoord = texcoord;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end");var hR=new VN,pR=new TE({geometry:hR,frustumCulling:!1}),mR=new fR,gR=dI.extend((function(){return{fragment:"",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}}),(function(){var e=new bM(bM.source("clay.compositor.vertex"),this.fragment),t=new FA({shader:e});t.enableTexturesAll(),this.material=t}),{setUniform:function(e,t){this.material.setUniform(e,t)},getUniform:function(e){var t=this.material.uniforms[e];if(t)return t.value},attachOutput:function(e,t){this.outputs||(this.outputs={}),t=t||oA,this.outputs[t]=e},detachOutput:function(e){for(var t in this.outputs)this.outputs[t]===e&&(this.outputs[t]=null)},bind:function(e,t){if(this.outputs)for(var n in this.outputs){var r=this.outputs[n];r&&t.attach(r,n)}t&&t.bind(e)},unbind:function(e,t){t.unbind(e)},render:function(e,t){var n=e.gl;if(t){this.bind(e,t);var r=e.getGLExtension("EXT_draw_buffers");if(r&&this.outputs){var i=[];for(var a in this.outputs)(a=+a)>=n.COLOR_ATTACHMENT0&&a<=n.COLOR_ATTACHMENT0+8&&i.push(a);r.drawBuffersEXT(i)}}this.trigger("beforerender",this,e);var o=this.clearDepth?n.DEPTH_BUFFER_BIT:0;if(n.depthMask(!0),this.clearColor){o|=n.COLOR_BUFFER_BIT,n.colorMask(!0,!0,!0,!0);var s=this.clearColor;Array.isArray(s)&&n.clearColor(s[0],s[1],s[2],s[3])}n.clear(o),this.blendWithPrevious?(n.enable(n.BLEND),this.material.transparent=!0):(n.disable(n.BLEND),this.material.transparent=!1),this.renderQuad(e),this.trigger("afterrender",this,e),t&&this.unbind(e,t)},renderQuad:function(e){pR.material=this.material,e.renderPass([pR],mR)},dispose:function(e){}}),vR={},yR=["px","nx","py","ny","pz","nz"];vR.prefilterEnvironmentMap=function(e,t,n,r,i){i&&r||(r=vR.generateNormalDistribution(),i=vR.integrateBRDF(e,r));var a=(n=n||{}).width||64,o=n.height||64,s=n.type||t.type,u=new SN({width:a,height:o,type:s,flipY:!1,mipmaps:[]});u.isPowerOfTwo()||console.warn("Width and height must be power of two to enable mipmap.");var l=Math.min(a,o),c=Math.log(l)/Math.log(2)+1,d=new FA({shader:new bM({vertex:bM.source("clay.skybox.vertex"),fragment:"#define SHADER_NAME prefilter\n#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform mat4 viewInverse : VIEWINVERSE;\nuniform samplerCube environmentMap;\nuniform sampler2D normalDistribution;\nuniform float roughness : 0.5;\nvarying vec2 v_Texcoord;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvoid main() {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n vec3 N = V;\n vec3 prefilteredColor = vec3(0.0);\n float totalWeight = 0.0;\n float fMaxSampleNumber = float(SAMPLE_NUMBER);\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(dot(N, L), 0.0, 1.0);\n if (NoL > 0.0) {\n prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;\n totalWeight += NoL;\n }\n }\n gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));\n}\n"})});d.set("normalDistribution",r),n.encodeRGBM&&d.define("fragment","RGBM_ENCODE"),n.decodeRGBM&&d.define("fragment","RGBM_DECODE");var f,h=new vN;if("texture2D"===t.textureType){var p=new SN({width:a,height:o,type:s===kE.FLOAT?kE.HALF_FLOAT:s});oR.panoramaToCubeMap(e,t,p,{encodeRGBM:n.decodeRGBM}),t=p}(f=new GN({scene:h,material:d})).material.set("environmentMap",t);var m=new zN({texture:u});n.encodeRGBM&&(s=u.type=kE.UNSIGNED_BYTE);for(var g=new RE({width:a,height:o,type:s}),v=new FN({depthBuffer:!1}),y=pA[s===kE.UNSIGNED_BYTE?"Uint8Array":"Float32Array"],x=0;x<c;x++){u.mipmaps[x]={pixels:{}},f.material.set("roughness",x/(c-1));for(var b=g.width,w=2*Math.atan(b/(b-.5))/Math.PI*180,_=0;_<yR.length;_++){var S=new y(g.width*g.height*4);v.attach(g),v.bind(e);var C=m.getCamera(yR[_]);C.fov=w,e.render(h,C),e.gl.readPixels(0,0,g.width,g.height,kE.RGBA,s,S),v.unbind(e),u.mipmaps[x].pixels[yR[_]]=S}g.width/=2,g.height/=2,g.dirty()}return v.dispose(e),g.dispose(e),f.dispose(e),r.dispose(e),{environmentMap:u,brdfLookup:i,normalDistribution:r,maxMipmapLevel:c}},vR.integrateBRDF=function(e,t){t=t||vR.generateNormalDistribution();var n=new FN({depthBuffer:!1}),r=new gR({fragment:"#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform sampler2D normalDistribution;\nuniform vec2 viewportSize : [512, 256];\nconst vec3 N = vec3(0.0, 0.0, 1.0);\nconst float fSampleNumber = float(SAMPLE_NUMBER);\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nfloat G_Smith(float roughness, float NoV, float NoL) {\n float k = roughness * roughness / 2.0;\n float G1V = NoV / (NoV * (1.0 - k) + k);\n float G1L = NoL / (NoL * (1.0 - k) + k);\n return G1L * G1V;\n}\nvoid main() {\n vec2 uv = gl_FragCoord.xy / viewportSize;\n float NoV = uv.x;\n float roughness = uv.y;\n vec3 V;\n V.x = sqrt(1.0 - NoV * NoV);\n V.y = 0.0;\n V.z = NoV;\n float A = 0.0;\n float B = 0.0;\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(L.z, 0.0, 1.0);\n float NoH = clamp(H.z, 0.0, 1.0);\n float VoH = clamp(dot(V, H), 0.0, 1.0);\n if (NoL > 0.0) {\n float G = G_Smith(roughness, NoV, NoL);\n float G_Vis = G * VoH / (NoH * NoV);\n float Fc = pow(1.0 - VoH, 5.0);\n A += (1.0 - Fc) * G_Vis;\n B += Fc * G_Vis;\n }\n }\n gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);\n}\n"}),i=new RE({width:512,height:256,type:kE.HALF_FLOAT,wrapS:kE.CLAMP_TO_EDGE,wrapT:kE.CLAMP_TO_EDGE,minFilter:kE.NEAREST,magFilter:kE.NEAREST,useMipmap:!1});return r.setUniform("normalDistribution",t),r.setUniform("viewportSize",[512,256]),r.attachOutput(i),r.render(e,n),n.dispose(e),i},vR.generateNormalDistribution=function(e,t){for(var n=new RE({width:e=e||256,height:t=t||1024,type:kE.FLOAT,minFilter:kE.NEAREST,magFilter:kE.NEAREST,wrapS:kE.CLAMP_TO_EDGE,wrapT:kE.CLAMP_TO_EDGE,useMipmap:!1}),r=new Float32Array(t*e*4),i=[],a=0;a<e;a++){for(var o=a/e,s=o*o,u=0;u<t;u++){var l=(u<<16|u>>>16)>>>0;l=(((16711935&(l=((252645135&(l=((858993459&(l=((1431655765&l)<<1|(2863311530&l)>>>1)>>>0))<<2|(3435973836&l)>>>2)>>>0))<<4|(4042322160&l)>>>4)>>>0))<<8|(4278255360&l)>>>8)>>>0)/4294967296;var c=Math.sqrt((1-l)/(1+(s*s-1)*l));i[u]=c}for(u=0;u<t;u++){var d=4*(u*e+a),f=(c=i[u],Math.sqrt(1-c*c)),h=u/t,p=2*Math.PI*h;r[d]=f*Math.cos(p),r[d+1]=c,r[d+2]=f*Math.sin(p),r[d+3]=1}}return n.pixels=r,n};var xR=vR,bR=JE.extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:"AMBIENT_CUBEMAP_LIGHT",prefilter:function(e,t){if(e.getGLExtension("EXT_shader_texture_lod")){this._brdfLookup||(this._normalDistribution=xR.generateNormalDistribution(),this._brdfLookup=xR.integrateBRDF(e,this._normalDistribution));var n=this.cubemap;if(!n.__prefiltered){var r=xR.prefilterEnvironmentMap(e,n,{encodeRGBM:!0,width:t,height:t},this._normalDistribution,this._brdfLookup);this.cubemap=r.environmentMap,this.cubemap.__prefiltered=!0,n.dispose(e)}}else console.warn("Device not support textureCubeLodEXT")},getBRDFLookup:function(){return this._brdfLookup},uniformTemplates:{ambientCubemapLightColor:{type:"3f",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}},ambientCubemapLightCubemap:{type:"t",value:function(e){return e.cubemap}},ambientCubemapLightBRDFLookup:{type:"t",value:function(e){return e._brdfLookup}}}}),wR=bR,_R=JE.extend({castShadow:!1,coefficients:[]},(function(){this._coefficientsTmpArr=new pA.Float32Array(27)}),{type:"AMBIENT_SH_LIGHT",uniformTemplates:{ambientSHLightColor:{type:"3f",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}},ambientSHLightCoefficients:{type:"3f",value:function(e){for(var t=e._coefficientsTmpArr,n=0;n<e.coefficients.length;n++)t[n]=e.coefficients[n];return t}}}}),SR=_R,CR={},kR=["px","nx","py","ny","pz","nz"];function DR(e,t){var n=e[0],r=e[1],i=e[2];return 0===t?1:1===t?n:2===t?r:3===t?i:4===t?n*i:5===t?r*i:6===t?n*r:7===t?3*i*i-1:n*n-r*r}var TR={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};CR.projectEnvironmentMap=function(e,t,n){var r;(n=n||{}).lod=n.lod||0;var i=new vN,a=64;"texture2D"===t.textureType?r=new XN({scene:i,environmentMap:t}):(a=t.image&&t.image.px?t.image.px.width:t.width,r=new GN({scene:i,environmentMap:t}));var o=Math.ceil(a/Math.pow(2,n.lod)),s=Math.ceil(a/Math.pow(2,n.lod)),u=new RE({width:o,height:s}),l=new FN;r.material.define("fragment","RGBM_ENCODE"),n.decodeRGBM&&r.material.define("fragment","RGBM_DECODE"),r.material.set("lod",n.lod);for(var c=new zN({texture:u}),d={},f=0;f<kR.length;f++){d[kR[f]]=new Uint8Array(o*s*4);var h=c.getCamera(kR[f]);h.fov=90,l.attach(u),l.bind(e),e.render(i,h),e.gl.readPixels(0,0,o,s,kE.RGBA,kE.UNSIGNED_BYTE,d[kR[f]]),l.unbind(e)}return r.dispose(e),l.dispose(e),u.dispose(e),function(e,t,n,r){for(var i=new pA.Float32Array(27),a=kM.create(),o=kM.create(),s=kM.create(),u=0;u<9;u++){for(var l=kM.create(),c=0;c<kR.length;c++){for(var d=t[kR[c]],f=kM.create(),h=0,p=0,m=TR[kR[c]],g=0;g<r;g++)for(var v=0;v<n;v++){a[0]=v/(n-1)*2-1,a[1]=g/(r-1)*2-1,a[2]=-1,kM.normalize(a,a),s[0]=a[m[0]]*m[3],s[1]=a[m[1]]*m[4],s[2]=a[m[2]]*m[5],o[0]=d[p++]/255,o[1]=d[p++]/255,o[2]=d[p++]/255;var y=d[p++]/255*8.12;o[0]*=y,o[1]*=y,o[2]*=y,kM.scaleAndAdd(f,f,o,DR(s,u)*-a[2]),h+=-a[2]}kM.scaleAndAdd(l,l,f,1/h)}i[3*u]=l[0]/6,i[3*u+1]=l[1]/6,i[3*u+2]=l[2]/6}return i}(0,d,o,s)};var IR=CR,AR={firstNotNull:function(){for(var e=0,t=arguments.length;e<t;e++)if(null!=arguments[e])return arguments[e]},queryDataIndex:function(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?qT.D5.isArray(t.dataIndex)?qT.D5.map(t.dataIndex,(function(t){return e.indexOfRawIndex(t)})):e.indexOfRawIndex(t.dataIndex):null!=t.name?qT.D5.isArray(t.name)?qT.D5.map(t.name,(function(t){return e.indexOfName(t)})):e.indexOfName(t.name):void 0}},MR=AR,ER=GE.extend({dynamic:!1,widthSegments:40,heightSegments:20,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:Math.PI,radius:1},(function(){this.build()}),{build:function(){var e=this.heightSegments,t=this.widthSegments,n=this.attributes.position,r=this.attributes.texcoord0,i=this.attributes.normal,a=(t+1)*(e+1);n.init(a),r.init(a),i.init(a);var o,s,u,l,c,d,f,h,p,m,g,v=a>65535?Uint32Array:Uint16Array,y=this.indices=new v(t*e*6),x=this.radius,b=this.phiStart,w=this.phiLength,_=this.thetaStart,S=this.thetaLength,C=[],k=[],D=0,T=1/(x=this.radius);for(f=0;f<=e;f++)for(d=0;d<=t;d++)l=d/t,c=f/e,o=-x*Math.cos(b+l*w)*Math.sin(_+c*S),s=x*Math.cos(_+c*S),u=x*Math.sin(b+l*w)*Math.sin(_+c*S),C[0]=o,C[1]=s,C[2]=u,k[0]=l,k[1]=c,n.set(D,C),r.set(D,k),C[0]*=T,C[1]*=T,C[2]*=T,i.set(D,C),D++;var I=t+1,A=0;for(f=0;f<e;f++)for(d=0;d<t;d++)p=f*I+d,h=f*I+d+1,g=(f+1)*I+d+1,m=(f+1)*I+d,y[A++]=h,y[A++]=p,y[A++]=g,y[A++]=p,y[A++]=m,y[A++]=g;this.boundingBox=new hE,this.boundingBox.max.set(x,x,x),this.boundingBox.min.set(-x,-x,-x)}}),NR=ER,RR=JE.extend({castShadow:!1},{type:"AMBIENT_LIGHT",uniformTemplates:{ambientLightColor:{type:"3f",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}}}}),PR=RR,OR=JE.extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:"DIRECTIONAL_LIGHT",uniformTemplates:{directionalLightDirection:{type:"3f",value:function(e){return e.__dir=e.__dir||new GM,e.__dir.copy(e.worldTransform.z).normalize().negate().array}},directionalLightColor:{type:"3f",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}}},clone:function(){var e=JE.prototype.clone.call(this);return e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e}}),LR=OR,FR=JE.extend({range:100,castShadow:!1},{type:"POINT_LIGHT",uniformTemplates:{pointLightPosition:{type:"3f",value:function(e){return e.getWorldPosition().array}},pointLightRange:{type:"1f",value:function(e){return e.range}},pointLightColor:{type:"3f",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}}},clone:function(){var e=JE.prototype.clone.call(this);return e.range=this.range,e}}),ZR=FR,BR=JE.extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:.001,shadowSlopeScale:2},{type:"SPOT_LIGHT",uniformTemplates:{spotLightPosition:{type:"3f",value:function(e){return e.getWorldPosition().array}},spotLightRange:{type:"1f",value:function(e){return e.range}},spotLightUmbraAngleCosine:{type:"1f",value:function(e){return Math.cos(e.umbraAngle*Math.PI/180)}},spotLightPenumbraAngleCosine:{type:"1f",value:function(e){return Math.cos(e.penumbraAngle*Math.PI/180)}},spotLightFalloffFactor:{type:"1f",value:function(e){return e.falloffFactor}},spotLightDirection:{type:"3f",value:function(e){return e.__dir=e.__dir||new GM,e.__dir.copy(e.worldTransform.z).negate().array}},spotLightColor:{type:"3f",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}}},clone:function(){var e=JE.prototype.clone.call(this);return e.range=this.range,e.umbraAngle=this.umbraAngle,e.penumbraAngle=this.penumbraAngle,e.falloffFactor=this.falloffFactor,e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e}}),zR=BR,VR=function(e,t,n,r){e=e||0,t=t||0,n=n||0,r=r||0,this.array=QM.fromValues(e,t,n,r),this._dirty=!0};VR.prototype={constructor:VR,add:function(e){return QM.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,t,n,r){return this.array[0]=e,this.array[1]=t,this.array[2]=n,this.array[3]=r,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new VR(this.x,this.y,this.z,this.w)},copy:function(e){return QM.copy(this.array,e.array),this._dirty=!0,this},dist:function(e){return QM.dist(this.array,e.array)},distance:function(e){return QM.distance(this.array,e.array)},div:function(e){return QM.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return QM.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return QM.dot(this.array,e.array)},len:function(){return QM.len(this.array)},length:function(){return QM.length(this.array)},lerp:function(e,t,n){return QM.lerp(this.array,e.array,t.array,n),this._dirty=!0,this},min:function(e){return QM.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return QM.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return QM.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return QM.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return QM.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return QM.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return QM.random(this.array,e),this._dirty=!0,this},scale:function(e){return QM.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,t){return QM.scaleAndAdd(this.array,this.array,e.array,t),this._dirty=!0,this},sqrDist:function(e){return QM.sqrDist(this.array,e.array)},squaredDistance:function(e){return QM.squaredDistance(this.array,e.array)},sqrLen:function(){return QM.sqrLen(this.array)},squaredLength:function(){return QM.squaredLength(this.array)},sub:function(e){return QM.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return QM.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return QM.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},transformQuat:function(e){return QM.transformQuat(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var jR=Object.defineProperty;if(jR){var WR=VR.prototype;jR(WR,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),jR(WR,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),jR(WR,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),jR(WR,"w",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}VR.add=function(e,t,n){return QM.add(e.array,t.array,n.array),e._dirty=!0,e},VR.set=function(e,t,n,r,i){QM.set(e.array,t,n,r,i),e._dirty=!0},VR.copy=function(e,t){return QM.copy(e.array,t.array),e._dirty=!0,e},VR.distance=VR.dist=function(e,t){return QM.distance(e.array,t.array)},VR.divide=VR.div=function(e,t,n){return QM.divide(e.array,t.array,n.array),e._dirty=!0,e},VR.dot=function(e,t){return QM.dot(e.array,t.array)},VR.len=function(e){return QM.length(e.array)},VR.lerp=function(e,t,n,r){return QM.lerp(e.array,t.array,n.array,r),e._dirty=!0,e},VR.min=function(e,t,n){return QM.min(e.array,t.array,n.array),e._dirty=!0,e},VR.max=function(e,t,n){return QM.max(e.array,t.array,n.array),e._dirty=!0,e},VR.multiply=VR.mul=function(e,t,n){return QM.multiply(e.array,t.array,n.array),e._dirty=!0,e},VR.negate=function(e,t){return QM.negate(e.array,t.array),e._dirty=!0,e},VR.normalize=function(e,t){return QM.normalize(e.array,t.array),e._dirty=!0,e},VR.random=function(e,t){return QM.random(e.array,t),e._dirty=!0,e},VR.scale=function(e,t,n){return QM.scale(e.array,t.array,n),e._dirty=!0,e},VR.scaleAndAdd=function(e,t,n,r){return QM.scaleAndAdd(e.array,t.array,n.array,r),e._dirty=!0,e},VR.squaredDistance=VR.sqrDist=function(e,t){return QM.sqrDist(e.array,t.array)},VR.squaredLength=VR.sqrLen=function(e){return QM.sqrLen(e.array)},VR.subtract=VR.sub=function(e,t,n){return QM.subtract(e.array,t.array,n.array),e._dirty=!0,e},VR.transformMat4=function(e,t,n){return QM.transformMat4(e.array,t.array,n.array),e._dirty=!0,e},VR.transformQuat=function(e,t,n){return QM.transformQuat(e.array,t.array,n.array),e._dirty=!0,e};var UR=VR,HR={create:function(){var e=new BA(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},clone:function(e){var t=new BA(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},transpose:function(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*a-i*r;return o?(o=1/o,e[0]=a*o,e[1]=-r*o,e[2]=-i*o,e[3]=n*o,e):null},adjoint:function(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e},determinant:function(e){return e[0]*e[3]-e[2]*e[1]},multiply:function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*s+a*u,e[1]=i*s+o*u,e[2]=r*l+a*c,e[3]=i*l+o*c,e}};HR.mul=HR.multiply,HR.rotate=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+a*s,e[1]=i*u+o*s,e[2]=r*-s+a*u,e[3]=i*-s+o*u,e},HR.scale=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=n[0],u=n[1];return e[0]=r*s,e[1]=i*s,e[2]=a*u,e[3]=o*u,e},HR.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))},HR.LDU=function(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]};var GR=HR,XR=function(){this.array=GR.create(),this._dirty=!0};XR.prototype={constructor:XR,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},clone:function(){return(new XR).copy(this)},copy:function(e){return GR.copy(this.array,e.array),this._dirty=!0,this},adjoint:function(){return GR.adjoint(this.array,this.array),this._dirty=!0,this},determinant:function(){return GR.determinant(this.array)},identity:function(){return GR.identity(this.array),this._dirty=!0,this},invert:function(){return GR.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return GR.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return GR.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return GR.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return GR.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return GR.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return GR.scale(this.array,this.array,e.array),this._dirty=!0,this},transpose:function(){return GR.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},XR.adjoint=function(e,t){return GR.adjoint(e.array,t.array),e._dirty=!0,e},XR.copy=function(e,t){return GR.copy(e.array,t.array),e._dirty=!0,e},XR.determinant=function(e){return GR.determinant(e.array)},XR.identity=function(e){return GR.identity(e.array),e._dirty=!0,e},XR.invert=function(e,t){return GR.invert(e.array,t.array),e._dirty=!0,e},XR.multiply=XR.mul=function(e,t,n){return GR.mul(e.array,t.array,n.array),e._dirty=!0,e},XR.rotate=function(e,t,n){return GR.rotate(e.array,t.array,n),e._dirty=!0,e},XR.scale=function(e,t,n){return GR.scale(e.array,t.array,n.array),e._dirty=!0,e},XR.transpose=function(e,t){return GR.transpose(e.array,t.array),e._dirty=!0,e};var qR=XR,YR={create:function(){var e=new BA(6);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},clone:function(e){var t=new BA(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=n*a-r*i;return u?(u=1/u,e[0]=a*u,e[1]=-r*u,e[2]=-i*u,e[3]=n*u,e[4]=(i*s-a*o)*u,e[5]=(r*o-n*s)*u,e):null},determinant:function(e){return e[0]*e[3]-e[1]*e[2]},multiply:function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=n[0],c=n[1],d=n[2],f=n[3],h=n[4],p=n[5];return e[0]=r*l+a*c,e[1]=i*l+o*c,e[2]=r*d+a*f,e[3]=i*d+o*f,e[4]=r*h+a*p+s,e[5]=i*h+o*p+u,e}};YR.mul=YR.multiply,YR.rotate=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=Math.sin(n),c=Math.cos(n);return e[0]=r*c+a*l,e[1]=i*c+o*l,e[2]=r*-l+a*c,e[3]=i*-l+o*c,e[4]=s,e[5]=u,e},YR.scale=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=n[0],c=n[1];return e[0]=r*l,e[1]=i*l,e[2]=a*c,e[3]=o*c,e[4]=s,e[5]=u,e},YR.translate=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=n[0],c=n[1];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=r*l+a*c+s,e[5]=i*l+o*c+u,e},YR.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)};var KR=YR,QR=function(){this.array=KR.create(),this._dirty=!0};QR.prototype={constructor:QR,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},clone:function(){return(new QR).copy(this)},copy:function(e){return KR.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return KR.determinant(this.array)},identity:function(){return KR.identity(this.array),this._dirty=!0,this},invert:function(){return KR.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return KR.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return KR.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return KR.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return KR.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return KR.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return KR.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return KR.translate(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},QR.copy=function(e,t){return KR.copy(e.array,t.array),e._dirty=!0,e},QR.determinant=function(e){return KR.determinant(e.array)},QR.identity=function(e){return KR.identity(e.array),e._dirty=!0,e},QR.invert=function(e,t){return KR.invert(e.array,t.array),e._dirty=!0,e},QR.multiply=QR.mul=function(e,t,n){return KR.mul(e.array,t.array,n.array),e._dirty=!0,e},QR.rotate=function(e,t,n){return KR.rotate(e.array,t.array,n),e._dirty=!0,e},QR.scale=function(e,t,n){return KR.scale(e.array,t.array,n.array),e._dirty=!0,e},QR.translate=function(e,t,n){return KR.translate(e.array,t.array,n.array),e._dirty=!0,e};var JR=QR,$R=function(){this.array=$M.create(),this._dirty=!0};$R.prototype={constructor:$R,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},adjoint:function(){return $M.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new $R).copy(this)},copy:function(e){return $M.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return $M.determinant(this.array)},fromMat2d:function(e){return $M.fromMat2d(this.array,e.array),this._dirty=!0,this},fromMat4:function(e){return $M.fromMat4(this.array,e.array),this._dirty=!0,this},fromQuat:function(e){return $M.fromQuat(this.array,e.array),this._dirty=!0,this},identity:function(){return $M.identity(this.array),this._dirty=!0,this},invert:function(){return $M.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return $M.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return $M.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return $M.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return $M.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return $M.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return $M.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return $M.translate(this.array,this.array,e.array),this._dirty=!0,this},normalFromMat4:function(e){return $M.normalFromMat4(this.array,e.array),this._dirty=!0,this},transpose:function(){return $M.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},$R.adjoint=function(e,t){return $M.adjoint(e.array,t.array),e._dirty=!0,e},$R.copy=function(e,t){return $M.copy(e.array,t.array),e._dirty=!0,e},$R.determinant=function(e){return $M.determinant(e.array)},$R.identity=function(e){return $M.identity(e.array),e._dirty=!0,e},$R.invert=function(e,t){return $M.invert(e.array,t.array),e},$R.multiply=$R.mul=function(e,t,n){return $M.mul(e.array,t.array,n.array),e._dirty=!0,e},$R.fromMat2d=function(e,t){return $M.fromMat2d(e.array,t.array),e._dirty=!0,e},$R.fromMat4=function(e,t){return $M.fromMat4(e.array,t.array),e._dirty=!0,e},$R.fromQuat=function(e,t){return $M.fromQuat(e.array,t.array),e._dirty=!0,e},$R.normalFromMat4=function(e,t){return $M.normalFromMat4(e.array,t.array),e._dirty=!0,e},$R.rotate=function(e,t,n){return $M.rotate(e.array,t.array,n),e._dirty=!0,e},$R.scale=function(e,t,n){return $M.scale(e.array,t.array,n.array),e._dirty=!0,e},$R.transpose=function(e,t){return $M.transpose(e.array,t.array),e._dirty=!0,e},$R.translate=function(e,t,n){return $M.translate(e.array,t.array,n.array),e._dirty=!0,e};var eP=$R,tP=n(14963),nP={_animators:null,getAnimators:function(){return this._animators=this._animators||[],this._animators},animate:function(e,t){this._animators=this._animators||[];var n;if(e){for(var r=e.split("."),i=this,a=0,o=r.length;a<o;a++)i&&(i=i[r[a]]);i&&(n=i)}else n=this;if(null==n)throw new Error("Target "+e+" not exists");var s=this._animators,u=new tP.Z(n,t),l=this;return u.during((function(){l.__zr&&l.__zr.refresh()})).done((function(){var e=s.indexOf(u);e>=0&&s.splice(e,1)})),s.push(u),this.__zr&&this.__zr.animation.addAnimator(u),u},stopAnimation:function(e){this._animators=this._animators||[];for(var t=this._animators,n=t.length,r=0;r<n;r++)t[r].stop(e);return t.length=0,this},addAnimatorsToZr:function(e){if(this._animators)for(var t=0;t<this._animators.length;t++)e.animation.addAnimator(this._animators[t])},removeAnimatorsFromZr:function(e){if(this._animators)for(var t=0;t<this._animators.length;t++)e.animation.removeAnimator(this._animators[t])}},rP="\n@export clay.util.rand\nhighp float rand(vec2 uv) {\n const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);\n return fract(sin(sn) * c);\n}\n@end\n@export clay.util.calculate_attenuation\nuniform float attenuationFactor : 5.0;\nfloat lightAttenuation(float dist, float range)\n{\n float attenuation = 1.0;\n attenuation = dist*dist/(range*range+1.0);\n float att_s = attenuationFactor;\n attenuation = 1.0/(attenuation*att_s+1.0);\n att_s = 1.0/(att_s+1.0);\n attenuation = attenuation - att_s;\n attenuation /= 1.0 - att_s;\n return clamp(attenuation, 0.0, 1.0);\n}\n@end\n@export clay.util.edge_factor\n#ifdef SUPPORT_STANDARD_DERIVATIVES\nfloat edgeFactor(float width)\n{\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#else\nfloat edgeFactor(float width)\n{\n return 1.0;\n}\n#endif\n@end\n@export clay.util.encode_float\nvec4 encodeFloat(const in float depth)\n{\n const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\n const vec4 bit_mask = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\n vec4 res = fract(depth * bitShifts);\n res -= res.xxyz * bit_mask;\n return res;\n}\n@end\n@export clay.util.decode_float\nfloat decodeFloat(const in vec4 color)\n{\n const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);\n return dot(color, bitShifts);\n}\n@end\n@export clay.util.float\n@import clay.util.encode_float\n@import clay.util.decode_float\n@end\n@export clay.util.rgbm_decode\nvec3 RGBMDecode(vec4 rgbm, float range) {\n return range * rgbm.rgb * rgbm.a;\n}\n@end\n@export clay.util.rgbm_encode\nvec4 RGBMEncode(vec3 color, float range) {\n if (dot(color, color) == 0.0) {\n return vec4(0.0);\n }\n vec4 rgbm;\n color /= range;\n rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);\n rgbm.a = ceil(rgbm.a * 255.0) / 255.0;\n rgbm.rgb = color / rgbm.a;\n return rgbm;\n}\n@end\n@export clay.util.rgbm\n@import clay.util.rgbm_decode\n@import clay.util.rgbm_encode\nvec4 decodeHDR(vec4 color)\n{\n#if defined(RGBM_DECODE) || defined(RGBM)\n return vec4(RGBMDecode(color, 8.12), 1.0);\n#else\n return color;\n#endif\n}\nvec4 encodeHDR(vec4 color)\n{\n#if defined(RGBM_ENCODE) || defined(RGBM)\n return RGBMEncode(color.xyz, 8.12);\n#else\n return color;\n#endif\n}\n@end\n@export clay.util.srgb\nvec4 sRGBToLinear(in vec4 value) {\n return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);\n}\nvec4 linearTosRGB(in vec4 value) {\n return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);\n}\n@end\n@export clay.chunk.skinning_header\n#ifdef SKINNING\nattribute vec3 weight : WEIGHT;\nattribute vec4 joint : JOINT;\n#ifdef USE_SKIN_MATRICES_TEXTURE\nuniform sampler2D skinMatricesTexture : ignore;\nuniform float skinMatricesTextureSize: ignore;\nmat4 getSkinMatrix(sampler2D tex, float idx) {\n float j = idx * 4.0;\n float x = mod(j, skinMatricesTextureSize);\n float y = floor(j / skinMatricesTextureSize) + 0.5;\n vec2 scale = vec2(skinMatricesTextureSize);\n return mat4(\n texture2D(tex, vec2(x + 0.5, y) / scale),\n texture2D(tex, vec2(x + 1.5, y) / scale),\n texture2D(tex, vec2(x + 2.5, y) / scale),\n texture2D(tex, vec2(x + 3.5, y) / scale)\n );\n}\nmat4 getSkinMatrix(float idx) {\n return getSkinMatrix(skinMatricesTexture, idx);\n}\n#else\nuniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;\nmat4 getSkinMatrix(float idx) {\n return skinMatrix[int(idx)];\n}\n#endif\n#endif\n@end\n@export clay.chunk.skin_matrix\nmat4 skinMatrixWS = getSkinMatrix(joint.x) * weight.x;\nif (weight.y > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.y) * weight.y;\n}\nif (weight.z > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.z) * weight.z;\n}\nfloat weightW = 1.0-weight.x-weight.y-weight.z;\nif (weightW > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.w) * weightW;\n}\n@end\n@export clay.chunk.instancing_header\n#ifdef INSTANCING\nattribute vec4 instanceMat1;\nattribute vec4 instanceMat2;\nattribute vec4 instanceMat3;\n#endif\n@end\n@export clay.chunk.instancing_matrix\nmat4 instanceMat = mat4(\n vec4(instanceMat1.xyz, 0.0),\n vec4(instanceMat2.xyz, 0.0),\n vec4(instanceMat3.xyz, 0.0),\n vec4(instanceMat1.w, instanceMat2.w, instanceMat3.w, 1.0)\n);\n@end\n@export clay.util.parallax_correct\nvec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {\n vec3 first = (boxMax - pos) / dir;\n vec3 second = (boxMin - pos) / dir;\n vec3 further = max(first, second);\n float dist = min(further.x, min(further.y, further.z));\n vec3 fixedPos = pos + dir * dist;\n vec3 boxCenter = (boxMax + boxMin) * 0.5;\n return normalize(fixedPos - boxCenter);\n}\n@end\n@export clay.util.clamp_sample\nvec4 clampSample(const in sampler2D texture, const in vec2 coord)\n{\n#ifdef STEREO\n float eye = step(0.5, coord.x) * 0.5;\n vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));\n#else\n vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));\n#endif\n return texture2D(texture, coordClamped);\n}\n@end\n@export clay.util.ACES\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\n@end";function iP(e){return e instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof Image}Object.assign(gE.prototype,nP),bM.import(rP),bM.import(wM),bM.import("\n@export ecgl.common.transformUniforms\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\nuniform mat4 world : WORLD;\n@end\n\n@export ecgl.common.attributes\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 normal : NORMAL;\n@end\n\n@export ecgl.common.uv.header\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\nuniform vec2 detailUvRepeat : [1.0, 1.0];\nuniform vec2 detailUvOffset : [0.0, 0.0];\n\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n@export ecgl.common.uv.main\nv_Texcoord = texcoord * uvRepeat + uvOffset;\nv_DetailTexcoord = texcoord * detailUvRepeat + detailUvOffset;\n@end\n\n@export ecgl.common.uv.fragmentHeader\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n\n@export ecgl.common.albedo.main\n\n vec4 albedoTexel = vec4(1.0);\n#ifdef DIFFUSEMAP_ENABLED\n albedoTexel = texture2D(diffuseMap, v_Texcoord);\n #ifdef SRGB_DECODE\n albedoTexel = sRGBToLinear(albedoTexel);\n #endif\n#endif\n\n#ifdef DETAILMAP_ENABLED\n vec4 detailTexel = texture2D(detailMap, v_DetailTexcoord);\n #ifdef SRGB_DECODE\n detailTexel = sRGBToLinear(detailTexel);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, detailTexel.rgb, detailTexel.a);\n albedoTexel.a = detailTexel.a + (1.0 - detailTexel.a) * albedoTexel.a;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexHeader\n\n#ifdef WIREFRAME_QUAD\nattribute vec4 barycentric;\nvarying vec4 v_Barycentric;\n#elif defined(WIREFRAME_TRIANGLE)\nattribute vec3 barycentric;\nvarying vec3 v_Barycentric;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n v_Barycentric = barycentric;\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentHeader\n\nuniform float wireframeLineWidth : 1;\nuniform vec4 wireframeLineColor: [0, 0, 0, 0.5];\n\n#ifdef WIREFRAME_QUAD\nvarying vec4 v_Barycentric;\nfloat edgeFactor () {\n vec4 d = fwidth(v_Barycentric);\n vec4 a4 = smoothstep(vec4(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(min(a4.x, a4.y), a4.z), a4.w);\n}\n#elif defined(WIREFRAME_TRIANGLE)\nvarying vec3 v_Barycentric;\nfloat edgeFactor () {\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n if (wireframeLineWidth > 0.) {\n vec4 lineColor = wireframeLineColor;\n#ifdef SRGB_DECODE\n lineColor = sRGBToLinear(lineColor);\n#endif\n\n gl_FragColor.rgb = mix(gl_FragColor.rgb, lineColor.rgb, (1.0 - edgeFactor()) * lineColor.a);\n }\n#endif\n@end\n\n\n\n\n@export ecgl.common.bumpMap.header\n\n#ifdef BUMPMAP_ENABLED\nuniform sampler2D bumpMap;\nuniform float bumpScale : 1.0;\n\n\nvec3 bumpNormal(vec3 surfPos, vec3 surfNormal, vec3 baseNormal)\n{\n vec2 dSTdx = dFdx(v_Texcoord);\n vec2 dSTdy = dFdy(v_Texcoord);\n\n float Hll = bumpScale * texture2D(bumpMap, v_Texcoord).x;\n float dHx = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdx).x - Hll;\n float dHy = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdy).x - Hll;\n\n vec3 vSigmaX = dFdx(surfPos);\n vec3 vSigmaY = dFdy(surfPos);\n vec3 vN = surfNormal;\n\n vec3 R1 = cross(vSigmaY, vN);\n vec3 R2 = cross(vN, vSigmaX);\n\n float fDet = dot(vSigmaX, R1);\n\n vec3 vGrad = sign(fDet) * (dHx * R1 + dHy * R2);\n return normalize(abs(fDet) * baseNormal - vGrad);\n\n}\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexHeader\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexMain\n\n#ifdef NORMALMAP_ENABLED\n if (dot(tangent, tangent) > 0.0) {\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n }\n#endif\n\n@end\n\n\n@export ecgl.common.normalMap.fragmentHeader\n\n#ifdef NORMALMAP_ENABLED\nuniform sampler2D normalMap;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.fragmentMain\n#ifdef NORMALMAP_ENABLED\n if (dot(v_Tangent, v_Tangent) > 0.0) {\n vec3 normalTexel = texture2D(normalMap, v_DetailTexcoord).xyz;\n if (dot(normalTexel, normalTexel) > 0.0) { N = normalTexel * 2.0 - 1.0;\n mat3 tbn = mat3(v_Tangent, v_Bitangent, v_Normal);\n N = normalize(tbn * N);\n }\n }\n#endif\n@end\n\n\n\n@export ecgl.common.vertexAnimation.header\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevNormal;\nuniform float percent;\n#endif\n\n@end\n\n@export ecgl.common.vertexAnimation.main\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n vec3 norm = mix(prevNormal, normal, percent);\n#else\n vec3 pos = position;\n vec3 norm = normal;\n#endif\n\n@end\n\n\n@export ecgl.common.ssaoMap.header\n#ifdef SSAOMAP_ENABLED\nuniform sampler2D ssaoMap;\nuniform vec4 viewport : VIEWPORT;\n#endif\n@end\n\n@export ecgl.common.ssaoMap.main\n float ao = 1.0;\n#ifdef SSAOMAP_ENABLED\n ao = texture2D(ssaoMap, (gl_FragCoord.xy - viewport.xy) / viewport.zw).r;\n#endif\n@end\n\n\n\n\n@export ecgl.common.diffuseLayer.header\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\nuniform float layerDiffuseIntensity[LAYER_DIFFUSEMAP_COUNT];\nuniform sampler2D layerDiffuseMap[LAYER_DIFFUSEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.header\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\nuniform float layerEmissionIntensity[LAYER_EMISSIVEMAP_COUNT];\nuniform sampler2D layerEmissiveMap[LAYER_EMISSIVEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.layers.header\n@import ecgl.common.diffuseLayer.header\n@import ecgl.common.emissiveLayer.header\n@end\n\n@export ecgl.common.diffuseLayer.main\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_DIFFUSEMAP_COUNT; _idx_++) {{\n float intensity = layerDiffuseIntensity[_idx_];\n vec4 texel2 = texture2D(layerDiffuseMap[_idx_], v_Texcoord);\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, texel2.rgb * intensity, texel2.a);\n albedoTexel.a = texel2.a + (1.0 - texel2.a) * albedoTexel.a;\n }}\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.main\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_EMISSIVEMAP_COUNT; _idx_++)\n {{\n vec4 texel2 = texture2D(layerEmissiveMap[_idx_], v_Texcoord) * layerEmissionIntensity[_idx_];\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n float intensity = layerEmissionIntensity[_idx_];\n gl_FragColor.rgb += texel2.rgb * texel2.a * intensity;\n }}\n#endif\n\n@end\n"),bM.import("@export ecgl.color.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\n@import ecgl.common.uv.header\n\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 position: POSITION;\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\n#ifdef ATMOSPHERE_ENABLED\nattribute vec3 normal: NORMAL;\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\nvarying vec3 v_Normal;\n#endif\n\nvoid main()\n{\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n @import ecgl.common.uv.main\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n#ifdef ATMOSPHERE_ENABLED\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n@export ecgl.color.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\nvarying vec3 v_Normal;\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.layers.header\n\n@import ecgl.common.uv.fragmentHeader\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n\n}\n@end"),bM.import("/**\n * http: */\n\n@export ecgl.lambert.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n\n@import ecgl.common.attributes\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.vertexAnimation.header\n\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n}\n\n@end\n\n\n@export ecgl.lambert.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\n#endif\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n gl_FragColor *= sRGBToLinear(v_Color);\n #else\n gl_FragColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseColor = vec3(0.0, 0.0, 0.0);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n diffuseColor += ambientLightColor[i] * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseColor += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n vec3 lightColor = directionalLightColor[i];\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n diffuseColor += lightColor * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor.rgb *= diffuseColor;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"),bM.import("@export ecgl.realistic.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@import ecgl.common.vertexAnimation.header\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n\n\n@export ecgl.realistic.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n#define PI 3.14159265358979\n#define ROUGHNESS_CHANEL 0\n#define METALNESS_CHANEL 1\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\n\nuniform sampler2D detailMap;\nuniform sampler2D metalnessMap;\nuniform sampler2D roughnessMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform float metalness : 0.0;\nuniform float roughness : 0.5;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\n#endif\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n@import clay.header.ambient_cubemap_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.normalMap.fragmentHeader\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import clay.util.rgbm\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n\nfloat D_Phong(float g, float ndh) {\n float a = pow(8192.0, g);\n return (a + 2.0) / 8.0 * pow(ndh, a);\n}\n\nvoid main()\n{\n vec4 albedoColor = color;\n\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n albedoColor *= sRGBToLinear(v_Color);\n #else\n albedoColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n albedoColor *= albedoTexel;\n\n float m = metalness;\n\n#ifdef METALNESSMAP_ENABLED\n float m2 = texture2D(metalnessMap, v_DetailTexcoord)[METALNESS_CHANEL];\n m = clamp(m2 + (m - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 baseColor = albedoColor.rgb;\n albedoColor.rgb = baseColor * (1.0 - m);\n vec3 specFactor = mix(vec3(0.04), baseColor, m);\n\n float g = 1.0 - roughness;\n\n#ifdef ROUGHNESSMAP_ENABLED\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 N = v_Normal;\n\n#ifdef DOUBLE_SIDED\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n@import ecgl.common.normalMap.fragmentMain\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseTerm = vec3(0.0);\n vec3 specularTerm = vec3(0.0);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n vec3 fresnelTerm = F_Schlick(ndv, specFactor);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += ambientLightColor[_idx_] * ambientFactor * ao;\n }}\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++)\n {{\n vec3 L = -directionalLightDirection[_idx_];\n vec3 lc = directionalLightColor[_idx_];\n\n vec3 H = normalize(L + V);\n float ndl = clamp(dot(N, normalize(L)), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[_idx_];\n }\n#endif\n\n vec3 li = lc * ndl * shadowContrib;\n\n diffuseTerm += li;\n specularTerm += li * fresnelTerm * D_Phong(g, ndh);\n }}\n#endif\n\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n vec3 L = reflect(-V, N);\n L = vec3(L.x, L[NORMAL_UP_AXIS], L[NORMAL_FRONT_AXIS]);\n float rough2 = clamp(1.0 - g, 0.0, 1.0);\n float bias2 = rough2 * 5.0;\n vec2 brdfParam2 = texture2D(ambientCubemapLightBRDFLookup[0], vec2(rough2, ndv)).xy;\n vec3 envWeight2 = specFactor * brdfParam2.x + brdfParam2.y;\n vec3 envTexel2;\n for(int _idx_ = 0; _idx_ < AMBIENT_CUBEMAP_LIGHT_COUNT; _idx_++)\n {{\n envTexel2 = RGBMDecode(textureCubeLodEXT(ambientCubemapLightCubemap[_idx_], L, bias2), 8.12);\n specularTerm += ambientCubemapLightColor[_idx_] * envTexel2 * envWeight2 * ao;\n }}\n#endif\n\n gl_FragColor.rgb = albedoColor.rgb * diffuseTerm + specularTerm;\n gl_FragColor.a = albedoColor.a;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n#ifdef SRGB_ENCODE\n gl_FragColor = linearTosRGB(gl_FragColor);\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"),bM.import("@export ecgl.hatching.vertex\n\n@import ecgl.realistic.vertex\n\n@end\n\n\n@export ecgl.hatching.fragment\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform vec4 color : [0.0, 0.0, 0.0, 1.0];\nuniform vec4 paperColor : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nuniform sampler2D hatch1;\nuniform sampler2D hatch2;\nuniform sampler2D hatch3;\nuniform sampler2D hatch4;\nuniform sampler2D hatch5;\nuniform sampler2D hatch6;\n\nfloat shade(in float tone) {\n vec4 c = vec4(1. ,1., 1., 1.);\n float step = 1. / 6.;\n vec2 uv = v_DetailTexcoord;\n if (tone <= step / 2.0) {\n c = mix(vec4(0.), texture2D(hatch6, uv), 12. * tone);\n }\n else if (tone <= step) {\n c = mix(texture2D(hatch6, uv), texture2D(hatch5, uv), 6. * tone);\n }\n if(tone > step && tone <= 2. * step){\n c = mix(texture2D(hatch5, uv), texture2D(hatch4, uv) , 6. * (tone - step));\n }\n if(tone > 2. * step && tone <= 3. * step){\n c = mix(texture2D(hatch4, uv), texture2D(hatch3, uv), 6. * (tone - 2. * step));\n }\n if(tone > 3. * step && tone <= 4. * step){\n c = mix(texture2D(hatch3, uv), texture2D(hatch2, uv), 6. * (tone - 3. * step));\n }\n if(tone > 4. * step && tone <= 5. * step){\n c = mix(texture2D(hatch2, uv), texture2D(hatch1, uv), 6. * (tone - 4. * step));\n }\n if(tone > 5. * step){\n c = mix(texture2D(hatch1, uv), vec4(1.), 6. * (tone - 5. * step));\n }\n\n return c.r;\n}\n\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n vec4 inkColor = sRGBToLinear(color);\n#else\n vec4 inkColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n inkColor *= sRGBToLinear(v_Color);\n #else\n inkColor *= v_Color;\n #endif\n#endif\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float tone = 0.0;\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n tone += dot(ambientLightColor[i], w) * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n tone += dot(calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_], w) * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n float lightTone = dot(directionalLightColor[i], w);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n tone += lightTone * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor = mix(inkColor, paperColor, shade(clamp(tone, 0.0, 1.0)));\n }\n@end\n"),bM.import("@export ecgl.sm.depth.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\n\nvoid main(){\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n v_ViewPosition = worldViewProjection * vec4(pos, 1.0);\n gl_Position = v_ViewPosition;\n\n v_Texcoord = texcoord;\n\n}\n@end\n\n\n\n@export ecgl.sm.depth.fragment\n\n@import clay.sm.depth.fragment\n\n@end");var aP=vN.prototype.addToScene,oP=vN.prototype.removeFromScene;vN.prototype.addToScene=function(e){if(aP.call(this,e),this.__zr){var t=this.__zr;e.traverse((function(e){e.__zr=t,e.addAnimatorsToZr&&e.addAnimatorsToZr(t)}))}},vN.prototype.removeFromScene=function(e){oP.call(this,e),e.traverse((function(e){var t=e.__zr;e.__zr=null,t&&e.removeAnimatorsFromZr&&e.removeAnimatorsFromZr(t)}))},FA.prototype.setTextureImage=function(e,t,n,r){if(this.shader){var i,a,o=n.getZr(),s=this;return s.autoUpdateTextureStatus=!1,s.disableTexture(e),(a=t)&&"none"!==a&&(i=sP.loadTexture(t,n,r,(function(t){s.enableTexture(e),o&&o.refresh()})),s.set(e,i)),i}};var sP={};sP.Renderer=ZM,sP.Node=gE,sP.Mesh=TE,sP.Shader=bM,sP.Material=FA,sP.Texture=kE,sP.Texture2D=RE,sP.Geometry=GE,sP.SphereGeometry=NR,sP.PlaneGeometry=VN,sP.CubeGeometry=UN,sP.AmbientLight=PR,sP.DirectionalLight=LR,sP.PointLight=ZR,sP.SpotLight=zR,sP.PerspectiveCamera=kN,sP.OrthographicCamera=fR,sP.Vector2=HA,sP.Vector3=GM,sP.Vector4=UR,sP.Quaternion=lE,sP.Matrix2=qR,sP.Matrix2d=JR,sP.Matrix3=eP,sP.Matrix4=aE,sP.Plane=eN,sP.Ray=YM,sP.BoundingBox=hE,sP.Frustum=sN;var uP=null;function lP(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}function cP(e){if((e.wrapS===kE.REPEAT||e.wrapT===kE.REPEAT)&&e.image){var t=lP(e.width),n=lP(e.height);if(t!==e.width||n!==e.height){var r=document.createElement("canvas");r.width=t,r.height=n,r.getContext("2d").drawImage(e.image,0,0,t,n),e.image=r}}}sP.loadTexture=function(e,t,n,r){"function"===typeof n&&(r=n,n={}),n=n||{};for(var i=Object.keys(n).sort(),a="",o=0;o<i.length;o++)a+=i[o]+"_"+n[i[o]]+"_";var s,u=t.__textureCache=t.__textureCache||new yN.ZP(20);if((s=e).getZr&&s.setOption){var l=e.__textureid__;if(d=u.get(a+l))d.texture.surface.setECharts(e),r&&r(d.texture);else{var c=new cR(e);c.onupdate=function(){t.getZr().refresh()},d={texture:c.getTexture()};for(o=0;o<i.length;o++)d.texture[i[o]]=n[i[o]];l=e.__textureid__||"__ecgl_ec__"+d.texture.__uid__,e.__textureid__=l,u.put(a+l,d),r&&r(d.texture)}return d.texture}if(iP(e)){var d;l=e.__textureid__;if(!(d=u.get(a+l))){d={texture:new sP.Texture2D({image:e})};for(o=0;o<i.length;o++)d.texture[i[o]]=n[i[o]];l=e.__textureid__||"__ecgl_image__"+d.texture.__uid__,e.__textureid__=l,u.put(a+l,d),cP(d.texture),r&&r(d.texture)}return d.texture}if(d=u.get(a+e))d.callbacks?d.callbacks.push(r):r&&r(d.texture);else if(e.match(/.hdr$|^data:application\/octet-stream/)){d={callbacks:[r]};var f=oR.loadTexture(e,{exposure:n.exposure,fileType:"hdr"},(function(){f.dirty(),d.callbacks.forEach((function(e){e&&e(f)})),d.callbacks=null}));d.texture=f,u.put(a+e,d)}else{for(f=new sP.Texture2D({image:new Image}),o=0;o<i.length;o++)f[i[o]]=n[i[o]];d={texture:f,callbacks:[r]};var h=f.image;h.onload=function(){f.image=h,cP(f),f.dirty(),d.callbacks.forEach((function(e){e&&e(f)})),d.callbacks=null},h.crossOrigin="Anonymous",h.src=e,f.image=null!==uP?uP:uP=oR.createBlank("rgba(255,255,255,0)").image,u.put(a+e,d)}return d.texture},sP.createAmbientCubemap=function(e,t,n,r){var i=(e=e||{}).texture,a=MR.firstNotNull(e.exposure,1),o=new wR({intensity:MR.firstNotNull(e.specularIntensity,1)}),s=new SR({intensity:MR.firstNotNull(e.diffuseIntensity,1),coefficients:[.844,.712,.691,-.037,.083,.167,.343,.288,.299,-.041,-.021,-.009,-.003,-.041,-.064,-.011,-.007,-.004,-.031,.034,.081,-.06,-.049,-.06,.046,.056,.05]});return o.cubemap=sP.loadTexture(i,n,{exposure:a},(function(){o.cubemap.flipY=!1,o.prefilter(t,32),s.coefficients=IR.projectEnvironmentMap(t,o.cubemap,{lod:1}),r&&r()})),{specular:o,diffuse:s}},sP.createBlankTexture=oR.createBlank,sP.isImage=iP,sP.additiveBlend=function(e){e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE)},sP.parseColor=function(e,t){return e instanceof Array?(t||(t=[]),t[0]=e[0],t[1]=e[1],t[2]=e[2],e.length>3?t[3]=e[3]:t[3]=1,t):((t=qT.$_.parse(e||"#000",t)||[0,0,0,0])[0]/=255,t[1]/=255,t[2]/=255,t)},sP.directionFromAlphaBeta=function(e,t){var n=e/180*Math.PI+Math.PI/2,r=-t/180*Math.PI+Math.PI/2,i=[],a=Math.sin(n);return i[0]=a*Math.cos(r),i[1]=-Math.cos(n),i[2]=a*Math.sin(r),i},sP.getShadowResolution=function(e){var t=1024;switch(e){case"low":t=512;break;case"medium":break;case"high":t=2048;break;case"ultra":t=4096}return t},sP.COMMON_SHADERS=["lambert","color","realistic","hatching","shadow"],sP.createShader=function(e){"ecgl.shadow"===e&&(e="ecgl.displayShadow");var t=bM.source(e+".vertex"),n=bM.source(e+".fragment");t||console.error("Vertex shader of '%s' not exits",e),n||console.error("Fragment shader of '%s' not exits",e);var r=new bM(t,n);return r.name=e,r},sP.createMaterial=function(e,t){t instanceof Array||(t=[t]);var n=sP.createShader(e),r=new FA({shader:n});return t.forEach((function(e){"string"===typeof e&&r.define(e)})),r},sP.setMaterialFromModel=function(e,t,n,r){t.autoUpdateTextureStatus=!1;var i=n.getModel(e+"Material"),a=i.get("detailTexture"),o=MR.firstNotNull(i.get("textureTiling"),1),s=MR.firstNotNull(i.get("textureOffset"),0);"number"===typeof o&&(o=[o,o]),"number"===typeof s&&(s=[s,s]);var u=o[0]>1||o[1]>1?sP.Texture.REPEAT:sP.Texture.CLAMP_TO_EDGE,l={anisotropic:8,wrapS:u,wrapT:u};if("realistic"===e){var c=i.get("roughness"),d=i.get("metalness");null!=d?isNaN(d)&&(t.setTextureImage("metalnessMap",d,r,l),d=MR.firstNotNull(i.get("metalnessAdjust"),.5)):d=0,null!=c?isNaN(c)&&(t.setTextureImage("roughnessMap",c,r,l),c=MR.firstNotNull(i.get("roughnessAdjust"),.5)):c=.5;var f=i.get("normalTexture");t.setTextureImage("detailMap",a,r,l),t.setTextureImage("normalMap",f,r,l),t.set({roughness:c,metalness:d,detailUvRepeat:o,detailUvOffset:s})}else if("lambert"===e)t.setTextureImage("detailMap",a,r,l),t.set({detailUvRepeat:o,detailUvOffset:s});else if("color"===e)t.setTextureImage("detailMap",a,r,l),t.set({detailUvRepeat:o,detailUvOffset:s});else if("hatching"===e){var h=i.get("hatchingTextures")||[];h.length;for(var p=0;p<6;p++)t.setTextureImage("hatch"+(p+1),h[p],r,{anisotropic:8,wrapS:sP.Texture.REPEAT,wrapT:sP.Texture.REPEAT});t.set({detailUvRepeat:o,detailUvOffset:s})}},sP.updateVertexAnimation=function(e,t,n,r){var i=r.get("animation"),a=r.get("animationDurationUpdate"),o=r.get("animationEasingUpdate"),s=n.shadowDepthMaterial;if(i&&t&&a>0&&t.geometry.vertexCount===n.geometry.vertexCount){n.material.define("vertex","VERTEX_ANIMATION"),n.ignorePreZ=!0,s&&s.define("vertex","VERTEX_ANIMATION");for(var u=0;u<e.length;u++)n.geometry.attributes[e[u][0]].value=t.geometry.attributes[e[u][1]].value;n.geometry.dirty(),n.__percent=0,n.material.set("percent",0),n.stopAnimation(),n.animate().when(a,{__percent:1}).during((function(){n.material.set("percent",n.__percent),s&&s.set("percent",n.__percent)})).done((function(){n.ignorePreZ=!1,n.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")})).start(o)}else n.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")};var dP=sP,fP=n(1022),hP=function(e,t){this.id=e,this.zr=t;try{this.renderer=new ZM({clearBit:0,devicePixelRatio:t.painter.dpr,preserveDrawingBuffer:!0,premultipliedAlpha:!0}),this.renderer.resize(t.painter.getWidth(),t.painter.getHeight())}catch(tZ){return this.renderer=null,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute; left: 0; top: 0; right: 0; bottom: 0;",this.dom.className="ecgl-nowebgl",this.dom.innerHTML="Sorry, your browser does not support WebGL",void console.error(tZ)}this.onglobalout=this.onglobalout.bind(this),t.on("globalout",this.onglobalout),this.dom=this.renderer.canvas;var n=this.dom.style;n.position="absolute",n.left="0",n.top="0",this.views=[],this._picking=new bE({renderer:this.renderer}),this._viewsToDispose=[],this._accumulatingId=0,this._zrEventProxy=new qT.Q.Rect({shape:{x:-1,y:-1,width:2,height:2},__isGLToZRProxy:!0}),this._backgroundColor=null,this._disposed=!1};function pP(e){var t=e.__zr;e.__zr=null,t&&e.removeAnimatorsFromZr&&e.removeAnimatorsFromZr(t)}hP.prototype.setUnpainted=function(){},hP.prototype.addView=function(e){if(e.layer!==this){var t=this._viewsToDispose.indexOf(e);t>=0&&this._viewsToDispose.splice(t,1),this.views.push(e),e.layer=this;var n=this.zr;e.scene.traverse((function(e){e.__zr=n,e.addAnimatorsToZr&&e.addAnimatorsToZr(n)}))}},hP.prototype.removeView=function(e){if(e.layer===this){var t=this.views.indexOf(e);t>=0&&(this.views.splice(t,1),e.scene.traverse(pP,this),e.layer=null,this._viewsToDispose.push(e))}},hP.prototype.removeViewsAll=function(){this.views.forEach((function(e){e.scene.traverse(pP,this),e.layer=null,this._viewsToDispose.push(e)}),this),this.views.length=0},hP.prototype.resize=function(e,t){this.renderer.resize(e,t)},hP.prototype.clear=function(){var e=this.renderer.gl,t=this._backgroundColor||[0,0,0,0];e.clearColor(t[0],t[1],t[2],t[3]),e.depthMask(!0),e.colorMask(!0,!0,!0,!0),e.clear(e.DEPTH_BUFFER_BIT|e.COLOR_BUFFER_BIT)},hP.prototype.clearDepth=function(){var e=this.renderer.gl;e.clear(e.DEPTH_BUFFER_BIT)},hP.prototype.clearColor=function(){var e=this.renderer.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},hP.prototype.needsRefresh=function(){this.zr.refresh()},hP.prototype.refresh=function(e){this._backgroundColor=e?dP.parseColor(e):[0,0,0,0],this.renderer.clearColor=this._backgroundColor;for(var t=0;t<this.views.length;t++)this.views[t].prepareRender(this.renderer);this._doRender(!1),this._trackAndClean();for(t=0;t<this._viewsToDispose.length;t++)this._viewsToDispose[t].dispose(this.renderer);this._viewsToDispose.length=0,this._startAccumulating()},hP.prototype.renderToCanvas=function(e){this._startAccumulating(!0),e.drawImage(this.dom,0,0,e.canvas.width,e.canvas.height)},hP.prototype._doRender=function(e){this.clear(),this.renderer.saveViewport();for(var t=0;t<this.views.length;t++)this.views[t].render(this.renderer,e);this.renderer.restoreViewport()},hP.prototype._stopAccumulating=function(){this._accumulatingId=0,clearTimeout(this._accumulatingTimeout)};var mP=1;function gP(e){for(var t=0;t<e.length;t++)e[t].__used__=0}function vP(e,t){for(var n=0;n<t.length;n++)t[n].__used__||t[n].dispose(e)}function yP(e,t){e.__used__=e.__used__||0,e.__used__++,1===e.__used__&&t.push(e)}function xP(e,t,n){var r,i;e.traverse((function(e){if(e.isRenderable()){var a=e.geometry,o=e.material;if(o!==r)for(var s=o.getTextureUniforms(),u=0;u<s.length;u++){var l=s[u],c=o.uniforms[l].value;if(c)if(c instanceof kE)yP(c,t);else if(c instanceof Array)for(var d=0;d<c.length;d++)c[d]instanceof kE&&yP(c[d],t)}a!==i&&yP(a,n),r=o,i=a}}));for(var a=0;a<e.lights.length;a++)e.lights[a].cubemap&&yP(e.lights[a].cubemap,t)}hP.prototype._startAccumulating=function(e){var t=this;this._stopAccumulating();for(var n=!1,r=0;r<this.views.length;r++)n=this.views[r].needsAccumulate()||n;function i(r){if(t._accumulatingId&&r===t._accumulatingId){for(var a=!0,o=0;o<t.views.length;o++)a=t.views[o].isAccumulateFinished()&&n;a||(t._doRender(!0),e?i(r):(0,fP.Z)((function(){i(r)})))}}n&&(this._accumulatingId=mP++,e?i(t._accumulatingId):this._accumulatingTimeout=setTimeout((function(){i(t._accumulatingId)}),50))},hP.prototype._trackAndClean=function(){var e=[],t=[];this._textureList&&(gP(this._textureList),gP(this._geometriesList));for(var n=0;n<this.views.length;n++)xP(this.views[n].scene,e,t);this._textureList&&(vP(this.renderer,this._textureList),vP(this.renderer,this._geometriesList)),this._textureList=e,this._geometriesList=t},hP.prototype.dispose=function(){this._disposed||(this._stopAccumulating(),this._textureList&&(gP(this._textureList),gP(this._geometriesList),vP(this.renderer,this._textureList),vP(this.renderer,this._geometriesList)),this.zr.off("globalout",this.onglobalout),this._disposed=!0)},hP.prototype.onmousedown=function(e){if(!e.target||!e.target.__isGLToZRProxy){e=e.event;var t=this.pickObject(e.offsetX,e.offsetY);t&&(this._dispatchEvent("mousedown",e,t),this._dispatchDataEvent("mousedown",e,t)),this._downX=e.offsetX,this._downY=e.offsetY}},hP.prototype.onmousemove=function(e){if(!e.target||!e.target.__isGLToZRProxy){e=e.event;var t=this.pickObject(e.offsetX,e.offsetY),n=t&&t.target,r=this._hovered;this._hovered=t,r&&n!==r.target&&(r.relatedTarget=n,this._dispatchEvent("mouseout",e,r),this.zr.setCursorStyle("default")),this._dispatchEvent("mousemove",e,t),t&&(this.zr.setCursorStyle("pointer"),r&&n===r.target||this._dispatchEvent("mouseover",e,t)),this._dispatchDataEvent("mousemove",e,t)}},hP.prototype.onmouseup=function(e){if(!e.target||!e.target.__isGLToZRProxy){e=e.event;var t=this.pickObject(e.offsetX,e.offsetY);t&&(this._dispatchEvent("mouseup",e,t),this._dispatchDataEvent("mouseup",e,t)),this._upX=e.offsetX,this._upY=e.offsetY}},hP.prototype.onclick=hP.prototype.dblclick=function(e){if(!e.target||!e.target.__isGLToZRProxy){var t=this._upX-this._downX,n=this._upY-this._downY;if(!(Math.sqrt(t*t+n*n)>20)){e=e.event;var r=this.pickObject(e.offsetX,e.offsetY);r&&(this._dispatchEvent(e.type,e,r),this._dispatchDataEvent(e.type,e,r));var i=this._clickToSetFocusPoint(e);if(i)i.view.setDOFFocusOnPoint(i.distance)&&this.zr.refresh()}}},hP.prototype._clickToSetFocusPoint=function(e){for(var t=this.renderer,n=t.viewport,r=this.views.length-1;r>=0;r--){var i=this.views[r];if(i.hasDOF()&&i.containPoint(e.offsetX,e.offsetY)){this._picking.scene=i.scene,this._picking.camera=i.camera,t.viewport=i.viewport;var a=this._picking.pick(e.offsetX,e.offsetY,!0);if(a)return a.view=i,a}}t.viewport=n},hP.prototype.onglobalout=function(e){var t=this._hovered;t&&this._dispatchEvent("mouseout",e,{target:t.target})},hP.prototype.pickObject=function(e,t){for(var n=[],r=this.renderer,i=r.viewport,a=0;a<this.views.length;a++){var o=this.views[a];o.containPoint(e,t)&&(this._picking.scene=o.scene,this._picking.camera=o.camera,r.viewport=o.viewport,this._picking.pickAll(e,t,n))}return r.viewport=i,n.sort((function(e,t){return e.distance-t.distance})),n[0]},hP.prototype._dispatchEvent=function(e,t,n){n||(n={});var r=n.target;for(n.cancelBubble=!1,n.event=t,n.type=e,n.offsetX=t.offsetX,n.offsetY=t.offsetY;r&&(r.trigger(e,n),r=r.getParent(),!n.cancelBubble););this._dispatchToView(e,n)},hP.prototype._dispatchDataEvent=function(e,t,n){var r=n&&n.target,i=r&&r.dataIndex,a=r&&r.seriesIndex,o=r&&r.eventData,s=!1,u=this._zrEventProxy;u.x=t.offsetX,u.y=t.offsetY,u.update();var l={target:u},c=qT._y.getECData(u);"mousemove"===e&&(null!=i?i!==this._lastDataIndex&&(parseInt(this._lastDataIndex,10)>=0&&(c.dataIndex=this._lastDataIndex,c.seriesIndex=this._lastSeriesIndex,this.zr.handler.dispatchToElement(l,"mouseout",t)),s=!0):null!=o&&o!==this._lastEventData&&(null!=this._lastEventData&&(c.eventData=this._lastEventData,this.zr.handler.dispatchToElement(l,"mouseout",t)),s=!0),this._lastEventData=o,this._lastDataIndex=i,this._lastSeriesIndex=a),c.eventData=o,c.dataIndex=i,c.seriesIndex=a,(null!=o||parseInt(i,10)>=0&&parseInt(a,10)>=0)&&(this.zr.handler.dispatchToElement(l,e,t),s&&this.zr.handler.dispatchToElement(l,"mouseover",t))},hP.prototype._dispatchToView=function(e,t){for(var n=0;n<this.views.length;n++)this.views[n].containPoint(t.offsetX,t.offsetY)&&this.views[n].trigger(e,t)},Object.assign(hP.prototype,aI);var bP=hP,wP=["bar3D","line3D","map3D","scatter3D","surface","lines3D","scatterGL","scatter3D"];function _P(e,t){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var n=e[t].normal,r=e[t].emphasis;n&&(e[t]=n),r&&(e.emphasis=e.emphasis||{},e.emphasis[t]=r)}}function SP(e){e&&(e instanceof Array||(e=[e]),qT.D5.each(e,(function(e){if(e.axisLabel){var t=e.axisLabel;Object.assign(t,t.textStyle),t.textStyle=null}})))}function CP(e){this._layers={},this._zr=e}CP.prototype.update=function(e,t){var n=this,r=t.getZr();if(r.getWidth()&&r.getHeight()){for(var i in this._layers)this._layers[i].removeViewsAll();e.eachComponent((function(n,r){if("series"!==n){var i=t.getViewOfComponentModel(r),s=r.coordinateSystem;if(i.__ecgl__){if(s){if(!s.viewGL)return void console.error("Can't find viewGL in coordinateSystem of component "+r.id);u=s.viewGL}else{if(!r.viewGL)return void console.error("Can't find viewGL of component "+r.id);u=s.viewGL}var u=s.viewGL,l=a(r);l.addView(u),i.afterRender&&i.afterRender(r,e,t,l),o(i.groupGL,r.get("silent"))}}})),e.eachSeries((function(n){var r=t.getViewOfSeriesModel(n),i=n.coordinateSystem;if(r.__ecgl__){if(i&&!i.viewGL&&!r.viewGL)return void console.error("Can't find viewGL of series "+r.id);var s=i&&i.viewGL||r.viewGL,u=a(n);u.addView(s),r.afterRender&&r.afterRender(n,e,t,u),o(r.groupGL,n.get("silent"))}}))}else console.warn("Dom has no width or height");function a(e){var t;r.setSleepAfterStill(0),t=(e.coordinateSystem&&e.coordinateSystem.model,e.get("zlevel"));var i=n._layers,a=i[t];if(!a){if(a=i[t]=new bP("gl-"+t,r),r.painter.isSingleCanvas()){a.virtual=!0;var o=new qT.Q.Image({z:1e4,style:{image:a.renderer.canvas},silent:!0});a.__hostImage=o,r.add(o)}r.painter.insertLayer(t,a)}return a.__hostImage&&a.__hostImage.setStyle({width:a.renderer.getWidth(),height:a.renderer.getHeight()}),a}function o(e,t){e&&e.traverse((function(e){e.isRenderable&&e.isRenderable()&&(e.ignorePicking=null!=e.$ignorePicking?e.$ignorePicking:t)}))}},qT.sq((function(e){var t=e.getZr(),n=t.painter.dispose;t.painter.dispose=function(){"function"===typeof this.eachOtherLayer&&this.eachOtherLayer((function(e){e instanceof bP&&e.dispose()})),n.call(this)},t.painter.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas)return this._layers[0].dom;var t=document.createElement("canvas"),n=e.pixelRatio||this.dpr;t.width=this.getWidth()*n,t.height=this.getHeight()*n;var r=t.getContext("2d");r.dpr=n,r.clearRect(0,0,t.width,t.height),e.backgroundColor&&(r.fillStyle=e.backgroundColor,r.fillRect(0,0,t.width,t.height));var i,a=this.storage.getDisplayList(!0),o={},s=this;function u(e,t){var n,i=s._zlevelList;null==e&&(e=-1/0);for(var a=0;a<i.length;a++){var o=i[a],u=s._layers[o];if(!u.__builtin__&&o>e&&o<t){n=u;break}}n&&n.renderToCanvas&&(r.save(),n.renderToCanvas(r),r.restore())}for(var l={ctx:r},c=0;c<a.length;c++){var d=a[c];d.zlevel!==i&&(u(i,d.zlevel),i=d.zlevel),this._doPaintEl(d,l,!0,null,o)}return u(i,1/0),t}})),qT.Br((function(e,t){var n=t.getZr();(n.__egl=n.__egl||new CP(n)).update(e,t)})),qT.ds((function(e){qT.D5.each(e.series,(function(t){qT.D5.indexOf(wP,t.type)>=0&&(!function(e){_P(e,"itemStyle"),_P(e,"lineStyle"),_P(e,"areaStyle"),_P(e,"label")}(t),"mapbox"===t.coordinateSystem&&(t.coordinateSystem="mapbox3D",e.mapbox3D=e.mapbox))})),SP(e.xAxis3D),SP(e.yAxis3D),SP(e.zAxis3D),SP(e.grid3D),_P(e.geo3D)}));var kP={defaultOption:{viewControl:{projection:"perspective",autoRotate:!1,autoRotateDirection:"cw",autoRotateSpeed:10,autoRotateAfterStill:3,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",distance:150,minDistance:40,maxDistance:400,orthographicSize:150,maxOrthographicSize:400,minOrthographicSize:20,center:[0,0,0],alpha:0,beta:0,minAlpha:-90,maxAlpha:90}},setView:function(e){e=e||{},this.option.viewControl=this.option.viewControl||{},null!=e.alpha&&(this.option.viewControl.alpha=e.alpha),null!=e.beta&&(this.option.viewControl.beta=e.beta),null!=e.distance&&(this.option.viewControl.distance=e.distance),null!=e.center&&(this.option.viewControl.center=e.center)}},DP={defaultOption:{postEffect:{enable:!1,bloom:{enable:!0,intensity:.1},depthOfField:{enable:!1,focalRange:20,focalDistance:50,blurRadius:10,fstop:2.8,quality:"medium"},screenSpaceAmbientOcclusion:{enable:!1,radius:2,quality:"medium",intensity:1},screenSpaceReflection:{enable:!1,quality:"medium",maxRoughness:.8},colorCorrection:{enable:!0,exposure:0,brightness:0,contrast:1,saturation:1,lookupTexture:""},edge:{enable:!1},FXAA:{enable:!1}},temporalSuperSampling:{enable:"auto"}}},TP={defaultOption:{light:{main:{shadow:!1,shadowQuality:"high",color:"#fff",intensity:1,alpha:0,beta:0},ambient:{color:"#fff",intensity:.2},ambientCubemap:{texture:null,exposure:1,diffuseIntensity:.5,specularIntensity:.5}}}},IP=qT.tF.extend({type:"grid3D",dependencies:["xAxis3D","yAxis3D","zAxis3D"],defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",boxWidth:100,boxHeight:100,boxDepth:100,axisPointer:{show:!0,lineStyle:{color:"rgba(0, 0, 0, 0.8)",width:1},label:{show:!0,formatter:null,margin:8,textStyle:{fontSize:14,color:"#fff",backgroundColor:"rgba(0,0,0,0.5)",padding:3,borderRadius:3}}},axisLine:{show:!0,lineStyle:{color:"#333",width:2,type:"solid"}},axisTick:{show:!0,inside:!1,length:3,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},light:{main:{alpha:30,beta:40},ambient:{intensity:.4}},viewControl:{alpha:20,beta:40,autoRotate:!1,distance:200,minDistance:40,maxDistance:400}}});qT.D5.merge(IP.prototype,kP),qT.D5.merge(IP.prototype,DP),qT.D5.merge(IP.prototype,TP);var AP=IP,MP=n(8943),EP=MR.firstNotNull,NP={left:0,middle:1,right:2};function RP(e){return e instanceof Array||(e=[e,e]),e}var PP=dI.extend((function(){return{zr:null,viewGL:null,_center:new GM,minDistance:.5,maxDistance:1.5,maxOrthographicSize:300,minOrthographicSize:30,minAlpha:-90,maxAlpha:90,minBeta:-1/0,maxBeta:1/0,autoRotateAfterStill:0,autoRotateDirection:"cw",autoRotateSpeed:60,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",_mode:"rotate",_camera:null,_needsUpdate:!1,_rotating:!1,_phi:0,_theta:0,_mouseX:0,_mouseY:0,_rotateVelocity:new HA,_panVelocity:new HA,_distance:500,_zoomSpeed:0,_stillTimeout:0,_animators:[]}}),(function(){["_mouseDownHandler","_mouseWheelHandler","_mouseMoveHandler","_mouseUpHandler","_pinchHandler","_contextMenuHandler","_update"].forEach((function(e){this[e]=this[e].bind(this)}),this)}),{init:function(){var e=this.zr;e&&(e.on("mousedown",this._mouseDownHandler),e.on("globalout",this._mouseUpHandler),e.on("mousewheel",this._mouseWheelHandler),e.on("pinch",this._pinchHandler),e.animation.on("frame",this._update),e.dom.addEventListener("contextmenu",this._contextMenuHandler))},dispose:function(){var e=this.zr;e&&(e.off("mousedown",this._mouseDownHandler),e.off("mousemove",this._mouseMoveHandler),e.off("mouseup",this._mouseUpHandler),e.off("mousewheel",this._mouseWheelHandler),e.off("pinch",this._pinchHandler),e.off("globalout",this._mouseUpHandler),e.dom.removeEventListener("contextmenu",this._contextMenuHandler),e.animation.off("frame",this._update)),this.stopAllAnimation()},getDistance:function(){return this._distance},setDistance:function(e){this._distance=e,this._needsUpdate=!0},getOrthographicSize:function(){return this._orthoSize},setOrthographicSize:function(e){this._orthoSize=e,this._needsUpdate=!0},getAlpha:function(){return this._theta/Math.PI*180},getBeta:function(){return-this._phi/Math.PI*180},getCenter:function(){return this._center.toArray()},setAlpha:function(e){e=Math.max(Math.min(this.maxAlpha,e),this.minAlpha),this._theta=e/180*Math.PI,this._needsUpdate=!0},setBeta:function(e){e=Math.max(Math.min(this.maxBeta,e),this.minBeta),this._phi=-e/180*Math.PI,this._needsUpdate=!0},setCenter:function(e){this._center.setArray(e)},setViewGL:function(e){this.viewGL=e},getCamera:function(){return this.viewGL.camera},setFromViewControlModel:function(e,t){var n=(t=t||{}).baseDistance||0,r=t.baseOrthoSize||1,i=e.get("projection");"perspective"!==i&&"orthographic"!==i&&"isometric"!==i&&(i="perspective"),this._projection=i,this.viewGL.setProjection(i);var a=e.get("distance")+n,o=e.get("orthographicSize")+r;[["damping",.8],["autoRotate",!1],["autoRotateAfterStill",3],["autoRotateDirection","cw"],["autoRotateSpeed",10],["minDistance",30],["maxDistance",400],["minOrthographicSize",30],["maxOrthographicSize",300],["minAlpha",-90],["maxAlpha",90],["minBeta",-1/0],["maxBeta",1/0],["rotateSensitivity",1],["zoomSensitivity",1],["panSensitivity",1],["panMouseButton","left"],["rotateMouseButton","middle"]].forEach((function(t){this[t[0]]=EP(e.get(t[0]),t[1])}),this),this.minDistance+=n,this.maxDistance+=n,this.minOrthographicSize+=r,this.maxOrthographicSize+=r;var s=e.ecModel,u={};["animation","animationDurationUpdate","animationEasingUpdate"].forEach((function(t){u[t]=EP(e.get(t),s&&s.get(t))}));var l=EP(t.alpha,e.get("alpha"))||0,c=EP(t.beta,e.get("beta"))||0,d=EP(t.center,e.get("center"))||[0,0,0];u.animation&&u.animationDurationUpdate>0&&this._notFirst?this.animateTo({alpha:l,beta:c,center:d,distance:a,orthographicSize:o,easing:u.animationEasingUpdate,duration:u.animationDurationUpdate}):(this.setDistance(a),this.setAlpha(l),this.setBeta(c),this.setCenter(d),this.setOrthographicSize(o)),this._notFirst=!0,this._validateProperties()},_validateProperties:function(){0},animateTo:function(e){var t=this.zr,n=this,r={},i={};return null!=e.distance&&(r.distance=this.getDistance(),i.distance=e.distance),null!=e.orthographicSize&&(r.orthographicSize=this.getOrthographicSize(),i.orthographicSize=e.orthographicSize),null!=e.alpha&&(r.alpha=this.getAlpha(),i.alpha=e.alpha),null!=e.beta&&(r.beta=this.getBeta(),i.beta=e.beta),null!=e.center&&(r.center=this.getCenter(),i.center=e.center),this._addAnimator(t.animation.animate(r).when(e.duration||1e3,i).during((function(){null!=r.alpha&&n.setAlpha(r.alpha),null!=r.beta&&n.setBeta(r.beta),null!=r.distance&&n.setDistance(r.distance),null!=r.center&&n.setCenter(r.center),null!=r.orthographicSize&&n.setOrthographicSize(r.orthographicSize),n._needsUpdate=!0}))).start(e.easing||"linear")},stopAllAnimation:function(){for(var e=0;e<this._animators.length;e++)this._animators[e].stop();this._animators.length=0},update:function(){this._needsUpdate=!0,this._update(20)},_isAnimating:function(){return this._animators.length>0},_update:function(e){if(this._rotating){var t=("cw"===this.autoRotateDirection?1:-1)*this.autoRotateSpeed/180*Math.PI;this._phi-=t*e/1e3,this._needsUpdate=!0}else this._rotateVelocity.len()>0&&(this._needsUpdate=!0);(Math.abs(this._zoomSpeed)>.1||this._panVelocity.len()>0)&&(this._needsUpdate=!0),this._needsUpdate&&(e=Math.min(e,50),this._updateDistanceOrSize(e),this._updatePan(e),this._updateRotate(e),this._updateTransform(),this.getCamera().update(),this.zr&&this.zr.refresh(),this.trigger("update"),this._needsUpdate=!1)},_updateRotate:function(e){var t=this._rotateVelocity;this._phi=t.y*e/20+this._phi,this._theta=t.x*e/20+this._theta,this.setAlpha(this.getAlpha()),this.setBeta(this.getBeta()),this._vectorDamping(t,Math.pow(this.damping,e/16))},_updateDistanceOrSize:function(e){"perspective"===this._projection?this._setDistance(this._distance+this._zoomSpeed*e/20):this._setOrthoSize(this._orthoSize+this._zoomSpeed*e/20),this._zoomSpeed*=Math.pow(this.damping,e/16)},_setDistance:function(e){this._distance=Math.max(Math.min(e,this.maxDistance),this.minDistance)},_setOrthoSize:function(e){this._orthoSize=Math.max(Math.min(e,this.maxOrthographicSize),this.minOrthographicSize);var t=this.getCamera(),n=this._orthoSize,r=n/this.viewGL.viewport.height*this.viewGL.viewport.width;t.left=-r/2,t.right=r/2,t.top=n/2,t.bottom=-n/2},_updatePan:function(e){var t=this._panVelocity,n=this._distance,r=this.getCamera(),i=r.worldTransform.y,a=r.worldTransform.x;this._center.scaleAndAdd(a,-t.x*n/200).scaleAndAdd(i,-t.y*n/200),this._vectorDamping(t,0)},_updateTransform:function(){var e=this.getCamera(),t=new GM,n=this._theta+Math.PI/2,r=this._phi+Math.PI/2,i=Math.sin(n);t.x=i*Math.cos(r),t.y=-Math.cos(n),t.z=i*Math.sin(r),e.position.copy(this._center).scaleAndAdd(t,this._distance),e.rotation.identity().rotateY(-this._phi).rotateX(-this._theta)},_startCountingStill:function(){clearTimeout(this._stillTimeout);var e=this.autoRotateAfterStill,t=this;!isNaN(e)&&e>0&&(this._stillTimeout=setTimeout((function(){t._rotating=!0}),1e3*e))},_vectorDamping:function(e,t){var n=e.len();(n*=t)<1e-4&&(n=0),e.normalize().scale(n)},_decomposeTransform:function(){if(this.getCamera()){this.getCamera().updateWorldTransform();var e=this.getCamera().worldTransform.z,t=Math.asin(e.y),n=Math.atan2(e.x,e.z);this._theta=t,this._phi=-n,this.setBeta(this.getBeta()),this.setAlpha(this.getAlpha()),this.getCamera().aspect?this._setDistance(this.getCamera().position.dist(this._center)):this._setOrthoSize(this.getCamera().top-this.getCamera().bottom)}},_mouseDownHandler:function(e){if(!e.target&&!this._isAnimating()){var t=e.offsetX,n=e.offsetY;this.viewGL&&!this.viewGL.containPoint(t,n)||(this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler),e.event.targetTouches?1===e.event.targetTouches.length&&(this._mode="rotate"):e.event.button===NP[this.rotateMouseButton]?this._mode="rotate":e.event.button===NP[this.panMouseButton]?this._mode="pan":this._mode="",this._rotateVelocity.set(0,0),this._rotating=!1,this.autoRotate&&this._startCountingStill(),this._mouseX=e.offsetX,this._mouseY=e.offsetY)}},_mouseMoveHandler:function(e){if((!e.target||!e.target.__isGLToZRProxy)&&!this._isAnimating()){var t=RP(this.panSensitivity),n=RP(this.rotateSensitivity);"rotate"===this._mode?(this._rotateVelocity.y=(e.offsetX-this._mouseX)/this.zr.getHeight()*2*n[0],this._rotateVelocity.x=(e.offsetY-this._mouseY)/this.zr.getWidth()*2*n[1]):"pan"===this._mode&&(this._panVelocity.x=(e.offsetX-this._mouseX)/this.zr.getWidth()*t[0]*400,this._panVelocity.y=(-e.offsetY+this._mouseY)/this.zr.getHeight()*t[1]*400),this._mouseX=e.offsetX,this._mouseY=e.offsetY,e.event.preventDefault()}},_mouseWheelHandler:function(e){if(!this._isAnimating()){var t=e.event.wheelDelta||-e.event.detail;this._zoomHandler(e,t)}},_pinchHandler:function(e){this._isAnimating()||(this._zoomHandler(e,e.pinchScale>1?1:-1),this._mode="")},_zoomHandler:function(e,t){if(0!==t){var n,r=e.offsetX,i=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(r,i))n="perspective"===this._projection?Math.max(Math.max(Math.min(this._distance-this.minDistance,this.maxDistance-this._distance))/20,.5):Math.max(Math.max(Math.min(this._orthoSize-this.minOrthographicSize,this.maxOrthographicSize-this._orthoSize))/20,.5),this._zoomSpeed=(t>0?-1:1)*n*this.zoomSensitivity,this._rotating=!1,this.autoRotate&&"rotate"===this._mode&&this._startCountingStill(),e.event.preventDefault()}},_mouseUpHandler:function(){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_isRightMouseButtonUsed:function(){return"right"===this.rotateMouseButton||"right"===this.panMouseButton},_contextMenuHandler:function(e){this._isRightMouseButtonUsed()&&e.preventDefault()},_addAnimator:function(e){var t=this._animators;return t.push(e),e.done((function(){var n=t.indexOf(e);n>=0&&t.splice(n,1)})),e}});Object.defineProperty(PP.prototype,"autoRotate",{get:function(e){return this._autoRotate},set:function(e){this._autoRotate=e,this._rotating=e}});var OP=PP,LP={convertToDynamicArray:function(e){e&&this.resetOffset();var t=this.attributes;for(var n in t)e||!t[n].value?t[n].value=[]:t[n].value=Array.prototype.slice.call(t[n].value);e||!this.indices?this.indices=[]:this.indices=Array.prototype.slice.call(this.indices)},convertToTypedArray:function(){var e=this.attributes;for(var t in e)e[t].value&&e[t].value.length>0?e[t].value=new Float32Array(e[t].value):e[t].value=null;this.indices&&this.indices.length>0&&(this.indices=this.vertexCount>65535?new Uint32Array(this.indices):new Uint16Array(this.indices)),this.dirty()}},FP={vec2:jA,vec3:kM,vec4:QM,mat2:GR,mat2d:KR,mat3:$M,mat4:SM,quat:tE},ZP=FP.vec3,BP=[[0,0],[1,1]],zP=GE.extend((function(){return{segmentScale:1,dynamic:!0,useNativeLine:!0,attributes:{position:new GE.Attribute("position","float",3,"POSITION"),positionPrev:new GE.Attribute("positionPrev","float",3),positionNext:new GE.Attribute("positionNext","float",3),prevPositionPrev:new GE.Attribute("prevPositionPrev","float",3),prevPosition:new GE.Attribute("prevPosition","float",3),prevPositionNext:new GE.Attribute("prevPositionNext","float",3),offset:new GE.Attribute("offset","float",1),color:new GE.Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(e){var t=this.attributes;this.vertexCount!==e&&(t.position.init(e),t.color.init(e),this.useNativeLine||(t.positionPrev.init(e),t.positionNext.init(e),t.offset.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(e){this.triangleCount!==e&&(this.indices=0===e?null:this.vertexCount>65535?new Uint32Array(3*e):new Uint16Array(3*e))},_getCubicCurveApproxStep:function(e,t,n,r){return 1/(ZP.dist(e,t)+ZP.dist(n,t)+ZP.dist(r,n)+1)*this.segmentScale},getCubicCurveVertexCount:function(e,t,n,r){var i=this._getCubicCurveApproxStep(e,t,n,r),a=Math.ceil(1/i);return this.useNativeLine?2*a:2*a+2},getCubicCurveTriangleCount:function(e,t,n,r){var i=this._getCubicCurveApproxStep(e,t,n,r),a=Math.ceil(1/i);return this.useNativeLine?0:2*a},getLineVertexCount:function(){return this.getPolylineVertexCount(BP)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(BP)},getPolylineVertexCount:function(e){var t;"number"===typeof e?t=e:t="number"!==typeof e[0]?e.length:e.length/3;return this.useNativeLine?2*(t-1):2*(t-1)+2},getPolylineTriangleCount:function(e){var t;"number"===typeof e?t=e:t="number"!==typeof e[0]?e.length:e.length/3;return this.useNativeLine?0:2*Math.max(t-1,0)},addCubicCurve:function(e,t,n,r,i,a){null==a&&(a=1);var o=e[0],s=e[1],u=e[2],l=t[0],c=t[1],d=t[2],f=n[0],h=n[1],p=n[2],m=r[0],g=r[1],v=r[2],y=this._getCubicCurveApproxStep(e,t,n,r),x=y*y,b=x*y,w=3*y,_=3*x,S=6*x,C=6*b,k=o-2*l+f,D=s-2*c+h,T=u-2*d+p,I=3*(l-f)-o+m,A=3*(c-h)-s+g,M=3*(d-p)-u+v,E=o,N=s,R=u,P=(l-o)*w+k*_+I*b,O=(c-s)*w+D*_+A*b,L=(d-u)*w+T*_+M*b,F=k*S+I*C,Z=D*S+A*C,B=T*S+M*C,z=I*C,V=A*C,j=M*C,W=0,U=0,H=Math.ceil(1/y),G=new Float32Array(3*(H+1)),X=(G=[],0);for(U=0;U<H+1;U++)G[X++]=E,G[X++]=N,G[X++]=R,E+=P,N+=O,R+=L,P+=F,O+=Z,L+=B,F+=z,Z+=V,B+=j,(W+=y)>1&&(E=P>0?Math.min(E,m):Math.max(E,m),N=O>0?Math.min(N,g):Math.max(N,g),R=L>0?Math.min(R,v):Math.max(R,v));return this.addPolyline(G,i,a)},addLine:function(e,t,n,r){return this.addPolyline([e,t],n,r)},addPolyline:function(e,t,n,r,i){if(e.length){var a="number"!==typeof e[0];if(null==i&&(i=a?e.length:e.length/3),!(i<2)){null==r&&(r=0),null==n&&(n=1),this._itemVertexOffsets.push(this._vertexOffset);var o,s,u=(a="number"!==typeof e[0])?"number"!==typeof t[0]:t.length/4===i,l=this.attributes.position,c=this.attributes.positionPrev,d=this.attributes.positionNext,f=this.attributes.color,h=this.attributes.offset,p=this.indices,m=this._vertexOffset;n=Math.max(n,.01);for(var g=r;g<i;g++){if(a)o=e[g],s=u?t[g]:t;else{var v=3*g;if((o=o||[])[0]=e[v],o[1]=e[v+1],o[2]=e[v+2],u){var y=4*g;(s=s||[])[0]=t[y],s[1]=t[y+1],s[2]=t[y+2],s[3]=t[y+3]}else s=t}if(this.useNativeLine?g>1&&(l.copy(m,m-1),f.copy(m,m-1),m++):(g<i-1&&(c.set(m+2,o),c.set(m+3,o)),g>0&&(d.set(m-2,o),d.set(m-1,o)),l.set(m,o),l.set(m+1,o),f.set(m,s),f.set(m+1,s),h.set(m,n/2),h.set(m+1,-n/2),m+=2),this.useNativeLine)f.set(m,s),l.set(m,o),m++;else if(g>0){var x=3*this._triangleOffset;(p=this.indices)[x]=m-4,p[x+1]=m-3,p[x+2]=m-2,p[x+3]=m-3,p[x+4]=m-1,p[x+5]=m-2,this._triangleOffset+=2}}if(!this.useNativeLine){var b=this._vertexOffset,w=this._vertexOffset+2*i;c.copy(b,b+2),c.copy(b+1,b+3),d.copy(w-1,w-3),d.copy(w-2,w-4)}return this._vertexOffset=m,this._vertexOffset}}},setItemColor:function(e,t){for(var n=this._itemVertexOffsets[e],r=e<this._itemVertexOffsets.length-1?this._itemVertexOffsets[e+1]:this._vertexOffset,i=n;i<r;i++)this.attributes.color.set(i,t);this.dirty("color")},currentTriangleOffset:function(){return this._triangleOffset},currentVertexOffset:function(){return this._vertexOffset}});qT.D5.defaults(zP.prototype,LP);var VP=zP;function jP(e,t,n,r,i,a,o){this._zr=e,this._x=0,this._y=0,this._rowHeight=0,this.width=r,this.height=i,this.offsetX=t,this.offsetY=n,this.dpr=o,this.gap=a}function WP(e){(e=e||{}).width=e.width||512,e.height=e.height||512,e.devicePixelRatio=e.devicePixelRatio||1,e.gap=null==e.gap?2:e.gap;var t=document.createElement("canvas");t.width=e.width*e.devicePixelRatio,t.height=e.height*e.devicePixelRatio,this._canvas=t,this._texture=new RE({image:t,flipY:!1});var n=this;this._zr=qT.x_.init(t);var r=this._zr.refreshImmediately;this._zr.refreshImmediately=function(){r.call(this),n._texture.dirty(),n.onupdate&&n.onupdate()},this._dpr=e.devicePixelRatio,this._coords={},this.onupdate=e.onupdate,this._gap=e.gap,this._textureAtlasNodes=[new jP(this._zr,0,0,e.width,e.height,this._gap,this._dpr)],this._nodeWidth=e.width,this._nodeHeight=e.height,this._currentNodeIdx=0}jP.prototype={constructor:jP,clear:function(){this._x=0,this._y=0,this._rowHeight=0},add:function(e,t,n){var r=e.getBoundingRect();null==t&&(t=r.width),null==n&&(n=r.height),t*=this.dpr,n*=this.dpr,this._fitElement(e,t,n);var i=this._x,a=this._y,o=this.width*this.dpr,s=this.height*this.dpr,u=this.gap;if(i+t+u>o&&(i=this._x=0,a+=this._rowHeight+u,this._y=a,this._rowHeight=0),this._x+=t+u,this._rowHeight=Math.max(this._rowHeight,n),a+n+u>s)return null;e.x+=this.offsetX*this.dpr+i,e.y+=this.offsetY*this.dpr+a,this._zr.add(e);var l=[this.offsetX/this.width,this.offsetY/this.height];return[[i/o+l[0],a/s+l[1]],[(i+t)/o+l[0],(a+n)/s+l[1]]]},_fitElement:function(e,t,n){var r=e.getBoundingRect(),i=t/r.width,a=n/r.height;e.x=-r.x*i,e.y=-r.y*a,e.scaleX=i,e.scaleY=a,e.update()}},WP.prototype={clear:function(){for(var e=0;e<this._textureAtlasNodes.length;e++)this._textureAtlasNodes[e].clear();this._currentNodeIdx=0,this._zr.clear(),this._coords={}},getWidth:function(){return this._width},getHeight:function(){return this._height},getTexture:function(){return this._texture},getDevicePixelRatio:function(){return this._dpr},getZr:function(){return this._zr},_getCurrentNode:function(){return this._textureAtlasNodes[this._currentNodeIdx]},_expand:function(){if(this._currentNodeIdx++,this._textureAtlasNodes[this._currentNodeIdx])return this._textureAtlasNodes[this._currentNodeIdx];var e=4096/this._dpr,t=this._textureAtlasNodes.length,n=t*this._nodeWidth%e,r=Math.floor(t*this._nodeWidth/e)*this._nodeHeight;if(!(r>=e)){var i=(n+this._nodeWidth)*this._dpr,a=(r+this._nodeHeight)*this._dpr;try{this._zr.resize({width:i,height:a})}catch(tZ){this._canvas.width=i,this._canvas.height=a}var o=new jP(this._zr,n,r,this._nodeWidth,this._nodeHeight,this._gap,this._dpr);return this._textureAtlasNodes.push(o),o}},add:function(e,t,n){if(this._coords[e.id])return this._coords[e.id];var r=this._getCurrentNode().add(e,t,n);if(!r){var i=this._expand();if(!i)return;r=i.add(e,t,n)}return this._coords[e.id]=r,r},getCoordsScale:function(){var e=this._dpr;return[this._nodeWidth/this._canvas.width*e,this._nodeHeight/this._canvas.height*e]},getCoords:function(e){return this._coords[e]},dispose:function(){this._zr.dispose()}};var UP=WP;function HP(){}HP.prototype={constructor:HP,setScene:function(e){this._scene=e,this._skybox&&this._skybox.attachScene(this._scene)},initLight:function(e){this._lightRoot=e,this.mainLight=new dP.DirectionalLight({shadowBias:.005}),this.ambientLight=new dP.AmbientLight,e.add(this.mainLight),e.add(this.ambientLight)},dispose:function(){this._lightRoot&&(this._lightRoot.remove(this.mainLight),this._lightRoot.remove(this.ambientLight))},updateLight:function(e){var t=this.mainLight,n=this.ambientLight,r=e.getModel("light"),i=r.getModel("main"),a=r.getModel("ambient");t.intensity=i.get("intensity"),n.intensity=a.get("intensity"),t.color=dP.parseColor(i.get("color")).slice(0,3),n.color=dP.parseColor(a.get("color")).slice(0,3);var o=i.get("alpha")||0,s=i.get("beta")||0;t.position.setArray(dP.directionFromAlphaBeta(o,s)),t.lookAt(dP.Vector3.ZERO),t.castShadow=i.get("shadow"),t.shadowResolution=dP.getShadowResolution(i.get("shadowQuality"))},updateAmbientCubemap:function(e,t,n){var r=t.getModel("light.ambientCubemap"),i=r.get("texture");if(i){this._cubemapLightsCache=this._cubemapLightsCache||{};var a=this._cubemapLightsCache[i];if(!a){var o=this;a=this._cubemapLightsCache[i]=dP.createAmbientCubemap(r.option,e,n,(function(){o._isSkyboxFromAmbientCubemap&&o._skybox.setEnvironmentMap(a.specular.cubemap),n.getZr().refresh()}))}this._lightRoot.add(a.diffuse),this._lightRoot.add(a.specular),this._currentCubemapLights=a}else this._currentCubemapLights&&(this._lightRoot.remove(this._currentCubemapLights.diffuse),this._lightRoot.remove(this._currentCubemapLights.specular),this._currentCubemapLights=null)},updateSkybox:function(e,t,n){var r=t.get("environment"),i=this;var a=(i._skybox=i._skybox||new GN,i._skybox);if(r&&"none"!==r)if("auto"===r)if(this._isSkyboxFromAmbientCubemap=!0,this._currentCubemapLights){var o=this._currentCubemapLights.specular.cubemap;a.setEnvironmentMap(o),this._scene&&a.attachScene(this._scene),a.material.set("lod",3)}else this._skybox&&this._skybox.detachScene();else if("object"===typeof r&&r.colorStops||"string"===typeof r&&qT.$_.parse(r)){this._isSkyboxFromAmbientCubemap=!1;var s=new dP.Texture2D({anisotropic:8,flipY:!1});a.setEnvironmentMap(s);var u=s.image=document.createElement("canvas");u.width=u.height=16;var l=u.getContext("2d"),c=new qT.Q.Rect({shape:{x:0,y:0,width:16,height:16},style:{fill:r}});qT.z$(l,c),a.attachScene(this._scene)}else{this._isSkyboxFromAmbientCubemap=!1;s=dP.loadTexture(r,n,{anisotropic:8,flipY:!1});a.setEnvironmentMap(s),a.attachScene(this._scene)}else this._skybox&&this._skybox.detachScene(this._scene),this._skybox=null;var d=t.coordinateSystem;if(this._skybox)if(!d||!d.viewGL||"auto"===r||r.match&&r.match(/.hdr$/))this._skybox.material.undefine("fragment","SRGB_DECODE");else{var f=d.viewGL.isLinearSpace()?"define":"undefine";this._skybox.material[f]("fragment","SRGB_DECODE")}}};var GP=HP,XP=FP.vec3,qP=GE.extend((function(){return{segmentScale:1,useNativeLine:!0,attributes:{position:new GE.Attribute("position","float",3,"POSITION"),normal:new GE.Attribute("normal","float",3,"NORMAL"),color:new GE.Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setQuadCount:function(e){var t=this.attributes,n=this.getQuadVertexCount()*e,r=this.getQuadTriangleCount()*e;this.vertexCount!==n&&(t.position.init(n),t.normal.init(n),t.color.init(n)),this.triangleCount!==r&&(this.indices=n>65535?new Uint32Array(3*r):new Uint16Array(3*r))},getQuadVertexCount:function(){return 4},getQuadTriangleCount:function(){return 2},addQuad:function(){var e=XP.create(),t=XP.create(),n=XP.create(),r=[0,3,1,3,2,1];return function(i,a){var o=this.attributes.position,s=this.attributes.normal,u=this.attributes.color;XP.sub(e,i[1],i[0]),XP.sub(t,i[2],i[1]),XP.cross(n,e,t),XP.normalize(n,n);for(var l=0;l<4;l++)o.set(this._vertexOffset+l,i[l]),u.set(this._vertexOffset+l,a),s.set(this._vertexOffset+l,n);var c=3*this._faceOffset;for(l=0;l<6;l++)this.indices[c+l]=r[l]+this._vertexOffset;this._vertexOffset+=4,this._faceOffset+=2}}()});qT.D5.defaults(qP.prototype,LP);var YP=qP,KP=MR.firstNotNull,QP={x:0,y:2,z:1};function JP(e,t,n){this.rootNode=new dP.Node;var r=new dP.Mesh({geometry:new VP({useNativeLine:!1}),material:t,castShadow:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:1}),i=new dP.Mesh({geometry:new YP,material:n,castShadow:!1,culling:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:0});this.rootNode.add(i),this.rootNode.add(r),this.faceInfo=e,this.plane=new dP.Plane,this.linesMesh=r,this.quadsMesh=i}JP.prototype.update=function(e,t,n){var r=e.coordinateSystem,i=[r.getAxis(this.faceInfo[0]),r.getAxis(this.faceInfo[1])],a=this.linesMesh.geometry,o=this.quadsMesh.geometry;a.convertToDynamicArray(!0),o.convertToDynamicArray(!0),this._updateSplitLines(a,i,e,n),this._udpateSplitAreas(o,i,e,n),a.convertToTypedArray(),o.convertToTypedArray();var s=r.getAxis(this.faceInfo[2]);!function(e,t,n,r){var i=[0,0,0],a=r<0?n.getExtentMin():n.getExtentMax();i[QP[n.dim]]=a,e.position.setArray(i),e.rotation.identity(),t.distance=-Math.abs(a),t.normal.set(0,0,0),"x"===n.dim?(e.rotation.rotateY(r*Math.PI/2),t.normal.x=-r):"z"===n.dim?(e.rotation.rotateX(-r*Math.PI/2),t.normal.y=-r):(r>0&&e.rotation.rotateY(Math.PI),t.normal.z=-r)}(this.rootNode,this.plane,s,this.faceInfo[3])},JP.prototype._updateSplitLines=function(e,t,n,r){var i=r.getDevicePixelRatio();t.forEach((function(r,a){var o=r.model,s=t[1-a].getExtent();if(!r.scale.isBlank()){var u=o.getModel("splitLine",n.getModel("splitLine"));if(u.get("show")){var l=u.getModel("lineStyle"),c=l.get("color"),d=KP(l.get("opacity"),1),f=KP(l.get("width"),1);c=qT.D5.isArray(c)?c:[c];for(var h=r.getTicksCoords({tickModel:u}),p=0,m=0;m<h.length;m++){var g=h[m].coord,v=dP.parseColor(c[p%c.length]);v[3]*=d;var y=[0,0,0],x=[0,0,0];y[a]=x[a]=g,y[1-a]=s[0],x[1-a]=s[1],e.addLine(y,x,v,f*i),p++}}}}))},JP.prototype._udpateSplitAreas=function(e,t,n,r){t.forEach((function(r,i){var a=r.model,o=t[1-i].getExtent();if(!r.scale.isBlank()){var s=a.getModel("splitArea",n.getModel("splitArea"));if(s.get("show")){var u=s.getModel("areaStyle"),l=u.get("color"),c=KP(u.get("opacity"),1);l=qT.D5.isArray(l)?l:[l];for(var d=r.getTicksCoords({tickModel:s,clamp:!0}),f=0,h=[0,0,0],p=[0,0,0],m=0;m<d.length;m++){var g=d[m].coord,v=[0,0,0],y=[0,0,0];if(v[i]=y[i]=g,v[1-i]=o[0],y[1-i]=o[1],0!==m){var x=dP.parseColor(l[f%l.length]);x[3]*=c,e.addQuad([h,v,y,p],x),h=v,p=y,f++}else h=v,p=y}}}}))};var $P=JP,eO=[0,1,2,0,2,3],tO=GE.extend((function(){return{attributes:{position:new GE.Attribute("position","float",3,"POSITION"),texcoord:new GE.Attribute("texcoord","float",2,"TEXCOORD_0"),offset:new GE.Attribute("offset","float",2),color:new GE.Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setSpriteCount:function(e){this._spriteCount=e;var t=4*e,n=2*e;this.vertexCount!==t&&(this.attributes.position.init(t),this.attributes.offset.init(t),this.attributes.color.init(t)),this.triangleCount!==n&&(this.indices=t>65535?new Uint32Array(3*n):new Uint16Array(3*n))},setSpriteAlign:function(e,t,n,r,i){var a,o,s,u;switch(null==n&&(n="left"),null==r&&(r="top"),i=i||0,n){case"left":a=i,s=t[0]+i;break;case"center":case"middle":a=-t[0]/2,s=t[0]/2;break;case"right":a=-t[0]-i,s=-i}switch(r){case"bottom":o=i,u=t[1]+i;break;case"middle":o=-t[1]/2,u=t[1]/2;break;case"top":o=-t[1]-i,u=-i}var l=4*e,c=this.attributes.offset;c.set(l,[a,u]),c.set(l+1,[s,u]),c.set(l+2,[s,o]),c.set(l+3,[a,o])},addSprite:function(e,t,n,r,i,a){var o=this._vertexOffset;this.setSprite(this._vertexOffset/4,e,t,n,r,i,a);for(var s=0;s<eO.length;s++)this.indices[3*this._faceOffset+s]=eO[s]+o;return this._faceOffset+=2,this._vertexOffset+=4,o/4},setSprite:function(e,t,n,r,i,a,o){for(var s=4*e,u=this.attributes,l=0;l<4;l++)u.position.set(s+l,t);var c=u.texcoord;c.set(s,[r[0][0],r[0][1]]),c.set(s+1,[r[1][0],r[0][1]]),c.set(s+2,[r[1][0],r[1][1]]),c.set(s+3,[r[0][0],r[1][1]]),this.setSpriteAlign(e,n,i,a,o)}});qT.D5.defaults(tO.prototype,LP);var nO=tO;dP.Shader.import("@export ecgl.labels.vertex\n\nattribute vec3 position: POSITION;\nattribute vec2 texcoord: TEXCOORD_0;\nattribute vec2 offset;\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n vec4 proj = worldViewProjection * vec4(position, 1.0);\n\n vec2 screen = (proj.xy / abs(proj.w) + 1.0) * 0.5 * viewport.zw;\n\n screen += offset;\n\n proj.xy = (screen / viewport.zw - 0.5) * 2.0 * abs(proj.w);\n gl_Position = proj;\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n v_Texcoord = texcoord;\n}\n@end\n\n\n@export ecgl.labels.fragment\n\nuniform vec3 color : [1.0, 1.0, 1.0];\nuniform float alpha : 1.0;\nuniform sampler2D textureAtlas;\nuniform vec2 uvScale: [1.0, 1.0];\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\nvarying float v_Miter;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n gl_FragColor = vec4(color, alpha) * texture2D(textureAtlas, v_Texcoord * uvScale);\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n}\n\n@end");var rO=dP.Mesh.extend((function(){return{geometry:new nO({dynamic:!0}),material:new dP.Material({shader:dP.createShader("ecgl.labels"),transparent:!0,depthMask:!1}),culling:!1,castShadow:!1,ignorePicking:!0}})),iO=MR.firstNotNull,aO={x:0,y:2,z:1};function oO(e,t){var n=new dP.Mesh({geometry:new VP({useNativeLine:!1}),material:t,castShadow:!1,ignorePicking:!0,renderOrder:2}),r=new rO;r.material.depthMask=!1;var i=new dP.Node;i.add(n),i.add(r),this.rootNode=i,this.dim=e,this.linesMesh=n,this.labelsMesh=r,this.axisLineCoords=null,this.labelElements=[]}var sO={x:"y",y:"x",z:"y"};oO.prototype.update=function(e,t,n){var r=e.coordinateSystem.getAxis(this.dim),i=this.linesMesh.geometry,a=this.labelsMesh.geometry;i.convertToDynamicArray(!0),a.convertToDynamicArray(!0);var o=r.model,s=r.getExtent(),u=n.getDevicePixelRatio(),l=o.getModel("axisLine",e.getModel("axisLine")),c=o.getModel("axisTick",e.getModel("axisTick")),d=o.getModel("axisLabel",e.getModel("axisLabel")),f=l.get("lineStyle.color");if(l.get("show")){var h=l.getModel("lineStyle"),p=[0,0,0];(C=[0,0,0])[k=aO[r.dim]]=s[0],p[k]=s[1],this.axisLineCoords=[C,p];var m=dP.parseColor(f),g=iO(h.get("width"),1),v=iO(h.get("opacity"),1);m[3]*=v,i.addLine(C,p,m,g*u)}if(c.get("show")){var y=c.getModel("lineStyle"),x=dP.parseColor(iO(y.get("color"),f));g=iO(y.get("width"),1);x[3]*=iO(y.get("opacity"),1);for(var b=r.getTicksCoords(),w=c.get("length"),_=0;_<b.length;_++){var S=b[_].coord,C=[0,0,0],k=(p=[0,0,0],aO[r.dim]),D=aO[sO[r.dim]];C[k]=p[k]=S,p[D]=w,i.addLine(C,p,x,g*u)}}this.labelElements=[];u=n.getDevicePixelRatio();if(d.get("show")){b=r.getTicksCoords();var T=o.get("data"),I=d.get("margin"),A=r.getViewLabels();for(_=0;_<A.length;_++){var M=A[_].tickValue,E=A[_].formattedLabel,N=A[_].rawLabel,R=(S=r.dataToCoord(M),[0,0,0]);k=aO[r.dim],D=aO[sO[r.dim]];R[k]=R[k]=S,R[D]=I;var P=d;T&&T[M]&&T[M].textStyle&&(P=new qT.Hn(T[M].textStyle,d,o.ecModel));var O=iO(P.get("color"),f),L=new qT.Q.Text({style:(0,MP.Lr)(P,{text:E,fill:"function"===typeof O?O("category"===r.type?N:"value"===r.type?M+"":M,_):O,verticalAlign:"top",align:"left"})}),F=t.add(L),Z=L.getBoundingRect();a.addSprite(R,[Z.width*u,Z.height*u],F),this.labelElements.push(L)}}if(o.get("name")){var B=o.getModel("nameTextStyle"),z=(R=[0,0,0],k=aO[r.dim],D=aO[sO[r.dim]],iO(B.get("color"),f)),V=B.get("borderColor");g=B.get("borderWidth");R[k]=R[k]=(s[0]+s[1])/2,R[D]=o.get("nameGap");L=new qT.Q.Text({style:(0,MP.Lr)(B,{text:o.get("name"),fill:z,stroke:V,lineWidth:g})}),F=t.add(L),Z=L.getBoundingRect();a.addSprite(R,[Z.width*u,Z.height*u],F),L.__idx=this.labelElements.length,this.nameLabelElement=L}this.labelsMesh.material.set("textureAtlas",t.getTexture()),this.labelsMesh.material.set("uvScale",t.getCoordsScale()),i.convertToTypedArray(),a.convertToTypedArray()},oO.prototype.setSpriteAlign=function(e,t,n){for(var r=n.getDevicePixelRatio(),i=this.labelsMesh.geometry,a=0;a<this.labelElements.length;a++){var o=this.labelElements[a].getBoundingRect();i.setSpriteAlign(a,[o.width*r,o.height*r],e,t)}var s=this.nameLabelElement;if(s){o=s.getBoundingRect();i.setSpriteAlign(s.__idx,[o.width*r,o.height*r],e,t),i.dirty()}this.textAlign=e,this.textVerticalAlign=t};var uO=oO,lO="@export ecgl.lines3D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, 1.0);\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n}\n@end\n\n\n\n@export ecgl.lines3D.clipNear\n\nvec4 clipNear(vec4 p1, vec4 p2) {\n float n = (p1.w - near) / (p1.w - p2.w);\n return vec4(mix(p1.xy, p2.xy, n), -near, near);\n}\n\n@end\n\n@export ecgl.lines3D.expandLine\n#ifdef VERTEX_ANIMATION\n vec4 prevProj = worldViewProjection * vec4(mix(prevPositionPrev, positionPrev, percent), 1.0);\n vec4 currProj = worldViewProjection * vec4(mix(prevPosition, position, percent), 1.0);\n vec4 nextProj = worldViewProjection * vec4(mix(prevPositionNext, positionNext, percent), 1.0);\n#else\n vec4 prevProj = worldViewProjection * vec4(positionPrev, 1.0);\n vec4 currProj = worldViewProjection * vec4(position, 1.0);\n vec4 nextProj = worldViewProjection * vec4(positionNext, 1.0);\n#endif\n\n if (currProj.w < 0.0) {\n if (nextProj.w > 0.0) {\n currProj = clipNear(currProj, nextProj);\n }\n else if (prevProj.w > 0.0) {\n currProj = clipNear(currProj, prevProj);\n }\n }\n\n vec2 prevScreen = (prevProj.xy / abs(prevProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 currScreen = (currProj.xy / abs(currProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 nextScreen = (nextProj.xy / abs(nextProj.w) + 1.0) * 0.5 * viewport.zw;\n\n vec2 dir;\n float len = offset;\n if (position == positionPrev) {\n dir = normalize(nextScreen - currScreen);\n }\n else if (position == positionNext) {\n dir = normalize(currScreen - prevScreen);\n }\n else {\n vec2 dirA = normalize(currScreen - prevScreen);\n vec2 dirB = normalize(nextScreen - currScreen);\n\n vec2 tanget = normalize(dirA + dirB);\n\n float miter = 1.0 / max(dot(tanget, dirA), 0.5);\n len *= miter;\n dir = tanget;\n }\n\n dir = vec2(-dir.y, dir.x) * len;\n currScreen += dir;\n\n currProj.xy = (currScreen / viewport.zw - 0.5) * 2.0 * abs(currProj.w);\n@end\n\n\n@export ecgl.meshLines3D.vertex\n\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevPositionPrev;\nattribute vec3 prevPositionNext;\nuniform float percent : 1.0;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n}\n@end\n\n\n@export ecgl.meshLines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end",cO=MR.firstNotNull;dP.Shader.import(lO);var dO={x:0,y:2,z:1},fO=qT.Ir.extend({type:"grid3D",__ecgl__:!0,init:function(e,t){var n=new dP.Material({shader:dP.createShader("ecgl.color"),depthMask:!1,transparent:!0}),r=new dP.Material({shader:dP.createShader("ecgl.meshLines3D"),depthMask:!1,transparent:!0});n.define("fragment","DOUBLE_SIDED"),n.define("both","VERTEX_COLOR"),this.groupGL=new dP.Node,this._control=new OP({zr:t.getZr()}),this._control.init(),this._faces=[["y","z","x",-1,"left"],["y","z","x",1,"right"],["x","y","z",-1,"bottom"],["x","y","z",1,"top"],["x","z","y",-1,"far"],["x","z","y",1,"near"]].map((function(e){var t=new $P(e,r,n);return this.groupGL.add(t.rootNode),t}),this),this._axes=["x","y","z"].map((function(e){var t=new uO(e,r);return this.groupGL.add(t.rootNode),t}),this);var i=t.getDevicePixelRatio();this._axisLabelSurface=new UP({width:256,height:256,devicePixelRatio:i}),this._axisLabelSurface.onupdate=function(){t.getZr().refresh()},this._axisPointerLineMesh=new dP.Mesh({geometry:new VP({useNativeLine:!1}),material:r,castShadow:!1,ignorePicking:!0,renderOrder:3}),this.groupGL.add(this._axisPointerLineMesh),this._axisPointerLabelsSurface=new UP({width:128,height:128,devicePixelRatio:i}),this._axisPointerLabelsMesh=new rO({ignorePicking:!0,renderOrder:4,castShadow:!1}),this._axisPointerLabelsMesh.material.set("textureAtlas",this._axisPointerLabelsSurface.getTexture()),this.groupGL.add(this._axisPointerLabelsMesh),this._lightRoot=new dP.Node,this._sceneHelper=new GP,this._sceneHelper.initLight(this._lightRoot)},render:function(e,t,n){this._model=e,this._api=n;var r=e.coordinateSystem;r.viewGL.add(this._lightRoot),e.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL);var i=this._control;i.setViewGL(r.viewGL);var a=e.getModel("viewControl");i.setFromViewControlModel(a,0),this._axisLabelSurface.clear(),i.off("update"),e.get("show")&&(this._faces.forEach((function(r){r.update(e,t,n)}),this),this._axes.forEach((function(t){t.update(e,this._axisLabelSurface,n)}),this)),i.on("update",this._onCameraChange.bind(this,e,n),this),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(e),r.viewGL.setPostEffect(e.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._initMouseHandler(e)},afterRender:function(e,t,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,e,n),this._sceneHelper.updateSkybox(i,e,n)},showAxisPointer:function(e,t,n,r){this._doShowAxisPointer(),this._updateAxisPointer(r.value)},hideAxisPointer:function(e,t,n,r){this._doHideAxisPointer()},_initMouseHandler:function(e){var t=e.coordinateSystem.viewGL;e.get("show")&&e.get("axisPointer.show")?t.on("mousemove",this._updateAxisPointerOnMousePosition,this):t.off("mousemove",this._updateAxisPointerOnMousePosition)},_updateAxisPointerOnMousePosition:function(e){if(!e.target){for(var t,n=this._model.coordinateSystem,r=n.viewGL,i=r.castRay(e.offsetX,e.offsetY,new dP.Ray),a=0;a<this._faces.length;a++){var o=this._faces[a];if(!o.rootNode.invisible){o.plane.normal.dot(r.camera.worldTransform.z)<0&&o.plane.normal.negate();var s=i.intersectPlane(o.plane);if(s){var u=n.getAxis(o.faceInfo[0]),l=n.getAxis(o.faceInfo[1]),c=dO[o.faceInfo[0]],d=dO[o.faceInfo[1]];u.contain(s.array[c])&&l.contain(s.array[d])&&(t=s)}}}if(t){var f=n.pointToData(t.array,[],!0);this._updateAxisPointer(f),this._doShowAxisPointer()}else this._doHideAxisPointer()}},_onCameraChange:function(e,t){e.get("show")&&(this._updateFaceVisibility(),this._updateAxisLinePosition());var n=this._control;t.dispatchAction({type:"grid3DChangeCamera",alpha:n.getAlpha(),beta:n.getBeta(),distance:n.getDistance(),center:n.getCenter(),from:this.uid,grid3DId:e.id})},_updateFaceVisibility:function(){var e=this._control.getCamera(),t=new dP.Vector3;e.update();for(var n=0;n<this._faces.length/2;n++){for(var r=[],i=0;i<2;i++){this._faces[2*n+i].rootNode.getWorldPosition(t),t.transformMat4(e.viewMatrix),r[i]=t.z}var a=r[0]>r[1]?0:1,o=this._faces[2*n+a],s=this._faces[2*n+1-a];o.rootNode.invisible=!0,s.rootNode.invisible=!1}},_updateAxisLinePosition:function(){var e=this._model.coordinateSystem,t=e.getAxis("x"),n=e.getAxis("y"),r=e.getAxis("z"),i=r.getExtentMax(),a=r.getExtentMin(),o=t.getExtentMin(),s=t.getExtentMax(),u=n.getExtentMax(),l=n.getExtentMin(),c=this._axes[0].rootNode,d=this._axes[1].rootNode,f=this._axes[2].rootNode,h=this._faces,p=h[4].rootNode.invisible?l:u,m=h[2].rootNode.invisible?i:a,g=h[0].rootNode.invisible?o:s,v=h[2].rootNode.invisible?i:a,y=h[0].rootNode.invisible?s:o,x=h[4].rootNode.invisible?l:u;c.rotation.identity(),d.rotation.identity(),f.rotation.identity(),h[4].rootNode.invisible&&(this._axes[0].flipped=!0,c.rotation.rotateX(Math.PI)),h[0].rootNode.invisible&&(this._axes[1].flipped=!0,d.rotation.rotateZ(Math.PI)),h[4].rootNode.invisible&&(this._axes[2].flipped=!0,f.rotation.rotateY(Math.PI)),c.position.set(0,m,p),d.position.set(g,v,0),f.position.set(y,0,x),c.update(),d.update(),f.update(),this._updateAxisLabelAlign()},_updateAxisLabelAlign:function(){var e=this._control.getCamera(),t=[new dP.Vector4,new dP.Vector4],n=new dP.Vector4;this.groupGL.getWorldPosition(n),n.w=1,n.transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),n.x/=n.w,n.y/=n.w,this._axes.forEach((function(r){for(var i=r.axisLineCoords,a=(r.labelsMesh.geometry,0);a<t.length;a++)t[a].setArray(i[a]),t[a].w=1,t[a].transformMat4(r.rootNode.worldTransform).transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),t[a].x/=t[a].w,t[a].y/=t[a].w;var o,s,u=t[1].x-t[0].x,l=t[1].y-t[0].y,c=(t[1].x+t[0].x)/2,d=(t[1].y+t[0].y)/2;Math.abs(l/u)<.5?(o="center",s=d>n.y?"bottom":"top"):(s="middle",o=c>n.x?"left":"right"),r.setSpriteAlign(o,s,this._api)}),this)},_doShowAxisPointer:function(){this._axisPointerLineMesh.invisible&&(this._axisPointerLineMesh.invisible=!1,this._axisPointerLabelsMesh.invisible=!1,this._api.getZr().refresh())},_doHideAxisPointer:function(){this._axisPointerLineMesh.invisible||(this._axisPointerLineMesh.invisible=!0,this._axisPointerLabelsMesh.invisible=!0,this._api.getZr().refresh())},_updateAxisPointer:function(e){var t=this._model.coordinateSystem,n=t.dataToPoint(e),r=this._axisPointerLineMesh.geometry,i=this._model.getModel("axisPointer"),a=this._api.getDevicePixelRatio();function o(e){return MR.firstNotNull(e.model.get("axisPointer.show"),i.get("show"))}function s(e){var t=e.model.getModel("axisPointer",i).getModel("lineStyle"),n=dP.parseColor(t.get("color")),r=cO(t.get("width"),1),a=cO(t.get("opacity"),1);return n[3]*=a,{color:n,lineWidth:r}}r.convertToDynamicArray(!0);for(var u=0;u<this._faces.length;u++){var l=this._faces[u];if(!l.rootNode.invisible){for(var c=l.faceInfo,d=c[3]<0?t.getAxis(c[2]).getExtentMin():t.getAxis(c[2]).getExtentMax(),f=dO[c[2]],h=0;h<2;h++){var p=c[h],m=c[1-h],g=t.getAxis(p),v=t.getAxis(m);if(o(g)){var y=dO[p],x=dO[m];(_=[0,0,0])[y]=(w=[0,0,0])[y]=n[y],_[f]=w[f]=d,_[x]=v.getExtentMin(),w[x]=v.getExtentMax();var b=s(g);r.addLine(_,w,b.color,b.lineWidth*a)}}if(o(t.getAxis(c[2]))){var w,_=n.slice();(w=n.slice())[f]=d;b=s(t.getAxis(c[2]));r.addLine(_,w,b.color,b.lineWidth*a)}}}r.convertToTypedArray(),this._updateAxisPointerLabelsMesh(e),this._api.getZr().refresh()},_updateAxisPointerLabelsMesh:function(e){var t=this._model,n=this._axisPointerLabelsMesh,r=this._axisPointerLabelsSurface,i=t.coordinateSystem,a=t.getModel("axisPointer");n.geometry.convertToDynamicArray(!0),r.clear();var o={x:"y",y:"x",z:"y"};this._axes.forEach((function(t,s){var u=i.getAxis(t.dim),l=u.model.getModel("axisPointer",a),c=l.getModel("label"),d=l.get("lineStyle.color");if(c.get("show")&&l.get("show")){var f=e[s],h=c.get("formatter"),p=u.scale.getLabel({value:f});if(null!=h)p=h(p,e);else if("interval"===u.scale.type||"log"===u.scale.type){var m=qT.Rx.getPrecisionSafe(u.scale.getTicks()[0]);p=f.toFixed(m+2)}var g=c.get("color"),v=new qT.Q.Text({style:(0,MP.Lr)(c,{text:p,fill:g||d,align:"left",verticalAlign:"top"})}),y=r.add(v),x=v.getBoundingRect(),b=this._api.getDevicePixelRatio(),w=t.rootNode.position.toArray();w[dO[o[t.dim]]]+=(t.flipped?-1:1)*c.get("margin"),w[dO[t.dim]]=u.dataToCoord(e[s]),n.geometry.addSprite(w,[x.width*b,x.height*b],y,t.textAlign,t.textVerticalAlign)}}),this),r.getZr().refreshImmediately(),n.material.set("uvScale",r.getCoordsScale()),n.geometry.convertToTypedArray()},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._axisLabelSurface.dispose(),this._axisPointerLabelsSurface.dispose()}}),hO=n(74810);function pO(e){hO.Z.call(this,e),this.type="cartesian3D",this.dimensions=["x","y","z"],this.size=[0,0,0]}pO.prototype={constructor:pO,model:null,containPoint:function(e){return this.getAxis("x").contain(e[0])&&this.getAxis("y").contain(e[2])&&this.getAxis("z").contain(e[1])},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])&&this.getAxis("z").containData(e[2])},dataToPoint:function(e,t,n){return(t=t||[])[0]=this.getAxis("x").dataToCoord(e[0],n),t[2]=this.getAxis("y").dataToCoord(e[1],n),t[1]=this.getAxis("z").dataToCoord(e[2],n),t},pointToData:function(e,t,n){return(t=t||[])[0]=this.getAxis("x").coordToData(e[0],n),t[1]=this.getAxis("y").coordToData(e[2],n),t[2]=this.getAxis("z").coordToData(e[1],n),t}},qT.D5.inherits(pO,hO.Z);var mO=pO;function gO(e,t,n){qT.RD.call(this,e,t,n)}gO.prototype={constructor:gO,getExtentMin:function(){var e=this._extent;return Math.min(e[0],e[1])},getExtentMax:function(){var e=this._extent;return Math.max(e[0],e[1])},calculateCategoryInterval:function(){return Math.floor(this.scale.count()/8)}},qT.D5.inherits(gO,qT.RD);var vO=gO,yO=n(72705),xO=function(){this._pool={},this._allocatedTextures=[]};xO.prototype={constructor:xO,get:function(e){var t=_O(e);this._pool.hasOwnProperty(t)||(this._pool[t]=[]);var n=this._pool[t];if(!n.length){var r=new RE(e);return this._allocatedTextures.push(r),r}return n.pop()},put:function(e){var t=_O(e);this._pool.hasOwnProperty(t)||(this._pool[t]=[]),this._pool[t].push(e)},clear:function(e){for(var t=0;t<this._allocatedTextures.length;t++)this._allocatedTextures[t].dispose(e);this._pool={},this._allocatedTextures=[]}};var bO={width:512,height:512,type:PI,format:WI,wrapS:tA,wrapT:tA,minFilter:QI,magFilter:XI,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1},wO=Object.keys(bO);function _O(e){lI.defaultsWithPropList(e,bO,wO),function(e){var t=(n=e.width,r=e.height,0===(n&n-1)&&0===(r&r-1));var n,r;e.format===zI&&(e.useMipmap=!1);t&&e.useMipmap||(e.minFilter==qI||e.minFilter==KI?e.minFilter=GI:e.minFilter!=QI&&e.minFilter!=YI||(e.minFilter=XI));t||(e.wrapS=tA,e.wrapT=tA)}(e);for(var t="",n=0;n<wO.length;n++){t+=e[wO[n]].toString()}return t}var SO=xO,CO=["px","nx","py","ny","pz","nz"];function kO(e,t,n){return"alphaMap"===n?e.material.get("diffuseMap"):"alphaCutoff"===n?e.material.isDefined("fragment","ALPHA_TEST")&&e.material.get("diffuseMap")&&e.material.get("alphaCutoff")||0:"uvRepeat"===n?e.material.get("uvRepeat"):"uvOffset"===n?e.material.get("uvOffset"):t.get(n)}function DO(e,t){var n=e.material,r=t.material;return n.get("diffuseMap")!==r.get("diffuseMap")||(n.get("alphaCutoff")||0)!==(r.get("alphaCutoff")||0)}bM.import("@export clay.sm.depth.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nuniform vec2 uvRepeat = vec2(1.0, 1.0);\nuniform vec2 uvOffset = vec2(0.0, 0.0);\n@import clay.chunk.skinning_header\n@import clay.chunk.instancing_header\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nvoid main(){\n vec4 P = vec4(position, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n v_ViewPosition = worldViewProjection * P;\n gl_Position = v_ViewPosition;\n v_Texcoord = texcoord * uvRepeat + uvOffset;\n}\n@end\n@export clay.sm.depth.fragment\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nuniform float bias : 0.001;\nuniform float slopeScale : 1.0;\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\n@import clay.util.encode_float\nvoid main(){\n float depth = v_ViewPosition.z / v_ViewPosition.w;\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n#ifdef USE_VSM\n depth = depth * 0.5 + 0.5;\n float moment1 = depth;\n float moment2 = depth * depth;\n #ifdef SUPPORT_STANDARD_DERIVATIVES\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n moment2 += 0.25*(dx*dx+dy*dy);\n #endif\n gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);\n#else\n #ifdef SUPPORT_STANDARD_DERIVATIVES\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n depth += sqrt(dx*dx + dy*dy) * slopeScale + bias;\n #else\n depth += bias;\n #endif\n gl_FragColor = encodeFloat(depth * 0.5 + 0.5);\n#endif\n}\n@end\n@export clay.sm.debug_depth\nuniform sampler2D depthMap;\nvarying vec2 v_Texcoord;\n@import clay.util.decode_float\nvoid main() {\n vec4 tex = texture2D(depthMap, v_Texcoord);\n#ifdef USE_VSM\n gl_FragColor = vec4(tex.rgb, 1.0);\n#else\n float depth = decodeFloat(tex);\n gl_FragColor = vec4(depth, depth, depth, 1.0);\n#endif\n}\n@end\n@export clay.sm.distance.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 world : WORLD;\nattribute vec3 position : POSITION;\n@import clay.chunk.skinning_header\nvarying vec3 v_WorldPosition;\nvoid main (){\n vec4 P = vec4(position, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n gl_Position = worldViewProjection * P;\n v_WorldPosition = (world * P).xyz;\n}\n@end\n@export clay.sm.distance.fragment\nuniform vec3 lightPosition;\nuniform float range : 100;\nvarying vec3 v_WorldPosition;\n@import clay.util.encode_float\nvoid main(){\n float dist = distance(lightPosition, v_WorldPosition);\n#ifdef USE_VSM\n gl_FragColor = vec4(dist, dist * dist, 0.0, 0.0);\n#else\n dist = dist / range;\n gl_FragColor = encodeFloat(dist);\n#endif\n}\n@end\n@export clay.plugin.shadow_map_common\n@import clay.util.decode_float\nfloat tapShadowMap(sampler2D map, vec2 uv, float z){\n vec4 tex = texture2D(map, uv);\n return step(z, decodeFloat(tex) * 2.0 - 1.0);\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize, vec2 scale) {\n float shadowContrib = tapShadowMap(map, uv, z);\n vec2 offset = vec2(1.0 / textureSize) * scale;\n#ifdef PCF_KERNEL_SIZE\n for (int _idx_ = 0; _idx_ < PCF_KERNEL_SIZE; _idx_++) {{\n shadowContrib += tapShadowMap(map, uv + offset * pcfKernel[_idx_], z);\n }}\n return shadowContrib / float(PCF_KERNEL_SIZE + 1);\n#else\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, -offset.y), z);\n return shadowContrib / 9.0;\n#endif\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize) {\n return pcf(map, uv, z, textureSize, vec2(1.0));\n}\nfloat chebyshevUpperBound(vec2 moments, float z){\n float p = 0.0;\n z = z * 0.5 + 0.5;\n if (z <= moments.x) {\n p = 1.0;\n }\n float variance = moments.y - moments.x * moments.x;\n variance = max(variance, 0.0000001);\n float mD = moments.x - z;\n float pMax = variance / (variance + mD * mD);\n pMax = clamp((pMax-0.4)/(1.0-0.4), 0.0, 1.0);\n return max(p, pMax);\n}\nfloat computeShadowContrib(\n sampler2D map, mat4 lightVPM, vec3 position, float textureSize, vec2 scale, vec2 offset\n) {\n vec4 posInLightSpace = lightVPM * vec4(position, 1.0);\n posInLightSpace.xyz /= posInLightSpace.w;\n float z = posInLightSpace.z;\n if(all(greaterThan(posInLightSpace.xyz, vec3(-0.99, -0.99, -1.0))) &&\n all(lessThan(posInLightSpace.xyz, vec3(0.99, 0.99, 1.0)))){\n vec2 uv = (posInLightSpace.xy+1.0) / 2.0;\n #ifdef USE_VSM\n vec2 moments = texture2D(map, uv * scale + offset).xy;\n return chebyshevUpperBound(moments, z);\n #else\n return pcf(map, uv * scale + offset, z, textureSize, scale);\n #endif\n }\n return 1.0;\n}\nfloat computeShadowContrib(sampler2D map, mat4 lightVPM, vec3 position, float textureSize) {\n return computeShadowContrib(map, lightVPM, position, textureSize, vec2(1.0), vec2(0.0));\n}\nfloat computeShadowContribOmni(samplerCube map, vec3 direction, float range)\n{\n float dist = length(direction);\n vec4 shadowTex = textureCube(map, direction);\n#ifdef USE_VSM\n vec2 moments = shadowTex.xy;\n float variance = moments.y - moments.x * moments.x;\n float mD = moments.x - dist;\n float p = variance / (variance + mD * mD);\n if(moments.x + 0.001 < dist){\n return clamp(p, 0.0, 1.0);\n }else{\n return 1.0;\n }\n#else\n return step(dist, (decodeFloat(shadowTex) + 0.0002) * range);\n#endif\n}\n@end\n@export clay.plugin.compute_shadow_map\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT) || defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT) || defined(POINT_LIGHT_SHADOWMAP_COUNT)\n#ifdef SPOT_LIGHT_SHADOWMAP_COUNT\nuniform sampler2D spotLightShadowMaps[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 spotLightMatrices[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float spotLightShadowMapSizes[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#ifdef DIRECTIONAL_LIGHT_SHADOWMAP_COUNT\n#if defined(SHADOW_CASCADE)\nuniform sampler2D directionalLightShadowMaps[1]:unconfigurable;\nuniform mat4 directionalLightMatrices[SHADOW_CASCADE]:unconfigurable;\nuniform float directionalLightShadowMapSizes[1]:unconfigurable;\nuniform float shadowCascadeClipsNear[SHADOW_CASCADE]:unconfigurable;\nuniform float shadowCascadeClipsFar[SHADOW_CASCADE]:unconfigurable;\n#else\nuniform sampler2D directionalLightShadowMaps[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 directionalLightMatrices[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float directionalLightShadowMapSizes[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#endif\n#ifdef POINT_LIGHT_SHADOWMAP_COUNT\nuniform samplerCube pointLightShadowMaps[POINT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\nuniform bool shadowEnabled : true;\n#ifdef PCF_KERNEL_SIZE\nuniform vec2 pcfKernel[PCF_KERNEL_SIZE];\n#endif\n@import clay.plugin.shadow_map_common\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfSpotLights(vec3 position, inout float shadowContribs[SPOT_LIGHT_COUNT] ) {\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < SPOT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n spotLightShadowMaps[_idx_], spotLightMatrices[_idx_], position,\n spotLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = SPOT_LIGHT_SHADOWMAP_COUNT; _idx_ < SPOT_LIGHT_COUNT; _idx_++){{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n#ifdef SHADOW_CASCADE\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float depth = (2.0 * gl_FragCoord.z - gl_DepthRange.near - gl_DepthRange.far)\n / (gl_DepthRange.far - gl_DepthRange.near);\n float shadowContrib;\n shadowContribs[0] = 1.0;\n for (int _idx_ = 0; _idx_ < SHADOW_CASCADE; _idx_++) {{\n if (\n depth >= shadowCascadeClipsNear[_idx_] &&\n depth <= shadowCascadeClipsFar[_idx_]\n ) {\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[0], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[0],\n vec2(1.0 / float(SHADOW_CASCADE), 1.0),\n vec2(float(_idx_) / float(SHADOW_CASCADE), 0.0)\n );\n shadowContribs[0] = shadowContrib;\n }\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#else\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[_idx_], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n#if defined(POINT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfPointLights(vec3 position, inout float shadowContribs[POINT_LIGHT_COUNT] ){\n vec3 lightPosition;\n vec3 direction;\n for(int _idx_ = 0; _idx_ < POINT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n lightPosition = pointLightPosition[_idx_];\n direction = position - lightPosition;\n shadowContribs[_idx_] = computeShadowContribOmni(pointLightShadowMaps[_idx_], direction, pointLightRange[_idx_]);\n }}\n for(int _idx_ = POINT_LIGHT_SHADOWMAP_COUNT; _idx_ < POINT_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n@end");var TO=dI.extend((function(){return{softShadow:TO.PCF,shadowBlur:1,lightFrustumBias:"auto",kernelPCF:new Float32Array([1,0,1,1,-1,1,0,1,-1,0,-1,-1,1,-1,0,-1]),precision:"highp",_lastRenderNotCastShadow:!1,_frameBuffer:new FN,_textures:{},_shadowMapNumber:{POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},_depthMaterials:{},_distanceMaterials:{},_receivers:[],_lightsCastShadow:[],_lightCameras:{},_lightMaterials:{},_texturePool:new SO}}),(function(){this._gaussianPassH=new gR({fragment:bM.source("clay.compositor.gaussian_blur")}),this._gaussianPassV=new gR({fragment:bM.source("clay.compositor.gaussian_blur")}),this._gaussianPassH.setUniform("blurSize",this.shadowBlur),this._gaussianPassH.setUniform("blurDir",0),this._gaussianPassV.setUniform("blurSize",this.shadowBlur),this._gaussianPassV.setUniform("blurDir",1),this._outputDepthPass=new gR({fragment:bM.source("clay.sm.debug_depth")})}),{render:function(e,t,n,r){n||(n=t.getMainCamera()),this.trigger("beforerender",this,e,t,n),this._renderShadowPass(e,t,n,r),this.trigger("afterrender",this,e,t,n)},renderDebug:function(e,t){e.saveClear();var n=e.viewport,r=0,i=t||n.width/4,a=i;for(var o in this.softShadow===TO.VSM?this._outputDepthPass.material.define("fragment","USE_VSM"):this._outputDepthPass.material.undefine("fragment","USE_VSM"),this._textures){var s=this._textures[o];e.setViewport(r,0,i*s.width/s.height,a),this._outputDepthPass.setUniform("depthMap",s),this._outputDepthPass.render(e),r+=i*s.width/s.height}e.setViewport(n),e.restoreClear()},_updateReceivers:function(e,t){if(t.receiveShadow?(this._receivers.push(t),t.material.set("shadowEnabled",1),t.material.set("pcfKernel",this.kernelPCF)):t.material.set("shadowEnabled",0),this.softShadow===TO.VSM)t.material.define("fragment","USE_VSM"),t.material.undefine("fragment","PCF_KERNEL_SIZE");else{t.material.undefine("fragment","USE_VSM");var n=this.kernelPCF;n&&n.length?t.material.define("fragment","PCF_KERNEL_SIZE",n.length/2):t.material.undefine("fragment","PCF_KERNEL_SIZE")}},_update:function(e,t){var n=this;t.traverse((function(t){t.isRenderable()&&n._updateReceivers(e,t)}));for(var r=0;r<t.lights.length;r++){var i=t.lights[r];i.castShadow&&!i.invisible&&this._lightsCastShadow.push(i)}},_renderShadowPass:function(e,t,n,r){for(var i in this._shadowMapNumber)this._shadowMapNumber[i]=0;this._lightsCastShadow.length=0,this._receivers.length=0;var a=e.gl;if(r||t.update(),n&&n.update(),t.updateLights(),this._update(e,t),this._lightsCastShadow.length||!this._lastRenderNotCastShadow){this._lastRenderNotCastShadow=0===this._lightsCastShadow,a.enable(a.DEPTH_TEST),a.depthMask(!0),a.disable(a.BLEND),a.clearColor(1,1,1,1);for(var o,s=[],u=[],l=[],c=[],d=[],f=[],h=0;h<this._lightsCastShadow.length;h++){var p=this._lightsCastShadow[h];if("DIRECTIONAL_LIGHT"===p.type){if(o){console.warn("Only one direectional light supported with shadow cascade");continue}if(p.shadowCascade>4){console.warn("Support at most 4 cascade");continue}p.shadowCascade>1&&(o=p),this.renderDirectionalLightShadow(e,t,n,p,d,c,l)}else"SPOT_LIGHT"===p.type?this.renderSpotLightShadow(e,t,p,u,s):"POINT_LIGHT"===p.type&&this.renderPointLightShadow(e,t,p,f);this._shadowMapNumber[p.type]++}for(var m in this._shadowMapNumber){var g=this._shadowMapNumber[m],v=m+"_SHADOWMAP_COUNT";for(h=0;h<this._receivers.length;h++){(y=this._receivers[h].material).fragmentDefines[v]!==g&&(g>0?y.define("fragment",v,g):y.isDefined("fragment",v)&&y.undefine("fragment",v))}}for(h=0;h<this._receivers.length;h++){var y=this._receivers[h].material;o?y.define("fragment","SHADOW_CASCADE",o.shadowCascade):y.undefine("fragment","SHADOW_CASCADE")}var x=t.shadowUniforms;if(l.length>0){var b=l.map(C);if(x.directionalLightShadowMaps={value:l,type:"tv"},x.directionalLightMatrices={value:c,type:"m4v"},x.directionalLightShadowMapSizes={value:b,type:"1fv"},o){var w=d.slice(),_=d.slice();w.pop(),_.shift(),w.reverse(),_.reverse(),c.reverse(),x.shadowCascadeClipsNear={value:w,type:"1fv"},x.shadowCascadeClipsFar={value:_,type:"1fv"}}}if(s.length>0){var S=s.map(C);(x=t.shadowUniforms).spotLightShadowMaps={value:s,type:"tv"},x.spotLightMatrices={value:u,type:"m4v"},x.spotLightShadowMapSizes={value:S,type:"1fv"}}f.length>0&&(x.pointLightShadowMaps={value:f,type:"tv"})}function C(e){return e.height}},renderDirectionalLightShadow:function(){var e=new sN,t=new aE,n=new hE,r=new aE,i=new aE,a=new aE,o=new aE;return function(s,u,l,c,d,f,h){var p=this._getDepthMaterial(c),m={getMaterial:function(e){return e.shadowDepthMaterial||p},isMaterialChanged:DO,getUniform:kO,ifRender:function(e){return e.castShadow},sortCompare:ZM.opaqueSortCompare};if(!u.viewBoundingBoxLastFrame.isFinite()){var g=u.getBoundingBox();u.viewBoundingBoxLastFrame.copy(g).applyTransform(l.viewMatrix)}var v=Math.min(-u.viewBoundingBoxLastFrame.min.z,l.far),y=Math.max(-u.viewBoundingBoxLastFrame.max.z,l.near),x=this._getDirectionalLightCamera(c,u,l),b=a.array;o.copy(x.projectionMatrix),SM.invert(i.array,x.worldTransform.array),SM.multiply(i.array,i.array,l.worldTransform.array),SM.multiply(b,o.array,i.array);for(var w=[],_=l instanceof kN,S=(l.near+l.far)/(l.near-l.far),C=2*l.near*l.far/(l.near-l.far),k=0;k<=c.shadowCascade;k++){var D=y*Math.pow(v/y,k/c.shadowCascade),T=y+(v-y)*k/c.shadowCascade,I=D*c.cascadeSplitLogFactor+T*(1-c.cascadeSplitLogFactor);w.push(I),d.push(-(-I*S+C)/-I)}var A=this._getTexture(c,c.shadowCascade);h.push(A);var M=s.viewport,E=s.gl;this._frameBuffer.attach(A),this._frameBuffer.bind(s),E.clear(E.COLOR_BUFFER_BIT|E.DEPTH_BUFFER_BIT);for(k=0;k<c.shadowCascade;k++){var N=w[k],R=w[k+1];_?SM.perspective(t.array,l.fov/180*Math.PI,l.aspect,N,R):SM.ortho(t.array,l.left,l.right,l.bottom,l.top,N,R),e.setFromProjection(t),e.getTransformedBoundingBox(n,i),n.applyProjection(o);var P=n.min.array,O=n.max.array;P[0]=Math.max(P[0],-1),P[1]=Math.max(P[1],-1),O[0]=Math.min(O[0],1),O[1]=Math.min(O[1],1),r.ortho(P[0],O[0],P[1],O[1],1,-1),x.projectionMatrix.multiplyLeft(r);var L=c.shadowResolution||512;s.setViewport((c.shadowCascade-k-1)*L,0,L,L,1);var F=u.updateRenderList(x);s.renderPass(F.opaque,x,m),this.softShadow===TO.VSM&&this._gaussianFilter(s,A,A.width);var Z=new aE;Z.copy(x.viewMatrix).multiplyLeft(x.projectionMatrix),f.push(Z.array),x.projectionMatrix.copy(o)}this._frameBuffer.unbind(s),s.setViewport(M)}}(),renderSpotLightShadow:function(e,t,n,r,i){var a=this._getTexture(n),o=this._getSpotLightCamera(n),s=e.gl;this._frameBuffer.attach(a),this._frameBuffer.bind(e),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT);var u=this._getDepthMaterial(n),l={getMaterial:function(e){return e.shadowDepthMaterial||u},isMaterialChanged:DO,getUniform:kO,ifRender:function(e){return e.castShadow},sortCompare:ZM.opaqueSortCompare},c=t.updateRenderList(o);e.renderPass(c.opaque,o,l),this._frameBuffer.unbind(e),this.softShadow===TO.VSM&&this._gaussianFilter(e,a,a.width);var d=new aE;d.copy(o.worldTransform).invert().multiplyLeft(o.projectionMatrix),i.push(a),r.push(d.array)},renderPointLightShadow:function(e,t,n,r){var i=this._getTexture(n),a=e.gl;r.push(i);var o=this._getDepthMaterial(n),s={getMaterial:function(e){return e.shadowDepthMaterial||o},getUniform:kO,sortCompare:ZM.opaqueSortCompare},u={px:[],py:[],pz:[],nx:[],ny:[],nz:[]},l=new hE,c=n.getWorldPosition().array,d=new hE,f=n.range;d.min.setArray(c),d.max.setArray(c);var h=new GM(f,f,f);d.max.add(h),d.min.sub(h);var p={px:!1,py:!1,pz:!1,nx:!1,ny:!1,nz:!1};t.traverse((function(e){if(e.isRenderable()&&e.castShadow){var t=e.geometry;if(!t.boundingBox){for(var n=0;n<CO.length;n++)u[CO[n]].push(e);return}if(l.transformFrom(t.boundingBox,e.worldTransform),!l.intersectBoundingBox(d))return;l.updateVertices();for(n=0;n<CO.length;n++)p[CO[n]]=!1;for(n=0;n<8;n++){var r=l.vertices[n],i=r[0]-c[0],a=r[1]-c[1],o=r[2]-c[2],s=Math.abs(i),f=Math.abs(a),h=Math.abs(o);s>f?s>h?p[i>0?"px":"nx"]=!0:p[o>0?"pz":"nz"]=!0:f>h?p[a>0?"py":"ny"]=!0:p[o>0?"pz":"nz"]=!0}for(n=0;n<CO.length;n++)p[CO[n]]&&u[CO[n]].push(e)}}));for(var m=0;m<6;m++){var g=CO[m],v=this._getPointLightCamera(n,g);this._frameBuffer.attach(i,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+m),this._frameBuffer.bind(e),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),e.renderPass(u[g],v,s)}this._frameBuffer.unbind(e)},_getDepthMaterial:function(e){var t=this._lightMaterials[e.__uid__],n="POINT_LIGHT"===e.type;if(!t){var r=n?"clay.sm.distance.":"clay.sm.depth.";t=new FA({precision:this.precision,shader:new bM(bM.source(r+"vertex"),bM.source(r+"fragment"))}),this._lightMaterials[e.__uid__]=t}return null!=e.shadowSlopeScale&&t.setUniform("slopeScale",e.shadowSlopeScale),null!=e.shadowBias&&t.setUniform("bias",e.shadowBias),this.softShadow===TO.VSM?t.define("fragment","USE_VSM"):t.undefine("fragment","USE_VSM"),n&&(t.set("lightPosition",e.getWorldPosition().array),t.set("range",e.range)),t},_gaussianFilter:function(e,t,n){var r={width:n,height:n,type:kE.FLOAT},i=this._texturePool.get(r);this._frameBuffer.attach(i),this._frameBuffer.bind(e),this._gaussianPassH.setUniform("texture",t),this._gaussianPassH.setUniform("textureWidth",n),this._gaussianPassH.render(e),this._frameBuffer.attach(t),this._gaussianPassV.setUniform("texture",i),this._gaussianPassV.setUniform("textureHeight",n),this._gaussianPassV.render(e),this._frameBuffer.unbind(e),this._texturePool.put(i)},_getTexture:function(e,t){var n=e.__uid__,r=this._textures[n],i=e.shadowResolution||512;return t=t||1,r||((r="POINT_LIGHT"===e.type?new SN:new RE).width=i*t,r.height=i,this.softShadow===TO.VSM?(r.type=kE.FLOAT,r.anisotropic=4):(r.minFilter=GI,r.magFilter=GI,r.useMipmap=!1),this._textures[n]=r),r},_getPointLightCamera:function(e,t){this._lightCameras.point||(this._lightCameras.point={px:new kN,nx:new kN,py:new kN,ny:new kN,pz:new kN,nz:new kN});var n=this._lightCameras.point[t];switch(n.far=e.range,n.fov=90,n.position.set(0,0,0),t){case"px":n.lookAt(GM.POSITIVE_X,GM.NEGATIVE_Y);break;case"nx":n.lookAt(GM.NEGATIVE_X,GM.NEGATIVE_Y);break;case"py":n.lookAt(GM.POSITIVE_Y,GM.POSITIVE_Z);break;case"ny":n.lookAt(GM.NEGATIVE_Y,GM.NEGATIVE_Z);break;case"pz":n.lookAt(GM.POSITIVE_Z,GM.NEGATIVE_Y);break;case"nz":n.lookAt(GM.NEGATIVE_Z,GM.NEGATIVE_Y)}return e.getWorldPosition(n.position),n.update(),n},_getDirectionalLightCamera:function(){var e=new aE,t=new hE,n=new hE;return function(r,i,a){this._lightCameras.directional||(this._lightCameras.directional=new fR);var o=this._lightCameras.directional;t.copy(i.viewBoundingBoxLastFrame),t.intersection(a.frustum.boundingBox),o.position.copy(t.min).add(t.max).scale(.5).transformMat4(a.worldTransform),o.rotation.copy(r.rotation),o.scale.copy(r.scale),o.updateWorldTransform(),aE.invert(e,o.worldTransform),aE.multiply(e,e,a.worldTransform),n.copy(t).applyTransform(e);var s=n.min.array,u=n.max.array;return o.position.set((s[0]+u[0])/2,(s[1]+u[1])/2,u[2]).transformMat4(o.worldTransform),o.near=0,o.far=-s[2]+u[2],isNaN(this.lightFrustumBias)?o.far*=4:o.far+=this.lightFrustumBias,o.left=s[0],o.right=u[0],o.top=u[1],o.bottom=s[1],o.update(!0),o}}(),_getSpotLightCamera:function(e){this._lightCameras.spot||(this._lightCameras.spot=new kN);var t=this._lightCameras.spot;return t.fov=2*e.penumbraAngle,t.far=e.range,t.worldTransform.copy(e.worldTransform),t.updateProjectionMatrix(),SM.invert(t.viewMatrix.array,t.worldTransform.array),t},dispose:function(e){var t=e.gl||e;for(var n in this._frameBuffer&&this._frameBuffer.dispose(t),this._textures)this._textures[n].dispose(t);this._texturePool.clear(e.gl),this._depthMaterials={},this._distanceMaterials={},this._textures={},this._lightCameras={},this._shadowMapNumber={POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},this._meshMaterials={};for(var r=0;r<this._receivers.length;r++){var i=this._receivers[r];if(i.material){var a=i.material;a.undefine("fragment","POINT_LIGHT_SHADOW_COUNT"),a.undefine("fragment","DIRECTIONAL_LIGHT_SHADOW_COUNT"),a.undefine("fragment","AMBIENT_LIGHT_SHADOW_COUNT"),a.set("shadowEnabled",0)}}this._receivers=[],this._lightsCastShadow=[]}});TO.VSM=1,TO.PCF=2;var IO=TO,AO=dI.extend((function(){return{name:"",inputLinks:{},outputLinks:{},_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}}),{updateParameter:function(e,t){var n,r,i=this.outputs[e],a=i.parameters,o=i._parametersCopy;if(o||(o=i._parametersCopy={}),a)for(var s in a)"width"!==s&&"height"!==s&&(o[s]=a[s]);return n=a.width instanceof Function?a.width.call(this,t):a.width,r=a.height instanceof Function?a.height.call(this,t):a.height,o.width===n&&o.height===r||this._outputTextures[e]&&this._outputTextures[e].dispose(t.gl),o.width=n,o.height=r,o},setParameter:function(e,t){},getParameter:function(e){},setParameters:function(e){for(var t in e)this.setParameter(t,e[t])},render:function(){},getOutput:function(e,t){if(null==t)return t=e,this._outputTextures[t];var n=this.outputs[t];return n?this._rendered?n.outputLastFrame?this._prevOutputTextures[t]:this._outputTextures[t]:this._rendering?(this._prevOutputTextures[t]||(this._prevOutputTextures[t]=this._compositor.allocateTexture(n.parameters||{})),this._prevOutputTextures[t]):(this.render(e),this._outputTextures[t]):void 0},removeReference:function(e){(this._outputReferences[e]--,0===this._outputReferences[e])&&(this.outputs[e].keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e]))},link:function(e,t,n){this.inputLinks[e]={node:t,pin:n},t.outputLinks[n]||(t.outputLinks[n]=[]),t.outputLinks[n].push({node:this,pin:e}),this.pass.material.enableTexture(e)},clear:function(){this.inputLinks={},this.outputLinks={}},updateReference:function(e){if(!this._rendering){for(var t in this._rendering=!0,this.inputLinks){var n=this.inputLinks[t];n.node.updateReference(n.pin)}this._rendering=!1}e&&this._outputReferences[e]++},beforeFrame:function(){for(var e in this._rendered=!1,this.outputLinks)this._outputReferences[e]=0},afterFrame:function(){for(var e in this.outputLinks){if(this._outputReferences[e]>0)this.outputs[e].keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e])}}}),MO=AO,EO=dI.extend((function(){return{nodes:[]}}),{dirty:function(){this._dirty=!0},addNode:function(e){this.nodes.indexOf(e)>=0||(this.nodes.push(e),this._dirty=!0)},removeNode:function(e){"string"===typeof e&&(e=this.getNodeByName(e));var t=this.nodes.indexOf(e);t>=0&&(this.nodes.splice(t,1),this._dirty=!0)},getNodeByName:function(e){for(var t=0;t<this.nodes.length;t++)if(this.nodes[t].name===e)return this.nodes[t]},update:function(){for(var e=0;e<this.nodes.length;e++)this.nodes[e].clear();for(e=0;e<this.nodes.length;e++){var t=this.nodes[e];if(t.inputs)for(var n in t.inputs)if(t.inputs[n])if(!t.pass||t.pass.material.isUniformEnabled(n)){var r=t.inputs[n],i=this.findPin(r);i?t.link(n,i.node,i.pin):"string"===typeof r?console.warn("Node "+r+" not exist"):console.warn("Pin of "+r.node+"."+r.pin+" not exist")}else console.warn("Pin "+t.name+"."+n+" not used.")}},findPin:function(e){var t;if(("string"===typeof e||e instanceof MO)&&(e={node:e}),"string"===typeof e.node)for(var n=0;n<this.nodes.length;n++){var r=this.nodes[n];r.name===e.node&&(t=r)}else t=e.node;if(t){var i=e.pin;if(i||t.outputs&&(i=Object.keys(t.outputs)[0]),t.outputs[i])return{node:t,pin:i}}}}),NO=EO.extend((function(){return{_outputs:[],_texturePool:new SO,_frameBuffer:new FN({depthBuffer:!1})}}),{addNode:function(e){EO.prototype.addNode.call(this,e),e._compositor=this},render:function(e,t){if(this._dirty){this.update(),this._dirty=!1,this._outputs.length=0;for(var n=0;n<this.nodes.length;n++)this.nodes[n].outputs||this._outputs.push(this.nodes[n])}for(n=0;n<this.nodes.length;n++)this.nodes[n].beforeFrame();for(n=0;n<this._outputs.length;n++)this._outputs[n].updateReference();for(n=0;n<this._outputs.length;n++)this._outputs[n].render(e,t);for(n=0;n<this.nodes.length;n++)this.nodes[n].afterFrame()},allocateTexture:function(e){return this._texturePool.get(e)},releaseTexture:function(e){this._texturePool.put(e)},getFrameBuffer:function(){return this._frameBuffer},dispose:function(e){this._texturePool.clear(e)}}),RO=MO.extend({name:"scene",scene:null,camera:null,autoUpdateScene:!0,preZ:!1},(function(){this.frameBuffer=new FN}),{render:function(e){this._rendering=!0;var t,n=e.gl;if(this.trigger("beforerender"),this.outputs){var r=this.frameBuffer;for(var i in this.outputs){var a=this.updateParameter(i,e),o=this.outputs[i],s=this._compositor.allocateTexture(a);this._outputTextures[i]=s,"string"==typeof(c=o.attachment||n.COLOR_ATTACHMENT0)&&(c=n[c]),r.attach(s,c)}r.bind(e);var u=e.getGLExtension("EXT_draw_buffers");if(u){var l=[];for(var c in this.outputs)(c=parseInt(c))>=n.COLOR_ATTACHMENT0&&c<=n.COLOR_ATTACHMENT0+8&&l.push(c);u.drawBuffersEXT(l)}e.saveClear(),e.clearBit=mI|vI,t=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ),e.restoreClear(),r.unbind(e)}else t=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ);this.trigger("afterrender",t),this._rendering=!1,this._rendered=!0}}),PO=MO.extend((function(){return{texture:null,outputs:{color:{}}}}),(function(){}),{getOutput:function(e,t){return this.texture},beforeFrame:function(){},afterFrame:function(){}}),OO=MO.extend((function(){return{name:"",inputs:{},outputs:null,shader:"",inputLinks:{},outputLinks:{},pass:null,_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}}),(function(){var e=new gR({fragment:this.shader});this.pass=e}),{render:function(e,t){this.trigger("beforerender",e),this._rendering=!0;var n=e.gl;for(var r in this.inputLinks){var i=(d=this.inputLinks[r]).node.getOutput(e,d.pin);this.pass.setUniform(r,i)}if(this.outputs){this.pass.outputs={};var a={};for(var o in this.outputs){var s=this.updateParameter(o,e);isNaN(s.width)&&this.updateParameter(o,e);var u=this.outputs[o],l=this._compositor.allocateTexture(s);this._outputTextures[o]=l,"string"===typeof(c=u.attachment||n.COLOR_ATTACHMENT0)&&(c=n[c]),a[c]=l}for(var c in this._compositor.getFrameBuffer().bind(e),a)this._compositor.getFrameBuffer().attach(a[c],c);this.pass.render(e),this._compositor.getFrameBuffer().updateMipmap(e)}else this.pass.outputs=null,this._compositor.getFrameBuffer().unbind(e),this.pass.render(e,t);for(var r in this.inputLinks){var d;(d=this.inputLinks[r]).node.removeReference(d.pin)}this._rendering=!1,this._rendered=!0,this.trigger("afterrender",e)},updateParameter:function(e,t){var n,r,i=this.outputs[e],a=i.parameters,o=i._parametersCopy;if(o||(o=i._parametersCopy={}),a)for(var s in a)"width"!==s&&"height"!==s&&(o[s]=a[s]);return n="function"===typeof a.width?a.width.call(this,t):a.width,r="function"===typeof a.height?a.height.call(this,t):a.height,n=Math.ceil(n),r=Math.ceil(r),o.width===n&&o.height===r||this._outputTextures[e]&&this._outputTextures[e].dispose(t),o.width=n,o.height=r,o},setParameter:function(e,t){this.pass.setUniform(e,t)},getParameter:function(e){return this.pass.getUniform(e)},setParameters:function(e){for(var t in e)this.setParameter(t,e[t])},define:function(e,t){this.pass.material.define("fragment",e,t)},undefine:function(e){this.pass.material.undefine("fragment",e)},removeReference:function(e){(this._outputReferences[e]--,0===this._outputReferences[e])&&(this.outputs[e].keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e]))},clear:function(){MO.prototype.clear.call(this),this.pass.material.disableTexturesAll()}}),LO=OO,FO="@export clay.compositor.kernel.gaussian_9\nfloat gaussianKernel[9];\ngaussianKernel[0] = 0.07;\ngaussianKernel[1] = 0.09;\ngaussianKernel[2] = 0.12;\ngaussianKernel[3] = 0.14;\ngaussianKernel[4] = 0.16;\ngaussianKernel[5] = 0.14;\ngaussianKernel[6] = 0.12;\ngaussianKernel[7] = 0.09;\ngaussianKernel[8] = 0.07;\n@end\n@export clay.compositor.kernel.gaussian_13\nfloat gaussianKernel[13];\ngaussianKernel[0] = 0.02;\ngaussianKernel[1] = 0.03;\ngaussianKernel[2] = 0.06;\ngaussianKernel[3] = 0.08;\ngaussianKernel[4] = 0.11;\ngaussianKernel[5] = 0.13;\ngaussianKernel[6] = 0.14;\ngaussianKernel[7] = 0.13;\ngaussianKernel[8] = 0.11;\ngaussianKernel[9] = 0.08;\ngaussianKernel[10] = 0.06;\ngaussianKernel[11] = 0.03;\ngaussianKernel[12] = 0.02;\n@end\n@export clay.compositor.gaussian_blur\n#define SHADER_NAME gaussian_blur\nuniform sampler2D texture;varying vec2 v_Texcoord;\nuniform float blurSize : 2.0;\nuniform vec2 textureSize : [512.0, 512.0];\nuniform float blurDir : 0.0;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main (void)\n{\n @import clay.compositor.kernel.gaussian_9\n vec2 off = blurSize / textureSize;\n off *= vec2(1.0 - blurDir, blurDir);\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n for (int i = 0; i < 9; i++) {\n float w = gaussianKernel[i];\n vec4 texel = decodeHDR(clampSample(texture, v_Texcoord + float(i - 4) * off));\n sum += texel * w;\n weightAll += w;\n }\n gl_FragColor = encodeHDR(sum / max(weightAll, 0.01));\n}\n@end\n",ZO="\n@export clay.compositor.lut\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform sampler2D lookup;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n float blueColor = tex.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec4 newColor1 = texture2D(lookup, texPos1);\n vec4 newColor2 = texture2D(lookup, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n gl_FragColor = vec4(newColor.rgb, tex.w);\n}\n@end",BO="@export clay.compositor.output\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = tex.rgb;\n#ifdef OUTPUT_ALPHA\n gl_FragColor.a = tex.a;\n#else\n gl_FragColor.a = 1.0;\n#endif\n gl_FragColor = encodeHDR(gl_FragColor);\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end",zO="@export clay.compositor.bright\nuniform sampler2D texture;\nuniform float threshold : 1;\nuniform float scale : 1.0;\nuniform vec2 textureSize: [512, 512];\nvarying vec2 v_Texcoord;\nconst vec3 lumWeight = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvec4 median(vec4 a, vec4 b, vec4 c)\n{\n return a + b + c - min(min(a, b), c) - max(max(a, b), c);\n}\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n#ifdef ANTI_FLICKER\n vec3 d = 1.0 / textureSize.xyx * vec3(1.0, 1.0, 0.0);\n vec4 s1 = decodeHDR(texture2D(texture, v_Texcoord - d.xz));\n vec4 s2 = decodeHDR(texture2D(texture, v_Texcoord + d.xz));\n vec4 s3 = decodeHDR(texture2D(texture, v_Texcoord - d.zy));\n vec4 s4 = decodeHDR(texture2D(texture, v_Texcoord + d.zy));\n texel = median(median(texel, s1, s2), s3, s4);\n#endif\n float lum = dot(texel.rgb , lumWeight);\n vec4 color;\n if (lum > threshold && texel.a > 0.0)\n {\n color = vec4(texel.rgb * scale, texel.a * scale);\n }\n else\n {\n color = vec4(0.0);\n }\n gl_FragColor = encodeHDR(color);\n}\n@end\n",VO="@export clay.compositor.downsample\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nfloat brightness(vec3 c)\n{\n return max(max(c.r, c.g), c.b);\n}\n@import clay.util.clamp_sample\nvoid main()\n{\n vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;\n#ifdef ANTI_FLICKER\n vec3 s1 = decodeHDR(clampSample(texture, v_Texcoord + d.xy)).rgb;\n vec3 s2 = decodeHDR(clampSample(texture, v_Texcoord + d.zy)).rgb;\n vec3 s3 = decodeHDR(clampSample(texture, v_Texcoord + d.xw)).rgb;\n vec3 s4 = decodeHDR(clampSample(texture, v_Texcoord + d.zw)).rgb;\n float s1w = 1.0 / (brightness(s1) + 1.0);\n float s2w = 1.0 / (brightness(s2) + 1.0);\n float s3w = 1.0 / (brightness(s3) + 1.0);\n float s4w = 1.0 / (brightness(s4) + 1.0);\n float oneDivideSum = 1.0 / (s1w + s2w + s3w + s4w);\n vec4 color = vec4(\n (s1 * s1w + s2 * s2w + s3 * s3w + s4 * s4w) * oneDivideSum,\n 1.0\n );\n#else\n vec4 color = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n color *= 0.25;\n#endif\n gl_FragColor = encodeHDR(color);\n}\n@end",jO="\n@export clay.compositor.upsample\n#define HIGH_QUALITY\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nuniform float sampleScale: 0.5;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main()\n{\n#ifdef HIGH_QUALITY\n vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord - d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord - d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord - d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord )) * 4.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n gl_FragColor = encodeHDR(s / 16.0);\n#else\n vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n gl_FragColor = encodeHDR(s / 4.0);\n#endif\n}\n@end",WO="@export clay.compositor.hdr.composite\n#define TONEMAPPING\nuniform sampler2D texture;\n#ifdef BLOOM_ENABLED\nuniform sampler2D bloom;\n#endif\n#ifdef LENSFLARE_ENABLED\nuniform sampler2D lensflare;\nuniform sampler2D lensdirt;\n#endif\n#ifdef LUM_ENABLED\nuniform sampler2D lum;\n#endif\n#ifdef LUT_ENABLED\nuniform sampler2D lut;\n#endif\n#ifdef COLOR_CORRECTION\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float saturation : 1.0;\n#endif\n#ifdef VIGNETTE\nuniform float vignetteDarkness: 1.0;\nuniform float vignetteOffset: 1.0;\n#endif\nuniform float exposure : 1.0;\nuniform float bloomIntensity : 0.25;\nuniform float lensflareIntensity : 1;\nvarying vec2 v_Texcoord;\n@import clay.util.srgb\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nfloat eyeAdaption(float fLum)\n{\n return mix(0.2, fLum, 0.5);\n}\n#ifdef LUT_ENABLED\nvec3 lutTransform(vec3 color) {\n float blueColor = color.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec4 newColor1 = texture2D(lut, texPos1);\n vec4 newColor2 = texture2D(lut, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n return newColor.rgb;\n}\n#endif\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = vec4(0.0);\n vec4 originalTexel = vec4(0.0);\n#ifdef TEXTURE_ENABLED\n texel = decodeHDR(texture2D(texture, v_Texcoord));\n originalTexel = texel;\n#endif\n#ifdef BLOOM_ENABLED\n vec4 bloomTexel = decodeHDR(texture2D(bloom, v_Texcoord));\n texel.rgb += bloomTexel.rgb * bloomIntensity;\n texel.a += bloomTexel.a * bloomIntensity;\n#endif\n#ifdef LENSFLARE_ENABLED\n texel += decodeHDR(texture2D(lensflare, v_Texcoord)) * texture2D(lensdirt, v_Texcoord) * lensflareIntensity;\n#endif\n texel.a = min(texel.a, 1.0);\n#ifdef LUM_ENABLED\n float fLum = texture2D(lum, vec2(0.5, 0.5)).r;\n float adaptedLumDest = 3.0 / (max(0.1, 1.0 + 10.0*eyeAdaption(fLum)));\n float exposureBias = adaptedLumDest * exposure;\n#else\n float exposureBias = exposure;\n#endif\n#ifdef TONEMAPPING\n texel.rgb *= exposureBias;\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n texel = linearTosRGB(texel);\n#ifdef LUT_ENABLED\n texel.rgb = lutTransform(clamp(texel.rgb,vec3(0.0),vec3(1.0)));\n#endif\n#ifdef COLOR_CORRECTION\n texel.rgb = clamp(texel.rgb + vec3(brightness), 0.0, 1.0);\n texel.rgb = clamp((texel.rgb - vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n float lum = dot(texel.rgb, vec3(0.2125, 0.7154, 0.0721));\n texel.rgb = mix(vec3(lum), texel.rgb, saturation);\n#endif\n#ifdef VIGNETTE\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(vignetteOffset);\n texel.rgb = mix(texel.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));\n#endif\n gl_FragColor = encodeHDR(texel);\n#ifdef DEBUG\n #if DEBUG == 1\n gl_FragColor = encodeHDR(decodeHDR(texture2D(texture, v_Texcoord)));\n #elif DEBUG == 2\n gl_FragColor = encodeHDR(decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity);\n #elif DEBUG == 3\n gl_FragColor = encodeHDR(decodeHDR(texture2D(lensflare, v_Texcoord) * lensflareIntensity));\n #endif\n#endif\n if (originalTexel.a <= 0.01 && gl_FragColor.a > 1e-5) {\n gl_FragColor.a = dot(gl_FragColor.rgb, vec3(0.2125, 0.7154, 0.0721));\n }\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end",UO="@export clay.compositor.blend\n#define SHADER_NAME blend\n#ifdef TEXTURE1_ENABLED\nuniform sampler2D texture1;\nuniform float weight1 : 1.0;\n#endif\n#ifdef TEXTURE2_ENABLED\nuniform sampler2D texture2;\nuniform float weight2 : 1.0;\n#endif\n#ifdef TEXTURE3_ENABLED\nuniform sampler2D texture3;\nuniform float weight3 : 1.0;\n#endif\n#ifdef TEXTURE4_ENABLED\nuniform sampler2D texture4;\nuniform float weight4 : 1.0;\n#endif\n#ifdef TEXTURE5_ENABLED\nuniform sampler2D texture5;\nuniform float weight5 : 1.0;\n#endif\n#ifdef TEXTURE6_ENABLED\nuniform sampler2D texture6;\nuniform float weight6 : 1.0;\n#endif\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = vec4(0.0);\n#ifdef TEXTURE1_ENABLED\n tex += decodeHDR(texture2D(texture1, v_Texcoord)) * weight1;\n#endif\n#ifdef TEXTURE2_ENABLED\n tex += decodeHDR(texture2D(texture2, v_Texcoord)) * weight2;\n#endif\n#ifdef TEXTURE3_ENABLED\n tex += decodeHDR(texture2D(texture3, v_Texcoord)) * weight3;\n#endif\n#ifdef TEXTURE4_ENABLED\n tex += decodeHDR(texture2D(texture4, v_Texcoord)) * weight4;\n#endif\n#ifdef TEXTURE5_ENABLED\n tex += decodeHDR(texture2D(texture5, v_Texcoord)) * weight5;\n#endif\n#ifdef TEXTURE6_ENABLED\n tex += decodeHDR(texture2D(texture6, v_Texcoord)) * weight6;\n#endif\n gl_FragColor = encodeHDR(tex);\n}\n@end",HO="@export clay.compositor.fxaa\nuniform sampler2D texture;\nuniform vec4 viewport : VIEWPORT;\nvarying vec2 v_Texcoord;\n#define FXAA_REDUCE_MIN (1.0/128.0)\n#define FXAA_REDUCE_MUL (1.0/8.0)\n#define FXAA_SPAN_MAX 8.0\n@import clay.util.rgbm\nvoid main()\n{\n vec2 resolution = 1.0 / viewport.zw;\n vec3 rgbNW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbNE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ) ).xyz;\n vec4 rgbaM = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution ) );\n vec3 rgbM = rgbaM.xyz;\n float opacity = rgbaM.w;\n vec3 luma = vec3( 0.299, 0.587, 0.114 );\n float lumaNW = dot( rgbNW, luma );\n float lumaNE = dot( rgbNE, luma );\n float lumaSW = dot( rgbSW, luma );\n float lumaSE = dot( rgbSE, luma );\n float lumaM = dot( rgbM, luma );\n float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );\n float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );\n vec2 dir;\n dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n dir.y = ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );\n float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );\n dir = min( vec2( FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n dir * rcpDirMin)) * resolution;\n vec3 rgbA = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 1.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 2.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA *= 0.5;\n vec3 rgbB = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * -0.5 ) ).xyz;\n rgbB += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * 0.5 ) ).xyz;\n rgbB *= 0.25;\n rgbB += rgbA * 0.5;\n float lumaB = dot( rgbB, luma );\n if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )\n {\n gl_FragColor = vec4( rgbA, opacity );\n }\n else {\n gl_FragColor = vec4( rgbB, opacity );\n }\n}\n@end";!function(e){e.import("@export clay.compositor.coloradjust\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float exposure : 0.0;\nuniform float gamma : 1.0;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = clamp(tex.rgb + vec3(brightness), 0.0, 1.0);\n color = clamp( (color-vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n color = clamp( color * pow(2.0, exposure), 0.0, 1.0);\n color = clamp( pow(color, vec3(gamma)), 0.0, 1.0);\n float luminance = dot( color, w );\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.brightness\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = tex.rgb + vec3(brightness);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.contrast\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float contrast : 1.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = (tex.rgb-vec3(0.5))*contrast+vec3(0.5);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.exposure\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float exposure : 0.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb * pow(2.0, exposure);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.gamma\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float gamma : 1.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = pow(tex.rgb, vec3(gamma));\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.saturation\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb;\n float luminance = dot(color, w);\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end"),e.import(FO),e.import("@export clay.compositor.hdr.log_lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n float luminance = dot(tex.rgb, w);\n luminance = log(luminance + 0.001);\n gl_FragColor = encodeHDR(vec4(vec3(luminance), 1.0));\n}\n@end\n@export clay.compositor.hdr.lum_adaption\nvarying vec2 v_Texcoord;\nuniform sampler2D adaptedLum;\nuniform sampler2D currentLum;\nuniform float frameTime : 0.02;\n@import clay.util.rgbm\nvoid main()\n{\n float fAdaptedLum = decodeHDR(texture2D(adaptedLum, vec2(0.5, 0.5))).r;\n float fCurrentLum = exp(encodeHDR(texture2D(currentLum, vec2(0.5, 0.5))).r);\n fAdaptedLum += (fCurrentLum - fAdaptedLum) * (1.0 - pow(0.98, 30.0 * frameTime));\n gl_FragColor = encodeHDR(vec4(vec3(fAdaptedLum), 1.0));\n}\n@end\n@export clay.compositor.lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord );\n float luminance = dot(tex.rgb, w);\n gl_FragColor = vec4(vec3(luminance), 1.0);\n}\n@end"),e.import(ZO),e.import("@export clay.compositor.vignette\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float darkness: 1;\nuniform float offset: 1;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = texel.rgb;\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(offset);\n gl_FragColor = encodeHDR(vec4(mix(texel.rgb, vec3(1.0 - darkness), dot(uv, uv)), texel.a));\n}\n@end"),e.import(BO),e.import(zO),e.import(VO),e.import(jO),e.import(WO),e.import("@export clay.compositor.lensflare\n#define SAMPLE_NUMBER 8\nuniform sampler2D texture;\nuniform sampler2D lenscolor;\nuniform vec2 textureSize : [512, 512];\nuniform float dispersal : 0.3;\nuniform float haloWidth : 0.4;\nuniform float distortion : 1.0;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvec4 textureDistorted(\n in vec2 texcoord,\n in vec2 direction,\n in vec3 distortion\n) {\n return vec4(\n decodeHDR(texture2D(texture, texcoord + direction * distortion.r)).r,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.g)).g,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.b)).b,\n 1.0\n );\n}\nvoid main()\n{\n vec2 texcoord = -v_Texcoord + vec2(1.0); vec2 textureOffset = 1.0 / textureSize;\n vec2 ghostVec = (vec2(0.5) - texcoord) * dispersal;\n vec2 haloVec = normalize(ghostVec) * haloWidth;\n vec3 distortion = vec3(-textureOffset.x * distortion, 0.0, textureOffset.x * distortion);\n vec4 result = vec4(0.0);\n for (int i = 0; i < SAMPLE_NUMBER; i++)\n {\n vec2 offset = fract(texcoord + ghostVec * float(i));\n float weight = length(vec2(0.5) - offset) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n }\n result *= texture2D(lenscolor, vec2(length(vec2(0.5) - texcoord)) / length(vec2(0.5)));\n float weight = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n vec2 offset = fract(texcoord + haloVec);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n gl_FragColor = result;\n}\n@end"),e.import(UO),e.import(HO)}(bM);var GO=/^#source\((.*?)\)/;function XO(e,t,n){var r,i,a,o,s=e.type||"filter";if("filter"===s){var u=e.shader.trim(),l=GO.exec(u);if(l?r=bM.source(l[1].trim()):"#"===u.charAt(0)&&(r=t.shaders[u.substr(1)]),r||(r=u),!r)return}if(e.inputs)for(var c in i={},e.inputs)"string"===typeof e.inputs[c]?i[c]=e.inputs[c]:i[c]={node:e.inputs[c].node,pin:e.inputs[c].pin};if(e.outputs)for(var c in a={},e.outputs){var d=e.outputs[c];a[c]={},null!=d.attachment&&(a[c].attachment=d.attachment),null!=d.keepLastFrame&&(a[c].keepLastFrame=d.keepLastFrame),null!=d.outputLastFrame&&(a[c].outputLastFrame=d.outputLastFrame),d.parameters&&(a[c].parameters=KO(d.parameters))}if(o="scene"===s?new RO({name:e.name,scene:n.scene,camera:n.camera,outputs:a}):"texture"===s?new PO({name:e.name,outputs:a}):new LO({name:e.name,shader:r,inputs:i,outputs:a})){if(e.parameters)for(var c in e.parameters){"string"===typeof(f=e.parameters[c])?"#"===(f=f.trim()).charAt(0)?f=t.textures[f.substr(1)]:o.on("beforerender",QO(c,JO(f))):"function"===typeof f&&o.on("beforerender",f),o.setParameter(c,f)}if(e.defines&&o.pass)for(var c in e.defines){var f=e.defines[c];o.pass.material.define("fragment",c,f)}}return o}function qO(e,t){return e}function YO(e,t){return t}function KO(e){var t={};if(!e)return t;["type","minFilter","magFilter","wrapS","wrapT","flipY","useMipmap"].forEach((function(n){var r=e[n];null!=r&&("string"===typeof r&&(r=kE[r]),t[n]=r)}));var n=e.scale||1;return["width","height"].forEach((function(r){if(null!=e[r]){var i=e[r];"string"===typeof i?(i=i.trim(),t[r]=(a=JO(i),o=(o=n)||1,function(e){var t=e.getDevicePixelRatio(),n=e.getWidth()*o,r=e.getHeight()*o;return a(n,r,t)})):t[r]=i}var a,o})),t.width||(t.width=qO),t.height||(t.height=YO),null!=e.useMipmap&&(t.useMipmap=e.useMipmap),t}function QO(e,t){return function(n){var r=n.getDevicePixelRatio(),i=n.getWidth(),a=n.getHeight(),o=t(i,a,r);this.setParameter(e,o)}}function JO(e){var t=/^expr\((.*)\)$/.exec(e);if(t)try{var n=new Function("width","height","dpr","return "+t[1]);return n(1,1),n}catch(tZ){throw new Error("Invalid expression.")}}var $O=function(e,t){var n=new NO;t=t||{};var r={textures:{},parameters:{}};for(var i in e.parameters){var a=e.parameters[i];r.parameters[i]=KO(a)}return function(e,t,n,r){if(!e.textures)return void r({});var i={},a=0,o=!1,s=n.textureRootPath;lI.each(e.textures,(function(e,t){var n,u=e.path,l=KO(e.parameters);if(Array.isArray(u)&&6===u.length)s&&(u=u.map((function(e){return lI.relative2absolute(e,s)}))),n=new SN(l);else{if("string"!==typeof u)return;s&&(u=lI.relative2absolute(u,s)),n=new RE(l)}n.load(u),a++,n.once("success",(function(){i[t]=n,0===--a&&(r(i),o=!0)}))})),0!==a||o||r(i)}(e,0,t,(function(i){r.textures=i,function(i,a){for(var o=0;o<e.nodes.length;o++){var s=XO(e.nodes[o],r,t);s&&n.addNode(s)}}()})),n},eL=$O;var tL=function(e,t){for(var n=0,r=1/t,i=e;i>0;)n+=r*(i%t),i=Math.floor(i/t),r/=t;return n};function nL(e){for(var t=new Uint8Array(e*e*4),n=0,r=new GM,i=0;i<e;i++)for(var a=0;a<e;a++)r.set(2*Math.random()-1,2*Math.random()-1,0).normalize(),t[n++]=255*(.5*r.x+.5),t[n++]=255*(.5*r.y+.5),t[n++]=0,t[n++]=255;return t}function rL(e){return new RE({pixels:nL(e),wrapS:kE.REPEAT,wrapT:kE.REPEAT,width:e,height:e})}function iL(e,t,n){var r=new Float32Array(3*e);t=t||0;for(var i=0;i<e;i++){var a=tL(i+t,2)*(n?1:2)*Math.PI,o=tL(i+t,3)*Math.PI,s=Math.random(),u=Math.cos(a)*Math.sin(o)*s,l=Math.cos(o)*s,c=Math.sin(a)*Math.sin(o)*s;r[3*i]=u,r[3*i+1]=l,r[3*i+2]=c}return r}function aL(e){e=e||{},this._ssaoPass=new gR({fragment:bM.source("ecgl.ssao.estimate")}),this._blurPass=new gR({fragment:bM.source("ecgl.ssao.blur")}),this._framebuffer=new FN({depthBuffer:!1}),this._ssaoTexture=new RE,this._blurTexture=new RE,this._blurTexture2=new RE,this._depthTex=e.depthTexture,this._normalTex=e.normalTexture,this.setNoiseSize(4),this.setKernelSize(e.kernelSize||12),null!=e.radius&&this.setParameter("radius",e.radius),null!=e.power&&this.setParameter("power",e.power),this._normalTex||(this._ssaoPass.material.disableTexture("normalTex"),this._blurPass.material.disableTexture("normalTex")),this._depthTex||this._blurPass.material.disableTexture("depthTex"),this._blurPass.material.setUniform("normalTex",this._normalTex),this._blurPass.material.setUniform("depthTex",this._depthTex)}bM.import("@export ecgl.ssao.estimate\n\nuniform sampler2D depthTex;\n\nuniform sampler2D normalTex;\n\nuniform sampler2D noiseTex;\n\nuniform vec2 depthTexSize;\n\nuniform vec2 noiseTexSize;\n\nuniform mat4 projection;\n\nuniform mat4 projectionInv;\n\nuniform mat4 viewInverseTranspose;\n\nuniform vec3 kernel[KERNEL_SIZE];\n\nuniform float radius : 1;\n\nuniform float power : 1;\n\nuniform float bias: 1e-2;\n\nuniform float intensity: 1.0;\n\nvarying vec2 v_Texcoord;\n\nfloat ssaoEstimator(in vec3 originPos, in mat3 kernelBasis) {\n float occlusion = 0.0;\n\n for (int i = 0; i < KERNEL_SIZE; i++) {\n vec3 samplePos = kernel[i];\n#ifdef NORMALTEX_ENABLED\n samplePos = kernelBasis * samplePos;\n#endif\n samplePos = samplePos * radius + originPos;\n\n vec4 texCoord = projection * vec4(samplePos, 1.0);\n texCoord.xy /= texCoord.w;\n\n vec4 depthTexel = texture2D(depthTex, texCoord.xy * 0.5 + 0.5);\n\n float sampleDepth = depthTexel.r * 2.0 - 1.0;\n if (projection[3][3] == 0.0) {\n sampleDepth = projection[3][2] / (sampleDepth * projection[2][3] - projection[2][2]);\n }\n else {\n sampleDepth = (sampleDepth - projection[3][2]) / projection[2][2];\n }\n \n float rangeCheck = smoothstep(0.0, 1.0, radius / abs(originPos.z - sampleDepth));\n occlusion += rangeCheck * step(samplePos.z, sampleDepth - bias);\n }\n#ifdef NORMALTEX_ENABLED\n occlusion = 1.0 - occlusion / float(KERNEL_SIZE);\n#else\n occlusion = 1.0 - clamp((occlusion / float(KERNEL_SIZE) - 0.6) * 2.5, 0.0, 1.0);\n#endif\n return pow(occlusion, power);\n}\n\nvoid main()\n{\n\n vec4 depthTexel = texture2D(depthTex, v_Texcoord);\n\n#ifdef NORMALTEX_ENABLED\n vec4 tex = texture2D(normalTex, v_Texcoord);\n if (dot(tex.rgb, tex.rgb) == 0.0) {\n gl_FragColor = vec4(1.0);\n return;\n }\n vec3 N = tex.rgb * 2.0 - 1.0;\n N = (viewInverseTranspose * vec4(N, 0.0)).xyz;\n\n vec2 noiseTexCoord = depthTexSize / vec2(noiseTexSize) * v_Texcoord;\n vec3 rvec = texture2D(noiseTex, noiseTexCoord).rgb * 2.0 - 1.0;\n vec3 T = normalize(rvec - N * dot(rvec, N));\n vec3 BT = normalize(cross(N, T));\n mat3 kernelBasis = mat3(T, BT, N);\n#else\n if (depthTexel.r > 0.99999) {\n gl_FragColor = vec4(1.0);\n return;\n }\n mat3 kernelBasis;\n#endif\n\n float z = depthTexel.r * 2.0 - 1.0;\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * projectedPos;\n\n vec3 position = p4.xyz / p4.w;\n\n float ao = ssaoEstimator(position, kernelBasis);\n ao = clamp(1.0 - (1.0 - ao) * intensity, 0.0, 1.0);\n gl_FragColor = vec4(vec3(ao), 1.0);\n}\n\n@end\n\n\n@export ecgl.ssao.blur\n#define SHADER_NAME SSAO_BLUR\n\nuniform sampler2D ssaoTexture;\n\n#ifdef NORMALTEX_ENABLED\nuniform sampler2D normalTex;\n#endif\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\nuniform int direction: 0.0;\n\n#ifdef DEPTHTEX_ENABLED\nuniform sampler2D depthTex;\nuniform mat4 projection;\nuniform float depthRange : 0.5;\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(depthTex, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n#endif\n\nvoid main()\n{\n float kernel[5];\n kernel[0] = 0.122581;\n kernel[1] = 0.233062;\n kernel[2] = 0.288713;\n kernel[3] = 0.233062;\n kernel[4] = 0.122581;\n\n vec2 off = vec2(0.0);\n if (direction == 0) {\n off[0] = blurSize / textureSize.x;\n }\n else {\n off[1] = blurSize / textureSize.y;\n }\n\n vec2 coord = v_Texcoord;\n\n float sum = 0.0;\n float weightAll = 0.0;\n\n#ifdef NORMALTEX_ENABLED\n vec3 centerNormal = texture2D(normalTex, v_Texcoord).rgb * 2.0 - 1.0;\n#endif\n#if defined(DEPTHTEX_ENABLED)\n float centerDepth = getLinearDepth(v_Texcoord);\n#endif\n\n for (int i = 0; i < 5; i++) {\n vec2 coord = clamp(v_Texcoord + vec2(float(i) - 2.0) * off, vec2(0.0), vec2(1.0));\n\n float w = kernel[i];\n#ifdef NORMALTEX_ENABLED\n vec3 normal = texture2D(normalTex, coord).rgb * 2.0 - 1.0;\n w *= clamp(dot(normal, centerNormal), 0.0, 1.0);\n#endif\n#ifdef DEPTHTEX_ENABLED\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(centerDepth - d) / depthRange, 0.0, 1.0));\n#endif\n\n weightAll += w;\n sum += texture2D(ssaoTexture, coord).r * w;\n }\n\n gl_FragColor = vec4(vec3(sum / weightAll), 1.0);\n}\n\n@end\n"),aL.prototype.setDepthTexture=function(e){this._depthTex=e},aL.prototype.setNormalTexture=function(e){this._normalTex=e,this._ssaoPass.material[e?"enableTexture":"disableTexture"]("normalTex"),this.setKernelSize(this._kernelSize)},aL.prototype.update=function(e,t,n){var r=e.getWidth(),i=e.getHeight(),a=this._ssaoPass,o=this._blurPass;a.setUniform("kernel",this._kernels[n%this._kernels.length]),a.setUniform("depthTex",this._depthTex),null!=this._normalTex&&a.setUniform("normalTex",this._normalTex),a.setUniform("depthTexSize",[this._depthTex.width,this._depthTex.height]);var s=new aE;aE.transpose(s,t.worldTransform),a.setUniform("projection",t.projectionMatrix.array),a.setUniform("projectionInv",t.invProjectionMatrix.array),a.setUniform("viewInverseTranspose",s.array);var u=this._ssaoTexture,l=this._blurTexture,c=this._blurTexture2;u.width=r/2,u.height=i/2,l.width=r,l.height=i,c.width=r,c.height=i,this._framebuffer.attach(u),this._framebuffer.bind(e),e.gl.clearColor(1,1,1,1),e.gl.clear(e.gl.COLOR_BUFFER_BIT),a.render(e),o.setUniform("textureSize",[r/2,i/2]),o.setUniform("projection",t.projectionMatrix.array),this._framebuffer.attach(l),o.setUniform("direction",0),o.setUniform("ssaoTexture",u),o.render(e),this._framebuffer.attach(c),o.setUniform("textureSize",[r,i]),o.setUniform("direction",1),o.setUniform("ssaoTexture",l),o.render(e),this._framebuffer.unbind(e);var d=e.clearColor;e.gl.clearColor(d[0],d[1],d[2],d[3])},aL.prototype.getTargetTexture=function(){return this._blurTexture2},aL.prototype.setParameter=function(e,t){"noiseTexSize"===e?this.setNoiseSize(t):"kernelSize"===e?this.setKernelSize(t):"intensity"===e?this._ssaoPass.material.set("intensity",t):this._ssaoPass.setUniform(e,t)},aL.prototype.setKernelSize=function(e){this._kernelSize=e,this._ssaoPass.material.define("fragment","KERNEL_SIZE",e),this._kernels=this._kernels||[];for(var t=0;t<30;t++)this._kernels[t]=iL(e,t*e,!!this._normalTex)},aL.prototype.setNoiseSize=function(e){var t=this._ssaoPass.getUniform("noiseTex");t?(t.data=nL(e),t.width=t.height=e,t.dirty()):(t=rL(e),this._ssaoPass.setUniform("noiseTex",rL(e))),this._ssaoPass.setUniform("noiseTexSize",[e,e])},aL.prototype.dispose=function(e){this._blurTexture.dispose(e),this._ssaoTexture.dispose(e),this._blurTexture2.dispose(e)};var oL=aL;function sL(e){e=e||{},this._ssrPass=new gR({fragment:bM.source("ecgl.ssr.main"),clearColor:[0,0,0,0]}),this._blurPass1=new gR({fragment:bM.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blurPass2=new gR({fragment:bM.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blendPass=new gR({fragment:bM.source("clay.compositor.blend")}),this._blendPass.material.disableTexturesAll(),this._blendPass.material.enableTexture(["texture1","texture2"]),this._ssrPass.setUniform("gBufferTexture1",e.normalTexture),this._ssrPass.setUniform("gBufferTexture2",e.depthTexture),this._blurPass1.setUniform("gBufferTexture1",e.normalTexture),this._blurPass1.setUniform("gBufferTexture2",e.depthTexture),this._blurPass2.setUniform("gBufferTexture1",e.normalTexture),this._blurPass2.setUniform("gBufferTexture2",e.depthTexture),this._blurPass2.material.define("fragment","VERTICAL"),this._blurPass2.material.define("fragment","BLEND"),this._ssrTexture=new RE({type:kE.HALF_FLOAT}),this._texture2=new RE({type:kE.HALF_FLOAT}),this._texture3=new RE({type:kE.HALF_FLOAT}),this._prevTexture=new RE({type:kE.HALF_FLOAT}),this._currentTexture=new RE({type:kE.HALF_FLOAT}),this._frameBuffer=new FN({depthBuffer:!1}),this._normalDistribution=null,this._totalSamples=256,this._samplePerFrame=4,this._ssrPass.material.define("fragment","SAMPLE_PER_FRAME",this._samplePerFrame),this._ssrPass.material.define("fragment","TOTAL_SAMPLES",this._totalSamples),this._downScale=1}bM.import("@export ecgl.ssr.main\n\n#define SHADER_NAME SSR\n#define MAX_ITERATION 20;\n#define SAMPLE_PER_FRAME 5;\n#define TOTAL_SAMPLES 128;\n\nuniform sampler2D sourceTexture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform sampler2D gBufferTexture3;\nuniform samplerCube specularCubemap;\nuniform float specularIntensity: 1;\n\nuniform mat4 projection;\nuniform mat4 projectionInv;\nuniform mat4 toViewSpace;\nuniform mat4 toWorldSpace;\n\nuniform float maxRayDistance: 200;\n\nuniform float pixelStride: 16;\nuniform float pixelStrideZCutoff: 50; \nuniform float screenEdgeFadeStart: 0.9; \nuniform float eyeFadeStart : 0.2; uniform float eyeFadeEnd: 0.8; \nuniform float minGlossiness: 0.2; uniform float zThicknessThreshold: 1;\n\nuniform float nearZ;\nuniform vec2 viewportSize : VIEWPORT_SIZE;\n\nuniform float jitterOffset: 0;\n\nvarying vec2 v_Texcoord;\n\n#ifdef DEPTH_DECODE\n@import clay.util.decode_float\n#endif\n\n#ifdef PHYSICALLY_CORRECT\nuniform sampler2D normalDistribution;\nuniform float sampleOffset: 0;\nuniform vec2 normalDistributionSize;\n\nvec3 transformNormal(vec3 H, vec3 N) {\n vec3 upVector = N.y > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvec3 importanceSampleNormalGGX(float i, float roughness, vec3 N) {\n float p = fract((i + sampleOffset) / float(TOTAL_SAMPLES));\n vec3 H = texture2D(normalDistribution,vec2(roughness, p)).rgb;\n return transformNormal(H, N);\n}\nfloat G_Smith(float g, float ndv, float ndl) {\n float roughness = 1.0 - g;\n float k = roughness * roughness / 2.0;\n float G1V = ndv / (ndv * (1.0 - k) + k);\n float G1L = ndl / (ndl * (1.0 - k) + k);\n return G1L * G1V;\n}\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n#endif\n\nfloat fetchDepth(sampler2D depthTexture, vec2 uv)\n{\n vec4 depthTexel = texture2D(depthTexture, uv);\n return depthTexel.r * 2.0 - 1.0;\n}\n\nfloat linearDepth(float depth)\n{\n if (projection[3][3] == 0.0) {\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n }\n else {\n return (depth - projection[3][2]) / projection[2][2];\n }\n}\n\nbool rayIntersectDepth(float rayZNear, float rayZFar, vec2 hitPixel)\n{\n if (rayZFar > rayZNear)\n {\n float t = rayZFar; rayZFar = rayZNear; rayZNear = t;\n }\n float cameraZ = linearDepth(fetchDepth(gBufferTexture2, hitPixel));\n return rayZFar <= cameraZ && rayZNear >= cameraZ - zThicknessThreshold;\n}\n\n\nbool traceScreenSpaceRay(\n vec3 rayOrigin, vec3 rayDir, float jitter,\n out vec2 hitPixel, out vec3 hitPoint, out float iterationCount\n)\n{\n float rayLength = ((rayOrigin.z + rayDir.z * maxRayDistance) > -nearZ)\n ? (-nearZ - rayOrigin.z) / rayDir.z : maxRayDistance;\n\n vec3 rayEnd = rayOrigin + rayDir * rayLength;\n\n vec4 H0 = projection * vec4(rayOrigin, 1.0);\n vec4 H1 = projection * vec4(rayEnd, 1.0);\n\n float k0 = 1.0 / H0.w, k1 = 1.0 / H1.w;\n\n vec3 Q0 = rayOrigin * k0, Q1 = rayEnd * k1;\n\n vec2 P0 = (H0.xy * k0 * 0.5 + 0.5) * viewportSize;\n vec2 P1 = (H1.xy * k1 * 0.5 + 0.5) * viewportSize;\n\n P1 += dot(P1 - P0, P1 - P0) < 0.0001 ? 0.01 : 0.0;\n vec2 delta = P1 - P0;\n\n bool permute = false;\n if (abs(delta.x) < abs(delta.y)) {\n permute = true;\n delta = delta.yx;\n P0 = P0.yx;\n P1 = P1.yx;\n }\n float stepDir = sign(delta.x);\n float invdx = stepDir / delta.x;\n\n vec3 dQ = (Q1 - Q0) * invdx;\n float dk = (k1 - k0) * invdx;\n\n vec2 dP = vec2(stepDir, delta.y * invdx);\n\n float strideScaler = 1.0 - min(1.0, -rayOrigin.z / pixelStrideZCutoff);\n float pixStride = 1.0 + strideScaler * pixelStride;\n\n dP *= pixStride; dQ *= pixStride; dk *= pixStride;\n\n vec4 pqk = vec4(P0, Q0.z, k0);\n vec4 dPQK = vec4(dP, dQ.z, dk);\n\n pqk += dPQK * jitter;\n float rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n float rayZNear;\n\n bool intersect = false;\n\n vec2 texelSize = 1.0 / viewportSize;\n\n iterationCount = 0.0;\n\n for (int i = 0; i < MAX_ITERATION; i++)\n {\n pqk += dPQK;\n\n rayZNear = rayZFar;\n rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n\n hitPixel = permute ? pqk.yx : pqk.xy;\n hitPixel *= texelSize;\n\n intersect = rayIntersectDepth(rayZNear, rayZFar, hitPixel);\n\n iterationCount += 1.0;\n\n dPQK *= 1.2;\n\n if (intersect) {\n break;\n }\n }\n\n Q0.xy += dQ.xy * iterationCount;\n Q0.z = pqk.z;\n hitPoint = Q0 / pqk.w;\n\n return intersect;\n}\n\nfloat calculateAlpha(\n float iterationCount, float reflectivity,\n vec2 hitPixel, vec3 hitPoint, float dist, vec3 rayDir\n)\n{\n float alpha = clamp(reflectivity, 0.0, 1.0);\n alpha *= 1.0 - (iterationCount / float(MAX_ITERATION));\n vec2 hitPixelNDC = hitPixel * 2.0 - 1.0;\n float maxDimension = min(1.0, max(abs(hitPixelNDC.x), abs(hitPixelNDC.y)));\n alpha *= 1.0 - max(0.0, maxDimension - screenEdgeFadeStart) / (1.0 - screenEdgeFadeStart);\n\n float _eyeFadeStart = eyeFadeStart;\n float _eyeFadeEnd = eyeFadeEnd;\n if (_eyeFadeStart > _eyeFadeEnd) {\n float tmp = _eyeFadeEnd;\n _eyeFadeEnd = _eyeFadeStart;\n _eyeFadeStart = tmp;\n }\n\n float eyeDir = clamp(rayDir.z, _eyeFadeStart, _eyeFadeEnd);\n alpha *= 1.0 - (eyeDir - _eyeFadeStart) / (_eyeFadeEnd - _eyeFadeStart);\n\n alpha *= 1.0 - clamp(dist / maxRayDistance, 0.0, 1.0);\n\n return alpha;\n}\n\n@import clay.util.rand\n\n@import clay.util.rgbm\n\nvoid main()\n{\n vec4 normalAndGloss = texture2D(gBufferTexture1, v_Texcoord);\n\n if (dot(normalAndGloss.rgb, vec3(1.0)) == 0.0) {\n discard;\n }\n\n float g = normalAndGloss.a;\n#if !defined(PHYSICALLY_CORRECT)\n if (g <= minGlossiness) {\n discard;\n }\n#endif\n\n float reflectivity = (g - minGlossiness) / (1.0 - minGlossiness);\n\n vec3 N = normalize(normalAndGloss.rgb * 2.0 - 1.0);\n N = normalize((toViewSpace * vec4(N, 0.0)).xyz);\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, fetchDepth(gBufferTexture2, v_Texcoord), 1.0);\n vec4 pos = projectionInv * projectedPos;\n vec3 rayOrigin = pos.xyz / pos.w;\n vec3 V = -normalize(rayOrigin);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n float iterationCount;\n float jitter = rand(fract(v_Texcoord + jitterOffset));\n\n#ifdef PHYSICALLY_CORRECT\n vec4 color = vec4(vec3(0.0), 1.0);\n vec4 albedoMetalness = texture2D(gBufferTexture3, v_Texcoord);\n vec3 albedo = albedoMetalness.rgb;\n float m = albedoMetalness.a;\n vec3 diffuseColor = albedo * (1.0 - m);\n vec3 spec = mix(vec3(0.04), albedo, m);\n\n float jitter2 = rand(fract(v_Texcoord)) * float(TOTAL_SAMPLES);\n\n for (int i = 0; i < SAMPLE_PER_FRAME; i++) {\n vec3 H = importanceSampleNormalGGX(float(i) + jitter2, 1.0 - g, N);\n vec3 rayDir = normalize(reflect(-V, H));\n#else\n vec3 rayDir = normalize(reflect(-V, N));\n#endif\n vec2 hitPixel;\n vec3 hitPoint;\n\n bool intersect = traceScreenSpaceRay(rayOrigin, rayDir, jitter, hitPixel, hitPoint, iterationCount);\n\n float dist = distance(rayOrigin, hitPoint);\n\n vec3 hitNormal = texture2D(gBufferTexture1, hitPixel).rgb * 2.0 - 1.0;\n hitNormal = normalize((toViewSpace * vec4(hitNormal, 0.0)).xyz);\n#ifdef PHYSICALLY_CORRECT\n float ndl = clamp(dot(N, rayDir), 0.0, 1.0);\n float vdh = clamp(dot(V, H), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n vec3 litTexel = vec3(0.0);\n if (dot(hitNormal, rayDir) < 0.0 && intersect) {\n litTexel = texture2D(sourceTexture, hitPixel).rgb;\n litTexel *= pow(clamp(1.0 - dist / 200.0, 0.0, 1.0), 3.0);\n\n }\n else {\n #ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n litTexel = RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, 0.0), 8.12).rgb * specularIntensity;\n#endif\n }\n color.rgb += ndl * litTexel * (\n F_Schlick(ndl, spec) * G_Smith(g, ndv, ndl) * vdh / (ndh * ndv + 0.001)\n );\n }\n color.rgb /= float(SAMPLE_PER_FRAME);\n#else\n #if !defined(SPECULARCUBEMAP_ENABLED)\n if (dot(hitNormal, rayDir) >= 0.0) {\n discard;\n }\n if (!intersect) {\n discard;\n }\n#endif\n float alpha = clamp(calculateAlpha(iterationCount, reflectivity, hitPixel, hitPoint, dist, rayDir), 0.0, 1.0);\n vec4 color = texture2D(sourceTexture, hitPixel);\n color.rgb *= alpha;\n\n#ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n alpha = alpha * (intersect ? 1.0 : 0.0);\n float bias = (1.0 -g) * 5.0;\n color.rgb += (1.0 - alpha)\n * RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, bias), 8.12).rgb\n * specularIntensity;\n#endif\n\n#endif\n\n gl_FragColor = encodeHDR(color);\n}\n@end\n\n@export ecgl.ssr.blur\n\nuniform sampler2D texture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform mat4 projection;\nuniform float depthRange : 0.05;\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\n#ifdef BLEND\n #ifdef SSAOTEX_ENABLED\nuniform sampler2D ssaoTex;\n #endif\nuniform sampler2D sourceTexture;\n#endif\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(gBufferTexture2, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n\n@import clay.util.rgbm\n\n\nvoid main()\n{\n @import clay.compositor.kernel.gaussian_9\n\n vec4 centerNTexel = texture2D(gBufferTexture1, v_Texcoord);\n float g = centerNTexel.a;\n float maxBlurSize = clamp(1.0 - g, 0.0, 1.0) * blurSize;\n#ifdef VERTICAL\n vec2 off = vec2(0.0, maxBlurSize / textureSize.y);\n#else\n vec2 off = vec2(maxBlurSize / textureSize.x, 0.0);\n#endif\n\n vec2 coord = v_Texcoord;\n\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n\n vec3 cN = centerNTexel.rgb * 2.0 - 1.0;\n float cD = getLinearDepth(v_Texcoord);\n for (int i = 0; i < 9; i++) {\n vec2 coord = clamp((float(i) - 4.0) * off + v_Texcoord, vec2(0.0), vec2(1.0));\n float w = gaussianKernel[i]\n * clamp(dot(cN, texture2D(gBufferTexture1, coord).rgb * 2.0 - 1.0), 0.0, 1.0);\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(cD - d) / depthRange, 0.0, 1.0));\n\n weightAll += w;\n sum += decodeHDR(texture2D(texture, coord)) * w;\n }\n\n#ifdef BLEND\n float aoFactor = 1.0;\n #ifdef SSAOTEX_ENABLED\n aoFactor = texture2D(ssaoTex, v_Texcoord).r;\n #endif\n gl_FragColor = encodeHDR(\n sum / weightAll * aoFactor + decodeHDR(texture2D(sourceTexture, v_Texcoord))\n );\n#else\n gl_FragColor = encodeHDR(sum / weightAll);\n#endif\n}\n\n@end"),sL.prototype.setAmbientCubemap=function(e,t){this._ssrPass.material.set("specularCubemap",e),this._ssrPass.material.set("specularIntensity",t);var n=e&&t;this._ssrPass.material[n?"enableTexture":"disableTexture"]("specularCubemap")},sL.prototype.update=function(e,t,n,r){var i=e.getWidth(),a=e.getHeight(),o=this._ssrTexture,s=this._texture2,u=this._texture3;o.width=this._prevTexture.width=this._currentTexture.width=i/this._downScale,o.height=this._prevTexture.height=this._currentTexture.height=a/this._downScale,s.width=u.width=i,s.height=u.height=a;var l=this._frameBuffer,c=this._ssrPass,d=this._blurPass1,f=this._blurPass2,h=this._blendPass,p=new aE,m=new aE;aE.transpose(p,t.worldTransform),aE.transpose(m,t.viewMatrix),c.setUniform("sourceTexture",n),c.setUniform("projection",t.projectionMatrix.array),c.setUniform("projectionInv",t.invProjectionMatrix.array),c.setUniform("toViewSpace",p.array),c.setUniform("toWorldSpace",m.array),c.setUniform("nearZ",t.near);var g=r/this._totalSamples*this._samplePerFrame;if(c.setUniform("jitterOffset",g),c.setUniform("sampleOffset",r*this._samplePerFrame),d.setUniform("textureSize",[o.width,o.height]),f.setUniform("textureSize",[i,a]),f.setUniform("sourceTexture",n),d.setUniform("projection",t.projectionMatrix.array),f.setUniform("projection",t.projectionMatrix.array),l.attach(o),l.bind(e),c.render(e),this._physicallyCorrect&&(l.attach(this._currentTexture),h.setUniform("texture1",this._prevTexture),h.setUniform("texture2",o),h.material.set({weight1:r>=1?.95:0,weight2:r>=1?.05:1}),h.render(e)),l.attach(s),d.setUniform("texture",this._physicallyCorrect?this._currentTexture:o),d.render(e),l.attach(u),f.setUniform("texture",s),f.render(e),l.unbind(e),this._physicallyCorrect){var v=this._prevTexture;this._prevTexture=this._currentTexture,this._currentTexture=v}},sL.prototype.getTargetTexture=function(){return this._texture3},sL.prototype.setParameter=function(e,t){"maxIteration"===e?this._ssrPass.material.define("fragment","MAX_ITERATION",t):this._ssrPass.setUniform(e,t)},sL.prototype.setPhysicallyCorrect=function(e){e?(this._normalDistribution||(this._normalDistribution=xR.generateNormalDistribution(64,this._totalSamples)),this._ssrPass.material.define("fragment","PHYSICALLY_CORRECT"),this._ssrPass.material.set("normalDistribution",this._normalDistribution),this._ssrPass.material.set("normalDistributionSize",[64,this._totalSamples])):this._ssrPass.material.undefine("fragment","PHYSICALLY_CORRECT"),this._physicallyCorrect=e},sL.prototype.setSSAOTexture=function(e){var t=this._blurPass2;e?(t.material.enableTexture("ssaoTex"),t.material.set("ssaoTex",e)):t.material.disableTexture("ssaoTex")},sL.prototype.isFinished=function(e){return!this._physicallyCorrect||e>this._totalSamples/this._samplePerFrame},sL.prototype.dispose=function(e){this._ssrTexture.dispose(e),this._texture2.dispose(e),this._texture3.dispose(e),this._prevTexture.dispose(e),this._currentTexture.dispose(e),this._frameBuffer.dispose(e)};var uL=sL,lL=[0,0,-.321585265978,-.154972575841,.458126042375,.188473391593,.842080129861,.527766490688,.147304551086,-.659453822776,-.331943915203,-.940619700594,.0479226680259,.54812163202,.701581552186,-.709825561388,-.295436780218,.940589268233,-.901489676764,.237713156085,.973570876096,-.109899459384,-.866792314779,-.451805525005,.330975007087,.800048655954,-.344275183665,.381779221166,-.386139432542,-.437418421534,-.576478634965,-.0148463392551,.385798197415,-.262426961053,-.666302061145,.682427250835,-.628010632582,-.732836215494,.10163141741,-.987658134403,.711995289051,-.320024291314,.0296005138058,.950296523438,.0130612307608,-.351024443122,-.879596633704,-.10478487883,.435712737232,.504254490347,.779203817497,.206477676721,.388264289969,-.896736162545,-.153106280781,-.629203242522,-.245517550697,.657969239148,.126830499058,.26862328493,-.634888119007,-.302301223431,.617074219636,.779817204925];function cL(e,t,n,r,i){var a=e.gl;t.setUniform(a,"1i",n,i),a.activeTexture(a.TEXTURE0+i),r.isRenderable()?r.bind(e):r.unbind(e)}function dL(e,t,n,r,i){var a,o,s,u,l=e.gl;return function(i,c,d){if(!u||u.material!==i.material){var f=i.material,h=i.__program,p=f.get("roughness");null==p&&(p=1);var m=f.get("normalMap")||t,g=f.get("roughnessMap"),v=f.get("bumpMap"),y=f.get("uvRepeat"),x=f.get("uvOffset"),b=f.get("detailUvRepeat"),w=f.get("detailUvOffset"),_=!!v&&f.isTextureEnabled("bumpMap"),S=!!g&&f.isTextureEnabled("roughnessMap"),C=f.isDefined("fragment","DOUBLE_SIDED");v=v||n,g=g||r,d!==c?(c.set("normalMap",m),c.set("bumpMap",v),c.set("roughnessMap",g),c.set("useBumpMap",_),c.set("useRoughnessMap",S),c.set("doubleSide",C),null!=y&&c.set("uvRepeat",y),null!=x&&c.set("uvOffset",x),null!=b&&c.set("detailUvRepeat",b),null!=w&&c.set("detailUvOffset",w),c.set("roughness",p)):(h.setUniform(l,"1f","roughness",p),a!==m&&cL(e,h,"normalMap",m,0),o!==v&&v&&cL(e,h,"bumpMap",v,1),s!==g&&g&&cL(e,h,"roughnessMap",g,2),null!=y&&h.setUniform(l,"2f","uvRepeat",y),null!=x&&h.setUniform(l,"2f","uvOffset",x),null!=b&&h.setUniform(l,"2f","detailUvRepeat",b),null!=w&&h.setUniform(l,"2f","detailUvOffset",w),h.setUniform(l,"1i","useBumpMap",+_),h.setUniform(l,"1i","useRoughnessMap",+S),h.setUniform(l,"1i","doubleSide",+C)),a=m,o=v,s=g,u=i}}}function fL(e){e=e||{},this._depthTex=new RE({format:kE.DEPTH_COMPONENT,type:kE.UNSIGNED_INT}),this._normalTex=new RE({type:kE.HALF_FLOAT}),this._framebuffer=new FN,this._framebuffer.attach(this._normalTex),this._framebuffer.attach(this._depthTex,FN.DEPTH_ATTACHMENT),this._normalMaterial=new FA({shader:new bM(bM.source("ecgl.normal.vertex"),bM.source("ecgl.normal.fragment"))}),this._normalMaterial.enableTexture(["normalMap","bumpMap","roughnessMap"]),this._defaultNormalMap=oR.createBlank("#000"),this._defaultBumpMap=oR.createBlank("#000"),this._defaultRoughessMap=oR.createBlank("#000"),this._debugPass=new gR({fragment:bM.source("clay.compositor.output")}),this._debugPass.setUniform("texture",this._normalTex),this._debugPass.material.undefine("fragment","OUTPUT_ALPHA")}bM.import("@export ecgl.normal.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\n@import ecgl.common.normalMap.vertexHeader\n\n@import ecgl.common.vertexAnimation.header\n\nvoid main()\n{\n\n @import ecgl.common.vertexAnimation.main\n\n @import ecgl.common.uv.main\n\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n @import ecgl.common.normalMap.vertexMain\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n}\n\n\n@end\n\n\n@export ecgl.normal.fragment\n\n#define ROUGHNESS_CHANEL 0\n\nuniform bool useBumpMap;\nuniform bool useRoughnessMap;\nuniform bool doubleSide;\nuniform float roughness;\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n@import ecgl.common.normalMap.fragmentHeader\n@import ecgl.common.bumpMap.header\n\nuniform sampler2D roughnessMap;\n\nvoid main()\n{\n vec3 N = v_Normal;\n \n bool flipNormal = false;\n if (doubleSide) {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n flipNormal = true;\n }\n }\n\n @import ecgl.common.normalMap.fragmentMain\n\n if (useBumpMap) {\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n }\n\n float g = 1.0 - roughness;\n\n if (useRoughnessMap) {\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n }\n\n if (flipNormal) {\n N = -N;\n }\n\n gl_FragColor.rgb = (N.xyz + 1.0) * 0.5;\n gl_FragColor.a = g;\n}\n@end"),fL.prototype.getDepthTexture=function(){return this._depthTex},fL.prototype.getNormalTexture=function(){return this._normalTex},fL.prototype.update=function(e,t,n){var r=e.getWidth(),i=e.getHeight(),a=this._depthTex,o=this._normalTex,s=this._normalMaterial;a.width=r,a.height=i,o.width=r,o.height=i;var u=t.getRenderList(n).opaque;this._framebuffer.bind(e),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT|e.gl.DEPTH_BUFFER_BIT),e.gl.disable(e.gl.BLEND),e.renderPass(u,n,{getMaterial:function(){return s},ifRender:function(e){return e.renderNormal},beforeRender:dL(e,this._defaultNormalMap,this._defaultBumpMap,this._defaultRoughessMap,this._normalMaterial),sort:e.opaqueSortCompare}),this._framebuffer.unbind(e)},fL.prototype.renderDebug=function(e){this._debugPass.render(e)},fL.prototype.dispose=function(e){this._depthTex.dispose(e),this._normalTex.dispose(e)};var hL=fL;function pL(e){e=e||{},this._edgePass=new gR({fragment:bM.source("ecgl.edge")}),this._edgePass.setUniform("normalTexture",e.normalTexture),this._edgePass.setUniform("depthTexture",e.depthTexture),this._targetTexture=new RE({type:kE.HALF_FLOAT}),this._frameBuffer=new FN,this._frameBuffer.attach(this._targetTexture)}pL.prototype.update=function(e,t,n,r){var i=e.getWidth(),a=e.getHeight(),o=this._targetTexture;o.width=i,o.height=a;var s=this._frameBuffer;s.bind(e),this._edgePass.setUniform("projectionInv",t.invProjectionMatrix.array),this._edgePass.setUniform("textureSize",[i,a]),this._edgePass.setUniform("texture",n),this._edgePass.render(e),s.unbind(e)},pL.prototype.getTargetTexture=function(){return this._targetTexture},pL.prototype.setParameter=function(e,t){this._edgePass.setUniform(e,t)},pL.prototype.dispose=function(e){this._targetTexture.dispose(e),this._frameBuffer.dispose(e)};var mL=pL,gL={type:"compositor",nodes:[{name:"source",type:"texture",outputs:{color:{}}},{name:"source_half",shader:"#source(clay.compositor.downsample)",inputs:{texture:"source"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bright",shader:"#source(clay.compositor.bright)",inputs:{texture:"source_half"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{threshold:2,scale:4,textureSize:"expr([width * 1.0 / 2, height / 2])"}},{name:"bright_downsample_4",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 2, height / 2] )"}},{name:"bright_downsample_8",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 4, height / 4] )"}},{name:"bright_downsample_16",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 8, height / 8] )"}},{name:"bright_downsample_32",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 32)",height:"expr(height * 1.0 / 32)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 16, height / 16] )"}},{name:"bright_upsample_16_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_32"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 32, height / 32] )"}},{name:"bright_upsample_16_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_16_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_8_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_8_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_8_blur_v",texture2:"bright_upsample_16_blur_v"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_4_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_4_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_4_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_4_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_4_blur_v",texture2:"bright_upsample_8_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_2_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_2_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_2_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_2_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_2_blur_v",texture2:"bright_upsample_4_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_full_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_full_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_full_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bloom_composite",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_full_blur_v",texture2:"bright_upsample_2_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"coc",shader:"#source(ecgl.dof.coc)",outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{focalDist:50,focalRange:30}},{name:"dof_far_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"dof_near_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_NEARFIELD:null}},{name:"dof_coc_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"coc"},outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_COC:null}},{name:"dof_composite",shader:"#source(ecgl.dof.composite)",inputs:{original:"source",blurred:"dof_far_blur",nearfield:"dof_near_blur",coc:"coc",nearcoc:"dof_coc_blur"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}}},{name:"composite",shader:"#source(clay.compositor.hdr.composite)",inputs:{texture:"source",bloom:"bloom_composite"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},defines:{}},{name:"FXAA",shader:"#source(clay.compositor.fxaa)",inputs:{texture:"composite"}}]};function vL(e,t){return{color:{parameters:{width:e,height:t}}}}bM.import(FO),bM.import(ZO),bM.import(BO),bM.import(zO),bM.import(VO),bM.import(jO),bM.import(WO),bM.import(UO),bM.import(HO),bM.import("@export ecgl.dof.coc\n\nuniform sampler2D depth;\n\nuniform float zNear: 0.1;\nuniform float zFar: 2000;\n\nuniform float focalDistance: 3;\nuniform float focalRange: 1;\nuniform float focalLength: 30;\nuniform float fstop: 2.8;\n\nvarying vec2 v_Texcoord;\n\n@import clay.util.encode_float\n\nvoid main()\n{\n float z = texture2D(depth, v_Texcoord).r * 2.0 - 1.0;\n\n float dist = 2.0 * zNear * zFar / (zFar + zNear - z * (zFar - zNear));\n\n float aperture = focalLength / fstop;\n\n float coc;\n\n float uppper = focalDistance + focalRange;\n float lower = focalDistance - focalRange;\n if (dist <= uppper && dist >= lower) {\n coc = 0.5;\n }\n else {\n float focalAdjusted = dist > uppper ? uppper : lower;\n\n coc = abs(aperture * (focalLength * (dist - focalAdjusted)) / (dist * (focalAdjusted - focalLength)));\n coc = clamp(coc, 0.0, 2.0) / 2.00001;\n\n if (dist < lower) {\n coc = -coc;\n }\n coc = coc * 0.5 + 0.5;\n }\n\n gl_FragColor = encodeFloat(coc);\n}\n@end\n\n\n@export ecgl.dof.composite\n\n#define DEBUG 0\n\nuniform sampler2D original;\nuniform sampler2D blurred;\nuniform sampler2D nearfield;\nuniform sampler2D coc;\nuniform sampler2D nearcoc;\nvarying vec2 v_Texcoord;\n\n@import clay.util.rgbm\n@import clay.util.float\n\nvoid main()\n{\n vec4 blurredColor = texture2D(blurred, v_Texcoord);\n vec4 originalColor = texture2D(original, v_Texcoord);\n\n float fCoc = decodeFloat(texture2D(coc, v_Texcoord));\n\n fCoc = abs(fCoc * 2.0 - 1.0);\n\n float weight = smoothstep(0.0, 1.0, fCoc);\n \n#ifdef NEARFIELD_ENABLED\n vec4 nearfieldColor = texture2D(nearfield, v_Texcoord);\n float fNearCoc = decodeFloat(texture2D(nearcoc, v_Texcoord));\n fNearCoc = abs(fNearCoc * 2.0 - 1.0);\n\n gl_FragColor = encodeHDR(\n mix(\n nearfieldColor, mix(originalColor, blurredColor, weight),\n pow(1.0 - fNearCoc, 4.0)\n )\n );\n#else\n gl_FragColor = encodeHDR(mix(originalColor, blurredColor, weight));\n#endif\n\n}\n\n@end\n\n\n\n@export ecgl.dof.diskBlur\n\n#define POISSON_KERNEL_SIZE 16;\n\nuniform sampler2D texture;\nuniform sampler2D coc;\nvarying vec2 v_Texcoord;\n\nuniform float blurRadius : 10.0;\nuniform vec2 textureSize : [512.0, 512.0];\n\nuniform vec2 poissonKernel[POISSON_KERNEL_SIZE];\n\nuniform float percent;\n\nfloat nrand(const in vec2 n) {\n return fract(sin(dot(n.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n@import clay.util.rgbm\n@import clay.util.float\n\n\nvoid main()\n{\n vec2 offset = blurRadius / textureSize;\n\n float rnd = 6.28318 * nrand(v_Texcoord + 0.07 * percent );\n float cosa = cos(rnd);\n float sina = sin(rnd);\n vec4 basis = vec4(cosa, -sina, sina, cosa);\n\n#if !defined(BLUR_NEARFIELD) && !defined(BLUR_COC)\n offset *= abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0);\n#endif\n\n#ifdef BLUR_COC\n float cocSum = 0.0;\n#else\n vec4 color = vec4(0.0);\n#endif\n\n\n float weightSum = 0.0;\n\n for (int i = 0; i < POISSON_KERNEL_SIZE; i++) {\n vec2 ofs = poissonKernel[i];\n\n ofs = vec2(dot(ofs, basis.xy), dot(ofs, basis.zw));\n\n vec2 uv = v_Texcoord + ofs * offset;\n vec4 texel = texture2D(texture, uv);\n\n float w = 1.0;\n#ifdef BLUR_COC\n float fCoc = decodeFloat(texel) * 2.0 - 1.0;\n cocSum += clamp(fCoc, -1.0, 0.0) * w;\n#else\n texel = texel;\n #if !defined(BLUR_NEARFIELD)\n float fCoc = decodeFloat(texture2D(coc, uv)) * 2.0 - 1.0;\n w *= abs(fCoc);\n #endif\n texel.rgb *= texel.a;\n color += texel * w;\n#endif\n\n weightSum += w;\n }\n\n#ifdef BLUR_COC\n gl_FragColor = encodeFloat(clamp(cocSum / weightSum, -1.0, 0.0) * 0.5 + 0.5);\n#else\n color /= weightSum;\n color.rgb /= (color.a + 0.0001);\n gl_FragColor = color;\n#endif\n}\n\n@end"),bM.import("@export ecgl.edge\n\nuniform sampler2D texture;\n\nuniform sampler2D normalTexture;\nuniform sampler2D depthTexture;\n\nuniform mat4 projectionInv;\n\nuniform vec2 textureSize;\n\nuniform vec4 edgeColor: [0,0,0,0.8];\n\nvarying vec2 v_Texcoord;\n\nvec3 packColor(vec2 coord) {\n float z = texture2D(depthTexture, coord).r * 2.0 - 1.0;\n vec4 p = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * p;\n\n return vec3(\n texture2D(normalTexture, coord).rg,\n -p4.z / p4.w / 5.0\n );\n}\n\nvoid main() {\n vec2 cc = v_Texcoord;\n vec3 center = packColor(cc);\n\n float size = clamp(1.0 - (center.z - 10.0) / 100.0, 0.0, 1.0) * 0.5;\n float dx = size / textureSize.x;\n float dy = size / textureSize.y;\n\n vec2 coord;\n vec3 topLeft = packColor(cc+vec2(-dx, -dy));\n vec3 top = packColor(cc+vec2(0.0, -dy));\n vec3 topRight = packColor(cc+vec2(dx, -dy));\n vec3 left = packColor(cc+vec2(-dx, 0.0));\n vec3 right = packColor(cc+vec2(dx, 0.0));\n vec3 bottomLeft = packColor(cc+vec2(-dx, dy));\n vec3 bottom = packColor(cc+vec2(0.0, dy));\n vec3 bottomRight = packColor(cc+vec2(dx, dy));\n\n vec3 v = -topLeft-2.0*top-topRight+bottomLeft+2.0*bottom+bottomRight;\n vec3 h = -bottomLeft-2.0*left-topLeft+bottomRight+2.0*right+topRight;\n\n float edge = sqrt(dot(h, h) + dot(v, v));\n\n edge = smoothstep(0.8, 1.0, edge);\n\n gl_FragColor = mix(texture2D(texture, v_Texcoord), vec4(edgeColor.rgb, 1.0), edgeColor.a * edge);\n}\n@end");var yL=["composite","FXAA"];function xL(){this._width,this._height,this._dpr,this._sourceTexture=new RE({type:kE.HALF_FLOAT}),this._depthTexture=new RE({format:kE.DEPTH_COMPONENT,type:kE.UNSIGNED_INT}),this._framebuffer=new FN,this._framebuffer.attach(this._sourceTexture),this._framebuffer.attach(this._depthTexture,FN.DEPTH_ATTACHMENT),this._normalPass=new hL,this._compositor=eL(gL);var e=this._compositor.getNodeByName("source");e.texture=this._sourceTexture;var t=this._compositor.getNodeByName("coc");this._sourceNode=e,this._cocNode=t,this._compositeNode=this._compositor.getNodeByName("composite"),this._fxaaNode=this._compositor.getNodeByName("FXAA"),this._dofBlurNodes=["dof_far_blur","dof_near_blur","dof_coc_blur"].map((function(e){return this._compositor.getNodeByName(e)}),this),this._dofBlurKernel=0,this._dofBlurKernelSize=new Float32Array(0),this._finalNodesChain=yL.map((function(e){return this._compositor.getNodeByName(e)}),this);var n={normalTexture:this._normalPass.getNormalTexture(),depthTexture:this._normalPass.getDepthTexture()};this._ssaoPass=new oL(n),this._ssrPass=new uL(n),this._edgePass=new mL(n)}xL.prototype.resize=function(e,t,n){e*=n=n||1,t*=n;var r=this._sourceTexture,i=this._depthTexture;r.width=e,r.height=t,i.width=e,i.height=t;var a={getWidth:function(){return e},getHeight:function(){return t},getDevicePixelRatio:function(){return n}};function o(e,t){if("function"===typeof e[t]){var n=e[t].__original||e[t];e[t]=function(e){return n.call(this,a)},e[t].__original=n}}this._compositor.nodes.forEach((function(e){for(var t in e.outputs){var n=e.outputs[t].parameters;n&&(o(n,"width"),o(n,"height"))}for(var r in e.parameters)o(e.parameters,r)})),this._width=e,this._height=t,this._dpr=n},xL.prototype.getWidth=function(){return this._width},xL.prototype.getHeight=function(){return this._height},xL.prototype._ifRenderNormalPass=function(){return this._enableSSAO||this._enableEdge||this._enableSSR},xL.prototype._getPrevNode=function(e){for(var t=yL.indexOf(e.name)-1,n=this._finalNodesChain[t];n&&!this._compositor.getNodeByName(n.name);)t-=1,n=this._finalNodesChain[t];return n},xL.prototype._getNextNode=function(e){for(var t=yL.indexOf(e.name)+1,n=this._finalNodesChain[t];n&&!this._compositor.getNodeByName(n.name);)t+=1,n=this._finalNodesChain[t];return n},xL.prototype._addChainNode=function(e){var t=this._getPrevNode(e),n=this._getNextNode(e);t&&(e.inputs.texture=t.name,n?(e.outputs=vL(this.getWidth.bind(this),this.getHeight.bind(this)),n.inputs.texture=e.name):e.outputs=null,this._compositor.addNode(e))},xL.prototype._removeChainNode=function(e){var t=this._getPrevNode(e),n=this._getNextNode(e);t&&(n?(t.outputs=vL(this.getWidth.bind(this),this.getHeight.bind(this)),n.inputs.texture=t.name):t.outputs=null,this._compositor.removeNode(e))},xL.prototype.updateNormal=function(e,t,n,r){this._ifRenderNormalPass()&&this._normalPass.update(e,t,n)},xL.prototype.updateSSAO=function(e,t,n,r){this._ssaoPass.update(e,n,r)},xL.prototype.enableSSAO=function(){this._enableSSAO=!0},xL.prototype.disableSSAO=function(){this._enableSSAO=!1},xL.prototype.enableSSR=function(){this._enableSSR=!0},xL.prototype.disableSSR=function(){this._enableSSR=!1},xL.prototype.getSSAOTexture=function(){return this._ssaoPass.getTargetTexture()},xL.prototype.getSourceFrameBuffer=function(){return this._framebuffer},xL.prototype.getSourceTexture=function(){return this._sourceTexture},xL.prototype.disableFXAA=function(){this._removeChainNode(this._fxaaNode)},xL.prototype.enableFXAA=function(){this._addChainNode(this._fxaaNode)},xL.prototype.enableBloom=function(){this._compositeNode.inputs.bloom="bloom_composite",this._compositor.dirty()},xL.prototype.disableBloom=function(){this._compositeNode.inputs.bloom=null,this._compositor.dirty()},xL.prototype.enableDOF=function(){this._compositeNode.inputs.texture="dof_composite",this._compositor.dirty()},xL.prototype.disableDOF=function(){this._compositeNode.inputs.texture="source",this._compositor.dirty()},xL.prototype.enableColorCorrection=function(){this._compositeNode.define("COLOR_CORRECTION"),this._enableColorCorrection=!0},xL.prototype.disableColorCorrection=function(){this._compositeNode.undefine("COLOR_CORRECTION"),this._enableColorCorrection=!1},xL.prototype.enableEdge=function(){this._enableEdge=!0},xL.prototype.disableEdge=function(){this._enableEdge=!1},xL.prototype.setBloomIntensity=function(e){this._compositeNode.setParameter("bloomIntensity",e)},xL.prototype.setSSAOParameter=function(e,t){switch(e){case"quality":var n={low:6,medium:12,high:32,ultra:62}[t]||12;this._ssaoPass.setParameter("kernelSize",n);break;case"radius":this._ssaoPass.setParameter(e,t),this._ssaoPass.setParameter("bias",t/200);break;case"intensity":this._ssaoPass.setParameter(e,t)}},xL.prototype.setDOFParameter=function(e,t){switch(e){case"focalDistance":case"focalRange":case"fstop":this._cocNode.setParameter(e,t);break;case"blurRadius":for(var n=0;n<this._dofBlurNodes.length;n++)this._dofBlurNodes[n].setParameter("blurRadius",t);break;case"quality":var r={low:4,medium:8,high:16,ultra:32}[t]||8;this._dofBlurKernelSize=r;for(n=0;n<this._dofBlurNodes.length;n++)this._dofBlurNodes[n].pass.material.define("POISSON_KERNEL_SIZE",r);this._dofBlurKernel=new Float32Array(2*r)}},xL.prototype.setSSRParameter=function(e,t){if(null!=t)switch(e){case"quality":var n={low:10,medium:15,high:30,ultra:80}[t]||20,r={low:32,medium:16,high:8,ultra:4}[t]||16;this._ssrPass.setParameter("maxIteration",n),this._ssrPass.setParameter("pixelStride",r);break;case"maxRoughness":this._ssrPass.setParameter("minGlossiness",Math.max(Math.min(1-t,1),0));break;case"physical":this.setPhysicallyCorrectSSR(t);break;default:console.warn("Unkown SSR parameter "+e)}},xL.prototype.setPhysicallyCorrectSSR=function(e){this._ssrPass.setPhysicallyCorrect(e)},xL.prototype.setEdgeColor=function(e){var t=dP.parseColor(e);this._edgePass.setParameter("edgeColor",t)},xL.prototype.setExposure=function(e){this._compositeNode.setParameter("exposure",Math.pow(2,e))},xL.prototype.setColorLookupTexture=function(e,t){this._compositeNode.pass.material.setTextureImage("lut",this._enableColorCorrection?e:"none",t,{minFilter:dP.Texture.NEAREST,magFilter:dP.Texture.NEAREST,flipY:!1})},xL.prototype.setColorCorrection=function(e,t){this._compositeNode.setParameter(e,t)},xL.prototype.isSSREnabled=function(){return this._enableSSR},xL.prototype.composite=function(e,t,n,r,i){var a=this._sourceTexture,o=a;this._enableEdge&&(this._edgePass.update(e,n,a,i),a=o=this._edgePass.getTargetTexture()),this._enableSSR&&(this._ssrPass.update(e,n,a,i),o=this._ssrPass.getTargetTexture(),this._ssrPass.setSSAOTexture(this._enableSSAO?this._ssaoPass.getTargetTexture():null)),this._sourceNode.texture=o,this._cocNode.setParameter("depth",this._depthTexture);for(var s=this._dofBlurKernel,u=this._dofBlurKernelSize,l=i%Math.floor(lL.length/2/u),c=0;c<2*u;c++)s[c]=lL[c+l*u*2];for(c=0;c<this._dofBlurNodes.length;c++)this._dofBlurNodes[c].setParameter("percent",i/30),this._dofBlurNodes[c].setParameter("poissonKernel",s);this._cocNode.setParameter("zNear",n.near),this._cocNode.setParameter("zFar",n.far),this._compositor.render(e,r)},xL.prototype.dispose=function(e){this._sourceTexture.dispose(e),this._depthTexture.dispose(e),this._framebuffer.dispose(e),this._compositor.dispose(e),this._normalPass.dispose(e),this._ssaoPass.dispose(e)};var bL=xL;function wL(e){for(var t=[],n=0;n<30;n++)t.push([tL(n,2),tL(n,3)]);this._haltonSequence=t,this._frame=0,this._sourceTex=new RE,this._sourceFb=new FN,this._sourceFb.attach(this._sourceTex),this._prevFrameTex=new RE,this._outputTex=new RE;var r=this._blendPass=new gR({fragment:bM.source("clay.compositor.blend")});r.material.disableTexturesAll(),r.material.enableTexture(["texture1","texture2"]),this._blendFb=new FN({depthBuffer:!1}),this._outputPass=new gR({fragment:bM.source("clay.compositor.output"),blendWithPrevious:!0}),this._outputPass.material.define("fragment","OUTPUT_ALPHA"),this._outputPass.material.blend=function(e){e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)}}wL.prototype={constructor:wL,jitterProjection:function(e,t){var n=e.viewport,r=n.devicePixelRatio||e.getDevicePixelRatio(),i=n.width*r,a=n.height*r,o=this._haltonSequence[this._frame%this._haltonSequence.length],s=new aE;s.array[12]=(2*o[0]-1)/i,s.array[13]=(2*o[1]-1)/a,aE.mul(t.projectionMatrix,s,t.projectionMatrix),aE.invert(t.invProjectionMatrix,t.projectionMatrix)},resetFrame:function(){this._frame=0},getFrame:function(){return this._frame},getSourceFrameBuffer:function(){return this._sourceFb},getOutputTexture:function(){return this._outputTex},resize:function(e,t){this._prevFrameTex.width=e,this._prevFrameTex.height=t,this._outputTex.width=e,this._outputTex.height=t,this._sourceTex.width=e,this._sourceTex.height=t,this._prevFrameTex.dirty(),this._outputTex.dirty(),this._sourceTex.dirty()},isFinished:function(){return this._frame>=this._haltonSequence.length},render:function(e,t,n){var r=this._blendPass;0===this._frame?(r.setUniform("weight1",0),r.setUniform("weight2",1)):(r.setUniform("weight1",.9),r.setUniform("weight2",.1)),r.setUniform("texture1",this._prevFrameTex),r.setUniform("texture2",t||this._sourceTex),this._blendFb.attach(this._outputTex),this._blendFb.bind(e),r.render(e),this._blendFb.unbind(e),n||(this._outputPass.setUniform("texture",this._outputTex),this._outputPass.render(e));var i=this._prevFrameTex;this._prevFrameTex=this._outputTex,this._outputTex=i,this._frame++},dispose:function(e){this._sourceFb.dispose(e),this._blendFb.dispose(e),this._prevFrameTex.dispose(e),this._outputTex.dispose(e),this._sourceTex.dispose(e),this._outputPass.dispose(e),this._blendPass.dispose(e)}};var _L=wL;function SL(e){e=e||"perspective",this.layer=null,this.scene=new vN,this.rootNode=this.scene,this.viewport={x:0,y:0,width:0,height:0},this.setProjection(e),this._compositor=new bL,this._temporalSS=new _L,this._shadowMapPass=new IO;for(var t=[],n=0,r=0;r<30;r++){for(var i=[],a=0;a<6;a++)i.push(4*tL(n,2)-2),i.push(4*tL(n,3)-2),n++;t.push(i)}this._pcfKernels=t,this.scene.on("beforerender",(function(e,t,n){this.needsTemporalSS()&&this._temporalSS.jitterProjection(e,n)}),this)}SL.prototype.setProjection=function(e){var t=this.camera;t&&t.update(),"perspective"===e?this.camera instanceof kN||(this.camera=new kN,t&&this.camera.setLocalTransform(t.localTransform)):this.camera instanceof fR||(this.camera=new fR,t&&this.camera.setLocalTransform(t.localTransform)),this.camera.near=.1,this.camera.far=2e3},SL.prototype.setViewport=function(e,t,n,r,i){this.camera instanceof kN&&(this.camera.aspect=n/r),i=i||1,this.viewport.x=e,this.viewport.y=t,this.viewport.width=n,this.viewport.height=r,this.viewport.devicePixelRatio=i,this._compositor.resize(n*i,r*i),this._temporalSS.resize(n*i,r*i)},SL.prototype.containPoint=function(e,t){var n=this.viewport;return t=this.layer.renderer.getHeight()-t,e>=n.x&&t>=n.y&&e<=n.x+n.width&&t<=n.y+n.height};var CL=new HA;SL.prototype.castRay=function(e,t,n){var r=this.layer.renderer,i=r.viewport;return r.viewport=this.viewport,r.screenToNDC(e,t,CL),this.camera.castRay(CL,n),r.viewport=i,n},SL.prototype.prepareRender=function(){this.scene.update(),this.camera.update(),this.scene.updateLights();var e=this.scene.updateRenderList(this.camera);this._needsSortProgressively=!1;for(var t=0;t<e.transparent.length;t++){var n=e.transparent[t].geometry;n.needsSortVerticesProgressively&&n.needsSortVerticesProgressively()&&(this._needsSortProgressively=!0),n.needsSortTrianglesProgressively&&n.needsSortTrianglesProgressively()&&(this._needsSortProgressively=!0)}this._frame=0,this._temporalSS.resetFrame()},SL.prototype.render=function(e,t){this._doRender(e,t,this._frame),this._frame++},SL.prototype.needsAccumulate=function(){return this.needsTemporalSS()||this._needsSortProgressively},SL.prototype.needsTemporalSS=function(){var e=this._enableTemporalSS;return"auto"===e&&(e=this._enablePostEffect),e},SL.prototype.hasDOF=function(){return this._enableDOF},SL.prototype.isAccumulateFinished=function(){return this.needsTemporalSS()?this._temporalSS.isFinished():this._frame>30},SL.prototype._doRender=function(e,t,n){var r=this.scene,i=this.camera;n=n||0,this._updateTransparent(e,r,i,n),t||(this._shadowMapPass.kernelPCF=this._pcfKernels[0],this._shadowMapPass.render(e,r,i,!0)),this._updateShadowPCFKernel(n);var a,o=e.clearColor;(e.gl.clearColor(o[0],o[1],o[2],o[3]),this._enablePostEffect&&(this.needsTemporalSS()&&this._temporalSS.jitterProjection(e,i),this._compositor.updateNormal(e,r,i,this._temporalSS.getFrame())),this._updateSSAO(e,r,i,this._temporalSS.getFrame()),this._enablePostEffect)?((a=this._compositor.getSourceFrameBuffer()).bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT),e.render(r,i,!0,!0),a.unbind(e),this.needsTemporalSS()&&t?(this._compositor.composite(e,r,i,this._temporalSS.getSourceFrameBuffer(),this._temporalSS.getFrame()),e.setViewport(this.viewport),this._temporalSS.render(e)):(e.setViewport(this.viewport),this._compositor.composite(e,r,i,null,0))):this.needsTemporalSS()&&t?((a=this._temporalSS.getSourceFrameBuffer()).bind(e),e.saveClear(),e.clearBit=e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT,e.render(r,i,!0,!0),e.restoreClear(),a.unbind(e),e.setViewport(this.viewport),this._temporalSS.render(e)):(e.setViewport(this.viewport),e.render(r,i,!0,!0))},SL.prototype._updateTransparent=function(e,t,n,r){for(var i=new GM,a=new aE,o=n.getWorldPosition(),s=t.getRenderList(n).transparent,u=0;u<s.length;u++){var l=s[u],c=l.geometry;aE.invert(a,l.worldTransform),GM.transformMat4(i,o,a),c.needsSortTriangles&&c.needsSortTriangles()&&c.doSortTriangles(i,r),c.needsSortVertices&&c.needsSortVertices()&&c.doSortVertices(i,r)}},SL.prototype._updateSSAO=function(e,t,n){var r=this._enableSSAO&&this._enablePostEffect;r&&this._compositor.updateSSAO(e,t,n,this._temporalSS.getFrame());for(var i=t.getRenderList(n),a=0;a<i.opaque.length;a++){var o=i.opaque[a];o.renderNormal&&o.material[r?"enableTexture":"disableTexture"]("ssaoMap"),r&&o.material.set("ssaoMap",this._compositor.getSSAOTexture())}},SL.prototype._updateShadowPCFKernel=function(e){for(var t=this._pcfKernels[e%this._pcfKernels.length],n=this.scene.getRenderList(this.camera).opaque,r=0;r<n.length;r++)n[r].receiveShadow&&(n[r].material.set("pcfKernel",t),n[r].material.define("fragment","PCF_KERNEL_SIZE",t.length/2))},SL.prototype.dispose=function(e){this._compositor.dispose(e.gl),this._temporalSS.dispose(e.gl),this._shadowMapPass.dispose(e)},SL.prototype.setPostEffect=function(e,t){var n=this._compositor;this._enablePostEffect=e.get("enable");var r=e.getModel("bloom"),i=e.getModel("edge"),a=e.getModel("DOF",e.getModel("depthOfField")),o=e.getModel("SSAO",e.getModel("screenSpaceAmbientOcclusion")),s=e.getModel("SSR",e.getModel("screenSpaceReflection")),u=e.getModel("FXAA"),l=e.getModel("colorCorrection");r.get("enable")?n.enableBloom():n.disableBloom(),a.get("enable")?n.enableDOF():n.disableDOF(),s.get("enable")?n.enableSSR():n.disableSSR(),l.get("enable")?n.enableColorCorrection():n.disableColorCorrection(),i.get("enable")?n.enableEdge():n.disableEdge(),u.get("enable")?n.enableFXAA():n.disableFXAA(),this._enableDOF=a.get("enable"),this._enableSSAO=o.get("enable"),this._enableSSAO?n.enableSSAO():n.disableSSAO(),n.setBloomIntensity(r.get("intensity")),n.setEdgeColor(i.get("color")),n.setColorLookupTexture(l.get("lookupTexture"),t),n.setExposure(l.get("exposure")),["radius","quality","intensity"].forEach((function(e){n.setSSAOParameter(e,o.get(e))})),["quality","maxRoughness","physical"].forEach((function(e){n.setSSRParameter(e,s.get(e))})),["quality","focalDistance","focalRange","blurRadius","fstop"].forEach((function(e){n.setDOFParameter(e,a.get(e))})),["brightness","contrast","saturation"].forEach((function(e){n.setColorCorrection(e,l.get(e))}))},SL.prototype.setDOFFocusOnPoint=function(e){if(this._enablePostEffect){if(e>this.camera.far||e<this.camera.near)return;return this._compositor.setDOFParameter("focalDistance",e),!0}},SL.prototype.setTemporalSuperSampling=function(e){this._enableTemporalSS=e.get("enable")},SL.prototype.isLinearSpace=function(){return this._enablePostEffect},SL.prototype.setRootNode=function(e){if(this.rootNode!==e){for(var t=this.rootNode.children(),n=0;n<t.length;n++)e.add(t[n]);e!==this.scene&&this.scene.add(e),this.rootNode=e}},SL.prototype.add=function(e){this.rootNode.add(e)},SL.prototype.remove=function(e){this.rootNode.remove(e)},SL.prototype.removeAll=function(e){this.rootNode.removeAll(e)},Object.assign(SL.prototype,aI);var kL=SL;function DL(e,t){var n=e.getBoxLayoutParams(),r=(0,yO.ME)(n,{width:t.getWidth(),height:t.getHeight()});r.y=t.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,t.getDevicePixelRatio());var i=e.get("boxWidth"),a=e.get("boxHeight"),o=e.get("boxDepth");this.getAxis("x").setExtent(-i/2,i/2),this.getAxis("y").setExtent(o/2,-o/2),this.getAxis("z").setExtent(-a/2,a/2),this.size=[i,a,o]}function TL(e,t){var n={};e.eachSeries((function(e){if(e.coordinateSystem===this){var t=e.getData();["x","y","z"].forEach((function(e){t.mapDimensionsAll(e,!0).forEach((function(r){var i,a;i=e,a=t.getDataExtent(r,!0),n[i]=n[i]||[1/0,-1/0],n[i][0]=Math.min(a[0],n[i][0]),n[i][1]=Math.max(a[1],n[i][1])}))}))}}),this),["xAxis3D","yAxis3D","zAxis3D"].forEach((function(t){e.eachComponent(t,(function(e){var r=t.charAt(0),i=e.getReferringComponents("grid3D").models[0],a=i.coordinateSystem;if(a===this){var o=a.getAxis(r);if(!o){var s=qT._y.createScale(n[r]||[1/0,-1/0],e);(o=new vO(r,s)).type=e.get("type");var u="category"===o.type;o.onBand=u&&e.get("boundaryGap"),o.inverse=e.get("inverse"),e.axis=o,o.model=e,o.getLabelModel=function(){return e.getModel("axisLabel",i.getModel("axisLabel"))},o.getTickModel=function(){return e.getModel("axisTick",i.getModel("axisTick"))},a.addAxis(o)}}}),this)}),this),this.resize(this.model,t)}var IL={dimensions:mO.prototype.dimensions,create:function(e,t){var n=[];e.eachComponent("grid3D",(function(e){e.__viewGL=e.__viewGL||new kL;var t=new mO;t.model=e,t.viewGL=e.__viewGL,e.coordinateSystem=t,n.push(t),t.resize=DL,t.update=TL}));var r=["xAxis3D","yAxis3D","zAxis3D"];return e.eachSeries((function(t){if("cartesian3D"===t.get("coordinateSystem")){if(null==(i=t.getReferringComponents("grid3D").models[0])){var n=function(e,t){return r.map((function(n){var r=e.getReferringComponents(n).models[0];return null==r&&(r=t.getComponent(n)),r}))}(t,e),i=n[0].getCoordSysModel();n.forEach((function(e){e.getCoordSysModel()}))}var a=i.coordinateSystem;t.coordinateSystem=a}})),n}},AL=qT.tF.extend({type:"cartesian3DAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid3D",index:this.option.gridIndex,id:this.option.gridId})[0]}});qT._y.mixinAxisModelCommonMethods(AL);var ML=AL,EL={show:!0,grid3DIndex:0,inverse:!1,name:"",nameLocation:"middle",nameTextStyle:{fontSize:16},nameGap:20,axisPointer:{},axisLine:{},axisTick:{},axisLabel:{},splitArea:{}},NL=qT.D5.merge({boundaryGap:!0,axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"},axisPointer:{label:{show:!1}}},EL),RL=qT.D5.merge({boundaryGap:[0,0],splitNumber:5,axisPointer:{label:{}}},EL),PL=qT.D5.defaults({scale:!0,min:"dataMin",max:"dataMax"},RL),OL=qT.D5.defaults({logBase:10},RL);OL.scale=!0;var LL={categoryAxis3D:NL,valueAxis3D:RL,timeAxis3D:PL,logAxis3D:OL},FL=n(53447),ZL=["value","category","time","log"];function BL(e,t){return t.type||(t.data?"category":"value")}(0,qT.D$)((function(e){e.registerComponentModel(AP),e.registerComponentView(fO),e.registerCoordinateSystem("grid3D",IL),["x","y","z"].forEach((function(t){!function(e,t,n,r,i){ZL.forEach((function(a){var o=n.extend({type:t+"Axis3D."+a,__ordinalMeta:null,mergeDefaultAndTheme:function(e,n){var i=n.getTheme();qT.D5.merge(e,i.get(a+"Axis3D")),qT.D5.merge(e,this.getDefaultOption()),e.type=r(t,e)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=FL.Z.createByAxisModel(this))},getCategories:function(){if("category"===this.option.type)return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:qT.D5.merge(qT.D5.clone(LL[a+"Axis3D"]),i||{},!0)});e.registerComponentModel(o)})),e.registerSubTypeDefaulter(t+"Axis3D",qT.D5.curry(r,t))}(e,t,ML,BL,{name:t.toUpperCase()});var n=e.ComponentView.extend({type:t+"Axis3D"});e.registerComponentView(n)})),e.registerAction({type:"grid3DChangeCamera",event:"grid3dcamerachanged",update:"series:updateCamera"},(function(e,t){t.eachComponent({mainType:"grid3D",query:e},(function(t){t.setView(e)}))})),e.registerAction({type:"grid3DShowAxisPointer",event:"grid3dshowaxispointer",update:"grid3D:showAxisPointer"},(function(e,t){})),e.registerAction({type:"grid3DHideAxisPointer",event:"grid3dhideaxispointer",update:"grid3D:hideAxisPointer"},(function(e,t){}))}));var zL={defaultOption:{shading:null,realisticMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},lambertMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},colorMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},hatchingMaterial:{textureTiling:1,textureOffset:0,paperColor:"#fff"}}},VL={getFilledRegions:function(e,t){var n,r=(e||[]).slice();if("string"===typeof t?n=(t=qT.FU(t))&&t.geoJson:t&&t.features&&(n=t),!n)return[];for(var i={},a=n.features,o=0;o<r.length;o++)i[r[o].name]=r[o];for(o=0;o<a.length;o++){var s=a[o].properties.name;i[s]||r.push({name:s})}return r},defaultOption:{show:!0,zlevel:-10,map:"",left:0,top:0,width:"100%",height:"100%",boxWidth:100,boxHeight:10,boxDepth:"auto",regionHeight:3,environment:"auto",groundPlane:{show:!1,color:"#aaa"},shading:"lambert",light:{main:{alpha:40,beta:30}},viewControl:{alpha:40,beta:0,distance:100,orthographicSize:60,minAlpha:5,minBeta:-80,maxBeta:80},label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}},jL=qT.tF.extend({type:"geo3D",layoutMode:"box",coordinateSystem:null,optionUpdated:function(){var e=this.option;e.regions=this.getFilledRegions(e.regions,e.map);var t=qT._y.createDimensions(e.data||[],{coordDimensions:["value"],encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),n=new qT.aV(t,this);n.initData(e.regions);var r={};n.each((function(e){var t=n.getName(e),i=n.getItemModel(e);r[t]=i})),this._regionModelMap=r,this._data=n},getData:function(){return this._data},getRegionModel:function(e){var t=this.getData().getName(e);return this._regionModelMap[t]||new qT.Hn(null,this)},getRegionPolygonCoords:function(e){var t=this.getData().getName(e),n=this.coordinateSystem.getRegion(t);return n?n.geometries:[]},getFormattedLabel:function(e,t){var n=this._data.getName(e),r=this.getRegionModel(e),i=r.get("normal"===t?["label","formatter"]:["emphasis","label","formatter"]);null==i&&(i=r.get(["label","formatter"]));var a={name:n};if("function"===typeof i)return a.status=t,i(a);if("string"===typeof i){var o=a.seriesName;return i.replace("{a}",null!=o?o:"")}return n},defaultOption:{regions:[]}});qT.D5.merge(jL.prototype,VL),qT.D5.merge(jL.prototype,kP),qT.D5.merge(jL.prototype,DP),qT.D5.merge(jL.prototype,TP),qT.D5.merge(jL.prototype,zL);var WL=jL,UL=HL;function HL(e,t,n){n=n||2;var r,i,a,o,s,u,l,c=t&&t.length,d=c?t[0]*n:e.length,f=GL(e,0,d,n,!0),h=[];if(!f)return h;if(c&&(f=function(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=GL(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(nF(o));for(s.sort($L),i=0;i<s.length;i++)eF(s[i],n),n=XL(n,n.next);return n}(e,t,f,n)),e.length>80*n){r=a=e[0],i=o=e[1];for(var p=n;p<d;p+=n)(s=e[p])<r&&(r=s),(u=e[p+1])<i&&(i=u),s>a&&(a=s),u>o&&(o=u);l=Math.max(a-r,o-i)}return qL(f,h,n,r,i,l),h}function GL(e,t,n,r,i){var a,o;if(i===hF(e,t,n,r)>0)for(a=t;a<n;a+=r)o=cF(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=cF(a,e[a],e[a+1],o);return o&&oF(o,o.next)&&(dF(o),o=o.next),o}function XL(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!oF(r,r.next)&&0!==aF(r.prev,r,r.next))r=r.next;else{if(dF(r),(r=t=r.prev)===r.next)return null;n=!0}}while(n||r!==t);return t}function qL(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=tF(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,u,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,r,i,a);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,a?KL(e,r,i,a):YL(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),dF(e),e=u.next,l=u.next;else if((e=u)===l){o?1===o?qL(e=QL(e,t,n),t,n,r,i,a,2):2===o&&JL(e,t,n,r,i,a):qL(XL(e),t,n,r,i,a,1);break}}}function YL(e){var t=e.prev,n=e,r=e.next;if(aF(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(rF(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&aF(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function KL(e,t,n,r){var i=e.prev,a=e,o=e.next;if(aF(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,u=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,d=tF(s,u,t,n,r),f=tF(l,c,t,n,r),h=e.nextZ;h&&h.z<=f;){if(h!==e.prev&&h!==e.next&&rF(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&aF(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(h=e.prevZ;h&&h.z>=d;){if(h!==e.prev&&h!==e.next&&rF(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&aF(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}function QL(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!oF(i,a)&&sF(i,r,r.next,a)&&uF(i,a)&&uF(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),dF(r),dF(r.next),r=e=a),r=r.next}while(r!==e);return r}function JL(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&iF(o,s)){var u=lF(o,s);return o=XL(o,o.next),u=XL(u,u.next),qL(o,t,n,r,i,a),void qL(u,t,n,r,i,a)}s=s.next}o=o.next}while(o!==e)}function $L(e,t){return e.x-t.x}function eF(e,t){if(t=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n.prev;var u,l=n,c=n.x,d=n.y,f=1/0;r=n.next;for(;r!==l;)i>=r.x&&r.x>=c&&i!==r.x&&rF(a<d?i:o,a,c,d,a<d?o:i,a,r.x,r.y)&&((u=Math.abs(a-r.y)/(i-r.x))<f||u===f&&r.x>n.x)&&uF(r,e)&&(n=r,f=u),r=r.next;return n}(e,t),t){var n=lF(t,e);XL(n,n.next)}}function tF(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)/i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)/i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function nF(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function rF(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function iF(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&sF(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&uF(e,t)&&uF(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}function aF(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function oF(e,t){return e.x===t.x&&e.y===t.y}function sF(e,t,n,r){return!!(oF(e,t)&&oF(n,r)||oF(e,r)&&oF(n,t))||aF(e,t,n)>0!==aF(e,t,r)>0&&aF(n,r,e)>0!==aF(n,r,t)>0}function uF(e,t){return aF(e.prev,e,e.next)<0?aF(e,t,e.next)>=0&&aF(e,e.prev,t)>=0:aF(e,t,e.prev)<0||aF(e,e.next,t)<0}function lF(e,t){var n=new fF(e.i,e.x,e.y),r=new fF(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function cF(e,t,n,r){var i=new fF(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function dF(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function fF(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function hF(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}function pF(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function mF(e,t,n,r,i){var a=n,o=e[t];pF(e,t,r);for(var s=n;s<r;s++)i(e[s],o)<0&&(pF(e,s,a),a++);return pF(e,r,a),a}function gF(e,t,n,r){if(n<r){var i=mF(e,Math.floor((n+r)/2),n,r,t);gF(e,t,n,i-1),gF(e,t,i+1,r)}}function vF(){this._parts=[]}HL.deviation=function(e,t,n,r){var i=t&&t.length,a=i?t[0]*n:e.length,o=Math.abs(hF(e,0,a,n));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*n,c=s<u-1?t[s+1]*n:e.length;o-=Math.abs(hF(e,l,c,n))}var d=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,h=r[s+1]*n,p=r[s+2]*n;d+=Math.abs((e[f]-e[p])*(e[h+1]-e[f+1])-(e[f]-e[h])*(e[p+1]-e[f+1]))}return 0===o&&0===d?0:Math.abs((d-o)/o)},vF.prototype.step=function(e,t,n){var r=e.length;if(0===n){this._parts=[],this._sorted=!1;var i=Math.floor(r/2);this._parts.push({pivot:i,left:0,right:r-1}),this._currentSortPartIdx=0}if(!this._sorted){var a=this._parts;if(0===a.length)return this._sorted=!0,!0;if(a.length<512){for(var o=0;o<a.length;o++)a[o].pivot=mF(e,a[o].pivot,a[o].left,a[o].right,t);var s=[];for(o=0;o<a.length;o++){var u=a[o].left;(l=a[o].pivot-1)>u&&s.push({pivot:Math.floor((l+u)/2),left:u,right:l});var l;u=a[o].pivot+1;(l=a[o].right)>u&&s.push({pivot:Math.floor((l+u)/2),left:u,right:l})}a=this._parts=s}else for(o=0;o<Math.floor(a.length/10);o++){var c=a.length-1-this._currentSortPartIdx;if(gF(e,t,a[c].left,a[c].right),this._currentSortPartIdx++,this._currentSortPartIdx===a.length)return this._sorted=!0,!0}return!1}},vF.sort=gF;var yF=vF,xF=FP.vec3,bF=xF.create(),wF=xF.create(),_F=xF.create(),SF={needsSortTriangles:function(){return this.indices&&this.sortTriangles},needsSortTrianglesProgressively:function(){return this.needsSortTriangles()&&this.triangleCount>=2e4},doSortTriangles:function(e,t){var n=this.indices;if(0===t){var r=this.attributes.position;e=e.array;this._triangleZList&&this._triangleZList.length===this.triangleCount||(this._triangleZList=new Float32Array(this.triangleCount),this._sortedTriangleIndices=new Uint32Array(this.triangleCount),this._indicesTmp=new n.constructor(n.length),this._triangleZListTmp=new Float32Array(this.triangleCount));for(var i,a=0,o=0;o<n.length;){r.get(n[o++],bF),r.get(n[o++],wF),r.get(n[o++],_F);var s=xF.sqrDist(bF,e),u=xF.sqrDist(wF,e),l=xF.sqrDist(_F,e),c=Math.min(s,u);c=Math.min(c,l),3===o?(i=c,c=0):c-=i,this._triangleZList[a++]=c}}var d=this._sortedTriangleIndices;for(o=0;o<d.length;o++)d[o]=o;if(this.triangleCount<2e4)0===t&&this._simpleSort(!0);else for(o=0;o<3;o++)this._progressiveQuickSort(3*t+o);var f=this._indicesTmp,h=this._triangleZListTmp,p=this._triangleZList;for(o=0;o<this.triangleCount;o++){var m=3*d[o],g=3*o;f[g++]=n[m++],f[g++]=n[m++],f[g]=n[m],h[o]=p[d[o]]}var v=this._indicesTmp;this._indicesTmp=this.indices,this.indices=v;v=this._triangleZListTmp;this._triangleZListTmp=this._triangleZList,this._triangleZList=v,this.dirtyIndices()},_simpleSort:function(e){var t=this._triangleZList,n=this._sortedTriangleIndices;function r(e,n){return t[n]-t[e]}e?Array.prototype.sort.call(n,r):yF.sort(n,r,0,n.length-1)},_progressiveQuickSort:function(e){var t=this._triangleZList,n=this._sortedTriangleIndices;this._quickSort=this._quickSort||new yF,this._quickSort.step(n,(function(e,n){return t[n]-t[e]}),e)}};function CF(e,t){var n=e.getItemVisual(t,"style");if(n)return n[e.getVisual("drawType")]}function kF(e,t){var n=e.getItemVisual(t,"style");return n&&n.opacity}function DF(e,t,n){this._labelsMesh=new rO,this._labelTextureSurface=new UP({width:512,height:512,devicePixelRatio:n.getDevicePixelRatio(),onupdate:function(){n.getZr().refresh()}}),this._api=n,this._labelsMesh.material.set("textureAtlas",this._labelTextureSurface.getTexture())}DF.prototype.getLabelPosition=function(e,t,n){return[0,0,0]},DF.prototype.getLabelDistance=function(e,t,n){return 0},DF.prototype.getMesh=function(){return this._labelsMesh},DF.prototype.updateData=function(e,t,n){null==t&&(t=0),null==n&&(n=e.count()),this._labelsVisibilitiesBits&&this._labelsVisibilitiesBits.length===n-t||(this._labelsVisibilitiesBits=new Uint8Array(n-t));for(var r=["label","show"],i=["emphasis","label","show"],a=t;a<n;a++){var o=e.getItemModel(a),s=o.get(r),u=o.get(i);null==u&&(u=s);var l=(s?1:0)|(u?2:0);this._labelsVisibilitiesBits[a-t]=l}this._start=t,this._end=n,this._data=e},DF.prototype.updateLabels=function(e){if(this._data){for(var t=(e=e||[]).length>0,n={},r=0;r<e.length;r++)n[e[r]]=!0;this._labelsMesh.geometry.convertToDynamicArray(!0),this._labelTextureSurface.clear();for(var i=["label"],a=["emphasis","label"],o=this._data.hostModel,s=this._data,u=o.getModel(i),l=o.getModel(a,u),c={left:"right",right:"left",top:"center",bottom:"center"},d={left:"middle",right:"middle",top:"bottom",bottom:"top"},f=this._start;f<this._end;f++){var h=!1;if(t&&n[f]&&(h=!0),this._labelsVisibilitiesBits[f-this._start]&(h?2:1)){var p=s.getItemModel(f).getModel(h?a:i,h?l:u),m=p.get("distance")||0,g=p.get("position"),v=this._api.getDevicePixelRatio(),y=o.getFormattedLabel(f,h?"emphasis":"normal");if(null==y||""===y)return;var x=new qT.Q.Text({style:(0,MP.Lr)(p,{text:y,fill:p.get("color")||CF(s,f)||"#000",align:"left",verticalAlign:"top",opacity:MR.firstNotNull(p.get("opacity"),kF(s,f),1)})}),b=x.getBoundingRect();b.height*=1.2;var w=this._labelTextureSurface.add(x),_=c[g]||"center",S=d[g]||"bottom";this._labelsMesh.geometry.addSprite(this.getLabelPosition(f,g,m),[b.width*v,b.height*v],w,_,S,this.getLabelDistance(f,g,m)*v)}}this._labelsMesh.material.set("uvScale",this._labelTextureSurface.getCoordsScale()),this._labelTextureSurface.getZr().refreshImmediately(),this._labelsMesh.geometry.convertToTypedArray(),this._labelsMesh.geometry.dirty()}},DF.prototype.dispose=function(){this._labelTextureSurface.dispose()};var TF=DF,IF=FP.vec3;function AF(e){this.rootNode=new dP.Node,this._triangulationResults={},this._shadersMap=dP.COMMON_SHADERS.filter((function(e){return"shadow"!==e})).reduce((function(e,t){return e[t]=dP.createShader("ecgl."+t),e}),{}),this._linesShader=dP.createShader("ecgl.meshLines3D");var t={};dP.COMMON_SHADERS.forEach((function(e){t[e]=new dP.Material({shader:dP.createShader("ecgl."+e)})})),this._groundMaterials=t,this._groundMesh=new dP.Mesh({geometry:new dP.PlaneGeometry({dynamic:!0}),castShadow:!1,renderNormal:!0,$ignorePicking:!0}),this._groundMesh.rotation.rotateX(-Math.PI/2),this._labelsBuilder=new TF(512,512,e),this._labelsBuilder.getMesh().renderOrder=100,this._labelsBuilder.getMesh().material.depthTest=!1,this.rootNode.add(this._labelsBuilder.getMesh()),this._initMeshes(),this._api=e}dP.Shader.import(lO),AF.prototype={constructor:AF,extrudeY:!0,update:function(e,t,n,r,i){var a=e.getData();null==r&&(r=0),null==i&&(i=a.count()),this._startIndex=r,this._endIndex=i-1,this._triangulation(e,r,i);var o=this._getShader(e.get("shading"));this._prepareMesh(e,o,n,r,i),this.rootNode.updateWorldTransform(),this._updateRegionMesh(e,n,r,i);var s=e.coordinateSystem;"geo3D"===s.type&&this._updateGroundPlane(e,s,n);var u=this;this._labelsBuilder.updateData(a,r,i),this._labelsBuilder.getLabelPosition=function(e,t,n){var r=a.getName(e),i=n;if("geo3D"===s.type){var o=s.getRegion(r);return o?(c=o.getCenter(),s.dataToPoint([c[0],c[1],i])):[NaN,NaN,NaN]}var l=u._triangulationResults[e-u._startIndex],c=u.extrudeY?[(l.max[0]+l.min[0])/2,l.max[1]+i,(l.max[2]+l.min[2])/2]:[(l.max[0]+l.min[0])/2,(l.max[1]+l.min[1])/2,l.max[2]+i]},this._data=a,this._labelsBuilder.updateLabels(),this._updateDebugWireframe(e),this._lastHoverDataIndex=0},_initMeshes:function(){var e=this;var t=function(){var t=new dP.Mesh({name:"Polygon",material:new dP.Material({shader:e._shadersMap.lambert}),geometry:new dP.Geometry({sortTriangles:!0,dynamic:!0}),culling:!1,ignorePicking:!0,renderNormal:!0});return Object.assign(t.geometry,SF),t}(),n=new dP.Mesh({material:new dP.Material({shader:this._linesShader}),castShadow:!1,ignorePicking:!0,$ignorePicking:!0,geometry:new VP({useNativeLine:!1})});this.rootNode.add(t),this.rootNode.add(n),t.material.define("both","VERTEX_COLOR"),t.material.define("fragment","DOUBLE_SIDED"),this._polygonMesh=t,this._linesMesh=n,this.rootNode.add(this._groundMesh)},_getShader:function(e){var t=this._shadersMap[e];return t||(t=this._shadersMap.lambert),t.__shading=e,t},_prepareMesh:function(e,t,n,r,i){for(var a=0,o=0,s=0,u=0,l=r;l<i;l++){var c=this._getRegionPolygonInfo(l),d=this._getRegionLinesInfo(l,e,this._linesMesh.geometry);a+=c.vertexCount,o+=c.triangleCount,s+=d.vertexCount,u+=d.triangleCount}var f=this._polygonMesh,h=f.geometry;["position","normal","texcoord0","color"].forEach((function(e){h.attributes[e].init(a)})),h.indices=a>65535?new Uint32Array(3*o):new Uint16Array(3*o),f.material.shader!==t&&f.material.attachShader(t,!0),dP.setMaterialFromModel(t.__shading,f.material,e,n),s>0&&(this._linesMesh.geometry.resetOffset(),this._linesMesh.geometry.setVertexCount(s),this._linesMesh.geometry.setTriangleCount(u)),this._dataIndexOfVertex=new Uint32Array(a),this._vertexRangeOfDataIndex=new Uint32Array(2*(i-r))},_updateRegionMesh:function(e,t,n,r){for(var i=e.getData(),a=0,o=0,s=!1,u=this._polygonMesh,l=this._linesMesh,c=n;c<r;c++){var d=e.getRegionModel(c),f=d.getModel("itemStyle"),h=MR.firstNotNull(CF(i,c),f.get("color"),"#fff"),p=MR.firstNotNull(kF(i,c),f.get("opacity"),1),m=dP.parseColor(h),g=dP.parseColor(f.get("borderColor"));m[3]*=p,g[3]*=p;var v=m[3]<.99;u.material.set("color",[1,1,1,1]),s=s||v;for(var y=MR.firstNotNull(d.get("height",!0),e.get("regionHeight")),x=this._updatePolygonGeometry(e,u.geometry,c,y,a,o,m),b=a;b<x.vertexOffset;b++)this._dataIndexOfVertex[b]=c;this._vertexRangeOfDataIndex[2*(c-n)]=a,this._vertexRangeOfDataIndex[2*(c-n)+1]=x.vertexOffset,a=x.vertexOffset,o=x.triangleOffset;var w=f.get("borderWidth"),_=w>0;_&&(w*=t.getDevicePixelRatio(),this._updateLinesGeometry(l.geometry,e,c,y,w,e.coordinateSystem.transform)),l.invisible=!_,l.material.set({color:g})}(u=this._polygonMesh).material.transparent=s,u.material.depthMask=!s,u.geometry.updateBoundingBox(),u.frontFace=this.extrudeY?dP.Mesh.CCW:dP.Mesh.CW,u.material.get("normalMap")&&u.geometry.generateTangents(),u.seriesIndex=e.seriesIndex,u.on("mousemove",this._onmousemove,this),u.on("mouseout",this._onmouseout,this)},_updateDebugWireframe:function(e){var t=e.getModel("debug.wireframe");if(t.get("show")){var n=dP.parseColor(t.get("lineStyle.color")||"rgba(0,0,0,0.5)"),r=MR.firstNotNull(t.get("lineStyle.width"),1),i=this._polygonMesh;i.geometry.generateBarycentric(),i.material.define("both","WIREFRAME_TRIANGLE"),i.material.set("wireframeLineColor",n),i.material.set("wireframeLineWidth",r)}},_onmousemove:function(e){var t=this._dataIndexOfVertex[e.triangle[0]];null==t&&(t=-1),t!==this._lastHoverDataIndex&&(this.downplay(this._lastHoverDataIndex),this.highlight(t),this._labelsBuilder.updateLabels([t])),this._lastHoverDataIndex=t,this._polygonMesh.dataIndex=t},_onmouseout:function(e){e.target&&(this.downplay(this._lastHoverDataIndex),this._lastHoverDataIndex=-1,this._polygonMesh.dataIndex=-1),this._labelsBuilder.updateLabels([])},_updateGroundPlane:function(e,t,n){var r=e.getModel("groundPlane",e);if(this._groundMesh.invisible=!r.get("show",!0),!this._groundMesh.invisible){var i=e.get("shading"),a=this._groundMaterials[i];a||(a=this._groundMaterials.lambert),dP.setMaterialFromModel(i,a,r,n),a.get("normalMap")&&this._groundMesh.geometry.generateTangents(),this._groundMesh.material=a,this._groundMesh.material.set("color",dP.parseColor(r.get("color"))),this._groundMesh.scale.set(t.size[0],t.size[2],1)}},_triangulation:function(e,t,n){this._triangulationResults=[];for(var r=[1/0,1/0,1/0],i=[-1/0,-1/0,-1/0],a=e.coordinateSystem,o=t;o<n;o++){for(var s=[],u=e.getRegionPolygonCoords(o),l=0;l<u.length;l++){var c=u[l].exterior,d=u[l].interiors,f=[],h=[];if(!(c.length<3)){for(var p=0,m=0;m<c.length;m++){var g=c[m];f[p++]=g[0],f[p++]=g[1]}for(m=0;m<d.length;m++)if(!(d[m].length<3)){for(var v=f.length/2,y=0;y<d[m].length;y++){g=d[m][y];f.push(g[0]),f.push(g[1])}h.push(v)}var x=UL(f,h),b=new Float64Array(f.length/2*3),w=[],_=[1/0,1/0,1/0],S=[-1/0,-1/0,-1/0],C=0;for(m=0;m<f.length;)IF.set(w,f[m++],0,f[m++]),a&&a.transform&&IF.transformMat4(w,w,a.transform),IF.min(_,_,w),IF.max(S,S,w),b[C++]=w[0],b[C++]=w[1],b[C++]=w[2];IF.min(r,r,_),IF.max(i,i,S),s.push({points:b,indices:x,min:_,max:S})}}this._triangulationResults.push(s)}this._geoBoundingBox=[r,i]},_getRegionPolygonInfo:function(e){for(var t=this._triangulationResults[e-this._startIndex],n=0,r=0,i=0;i<t.length;i++)n+=t[i].points.length/3,r+=t[i].indices.length/3;return{vertexCount:2*n+4*n,triangleCount:2*r+2*n}},_updatePolygonGeometry:function(e,t,n,r,i,a,o){var s=e.get("projectUVOnGround"),u=t.attributes.position,l=t.attributes.normal,c=t.attributes.texcoord0,d=t.attributes.color,f=this._triangulationResults[n-this._startIndex],h=d.value&&o,p=t.indices,m=this.extrudeY?1:2,g=this.extrudeY?2:1,v=[this.rootNode.worldTransform.x.len(),this.rootNode.worldTransform.y.len(),this.rootNode.worldTransform.z.len()],y=IF.mul([],this._geoBoundingBox[0],v),x=IF.mul([],this._geoBoundingBox[1],v),b=Math.max(x[0]-y[0],x[2]-y[2]);function w(e,t,n){var r=i;!function(e,t,n){for(var r=e.points,a=r.length,s=[],l=[],f=0;f<a;f+=3)s[0]=r[f],s[m]=t,s[g]=r[f+2],l[0]=(r[f]*v[0]-y[0])/b,l[1]=(r[f+2]*v[g]-y[2])/b,u.set(i,s),h&&d.set(i,o),c.set(i++,l)}(e,t);for(var s=e.indices.length,l=0;l<s;l++)p[3*a+l]=e.indices[l]+r;a+=e.indices.length/3}for(var _=this.extrudeY?[0,1,0]:[0,0,1],S=IF.negate([],_),C=0;C<f.length;C++){var k=i,D=f[C];w(D,0),w(D,r);for(var T=D.points.length/3,I=0;I<T;I++)l.set(k+I,S),l.set(k+I+T,_);var A=[0,3,1,1,3,2],M=[[],[],[],[]],E=[],N=[],R=[],P=[],O=0;for(I=0;I<T;I++){for(var L=(I+1)%T,F=(D.points[3*L]-D.points[3*I])*v[0],Z=(D.points[3*L+2]-D.points[3*I+2])*v[g],B=Math.sqrt(F*F+Z*Z),z=0;z<4;z++){var V=0===z||3===z,j=3*(V?I:L);M[z][0]=D.points[j],M[z][m]=z>1?r:0,M[z][g]=D.points[j+2],u.set(i+z,M[z]),s?(P[0]=(D.points[j]*v[0]-y[0])/b,P[1]=(D.points[j+2]*v[g]-y[g])/b):(P[0]=(V?O:O+B)/b,P[1]=(M[z][m]*v[m]-y[m])/b),c.set(i+z,P)}IF.sub(E,M[1],M[0]),IF.sub(N,M[3],M[0]),IF.cross(R,E,N),IF.normalize(R,R);for(z=0;z<4;z++)l.set(i+z,R),h&&d.set(i+z,o);for(z=0;z<6;z++)p[3*a+z]=A[z]+i;i+=4,a+=2,O+=B}}return t.dirty(),{vertexOffset:i,triangleOffset:a}},_getRegionLinesInfo:function(e,t,n){var r=0,i=0;t.getRegionModel(e).getModel("itemStyle").get("borderWidth")>0&&t.getRegionPolygonCoords(e).forEach((function(e){var t=e.exterior,a=e.interiors;r+=n.getPolylineVertexCount(t),i+=n.getPolylineTriangleCount(t);for(var o=0;o<a.length;o++)r+=n.getPolylineVertexCount(a[o]),i+=n.getPolylineTriangleCount(a[o])}),this);return{vertexCount:r,triangleCount:i}},_updateLinesGeometry:function(e,t,n,r,i,a){function o(e){for(var t=new Float64Array(3*e.length),n=0,i=[],o=0;o<e.length;o++)i[0]=e[o][0],i[1]=r+.1,i[2]=e[o][1],a&&IF.transformMat4(i,i,a),t[n++]=i[0],t[n++]=i[1],t[n++]=i[2];return t}var s=[1,1,1,1];t.getRegionPolygonCoords(n).forEach((function(t){var n=t.exterior,r=t.interiors;e.addPolyline(o(n),s,i);for(var a=0;a<r.length;a++)e.addPolyline(o(r[a]),s,i)}))},highlight:function(e){var t=this._data;if(t){var n=t.getItemModel(e).getModel(["emphasis","itemStyle"]),r=n.get("color"),i=MR.firstNotNull(n.get("opacity"),kF(t,e),1);if(null==r){var a=CF(t,e);r=qT.$_.lift(a,-.4)}null==i&&(i=kF(t,e));var o=dP.parseColor(r);o[3]*=i,this._setColorOfDataIndex(t,e,o)}},downplay:function(e){var t=this._data;if(t){var n=t.getItemModel(e),r=MR.firstNotNull(CF(t,e),n.get(["itemStyle","color"]),"#fff"),i=MR.firstNotNull(kF(t,e),n.get(["itemStyle","opacity"]),1),a=dP.parseColor(r);a[3]*=i,this._setColorOfDataIndex(t,e,a)}},dispose:function(){this._labelsBuilder.dispose()},_setColorOfDataIndex:function(e,t,n){if(!(t<this._startIndex&&t>this._endIndex)){t-=this._startIndex;for(var r=this._vertexRangeOfDataIndex[2*t];r<this._vertexRangeOfDataIndex[2*t+1];r++)this._polygonMesh.geometry.attributes.color.set(r,n);this._polygonMesh.geometry.dirty(),this._api.getZr().refresh()}}};var MF=AF,EF=qT.Ir.extend({type:"geo3D",__ecgl__:!0,init:function(e,t){this._geo3DBuilder=new MF(t),this.groupGL=new dP.Node,this._lightRoot=new dP.Node,this._sceneHelper=new GP(this._lightRoot),this._sceneHelper.initLight(this._lightRoot),this._control=new OP({zr:t.getZr()}),this._control.init()},render:function(e,t,n){this.groupGL.add(this._geo3DBuilder.rootNode);var r=e.coordinateSystem;if(r&&r.viewGL){r.viewGL.add(this._lightRoot),e.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL);var i=this._control;i.setViewGL(r.viewGL);var a=e.getModel("viewControl");i.setFromViewControlModel(a,0),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(e),r.viewGL.setPostEffect(e.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._geo3DBuilder.update(e,t,n,0,e.getData().count());var o=r.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse((function(e){e.material&&e.material[o]("fragment","SRGB_DECODE")})),i.off("update"),i.on("update",(function(){n.dispatchAction({type:"geo3DChangeCamera",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),center:i.getCenter(),from:this.uid,geo3DId:e.id})})),i.update()}},afterRender:function(e,t,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,e,n),this._sceneHelper.updateSkybox(i,e,n)},dispose:function(){this._control.dispose(),this._geo3DBuilder.dispose()}}),NF=n(58051),RF={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};var PF=FP.vec3,OF=FP.mat4,LF=[NF.Z,function(e,t){if("world"===e){var n=RF[t.name];if(n){var r=[n[0],n[1]];t.setCenter(r)}}}];function FF(e,t,n,r,i){this.name=e,this.map=t,this.regionHeight=0,this.regions=[],this._nameCoordMap={},this.loadGeoJson(n,r,i),this.transform=OF.identity(new Float64Array(16)),this.invTransform=OF.identity(new Float64Array(16)),this.extrudeY=!0,this.altitudeAxis}FF.prototype={constructor:FF,type:"geo3D",dimensions:["lng","lat","alt"],containPoint:function(){},loadGeoJson:function(e,t,n){var r=qT.Nu||qT.pQ;try{this.regions=e?r(e):[]}catch(tZ){throw"Invalid geoJson format\n"+tZ}t=t||{},n=n||{};for(var i=this.regions,a={},o=0;o<i.length;o++){var s=i[o].name;s=n[s]||s,i[o].name=s,a[s]=i[o],this.addGeoCoord(s,i[o].getCenter());var u=t[s];u&&i[o].transformTo(u.left,u.top,u.width,u.height)}this._regionsMap=a,this._geoRect=null,LF.forEach((function(e){e(this)}),this)},getGeoBoundingRect:function(){if(this._geoRect)return this._geoRect;for(var e,t=this.regions,n=0;n<t.length;n++){var r=t[n].getBoundingRect();(e=e||r.clone()).union(r)}return this._geoRect=e||new qT.Q.BoundingRect(0,0,0,0)},addGeoCoord:function(e,t){this._nameCoordMap[e]=t},getRegion:function(e){return this._regionsMap[e]},getRegionByCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return t[n]},setSize:function(e,t,n){this.size=[e,t,n];var r=this.getGeoBoundingRect(),i=e/r.width,a=-n/r.height,o=-e/2-r.x*i,s=n/2-r.y*a,u=this.extrudeY?[o,0,s]:[o,s,0],l=this.extrudeY?[i,1,a]:[i,a,1],c=this.transform;OF.identity(c),OF.translate(c,c,u),OF.scale(c,c,l),OF.invert(this.invTransform,c)},dataToPoint:function(e,t){t=t||[];var n=this.extrudeY?1:2,r=this.extrudeY?2:1,i=e[2];return isNaN(i)&&(i=0),t[0]=e[0],t[r]=e[1],this.altitudeAxis?t[n]=this.altitudeAxis.dataToCoord(i):t[n]=0,t[n]+=this.regionHeight,PF.transformMat4(t,t,this.transform),t},pointToData:function(e,t){}};var ZF=FF;function BF(e,t){var n=e.getBoxLayoutParams(),r=(0,yO.ME)(n,{width:t.getWidth(),height:t.getHeight()});r.y=t.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,t.getDevicePixelRatio());var i=this.getGeoBoundingRect(),a=i.width/i.height*(e.get("aspectScale")||.75),o=e.get("boxWidth"),s=e.get("boxDepth"),u=e.get("boxHeight");null==u&&(u=5),isNaN(o)&&isNaN(s)&&(o=100),isNaN(s)?s=o/a:isNaN(o)&&(o=s/a),this.setSize(o,u,s),this.regionHeight=e.get("regionHeight"),this.altitudeAxis&&this.altitudeAxis.setExtent(0,Math.max(u-this.regionHeight,0))}function zF(e,t){var n=[1/0,-1/0];if(e.eachSeries((function(e){if(e.coordinateSystem===this&&"series.map3D"!==e.type){var t=e.getData(),r=e.coordDimToDataDim("alt"),i=r&&r[0];if(i){var a=t.getDataExtent(i,!0);n[0]=Math.min(n[0],a[0]),n[1]=Math.max(n[1],a[1])}}}),this),n&&isFinite(n[1]-n[0])){var r=qT._y.createScale(n,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new qT.RD("altitude",r),this.resize(this.model,t)}}var VF=0,jF={dimensions:ZF.prototype.dimensions,create:function(e,t){var n=[];if(!qT.FU)throw new Error("geo3D component depends on geo component");function r(e,r){var i=jF.createGeo3D(e);e.__viewGL=e.__viewGL||new kL,i.viewGL=e.__viewGL,e.coordinateSystem=i,i.model=e,n.push(i),i.resize=BF,i.resize(e,t),i.update=zF}return e.eachComponent("geo3D",(function(e,t){r(e)})),e.eachSeriesByType("map3D",(function(e,t){var n=e.get("coordinateSystem");null==n&&(n="geo3D"),"geo3D"===n&&r(e)})),e.eachSeries((function(t){if("geo3D"===t.get("coordinateSystem")){if("series.map3D"===t.type)return;var n=t.getReferringComponents("geo3D").models[0];if(n||(n=e.getComponent("geo3D")),!n)throw new Error('geo "'+MR.firstNotNull(t.get("geo3DIndex"),t.get("geo3DId"),0)+'" not found');t.coordinateSystem=n.coordinateSystem}})),n},createGeo3D:function(e){var t,n=e.get("map");return"string"===typeof n?(t=n,n=qT.FU(n)):n&&n.features&&(n={geoJson:n}),null==t&&(t="GEO_ANONYMOUS_"+VF++),new ZF(t+VF++,t,n&&n.geoJson,n&&n.specialAreas,e.get("nameMap"))}},WF=jF;function UF(e){e.registerComponentModel(WL),e.registerComponentView(EF),e.registerAction({type:"geo3DChangeCamera",event:"geo3dcamerachanged",update:"series:updateCamera"},(function(e,t){t.eachComponent({mainType:"geo3D",query:e},(function(t){t.setView(e)}))})),e.registerCoordinateSystem("geo3D",WF)}function HF(e,t){e.id=e.id||e.name||t+""}(0,qT.D$)(UF);var GF=qT.tF.extend({type:"globe",layoutMode:"box",coordinateSystem:null,init:function(){GF.superApply(this,"init",arguments),qT.D5.each(this.option.layers,(function(e,t){qT.D5.merge(e,this.defaultLayerOption),HF(e,t)}),this)},mergeOption:function(e){var t=this.option.layers;function n(e){return qT.D5.reduce(e,(function(e,t,n){return HF(t,n),e[t.id]=t,e}),{})}if(this.option.layers=null,GF.superApply(this,"mergeOption",arguments),t&&t.length){var r=n(e.layers),i=n(t);for(var a in r)i[a]?qT.D5.merge(i[a],r[a],!0):t.push(e.layers[a]);this.option.layers=t}qT.D5.each(this.option.layers,(function(e){qT.D5.merge(e,this.defaultLayerOption)}),this)},optionUpdated:function(){this.updateDisplacementHash()},defaultLayerOption:{show:!0,type:"overlay"},defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",baseColor:"#fff",baseTexture:"",heightTexture:"",displacementTexture:"",displacementScale:0,displacementQuality:"medium",globeRadius:100,globeOuterRadius:150,shading:"lambert",light:{main:{time:""}},atmosphere:{show:!1,offset:5,color:"#ffffff",glowPower:6,innerGlowPower:2},viewControl:{autoRotate:!0,panSensitivity:0,targetCoord:null},layers:[]},setDisplacementData:function(e,t,n){this.displacementData=e,this.displacementWidth=t,this.displacementHeight=n},getDisplacementTexture:function(){return this.get("displacementTexture")||this.get("heightTexture")},getDisplacemenScale:function(){var e=this.getDisplacementTexture(),t=this.get("displacementScale");return e&&"none"!==e||(t=0),t},hasDisplacement:function(){return this.getDisplacemenScale()>0},_displacementChanged:!0,_displacementScale:0,updateDisplacementHash:function(){var e=this.getDisplacementTexture(),t=this.getDisplacemenScale();this._displacementChanged=this._displacementTexture!==e||this._displacementScale!==t,this._displacementTexture=e,this._displacementScale=t},isDisplacementChanged:function(){return this._displacementChanged}});qT.D5.merge(GF.prototype,kP),qT.D5.merge(GF.prototype,DP),qT.D5.merge(GF.prototype,TP),qT.D5.merge(GF.prototype,zL);var XF=GF,qF=Math.PI,YF=Math.sin,KF=Math.cos,QF=Math.tan,JF=Math.asin,$F=Math.atan2,eZ=qF/180;var tZ=23.4397*eZ;function nZ(e,t){return $F(YF(e)*KF(tZ)-QF(t)*YF(tZ),KF(e))}function rZ(e,t,n){return $F(YF(e),KF(e)*YF(t)-QF(n)*KF(t))}function iZ(e,t,n){return JF(YF(t)*YF(n)+KF(t)*KF(n)*KF(e))}function aZ(e){var t,n,r=function(e){return eZ*(357.5291+.98560028*e)}(e),i=function(e){return e+eZ*(1.9148*YF(e)+.02*YF(2*e)+3e-4*YF(3*e))+102.9372*eZ+qF}(r);return{dec:(t=i,n=0,JF(YF(n)*KF(tZ)+KF(n)*YF(tZ)*YF(t))),ra:nZ(i,0)}}var oZ={};oZ.getPosition=function(e,t,n){var r=eZ*-n,i=eZ*t,a=function(e){return function(e){return e.valueOf()/864e5-.5+2440588}(e)-2451545}(e),o=aZ(a),s=function(e,t){return eZ*(280.16+360.9856235*e)-t}(a,r)-o.ra;return{azimuth:rZ(s,i,o.dec),altitude:iZ(s,i,o.dec)}};var sZ=oZ;dP.Shader.import(rP),dP.Shader.import("@export ecgl.atmosphere.vertex\nattribute vec3 position: POSITION;\nattribute vec3 normal : NORMAL;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 normalMatrix : WORLDINVERSETRANSPOSE;\n\nvarying vec3 v_Normal;\n\nvoid main() {\n v_Normal = normalize((normalMatrix * vec4(normal, 0.0)).xyz);\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end\n\n\n@export ecgl.atmosphere.fragment\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform float glowPower;\nuniform vec3 glowColor;\n\nvarying vec3 v_Normal;\n\nvoid main() {\n float intensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor = vec4(glowColor, intensity * intensity);\n}\n@end");var uZ=qT.Ir.extend({type:"globe",__ecgl__:!0,_displacementScale:0,init:function(e,t){this.groupGL=new dP.Node,this._sphereGeometry=new dP.SphereGeometry({widthSegments:200,heightSegments:100,dynamic:!0}),this._overlayGeometry=new dP.SphereGeometry({widthSegments:80,heightSegments:40}),this._planeGeometry=new dP.PlaneGeometry,this._earthMesh=new dP.Mesh({renderNormal:!0}),this._atmosphereMesh=new dP.Mesh,this._atmosphereGeometry=new dP.SphereGeometry({widthSegments:80,heightSegments:40}),this._atmosphereMaterial=new dP.Material({shader:new dP.Shader(dP.Shader.source("ecgl.atmosphere.vertex"),dP.Shader.source("ecgl.atmosphere.fragment")),transparent:!0}),this._atmosphereMesh.geometry=this._atmosphereGeometry,this._atmosphereMesh.material=this._atmosphereMaterial,this._atmosphereMesh.frontFace=dP.Mesh.CW,this._lightRoot=new dP.Node,this._sceneHelper=new GP,this._sceneHelper.initLight(this._lightRoot),this.groupGL.add(this._atmosphereMesh),this.groupGL.add(this._earthMesh),this._control=new OP({zr:t.getZr()}),this._control.init(),this._layerMeshes={}},render:function(e,t,n){var r=e.coordinateSystem,i=e.get("shading");r.viewGL.add(this._lightRoot),e.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL),this._sceneHelper.setScene(r.viewGL.scene),r.viewGL.setPostEffect(e.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling"));var a=this._earthMesh;a.geometry=this._sphereGeometry;var o="ecgl."+i;a.material&&a.material.shader.name===o||(a.material=dP.createMaterial(o)),dP.setMaterialFromModel(i,a.material,e,n),["roughnessMap","metalnessMap","detailMap","normalMap"].forEach((function(e){var t=a.material.get(e);t&&(t.flipY=!1)})),a.material.set("color",dP.parseColor(e.get("baseColor")));var s=.99*r.radius;if(a.scale.set(s,s,s),e.get("atmosphere.show")){a.material.define("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!1,this._atmosphereMaterial.setUniforms({glowPower:e.get("atmosphere.glowPower")||6,glowColor:e.get("atmosphere.color")||"#ffffff"}),a.material.setUniforms({glowPower:e.get("atmosphere.innerGlowPower")||2,glowColor:e.get("atmosphere.color")||"#ffffff"});var u=e.get("atmosphere.offset")||5;this._atmosphereMesh.scale.set(s+u,s+u,s+u)}else a.material.undefine("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!0;var l=a.material.setTextureImage("diffuseMap",e.get("baseTexture"),n,{flipY:!1,anisotropic:8});l&&l.surface&&l.surface.attachToMesh(a);var c=a.material.setTextureImage("bumpMap",e.get("heightTexture"),n,{flipY:!1,anisotropic:8});c&&c.surface&&c.surface.attachToMesh(a),a.material[e.get("postEffect.enable")?"define":"undefine"]("fragment","SRGB_DECODE"),this._updateLight(e,n),this._displaceVertices(e,n),this._updateViewControl(e,n),this._updateLayers(e,n)},afterRender:function(e,t,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,e,n),this._sceneHelper.updateSkybox(i,e,n)},_updateLayers:function(e,t){var n=e.coordinateSystem,r=e.get("layers"),i=n.radius,a=[],o=[],s=[],u=[];qT.D5.each(r,(function(e){var r=new qT.Hn(e),l=r.get("type"),c=dP.loadTexture(r.get("texture"),t,{flipY:!1,anisotropic:8});if(c.surface&&c.surface.attachToMesh(this._earthMesh),"blend"===l){var d=r.get("blendTo"),f=MR.firstNotNull(r.get("intensity"),1);"emission"===d?(s.push(c),u.push(f)):(a.push(c),o.push(f))}else{var h=r.get("id"),p=this._layerMeshes[h];p||(p=this._layerMeshes[h]=new dP.Mesh({geometry:this._overlayGeometry,castShadow:!1,ignorePicking:!0})),"lambert"===r.get("shading")?(p.material=p.__lambertMaterial||new dP.Material({autoUpdateTextureStatus:!1,shader:dP.createShader("ecgl.lambert"),transparent:!0,depthMask:!1}),p.__lambertMaterial=p.material):(p.material=p.__colorMaterial||new dP.Material({autoUpdateTextureStatus:!1,shader:dP.createShader("ecgl.color"),transparent:!0,depthMask:!1}),p.__colorMaterial=p.material),p.material.enableTexture("diffuseMap");var m=r.get("distance"),g=i+(null==m?n.radius/100:m);p.scale.set(g,g,g),i=g;var v=this._blankTexture||(this._blankTexture=dP.createBlankTexture("rgba(255, 255, 255, 0)"));p.material.set("diffuseMap",v),dP.loadTexture(r.get("texture"),t,{flipY:!1,anisotropic:8},(function(e){e.surface&&e.surface.attachToMesh(p),p.material.set("diffuseMap",e),t.getZr().refresh()})),r.get("show")?this.groupGL.add(p):this.groupGL.remove(p)}}),this);var l=this._earthMesh.material;l.define("fragment","LAYER_DIFFUSEMAP_COUNT",a.length),l.define("fragment","LAYER_EMISSIVEMAP_COUNT",s.length),l.set("layerDiffuseMap",a),l.set("layerDiffuseIntensity",o),l.set("layerEmissiveMap",s),l.set("layerEmissionIntensity",u);var c=e.getModel("debug.wireframe");if(c.get("show")){l.define("both","WIREFRAME_TRIANGLE");var d=dP.parseColor(c.get("lineStyle.color")||"rgba(0,0,0,0.5)"),f=MR.firstNotNull(c.get("lineStyle.width"),1);l.set("wireframeLineWidth",f),l.set("wireframeLineColor",d)}else l.undefine("both","WIREFRAME_TRIANGLE")},_updateViewControl:function(e,t){var n=e.coordinateSystem,r=e.getModel("viewControl"),i=(n.viewGL.camera,this);var a=this._control;a.setViewGL(n.viewGL);var o,s,u=r.get("targetCoord");null!=u&&(s=u[0]+90,o=u[1]),a.setFromViewControlModel(r,{baseDistance:n.radius,alpha:o,beta:s}),a.off("update"),a.on("update",(function(){t.dispatchAction({type:"globeChangeCamera",alpha:a.getAlpha(),beta:a.getBeta(),distance:a.getDistance()-n.radius,center:a.getCenter(),from:i.uid,globeId:e.id})}))},_displaceVertices:function(e,t){var n=e.get("displacementQuality"),r=e.get("debug.wireframe.show"),i=e.coordinateSystem;if(e.isDisplacementChanged()||n!==this._displacementQuality||r!==this._showDebugWireframe){this._displacementQuality=n,this._showDebugWireframe=r;var a=this._sphereGeometry,o={low:100,medium:200,high:400,ultra:800}[n]||200,s=o/2;(a.widthSegments!==o||r)&&(a.widthSegments=o,a.heightSegments=s,a.build()),this._doDisplaceVertices(a,i),r&&a.generateBarycentric()}},_doDisplaceVertices:function(e,t){var n=e.attributes.position.value,r=e.attributes.texcoord0.value,i=e.__originalPosition;i&&i.length===n.length||((i=new Float32Array(n.length)).set(n),e.__originalPosition=i);for(var a=t.displacementWidth,o=t.displacementHeight,s=t.displacementData,u=0;u<e.vertexCount;u++){var l=3*u,c=2*u,d=i[l+1],f=i[l+2],h=i[l+3],p=r[c++],m=r[c++],g=Math.round(p*(a-1)),v=Math.round(m*(o-1)),y=s?s[v*a+g]:0;n[l+1]=d+d*y,n[l+2]=f+f*y,n[l+3]=h+h*y}e.generateVertexNormals(),e.dirty(),e.updateBoundingBox()},_updateLight:function(e,t){var n=this._earthMesh;this._sceneHelper.updateLight(e);var r=this._sceneHelper.mainLight,i=e.get("light.main.time")||new Date,a=sZ.getPosition(qT.Rx.parseDate(i),0,0),o=Math.cos(a.altitude);r.position.y=-o*Math.cos(a.azimuth),r.position.x=Math.sin(a.altitude),r.position.z=o*Math.sin(a.azimuth),r.lookAt(n.getWorldPosition())},dispose:function(e,t){this.groupGL.removeAll(),this._control.dispose()}}),lZ=FP.vec3;function cZ(e){this.radius=e,this.viewGL=null,this.altitudeAxis,this.displacementData=null,this.displacementWidth,this.displacementHeight}cZ.prototype={constructor:cZ,dimensions:["lng","lat","alt"],type:"globe",containPoint:function(){},setDisplacementData:function(e,t,n){this.displacementData=e,this.displacementWidth=t,this.displacementHeight=n},_getDisplacementScale:function(e,t){var n=(e+180)/360*(this.displacementWidth-1),r=(90-t)/180*(this.displacementHeight-1),i=Math.round(n)+Math.round(r)*this.displacementWidth;return this.displacementData[i]},dataToPoint:function(e,t){var n=e[0],r=e[1],i=e[2]||0,a=this.radius;this.displacementData&&(a*=1+this._getDisplacementScale(n,r)),this.altitudeAxis&&(a+=this.altitudeAxis.dataToCoord(i)),n=n*Math.PI/180,r=r*Math.PI/180;var o=Math.cos(r)*a;return(t=t||[])[0]=-o*Math.cos(n+Math.PI),t[1]=Math.sin(r)*a,t[2]=o*Math.sin(n+Math.PI),t},pointToData:function(e,t){var n=e[0],r=e[1],i=e[2],a=lZ.len(e);n/=a,r/=a,i/=a;var o=Math.asin(r),s=Math.atan2(i,-n);s<0&&(s=2*Math.PI+s);var u=180*o/Math.PI,l=180*s/Math.PI-180;return(t=t||[])[0]=l,t[1]=u,t[2]=a-this.radius,this.altitudeAxis&&(t[2]=this.altitudeAxis.coordToData(t[2])),t}};var dZ=cZ;function fZ(e,t){var n=e.getBoxLayoutParams(),r=(0,yO.ME)(n,{width:t.getWidth(),height:t.getHeight()});r.y=t.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,t.getDevicePixelRatio()),this.radius=e.get("globeRadius");var i=e.get("globeOuterRadius");this.altitudeAxis&&this.altitudeAxis.setExtent(0,i-this.radius)}function hZ(e,t){var n=[1/0,-1/0];if(e.eachSeries((function(e){if(e.coordinateSystem===this){var t=e.getData(),r=e.coordDimToDataDim("alt"),i=r&&r[0];if(i){var a=t.getDataExtent(i,!0);n[0]=Math.min(n[0],a[0]),n[1]=Math.max(n[1],a[1])}}}),this),n&&isFinite(n[1]-n[0])){var r=qT._y.createScale(n,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new qT.RD("altitude",r),this.resize(this.model,t)}}var pZ={dimensions:dZ.prototype.dimensions,create:function(e,t){var n=[];return e.eachComponent("globe",(function(e){e.__viewGL=e.__viewGL||new kL;var r=new dZ;r.viewGL=e.__viewGL,e.coordinateSystem=r,r.model=e,n.push(r),r.resize=fZ,r.resize(e,t),r.update=hZ})),e.eachSeries((function(t){if("globe"===t.get("coordinateSystem")){var n=t.getReferringComponents("globe").models[0];if(n||(n=e.getComponent("globe")),!n)throw new Error('globe "'+MR.firstNotNull(t.get("globe3DIndex"),t.get("globe3DId"),0)+'" not found');var r=n.coordinateSystem;t.coordinateSystem=r}})),e.eachComponent("globe",(function(e,n){var r=e.coordinateSystem,i=e.getDisplacementTexture(),a=e.getDisplacemenScale();if(e.isDisplacementChanged()){if(e.hasDisplacement()){var o=!0;dP.loadTexture(i,t,(function(n){var r=function(e,t){var n=document.createElement("canvas"),r=n.getContext("2d"),i=e.width,a=e.height;n.width=i,n.height=a,r.drawImage(e,0,0,i,a);for(var o=r.getImageData(0,0,i,a).data,s=new Float32Array(o.length/4),u=0;u<o.length/4;u++){var l=o[4*u];s[u]=l/255*t}return{data:s,width:i,height:a}}(n.image,a);e.setDisplacementData(r.data,r.width,r.height),o||t.dispatchAction({type:"globeUpdateDisplacment"})})),o=!1}else r.setDisplacementData(null,0,0);r.setDisplacementData(e.displacementData,e.displacementWidth,e.displacementHeight)}})),n}};(0,qT.D$)((function(e){e.registerComponentModel(XF),e.registerComponentView(uZ),e.registerCoordinateSystem("globe",pZ),e.registerAction({type:"globeChangeCamera",event:"globecamerachanged",update:"series:updateCamera"},(function(e,t){t.eachComponent({mainType:"globe",query:e},(function(t){t.setView(e)}))})),e.registerAction({type:"globeUpdateDisplacment",event:"globedisplacementupdated",update:"update"},(function(e,t){}))}));var mZ=["zoom","center","pitch","bearing"],gZ=qT.tF.extend({type:"mapbox3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,style:"mapbox://styles/mapbox/light-v9",center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMapboxCameraOption:function(){var e=this;return mZ.reduce((function(t,n){return t[n]=e.get(n),t}),{})},setMapboxCameraOption:function(e){null!=e&&mZ.forEach((function(t){null!=e[t]&&(this.option[t]=e[t])}),this)},getMapbox:function(){return this._mapbox},setMapbox:function(e){this._mapbox=e}});qT.D5.merge(gZ.prototype,DP),qT.D5.merge(gZ.prototype,TP);var vZ=gZ;function yZ(e,t){if(this.id=e,this.zr=t,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!mapboxgl)throw new Error("Mapbox GL library must be included. See https://www.mapbox.com/mapbox-gl-js/api/");this._mapbox=new mapboxgl.Map({container:this.dom}),this._initEvents()}yZ.prototype.setUnpainted=function(){},yZ.prototype.resize=function(){this._mapbox.resize()},yZ.prototype.getMapbox=function(){return this._mapbox},yZ.prototype.clear=function(){},yZ.prototype.refresh=function(){this._mapbox.resize()};var xZ=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","wheel","touchstart","touchend","touchmove","touchcancel"];yZ.prototype._initEvents=function(){var e=this._mapbox.getCanvasContainer();this._handlers=this._handlers||{contextmenu:function(e){return e.preventDefault(),!1}},xZ.forEach((function(t){this._handlers[t]=function(t){var n={};for(var r in t)n[r]=t[r];n.bubbles=!1;var i=new t.constructor(t.type,n);e.dispatchEvent(i)},this.zr.dom.addEventListener(t,this._handlers[t])}),this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)},yZ.prototype.dispose=function(){xZ.forEach((function(e){this.zr.dom.removeEventListener(e,this._handlers[e])}),this)};var bZ=yZ,wZ="\n@export ecgl.displayShadow.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\nvarying vec3 v_WorldPosition;\n\nvarying vec3 v_Normal;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n\n@end\n\n\n@export ecgl.displayShadow.fragment\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform float roughness: 0.2;\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.ssaoMap.header\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n float shadow = 1.0;\n\n @import ecgl.common.ssaoMap.main\n\n#if defined(DIRECTIONAL_LIGHT_COUNT) && defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n for (int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++) {\n shadow = min(shadow, shadowContribsDir[i] * 0.5 + 0.5);\n }\n#endif\n\n shadow *= 0.5 + ao * 0.5;\n shadow = clamp(shadow, 0.0, 1.0);\n\n gl_FragColor = vec4(vec3(0.0), 1.0 - shadow);\n}\n\n@end";dP.Shader.import(wZ);var _Z=qT.Ir.extend({type:"mapbox3D",__ecgl__:!0,init:function(e,t){var n=t.getZr();this._zrLayer=new bZ("mapbox3D",n),n.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new dP.Node,this._sceneHelper=new GP(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var r=this._zrLayer.getMapbox(),i=this._dispatchInteractAction.bind(this,t,r);["zoom","rotate","drag","pitch","rotate","move"].forEach((function(e){r.on(e,i)})),this._groundMesh=new dP.Mesh({geometry:new dP.PlaneGeometry,material:new dP.Material({shader:new dP.Shader({vertex:dP.Shader.source("ecgl.displayShadow.vertex"),fragment:dP.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},render:function(e,t,n){var r=this._zrLayer.getMapbox(),i=e.get("style"),a=JSON.stringify(i);a!==this._oldStyleStr&&i&&r.setStyle(i),this._oldStyleStr=a,r.setCenter(e.get("center")),r.setZoom(e.get("zoom")),r.setPitch(e.get("pitch")),r.setBearing(e.get("bearing")),e.setMapbox(r);var o=e.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(e),o.viewGL.setPostEffect(e.getModel("postEffect"),n),o.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._mapbox3DModel=e},afterRender:function(e,t,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,e,n),this._sceneHelper.updateSkybox(i,e,n),e.coordinateSystem.viewGL.scene.traverse((function(e){e.material&&(e.material.define("fragment","NORMAL_UP_AXIS",2),e.material.define("fragment","NORMAL_FRONT_AXIS",1))}))},updateCamera:function(e,t,n,r){e.coordinateSystem.setCameraOption(r),this._updateGroundMesh(),n.getZr().refresh()},_dispatchInteractAction:function(e,t,n){e.dispatchAction({type:"mapbox3DChangeCamera",pitch:t.getPitch(),zoom:t.getZoom(),center:t.getCenter().toArray(),bearing:t.getBearing(),mapbox3DId:this._mapbox3DModel&&this._mapbox3DModel.id})},_updateGroundMesh:function(){if(this._mapbox3DModel){var e=this._mapbox3DModel.coordinateSystem,t=e.dataToPoint(e.center);this._groundMesh.position.set(t[0],t[1],-.001);var n=new dP.Plane(new dP.Vector3(0,0,1),0),r=e.viewGL.camera.castRay(new dP.Vector2(-1,-1)),i=e.viewGL.camera.castRay(new dP.Vector2(1,1)),a=r.intersectPlane(n),o=i.intersectPlane(n),s=a.dist(o)/e.viewGL.rootNode.scale.x;this._groundMesh.scale.set(s,s,1)}},dispose:function(e,t){this._zrLayer&&this._zrLayer.dispose(),t.getZr().painter.delLayer(-1e3)}}),SZ=FP.mat4,CZ=512,kZ=.6435011087932844,DZ=Math.PI,TZ=.1;function IZ(){this.width=0,this.height=0,this.altitudeScale=1,this.boxHeight="auto",this.altitudeExtent,this.bearing=0,this.pitch=0,this.center=[0,0],this._origin,this.zoom=0,this._initialZoom,this.maxPitch=60,this.zoomOffset=0}IZ.prototype={constructor:IZ,dimensions:["lng","lat","alt"],containPoint:function(){},setCameraOption:function(e){this.bearing=e.bearing,this.pitch=e.pitch,this.center=e.center,this.zoom=e.zoom,this._origin||(this._origin=this.projectOnTileWithScale(this.center,CZ)),null==this._initialZoom&&(this._initialZoom=this.zoom),this.updateTransform()},updateTransform:function(){if(this.height){var e=.5/Math.tan(kZ/2)*this.height*TZ,t=Math.max(Math.min(this.pitch,this.maxPitch),0)/180*Math.PI,n=kZ/2,r=Math.PI/2+t,i=Math.sin(n)*e/Math.sin(Math.PI-r-n),a=1.1*(Math.cos(Math.PI/2-t)*i+e);this.pitch>50&&(a=1e3);var o=[];SZ.perspective(o,kZ,this.width/this.height,1,a),this.viewGL.camera.projectionMatrix.setArray(o),this.viewGL.camera.decomposeProjectionMatrix();o=SZ.identity([]);var s=this.dataToPoint(this.center);SZ.scale(o,o,[1,-1,1]),SZ.translate(o,o,[0,0,-e]),SZ.rotateX(o,o,t),SZ.rotateZ(o,o,-this.bearing/180*Math.PI),SZ.translate(o,o,[-s[0]*this.getScale()*TZ,-s[1]*this.getScale()*TZ,0]),this.viewGL.camera.viewMatrix.array=o;var u=[];SZ.invert(u,o),this.viewGL.camera.worldTransform.array=u,this.viewGL.camera.decomposeWorldTransform();var l,c=CZ*this.getScale();if(this.altitudeExtent&&!isNaN(this.boxHeight)){var d=this.altitudeExtent[1]-this.altitudeExtent[0];l=this.boxHeight/d*this.getScale()/Math.pow(2,this._initialZoom-this.zoomOffset)}else l=c/(2*Math.PI*6378e3*Math.abs(Math.cos(this.center[1]*(Math.PI/180))))*this.altitudeScale*TZ;this.viewGL.rootNode.scale.set(this.getScale()*TZ,this.getScale()*TZ,l)}},getScale:function(){return Math.pow(2,this.zoom-this.zoomOffset)},projectOnTile:function(e,t){return this.projectOnTileWithScale(e,this.getScale()*CZ,t)},projectOnTileWithScale:function(e,t,n){var r=e[0],i=e[1]*DZ/180,a=t*(r*DZ/180+DZ)/(2*DZ),o=t*(DZ-Math.log(Math.tan(DZ/4+.5*i)))/(2*DZ);return(n=n||[])[0]=a,n[1]=o,n},unprojectFromTile:function(e,t){return this.unprojectOnTileWithScale(e,this.getScale()*CZ,t)},unprojectOnTileWithScale:function(e,t,n){var r=e[0],i=e[1],a=r/t*(2*DZ)-DZ,o=2*(Math.atan(Math.exp(DZ-i/t*(2*DZ)))-DZ/4);return(n=n||[])[0]=180*a/DZ,n[1]=180*o/DZ,n},dataToPoint:function(e,t){return(t=this.projectOnTileWithScale(e,CZ,t))[0]-=this._origin[0],t[1]-=this._origin[1],t[2]=isNaN(e[2])?0:e[2],isNaN(e[2])||(t[2]=e[2],this.altitudeExtent&&(t[2]-=this.altitudeExtent[0])),t}};var AZ=IZ;function MZ(){AZ.apply(this,arguments)}function EZ(e,t,n){function r(e,t){var n=t.getWidth(),r=t.getHeight(),i=t.getDevicePixelRatio();this.viewGL.setViewport(0,0,n,r,i),this.width=n,this.height=r,this.altitudeScale=e.get("altitudeScale"),this.boxHeight=e.get("boxHeight")}function i(e,t){if("auto"!==this.model.get("boxHeight")){var n=[1/0,-1/0];e.eachSeries((function(e){if(e.coordinateSystem===this){var t=e.getData(),r=e.coordDimToDataDim("alt")[0];if(r){var i=t.getDataExtent(r,!0);n[0]=Math.min(n[0],i[0]),n[1]=Math.max(n[1],i[1])}}}),this),n&&isFinite(n[1]-n[0])&&(this.altitudeExtent=n)}}return{dimensions:t.prototype.dimensions,create:function(a,o){var s=[];return a.eachComponent(e,(function(e){var n=e.__viewGL;n||(n=e.__viewGL=new kL).setRootNode(new dP.Node);var a=new t;a.viewGL=e.__viewGL,a.resize=r,a.resize(e,o),s.push(a),e.coordinateSystem=a,a.model=e,a.update=i})),a.eachSeries((function(t){if(t.get("coordinateSystem")===e){var n=t.getReferringComponents(e).models[0];if(n||(n=a.getComponent(e)),!n)throw new Error(e+' "'+MR.firstNotNull(t.get(e+"Index"),t.get(e+"Id"),0)+'" not found');t.coordinateSystem=n.coordinateSystem}})),n&&n(s,a,o),s}}}MZ.prototype=new AZ,MZ.prototype.constructor=MZ,MZ.prototype.type="mapbox3D";var NZ=EZ("mapbox3D",MZ,(function(e){e.forEach((function(e){e.setCameraOption(e.model.getMapboxCameraOption())}))}));(0,qT.D$)((function(e){e.registerComponentModel(vZ),e.registerComponentView(_Z),e.registerCoordinateSystem("mapbox3D",NZ),e.registerAction({type:"mapbox3DChangeCamera",event:"mapbox3dcamerachanged",update:"mapbox3D:updateCamera"},(function(e,t){t.eachComponent({mainType:"mapbox3D",query:e},(function(t){t.setMapboxCameraOption(e)}))}))}));var RZ=["zoom","center","pitch","bearing"],PZ=qT.tF.extend({type:"maptalks3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,urlTemplate:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/">CARTO</a>',center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMaptalksCameraOption:function(){var e=this;return RZ.reduce((function(t,n){return t[n]=e.get(n),t}),{})},setMaptalksCameraOption:function(e){null!=e&&RZ.forEach((function(t){null!=e[t]&&(this.option[t]=e[t])}),this)},getMaptalks:function(){return this._maptalks},setMaptalks:function(e){this._maptalks=e}});qT.D5.merge(PZ.prototype,DP),qT.D5.merge(PZ.prototype,TP);var OZ=PZ;function LZ(e,t,n,r){if(this.id=e,this.zr=t,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!maptalks)throw new Error("Maptalks library must be included. See https://maptalks.org");this._maptalks=new maptalks.Map(this.dom,{center:n,zoom:r,doubleClickZoom:!1,fog:!1}),this._initEvents()}LZ.prototype.setUnpainted=function(){},LZ.prototype.resize=function(){this._maptalks.checkSize()},LZ.prototype.getMaptalks=function(){return this._maptalks},LZ.prototype.clear=function(){},LZ.prototype.refresh=function(){this._maptalks.checkSize()};var FZ=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","DOMMouseScroll","touchstart","touchend","touchmove","touchcancel"];LZ.prototype._initEvents=function(){var e=this.dom;this._handlers=this._handlers||{contextmenu:function(e){return e.preventDefault(),!1}},FZ.forEach((function(t){this._handlers[t]=function(n){var r={};for(var i in n)r[i]=n[i];r.bubbles=!1;var a=new n.constructor(n.type,r);"mousewheel"===t||"DOMMouseScroll"===t?e.dispatchEvent(a):e.firstElementChild.dispatchEvent(a)},this.zr.dom.addEventListener(t,this._handlers[t])}),this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)},LZ.prototype.dispose=function(){FZ.forEach((function(e){this.zr.dom.removeEventListener(e,this._handlers[e])}),this),this._maptalks.remove()};var ZZ=LZ;dP.Shader.import(wZ);var BZ=qT.Ir.extend({type:"maptalks3D",__ecgl__:!0,init:function(e,t){this._groundMesh=new dP.Mesh({geometry:new dP.PlaneGeometry,material:new dP.Material({shader:new dP.Shader({vertex:dP.Shader.source("ecgl.displayShadow.vertex"),fragment:dP.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},_initMaptalksLayer:function(e,t){var n=t.getZr();this._zrLayer=new ZZ("maptalks3D",n,e.get("center"),e.get("zoom")),n.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new dP.Node,this._sceneHelper=new GP(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var r=this._zrLayer.getMaptalks(),i=this._dispatchInteractAction.bind(this,t,r);["zoomend","zooming","zoomstart","dragrotating","pitch","pitchend","movestart","moving","moveend","resize","touchstart","touchmove","touchend","animating"].forEach((function(e){r.on(e,i)}))},render:function(e,t,n){this._zrLayer||this._initMaptalksLayer(e,n);var r=this._zrLayer.getMaptalks(),i=e.get("urlTemplate"),a=r.getBaseLayer();i!==this._oldUrlTemplate&&(a?a.setOptions({urlTemplate:i,attribution:e.get("attribution")}):(a=new maptalks.TileLayer("maptalks-echarts-gl-baselayer",{urlTemplate:i,subdomains:["a","b","c"],attribution:e.get("attribution")}),r.setBaseLayer(a))),this._oldUrlTemplate=i,r.setCenter(e.get("center")),r.setZoom(e.get("zoom"),{animation:!1}),r.setPitch(e.get("pitch")),r.setBearing(e.get("bearing")),e.setMaptalks(r);var o=e.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(e),o.viewGL.setPostEffect(e.getModel("postEffect"),n),o.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._maptalks3DModel=e},afterRender:function(e,t,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,e,n),this._sceneHelper.updateSkybox(i,e,n),e.coordinateSystem.viewGL.scene.traverse((function(e){e.material&&(e.material.define("fragment","NORMAL_UP_AXIS",2),e.material.define("fragment","NORMAL_FRONT_AXIS",1))}))},updateCamera:function(e,t,n,r){e.coordinateSystem.setCameraOption(r),this._updateGroundMesh(),n.getZr().refresh()},_dispatchInteractAction:function(e,t,n){var r;e.dispatchAction({type:"maptalks3DChangeCamera",pitch:t.getPitch(),zoom:(r=t.getResolution(),19-Math.log(r/zZ)/Math.LN2+1),center:t.getCenter().toArray(),bearing:t.getBearing(),maptalks3DId:this._maptalks3DModel&&this._maptalks3DModel.id})},_updateGroundMesh:function(){if(this._maptalks3DModel){var e=this._maptalks3DModel.coordinateSystem,t=e.dataToPoint(e.center);this._groundMesh.position.set(t[0],t[1],-.001);var n=new dP.Plane(new dP.Vector3(0,0,1),0),r=e.viewGL.camera.castRay(new dP.Vector2(-1,-1)),i=e.viewGL.camera.castRay(new dP.Vector2(1,1)),a=r.intersectPlane(n),o=i.intersectPlane(n),s=a.dist(o)/e.viewGL.rootNode.scale.x;this._groundMesh.scale.set(s,s,1)}},dispose:function(e,t){this._zrLayer&&this._zrLayer.dispose(),t.getZr().painter.delLayer(-1e3)}}),zZ=12756274*Math.PI/(256*Math.pow(2,20));function VZ(){AZ.apply(this,arguments),this.maxPitch=85,this.zoomOffset=1}VZ.prototype=new AZ,VZ.prototype.constructor=VZ,VZ.prototype.type="maptalks3D";var jZ=EZ("maptalks3D",VZ,(function(e){e.forEach((function(e){e.setCameraOption(e.model.getMaptalksCameraOption())}))}));(0,qT.D$)((function(e){e.registerComponentModel(OZ),e.registerComponentView(BZ),e.registerCoordinateSystem("maptalks3D",jZ),e.registerAction({type:"maptalks3DChangeCamera",event:"maptalks3dcamerachanged",update:"maptalks3D:updateCamera"},(function(e,t){t.eachComponent({mainType:"maptalks3D",query:e},(function(t){t.setMaptalksCameraOption(e)}))}))}));var WZ=FP.vec3,UZ=qT._y.dataStack.isDimensionStacked;var HZ=function(e,t){var n=e.getData(),r=e.get("barSize");if(null==r){var i,a,o=t.size,s=t.getAxis("x"),u=t.getAxis("y");i="category"===s.type?.7*s.getBandWidth():.6*Math.round(o[0]/Math.sqrt(n.count())),a="category"===u.type?.7*u.getBandWidth():.6*Math.round(o[1]/Math.sqrt(n.count())),r=[i,a]}else qT.D5.isArray(r)||(r=[r,r]);var l=t.getAxis("z").scale.getExtent(),c=function(e){var t=e[0],n=e[1];return!(t>0&&n>0||t<0&&n<0)}(l),d=["x","y","z"].map((function(t){return e.coordDimToDataDim(t)[0]})),f=UZ(n,d[2]),h=f?n.getCalculationInfo("stackResultDimension"):d[2];n.each(d,(function(e,i,a,o){var s=n.get(h,o),u=f?s-a:c?0:l[0],d=t.dataToPoint([e,i,u]),p=t.dataToPoint([e,i,s]),m=WZ.dist(d,p),g=[0,p[1]<d[1]?-1:1,0];0===Math.abs(m)&&(m=.1);var v=[r[0],m,r[1]];n.setItemLayout(o,[d,g,v])})),n.setLayout("orient",[1,0,0])};function GZ(e,t,n){for(var r=e.getDataExtent(t),i=e.getDataExtent(n),a=r[1]-r[0]||r[0],o=i[1]-i[0]||i[0],s=new Uint8Array(2500),u=0;u<e.count();u++){var l=e.get(t,u),c=e.get(n,u),d=Math.floor((l-r[0])/a*49),f=50*Math.floor((c-i[0])/o*49)+d;s[f]=s[f]||1}var h=0;for(u=0;u<s.length;u++)s[u]&&h++;return h/s.length}var XZ=FP.vec3,qZ=qT._y.dataStack.isDimensionStacked;function YZ(e,t){var n=qZ(e,t[2]);return{dimension:n?e.getCalculationInfo("stackResultDimension"):t[2],isStacked:n}}function KZ(e){e.registerLayout((function(e,t){e.eachSeriesByType("bar3D",(function(e){var t=e.coordinateSystem,n=t&&t.type;"globe"===n?function(e,t){var n=e.getData(),r=e.get("minHeight")||0,i=e.get("barSize"),a=["lng","lat","alt"].map((function(t){return e.coordDimToDataDim(t)[0]}));if(null==i){var o=t.radius*Math.PI,s=GZ(n,a[0],a[1]);i=[o/Math.sqrt(n.count()/s),o/Math.sqrt(n.count()/s)]}else qT.D5.isArray(i)||(i=[i,i]);var u=YZ(n,a);n.each(a,(function(e,a,o,s){var l=n.get(u.dimension,s),c=u.isStacked?l-o:t.altitudeAxis.scale.getExtent()[0],d=Math.max(t.altitudeAxis.dataToCoord(o),r),f=t.dataToPoint([e,a,c]),h=t.dataToPoint([e,a,l]),p=XZ.sub([],h,f);XZ.normalize(p,p);var m=[i[0],d,i[1]];n.setItemLayout(s,[f,p,m])})),n.setLayout("orient",GM.UP.array)}(e,t):"cartesian3D"===n?HZ(e,t):"geo3D"===n?function(e,t){var n=e.getData(),r=e.get("barSize"),i=e.get("minHeight")||0,a=["lng","lat","alt"].map((function(t){return e.coordDimToDataDim(t)[0]}));if(null==r){var o=Math.min(t.size[0],t.size[2]),s=GZ(n,a[0],a[1]);r=[o/Math.sqrt(n.count()/s),o/Math.sqrt(n.count()/s)]}else qT.D5.isArray(r)||(r=[r,r]);var u=[0,1,0],l=YZ(n,a);n.each(a,(function(e,a,o,s){var c=n.get(l.dimension,s),d=l.isStacked?c-o:t.altitudeAxis.scale.getExtent()[0],f=Math.max(t.altitudeAxis.dataToCoord(o),i),h=t.dataToPoint([e,a,d]),p=[r[0],f,r[1]];n.setItemLayout(s,[h,u,p])})),n.setLayout("orient",[1,0,0])}(e,t):("mapbox3D"===n||"maptalks3D"===n)&&function(e,t){var n=e.getData(),r=e.coordDimToDataDim("lng")[0],i=e.coordDimToDataDim("lat")[0],a=e.coordDimToDataDim("alt")[0],o=e.get("barSize"),s=e.get("minHeight")||0;if(null==o){var u=n.getDataExtent(r),l=n.getDataExtent(i),c=t.dataToPoint([u[0],l[0]]),d=t.dataToPoint([u[1],l[1]]),f=Math.min(Math.abs(c[0]-d[0]),Math.abs(c[1]-d[1]))||1,h=GZ(n,r,i);o=[f/Math.sqrt(n.count()/h),f/Math.sqrt(n.count()/h)]}else qT.D5.isArray(o)||(o=[o,o]),o[0]/=t.getScale()/16,o[1]/=t.getScale()/16;var p=[0,0,1],m=[r,i,a],g=YZ(n,m);n.each(m,(function(e,r,i,a){var u=n.get(g.dimension,a),l=g.isStacked?u-i:0,c=t.dataToPoint([e,r,l]),d=t.dataToPoint([e,r,u]),f=Math.max(d[2]-c[2],s),h=[o[0],f,o[1]];n.setItemLayout(a,[c,p,h])})),n.setLayout("orient",[1,0,0])}(e,t)}))}))}var QZ={getFormattedLabel:function(e,t,n,r,i){n=n||"normal";var a=e.getData(r).getItemModel(t),o=e.getDataParams(t,r);null!=i&&o.value instanceof Array&&(o.value=o.value[i]);var s,u=a.get("normal"===n?["label","formatter"]:["emphasis","label","formatter"]);return null==u&&(u=a.get(["label","formatter"])),"function"===typeof u?(o.status=n,s=u(o)):"string"===typeof u&&(s=qT.WU.formatTpl(u,o)),s},normalizeToArray:function(e){return e instanceof Array?e:null==e?[]:[e]}},JZ=QZ;function $Z(e,t,n){var r=e.getData(),i=e.getRawValue(t),a=qT.D5.isArray(i)?function(e){var i=[],a=function(e,t){var n=[];return qT.D5.each(e.dimensions,(function(r){var i=e.getDimensionInfo(r),a=i.otherDims[t];null!=a&&!1!==a&&(n[a]=i.name)})),n}(r,"tooltip");function o(e,t){var a=r.getDimensionInfo(t);if(a&&!1!==a.otherDims.tooltip){var o=a.type,s="- "+(a.tooltipName||a.name)+": "+("ordinal"===o?e+"":"time"===o?n?"":qT.WU.formatTime("yyyy/MM/dd hh:mm:ss",e):qT.WU.addCommas(e));s&&i.push(qT.WU.encodeHTML(s))}}return a.length?qT.D5.each(a,(function(e){o(r.get(e,t),e)})):qT.D5.each(e,o),"<br/>"+i.join("<br/>")}(i):qT.WU.encodeHTML(qT.WU.addCommas(i)),o=r.getName(t),s=CF(r,t);qT.D5.isObject(s)&&s.colorStops&&(s=(s.colorStops[0]||{}).color),s=s||"transparent";var u=qT.WU.getTooltipMarker(s),l=e.name;return"\0-"===l&&(l=""),l=l?qT.WU.encodeHTML(l)+(n?": ":"<br/>"):"",n?u+l+a:l+u+(o?qT.WU.encodeHTML(o)+": "+a:a)}function eB(e,t,n){n=n||e.getSource();var r=t||qT.wL(e.get("coordinateSystem"))||["x","y","z"],i=qT._y.createDimensions(n,{dimensionsDefine:n.dimensionsDefine||e.get("dimensions"),encodeDefine:n.encodeDefine||e.get("encode"),coordDimensions:r.map((function(t){var n=e.getReferringComponents(t+"Axis3D").models[0];return{type:n&&"category"===n.get("type")?"ordinal":"float",name:t}}))});"cartesian3D"===e.get("coordinateSystem")&&i.forEach((function(t){if(r.indexOf(t.coordDim)>=0){var n=e.getReferringComponents(t.coordDim+"Axis3D").models[0];n&&"category"===n.get("type")&&(t.ordinalMeta=n.getOrdinalMeta())}}));var a=qT._y.dataStack.enableDataStack(e,i,{byIndex:!0,stackedCoordDimension:"z"}),o=new qT.aV(i,e);return o.setCalculationInfo(a),o.initData(n),o}var tB=qT.wJ.extend({type:"series.bar3D",dependencies:["globe"],visualStyleAccessPathvisu:"itemStyle",getInitialData:function(e,t){return eB(this)},getFormattedLabel:function(e,t,n,r){var i=JZ.getFormattedLabel(this,e,t,n,r);return null==i&&(i=this.getData().get("z",e)),i},formatTooltip:function(e){return $Z(this,e)},defaultOption:{coordinateSystem:"cartesian3D",globeIndex:0,grid3DIndex:0,zlevel:-10,bevelSize:0,bevelSmoothness:2,onGridPlane:"xy",shading:"color",minHeight:0,itemStyle:{opacity:1},label:{show:!1,distance:2,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},emphasis:{label:{show:!0}},animationDurationUpdate:500}});qT.D5.merge(tB.prototype,zL);var nB=tB,rB=FP.vec3,iB=FP.mat3,aB=GE.extend((function(){return{attributes:{position:new GE.Attribute("position","float",3,"POSITION"),normal:new GE.Attribute("normal","float",3,"NORMAL"),color:new GE.Attribute("color","float",4,"COLOR"),prevPosition:new GE.Attribute("prevPosition","float",3),prevNormal:new GE.Attribute("prevNormal","float",3)},dynamic:!0,enableNormal:!1,bevelSize:1,bevelSegments:0,_dataIndices:null,_vertexOffset:0,_triangleOffset:0}}),{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0},setBarCount:function(e){var t=this.enableNormal,n=this.getBarVertexCount()*e,r=this.getBarTriangleCount()*e;this.vertexCount!==n&&(this.attributes.position.init(n),t?this.attributes.normal.init(n):this.attributes.normal.value=null,this.attributes.color.init(n)),this.triangleCount!==r&&(this.indices=n>65535?new Uint32Array(3*r):new Uint16Array(3*r),this._dataIndices=new Uint32Array(n))},getBarVertexCount:function(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarVertexCount(e):this.enableNormal?24:8},getBarTriangleCount:function(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarTriangleCount(e):12},_getBevelBarVertexCount:function(e){return 4*(e+1)*(e+1)*2},_getBevelBarTriangleCount:function(e){return(4*e+3+1)*(2*e+1)*2+4},setColor:function(e,t){for(var n=this.getBarVertexCount(),r=n*(e+1),i=n*e;i<r;i++)this.attributes.color.set(i,t);this.dirtyAttribute("color")},getDataIndexOfVertex:function(e){return this._dataIndices?this._dataIndices[e]:null},addBar:function(){for(var e=rB.create,t=rB.scaleAndAdd,n=e(),r=e(),i=e(),a=e(),o=e(),s=e(),u=e(),l=[],c=[],d=0;d<8;d++)l[d]=e();var f=[[0,1,5,4],[2,3,7,6],[4,5,6,7],[3,2,1,0],[0,4,7,3],[1,2,6,5]],h=[0,1,2,0,2,3],p=[];for(d=0;d<f.length;d++)for(var m=f[d],g=0;g<2;g++){for(var v=[],y=0;y<3;y++)v.push(m[h[3*g+y]]);p.push(v)}return function(e,d,m,g,v,y){var x=this._vertexOffset;if(this.bevelSize>0&&this.bevelSegments>0)this._addBevelBar(e,d,m,g,this.bevelSize,this.bevelSegments,v);else{rB.copy(i,d),rB.normalize(i,i),rB.cross(a,m,i),rB.normalize(a,a),rB.cross(r,i,a),rB.normalize(a,a),rB.negate(o,r),rB.negate(s,i),rB.negate(u,a),t(l[0],e,r,g[0]/2),t(l[0],l[0],a,g[2]/2),t(l[1],e,r,g[0]/2),t(l[1],l[1],u,g[2]/2),t(l[2],e,o,g[0]/2),t(l[2],l[2],u,g[2]/2),t(l[3],e,o,g[0]/2),t(l[3],l[3],a,g[2]/2),t(n,e,i,g[1]),t(l[4],n,r,g[0]/2),t(l[4],l[4],a,g[2]/2),t(l[5],n,r,g[0]/2),t(l[5],l[5],u,g[2]/2),t(l[6],n,o,g[0]/2),t(l[6],l[6],u,g[2]/2),t(l[7],n,o,g[0]/2),t(l[7],l[7],a,g[2]/2);var b=this.attributes;if(this.enableNormal){c[0]=r,c[1]=o,c[2]=i,c[3]=s,c[4]=a,c[5]=u;for(var w=this._vertexOffset,_=0;_<f.length;_++){for(var S=3*this._triangleOffset,C=0;C<6;C++)this.indices[S++]=w+h[C];w+=4,this._triangleOffset+=2}for(_=0;_<f.length;_++){var k=c[_];for(C=0;C<4;C++){var D=f[_][C];b.position.set(this._vertexOffset,l[D]),b.normal.set(this._vertexOffset,k),b.color.set(this._vertexOffset++,v)}}}else{for(_=0;_<p.length;_++){for(S=3*this._triangleOffset,C=0;C<3;C++)this.indices[S+C]=p[_][C]+this._vertexOffset;this._triangleOffset++}for(_=0;_<l.length;_++)b.position.set(this._vertexOffset,l[_]),b.color.set(this._vertexOffset++,v)}}var T=this._vertexOffset;for(_=x;_<T;_++)this._dataIndices[_]=y}}(),_addBevelBar:function(){var e=rB.create(),t=rB.create(),n=rB.create(),r=iB.create(),i=[],a=[1,-1,-1,1],o=[1,1,-1,-1],s=[2,0];return function(u,l,c,d,f,h,p){rB.copy(t,l),rB.normalize(t,t),rB.cross(n,c,t),rB.normalize(n,n),rB.cross(e,t,n),rB.normalize(n,n),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=t[0],r[4]=t[1],r[5]=t[2],r[6]=n[0],r[7]=n[1],r[8]=n[2],f=Math.min(d[0],d[2])/2*f;for(var m=0;m<3;m++)i[m]=Math.max(d[m]-2*f,0);var g=(d[0]-i[0])/2,v=(d[1]-i[1])/2,y=(d[2]-i[2])/2,x=[],b=[],w=this._vertexOffset,_=[];for(m=0;m<2;m++){_[m]=_[m]=[];for(var S=0;S<=h;S++)for(var C=0;C<4;C++){(0===S&&0===m||1===m&&S===h)&&_[m].push(w);for(var k=0;k<=h;k++){var D=k/h*Math.PI/2+Math.PI/2*C,T=S/h*Math.PI/2+Math.PI/2*m;b[0]=g*Math.cos(D)*Math.sin(T),b[1]=v*Math.cos(T),b[2]=y*Math.sin(D)*Math.sin(T),x[0]=b[0]+a[C]*i[0]/2,x[1]=b[1]+v+s[m]*i[1]/2,x[2]=b[2]+o[C]*i[2]/2,Math.abs(g-v)<1e-6&&Math.abs(v-y)<1e-6||(b[0]/=g*g,b[1]/=v*v,b[2]/=y*y),rB.normalize(b,b),rB.transformMat3(x,x,r),rB.transformMat3(b,b,r),rB.add(x,x,u),this.attributes.position.set(w,x),this.enableNormal&&this.attributes.normal.set(w,b),this.attributes.color.set(w,p),w++}}}var I=4*h+3,A=2*h+1,M=I+1;for(C=0;C<A;C++)for(m=0;m<=I;m++){var E=C*M+m+this._vertexOffset,N=C*M+(m+1)%M+this._vertexOffset,R=(C+1)*M+(m+1)%M+this._vertexOffset,P=(C+1)*M+m+this._vertexOffset;this.setTriangleIndices(this._triangleOffset++,[R,E,N]),this.setTriangleIndices(this._triangleOffset++,[R,P,E])}this.setTriangleIndices(this._triangleOffset++,[_[0][0],_[0][2],_[0][1]]),this.setTriangleIndices(this._triangleOffset++,[_[0][0],_[0][3],_[0][2]]),this.setTriangleIndices(this._triangleOffset++,[_[1][0],_[1][1],_[1][2]]),this.setTriangleIndices(this._triangleOffset++,[_[1][0],_[1][2],_[1][3]]),this._vertexOffset=w}}()});qT.D5.defaults(aB.prototype,LP),qT.D5.defaults(aB.prototype,SF);var oB=aB,sB=FP.vec3,uB=qT.TA.extend({type:"bar3D",__ecgl__:!0,init:function(e,t){this.groupGL=new dP.Node,this._api=t,this._labelsBuilder=new TF(256,256,t);var n=this;this._labelsBuilder.getLabelPosition=function(e,t,r){if(n._data){var i=n._data.getItemLayout(e),a=i[0],o=i[1],s=i[2][1];return sB.scaleAndAdd([],a,o,r+s)}return[0,0]},this._labelsBuilder.getMesh().renderOrder=100},render:function(e,t,n){var r=this._prevBarMesh;this._prevBarMesh=this._barMesh,this._barMesh=r,this._barMesh||(this._barMesh=new dP.Mesh({geometry:new oB,shadowDepthMaterial:new dP.Material({shader:new dP.Shader(dP.Shader.source("ecgl.sm.depth.vertex"),dP.Shader.source("ecgl.sm.depth.fragment"))}),culling:"cartesian3D"===e.coordinateSystem.type,renderOrder:10,renderNormal:!0})),this.groupGL.remove(this._prevBarMesh),this.groupGL.add(this._barMesh),this.groupGL.add(this._labelsBuilder.getMesh());var i=e.coordinateSystem;if(this._doRender(e,n),i&&i.viewGL){i.viewGL.add(this.groupGL);var a=i.viewGL.isLinearSpace()?"define":"undefine";this._barMesh.material[a]("fragment","SRGB_DECODE")}this._data=e.getData(),this._labelsBuilder.updateData(this._data),this._labelsBuilder.updateLabels(),this._updateAnimation(e)},_updateAnimation:function(e){dP.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevBarMesh,this._barMesh,e)},_doRender:function(e,t){var n=e.getData(),r=e.get("shading"),i="color"!==r,a=this,o=this._barMesh,s="ecgl."+r;o.material&&o.material.shader.name===s||(o.material=dP.createMaterial(s,["VERTEX_COLOR"])),dP.setMaterialFromModel(r,o.material,e,t),o.geometry.enableNormal=i,o.geometry.resetOffset();var u=e.get("bevelSize"),l=e.get("bevelSmoothness");o.geometry.bevelSegments=l,o.geometry.bevelSize=u;var c=[],d=new Float32Array(4*n.count()),f=0,h=0,p=!1;n.each((function(e){if(n.hasValue(e)){var t=CF(n,e),r=kF(n,e);null==r&&(r=1),dP.parseColor(t,c),c[3]*=r,d[f++]=c[0],d[f++]=c[1],d[f++]=c[2],d[f++]=c[3],c[3]>0&&(h++,c[3]<.99&&(p=!0))}})),o.geometry.setBarCount(h);var m=n.getLayout("orient"),g=this._barIndexOfData=new Int32Array(n.count());h=0;n.each((function(e){if(n.hasValue(e)){var t=n.getItemLayout(e),r=t[0],i=t[1],o=t[2],s=4*e;c[0]=d[s++],c[1]=d[s++],c[2]=d[s++],c[3]=d[s++],c[3]>0&&(a._barMesh.geometry.addBar(r,i,m,o,c,e),g[e]=h++)}else g[e]=-1})),o.geometry.dirty(),o.geometry.updateBoundingBox();var v=o.material;v.transparent=p,v.depthMask=!p,o.geometry.sortTriangles=p,this._initHandler(e,t)},_initHandler:function(e,t){var n=e.getData(),r=this._barMesh,i="cartesian3D"===e.coordinateSystem.type;r.seriesIndex=e.seriesIndex;var a=-1;r.off("mousemove"),r.off("mouseout"),r.on("mousemove",(function(e){var o=r.geometry.getDataIndexOfVertex(e.triangle[0]);o!==a&&(this._downplay(a),this._highlight(o),this._labelsBuilder.updateLabels([o]),i&&t.dispatchAction({type:"grid3DShowAxisPointer",value:[n.get("x",o),n.get("y",o),n.get("z",o,!0)]})),a=o,r.dataIndex=o}),this),r.on("mouseout",(function(e){this._downplay(a),this._labelsBuilder.updateLabels(),a=-1,r.dataIndex=-1,i&&t.dispatchAction({type:"grid3DHideAxisPointer"})}),this)},_highlight:function(e){var t=this._data;if(t){var n=this._barIndexOfData[e];if(!(n<0)){var r=t.getItemModel(e).getModel("emphasis.itemStyle"),i=r.get("color"),a=r.get("opacity");if(null==i){var o=CF(t,e);i=qT.$_.lift(o,-.4)}null==a&&(a=kF(t,e));var s=dP.parseColor(i);s[3]*=a,this._barMesh.geometry.setColor(n,s),this._api.getZr().refresh()}}},_downplay:function(e){var t=this._data;if(t){var n=this._barIndexOfData[e];if(!(n<0)){var r=CF(t,e),i=kF(t,e),a=dP.parseColor(r);a[3]*=i,this._barMesh.geometry.setColor(n,a),this._api.getZr().refresh()}}},highlight:function(e,t,n,r){this._toggleStatus("highlight",e,t,n,r)},downplay:function(e,t,n,r){this._toggleStatus("downplay",e,t,n,r)},_toggleStatus:function(e,t,n,r,i){var a=t.getData(),o=MR.queryDataIndex(a,i),s=this;null!=o?qT.D5.each(JZ.normalizeToArray(o),(function(t){"highlight"===e?this._highlight(t):this._downplay(t)}),this):a.each((function(t){"highlight"===e?s._highlight(t):s._downplay(t)}))},remove:function(){this.groupGL.removeAll()},dispose:function(){this._labelsBuilder.dispose(),this.groupGL.removeAll()}});(0,qT.D$)((function(e){e.registerChartView(uB),e.registerSeriesModel(nB),KZ(e),e.registerProcessor((function(e,t){e.eachSeriesByType("bar3d",(function(e){var t=e.getData();t.filterSelf((function(e){return t.hasValue(e)}))}))}))}));var lB=qT.wJ.extend({type:"series.line3D",dependencies:["grid3D"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(e,t){return eB(this)},formatTooltip:function(e){return $Z(this,e)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,lineStyle:{width:2},animationDurationUpdate:500}}),cB=n(49155),dB=FP.vec3;dP.Shader.import(lO);var fB=qT.TA.extend({type:"line3D",__ecgl__:!0,init:function(e,t){this.groupGL=new dP.Node,this._api=t},render:function(e,t,n){var r=this._prevLine3DMesh;this._prevLine3DMesh=this._line3DMesh,this._line3DMesh=r,this._line3DMesh||(this._line3DMesh=new dP.Mesh({geometry:new VP({useNativeLine:!1,sortTriangles:!0}),material:new dP.Material({shader:dP.createShader("ecgl.meshLines3D")}),renderOrder:10}),this._line3DMesh.geometry.pick=this._pick.bind(this)),this.groupGL.remove(this._prevLine3DMesh),this.groupGL.add(this._line3DMesh);var i=e.coordinateSystem;if(i&&i.viewGL){i.viewGL.add(this.groupGL);var a=i.viewGL.isLinearSpace()?"define":"undefine";this._line3DMesh.material[a]("fragment","SRGB_DECODE")}this._doRender(e,n),this._data=e.getData(),this._camera=i.viewGL.camera,this.updateCamera(),this._updateAnimation(e)},updateCamera:function(){this._updateNDCPosition()},_doRender:function(e,t){var n=e.getData(),r=this._line3DMesh;r.geometry.resetOffset();var i=n.getLayout("points"),a=[],o=new Float32Array(i.length/3*4),s=0,u=!1;n.each((function(e){var t=CF(n,e),r=kF(n,e);null==r&&(r=1),dP.parseColor(t,a),a[3]*=r,o[s++]=a[0],o[s++]=a[1],o[s++]=a[2],o[s++]=a[3],a[3]<.99&&(u=!0)})),r.geometry.setVertexCount(r.geometry.getPolylineVertexCount(i)),r.geometry.setTriangleCount(r.geometry.getPolylineTriangleCount(i)),r.geometry.addPolyline(i,o,MR.firstNotNull(e.get("lineStyle.width"),1)),r.geometry.dirty(),r.geometry.updateBoundingBox();var l=r.material;l.transparent=u,l.depthMask=!u;var c=e.getModel("debug.wireframe");c.get("show")?(r.geometry.createAttribute("barycentric","float",3),r.geometry.generateBarycentric(),r.material.set("both","WIREFRAME_TRIANGLE"),r.material.set("wireframeLineColor",dP.parseColor(c.get("lineStyle.color")||"rgba(0,0,0,0.5)")),r.material.set("wireframeLineWidth",MR.firstNotNull(c.get("lineStyle.width"),1))):r.material.set("both","WIREFRAME_TRIANGLE"),this._points=i,this._initHandler(e,t)},_updateAnimation:function(e){dP.updateVertexAnimation([["prevPosition","position"],["prevPositionPrev","positionPrev"],["prevPositionNext","positionNext"]],this._prevLine3DMesh,this._line3DMesh,e)},_initHandler:function(e,t){var n=e.getData(),r=e.coordinateSystem,i=this._line3DMesh,a=-1;i.seriesIndex=e.seriesIndex,i.off("mousemove"),i.off("mouseout"),i.on("mousemove",(function(e){var o=r.pointToData(e.point.array),s=n.indicesOfNearest("x",o[0])[0];s!==a&&(t.dispatchAction({type:"grid3DShowAxisPointer",value:[n.get("x",s),n.get("y",s),n.get("z",s)]}),i.dataIndex=s),a=s}),this),i.on("mouseout",(function(e){a=-1,i.dataIndex=-1,t.dispatchAction({type:"grid3DHideAxisPointer"})}),this)},_updateNDCPosition:function(){var e=new aE,t=this._camera;aE.multiply(e,t.projectionMatrix,t.viewMatrix);var n=this._positionNDC,r=this._points,i=r.length/3;n&&n.length/2===i||(n=this._positionNDC=new Float32Array(2*i));for(var a=[],o=0;o<i;o++){var s=3*o,u=2*o;a[0]=r[s],a[1]=r[s+1],a[2]=r[s+2],a[3]=1,dB.transformMat4(a,a,e.array),n[u]=a[0]/a[3],n[u+1]=a[1]/a[3]}},_pick:function(e,t,n,r,i,a){var o=this._positionNDC,s=this._data.hostModel.get("lineStyle.width"),u=-1,l=.5*n.viewport.width,c=.5*n.viewport.height;e=(e+1)*l,t=(t+1)*c;for(var d=1;d<o.length/2;d++){var f=(o[2*(d-1)]+1)*l,h=(o[2*(d-1)+1]+1)*c,p=(o[2*d]+1)*l,m=(o[2*d+1]+1)*c;if(cB.m(f,h,p,m,s,e,t))u=(f-e)*(f-e)+(h-t)*(h-t)<(p-e)*(p-e)+(m-t)*(m-t)?d-1:d}if(u>=0){var g=3*u,v=new GM(this._points[g],this._points[g+1],this._points[g+2]);a.push({dataIndex:u,point:v,pointWorld:v.clone(),target:this._line3DMesh,distance:this._camera.getWorldPosition().dist(v)})}},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});(0,qT.D$)((function(e){e.registerChartView(fB),e.registerSeriesModel(lB),e.registerLayout((function(e,t){e.eachSeriesByType("line3D",(function(e){var t=e.getData(),n=e.coordinateSystem;if(n){if("cartesian3D"!==n.type)return void 0;var r=new Float32Array(3*t.count()),i=[],a=[],o=n.dimensions.map((function(t){return e.coordDimToDataDim(t)[0]}));n&&t.each(o,(function(e,t,o,s){i[0]=e,i[1]=t,i[2]=o,n.dataToPoint(i,a),r[3*s]=a[0],r[3*s+1]=a[1],r[3*s+2]=a[2]})),t.setLayout("points",r)}}))}))}));var hB=qT.wJ.extend({type:"series.scatter3D",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(e,t){return eB(this)},getFormattedLabel:function(e,t,n,r){var i=JZ.getFormattedLabel(this,e,t,n,r);if(null==i){var a=this.getData(),o=a.dimensions[a.dimensions.length-1];i=a.get(o,e)}return i},formatTooltip:function(e){return $Z(this,e)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,progressive:1e5,progressiveThreshold:1e5,grid3DIndex:0,globeIndex:0,symbol:"circle",symbolSize:10,blendMode:"source-over",label:{show:!1,position:"right",distance:5,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},itemStyle:{opacity:.8},emphasis:{label:{show:!0}},animationDurationUpdate:500}});function pB(e,t,n){(t=t||document.createElement("canvas")).width=e,t.height=e;var r=t.getContext("2d");return n&&n(r),t}var mB={getMarginByStyle:function(e){var t=e.minMargin||0,n=0;e.stroke&&"none"!==e.stroke&&(n=null==e.lineWidth?1:e.lineWidth);var r=e.shadowBlur||0,i=e.shadowOffsetX||0,a=e.shadowOffsetY||0,o={};return o.left=Math.max(n/2,-i+r,t),o.right=Math.max(n/2,i+r,t),o.top=Math.max(n/2,-a+r,t),o.bottom=Math.max(n/2,a+r,t),o},createSymbolSprite:function(e,t,n,r){var i=function(e,t,n,r){qT.D5.isArray(t)||(t=[t,t]);var i=mB.getMarginByStyle(n,r),a=t[0]+i.left+i.right,o=t[1]+i.top+i.bottom,s=qT._y.createSymbol(e,0,0,t[0],t[1]),u=Math.max(a,o);s.x=i.left,s.y=i.top,a>o?s.y+=(u-o)/2:s.x+=(u-a)/2;var l=s.getBoundingRect();return s.x-=l.x,s.y-=l.y,s.setStyle(n),s.update(),s.__size=u,s}(e,t,n),a=mB.getMarginByStyle(n);return{image:pB(i.__size,r,(function(e){qT.z$(e,i)})),margin:a}},createSDFFromCanvas:function(e,t,n,r){return pB(t,r,(function(t){var r=e.getContext("2d").getImageData(0,0,e.width,e.height);t.putImageData(function(e,t,n){var r=t.width,i=t.height,a=e.canvas.width,o=e.canvas.height,s=r/a,u=i/o;function l(e){return e<128?1:-1}function c(e,a){var o=1/0;e=Math.floor(e*s);for(var c=(a=Math.floor(a*u))*r+e,d=l(t.data[4*c]),f=Math.max(a-n,0);f<Math.min(a+n,i);f++)for(var h=Math.max(e-n,0);h<Math.min(e+n,r);h++){c=f*r+h;var p=h-e,m=f-a;if(d!==l(t.data[4*c])){var g=p*p+m*m;g<o&&(o=g)}}return d*Math.sqrt(o)}for(var d=e.createImageData(a,o),f=0;f<o;f++)for(var h=0;h<a;h++){var p=c(h,f)/n*.5+.5,m=4*(f*a+h);d.data[m++]=255*(1-p),d.data[m++]=255*(1-p),d.data[m++]=255*(1-p),d.data[m++]=255}return d}(t,r,n),0,0)}))},createSimpleSprite:function(e,t){return pB(e,t,(function(t){var n=e/2;t.beginPath(),t.arc(n,n,60,0,2*Math.PI,!1),t.closePath();var r=t.createRadialGradient(n,n,0,n,n,n);r.addColorStop(0,"rgba(255, 255, 255, 1)"),r.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),r.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=r,t.fill()}))}},gB=mB,vB=FP.vec3,yB={needsSortVertices:function(){return this.sortVertices},needsSortVerticesProgressively:function(){return this.needsSortVertices()&&this.vertexCount>=2e4},doSortVertices:function(e,t){var n=this.indices,r=vB.create();if(!n){n=this.indices=this.vertexCount>65535?new Uint32Array(this.vertexCount):new Uint16Array(this.vertexCount);for(var i=0;i<n.length;i++)n[i]=i}if(0===t){var a,o=this.attributes.position,s=(e=e.array,0);this._zList&&this._zList.length===this.vertexCount||(this._zList=new Float32Array(this.vertexCount));for(i=0;i<this.vertexCount;i++){o.get(i,r);var u=vB.sqrDist(r,e);isNaN(u)&&(u=1e7,s++),0===i?(a=u,u=0):u-=a,this._zList[i]=u}this._noneCount=s}if(this.vertexCount<2e4)0===t&&this._simpleSort(this._noneCount/this.vertexCount>.05);else for(i=0;i<3;i++)this._progressiveQuickSort(3*t+i);this.dirtyIndices()},_simpleSort:function(e){var t=this._zList,n=this.indices;function r(e,n){return t[n]-t[e]}e?Array.prototype.sort.call(n,r):yF.sort(n,r,0,n.length-1)},_progressiveQuickSort:function(e){var t=this._zList,n=this.indices;this._quickSort=this._quickSort||new yF,this._quickSort.step(n,(function(e,n){return t[n]-t[e]}),e)}},xB=FP.vec4;dP.Shader.import("@export ecgl.sdfSprite.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform float elapsedTime : 0;\n\nattribute vec3 position : POSITION;\n\n#ifdef VERTEX_SIZE\nattribute float size;\n#else\nuniform float u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_FillColor: COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute float prevSize;\nuniform float percent : 1.0;\n#endif\n\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvarying float v_Size;\n\nvoid main()\n{\n\n#ifdef POSITIONTEXTURE_ENABLED\n gl_Position = worldViewProjection * vec4(texture2D(positionTexture, position.xy).xy, -10.0, 1.0);\n#else\n\n #ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n #else\n vec3 pos = position;\n #endif\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n#endif\n\n#ifdef VERTEX_SIZE\n#ifdef VERTEX_ANIMATION\n v_Size = mix(prevSize, size, percent);\n#else\n v_Size = size;\n#endif\n#else\n v_Size = u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\n v_Color = a_FillColor;\n #endif\n\n gl_PointSize = v_Size;\n}\n\n@end\n\n@export ecgl.sdfSprite.fragment\n\nuniform vec4 color: [1, 1, 1, 1];\nuniform vec4 strokeColor: [1, 1, 1, 1];\nuniform float smoothing: 0.07;\n\nuniform float lineWidth: 0.0;\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\nvarying float v_Size;\n\nuniform sampler2D sprite;\n\n@import clay.util.srgb\n\nvoid main()\n{\n gl_FragColor = color;\n\n vec4 _strokeColor = strokeColor;\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n #endif\n\n#ifdef SPRITE_ENABLED\n float d = texture2D(sprite, gl_PointCoord).r;\n gl_FragColor.a *= smoothstep(0.5 - smoothing, 0.5 + smoothing, d);\n\n if (lineWidth > 0.0) {\n float sLineWidth = lineWidth / 2.0;\n\n float outlineMaxValue0 = 0.5 + sLineWidth;\n float outlineMaxValue1 = 0.5 + sLineWidth + smoothing;\n float outlineMinValue0 = 0.5 - sLineWidth - smoothing;\n float outlineMinValue1 = 0.5 - sLineWidth;\n\n if (d <= outlineMaxValue1 && d >= outlineMinValue0) {\n float a = _strokeColor.a;\n if (d <= outlineMinValue1) {\n a = a * smoothstep(outlineMinValue0, outlineMinValue1, d);\n }\n else {\n a = a * smoothstep(outlineMaxValue1, outlineMaxValue0, d);\n }\n gl_FragColor.rgb = mix(gl_FragColor.rgb * gl_FragColor.a, _strokeColor.rgb, a);\n gl_FragColor.a = gl_FragColor.a * (1.0 - a) + a;\n }\n }\n#endif\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(gl_FragColor);\n#endif\n}\n@end");var bB=dP.Mesh.extend((function(){var e=new dP.Geometry({dynamic:!0,attributes:{color:new dP.Geometry.Attribute("color","float",4,"COLOR"),position:new dP.Geometry.Attribute("position","float",3,"POSITION"),size:new dP.Geometry.Attribute("size","float",1),prevPosition:new dP.Geometry.Attribute("prevPosition","float",3),prevSize:new dP.Geometry.Attribute("prevSize","float",1)}});Object.assign(e,yB);var t=new dP.Material({shader:dP.createShader("ecgl.sdfSprite"),transparent:!0,depthMask:!1});t.enableTexture("sprite"),t.define("both","VERTEX_COLOR"),t.define("both","VERTEX_SIZE");var n=new dP.Texture2D({image:document.createElement("canvas"),flipY:!1});return t.set("sprite",n),e.pick=this._pick.bind(this),{geometry:e,material:t,mode:dP.Mesh.POINTS,sizeScale:1}}),{_pick:function(e,t,n,r,i,a){var o=this._positionNDC;if(o)for(var s=n.viewport,u=2/s.width,l=2/s.height,c=this.geometry.vertexCount-1;c>=0;c--){var d,f=o[2*(d=this.geometry.indices?this.geometry.indices[c]:c)],h=o[2*d+1],p=this.geometry.attributes.size.get(d)/this.sizeScale/2;if(e>f-p*u&&e<f+p*u&&t>h-p*l&&t<h+p*l){var m=new dP.Vector3,g=new dP.Vector3;this.geometry.attributes.position.get(d,m.array),dP.Vector3.transformMat4(g,m,this.worldTransform),a.push({vertexIndex:d,point:m,pointWorld:g,target:this,distance:g.distance(r.getWorldPosition())})}}},updateNDCPosition:function(e,t,n){var r=this._positionNDC,i=this.geometry;r&&r.length/2===i.vertexCount||(r=this._positionNDC=new Float32Array(2*i.vertexCount));for(var a=xB.create(),o=0;o<i.vertexCount;o++)i.attributes.position.get(o,a),a[3]=1,xB.transformMat4(a,a,e.array),xB.scale(a,a,1/a[3]),r[2*o]=a[0],r[2*o+1]=a[1]}}),wB=bB;function _B(e,t){this.rootNode=new dP.Node,this.is2D=e,this._labelsBuilder=new TF(256,256,t),this._labelsBuilder.getMesh().renderOrder=100,this.rootNode.add(this._labelsBuilder.getMesh()),this._api=t,this._spriteImageCanvas=document.createElement("canvas"),this._startDataIndex=0,this._endDataIndex=0,this._sizeScale=1}_B.prototype={constructor:_B,highlightOnMouseover:!0,update:function(e,t,n,r,i){var a=this._prevMesh;this._prevMesh=this._mesh,this._mesh=a;var o=e.getData();if(null==r&&(r=0),null==i&&(i=o.count()),this._startDataIndex=r,this._endDataIndex=i-1,!this._mesh){var s=this._prevMesh&&this._prevMesh.material;this._mesh=new wB({renderOrder:10,frustumCulling:!1}),s&&(this._mesh.material=s)}s=this._mesh.material;var u=this._mesh.geometry,l=u.attributes;this.rootNode.remove(this._prevMesh),this.rootNode.add(this._mesh),this._setPositionTextureToMesh(this._mesh,this._positionTexture);var c=this._getSymbolInfo(e,r,i),d=n.getDevicePixelRatio(),f=e.getModel("itemStyle").getItemStyle(),h=e.get("large"),p=1;c.maxSize>2?(p=this._updateSymbolSprite(e,f,c,d),s.enableTexture("sprite")):s.disableTexture("sprite"),l.position.init(i-r);var m=[];if(h){s.undefine("VERTEX_SIZE"),s.undefine("VERTEX_COLOR");var g=function(e){var t=e.getVisual("style");if(t)return t[e.getVisual("drawType")]}(o),v=function(e){return e.getVisual("style").opacity}(o);dP.parseColor(g,m),m[3]*=v,s.set({color:m,u_Size:c.maxSize*this._sizeScale})}else s.set({color:[1,1,1,1]}),s.define("VERTEX_SIZE"),s.define("VERTEX_COLOR"),l.size.init(i-r),l.color.init(i-r),this._originalOpacity=new Float32Array(i-r);for(var y=o.getLayout("points"),x=l.position.value,b=0;b<i-r;b++){var w=3*b,_=2*b;if(this.is2D?(x[w]=y[_],x[w+1]=y[_+1],x[w+2]=-10):(x[w]=y[w],x[w+1]=y[w+1],x[w+2]=y[w+2]),!h){g=CF(o,b),v=kF(o,b);dP.parseColor(g,m),m[3]*=v,l.color.set(b,m),m[3]<.99&&!0;var S=o.getItemVisual(b,"symbolSize");S=S instanceof Array?Math.max(S[0],S[1]):S,isNaN(S)&&(S=0),l.size.value[b]=S*p*this._sizeScale,this._originalOpacity[b]=m[3]}}this._mesh.sizeScale=p,u.updateBoundingBox(),u.dirty(),this._updateMaterial(e,f);var C=e.coordinateSystem;C&&C.viewGL&&s[C.viewGL.isLinearSpace()?"define":"undefine"]("fragment","SRGB_DECODE");h||this._updateLabelBuilder(e,r,i),this._updateHandler(e,t,n),this._updateAnimation(e),this._api=n},getPointsMesh:function(){return this._mesh},updateLabels:function(e){this._labelsBuilder.updateLabels(e)},hideLabels:function(){this.rootNode.remove(this._labelsBuilder.getMesh())},showLabels:function(){this.rootNode.add(this._labelsBuilder.getMesh())},dispose:function(){this._labelsBuilder.dispose()},_updateSymbolSprite:function(e,t,n,r){n.maxSize=Math.min(2*n.maxSize,200);var i,a,o=[];return n.aspect>1?(o[0]=n.maxSize,o[1]=n.maxSize/n.aspect):(o[1]=n.maxSize,o[0]=n.maxSize*n.aspect),o[0]=o[0]||1,o[1]=o[1]||1,this._symbolType===n.type&&(i=this._symbolSize,a=o,i&&a&&i[0]===a[0]&&i[1]===a[1])&&this._lineWidth===t.lineWidth||(gB.createSymbolSprite(n.type,o,{fill:"#fff",lineWidth:t.lineWidth,stroke:"transparent",shadowColor:"transparent",minMargin:Math.min(o[0]/2,10)},this._spriteImageCanvas),gB.createSDFFromCanvas(this._spriteImageCanvas,Math.min(this._spriteImageCanvas.width,32),20,this._mesh.material.get("sprite").image),this._symbolType=n.type,this._symbolSize=o,this._lineWidth=t.lineWidth),this._spriteImageCanvas.width/n.maxSize*r},_updateMaterial:function(e,t){var n="lighter"===e.get("blendMode")?dP.additiveBlend:null,r=this._mesh.material;r.blend=n,r.set("lineWidth",t.lineWidth/20);var i=dP.parseColor(t.stroke);r.set("strokeColor",i),r.transparent=!0,r.depthMask=!1,r.depthTest=!this.is2D,r.sortVertices=!this.is2D},_updateLabelBuilder:function(e,t,n){var r=e.getData(),i=this._mesh.geometry,a=i.attributes.position.value,o=(t=this._startDataIndex,this._mesh.sizeScale);this._labelsBuilder.updateData(r,t,n),this._labelsBuilder.getLabelPosition=function(e,n,r){var i=3*(e-t);return[a[i],a[i+1],a[i+2]]},this._labelsBuilder.getLabelDistance=function(e,n,r){return i.attributes.size.get(e-t)/o/2+r},this._labelsBuilder.updateLabels()},_updateAnimation:function(e){dP.updateVertexAnimation([["prevPosition","position"],["prevSize","size"]],this._prevMesh,this._mesh,e)},_updateHandler:function(e,t,n){var r,i=e.getData(),a=this._mesh,o=this,s=-1,u=e.coordinateSystem&&"cartesian3D"===e.coordinateSystem.type;u&&(r=e.coordinateSystem.model),a.seriesIndex=e.seriesIndex,a.off("mousemove"),a.off("mouseout"),a.on("mousemove",(function(t){var l=t.vertexIndex+o._startDataIndex;l!==s&&(this.highlightOnMouseover&&(this.downplay(i,s),this.highlight(i,l),this._labelsBuilder.updateLabels([l])),u&&n.dispatchAction({type:"grid3DShowAxisPointer",value:[i.get(e.coordDimToDataDim("x")[0],l),i.get(e.coordDimToDataDim("y")[0],l),i.get(e.coordDimToDataDim("z")[0],l)],grid3DIndex:r.componentIndex})),a.dataIndex=l,s=l}),this),a.on("mouseout",(function(e){var t=e.vertexIndex+o._startDataIndex;this.highlightOnMouseover&&(this.downplay(i,t),this._labelsBuilder.updateLabels()),s=-1,a.dataIndex=-1,u&&n.dispatchAction({type:"grid3DHideAxisPointer",grid3DIndex:r.componentIndex})}),this)},updateLayout:function(e,t,n){var r=e.getData();if(this._mesh){var i=this._mesh.geometry.attributes.position.value,a=r.getLayout("points");if(this.is2D)for(var o=0;o<a.length/2;o++){var s=3*o,u=2*o;i[s]=a[u],i[s+1]=a[u+1],i[s+2]=-10}else for(o=0;o<a.length;o++)i[o]=a[o];this._mesh.geometry.dirty(),n.getZr().refresh()}},updateView:function(e){if(this._mesh){var t=new aE;aE.mul(t,e.viewMatrix,this._mesh.worldTransform),aE.mul(t,e.projectionMatrix,t),this._mesh.updateNDCPosition(t,this.is2D,this._api)}},highlight:function(e,t){if(!(t>this._endDataIndex||t<this._startDataIndex)){var n=e.getItemModel(t).getModel("emphasis.itemStyle"),r=n.get("color"),i=n.get("opacity");if(null==r){var a=CF(e,t);r=qT.$_.lift(a,-.4)}null==i&&(i=kF(e,t));var o=dP.parseColor(r);o[3]*=i,this._mesh.geometry.attributes.color.set(t-this._startDataIndex,o),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},downplay:function(e,t){if(!(t>this._endDataIndex||t<this._startDataIndex)){var n=CF(e,t),r=kF(e,t),i=dP.parseColor(n);i[3]*=r,this._mesh.geometry.attributes.color.set(t-this._startDataIndex,i),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeOutAll:function(e){if(this._originalOpacity){for(var t=this._mesh.geometry,n=0;n<t.vertexCount;n++){var r=this._originalOpacity[n]*e;t.attributes.color.value[4*n+3]=r}t.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeInAll:function(){this.fadeOutAll(1)},setPositionTexture:function(e){this._mesh&&this._setPositionTextureToMesh(this._mesh,e),this._positionTexture=e},removePositionTexture:function(){this._positionTexture=null,this._mesh&&this._setPositionTextureToMesh(this._mesh,null)},setSizeScale:function(e){if(e!==this._sizeScale){if(this._mesh){var t=this._mesh.material.get("u_Size");this._mesh.material.set("u_Size",t/this._sizeScale*e);var n=this._mesh.geometry.attributes;if(n.size.value)for(var r=0;r<n.size.value.length;r++)n.size.value[r]=n.size.value[r]/this._sizeScale*e}this._sizeScale=e}},_setPositionTextureToMesh:function(e,t){t&&e.material.set("positionTexture",t),e.material[t?"enableTexture":"disableTexture"]("positionTexture")},_getSymbolInfo:function(e,t,n){if(e.get("large"))return(l=MR.firstNotNull(e.get("symbolSize"),1))instanceof Array?(o=Math.max(l[0],l[1]),r=l[0]/l[1]):(o=l,r=1),{maxSize:l,type:e.get("symbol"),aspect:r};for(var r,i=e.getData(),a=i.getItemVisual(0,"symbol")||"circle",o=0,s=t;s<n;s++){var u,l=i.getItemVisual(s,"symbolSize"),c=i.getItemVisual(s,"symbol");if(l instanceof Array)u=l[0]/l[1],o=Math.max(Math.max(l[0],l[1]),o);else{if(isNaN(l))continue;u=1,o=Math.max(l,o)}0,a=c,r=u}return{maxSize:o,type:a,aspect:r}}};var SB=_B,CB=qT.TA.extend({type:"scatter3D",hasSymbolVisual:!0,__ecgl__:!0,init:function(e,t){this.groupGL=new dP.Node,this._pointsBuilderList=[],this._currentStep=0},render:function(e,t,n){if(this.groupGL.removeAll(),e.getData().count()){var r=e.coordinateSystem;if(r&&r.viewGL){r.viewGL.add(this.groupGL),this._camera=r.viewGL.camera;var i=this._pointsBuilderList[0];i||(i=this._pointsBuilderList[0]=new SB(!1,n)),this._pointsBuilderList.length=1,this.groupGL.add(i.rootNode),i.update(e,t,n),i.updateView(r.viewGL.camera)}else 0}},incrementalPrepareRender:function(e,t,n){var r=e.coordinateSystem;r&&r.viewGL&&(r.viewGL.add(this.groupGL),this._camera=r.viewGL.camera),this.groupGL.removeAll(),this._currentStep=0},incrementalRender:function(e,t,n,r){if(!(e.end<=e.start)){var i=this._pointsBuilderList[this._currentStep];i||(i=new SB(!1,r),this._pointsBuilderList[this._currentStep]=i),this.groupGL.add(i.rootNode),i.update(t,n,r,e.start,e.end),i.updateView(t.coordinateSystem.viewGL.camera),this._currentStep++}},updateCamera:function(){this._pointsBuilderList.forEach((function(e){e.updateView(this._camera)}),this)},highlight:function(e,t,n,r){this._toggleStatus("highlight",e,t,n,r)},downplay:function(e,t,n,r){this._toggleStatus("downplay",e,t,n,r)},_toggleStatus:function(e,t,n,r,i){var a=t.getData(),o=MR.queryDataIndex(a,i),s="highlight"===e;null!=o?qT.D5.each(JZ.normalizeToArray(o),(function(e){for(var t=0;t<this._pointsBuilderList.length;t++){var n=this._pointsBuilderList[t];s?n.highlight(a,e):n.downplay(a,e)}}),this):a.each((function(e){for(var t=0;t<this._pointsBuilderList.length;t++){var n=this._pointsBuilderList[t];s?n.highlight(a,e):n.downplay(a,e)}}))},dispose:function(){this._pointsBuilderList.forEach((function(e){e.dispose()})),this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});(0,qT.D$)((function(e){e.registerChartView(CB),e.registerSeriesModel(hB),e.registerLayout({seriesType:"scatter3D",reset:function(e){var t=e.coordinateSystem;if(t){var n=t.dimensions;if(n.length<3)return void 0;var r=n.map((function(t){return e.coordDimToDataDim(t)[0]})),i=[],a=[];return{progress:function(e,n){for(var o=new Float32Array(3*(e.end-e.start)),s=e.start;s<e.end;s++){var u=3*(s-e.start);i[0]=n.get(r[0],s),i[1]=n.get(r[1],s),i[2]=n.get(r[2],s),t.dataToPoint(i,a),o[u]=a[0],o[u+1]=a[1],o[u+2]=a[2]}n.setLayout("points",o)}}}}})}));var kB=FP.vec3,DB=FP.vec2,TB=kB.normalize,IB=kB.cross,AB=kB.sub,MB=kB.add,EB=kB.create,NB=EB(),RB=EB(),PB=EB(),OB=EB(),LB=[],FB=[];function ZB(e,t){DB.copy(LB,e[0]),DB.copy(FB,e[1]);var n=[],r=n[0]=EB(),i=n[1]=EB(),a=n[2]=EB(),o=n[3]=EB();t.dataToPoint(LB,r),t.dataToPoint(FB,o),TB(NB,r),AB(RB,o,r),TB(RB,RB),IB(PB,RB,NB),TB(PB,PB),IB(RB,NB,PB),MB(i,NB,RB),TB(i,i),TB(NB,o),AB(RB,r,o),TB(RB,RB),IB(PB,RB,NB),TB(PB,PB),IB(RB,NB,PB),MB(a,NB,RB),TB(a,a),MB(OB,r,o),TB(OB,OB);var s=kB.dot(r,OB),u=kB.dot(OB,i),l=(Math.max(kB.len(r),kB.len(o))-s)/u*2;return kB.scaleAndAdd(i,r,i,l),kB.scaleAndAdd(a,o,a,l),n}function BB(e,t){for(var n=new Float32Array(3*e.length),r=0,i=[],a=0;a<e.length;a++)t.dataToPoint(e[a],i),n[r++]=i[0],n[r++]=i[1],n[r++]=i[2];return n}function zB(e){var t=[];return e.each((function(n){var r=e.getItemModel(n),i=r.option instanceof Array?r.option:r.getShallow("coords",!0);t.push(i)})),{coordsList:t}}function VB(e,t,n){var r=e.getData(),i=e.get("polyline"),a=zB(r);r.setLayout("lineType",i?"polyline":"cubicBezier"),r.each((function(e){var o=a.coordsList[e],s=i?BB(o,t):function(e,t,n){var r=[],i=r[0]=kB.create(),a=r[1]=kB.create(),o=r[2]=kB.create(),s=r[3]=kB.create();t.dataToPoint(e[0],i),t.dataToPoint(e[1],s);var u=kB.dist(i,s);return kB.lerp(a,i,s,.3),kB.lerp(o,i,s,.3),kB.scaleAndAdd(a,a,n,Math.min(.1*u,10)),kB.scaleAndAdd(o,o,n,Math.min(.1*u,10)),r}(o,t,n);r.setItemLayout(e,s)}))}function jB(e,t){e.eachSeriesByType("lines3D",(function(e){var t=e.coordinateSystem;"globe"===t.type?function(e,t){var n=e.getData(),r=e.get("polyline");n.setLayout("lineType",r?"polyline":"cubicBezier");var i=zB(n);n.each((function(e){var a=i.coordsList[e],o=r?BB:ZB;n.setItemLayout(e,o(a,t))}))}(e,t):"geo3D"===t.type?VB(e,t,[0,1,0]):"mapbox3D"!==t.type&&"maptalks3D"!==t.type||VB(e,t,[0,0,1])}))}var WB=qT.wJ.extend({type:"series.lines3D",dependencies:["globe"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(e,t){var n=new qT.aV(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],(function(e,t,r,i){if(e instanceof Array)return NaN;n.hasItemOption=!0;var a=e.value;return null!=a?a instanceof Array?a[i]:a:void 0})),n},defaultOption:{coordinateSystem:"globe",globeIndex:0,geo3DIndex:0,zlevel:-10,polyline:!1,effect:{show:!1,period:4,trailWidth:4,trailLength:.2,spotIntensity:6},silent:!0,blendMode:"source-over",lineStyle:{width:1,opacity:.5}}}),UB=FP.vec3;dP.Shader.import("@export ecgl.trail2.vertex\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute float dist;\nattribute float distAll;\nattribute float start;\n\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nuniform float speed : 0;\nuniform float trailLength: 0.3;\nuniform float time;\nuniform float period: 1000;\n\nuniform float spotSize: 1;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n\n#ifdef CONSTANT_SPEED\n float t = mod((speed * time + start) / distAll, 1. + trailLength) - trailLength;\n#else\n float t = mod((time + start) / period, 1. + trailLength) - trailLength;\n#endif\n\n float trailLen = distAll * trailLength;\n\n v_Percent = (dist - t * distAll) / trailLen;\n\n v_SpotPercent = spotSize / distAll;\n\n }\n@end\n\n\n@export ecgl.trail2.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform float spotIntensity: 5;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n if (v_Percent > 1.0 || v_Percent < 0.0) {\n discard;\n }\n\n float fade = v_Percent;\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n\n if (v_Percent > (1.0 - v_SpotPercent)) {\n gl_FragColor.rgb *= spotIntensity;\n }\n\n gl_FragColor.a *= fade;\n}\n\n@end");var HB=dP.Mesh.extend((function(){var e=new dP.Material({shader:new dP.Shader(dP.Shader.source("ecgl.trail2.vertex"),dP.Shader.source("ecgl.trail2.fragment")),transparent:!0,depthMask:!1}),t=new VP({dynamic:!0});return t.createAttribute("dist","float",1),t.createAttribute("distAll","float",1),t.createAttribute("start","float",1),{geometry:t,material:e,culling:!1,$ignorePicking:!0}}),{updateData:function(e,t,n){var r=e.hostModel,i=this.geometry,a=r.getModel("effect"),o=a.get("trailWidth")*t.getDevicePixelRatio(),s=a.get("trailLength"),u=r.get("effect.constantSpeed"),l=1e3*r.get("effect.period"),c=null!=u;c?this.material.set("speed",u/1e3):this.material.set("period",l),this.material[c?"define":"undefine"]("vertex","CONSTANT_SPEED");var d=r.get("polyline");i.trailLength=s,this.material.set("trailLength",s),i.resetOffset(),["position","positionPrev","positionNext"].forEach((function(e){i.attributes[e].value=n.attributes[e].value}));["dist","distAll","start","offset","color"].forEach((function(e){i.attributes[e].init(i.vertexCount)})),i.indices=n.indices;var f=[],h=a.get("trailColor"),p=a.get("trailOpacity"),m=null!=h,g=null!=p;this.updateWorldTransform();var v=this.worldTransform.x.len(),y=this.worldTransform.y.len(),x=this.worldTransform.z.len(),b=0,w=0;e.each((function(t){var r=e.getItemLayout(t),a=g?p:kF(e,t),s=CF(e,t);null==a&&(a=1),(f=dP.parseColor(m?h:s,f))[3]*=a;for(var u=d?n.getPolylineVertexCount(r):n.getCubicCurveVertexCount(r[0],r[1],r[2],r[3]),_=0,S=[],C=[],k=b;k<b+u;k++)i.attributes.position.get(k,S),S[0]*=v,S[1]*=y,S[2]*=x,k>b&&(_+=UB.dist(S,C)),i.attributes.dist.set(k,_),UB.copy(C,S);w=Math.max(w,_);var D=Math.random()*(c?_:l);for(k=b;k<b+u;k++)i.attributes.distAll.set(k,_),i.attributes.start.set(k,D),i.attributes.offset.set(k,(n.attributes.offset.get(k)>0?1:-1)*o/2),i.attributes.color.set(k,f);b+=u})),this.material.set("spotSize",.1*w*s),this.material.set("spotIntensity",a.get("spotIntensity")),i.dirty()},setAnimationTime:function(e){this.material.set("time",e)}});dP.Shader.import(lO);var GB=qT.TA.extend({type:"lines3D",__ecgl__:!0,init:function(e,t){this.groupGL=new dP.Node,this._meshLinesMaterial=new dP.Material({shader:dP.createShader("ecgl.meshLines3D"),transparent:!0,depthMask:!1}),this._linesMesh=new dP.Mesh({geometry:new VP,material:this._meshLinesMaterial,$ignorePicking:!0}),this._trailMesh=new HB},render:function(e,t,n){this.groupGL.add(this._linesMesh);var r=e.coordinateSystem,i=e.getData();if(r&&r.viewGL){r.viewGL.add(this.groupGL),this._updateLines(e,t,n);var a=r.viewGL.isLinearSpace()?"define":"undefine";this._linesMesh.material[a]("fragment","SRGB_DECODE"),this._trailMesh.material[a]("fragment","SRGB_DECODE")}var o=this._trailMesh;if(o.stopAnimation(),e.get("effect.show")){this.groupGL.add(o),o.updateData(i,n,this._linesMesh.geometry),o.__time=o.__time||0;var s=36e5;this._curveEffectsAnimator=o.animate("",{loop:!0}).when(s,{__time:s}).during((function(){o.setAnimationTime(o.__time)})).start()}else this.groupGL.remove(o),this._curveEffectsAnimator=null;this._linesMesh.material.blend=this._trailMesh.material.blend="lighter"===e.get("blendMode")?dP.additiveBlend:null},pauseEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.pause()},resumeEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.resume()},toggleEffect:function(){var e=this._curveEffectsAnimator;e&&(e.isPaused()?e.resume():e.pause())},_updateLines:function(e,t,n){var r=e.getData(),i=e.coordinateSystem,a=this._linesMesh.geometry,o=e.get("polyline");a.expandLine=!0;var s=function(e){return null!=e.radius?e.radius:null!=e.size?Math.max(e.size[0],e.size[1],e.size[2]):100}(i);a.segmentScale=s/20;var u="lineStyle.width".split("."),l=n.getDevicePixelRatio(),c=0;r.each((function(e){var t=r.getItemModel(e).get(u);null==t&&(t=1),r.setItemVisual(e,"lineWidth",t),c=Math.max(t,c)})),a.useNativeLine=!1;var d=0,f=0;r.each((function(e){var t=r.getItemLayout(e);o?(d+=a.getPolylineVertexCount(t),f+=a.getPolylineTriangleCount(t)):(d+=a.getCubicCurveVertexCount(t[0],t[1],t[2],t[3]),f+=a.getCubicCurveTriangleCount(t[0],t[1],t[2],t[3]))})),a.setVertexCount(d),a.setTriangleCount(f),a.resetOffset();var h=[];r.each((function(e){var t=r.getItemLayout(e),n=CF(r,e),i=kF(r,e),s=r.getItemVisual(e,"lineWidth")*l;null==i&&(i=1),(h=dP.parseColor(n,h))[3]*=i,o?a.addPolyline(t,h,s):a.addCubicCurve(t[0],t[1],t[2],t[3],h,s)})),a.dirty()},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});function XB(e,t){for(var n=[],r=0;r<t.length;r++)n.push(e.dataToPoint(t[r]));return n}(0,qT.D$)((function(e){e.registerChartView(GB),e.registerSeriesModel(WB),e.registerLayout(jB),e.registerAction({type:"lines3DPauseEffect",event:"lines3deffectpaused",update:"series.lines3D:pauseEffect"},(function(){})),e.registerAction({type:"lines3DResumeEffect",event:"lines3deffectresumed",update:"series.lines3D:resumeEffect"},(function(){})),e.registerAction({type:"lines3DToggleEffect",event:"lines3deffectchanged",update:"series.lines3D:toggleEffect"},(function(){}))}));var qB=qT.wJ.extend({type:"series.polygons3D",getRegionModel:function(e){return this.getData().getItemModel(e)},getRegionPolygonCoords:function(e){var t=this.coordinateSystem,n=this.getData().getItemModel(e),r=n.option instanceof Array?n.option:n.getShallow("coords");n.get("multiPolygon")||(r=[r]);for(var i=[],a=0;a<r.length;a++){for(var o=[],s=1;s<r[a].length;s++)o.push(XB(t,r[a][s]));i.push({exterior:XB(t,r[a][0]),interiors:o})}return i},getInitialData:function(e){var t=new qT.aV(["value"],this);return t.hasItemOption=!1,t.initData(e.data,[],(function(e,n,r,i){if(e instanceof Array)return NaN;t.hasItemOption=!0;var a=e.value;return null!=a?a instanceof Array?a[i]:a:void 0})),t},defaultOption:{show:!0,data:null,multiPolygon:!1,progressiveThreshold:1e3,progressive:1e3,zlevel:-10,label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}});qT.D5.merge(qB.prototype,zL);var YB=qB,KB=qT.TA.extend({type:"polygons3D",__ecgl__:!0,init:function(e,t){this.groupGL=new dP.Node,this._geo3DBuilderList=[],this._currentStep=0},render:function(e,t,n){this.groupGL.removeAll();var r=e.coordinateSystem;r&&r.viewGL&&r.viewGL.add(this.groupGL);var i=this._geo3DBuilderList[0];i||((i=new MF(n)).extrudeY="mapbox3D"!==r.type&&"maptalks3D"!==r.type,this._geo3DBuilderList[0]=i),this._updateShaderDefines(r,i),i.update(e,t,n),this._geo3DBuilderList.length=1,this.groupGL.add(i.rootNode)},incrementalPrepareRender:function(e,t,n){this.groupGL.removeAll();var r=e.coordinateSystem;r&&r.viewGL&&r.viewGL.add(this.groupGL),this._currentStep=0},incrementalRender:function(e,t,n,r){var i=this._geo3DBuilderList[this._currentStep],a=t.coordinateSystem;i||((i=new MF(r)).extrudeY="mapbox3D"!==a.type&&"maptalks3D"!==a.type,this._geo3DBuilderList[this._currentStep]=i),i.update(t,n,r,e.start,e.end),this.groupGL.add(i.rootNode),this._updateShaderDefines(a,i),this._currentStep++},_updateShaderDefines:function(e,t){var n=e.viewGL.isLinearSpace()?"define":"undefine";t.rootNode.traverse((function(t){t.material&&(t.material[n]("fragment","SRGB_DECODE"),"mapbox3D"!==e.type&&"maptalks3D"!==e.type||(t.material.define("fragment","NORMAL_UP_AXIS",2),t.material.define("fragment","NORMAL_FRONT_AXIS",1)))}))},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll(),this._geo3DBuilderList.forEach((function(e){e.dispose()}))}});(0,qT.D$)((function(e){e.registerChartView(KB),e.registerSeriesModel(YB)}));var QB=qT.wJ.extend({type:"series.surface",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",formatTooltip:function(e){return $Z(this,e)},getInitialData:function(e,t){var n=e.data;function r(e){return!(isNaN(e.min)||isNaN(e.max)||isNaN(e.step))}function i(e){var t=qT.Rx.getPrecisionSafe;return Math.max(t(e.min),t(e.max),t(e.step))+1}if(!n)if(e.parametric){var a=e.parametricEquation||{},o=a.u||{},s=a.v||{};["u","v"].forEach((function(e){r(a[e])})),["x","y","z"].forEach((function(e){a[e]}));var u=Math.floor((o.max+o.step-o.min)/o.step),l=Math.floor((s.max+s.step-s.min)/s.step);n=new Float32Array(u*l*5);var c=i(o),d=i(s);for(S=0,C=0;C<l;C++)for(k=0;k<u;k++){var f=k*o.step+o.min,h=C*s.step+s.min,p=qT.Rx.round(Math.min(f,o.max),c),m=qT.Rx.round(Math.min(h,s.max),d);D=a.x(p,m),T=a.y(p,m),M=a.z(p,m);n[S++]=D,n[S++]=T,n[S++]=M,n[S++]=p,n[S++]=m}}else{var g=e.equation||{},v=g.x||{},y=g.y||{};if(["x","y"].forEach((function(e){r(g[e])})),"function"!==typeof g.z)return void 0;var x=Math.floor((v.max+v.step-v.min)/v.step),b=Math.floor((y.max+y.step-y.min)/y.step);n=new Float32Array(x*b*3);for(var w=i(v),_=i(y),S=0,C=0;C<b;C++)for(var k=0;k<x;k++){var D=k*v.step+v.min,T=C*y.step+y.min,I=qT.Rx.round(Math.min(D,v.max),w),A=qT.Rx.round(Math.min(T,y.max),_),M=g.z(I,A);n[S++]=I,n[S++]=A,n[S++]=M}}var E=["x","y","z"];return e.parametric&&E.push("u","v"),eB(this,E,n)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,shading:"lambert",parametric:!1,wireframe:{show:!0,lineStyle:{color:"rgba(0,0,0,0.5)",width:1}},equation:{x:{min:-1,max:1,step:.1},y:{min:-1,max:1,step:.1},z:null},parametricEquation:{u:{min:-1,max:1,step:.1},v:{min:-1,max:1,step:.1},x:null,y:null,z:null},dataShape:null,itemStyle:{},animationDurationUpdate:500}});qT.D5.merge(QB.prototype,zL);var JB=QB,$B=FP.vec3;var ez=qT.TA.extend({type:"surface",__ecgl__:!0,init:function(e,t){this.groupGL=new dP.Node},render:function(e,t,n){var r=this._prevSurfaceMesh;this._prevSurfaceMesh=this._surfaceMesh,this._surfaceMesh=r,this._surfaceMesh||(this._surfaceMesh=this._createSurfaceMesh()),this.groupGL.remove(this._prevSurfaceMesh),this.groupGL.add(this._surfaceMesh);var i=e.coordinateSystem,a=e.get("shading"),o=e.getData(),s="ecgl."+a;if(this._surfaceMesh.material&&this._surfaceMesh.material.shader.name===s||(this._surfaceMesh.material=dP.createMaterial(s,["VERTEX_COLOR","DOUBLE_SIDED"])),dP.setMaterialFromModel(a,this._surfaceMesh.material,e,n),i&&i.viewGL){i.viewGL.add(this.groupGL);var u=i.viewGL.isLinearSpace()?"define":"undefine";this._surfaceMesh.material[u]("fragment","SRGB_DECODE")}var l=e.get("parametric"),c=e.get("dataShape");c||(c=this._getDataShape(o,l));var d=e.getModel("wireframe"),f=d.get("lineStyle.width"),h=d.get("show")&&f>0;this._updateSurfaceMesh(this._surfaceMesh,e,c,h);var p=this._surfaceMesh.material;h?(p.define("WIREFRAME_QUAD"),p.set("wireframeLineWidth",f),p.set("wireframeLineColor",dP.parseColor(d.get("lineStyle.color")))):p.undefine("WIREFRAME_QUAD"),this._initHandler(e,n),this._updateAnimation(e)},_updateAnimation:function(e){dP.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevSurfaceMesh,this._surfaceMesh,e)},_createSurfaceMesh:function(){var e=new dP.Mesh({geometry:new dP.Geometry({dynamic:!0,sortTriangles:!0}),shadowDepthMaterial:new dP.Material({shader:new dP.Shader(dP.Shader.source("ecgl.sm.depth.vertex"),dP.Shader.source("ecgl.sm.depth.fragment"))}),culling:!1,renderOrder:10,renderNormal:!0});return e.geometry.createAttribute("barycentric","float",4),e.geometry.createAttribute("prevPosition","float",3),e.geometry.createAttribute("prevNormal","float",3),Object.assign(e.geometry,SF),e},_initHandler:function(e,t){var n=e.getData(),r=this._surfaceMesh,i=e.coordinateSystem;r.seriesIndex=e.seriesIndex;var a=-1;r.off("mousemove"),r.off("mouseout"),r.on("mousemove",(function(e){var o=function(e,t){for(var n=1/0,i=-1,a=[],o=0;o<e.length;o++){r.geometry.attributes.position.get(e[o],a);var s=$B.dist(t.array,a);s<n&&(n=s,i=e[o])}return i}(e.triangle,e.point);if(o>=0){var s=[];r.geometry.attributes.position.get(o,s);for(var u=i.pointToData(s),l=1/0,c=-1,d=[],f=0;f<n.count();f++){d[0]=n.get("x",f),d[1]=n.get("y",f),d[2]=n.get("z",f);var h=$B.squaredDistance(d,u);h<l&&(c=f,l=h)}c!==a&&t.dispatchAction({type:"grid3DShowAxisPointer",value:u}),a=c,r.dataIndex=c}else r.dataIndex=-1}),this),r.on("mouseout",(function(e){a=-1,r.dataIndex=-1,t.dispatchAction({type:"grid3DHideAxisPointer"})}),this)},_updateSurfaceMesh:function(e,t,n,r){var i=e.geometry,a=t.getData(),o=a.getLayout("points"),s=0;a.each((function(e){a.hasValue(e)||s++}));var u=s||r,l=i.attributes.position,c=i.attributes.normal,d=i.attributes.texcoord0,f=i.attributes.barycentric,h=i.attributes.color,p=n[0],m=n[1],g="color"!==t.get("shading");if(u){var v=(p-1)*(m-1)*4;l.init(v),r&&f.init(v)}else l.value=new Float32Array(o);h.init(i.vertexCount),d.init(i.vertexCount);var y,x=[0,3,1,1,3,2],b=[[1,1,0,0],[0,1,0,1],[1,0,0,1],[1,0,1,0]],w=i.indices=new(i.vertexCount>65535?Uint32Array:Uint16Array)((p-1)*(m-1)*6),_=function(e,t,n){n[1]=e*m+t,n[0]=e*m+t+1,n[3]=(e+1)*m+t+1,n[2]=(e+1)*m+t},S=!1;if(u){var C=[],k=[],D=0;g?c.init(i.vertexCount):c.value=null;for(var T=[[],[],[]],I=[],A=[],M=$B.create(),E=function(e,t,n){var r=3*t;return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n},N=new Float32Array(o.length),R=new Float32Array(o.length/3*4),P=0;P<a.count();P++)if(a.hasValue(P)){var O=dP.parseColor(CF(a,P));null!=(G=kF(a,P))&&(O[3]*=G),O[3]<.99&&(S=!0);for(var L=0;L<4;L++)R[4*P+L]=O[L]}var F=[1e7,1e7,1e7];for(P=0;P<p-1;P++)for(var Z=0;Z<m-1;Z++){var B=4*(P*(m-1)+Z);_(P,Z,C);var z=!1;for(L=0;L<4;L++)E(o,C[L],k),y=k,(isNaN(y[0])||isNaN(y[1])||isNaN(y[2]))&&(z=!0);for(L=0;L<4;L++)z?l.set(B+L,F):(E(o,C[L],k),l.set(B+L,k)),r&&f.set(B+L,b[L]);for(L=0;L<6;L++)w[D++]=x[L]+B;if(g&&!z)for(L=0;L<2;L++){for(var V=3*L,j=0;j<3;j++){E(o,H=C[x[V]+j],T[j])}$B.sub(I,T[0],T[1]),$B.sub(A,T[1],T[2]),$B.cross(M,I,A);for(j=0;j<3;j++){var W=3*C[x[V]+j];N[W]=N[W]+M[0],N[W+1]=N[W+1]+M[1],N[W+2]=N[W+2]+M[2]}}}if(g)for(P=0;P<N.length/3;P++)E(N,P,M),$B.normalize(M,M),N[3*P]=M[0],N[3*P+1]=M[1],N[3*P+2]=M[2];O=[];var U=[];for(P=0;P<p-1;P++)for(Z=0;Z<m-1;Z++){B=4*(P*(m-1)+Z);_(P,Z,C);for(L=0;L<4;L++){for(j=0;j<4;j++)O[j]=R[4*C[L]+j];h.set(B+L,O),g&&(E(N,C[L],M),c.set(B+L,M));var H=C[L];U[0]=H%m/(m-1),U[1]=Math.floor(H/m)/(p-1),d.set(B+L,U)}0}}else{for(U=[],P=0;P<a.count();P++){U[0]=P%m/(m-1),U[1]=Math.floor(P/m)/(p-1);var G;O=dP.parseColor(CF(a,P));null!=(G=kF(a,P))&&(O[3]*=G),O[3]<.99&&(S=!0),h.set(P,O),d.set(P,U)}C=[];var X=0;for(P=0;P<p-1;P++)for(Z=0;Z<m-1;Z++){_(P,Z,C);for(L=0;L<6;L++)w[X++]=C[x[L]]}g?i.generateVertexNormals():c.value=null}e.material.get("normalMap")&&i.generateTangents(),i.updateBoundingBox(),i.dirty(),e.material.transparent=S,e.material.depthMask=!S},_getDataShape:function(e,t){for(var n=-1/0,r=0,i=0,a=!1,o=t?"u":"x",s=e.count(),u=0;u<s;u++){var l=e.get(o,u);l<n&&(i,i=0,r++),n=l,i++}if(r&&1!==i||(a=!0),!a)return[r+1,i];for(var c=Math.floor(Math.sqrt(s));c>0;){if(Math.floor(s/c)===s/c)return[c,s/c];c--}return[c=Math.floor(Math.sqrt(s)),c]},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function tz(e,t){for(var n=[],r=0;r<t.length;r++)n.push(e.dataToPoint(t[r]));return n}(0,qT.D$)((function(e){e.registerChartView(ez),e.registerSeriesModel(JB),e.registerLayout((function(e,t){e.eachSeriesByType("surface",(function(e){var t=e.coordinateSystem;t&&t.type;var n=e.getData(),r=new Float32Array(3*n.count()),i=[NaN,NaN,NaN];if(t&&"cartesian3D"===t.type){var a=t.dimensions.map((function(t){return e.coordDimToDataDim(t)[0]}));n.each(a,(function(e,a,o,s){var u;u=n.hasValue(s)?t.dataToPoint([e,a,o]):i,r[3*s]=u[0],r[3*s+1]=u[1],r[3*s+2]=u[2]}))}n.setLayout("points",r)}))}))}));var nz=qT.wJ.extend({type:"series.map3D",layoutMode:"box",coordinateSystem:null,visualStyleAccessPath:"itemStyle",optionUpdated:function(e){e=e||{};var t=this.get("coordinateSystem");null!=t&&"geo3D"!==t&&(this.get("groundPlane.show")&&(this.option.groundPlane.show=!1),this._geo=null)},getInitialData:function(e){e.data=this.getFilledRegions(e.data,e.map);var t=qT._y.createDimensions(e.data,{coordDimensions:["value"]}),n=new qT.aV(t,this);n.initData(e.data);var r={};return n.each((function(e){var t=n.getName(e),i=n.getItemModel(e);r[t]=i})),this._regionModelMap=r,n},formatTooltip:function(e){return $Z(this,e)},getRegionModel:function(e){var t=this.getData().getName(e);return this._regionModelMap[t]||new qT.Hn(null,this)},getRegionPolygonCoords:function(e){var t=this.coordinateSystem,n=this.getData().getName(e);if(t.transform)return(r=t.getRegion(n))?r.geometries:[];this._geo||(this._geo=WF.createGeo3D(this));for(var r=this._geo.getRegion(n),i=[],a=0;a<r.geometries.length;a++){var o=r.geometries[a],s=[],u=tz(t,o.exterior);if(s&&s.length)for(var l=0;l<o.interiors.length;l++)s.push(tz(t,s[l]));i.push({interiors:s,exterior:u})}return i},getFormattedLabel:function(e,t){var n=JZ.getFormattedLabel(this,e,t);return null==n&&(n=this.getData().getName(e)),n},defaultOption:{coordinateSystem:"geo3D",data:null}});qT.D5.merge(nz.prototype,VL),qT.D5.merge(nz.prototype,kP),qT.D5.merge(nz.prototype,DP),qT.D5.merge(nz.prototype,TP),qT.D5.merge(nz.prototype,zL);var rz=nz,iz=qT.TA.extend({type:"map3D",__ecgl__:!0,init:function(e,t){this._geo3DBuilder=new MF(t),this.groupGL=new dP.Node},render:function(e,t,n){var r=e.coordinateSystem;if(r&&r.viewGL){if(this.groupGL.add(this._geo3DBuilder.rootNode),r.viewGL.add(this.groupGL),"geo3D"===r.type){r,this._sceneHelper||(this._sceneHelper=new GP,this._sceneHelper.initLight(this.groupGL)),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(e),r.viewGL.setPostEffect(e.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling"));var i=this._control;i||(i=this._control=new OP({zr:n.getZr()}),this._control.init());var a=e.getModel("viewControl");i.setViewGL(r.viewGL),i.setFromViewControlModel(a,0),i.off("update"),i.on("update",(function(){n.dispatchAction({type:"map3DChangeCamera",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),from:this.uid,map3DId:e.id})})),this._geo3DBuilder.extrudeY=!0}else this._control&&(this._control.dispose(),this._control=null),this._sceneHelper&&(this._sceneHelper.dispose(),this._sceneHelper=null),e.getData().getLayout("geo3D"),this._geo3DBuilder.extrudeY=!1;this._geo3DBuilder.update(e,t,n,0,e.getData().count());var o=r.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse((function(e){e.material&&e.material[o]("fragment","SRGB_DECODE")}))}},afterRender:function(e,t,n,r){var i=r.renderer,a=e.coordinateSystem;a&&"geo3D"===a.type&&(this._sceneHelper.updateAmbientCubemap(i,e,n),this._sceneHelper.updateSkybox(i,e,n))},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._geo3DBuilder.dispose()}});(0,qT.D$)((function(e){UF(e),e.registerChartView(iz),e.registerSeriesModel(rz),e.registerAction({type:"map3DChangeCamera",event:"map3dcamerachanged",update:"series:updateCamera"},(function(e,t){t.eachComponent({mainType:"series",subType:"map3D",query:e},(function(t){t.setView(e)}))}))}));var az=qT.wJ.extend({type:"series.scatterGL",dependencies:["grid","polar","geo","singleAxis"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(){return qT._y.createList(this)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,progressive:1e5,progressiveThreshold:1e5,large:!1,symbol:"circle",symbolSize:10,zoomScale:0,blendMode:"source-over",itemStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}}),oz=n(21432),sz=n(75784);function uz(e){this.viewGL=e}uz.prototype.reset=function(e,t){this._updateCamera(t.getWidth(),t.getHeight(),t.getDevicePixelRatio()),this._viewTransform=oz.create(),this.updateTransform(e,t)},uz.prototype.updateTransform=function(e,t){var n=e.coordinateSystem;n.getRoamTransform&&(oz.invert(this._viewTransform,n.getRoamTransform()),this._setCameraTransform(this._viewTransform),t.getZr().refresh())},uz.prototype.dataToPoint=function(e,t,n){n=e.dataToPoint(t,null,n);var r=this._viewTransform;r&&sz.applyTransform(n,n,r)},uz.prototype.removeTransformInPoint=function(e){return this._viewTransform&&sz.applyTransform(e,e,this._viewTransform),e},uz.prototype.getZoom=function(){if(this._viewTransform){var e=this._viewTransform;return 1/Math.max(Math.sqrt(e[0]*e[0]+e[1]*e[1]),Math.sqrt(e[2]*e[2]+e[3]*e[3]))}return 1},uz.prototype._setCameraTransform=function(e){var t=this.viewGL.camera;t.position.set(e[4],e[5],0),t.scale.set(Math.sqrt(e[0]*e[0]+e[1]*e[1]),Math.sqrt(e[2]*e[2]+e[3]*e[3]),1)},uz.prototype._updateCamera=function(e,t,n){this.viewGL.setViewport(0,0,e,t,n);var r=this.viewGL.camera;r.left=r.top=0,r.bottom=t,r.right=e,r.near=0,r.far=100};var lz=uz,cz=qT.TA.extend({type:"scatterGL",__ecgl__:!0,init:function(e,t){this.groupGL=new dP.Node,this.viewGL=new kL("orthographic"),this.viewGL.add(this.groupGL),this._pointsBuilderList=[],this._currentStep=0,this._sizeScale=1,this._glViewHelper=new lz(this.viewGL)},render:function(e,t,n){if(this.groupGL.removeAll(),this._glViewHelper.reset(e,n),e.getData().count()){var r=this._pointsBuilderList[0];r||(r=this._pointsBuilderList[0]=new SB(!0,n)),this._pointsBuilderList.length=1,this.groupGL.add(r.rootNode),this._removeTransformInPoints(e.getData().getLayout("points")),r.update(e,t,n),this.viewGL.setPostEffect(e.getModel("postEffect"),n)}},incrementalPrepareRender:function(e,t,n){this.groupGL.removeAll(),this._glViewHelper.reset(e,n),this._currentStep=0,this.viewGL.setPostEffect(e.getModel("postEffect"),n)},incrementalRender:function(e,t,n,r){if(!(e.end<=e.start)){var i=this._pointsBuilderList[this._currentStep];i||(i=new SB(!0,r),this._pointsBuilderList[this._currentStep]=i),this.groupGL.add(i.rootNode),this._removeTransformInPoints(t.getData().getLayout("points")),i.setSizeScale(this._sizeScale),i.update(t,n,r,e.start,e.end),r.getZr().refresh(),this._currentStep++}},updateTransform:function(e,t,n){if(e.coordinateSystem.getRoamTransform){this._glViewHelper.updateTransform(e,n);var r=this._glViewHelper.getZoom(),i=Math.max((e.get("zoomScale")||0)*(r-1)+1,0);this._sizeScale=i,this._pointsBuilderList.forEach((function(e){e.setSizeScale(i)}))}},_removeTransformInPoints:function(e){if(e)for(var t=[],n=0;n<e.length;n+=2)t[0]=e[n],t[1]=e[n+1],this._glViewHelper.removeTransformInPoint(t),e[n]=t[0],e[n+1]=t[1]},dispose:function(){this.groupGL.removeAll(),this._pointsBuilderList.forEach((function(e){e.dispose()}))},remove:function(){this.groupGL.removeAll()}});(0,qT.D$)((function(e){e.registerChartView(cz),e.registerSeriesModel(az),e.registerLayout({seriesType:"scatterGL",reset:function(e){var t,n=e.coordinateSystem,r=e.getData();if(n){var i=n.dimensions.map((function(e){return r.mapDimension(e)})).slice(0,2),a=[];1===i.length?t=function(e){for(var t=new Float32Array(2*(e.end-e.start)),a=e.start;a<e.end;a++){var o=2*(a-e.start),s=r.get(i[0],a),u=n.dataToPoint(s);t[o]=u[0],t[o+1]=u[1]}r.setLayout("points",t)}:2===i.length&&(t=function(e){for(var t=new Float32Array(2*(e.end-e.start)),o=e.start;o<e.end;o++){var s=2*(o-e.start),u=r.get(i[0],o),l=r.get(i[1],o);a[0]=u,a[1]=l,a=n.dataToPoint(a),t[s]=a[0],t[s+1]=a[1]}r.setLayout("points",t)})}return{progress:t}}})}));var dz=n(15719),fz=n(53684).Z;var hz=qT.wJ.extend({type:"series.graphGL",visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,init:function(e){hz.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this._updateCategoriesData()},mergeOption:function(e){hz.superApply(this,"mergeOption",arguments),this._updateCategoriesData()},getFormattedLabel:function(e,t,n,r){var i=JZ.getFormattedLabel(this,e,t,n,r);if(null==i){var a=this.getData(),o=a.dimensions[a.dimensions.length-1];i=a.get(o,e)}return i},getInitialData:function(e,t){var n=e.edges||e.links||[],r=e.data||e.nodes||[],i=this;if(r&&n)return function(e,t,n,r,i){for(var a=new dz.ZP(r),o=0;o<e.length;o++)a.addNode(MR.firstNotNull(e[o].id,e[o].name,o),o);var s,u=[],l=[],c=0;for(o=0;o<t.length;o++){var d=t[o],f=d.source,h=d.target;a.addEdge(f,h,c)&&(l.push(d),u.push(MR.firstNotNull(d.id,f+" > "+h)),c++)}var p=qT._y.createDimensions(e,{coordDimensions:["value"]});(s=new qT.aV(p,n)).initData(e);var m=new qT.aV(["value"],n);return m.initData(l,u),i&&i(s,m),fz({mainData:s,struct:a,structAttr:"graph",datas:{node:s,edge:m},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}(r,n,this,!0,(function(e,n){e.wrapMethod("getItemModel",(function(e){var t=i._categoriesModels[e.getShallow("category")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e}));var r=t.getModel([]).getModel;function a(e,t){var n=r.call(this,e,t);return n.resolveParentPath=o,n}function o(e){if(e&&("label"===e[0]||"label"===e[1])){var t=e.slice();return"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t}return e}n.wrapMethod("getItemModel",(function(e){return e.resolveParentPath=o,e.getModel=a,e}))})).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,n){if("edge"===n){var r=this.getData(),i=this.getDataParams(e,n),a=r.graph.getEdgeByIndex(e),o=r.getName(a.node1.dataIndex),s=r.getName(a.node2.dataIndex),u=[];return null!=o&&u.push(o),null!=s&&u.push(s),u=qT.WU.encodeHTML(u.join(" > ")),i.value&&(u+=" : "+qT.WU.encodeHTML(i.value)),u}return hz.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=(this.option.categories||[]).map((function(e){return null!=e.value?e:Object.assign({value:0},e)})),t=new qT.aV(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e,!0)}))},setView:function(e){null!=e.zoom&&(this.option.zoom=e.zoom),null!=e.offset&&(this.option.offset=e.offset)},setNodePosition:function(e){for(var t=0;t<e.length/2;t++){var n=e[2*t],r=e[2*t+1],i=this.getData().getRawDataItem(t);i.x=n,i.y=r}},isAnimationEnabled:function(){return hz.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:10,z:2,legendHoverLink:!0,layout:"forceAtlas2",forceAtlas2:{initLayout:null,GPU:!0,steps:1,maxSteps:1e3,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,edgeWeightInfluence:1,edgeWeight:[1,4],nodeWeight:[1,4],preventOverlap:!1,gravityCenter:null},focusNodeAdjacency:!0,focusNodeAdjacencyOn:"mouseover",left:"center",top:"center",symbol:"circle",symbolSize:5,roam:!1,center:null,zoom:1,label:{show:!1,formatter:"{b}",position:"right",distance:5,textStyle:{fontSize:14}},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}},animation:!1}}),pz=hz,mz=FP.vec2,gz=[[0,0],[1,1]],vz=GE.extend((function(){return{segmentScale:4,dynamic:!0,useNativeLine:!0,attributes:{position:new GE.Attribute("position","float",2,"POSITION"),normal:new GE.Attribute("normal","float",2),offset:new GE.Attribute("offset","float",1),color:new GE.Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(e){var t=this.attributes;this.vertexCount!==e&&(t.position.init(e),t.color.init(e),this.useNativeLine||(t.offset.init(e),t.normal.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(e){this.triangleCount!==e&&(this.indices=0===e?null:this.vertexCount>65535?new Uint32Array(3*e):new Uint16Array(3*e))},_getCubicCurveApproxStep:function(e,t,n,r){return 1/(mz.dist(e,t)+mz.dist(n,t)+mz.dist(r,n)+1)*this.segmentScale},getCubicCurveVertexCount:function(e,t,n,r){var i=this._getCubicCurveApproxStep(e,t,n,r),a=Math.ceil(1/i);return this.useNativeLine?2*a:2*a+2},getCubicCurveTriangleCount:function(e,t,n,r){var i=this._getCubicCurveApproxStep(e,t,n,r),a=Math.ceil(1/i);return this.useNativeLine?0:2*a},getLineVertexCount:function(){return this.getPolylineVertexCount(gz)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(gz)},getPolylineVertexCount:function(e){var t;"number"===typeof e?t=e:t="number"!==typeof e[0]?e.length:e.length/2;return this.useNativeLine?2*(t-1):2*(t-1)+2},getPolylineTriangleCount:function(e){var t;"number"===typeof e?t=e:t="number"!==typeof e[0]?e.length:e.length/2;return this.useNativeLine?0:2*(t-1)},addCubicCurve:function(e,t,n,r,i,a){null==a&&(a=1);var o=e[0],s=e[1],u=t[0],l=t[1],c=n[0],d=n[1],f=r[0],h=r[1],p=this._getCubicCurveApproxStep(e,t,n,r),m=p*p,g=m*p,v=3*p,y=3*m,x=6*m,b=6*g,w=o-2*u+c,_=s-2*l+d,S=3*(u-c)-o+f,C=3*(l-d)-s+h,k=o,D=s,T=(u-o)*v+w*y+S*g,I=(l-s)*v+_*y+C*g,A=w*x+S*b,M=_*x+C*b,E=S*b,N=C*b,R=0,P=0,O=Math.ceil(1/p),L=new Float32Array(3*(O+1)),F=(L=[],0);for(P=0;P<O+1;P++)L[F++]=k,L[F++]=D,k+=T,D+=I,T+=A,I+=M,A+=E,M+=N,(R+=p)>1&&(k=T>0?Math.min(k,f):Math.max(k,f),D=I>0?Math.min(D,h):Math.max(D,h));this.addPolyline(L,i,a)},addLine:function(e,t,n,r){this.addPolyline([e,t],n,r)},addPolyline:function(){var e=mz.create(),t=mz.create(),n=mz.create(),r=mz.create(),i=[],a=[],o=[];return function(s,u,l,c,d){if(s.length){var f="number"!==typeof s[0];if(null==d&&(d=f?s.length:s.length/2),!(d<2)){null==c&&(c=0),null==l&&(l=1),this._itemVertexOffsets.push(this._vertexOffset);for(var h,p=f?"number"!==typeof u[0]:u.length/4===d,m=this.attributes.position,g=this.attributes.color,v=this.attributes.offset,y=this.attributes.normal,x=this.indices,b=this._vertexOffset,w=0;w<d;w++){if(f)i=s[w+c],h=p?u[w+c]:u;else{var _=2*w+c;if((i=i||[])[0]=s[_],i[1]=s[_+1],p){var S=4*w+c;(h=h||[])[0]=u[S],h[1]=u[S+1],h[2]=u[S+2],h[3]=u[S+3]}else h=u}if(this.useNativeLine)w>1&&(m.copy(b,b-1),g.copy(b,b-1),b++);else{var C;if(w<d-1){if(f)mz.copy(a,s[w+1]);else{_=2*(w+1)+c;(a=a||[])[0]=s[_],a[1]=s[_+1]}if(w>0){mz.sub(e,i,o),mz.sub(t,a,i),mz.normalize(e,e),mz.normalize(t,t),mz.add(r,e,t),mz.normalize(r,r);var k=l/2*Math.min(1/mz.dot(e,r),2);n[0]=-r[1],n[1]=r[0],C=k}else mz.sub(e,a,i),mz.normalize(e,e),n[0]=-e[1],n[1]=e[0],C=l/2}else mz.sub(e,i,o),mz.normalize(e,e),n[0]=-e[1],n[1]=e[0],C=l/2;y.set(b,n),y.set(b+1,n),v.set(b,C),v.set(b+1,-C),mz.copy(o,i),m.set(b,i),m.set(b+1,i),g.set(b,h),g.set(b+1,h),b+=2}if(this.useNativeLine)g.set(b,h),m.set(b,i),b++;else if(w>0){var D=3*this._faceOffset;(x=this.indices)[D]=b-4,x[D+1]=b-3,x[D+2]=b-2,x[D+3]=b-3,x[D+4]=b-1,x[D+5]=b-2,this._faceOffset+=2}}this._vertexOffset=b}}}}(),setItemColor:function(e,t){for(var n=this._itemVertexOffsets[e],r=e<this._itemVertexOffsets.length-1?this._itemVertexOffsets[e+1]:this._vertexOffset,i=n;i<r;i++)this.attributes.color.set(i,t);this.dirty("color")}});qT.D5.defaults(vz.prototype,LP);var yz=vz;dP.Shader.import("@export ecgl.forceAtlas2.updateNodeRepulsion\n\n#define NODE_COUNT 0\n\nuniform sampler2D positionTex;\n\nuniform vec2 textureSize;\nuniform float gravity;\nuniform float scaling;\nuniform vec2 gravityCenter;\n\nuniform bool strongGravityMode;\nuniform bool preventOverlap;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, v_Texcoord);\n\n vec2 force = vec2(0.0);\n for (int i = 0; i < NODE_COUNT; i++) {\n vec2 uv = vec2(\n mod(float(i), textureSize.x) / (textureSize.x - 1.0),\n floor(float(i) / textureSize.x) / (textureSize.y - 1.0)\n );\n vec4 n1 = texture2D(positionTex, uv);\n\n vec2 dir = n0.xy - n1.xy;\n float d2 = dot(dir, dir);\n\n if (d2 > 0.0) {\n float factor = 0.0;\n if (preventOverlap) {\n float d = sqrt(d2);\n d = d - n0.w - n1.w;\n if (d > 0.0) {\n factor = scaling * n0.z * n1.z / (d * d);\n }\n else if (d < 0.0) {\n factor = scaling * 100.0 * n0.z * n1.z;\n }\n }\n else {\n factor = scaling * n0.z * n1.z / d2;\n }\n force += dir * factor;\n }\n }\n\n vec2 dir = gravityCenter - n0.xy;\n float d = 1.0;\n if (!strongGravityMode) {\n d = length(dir);\n }\n\n force += dir * n0.z * gravity / (d + 1.0);\n\n gl_FragColor = vec4(force, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.vertex\n\nattribute vec2 node1;\nattribute vec2 node2;\nattribute float weight;\n\nuniform sampler2D positionTex;\nuniform float edgeWeightInfluence;\nuniform bool preventOverlap;\nuniform bool linLogMode;\n\nuniform vec2 windowSize: WINDOW_SIZE;\n\nvarying vec2 v_Force;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, node1);\n vec4 n1 = texture2D(positionTex, node2);\n\n vec2 dir = n1.xy - n0.xy;\n float d = length(dir);\n float w;\n if (edgeWeightInfluence == 0.0) {\n w = 1.0;\n }\n else if (edgeWeightInfluence == 1.0) {\n w = weight;\n }\n else {\n w = pow(weight, edgeWeightInfluence);\n }\n vec2 offset = vec2(1.0 / windowSize.x, 1.0 / windowSize.y);\n vec2 scale = vec2((windowSize.x - 1.0) / windowSize.x, (windowSize.y - 1.0) / windowSize.y);\n vec2 pos = node1 * scale * 2.0 - 1.0;\n gl_Position = vec4(pos + offset, 0.0, 1.0);\n gl_PointSize = 1.0;\n\n float factor;\n if (preventOverlap) {\n d = d - n1.w - n0.w;\n }\n if (d <= 0.0) {\n v_Force = vec2(0.0);\n return;\n }\n\n if (linLogMode) {\n factor = w * log(d) / d;\n }\n else {\n factor = w;\n }\n v_Force = dir * factor;\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.fragment\n\nvarying vec2 v_Force;\n\nvoid main() {\n gl_FragColor = vec4(v_Force, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.vertex\n\nattribute vec2 node;\n\nvarying vec2 v_NodeUv;\n\nvoid main() {\n\n v_NodeUv = node;\n gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n gl_PointSize = 1.0;\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.fragment\n\nvarying vec2 v_NodeUv;\n\nuniform sampler2D positionTex;\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_NodeUv).rg;\n vec2 forcePrev = texture2D(forcePrevTex, v_NodeUv).rg;\n\n float mass = texture2D(positionTex, v_NodeUv).z;\n float swing = length(force - forcePrev) * mass;\n float traction = length(force + forcePrev) * 0.5 * mass;\n\n gl_FragColor = vec4(swing, traction, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcGlobalSpeed\n\nuniform sampler2D globalSpeedPrevTex;\nuniform sampler2D weightedSumTex;\nuniform float jitterTolerence;\n\nvoid main() {\n vec2 weightedSum = texture2D(weightedSumTex, vec2(0.5)).xy;\n float prevGlobalSpeed = texture2D(globalSpeedPrevTex, vec2(0.5)).x;\n float globalSpeed = jitterTolerence * jitterTolerence\n * weightedSum.y / weightedSum.x;\n if (prevGlobalSpeed > 0.0) {\n globalSpeed = min(globalSpeed / prevGlobalSpeed, 1.5) * prevGlobalSpeed;\n }\n gl_FragColor = vec4(globalSpeed, 0.0, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updatePosition\n\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\nuniform sampler2D positionTex;\nuniform sampler2D globalSpeedTex;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_Texcoord).xy;\n vec2 forcePrev = texture2D(forcePrevTex, v_Texcoord).xy;\n vec4 node = texture2D(positionTex, v_Texcoord);\n\n float globalSpeed = texture2D(globalSpeedTex, vec2(0.5)).r;\n float swing = length(force - forcePrev);\n float speed = 0.1 * globalSpeed / (0.1 + globalSpeed * sqrt(swing));\n\n float df = length(force);\n if (df > 0.0) {\n speed = min(df * speed, 10.0) / df;\n\n gl_FragColor = vec4(node.xy + speed * force, node.zw);\n }\n else {\n gl_FragColor = node;\n }\n}\n@end\n\n@export ecgl.forceAtlas2.edges.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 node;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nuniform sampler2D positionTex;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(\n texture2D(positionTex, node).xy, -10.0, 1.0\n );\n v_Color = a_Color;\n}\n@end\n\n@export ecgl.forceAtlas2.edges.fragment\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nvarying vec4 v_Color;\nvoid main() {\n gl_FragColor = color * v_Color;\n}\n@end");var xz={repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null};function bz(e){var t={type:dP.Texture.FLOAT,minFilter:dP.Texture.NEAREST,magFilter:dP.Texture.NEAREST};this._positionSourceTex=new dP.Texture2D(t),this._positionSourceTex.flipY=!1,this._positionTex=new dP.Texture2D(t),this._positionPrevTex=new dP.Texture2D(t),this._forceTex=new dP.Texture2D(t),this._forcePrevTex=new dP.Texture2D(t),this._weightedSumTex=new dP.Texture2D(t),this._weightedSumTex.width=this._weightedSumTex.height=1,this._globalSpeedTex=new dP.Texture2D(t),this._globalSpeedPrevTex=new dP.Texture2D(t),this._globalSpeedTex.width=this._globalSpeedTex.height=1,this._globalSpeedPrevTex.width=this._globalSpeedPrevTex.height=1,this._nodeRepulsionPass=new gR({fragment:dP.Shader.source("ecgl.forceAtlas2.updateNodeRepulsion")}),this._positionPass=new gR({fragment:dP.Shader.source("ecgl.forceAtlas2.updatePosition")}),this._globalSpeedPass=new gR({fragment:dP.Shader.source("ecgl.forceAtlas2.calcGlobalSpeed")}),this._copyPass=new gR({fragment:dP.Shader.source("clay.compositor.output")});var n=function(e){e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE)};this._edgeForceMesh=new dP.Mesh({geometry:new dP.Geometry({attributes:{node1:new dP.Geometry.Attribute("node1","float",2),node2:new dP.Geometry.Attribute("node2","float",2),weight:new dP.Geometry.Attribute("weight","float",1)},dynamic:!0,mainAttribute:"node1"}),material:new dP.Material({transparent:!0,shader:dP.createShader("ecgl.forceAtlas2.updateEdgeAttraction"),blend:n,depthMask:!1,depthText:!1}),mode:dP.Mesh.POINTS}),this._weightedSumMesh=new dP.Mesh({geometry:new dP.Geometry({attributes:{node:new dP.Geometry.Attribute("node","float",2)},dynamic:!0,mainAttribute:"node"}),material:new dP.Material({transparent:!0,shader:dP.createShader("ecgl.forceAtlas2.calcWeightedSum"),blend:n,depthMask:!1,depthText:!1}),mode:dP.Mesh.POINTS}),this._framebuffer=new FN({depthBuffer:!1}),this._dummyCamera=new dP.OrthographicCamera({left:-1,right:1,top:1,bottom:-1,near:0,far:100}),this._globalSpeed=0}bz.prototype.updateOption=function(e){for(var t in xz)this[t]=xz[t];var n=this._nodes.length;if(this.jitterTolerence=n>5e4?10:n>5e3?1:.1,this.scaling=n>100?2:10,e)for(var t in xz)null!=e[t]&&(this[t]=e[t]);if(this.repulsionByDegree)for(var r=this._positionSourceTex.pixels,i=0;i<this._nodes.length;i++)r[4*i+2]=(this._nodes[i].degree||0)+1},bz.prototype._updateGravityCenter=function(e){var t=this._nodes,n=this._edges;if(this.gravityCenter)this._gravityCenter=this.gravityCenter;else{for(var r=[1/0,1/0],i=[-1/0,-1/0],a=0;a<t.length;a++)r[0]=Math.min(t[a].x,r[0]),r[1]=Math.min(t[a].y,r[1]),i[0]=Math.max(t[a].x,i[0]),i[1]=Math.max(t[a].y,i[1]);this._gravityCenter=[.5*(r[0]+i[0]),.5*(r[1]+i[1])]}for(a=0;a<n.length;a++){var o=n[a].node1,s=n[a].node2;t[o].degree=(t[o].degree||0)+1,t[s].degree=(t[s].degree||0)+1}},bz.prototype.initData=function(e,t){this._nodes=e,this._edges=t,this._updateGravityCenter();var n=Math.ceil(Math.sqrt(e.length)),r=n,i=new Float32Array(n*r*4);this._resize(n,r);for(var a=0,o=0;o<e.length;o++){var s=e[o];i[a++]=s.x||0,i[a++]=s.y||0,i[a++]=s.mass||1,i[a++]=s.size||1}this._positionSourceTex.pixels=i;var u=this._edgeForceMesh.geometry,l=t.length;u.attributes.node1.init(2*l),u.attributes.node2.init(2*l),u.attributes.weight.init(2*l);var c=[];for(o=0;o<t.length;o++){var d=u.attributes,f=t[o].weight;null==f&&(f=1),d.node1.set(o,this.getNodeUV(t[o].node1,c)),d.node2.set(o,this.getNodeUV(t[o].node2,c)),d.weight.set(o,f),d.node1.set(o+l,this.getNodeUV(t[o].node2,c)),d.node2.set(o+l,this.getNodeUV(t[o].node1,c)),d.weight.set(o+l,f)}var h=this._weightedSumMesh.geometry;h.attributes.node.init(e.length);for(o=0;o<e.length;o++)h.attributes.node.set(o,this.getNodeUV(o,c));u.dirty(),h.dirty(),this._nodeRepulsionPass.material.define("fragment","NODE_COUNT",e.length),this._nodeRepulsionPass.material.setUniform("textureSize",[n,r]),this._inited=!1,this._frame=0},bz.prototype.getNodes=function(){return this._nodes},bz.prototype.getEdges=function(){return this._edges},bz.prototype.step=function(e){this._inited||(this._initFromSource(e),this._inited=!0),this._frame++,this._framebuffer.attach(this._forceTex),this._framebuffer.bind(e);var t=this._nodeRepulsionPass;t.setUniform("strongGravityMode",this.strongGravityMode),t.setUniform("gravity",this.gravity),t.setUniform("gravityCenter",this._gravityCenter),t.setUniform("scaling",this.scaling),t.setUniform("preventOverlap",this.preventOverlap),t.setUniform("positionTex",this._positionPrevTex),t.render(e);var n=this._edgeForceMesh;n.material.set("linLogMode",this.linLogMode),n.material.set("edgeWeightInfluence",this.edgeWeightInfluence),n.material.set("preventOverlap",this.preventOverlap),n.material.set("positionTex",this._positionPrevTex),e.gl.enable(e.gl.BLEND),e.renderPass([n],this._dummyCamera),this._framebuffer.attach(this._weightedSumTex),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT),e.gl.enable(e.gl.BLEND);var r=this._weightedSumMesh;r.material.set("positionTex",this._positionPrevTex),r.material.set("forceTex",this._forceTex),r.material.set("forcePrevTex",this._forcePrevTex),e.renderPass([r],this._dummyCamera),this._framebuffer.attach(this._globalSpeedTex);var i=this._globalSpeedPass;i.setUniform("globalSpeedPrevTex",this._globalSpeedPrevTex),i.setUniform("weightedSumTex",this._weightedSumTex),i.setUniform("jitterTolerence",this.jitterTolerence),e.gl.disable(e.gl.BLEND),i.render(e);var a=this._positionPass;this._framebuffer.attach(this._positionTex),a.setUniform("globalSpeedTex",this._globalSpeedTex),a.setUniform("positionTex",this._positionPrevTex),a.setUniform("forceTex",this._forceTex),a.setUniform("forcePrevTex",this._forcePrevTex),a.render(e),this._framebuffer.unbind(e),this._swapTexture()},bz.prototype.update=function(e,t,n){null==t&&(t=1),t=Math.max(t,1);for(var r=0;r<t;r++)this.step(e);n&&n()},bz.prototype.getNodePositionTexture=function(){return this._inited?this._positionPrevTex:this._positionSourceTex},bz.prototype.getNodeUV=function(e,t){t=t||[];var n=this._positionTex.width,r=this._positionTex.height;return t[0]=e%n/(n-1),t[1]=Math.floor(e/n)/(r-1)||0,t},bz.prototype.getNodePosition=function(e,t){var n=this._positionArr,r=this._positionTex.width,i=this._positionTex.height,a=r*i;n&&n.length===4*a||(n=this._positionArr=new Float32Array(4*a)),this._framebuffer.bind(e),this._framebuffer.attach(this._positionPrevTex),e.gl.readPixels(0,0,r,i,e.gl.RGBA,e.gl.FLOAT,n),this._framebuffer.unbind(e),t||(t=new Float32Array(2*this._nodes.length));for(var o=0;o<this._nodes.length;o++)t[2*o]=n[4*o],t[2*o+1]=n[4*o+1];return t},bz.prototype.getTextureData=function(e,t){var n=this["_"+t+"Tex"],r=n.width,i=n.height;this._framebuffer.bind(e),this._framebuffer.attach(n);var a=new Float32Array(r*i*4);return e.gl.readPixels(0,0,r,i,e.gl.RGBA,e.gl.FLOAT,a),this._framebuffer.unbind(e),a},bz.prototype.getTextureSize=function(){return{width:this._positionTex.width,height:this._positionTex.height}},bz.prototype.isFinished=function(e){return this._frame>e},bz.prototype._swapTexture=function(){var e=this._positionPrevTex;this._positionPrevTex=this._positionTex,this._positionTex=e;e=this._forcePrevTex;this._forcePrevTex=this._forceTex,this._forceTex=e;e=this._globalSpeedPrevTex;this._globalSpeedPrevTex=this._globalSpeedTex,this._globalSpeedTex=e},bz.prototype._initFromSource=function(e){this._framebuffer.attach(this._positionPrevTex),this._framebuffer.bind(e),this._copyPass.setUniform("texture",this._positionSourceTex),this._copyPass.render(e),e.gl.clearColor(0,0,0,0),this._framebuffer.attach(this._forcePrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.attach(this._globalSpeedPrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.unbind(e)},bz.prototype._resize=function(e,t){["_positionSourceTex","_positionTex","_positionPrevTex","_forceTex","_forcePrevTex"].forEach((function(n){this[n].width=e,this[n].height=t,this[n].dirty()}),this)},bz.prototype.dispose=function(e){this._framebuffer.dispose(e),this._copyPass.dispose(e),this._nodeRepulsionPass.dispose(e),this._positionPass.dispose(e),this._globalSpeedPass.dispose(e),this._edgeForceMesh.geometry.dispose(e),this._weightedSumMesh.geometry.dispose(e),this._positionSourceTex.dispose(e),this._positionTex.dispose(e),this._positionPrevTex.dispose(e),this._forceTex.dispose(e),this._forcePrevTex.dispose(e),this._weightedSumTex.dispose(e),this._globalSpeedTex.dispose(e),this._globalSpeedPrevTex.dispose(e)};var wz=bz;var _z=function(){var e=function(){return new Float32Array(2)},t=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)},n=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)},r=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e},i=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},a=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},o=function(e,t){return e[0]=t[0],e[1]=t[1],e},s=function(e,t,n){return e[0]=t,e[1]=n,e};function u(){this.subRegions=[],this.nSubRegions=0,this.node=null,this.mass=0,this.centerOfMass=null,this.bbox=new Float32Array(4),this.size=0}var l=u.prototype;function c(){this.position=new Float32Array(2),this.force=e(),this.forcePrev=e(),this.mass=1,this.inDegree=0,this.outDegree=0}function d(e,t){this.source=e,this.target=t,this.weight=1}function f(){this.autoSettings=!0,this.barnesHutOptimize=!0,this.barnesHutTheta=1.5,this.repulsionByDegree=!0,this.linLogMode=!1,this.strongGravityMode=!1,this.gravity=1,this.scaling=1,this.edgeWeightInfluence=1,this.jitterTolerence=.1,this.preventOverlap=!1,this.dissuadeHubs=!1,this.rootRegion=new u,this.rootRegion.centerOfMass=e(),this.nodes=[],this.edges=[],this.bbox=new Float32Array(4),this.gravityCenter=null,this._massArr=null,this._swingingArr=null,this._sizeArr=null,this._globalSpeed=0}l.beforeUpdate=function(){for(var e=0;e<this.nSubRegions;e++)this.subRegions[e].beforeUpdate();this.mass=0,this.centerOfMass&&(this.centerOfMass[0]=0,this.centerOfMass[1]=0),this.nSubRegions=0,this.node=null},l.afterUpdate=function(){this.subRegions.length=this.nSubRegions;for(var e=0;e<this.nSubRegions;e++)this.subRegions[e].afterUpdate()},l.addNode=function(e){if(0===this.nSubRegions){if(null==this.node)return void(this.node=e);this._addNodeToSubRegion(this.node),this.node=null}this._addNodeToSubRegion(e),this._updateCenterOfMass(e)},l.findSubRegion=function(e,t){for(var n=0;n<this.nSubRegions;n++){var r=this.subRegions[n];if(r.contain(e,t))return r}},l.contain=function(e,t){return this.bbox[0]<=e&&this.bbox[2]>=e&&this.bbox[1]<=t&&this.bbox[3]>=t},l.setBBox=function(e,t,n,r){this.bbox[0]=e,this.bbox[1]=t,this.bbox[2]=n,this.bbox[3]=r,this.size=(n-e+r-t)/2},l._newSubRegion=function(){var e=this.subRegions[this.nSubRegions];return e||(e=new u,this.subRegions[this.nSubRegions]=e),this.nSubRegions++,e},l._addNodeToSubRegion=function(e){var t=this.findSubRegion(e.position[0],e.position[1]),n=this.bbox;if(!t){var r=(n[0]+n[2])/2,i=(n[1]+n[3])/2,a=(n[2]-n[0])/2,o=(n[3]-n[1])/2,s=e.position[0]>=r?1:0,u=e.position[1]>=i?1:0;(t=this._newSubRegion()).setBBox(s*a+n[0],u*o+n[1],(s+1)*a+n[0],(u+1)*o+n[1])}t.addNode(e)},l._updateCenterOfMass=function(e){null==this.centerOfMass&&(this.centerOfMass=new Float32Array(2));var t=this.centerOfMass[0]*this.mass,n=this.centerOfMass[1]*this.mass;t+=e.position[0]*e.mass,n+=e.position[1]*e.mass,this.mass+=e.mass,this.centerOfMass[0]=t/this.mass,this.centerOfMass[1]=n/this.mass};var h=f.prototype;h.initNodes=function(e,t,n){var r=t.length;this.nodes.length=0;for(var i="undefined"!=typeof n,a=0;a<r;a++){var o=new c;o.position[0]=e[2*a],o.position[1]=e[2*a+1],o.mass=t[a],i&&(o.size=n[a]),this.nodes.push(o)}this._massArr=t,this._swingingArr=new Float32Array(r),i&&(this._sizeArr=n)},h.initEdges=function(e,t){var n=e.length/2;this.edges.length=0;for(var r=0;r<n;r++){var i=e[2*r],a=e[2*r+1],o=this.nodes[i],s=this.nodes[a];if(!o||!s)return void console.error("Node not exists, try initNodes before initEdges");o.outDegree++,s.inDegree++;var u=new d(o,s);t&&(u.weight=t[r]),this.edges.push(u)}},h.updateSettings=function(){if(this.repulsionByDegree)for(var e=0;e<this.nodes.length;e++){(t=this.nodes[e]).mass=t.inDegree+t.outDegree+1}else for(e=0;e<this.nodes.length;e++){var t;(t=this.nodes[e]).mass=this._massArr[e]}},h.update=function(){var a=this.nodes.length;if(this.updateSettings(),this.updateBBox(),this.barnesHutOptimize){this.rootRegion.setBBox(this.bbox[0],this.bbox[1],this.bbox[2],this.bbox[3]),this.rootRegion.beforeUpdate();for(var u=0;u<a;u++)this.rootRegion.addNode(this.nodes[u]);this.rootRegion.afterUpdate()}for(u=0;u<a;u++){var l=this.nodes[u];o(l.forcePrev,l.force),s(l.force,0,0)}for(u=0;u<a;u++){var c=this.nodes[u];if(this.barnesHutOptimize)this.applyRegionToNodeRepulsion(this.rootRegion,c);else for(var d=u+1;d<a;d++){var f=this.nodes[d];this.applyNodeToNodeRepulsion(c,f,!1)}this.gravity>0&&(this.strongGravityMode?this.applyNodeStrongGravity(c):this.applyNodeGravity(c))}for(u=0;u<this.edges.length;u++)this.applyEdgeAttraction(this.edges[u]);var h=0,p=0,m=e();for(u=0;u<a;u++){l=this.nodes[u];h+=(v=t(l.force,l.forcePrev))*l.mass,i(m,l.force,l.forcePrev),p+=.5*n(m)*l.mass,this._swingingArr[u]=v}var g=this.jitterTolerence*this.jitterTolerence*p/h;this._globalSpeed>0&&(g=Math.min(g/this._globalSpeed,1.5)*this._globalSpeed),this._globalSpeed=g;for(u=0;u<a;u++){l=this.nodes[u];var v=this._swingingArr[u],y=.1*g/(1+g*Math.sqrt(v)),x=n(l.force);x>0&&(y=Math.min(x*y,10)/x,r(l.position,l.position,l.force,y))}},h.applyRegionToNodeRepulsion=function(){var t=e();return function(e,n){if(e.node)this.applyNodeToNodeRepulsion(e.node,n,!0);else{a(t,n.position,e.centerOfMass);var i=t[0]*t[0]+t[1]*t[1];if(i>this.barnesHutTheta*e.size*e.size){var o=this.scaling*n.mass*e.mass/i;r(n.force,n.force,t,o)}else for(var s=0;s<e.nSubRegions;s++)this.applyRegionToNodeRepulsion(e.subRegions[s],n)}}}(),h.applyNodeToNodeRepulsion=function(){var t=e();return function(e,n,i){if(e!=n){a(t,e.position,n.position);var o=t[0]*t[0]+t[1]*t[1];if(0!==o){var s;if(this.preventOverlap){var u=Math.sqrt(o);if((u=u-e.size-n.size)>0)s=this.scaling*e.mass*n.mass/(u*u);else{if(!(u<0))return;s=100*this.scaling*e.mass*n.mass}}else s=this.scaling*e.mass*n.mass/o;r(e.force,e.force,t,s),r(n.force,n.force,t,-s)}}}}(),h.applyEdgeAttraction=function(){var t=e();return function(e){var i=e.source,o=e.target;a(t,i.position,o.position);var s,u,l=n(t);s=0===this.edgeWeightInfluence?1:1===this.edgeWeightInfluence?e.weight:Math.pow(e.weight,this.edgeWeightInfluence),this.preventOverlap&&(l=l-i.size-o.size)<=0||(u=this.linLogMode?-s*Math.log(l+1)/(l+1):-s,r(i.force,i.force,t,u),r(o.force,o.force,t,-u))}}(),h.applyNodeGravity=function(){var t=e();return function(e){a(t,this.gravityCenter,e.position);var i=n(t);r(e.force,e.force,t,this.gravity*e.mass/(i+1))}}(),h.applyNodeStrongGravity=function(){var t=e();return function(e){a(t,this.gravityCenter,e.position),r(e.force,e.force,t,this.gravity*e.mass)}}(),h.updateBBox=function(){for(var e=1/0,t=1/0,n=-1/0,r=-1/0,i=0;i<this.nodes.length;i++){var a=this.nodes[i].position;e=Math.min(e,a[0]),t=Math.min(t,a[1]),n=Math.max(n,a[0]),r=Math.max(r,a[1])}this.bbox[0]=e,this.bbox[1]=t,this.bbox[2]=n,this.bbox[3]=r},h.getGlobalSpeed=function(){return this._globalSpeed};var p=null;self.onmessage=function(e){switch(e.data.cmd){case"init":(p=new f).initNodes(e.data.nodesPosition,e.data.nodesMass,e.data.nodesSize),p.initEdges(e.data.edges,e.data.edgesWeight);break;case"updateConfig":if(p)for(var t in e.data.config)p[t]=e.data.config[t];break;case"update":var n=e.data.steps;if(p){for(var r=0;r<n;r++)p.update();var i=p.nodes.length,a=new Float32Array(2*i);for(r=0;r<i;r++){var o=p.nodes[r];a[2*r]=o.position[0],a[2*r+1]=o.position[1]}self.postMessage({buffer:a.buffer,globalSpeed:p.getGlobalSpeed()},[a.buffer])}else{var s=new Float32Array;self.postMessage({buffer:s.buffer,globalSpeed:p.getGlobalSpeed()},[s.buffer])}}}},Sz=_z.toString();Sz=Sz.slice(Sz.indexOf("{")+1,Sz.lastIndexOf("}"));var Cz={barnesHutOptimize:!0,barnesHutTheta:1.5,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null},kz=function(e){for(var t in Cz)this[t]=Cz[t];if(e)for(var t in e)this[t]=e[t];this._nodes=[],this._edges=[],this._disposed=!1,this._positionTex=new RE({type:kE.FLOAT,flipY:!1,minFilter:kE.NEAREST,magFilter:kE.NEAREST})};kz.prototype.initData=function(e,t){var n=new Blob([Sz]),r=window.URL.createObjectURL(n);this._worker=new Worker(r),this._worker.onmessage=this._$onupdate.bind(this),this._nodes=e,this._edges=t,this._frame=0;for(var i=e.length,a=t.length,o=new Float32Array(2*i),s=new Float32Array(i),u=new Float32Array(i),l=new Float32Array(2*a),c=new Float32Array(a),d=0;d<e.length;d++){var f=e[d];o[2*d]=f.x,o[2*d+1]=f.y,s[d]=null==f.mass?1:f.mass,u[d]=null==f.size?1:f.size}for(d=0;d<t.length;d++){var h=t[d],p=h.node1,m=h.node2;l[2*d]=p,l[2*d+1]=m,c[d]=null==h.weight?1:h.weight}var g=Math.ceil(Math.sqrt(e.length)),v=g,y=new Float32Array(g*v*4),x=this._positionTex;x.width=g,x.height=v,x.pixels=y,this._worker.postMessage({cmd:"init",nodesPosition:o,nodesMass:s,nodesSize:u,edges:l,edgesWeight:c}),this._globalSpeed=1/0},kz.prototype.updateOption=function(e){var t={};for(var n in Cz)t[n]=Cz[n];var r=this._nodes,i=this._edges,a=r.length;if(t.jitterTolerence=a>5e4?10:a>5e3?1:.1,t.scaling=a>100?2:10,t.barnesHutOptimize=a>1e3,e)for(var n in Cz)null!=e[n]&&(t[n]=e[n]);if(!t.gravityCenter){for(var o=[1/0,1/0],s=[-1/0,-1/0],u=0;u<r.length;u++)o[0]=Math.min(r[u].x,o[0]),o[1]=Math.min(r[u].y,o[1]),s[0]=Math.max(r[u].x,s[0]),s[1]=Math.max(r[u].y,s[1]);t.gravityCenter=[.5*(o[0]+s[0]),.5*(o[1]+s[1])]}for(u=0;u<i.length;u++){var l=i[u].node1,c=i[u].node2;r[l].degree=(r[l].degree||0)+1,r[c].degree=(r[c].degree||0)+1}this._worker&&this._worker.postMessage({cmd:"updateConfig",config:t})},kz.prototype.update=function(e,t,n){null==t&&(t=1),t=Math.max(t,1),this._frame+=t,this._onupdate=n,this._worker&&this._worker.postMessage({cmd:"update",steps:Math.round(t)})},kz.prototype._$onupdate=function(e){if(!this._disposed){var t=new Float32Array(e.data.buffer);this._globalSpeed=e.data.globalSpeed,this._positionArr=t,this._updateTexture(t),this._onupdate&&this._onupdate()}},kz.prototype.getNodePositionTexture=function(){return this._positionTex},kz.prototype.getNodeUV=function(e,t){t=t||[];var n=this._positionTex.width,r=this._positionTex.height;return t[0]=e%n/(n-1),t[1]=Math.floor(e/n)/(r-1),t},kz.prototype.getNodes=function(){return this._nodes},kz.prototype.getEdges=function(){return this._edges},kz.prototype.isFinished=function(e){return this._frame>e},kz.prototype.getNodePosition=function(e,t){if(t||(t=new Float32Array(2*this._nodes.length)),this._positionArr)for(var n=0;n<this._positionArr.length;n++)t[n]=this._positionArr[n];return t},kz.prototype._updateTexture=function(e){for(var t=this._positionTex.pixels,n=0,r=0;r<e.length;)t[n++]=e[r++],t[n++]=e[r++],t[n++]=1,t[n++]=1;this._positionTex.dirty()},kz.prototype.dispose=function(e){this._disposed=!0,this._worker=null};var Dz=kz,Tz=dI.extend((function(){return{zr:null,viewGL:null,minZoom:.2,maxZoom:5,_needsUpdate:!1,_dx:0,_dy:0,_zoom:1}}),(function(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseWheelHandler=this._mouseWheelHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._update=this._update.bind(this)}),{init:function(){var e=this.zr;e.on("mousedown",this._mouseDownHandler),e.on("mousewheel",this._mouseWheelHandler),e.on("globalout",this._mouseUpHandler),e.animation.on("frame",this._update)},setTarget:function(e){this._target=e},setZoom:function(e){this._zoom=Math.max(Math.min(e,this.maxZoom),this.minZoom),this._needsUpdate=!0},setOffset:function(e){this._dx=e[0],this._dy=e[1],this._needsUpdate=!0},getZoom:function(){return this._zoom},getOffset:function(){return[this._dx,this._dy]},_update:function(){if(this._target&&this._needsUpdate){var e=this._target,t=this._zoom;e.position.x=this._dx,e.position.y=this._dy,e.scale.set(t,t,t),this.zr.refresh(),this._needsUpdate=!1,this.trigger("update")}},_mouseDownHandler:function(e){if(!e.target){var t=e.offsetX,n=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(t,n)){this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler);var r=this._convertPos(t,n);this._x=r.x,this._y=r.y}}},_convertPos:function(e,t){var n=this.viewGL.camera,r=this.viewGL.viewport;return{x:(e-r.x)/r.width*(n.right-n.left)+n.left,y:(t-r.y)/r.height*(n.bottom-n.top)+n.top}},_mouseMoveHandler:function(e){var t=this._convertPos(e.offsetX,e.offsetY);this._dx+=t.x-this._x,this._dy+=t.y-this._y,this._x=t.x,this._y=t.y,this._needsUpdate=!0},_mouseUpHandler:function(e){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_mouseWheelHandler:function(e){var t=(e=e.event).wheelDelta||-e.detail;if(0!==t){var n=e.offsetX,r=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(n,r)){var i=t>0?1.1:.9,a=Math.max(Math.min(this._zoom*i,this.maxZoom),this.minZoom);i=a/this._zoom;var o=this._convertPos(n,r),s=(o.x-this._dx)*(i-1),u=(o.y-this._dy)*(i-1);this._dx-=s,this._dy-=u,this._zoom=a,this._needsUpdate=!0}}},dispose:function(){var e=this.zr;e.off("mousedown",this._mouseDownHandler),e.off("mousemove",this._mouseMoveHandler),e.off("mouseup",this._mouseUpHandler),e.off("mousewheel",this._mouseWheelHandler),e.off("globalout",this._mouseUpHandler),e.animation.off("frame",this._update)}}),Iz=Tz,Az=FP.vec2;dP.Shader.import("@export ecgl.lines2D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.vertex\n\nattribute vec2 position: POSITION;\nattribute vec2 normal;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n vec4 p2 = worldViewProjection * vec4(position + normal, -10.0, 1.0);\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n p2.xy /= p2.w;\n gl_Position.xy /= gl_Position.w;\n\n vec2 N = normalize(p2.xy - gl_Position.xy);\n gl_Position.xy += N * offset / viewport.zw * 2.0;\n\n gl_Position.xy *= gl_Position.w;\n\n v_Color = a_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n\n@end");var Mz=1,Ez=qT.TA.extend({type:"graphGL",__ecgl__:!0,init:function(e,t){this.groupGL=new dP.Node,this.viewGL=new kL("orthographic"),this.viewGL.camera.left=this.viewGL.camera.right=0,this.viewGL.add(this.groupGL),this._pointsBuilder=new SB(!0,t),this._forceEdgesMesh=new dP.Mesh({material:new dP.Material({shader:dP.createShader("ecgl.forceAtlas2.edges"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new dP.Geometry({attributes:{node:new dP.Geometry.Attribute("node","float",2),color:new dP.Geometry.Attribute("color","float",4,"COLOR")},dynamic:!0,mainAttribute:"node"}),renderOrder:-1,mode:dP.Mesh.LINES}),this._edgesMesh=new dP.Mesh({material:new dP.Material({shader:dP.createShader("ecgl.meshLines2D"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new yz({useNativeLine:!1,dynamic:!0}),renderOrder:-1,culling:!1}),this._layoutId=0,this._control=new Iz({zr:t.getZr(),viewGL:this.viewGL}),this._control.setTarget(this.groupGL),this._control.init(),this._clickHandler=this._clickHandler.bind(this)},render:function(e,t,n){this.groupGL.add(this._pointsBuilder.rootNode),this._model=e,this._api=n,this._initLayout(e,t,n),this._pointsBuilder.update(e,t,n),this._forceLayoutInstance instanceof wz||this.groupGL.remove(this._forceEdgesMesh),this._updateCamera(e,n),this._control.off("update"),this._control.on("update",(function(){n.dispatchAction({type:"graphGLRoam",seriesId:e.id,zoom:this._control.getZoom(),offset:this._control.getOffset()}),this._pointsBuilder.updateView(this.viewGL.camera)}),this),this._control.setZoom(MR.firstNotNull(e.get("zoom"),1)),this._control.setOffset(e.get("offset")||[0,0]);var r=this._pointsBuilder.getPointsMesh();if(r.off("mousemove",this._mousemoveHandler),r.off("mouseout",this._mouseOutHandler,this),n.getZr().off("click",this._clickHandler),this._pointsBuilder.highlightOnMouseover=!0,e.get("focusNodeAdjacency")){var i=e.get("focusNodeAdjacencyOn");"click"===i?n.getZr().on("click",this._clickHandler):"mouseover"===i&&(r.on("mousemove",this._mousemoveHandler,this),r.on("mouseout",this._mouseOutHandler,this),this._pointsBuilder.highlightOnMouseover=!1)}this._lastMouseOverDataIndex=-1},_clickHandler:function(e){if(!this._layouting){var t=this._pointsBuilder.getPointsMesh().dataIndex;t>=0?this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:t}):this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id})}},_mousemoveHandler:function(e){if(!this._layouting){var t=this._pointsBuilder.getPointsMesh().dataIndex;t>=0?t!==this._lastMouseOverDataIndex&&this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:t}):this._mouseOutHandler(e),this._lastMouseOverDataIndex=t}},_mouseOutHandler:function(e){this._layouting||(this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id}),this._lastMouseOverDataIndex=-1)},_updateForceEdgesGeometry:function(e,t){var n=this._forceEdgesMesh.geometry,r=t.getEdgeData(),i=0,a=this._forceLayoutInstance,o=2*r.count();n.attributes.node.init(o),n.attributes.color.init(o),r.each((function(t){var o=e[t];n.attributes.node.set(i,a.getNodeUV(o.node1)),n.attributes.node.set(i+1,a.getNodeUV(o.node2));var s=CF(r,o.dataIndex),u=dP.parseColor(s);u[3]*=MR.firstNotNull(kF(r,o.dataIndex),1),n.attributes.color.set(i,u),n.attributes.color.set(i+1,u),i+=2})),n.dirty()},_updateMeshLinesGeometry:function(){var e=this._model.getEdgeData(),t=this._edgesMesh.geometry,n=(e=this._model.getEdgeData(),this._model.getData().getLayout("points"));t.resetOffset(),t.setVertexCount(e.count()*t.getLineVertexCount()),t.setTriangleCount(e.count()*t.getLineTriangleCount());var r=[],i=[],a=["lineStyle","width"];this._originalEdgeColors=new Float32Array(4*e.count()),this._edgeIndicesMap=new Float32Array(e.count()),e.each((function(o){var s=e.graph.getEdgeByIndex(o),u=2*s.node1.dataIndex,l=2*s.node2.dataIndex;r[0]=n[u],r[1]=n[u+1],i[0]=n[l],i[1]=n[l+1];var c=CF(e,s.dataIndex),d=dP.parseColor(c);d[3]*=MR.firstNotNull(kF(e,s.dataIndex),1);var f=e.getItemModel(s.dataIndex),h=MR.firstNotNull(f.get(a),1)*this._api.getDevicePixelRatio();t.addLine(r,i,d,h);for(var p=0;p<4;p++)this._originalEdgeColors[4*s.dataIndex+p]=d[p];this._edgeIndicesMap[s.dataIndex]=o}),this),t.dirty()},_updateForceNodesGeometry:function(e){for(var t=this._pointsBuilder.getPointsMesh(),n=[],r=0;r<e.count();r++)this._forceLayoutInstance.getNodeUV(r,n),t.geometry.attributes.position.set(r,n);t.geometry.dirty("position")},_initLayout:function(e,t,n){var r=e.get("layout"),i=e.getGraph(),a=e.getBoxLayoutParams(),o=(0,yO.ME)(a,{width:n.getWidth(),height:n.getHeight()});"force"===r&&(r="forceAtlas2"),this.stopLayout(e,t,n,{beforeLayout:!0});var s=e.getData(),u=e.getData();if("forceAtlas2"===r){var l=e.getModel("forceAtlas2"),c=this._forceLayoutInstance,d=[],f=[],h=s.getDataExtent("value"),p=u.getDataExtent("value"),m=MR.firstNotNull(l.get("edgeWeight"),1),g=MR.firstNotNull(l.get("nodeWeight"),1);"number"===typeof m&&(m=[m,m]),"number"===typeof g&&(g=[g,g]);var v=0,y={},x=new Float32Array(2*s.count());if(i.eachNode((function(e){var t,n,r=e.dataIndex,i=s.get("value",r);if(s.hasItemOption){var a=s.getItemModel(r);t=a.get("x"),n=a.get("y")}null==t&&(t=o.x+Math.random()*o.width,n=o.y+Math.random()*o.height),x[2*v]=t,x[2*v+1]=n,y[e.id]=v++;var u=qT.Rx.linearMap(i,h,g);isNaN(u)&&(u=isNaN(g[0])?1:g[0]),d.push({x:t,y:n,mass:u,size:s.getItemVisual(r,"symbolSize")})})),s.setLayout("points",x),i.eachEdge((function(e){var t=e.dataIndex,n=s.get("value",t),r=qT.Rx.linearMap(n,p,m);isNaN(r)&&(r=isNaN(m[0])?1:m[0]),f.push({node1:y[e.node1.id],node2:y[e.node2.id],weight:r,dataIndex:t})})),!c){var b=l.get("GPU");this._forceLayoutInstance&&((!b||this._forceLayoutInstance instanceof wz)&&(b||this._forceLayoutInstance instanceof Dz)||(this._forceLayoutInstanceToDispose=this._forceLayoutInstance)),c=this._forceLayoutInstance=b?new wz:new Dz}c.initData(d,f),c.updateOption(l.option),this._updateForceEdgesGeometry(c.getEdges(),e),this._updatePositionTexture(),n.dispatchAction({type:"graphGLStartLayout",from:this.uid})}else{x=new Float32Array(2*s.count()),v=0;i.eachNode((function(e){var t,n,r=e.dataIndex;if(s.hasItemOption){var i=s.getItemModel(r);t=i.get("x"),n=i.get("y")}x[v++]=t,x[v++]=n})),s.setLayout("points",x),this._updateAfterLayout(e,t,n)}},_updatePositionTexture:function(){var e=this._forceLayoutInstance.getNodePositionTexture();this._pointsBuilder.setPositionTexture(e),this._forceEdgesMesh.material.set("positionTex",e)},startLayout:function(e,t,n,r){if(!r||null==r.from||r.from===this.uid){var i=this.viewGL,a=(n=this._api,this._forceLayoutInstance),o=this._model.getData(),s=this._model.getModel("forceAtlas2");if(a&&(this.groupGL.remove(this._edgesMesh),this.groupGL.add(this._forceEdgesMesh),this._forceLayoutInstance)){this._updateForceNodesGeometry(e.getData()),this._pointsBuilder.hideLabels();var u=this,l=this._layoutId=Mz++,c=s.getShallow("maxSteps"),d=s.getShallow("steps"),f=0,h=Math.max(2*d,20),p=function t(r){if(r===u._layoutId)return a.isFinished(c)?(n.dispatchAction({type:"graphGLStopLayout",from:u.uid}),void n.dispatchAction({type:"graphGLFinishLayout",points:o.getLayout("points"),from:u.uid})):void a.update(i.layer.renderer,d,(function(){u._updatePositionTexture(),(f+=d)>=h&&(u._syncNodePosition(e),f=0),n.getZr().refresh(),(0,fP.Z)((function(){t(r)}))}))};(0,fP.Z)((function(){u._forceLayoutInstanceToDispose&&(u._forceLayoutInstanceToDispose.dispose(i.layer.renderer),u._forceLayoutInstanceToDispose=null),p(l)})),this._layouting=!0}}},stopLayout:function(e,t,n,r){r&&null!=r.from&&r.from!==this.uid||(this._layoutId=0,this.groupGL.remove(this._forceEdgesMesh),this.groupGL.add(this._edgesMesh),this._forceLayoutInstance&&this.viewGL.layer&&(r&&r.beforeLayout||(this._syncNodePosition(e),this._updateAfterLayout(e,t,n)),this._api.getZr().refresh(),this._layouting=!1))},_syncNodePosition:function(e){var t=this._forceLayoutInstance.getNodePosition(this.viewGL.layer.renderer);e.getData().setLayout("points",t),e.setNodePosition(t)},_updateAfterLayout:function(e,t,n){this._updateMeshLinesGeometry(),this._pointsBuilder.removePositionTexture(),this._pointsBuilder.updateLayout(e,t,n),this._pointsBuilder.updateView(this.viewGL.camera),this._pointsBuilder.updateLabels(),this._pointsBuilder.showLabels()},focusNodeAdjacency:function(e,t,n,r){var i=this._model.getData();this._downplayAll();var a=r.dataIndex,o=i.graph,s=[],u=o.getNodeByIndex(a);s.push(u),u.edges.forEach((function(e){e.dataIndex<0||(e.node1!==u&&s.push(e.node1),e.node2!==u&&s.push(e.node2))}),this),this._pointsBuilder.fadeOutAll(.05),this._fadeOutEdgesAll(.05),s.forEach((function(e){this._pointsBuilder.highlight(i,e.dataIndex)}),this),this._pointsBuilder.updateLabels(s.map((function(e){return e.dataIndex})));var l=[];u.edges.forEach((function(e){e.dataIndex>=0&&(this._highlightEdge(e.dataIndex),l.push(e))}),this),this._focusNodes=s,this._focusEdges=l},unfocusNodeAdjacency:function(e,t,n,r){this._downplayAll(),this._pointsBuilder.fadeInAll(),this._fadeInEdgesAll(),this._pointsBuilder.updateLabels()},_highlightEdge:function(e){var t=this._model.getEdgeData().getItemModel(e),n=dP.parseColor(t.get("emphasis.lineStyle.color")||t.get("lineStyle.color")),r=MR.firstNotNull(t.get("emphasis.lineStyle.opacity"),t.get("lineStyle.opacity"),1);n[3]*=r,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],n)},_downplayAll:function(){this._focusNodes&&this._focusNodes.forEach((function(e){this._pointsBuilder.downplay(this._model.getData(),e.dataIndex)}),this),this._focusEdges&&this._focusEdges.forEach((function(e){this._downplayEdge(e.dataIndex)}),this)},_downplayEdge:function(e){var t=this._getColor(e,[]);this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],t)},_setEdgeFade:function(){var e=[];return function(t,n){this._getColor(t,e),e[3]*=n,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[t],e)}}(),_getColor:function(e,t){for(var n=0;n<4;n++)t[n]=this._originalEdgeColors[4*e+n];return t},_fadeOutEdgesAll:function(e){this._model.getData().graph.eachEdge((function(t){this._setEdgeFade(t.dataIndex,e)}),this)},_fadeInEdgesAll:function(){this._fadeOutEdgesAll(1)},_updateCamera:function(e,t){this.viewGL.setViewport(0,0,t.getWidth(),t.getHeight(),t.getDevicePixelRatio());for(var n=this.viewGL.camera,r=e.getData().getLayout("points"),i=Az.create(1/0,1/0),a=Az.create(-1/0,-1/0),o=[],s=0;s<r.length;)o[0]=r[s++],o[1]=r[s++],Az.min(i,i,o),Az.max(a,a,o);var u=(a[1]+i[1])/2,l=(a[0]+i[0])/2;if(!(l>n.left&&l<n.right&&u<n.bottom&&u>n.top)){var c=Math.max(a[0]-i[0],10),d=c/t.getWidth()*t.getHeight();c*=1.4,d*=1.4,i[0]-=.2*c,n.left=i[0],n.top=u-d/2,n.bottom=u+d/2,n.right=c+i[0],n.near=0,n.far=100}},dispose:function(){var e=this.viewGL.layer.renderer;this._forceLayoutInstance&&this._forceLayoutInstance.dispose(e),this.groupGL.removeAll(),this._layoutId=-1,this._pointsBuilder.dispose()},remove:function(){this.groupGL.removeAll(),this._control.dispose()}});function Nz(e){return e instanceof Array||(e=[e,e]),e}(0,qT.D$)((function(e){function t(){}e.registerChartView(Ez),e.registerSeriesModel(pz),e.registerVisual((function(e){var t={};e.eachSeriesByType("graphGL",(function(e){var n=e.getCategoriesData(),r=e.getData(),i={};n.each((function(r){var a=n.getName(r);i["ec-"+a]=r;var o=n.getItemModel(r),s=o.getModel("itemStyle").getItemStyle();s.fill||(s.fill=e.getColorFromPalette(a,t)),n.setItemVisual(r,"style",s);for(var u=["symbol","symbolSize","symbolKeepAspect"],l=0;l<u.length;l++){var c=o.getShallow(u[l],!0);null!=c&&n.setItemVisual(r,u[l],c)}})),n.count()&&r.each((function(e){var t=r.getItemModel(e).getShallow("category");if(null!=t){"string"===typeof t&&(t=i["ec-"+t]);var a=n.getItemVisual(t,"style"),o=r.ensureUniqueItemVisual(e,"style");qT.D5.extend(o,a);for(var s=["symbol","symbolSize","symbolKeepAspect"],u=0;u<s.length;u++)r.setItemVisual(e,s[u],n.getItemVisual(t,s[u]))}}))}))})),e.registerVisual((function(e){e.eachSeriesByType("graphGL",(function(e){var t=e.getGraph(),n=e.getEdgeData(),r=Nz(e.get("edgeSymbol")),i=Nz(e.get("edgeSymbolSize"));n.setVisual("drawType","stroke"),n.setVisual("fromSymbol",r&&r[0]),n.setVisual("toSymbol",r&&r[1]),n.setVisual("fromSymbolSize",i&&i[0]),n.setVisual("toSymbolSize",i&&i[1]),n.setVisual("style",e.getModel("lineStyle").getLineStyle()),n.each((function(e){var r=n.getItemModel(e),i=t.getEdgeByIndex(e),a=Nz(r.getShallow("symbol",!0)),o=Nz(r.getShallow("symbolSize",!0)),s=r.getModel("lineStyle").getLineStyle(),u=n.ensureUniqueItemVisual(e,"style");switch(qT.D5.extend(u,s),u.stroke){case"source":var l=i.node1.getVisual("style");u.stroke=l&&l.fill;break;case"target":l=i.node2.getVisual("style");u.stroke=l&&l.fill}a[0]&&i.setVisual("fromSymbol",a[0]),a[1]&&i.setVisual("toSymbol",a[1]),o[0]&&i.setVisual("fromSymbolSize",o[0]),o[1]&&i.setVisual("toSymbolSize",o[1])}))}))})),e.registerAction({type:"graphGLRoam",event:"graphglroam",update:"series.graphGL:roam"},(function(e,t){t.eachComponent({mainType:"series",query:e},(function(t){t.setView(e)}))})),e.registerAction({type:"graphGLStartLayout",event:"graphgllayoutstarted",update:"series.graphGL:startLayout"},t),e.registerAction({type:"graphGLStopLayout",event:"graphgllayoutstopped",update:"series.graphGL:stopLayout"},t),e.registerAction({type:"graphGLFocusNodeAdjacency",event:"graphGLFocusNodeAdjacency",update:"series.graphGL:focusNodeAdjacency"},t),e.registerAction({type:"graphGLUnfocusNodeAdjacency",event:"graphGLUnfocusNodeAdjacency",update:"series.graphGL:unfocusNodeAdjacency"},t)}));var Rz=qT.wJ.extend({type:"series.flowGL",dependencies:["geo","grid","bmap"],visualStyleAccessPath:"itemStyle",getInitialData:function(e,t){var n=this.get("coordinateSystem"),r="geo"===n?["lng","lat"]:qT.wL(n)||["x","y"];r.push("vx","vy");var i=qT._y.createDimensions(this.getSource(),{coordDimensions:r,encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),a=new qT.aV(i,this);return a.initData(this.getSource()),a},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,supersampling:1,particleType:"point",particleDensity:128,particleSize:1,particleSpeed:1,particleTrail:2,colorTexture:null,gridWidth:"auto",gridHeight:"auto",itemStyle:{color:"#fff",opacity:.8}}}),Pz=GE.extend((function(){return{dynamic:!0,attributes:{position:new GE.Attribute("position","float",3,"POSITION")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setLineCount:function(e){var t=this.attributes,n=4*e,r=2*e;this.vertexCount!==n&&t.position.init(n),this.triangleCount!==r&&(this.indices=0===r?null:this.vertexCount>65535?new Uint32Array(3*r):new Uint16Array(3*r))},addLine:function(e){var t=this._vertexOffset;this.attributes.position.set(t,[e[0],e[1],1]),this.attributes.position.set(t+1,[e[0],e[1],-1]),this.attributes.position.set(t+2,[e[0],e[1],2]),this.attributes.position.set(t+3,[e[0],e[1],-2]),this.setTriangleIndices(this._faceOffset++,[t,t+1,t+2]),this.setTriangleIndices(this._faceOffset++,[t+1,t+2,t+3]),this._vertexOffset+=4}});bM.import("@export ecgl.vfParticle.particle.fragment\n\nuniform sampler2D particleTexture;\nuniform sampler2D spawnTexture;\nuniform sampler2D velocityTexture;\n\nuniform float deltaTime;\nuniform float elapsedTime;\n\nuniform float speedScaling : 1.0;\n\nuniform vec2 textureSize;\nuniform vec4 region : [0, 0, 1, 1];\nuniform float firstFrameTime;\n\nvarying vec2 v_Texcoord;\n\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, v_Texcoord);\n bool spawn = false;\n if (p.w <= 0.0) {\n p = texture2D(spawnTexture, fract(v_Texcoord + elapsedTime / 10.0));\n p.w -= firstFrameTime;\n spawn = true;\n }\n vec2 v = texture2D(velocityTexture, fract(p.xy * region.zw + region.xy)).xy;\n v = (v - 0.5) * 2.0;\n p.z = length(v);\n p.xy += v * deltaTime / 10.0 * speedScaling;\n p.w -= deltaTime;\n\n if (spawn || p.xy != fract(p.xy)) {\n p.z = 0.0;\n }\n p.xy = fract(p.xy);\n\n gl_FragColor = p;\n}\n@end\n\n@export ecgl.vfParticle.renderPoints.vertex\n\n#define PI 3.1415926\n\nattribute vec2 texcoord : TEXCOORD_0;\n\nuniform sampler2D particleTexture;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nuniform float size : 1.0;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, texcoord);\n\n if (p.w > 0.0 && p.z > 1e-5) {\n gl_Position = worldViewProjection * vec4(p.xy * 2.0 - 1.0, 0.0, 1.0);\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n\n v_Mag = p.z;\n v_Uv = p.xy;\n\n gl_PointSize = size;\n}\n\n@end\n\n@export ecgl.vfParticle.renderPoints.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\nuniform sampler2D spriteTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n#ifdef SPRITETEXTURE_ENABLED\n gl_FragColor *= texture2D(spriteTexture, gl_PointCoord);\n if (color.a == 0.0) {\n discard;\n }\n#endif\n#ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.vertex\n\n#define PI 3.1415926\n\nattribute vec3 position : POSITION;\n\nuniform sampler2D particleTexture;\nuniform sampler2D prevParticleTexture;\n\nuniform float size : 1.0;\nuniform vec4 vp: VIEWPORT;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\n@import clay.util.rand\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, position.xy);\n vec4 p2 = texture2D(prevParticleTexture, position.xy);\n\n p.xy = p.xy * 2.0 - 1.0;\n p2.xy = p2.xy * 2.0 - 1.0;\n\n if (p.w > 0.0 && p.z > 1e-5) {\n vec2 dir = normalize(p.xy - p2.xy);\n vec2 norm = vec2(dir.y / vp.z, -dir.x / vp.w) * sign(position.z) * size;\n if (abs(position.z) == 2.0) {\n gl_Position = vec4(p.xy + norm, 0.0, 1.0);\n v_Uv = p.xy;\n v_Mag = p.z;\n }\n else {\n gl_Position = vec4(p2.xy + norm, 0.0, 1.0);\n v_Mag = p2.z;\n v_Uv = p2.xy;\n }\n gl_Position = worldViewProjection * gl_Position;\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n #ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n");var Oz=function(){this.motionBlurFactor=.99,this.vectorFieldTexture=new RE({type:kE.FLOAT,flipY:!1}),this.particleLife=[5,20],this._particleType="point",this._particleSize=1,this.particleColor=[1,1,1,1],this.particleSpeedScaling=1,this._thisFrameTexture=null,this._particlePass=null,this._spawnTexture=null,this._particleTexture0=null,this._particleTexture1=null,this._particlePointsMesh=null,this._surfaceFrameBuffer=null,this._elapsedTime=0,this._scene=null,this._camera=null,this._lastFrameTexture=null,this._supersampling=1,this._downsampleTextures=[],this._width=512,this._height=512,this.init()};Oz.prototype={constructor:Oz,init:function(){var e={type:kE.FLOAT,minFilter:kE.NEAREST,magFilter:kE.NEAREST,useMipmap:!1};this._spawnTexture=new RE(e),this._particleTexture0=new RE(e),this._particleTexture1=new RE(e),this._frameBuffer=new FN({depthBuffer:!1}),this._particlePass=new gR({fragment:bM.source("ecgl.vfParticle.particle.fragment")}),this._particlePass.setUniform("velocityTexture",this.vectorFieldTexture),this._particlePass.setUniform("spawnTexture",this._spawnTexture),this._downsamplePass=new gR({fragment:bM.source("clay.compositor.downsample")});var t=new TE({renderOrder:10,material:new FA({shader:new bM(bM.source("ecgl.vfParticle.renderPoints.vertex"),bM.source("ecgl.vfParticle.renderPoints.fragment"))}),mode:TE.POINTS,geometry:new GE({dynamic:!0,mainAttribute:"texcoord0"})}),n=new TE({renderOrder:10,material:new FA({shader:new bM(bM.source("ecgl.vfParticle.renderLines.vertex"),bM.source("ecgl.vfParticle.renderLines.fragment"))}),geometry:new Pz,culling:!1}),r=new TE({material:new FA({shader:new bM(bM.source("ecgl.color.vertex"),bM.source("ecgl.color.fragment"))}),geometry:new VN});r.material.enableTexture("diffuseMap"),this._particlePointsMesh=t,this._particleLinesMesh=n,this._lastFrameFullQuadMesh=r,this._camera=new fR,this._thisFrameTexture=new RE,this._lastFrameTexture=new RE},setParticleDensity:function(e,t){for(var n=new Float32Array(4*(e*t)),r=0,i=this.particleLife,a=0;a<e;a++)for(var o=0;o<t;o++,r++){n[4*r]=Math.random(),n[4*r+1]=Math.random(),n[4*r+2]=Math.random();var s=(i[1]-i[0])*Math.random()+i[0];n[4*r+3]=s}"line"===this._particleType?this._setLineGeometry(e,t):this._setPointsGeometry(e,t),this._spawnTexture.width=e,this._spawnTexture.height=t,this._spawnTexture.pixels=n,this._particleTexture0.width=this._particleTexture1.width=e,this._particleTexture0.height=this._particleTexture1.height=t,this._particlePass.setUniform("textureSize",[e,t])},_setPointsGeometry:function(e,t){var n=e*t,r=this._particlePointsMesh.geometry,i=r.attributes;i.texcoord0.init(n);for(var a=0,o=0;o<e;o++)for(var s=0;s<t;s++,a++)i.texcoord0.value[2*a]=o/e,i.texcoord0.value[2*a+1]=s/t;r.dirty()},_setLineGeometry:function(e,t){var n=e*t,r=this._getParticleMesh().geometry;r.setLineCount(n),r.resetOffset();for(var i=0;i<e;i++)for(var a=0;a<t;a++)r.addLine([i/e,a/t]);r.dirty()},_getParticleMesh:function(){return"line"===this._particleType?this._particleLinesMesh:this._particlePointsMesh},update:function(e,t,n,r){var i=this._getParticleMesh(),a=this._frameBuffer,o=this._particlePass;r&&this._updateDownsampleTextures(e,t),i.material.set("size",this._particleSize*this._supersampling),i.material.set("color",this.particleColor),o.setUniform("speedScaling",this.particleSpeedScaling),a.attach(this._particleTexture1),o.setUniform("firstFrameTime",r?(this.particleLife[1]+this.particleLife[0])/2:0),o.setUniform("particleTexture",this._particleTexture0),o.setUniform("deltaTime",n),o.setUniform("elapsedTime",this._elapsedTime),o.render(e,a),i.material.set("particleTexture",this._particleTexture1),i.material.set("prevParticleTexture",this._particleTexture0),a.attach(this._thisFrameTexture),a.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT);var s=this._lastFrameFullQuadMesh;s.material.set("diffuseMap",this._lastFrameTexture),s.material.set("color",[1,1,1,this.motionBlurFactor]),this._camera.update(!0),e.renderPass([s,i],this._camera),a.unbind(e),this._downsample(e),this._swapTexture(),this._elapsedTime+=n},_downsample:function(e){var t=this._downsampleTextures;if(0!==t.length)for(var n=0,r=this._thisFrameTexture,i=t[n];i;)this._frameBuffer.attach(i),this._downsamplePass.setUniform("texture",r),this._downsamplePass.setUniform("textureSize",[r.width,r.height]),this._downsamplePass.render(e,this._frameBuffer),r=i,i=t[++n]},getSurfaceTexture:function(){var e=this._downsampleTextures;return e.length>0?e[e.length-1]:this._lastFrameTexture},setRegion:function(e){this._particlePass.setUniform("region",e)},resize:function(e,t){this._lastFrameTexture.width=e*this._supersampling,this._lastFrameTexture.height=t*this._supersampling,this._thisFrameTexture.width=e*this._supersampling,this._thisFrameTexture.height=t*this._supersampling,this._width=e,this._height=t},setParticleSize:function(e){var t=this._getParticleMesh();if(e<=2)return t.material.disableTexture("spriteTexture"),void(t.material.transparent=!1);this._spriteTexture||(this._spriteTexture=new RE),this._spriteTexture.image&&this._spriteTexture.image.width===e||(this._spriteTexture.image=function(e){var t=document.createElement("canvas");t.width=t.height=e;var n=t.getContext("2d");return n.fillStyle="#fff",n.arc(e/2,e/2,e/2,0,2*Math.PI),n.fill(),t}(e),this._spriteTexture.dirty()),t.material.transparent=!0,t.material.enableTexture("spriteTexture"),t.material.set("spriteTexture",this._spriteTexture),this._particleSize=e},setGradientTexture:function(e){var t=this._getParticleMesh().material;t[e?"enableTexture":"disableTexture"]("gradientTexture"),t.setUniform("gradientTexture",e)},setColorTextureImage:function(e,t){this._getParticleMesh().material.setTextureImage("colorTexture",e,t,{flipY:!0})},setParticleType:function(e){this._particleType=e},clearFrame:function(e){var t=this._frameBuffer;t.attach(this._lastFrameTexture),t.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT),t.unbind(e)},setSupersampling:function(e){this._supersampling=e,this.resize(this._width,this._height)},_updateDownsampleTextures:function(e,t){for(var n=this._downsampleTextures,r=Math.max(Math.floor(Math.log(this._supersampling/t.getDevicePixelRatio())/Math.log(2)),0),i=2,a=this._width*this._supersampling,o=this._height*this._supersampling,s=0;s<r;s++)n[s]=n[s]||new RE,n[s].width=a/i,n[s].height=o/i,i*=2;for(;s<n.length;s++)n[s].dispose(e);n.length=r},_swapTexture:function(){var e=this._particleTexture0;this._particleTexture0=this._particleTexture1,this._particleTexture1=e;e=this._thisFrameTexture;this._thisFrameTexture=this._lastFrameTexture,this._lastFrameTexture=e},dispose:function(e){e.disposeFrameBuffer(this._frameBuffer),e.disposeTexture(this.vectorFieldTexture),e.disposeTexture(this._spawnTexture),e.disposeTexture(this._particleTexture0),e.disposeTexture(this._particleTexture1),e.disposeTexture(this._thisFrameTexture),e.disposeTexture(this._lastFrameTexture),e.disposeGeometry(this._particleLinesMesh.geometry),e.disposeGeometry(this._particlePointsMesh.geometry),e.disposeGeometry(this._lastFrameFullQuadMesh.geometry),this._spriteTexture&&e.disposeTexture(this._spriteTexture),this._particlePass.dispose(e),this._downsamplePass.dispose(e),this._downsampleTextures.forEach((function(t){t.dispose(e)}))}};var Lz=Oz,Fz=qT.TA.extend({type:"flowGL",__ecgl__:!0,init:function(e,t){this.viewGL=new kL("orthographic"),this.groupGL=new dP.Node,this.viewGL.add(this.groupGL),this._particleSurface=new Lz;var n=new dP.Mesh({geometry:new dP.PlaneGeometry,material:new dP.Material({shader:new dP.Shader({vertex:dP.Shader.source("ecgl.color.vertex"),fragment:dP.Shader.source("ecgl.color.fragment")}),transparent:!0})});n.material.enableTexture("diffuseMap"),this.groupGL.add(n),this._planeMesh=n},render:function(e,t,n){var r=this._particleSurface;r.setParticleType(e.get("particleType")),r.setSupersampling(e.get("supersampling")),this._updateData(e,n),this._updateCamera(n.getWidth(),n.getHeight(),n.getDevicePixelRatio());var i=MR.firstNotNull(e.get("particleDensity"),128);r.setParticleDensity(i,i);var a=this._planeMesh,o=+new Date,s=this,u=!0;a.__percent=0,a.stopAnimation(),a.animate("",{loop:!0}).when(1e5,{__percent:1}).during((function(){var e=+new Date,t=Math.min(e-o,20);o+=t,s._renderer&&(r.update(s._renderer,n,t/1e3,u),a.material.set("diffuseMap",r.getSurfaceTexture())),u=!1})).start();var l=e.getModel("itemStyle"),c=dP.parseColor(l.get("color"));c[3]*=MR.firstNotNull(l.get("opacity"),1),a.material.set("color",c),r.setColorTextureImage(e.get("colorTexture"),n),r.setParticleSize(e.get("particleSize")),r.particleSpeedScaling=e.get("particleSpeed"),r.motionBlurFactor=1-Math.pow(.1,e.get("particleTrail"))},updateTransform:function(e,t,n){this._updateData(e,n)},afterRender:function(e,t,n,r){var i=r.renderer;this._renderer=i},_updateData:function(e,t){var n=e.coordinateSystem,r=n.dimensions.map((function(t){return e.coordDimToDataDim(t)[0]})),i=e.getData(),a=i.getDataExtent(r[0]),o=i.getDataExtent(r[1]),s=e.get("gridWidth"),u=e.get("gridHeight");if(null==s||"auto"===s){var l=(a[1]-a[0])/(o[1]-o[0]);s=Math.round(Math.sqrt(l*i.count()))}null!=u&&"auto"!==u||(u=Math.ceil(i.count()/s));var c=this._particleSurface.vectorFieldTexture,d=c.pixels;if(d&&d.length===u*s*4)for(var f=0;f<d.length;f++)d[f]=0;else d=c.pixels=new Float32Array(s*u*4);var h=0,p=1/0,m=new Float32Array(2*i.count()),g=0,v=[[1/0,1/0],[-1/0,-1/0]];i.each([r[0],r[1],"vx","vy"],(function(e,t,r,i){var a=n.dataToPoint([e,t]);m[g++]=a[0],m[g++]=a[1],v[0][0]=Math.min(a[0],v[0][0]),v[0][1]=Math.min(a[1],v[0][1]),v[1][0]=Math.max(a[0],v[1][0]),v[1][1]=Math.max(a[1],v[1][1]);var o=Math.sqrt(r*r+i*i);h=Math.max(h,o),p=Math.min(p,o)})),i.each(["vx","vy"],(function(e,t,n){var r=Math.round((m[2*n]-v[0][0])/(v[1][0]-v[0][0])*(s-1)),i=4*((u-1-Math.round((m[2*n+1]-v[0][1])/(v[1][1]-v[0][1])*(u-1)))*s+r);d[i]=e/h*.5+.5,d[i+1]=t/h*.5+.5,d[i+3]=1})),c.width=s,c.height=u,"bmap"===e.get("coordinateSystem")&&this._fillEmptyPixels(c),c.dirty(),this._updatePlanePosition(v[0],v[1],e,t),this._updateGradientTexture(i.getVisual("visualMeta"),[p,h])},_fillEmptyPixels:function(e){var t=e.pixels,n=e.width,r=e.height;function i(e,i,a){e=Math.max(Math.min(e,n-1),0);var o=4*((i=Math.max(Math.min(i,r-1),0))*(n-1)+e);return 0!==t[o+3]&&(a[0]=t[o],a[1]=t[o+1],!0)}function a(e,t,n){n[0]=e[0]+t[0],n[1]=e[1]+t[1]}for(var o=[],s=[],u=[],l=[],c=[],d=0,f=0;f<r;f++)for(var h=0;h<n;h++){var p=4*(f*(n-1)+h);0===t[p+3]&&(d=o[0]=o[1]=0,i(h-1,f,s)&&(d++,a(s,o,o)),i(h+1,f,u)&&(d++,a(u,o,o)),i(h,f-1,l)&&(d++,a(l,o,o)),i(h,f+1,c)&&(d++,a(c,o,o)),o[0]/=d,o[1]/=d,t[p]=o[0],t[p+1]=o[1]),t[p+3]=1}},_updateGradientTexture:function(e,t){if(e&&e.length){this._gradientTexture=this._gradientTexture||new dP.Texture2D({image:document.createElement("canvas")});var n=this._gradientTexture,r=n.image;r.width=200,r.height=1;var i=r.getContext("2d"),a=i.createLinearGradient(0,.5,r.width,.5);e[0].stops.forEach((function(e){var n;t[1]===t[0]?n=0:(n=e.value/t[1],n=Math.min(Math.max(n,0),1)),a.addColorStop(n,e.color)})),i.fillStyle=a,i.fillRect(0,0,r.width,r.height),n.dirty(),this._particleSurface.setGradientTexture(this._gradientTexture)}else this._particleSurface.setGradientTexture(null)},_updatePlanePosition:function(e,t,n,r){var i=this._limitInViewportAndFullFill(e,t,n,r);e=i.leftTop,t=i.rightBottom,this._particleSurface.setRegion(i.region),this._planeMesh.position.set((e[0]+t[0])/2,r.getHeight()-(e[1]+t[1])/2,0);var a=t[0]-e[0],o=t[1]-e[1];this._planeMesh.scale.set(a/2,o/2,1),this._particleSurface.resize(Math.max(Math.min(a,2048),1),Math.max(Math.min(o,2048),1)),this._renderer&&this._particleSurface.clearFrame(this._renderer)},_limitInViewportAndFullFill:function(e,t,n,r){var i=[Math.max(e[0],0),Math.max(e[1],0)],a=[Math.min(t[0],r.getWidth()),Math.min(t[1],r.getHeight())];if("bmap"===n.get("coordinateSystem")){var o=n.getData().getDataExtent(n.coordDimToDataDim("lng")[0]);Math.floor(o[1]-o[0])>=359&&(i[0]>0&&(i[0]=0),a[0]<r.getWidth()&&(a[0]=r.getWidth()))}var s=t[0]-e[0],u=t[1]-e[1],l=a[0]-i[0],c=a[1]-i[1];return{leftTop:i,rightBottom:a,region:[(i[0]-e[0])/s,1-c/u-(i[1]-e[1])/u,l/s,c/u]}},_updateCamera:function(e,t,n){this.viewGL.setViewport(0,0,e,t,n);var r=this.viewGL.camera;r.left=r.bottom=0,r.top=t,r.right=e,r.near=0,r.far=100,r.position.z=10},remove:function(){this._planeMesh.stopAnimation(),this.groupGL.removeAll()},dispose:function(){this._renderer&&this._particleSurface.dispose(this._renderer),this.groupGL.removeAll()}});(0,qT.D$)((function(e){e.registerChartView(Fz),e.registerSeriesModel(Rz)}));var Zz=n(76884),Bz=qT.wJ.extend({type:"series.linesGL",dependencies:["grid","geo"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",streamEnabled:!0,init:function(e){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),Bz.superApply(this,"init",arguments)},mergeOption:function(e){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),Bz.superApply(this,"mergeOption",arguments)},appendData:function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=(0,Zz.concatArray)(this._flatCoords,t.flatCoords),this._flatCoordsOffset=(0,Zz.concatArray)(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],r=this._flatCoordsOffset[2*e+1],i=0;i<r;i++)t[i]=t[i]||[],t[i][0]=this._flatCoords[n+2*i],t[i][1]=this._flatCoords[n+2*i+1];return r}var a=this._getCoordsFromItemModel(e);for(i=0;i<a.length;i++)t[i]=t[i]||[],t[i][0]=a[i][0],t[i][1]=a[i][1];return a.length},_processFlatCoordsArray:function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),"number"===typeof e[0]){for(var n=e.length,r=new Uint32Array(n),i=new Float64Array(n),a=0,o=0,s=0,u=0;u<n;){s++;var l=e[u++];r[o++]=a+t,r[o++]=l;for(var c=0;c<l;c++){var d=e[u++],f=e[u++];i[a++]=d,i[a++]=f}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,o),flatCoords:i,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},getInitialData:function(e,t){var n=new qT.aV(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],(function(e,t,r,i){if(e instanceof Array)return NaN;n.hasItemOption=!0;var a=e.value;return null!=a?a instanceof Array?a[i]:a:void 0})),n},defaultOption:{coordinateSystem:"geo",zlevel:10,progressive:1e4,progressiveThreshold:5e4,blendMode:"source-over",lineStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}}),zz=Bz,Vz=qT.TA.extend({type:"linesGL",__ecgl__:!0,init:function(e,t){this.groupGL=new dP.Node,this.viewGL=new kL("orthographic"),this.viewGL.add(this.groupGL),this._glViewHelper=new lz(this.viewGL),this._nativeLinesShader=dP.createShader("ecgl.lines3D"),this._meshLinesShader=dP.createShader("ecgl.meshLines3D"),this._linesMeshes=[],this._currentStep=0},render:function(e,t,n){this.groupGL.removeAll(),this._glViewHelper.reset(e,n);var r=this._linesMeshes[0];r||(r=this._linesMeshes[0]=this._createLinesMesh(e)),this._linesMeshes.length=1,this.groupGL.add(r),this._updateLinesMesh(e,r,0,e.getData().count()),this.viewGL.setPostEffect(e.getModel("postEffect"),n)},incrementalPrepareRender:function(e,t,n){this.groupGL.removeAll(),this._glViewHelper.reset(e,n),this._currentStep=0,this.viewGL.setPostEffect(e.getModel("postEffect"),n)},incrementalRender:function(e,t,n,r){var i=this._linesMeshes[this._currentStep];i||(i=this._createLinesMesh(t),this._linesMeshes[this._currentStep]=i),this._updateLinesMesh(t,i,e.start,e.end),this.groupGL.add(i),r.getZr().refresh(),this._currentStep++},updateTransform:function(e,t,n){e.coordinateSystem.getRoamTransform&&this._glViewHelper.updateTransform(e,n)},_createLinesMesh:function(e){return new dP.Mesh({$ignorePicking:!0,material:new dP.Material({shader:dP.createShader("ecgl.lines3D"),transparent:!0,depthMask:!1,depthTest:!1}),geometry:new yz({segmentScale:10,useNativeLine:!0,dynamic:!1}),mode:dP.Mesh.LINES,culling:!1})},_updateLinesMesh:function(e,t,n,r){var i=e.getData();t.material.blend="lighter"===e.get("blendMode")?dP.additiveBlend:null;var a=e.get("lineStyle.curveness")||0,o=e.get("polyline"),s=t.geometry,u=e.coordinateSystem,l=MR.firstNotNull(e.get("lineStyle.width"),1);l>1?(t.material.shader!==this._meshLinesShader&&t.material.attachShader(this._meshLinesShader),t.mode=dP.Mesh.TRIANGLES):(t.material.shader!==this._nativeLinesShader&&t.material.attachShader(this._nativeLinesShader),t.mode=dP.Mesh.LINES),n=n||0,r=r||i.count(),s.resetOffset();var c=0,d=0,f=[],h=[],p=[],m=[],g=[],v=.3,y=.7;function x(){h[0]=f[0]*y+m[0]*v-(f[1]-m[1])*a,h[1]=f[1]*y+m[1]*v-(m[0]-f[0])*a,p[0]=f[0]*v+m[0]*y-(f[1]-m[1])*a,p[1]=f[1]*v+m[1]*y-(m[0]-f[0])*a}if(o||0!==a)for(var b=n;b<r;b++)if(o){var w=e.getLineCoordsCount(b);c+=s.getPolylineVertexCount(w),d+=s.getPolylineTriangleCount(w)}else e.getLineCoords(b,g),this._glViewHelper.dataToPoint(u,g[0],f),this._glViewHelper.dataToPoint(u,g[1],m),x(),c+=s.getCubicCurveVertexCount(f,h,p,m),d+=s.getCubicCurveTriangleCount(f,h,p,m);else{var _=r-n;c+=_*s.getLineVertexCount(),d+=_*s.getLineVertexCount()}s.setVertexCount(c),s.setTriangleCount(d);var S=n,C=[];for(b=n;b<r;b++){dP.parseColor(CF(i,S),C);var k=MR.firstNotNull(kF(i,S),1);C[3]*=k;w=e.getLineCoords(b,g);for(var D=0;D<w;D++)this._glViewHelper.dataToPoint(u,g[D],g[D]);o?s.addPolyline(g,C,l,0,w):0!==a?(f=g[0],m=g[1],x(),s.addCubicCurve(f,h,p,m,C,l)):s.addPolyline(g,C,l,0,2),S++}},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});(0,qT.D$)((function(e){e.registerChartView(Vz),e.registerSeriesModel(zz)}));var jz=document.createElement("canvas").getContext("webgl"),Wz=Math.pow(jz.getParameter(jz.MAX_TEXTURE_SIZE),2);jz=void 0;var Uz=function(t){var n=t.batchSize,r=t.data,i=t.gridSize,a=void 0===i?25:i,o=t.bins,s=t.style,l=t.tags,c=t.selectedDataKDE,d=t.pullBandwidth,f=t.mode,h=(0,e.useState)(),p=(0,g.Z)(h,2),m=(p[0],p[1]),v=(0,e.useState)([]),y=(0,g.Z)(v,2),b=y[0],w=y[1],_=(0,e.useCallback)((function(e){m(e)}),[m]),S=(0,e.useMemo)((function(){return Ek()((function(e){var t=(0,g.Z)(e.selected,2),n=t[0],r=t[1],i=b.filter((function(e){return e[2]<=r&&e[2]>=n}));c(i)}),100)}),[c,b]),C=(0,e.useMemo)((function(){return 1===f?{dataRangeSelected:S}:{}}),[S,f]);void 0===o&&(o=2*a);var k=(0,e.useMemo)((function(){var e=(0,g.Z)(r.shape,2),t=e[0],i=e[1];if(i>0){var s=void 0!==n?n:Math.min(Math.floor(Wz/(Math.pow(a,i)*i)),t),u=(0,GT.guassian_kde)({data:r,batchSize:s,grids:a,bins:o,boundaryExpansionFactor:.1,returnAxes:!0}),l=(0,g.Z)(u,2),c=l[0],f=l[1];d(XT({data:r,batchSize:s}));var h=CT.max(f).arraySync();return[c,0!==h?f.div(h):f]}return[CT.tensor([]),CT.tensor([])]}),[n,o,r,a,d]),D=(0,g.Z)(k,2),T=D[0],I=D[1],A=(0,e.useMemo)((function(){var e,t,n,i,a,o,s,c,d,f,h,p,m=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;switch(r.shape[1]){case void 0:case 0:return(0,u.jsx)(u.Fragment,{});case 1:w(I.arraySync()),e=[{type:"line",smooth:!0,data:I.arraySync()}],t={show:!0},n=void 0,o=void 0,s=void 0,c=void 0,i={type:"category",data:T[0].arraySync().map((function(e){return e.toFixed(4)}))},a={type:"value"},d={formatter:function(e){return e.marker+e.data}},f=[{id:"filter",show:!1,color:["#5470C6"]}];break;case 2:var v=[];h=T[0].arraySync(),p=T[1].arraySync(),I.arraySync().forEach((function(e,t){e.forEach((function(e,n){0!==e&&(v.push([h[t],p[n],e]),e<m?m=e:e>g&&(g=e))}))})),w(v),e=[{type:"scatter",data:v}],t={},n=void 0,o=void 0,s=void 0,c=void 0,i={type:"value"},a={type:"value"},d={formatter:function(e){return"<p style='text-align: left'><strong>"+l[0]+":</strong>"+e.data[0].toFixed(4)+"<br/><strong>"+l[1]+":</strong>"+e.data[1].toFixed(4)+"<br/><strong>Density :</strong>"+e.data[2].toFixed(3)+"</p>"}},f=[{id:"filter",type:"continuous",min:m,max:g,calculable:!0,color:["#dd0000","#cdcd00","#99ee00"],show:!0,precision:4,right:!0,textStyle:{color:"white"}}];break;default:return(0,u.jsx)(u.Fragment,{})}return{grid:t,grid3D:n,xAxis:i,yAxis:a,xAxis3D:o,yAxis3D:s,zAxis3D:c,series:e,tooltip:d,visualMap:f}}),[w,I,T,l,r]);return(0,u.jsx)(Ak.EchartsComponent,{onInit:function(e){return _(e)},style:x({},s),option:A,notMerge:!1,eventsHandler:C})},Hz=(0,e.memo)(Uz);n(78832);var Gz=function(t){var n=t.data,r=t.selectedTags,i=t.mode,a=t.getIndexKDE,o=void 0===a?function(){}:a,s=(0,e.useState)([]),l=(0,g.Z)(s,2),c=l[0],d=l[1],f=(0,e.useState)(),h=(0,g.Z)(f,2),p=h[0],m=h[1],y=(0,e.useMemo)((function(){var e=n.map((function(e){return Object.entries(e).filter((function(e){var t=(0,g.Z)(e,1)[0];return-1!==r.indexOf(t)})).map((function(e){var t=(0,g.Z)(e,2);t[0];return t[1]}))}));return CT.tensor(e)}),[n,r]),x=(0,e.useMemo)((function(){return(0,HT.debounce)((function(e){d(e)}),500)}),[]),b=(0,e.useCallback)((function(e){x(e)}),[x]),w=(0,e.useCallback)((function(e){m(e)}),[]);return(0,e.useEffect)((function(){if(c.length>0&&r.length>0){var e=p.arraySync(),t=(0,T.Z)(n),i=r.map((function(e){return(0,v.Z)({},e,[])}));if(2===r.length)for(var a=0;a<c.length;a++)for(var s=c[a],u=0;u<s.length-1;u++){var l=s[u];i[u][r[u]].push({sub:l-e[u],add:l+e[u]})}var d=[];i.forEach((function(e){var n=Object.keys(e)[0];e[n].forEach((function(e){t.forEach((function(t,r){if(t[n]>=e.sub&&t[n]<=e.add)return d.push(r),!0}))}))}));d.sort((function(e,t){return e-t})),o((f=d,(0,T.Z)(new Set(f))))}var f}),[p,n,c,r,i,o]),(0,u.jsx)(u.Fragment,{children:r.length<3?(0,u.jsx)(Hz,{style:{width:"100%",height:"100%"},tags:r,gridSize:64,selectedDataKDE:b,data:y,pullBandwidth:w,mode:i}):(0,u.jsx)(u.Fragment,{})})},Xz=(0,e.memo)(Gz),qz=n(59737),Yz=Po((function(e){return{input:{"&.MuiOutlinedInput-root":{color:"#ffffff",fontSize:"0.8rem",border:"1px solid #51b4ec",borderRadius:10,height:30,maxWidth:350,"& fieldset":{borderColor:"#51b4ec",color:"#ffffff"},"&:hover fieldset":{borderColor:"#51b4ec",color:"#ffffff"},"&:disabled":{backgroundColor:"#454c54",color:"#ffffff"},"&.Mui-disabled":{borderColor:"#51b4ec",color:"#ffffff"}},"&.Mui-focused fieldset":{borderColor:"#51b4ec",color:"#ffffff"},"&.Mui-disabled fieldset":{borderColor:"#51b4ec",color:"#ffffff"}},disabledInput:{"& .MuiInputBase-root.Mui-disabled":{color:"#ffffff"}},body:{fontFamily:"Roboto",fontSize:"0.5rem",color:"#ffffff"},switch:{color:"#ffffff"}}}));function Kz(t){var n=t.color,r=t.changeLineScale,i=t.width,a=void 0===i?15:i,o=t.height,s=void 0===o?15:o,l=t.tag,c=t.scaleLine.find((function(e){return e.tag===l})),d=Yz(),f=(0,e.useRef)(),h=(0,e.useState)(!1),p=(0,g.Z)(h,2),m=p[0],v=p[1],y=(0,e.useState)(c.autoScale),x=(0,g.Z)(y,2),b=x[0],w=x[1],_=(0,e.useState)(c.max?c.max:""),S=(0,g.Z)(_,2),C=S[0],k=S[1],D=(0,e.useState)(c.min?c.min:""),T=(0,g.Z)(D,2),I=T[0],A=T[1],M=(0,e.useCallback)((function(e){e.stopPropagation(),v(!m)}),[v,m]),E=(0,e.useCallback)((function(){w(!b),r(l,!b,I,C)}),[w,b,I,C,r,l]),N=(0,e.useCallback)((function(){v(!1),r(l,b,I,C)}),[v,b,I,C,r,l]);return(0,u.jsxs)("div",{style:{display:"inline-block",height:"100%",width:"100%"},children:[(0,u.jsx)(nd,{title:b?"Auto Scale":"Manual Scale",placement:"right",children:(0,u.jsx)(Pn,{onClick:M,children:(0,u.jsx)(qz.Z,{ref:f,style:{color:n,width:a,height:s}})})}),(0,u.jsx)(xs,{anchorEl:f.current,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},open:m,onClose:N,children:(0,u.jsx)("div",{style:{width:"10vw",height:"100%",backgroundColor:"#242f39",borderColor:10,overflowY:"auto",overflowX:"auto",paddingLeft:"5px",paddingRight:"5px"},children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,style:{paddingLeft:10,paddingTop:10},children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"left",children:(0,u.jsxs)(yD,{"aria-label":"gender",value:b,children:[(0,u.jsx)(aS,{value:!1,control:(0,u.jsx)(RD,{checked:b,style:{display:"inline",color:"#51b4ec"},size:"small",onChange:E}),label:(0,u.jsx)("p",{style:{fontSize:"0.8rem",color:"#ffffff"},children:"Auto Scale"})}),(0,u.jsx)(aS,{value:!0,control:(0,u.jsx)(RD,{checked:!b,style:{display:"inline",color:"#51b4ec"},size:"small",onChange:E}),label:(0,u.jsx)("p",{style:{fontSize:"0.8rem",color:"#ffffff"},children:"Manual Scale"})})]})})})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:4,md:4,lg:4,children:(0,u.jsx)(Bt,{className:d.body,children:"Min :"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:8,md:8,lg:8,children:(0,u.jsx)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault()},children:(0,u.jsx)(Ev,{fullWidth:!0,className:d.input,id:"filled-multiline-static",type:"number",rows:1,InputProps:{className:d.input},InputLabelProps:{shrink:!1},variant:"outlined",onChange:function(e){var t=e.target;return A(Number(t.value))},value:I,tabIndex:0,disabled:b})})})]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:4,md:4,lg:4,children:(0,u.jsx)(Bt,{className:d.body,children:"Max :"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:8,md:8,lg:8,children:(0,u.jsx)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault()},children:(0,u.jsx)(Ev,{fullWidth:!0,className:d.disabledInput,id:"filled-multiline-static",type:"number",rows:1,InputProps:{className:d.input},InputLabelProps:{shrink:!1},variant:"outlined",onChange:function(e){var t=e.target;return k(Number(t.value))},value:C,tabIndex:0,disabled:b})})})]})})]})})})]})}var Qz=(0,e.memo)(Kz),Jz=Lo;function $z(e){var t=Jz(),n=e.id,r=e.type,i=void 0===r?"text":r,a=e.label,o=e.value,s=e.onChange,l=e.editable,c=void 0===l||l;return(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,children:[""!==a&&(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:4,lg:4,children:(0,u.jsxs)(Bt,{variant:"subtitle1",children:[a," :"]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:8,lg:8,children:(0,u.jsx)(Ev,{fullWidth:!0,className:t.textField,InputLabelProps:{shrink:!0,className:t.textField},InputProps:{inputProps:{min:1},classes:{root:t.textField,disabled:t.textField}},id:n,type:i,label:"",variant:"outlined",disabled:!c,value:o,onChange:function(e){return s(e.target.value)}})})]})}var eV=Lo;function tV(t){var n=t.handleWatchList,r=void 0===n?function(){}:n,i=eV(),a=["Tag A","Tag B","Tag C","Tag D","Tag E"],o=(0,e.useState)(a),s=(0,g.Z)(o,2),l=s[0],c=s[1],d=a.map((function(e){return{tag:e}})),f=(0,e.useState)({name:"",startDate:"",endDate:"",sensors:l}),h=(0,g.Z)(f,2),p=h[0],m=h[1],v=(0,e.useCallback)((function(e,t){m(x(x({},p),{},{startDate:Sk(e,"yyyy-MM-dd"),endDate:Sk(t,"yyyy-MM-dd")}))}),[p,m]),y=(0,e.useState)(!1),b=(0,g.Z)(y,2),w=b[0],_=b[1],S=function(){_(!1)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(yl,{variant:"outlined",className:i.defaultButton,onClick:function(){_(!0)},fullWidth:!0,children:(0,u.jsx)(Bt,{className:i.contentTextBlack,children:"Add Watch List"})}),(0,u.jsxs)(Jk,{keepMounted:!0,open:w,onClose:S,PaperProps:{style:{border:"1px solid white",borderRadius:4}},maxWidth:"sm",children:[(0,u.jsx)(rD,{className:i.dialog,children:"Add New Watch List"}),(0,u.jsx)(sD,{className:i.dialog,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:3,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)($z,{label:"NAME",onChange:function(e){return m(x(x({},p),{},{name:e}))}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,children:[(0,u.jsx)(Go,{item:!0,xs:4,sm:4,md:4,lg:4,children:(0,u.jsx)(Bt,{className:i.blueText,children:"DATE PERIOD :"})}),(0,u.jsx)(Go,{item:!0,xs:8,sm:8,md:8,lg:8,children:(0,u.jsx)(Ik,{startSeries:(new Date).setFullYear((new Date).getFullYear()-1),endSeries:new Date,onPickedDate:v,filter:!1})})]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(Bt,{className:i.blueText,children:"SELECTED SENSORS"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,padding:1,children:(0,u.jsx)(mC,{autoHeight:!0,rows:d,columns:[{field:"tag",headerName:"SENSOR_TAG",flex:1}],getRowId:function(e){return Object.values(e)[0]},pageSize:10,checkboxSelection:!0,onSelectionModelChange:function(e){return t=e,m(x(x({},p),{},{sensors:t})),void c(t);var t},selectionModel:l,rowsPerPageOptions:[10]})})]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"right",children:(0,u.jsx)(yl,{variant:"contained",className:i.button,onClick:S,children:(0,u.jsx)(Bt,{className:i.contentTextBlack,onClick:function(){return r(p)},children:"Add"})})})]})}),(0,u.jsx)(dD,{className:i.dialog,children:(0,u.jsx)(yl,{variant:"outlined",className:i.button,onClick:S,children:"Close"})})]})]})}var nV=n(81314);function rV(e){return(0,se.Z)("MuiCollapse",e)}(0,oe.Z)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);var iV=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],aV=(0,b.ZP)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({height:0,overflow:"hidden",transition:t.transitions.create("height")},"horizontal"===n.orientation&&{height:"auto",width:0,transition:t.transitions.create("width")},"entered"===n.state&&(0,i.Z)({height:"auto",overflow:"visible"},"horizontal"===n.orientation&&{width:"auto"}),"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&{visibility:"hidden"})})),oV=(0,b.ZP)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:function(e,t){return t.wrapper}})((function(e){var t=e.ownerState;return(0,i.Z)({display:"flex",width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),sV=(0,b.ZP)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:function(e,t){return t.wrapperInner}})((function(e){var t=e.ownerState;return(0,i.Z)({width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),uV=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiCollapse"}),a=r.addEndListener,o=r.children,s=r.className,l=r.collapsedSize,c=void 0===l?"0px":l,d=r.component,f=r.easing,h=r.in,p=r.onEnter,m=r.onEntered,g=r.onEntering,y=r.onExit,x=r.onExited,b=r.onExiting,w=r.orientation,k=void 0===w?"vertical":w,D=r.style,T=r.timeout,I=void 0===T?nV.x9.standard:T,A=r.TransitionComponent,M=void 0===A?Ce:A,E=(0,S.Z)(r,iV),N=(0,i.Z)({},r,{orientation:k,collapsedSize:c}),R=function(e){var t=e.orientation,n=e.classes,r={root:["root","".concat(t)],entered:["entered"],hidden:["hidden"],wrapper:["wrapper","".concat(t)],wrapperInner:["wrapperInner","".concat(t)]};return(0,L.Z)(r,rV,n)}(N),P=_(),O=e.useRef(),F=e.useRef(null),Z=e.useRef(),B="number"===typeof c?"".concat(c,"px"):c,z="horizontal"===k,V=z?"width":"height";e.useEffect((function(){return function(){clearTimeout(O.current)}}),[]);var j=e.useRef(null),W=(0,Te.Z)(n,j),U=function(e){return function(t){if(e){var n=j.current;void 0===t?e(n):e(n,t)}}},H=function(){return F.current?F.current[z?"clientWidth":"clientHeight"]:0},G=U((function(e,t){F.current&&z&&(F.current.style.position="absolute"),e.style[V]=B,p&&p(e,t)})),X=U((function(e,t){var n=H();F.current&&z&&(F.current.style.position="");var r=De({style:D,timeout:I,easing:f},{mode:"enter"}),i=r.duration,a=r.easing;if("auto"===I){var o=P.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(o,"ms"),Z.current=o}else e.style.transitionDuration="string"===typeof i?i:"".concat(i,"ms");e.style[V]="".concat(n,"px"),e.style.transitionTimingFunction=a,g&&g(e,t)})),q=U((function(e,t){e.style[V]="auto",m&&m(e,t)})),Y=U((function(e){e.style[V]="".concat(H(),"px"),y&&y(e)})),K=U(x),Q=U((function(e){var t=H(),n=De({style:D,timeout:I,easing:f},{mode:"exit"}),r=n.duration,i=n.easing;if("auto"===I){var a=P.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(a,"ms"),Z.current=a}else e.style.transitionDuration="string"===typeof r?r:"".concat(r,"ms");e.style[V]=B,e.style.transitionTimingFunction=i,b&&b(e)}));return(0,u.jsx)(M,(0,i.Z)({in:h,onEnter:G,onEntered:q,onEntering:X,onExit:Y,onExited:K,onExiting:Q,addEndListener:function(e){"auto"===I&&(O.current=setTimeout(e,Z.current||0)),a&&a(j.current,e)},nodeRef:j,timeout:"auto"===I?null:I},E,{children:function(e,t){return(0,u.jsx)(aV,(0,i.Z)({as:d,className:(0,C.Z)(R.root,s,{entered:R.entered,exited:!h&&"0px"===B&&R.hidden}[e]),style:(0,i.Z)((0,v.Z)({},z?"minWidth":"minHeight",B),D),ownerState:(0,i.Z)({},N,{state:e}),ref:W},t,{children:(0,u.jsx)(oV,{ownerState:(0,i.Z)({},N,{state:e}),className:R.wrapper,ref:F,children:(0,u.jsx)(sV,{ownerState:(0,i.Z)({},N,{state:e}),className:R.wrapperInner,children:o})})}))}}))}));uV.muiSupportAuto=!0;var lV=uV;function cV(e){return(0,se.Z)("MuiTable",e)}(0,oe.Z)("MuiTable",["root","stickyHeader"]);var dV=["className","component","padding","size","stickyHeader"],fV=(0,b.ZP)("table",{name:"MuiTable",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.stickyHeader&&t.stickyHeader]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,i.Z)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},n.stickyHeader&&{borderCollapse:"separate"})})),hV="table",pV=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiTable"}),a=r.className,o=r.component,s=void 0===o?hV:o,l=r.padding,c=void 0===l?"normal":l,d=r.size,f=void 0===d?"medium":d,h=r.stickyHeader,p=void 0!==h&&h,m=(0,S.Z)(r,dV),g=(0,i.Z)({},r,{component:s,padding:c,size:f,stickyHeader:p}),v=function(e){var t=e.classes,n={root:["root",e.stickyHeader&&"stickyHeader"]};return(0,L.Z)(n,cV,t)}(g),y=e.useMemo((function(){return{padding:c,size:f,stickyHeader:p}}),[c,f,p]);return(0,u.jsx)(Qw.Provider,{value:y,children:(0,u.jsx)(fV,(0,i.Z)({as:s,role:s===hV?null:"table",ref:n,className:(0,C.Z)(v.root,a),ownerState:g},m))})}));function mV(e){return(0,se.Z)("MuiTableBody",e)}(0,oe.Z)("MuiTableBody",["root"]);var gV=["className","component"],vV=(0,b.ZP)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:function(e,t){return t.root}})({display:"table-row-group"}),yV={variant:"body"},xV="tbody",bV=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiTableBody"}),r=n.className,a=n.component,o=void 0===a?xV:a,s=(0,S.Z)(n,gV),l=(0,i.Z)({},n,{component:o}),c=function(e){var t=e.classes;return(0,L.Z)({root:["root"]},mV,t)}(l);return(0,u.jsx)(Jw.Provider,{value:yV,children:(0,u.jsx)(vV,(0,i.Z)({className:(0,C.Z)(c.root,r),as:o,ref:t,role:o===xV?null:"rowgroup",ownerState:l},s))})}));function wV(e){return(0,se.Z)("MuiTableContainer",e)}(0,oe.Z)("MuiTableContainer",["root"]);var _V=["className","component"],SV=(0,b.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:function(e,t){return t.root}})({width:"100%",overflowX:"auto"}),CV=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiTableContainer"}),r=n.className,a=n.component,o=void 0===a?"div":a,s=(0,S.Z)(n,_V),l=(0,i.Z)({},n,{component:o}),c=function(e){var t=e.classes;return(0,L.Z)({root:["root"]},wV,t)}(l);return(0,u.jsx)(SV,(0,i.Z)({ref:t,as:o,className:(0,C.Z)(c.root,r),ownerState:l},s))}));function kV(e){return(0,se.Z)("MuiTableHead",e)}(0,oe.Z)("MuiTableHead",["root"]);var DV=["className","component"],TV=(0,b.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(e,t){return t.root}})({display:"table-header-group"}),IV={variant:"head"},AV="thead",MV=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiTableHead"}),r=n.className,a=n.component,o=void 0===a?AV:a,s=(0,S.Z)(n,DV),l=(0,i.Z)({},n,{component:o}),c=function(e){var t=e.classes;return(0,L.Z)({root:["root"]},kV,t)}(l);return(0,u.jsx)(Jw.Provider,{value:IV,children:(0,u.jsx)(TV,(0,i.Z)({as:o,className:(0,C.Z)(c.root,r),ref:t,role:o===AV?null:"rowgroup",ownerState:l},s))})}));function EV(e){return(0,se.Z)("MuiTableRow",e)}var NV=(0,oe.Z)("MuiTableRow",["root","selected","hover","head","footer"]),RV=["className","component","hover","selected"],PV=(0,b.ZP)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.head&&t.head,n.footer&&t.footer]}})((function(e){var t,n=e.theme;return t={color:"inherit",display:"table-row",verticalAlign:"middle",outline:0},(0,v.Z)(t,"&.".concat(NV.hover,":hover"),{backgroundColor:(n.vars||n).palette.action.hover}),(0,v.Z)(t,"&.".concat(NV.selected),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,Ge.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,Ge.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)}}),t})),OV=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiTableRow"}),a=r.className,o=r.component,s=void 0===o?"tr":o,l=r.hover,c=void 0!==l&&l,d=r.selected,f=void 0!==d&&d,h=(0,S.Z)(r,RV),p=e.useContext(Jw),m=(0,i.Z)({},r,{component:s,hover:c,selected:f,head:p&&"head"===p.variant,footer:p&&"footer"===p.variant}),g=function(e){var t=e.classes,n={root:["root",e.selected&&"selected",e.hover&&"hover",e.head&&"head",e.footer&&"footer"]};return(0,L.Z)(n,EV,t)}(m);return(0,u.jsx)(PV,(0,i.Z)({as:s,ref:n,className:(0,C.Z)(g.root,a),role:"tr"===s?null:"row",ownerState:m},h))})),LV=OV,FV=n(85172),ZV=n(95678);function BV(e){return(0,se.Z)("MuiDialogContentText",e)}(0,oe.Z)("MuiDialogContentText",["root"]);var zV=["children"],VV=(0,b.ZP)(Bt,{shouldForwardProp:function(e){return(0,b.FO)(e)||"classes"===e},name:"MuiDialogContentText",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),jV=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiDialogContentText"}),r=(0,S.Z)(n,zV),a=function(e){var t=e.classes,n=(0,L.Z)({root:["root"]},BV,t);return(0,i.Z)({},t,n)}(r);return(0,u.jsx)(VV,(0,i.Z)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:r},n,{classes:a}))})),WV=Lo;function UV(t){var n=t.row,r=t.handleExploringWatchList,i=void 0===r?function(){}:r,a=WV(),o=(0,e.useState)(!1),s=(0,g.Z)(o,2),l=s[0],c=s[1],d=function(){c(!1)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(yl,{variant:"outlined",className:a.button,onClick:function(){c(!0)},children:(0,u.jsx)(Bt,{className:a.contentTextBlack,children:"Explore"})}),(0,u.jsxs)(Jk,{keepMounted:!0,open:l,onClose:d,PaperProps:{style:{border:"1px solid white",borderRadius:4}},maxWidth:"md",children:[(0,u.jsx)(rD,{className:a.dialog,children:"Confirm"}),(0,u.jsx)(sD,{className:a.dialog,children:(0,u.jsxs)(jV,{id:"alert-dialog-description",children:["Do you want to explore ",n.name,"?"]})}),(0,u.jsxs)(dD,{className:a.dialog,children:[(0,u.jsx)(yl,{variant:"outlined",className:a.button,onClick:d,children:"Cancel"}),(0,u.jsx)(yl,{variant:"contained",className:a.button,onClick:d,children:(0,u.jsx)(Bt,{className:a.contentTextBlack,onClick:function(){return i(n)},children:"submit"})})]})]})]})}var HV=Lo;function GV(t){var n=t.watchList,r=t.handleExploringWatchList,i=HV(),a=(0,e.useState)(!1),o=(0,g.Z)(a,2),s=o[0],l=o[1];function c(t){var n=t.row,i=e.useState(!1),a=(0,g.Z)(i,2),o=a[0],s=a[1];return(0,u.jsxs)(e.Fragment,{children:[(0,u.jsxs)(LV,{sx:{"& > *":{borderBottom:"unset"}},children:[(0,u.jsx)(f_,{component:"th",scope:"row",children:(0,u.jsx)(UV,{row:n,onClick:function(){return s(!1)},handleExploringWatchList:r})}),(0,u.jsx)(f_,{component:"th",scope:"row",children:n.name}),(0,u.jsx)(f_,{align:"right",children:(0,u.jsx)(Pn,{"aria-label":"expand row",size:"small",onClick:function(){return s(!o)},children:o?(0,u.jsx)(ZV.Z,{}):(0,u.jsx)(FV.Z,{})})})]}),(0,u.jsx)(LV,{children:(0,u.jsx)(f_,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:(0,u.jsx)(lV,{in:o,timeout:"auto",unmountOnExit:!0,children:(0,u.jsx)(O,{sx:{margin:1},children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:6,lg:6,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:3,lg:3,children:(0,u.jsx)(Bt,{children:"SELECTED SENSORS :"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:9,lg:9,align:"left",children:n.sensors.map((function(e){return(0,u.jsx)(Bt,{paddingBottom:1,children:(0,u.jsx)(hh,{label:e})})}))})]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:6,lg:6,children:(0,u.jsxs)(Bt,{children:["DATE PERIOD : ",n.startDate," - ",n.endDate]})})]})})})})})]})}return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(yl,{variant:"outlined",className:i.button,onClick:function(){return l(!0)},children:"Watch List"}),(0,u.jsxs)(Jk,{open:s,keepMounted:!0,onClose:function(){return l(!1)},PaperProps:{style:{border:"1px solid white",borderRadius:4}},fullWidth:!0,maxWidth:"xl",children:[(0,u.jsx)(rD,{className:i.dialog,children:"Watch List"}),(0,u.jsx)(sD,{className:i.dialog,children:(0,u.jsx)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(CV,{className:i.tableContainer,style:{height:"50vh"},children:(0,u.jsxs)(pV,{"aria-label":"collapsible table",className:i.table,stickyHeader:!0,size:"small",children:[(0,u.jsx)(MV,{children:(0,u.jsxs)(LV,{children:[(0,u.jsx)(f_,{className:i.table,children:"Explore"}),(0,u.jsx)(f_,{className:i.table,children:"Name"}),(0,u.jsx)(f_,{className:i.table})]})}),(0,u.jsx)(bV,{children:n.map((function(e){return(0,u.jsx)(c,{row:e},e.name)}))})]})})})})}),(0,u.jsx)(dD,{className:i.dialog,children:(0,u.jsx)(yl,{variant:"outlined",onClick:function(){return l(!1)},className:i.button,children:"Close"})})]})]})}var XV=n(84506);var qV=e.createContext({});function YV(e){return(0,se.Z)("MuiAccordion",e)}var KV=(0,oe.Z)("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),QV=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],JV=(0,b.ZP)(Qe,{name:"MuiAccordion",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,v.Z)({},"& .".concat(KV.region),t.region),t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r={duration:n.transitions.duration.shortest};return t={position:"relative",transition:n.transitions.create(["margin"],r),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(n.vars||n).palette.divider,transition:n.transitions.create(["opacity","background-color"],r)},"&:first-of-type":{"&:before":{display:"none"}}},(0,v.Z)(t,"&.".concat(KV.expanded),{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}}),(0,v.Z)(t,"&.".concat(KV.disabled),{backgroundColor:(n.vars||n).palette.action.disabledBackground}),t}),(function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({},!n.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!n.disableGutters&&(0,v.Z)({},"&.".concat(KV.expanded),{margin:"16px 0"}))})),$V=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiAccordion"}),a=r.children,o=r.className,s=r.defaultExpanded,l=void 0!==s&&s,c=r.disabled,d=void 0!==c&&c,f=r.disableGutters,h=void 0!==f&&f,p=r.expanded,m=r.onChange,v=r.square,y=void 0!==v&&v,x=r.TransitionComponent,b=void 0===x?lV:x,w=r.TransitionProps,_=(0,S.Z)(r,QV),k=(0,zs.Z)({controlled:p,default:l,name:"Accordion",state:"expanded"}),D=(0,g.Z)(k,2),T=D[0],I=D[1],A=e.useCallback((function(e){I(!T),m&&m(e,!T)}),[T,m,I]),M=e.Children.toArray(a),E=(0,XV.Z)(M),N=E[0],R=E.slice(1),P=e.useMemo((function(){return{expanded:T,disabled:d,disableGutters:h,toggle:A}}),[T,d,h,A]),O=(0,i.Z)({},r,{square:y,disabled:d,disableGutters:h,expanded:T}),F=function(e){var t=e.classes,n={root:["root",!e.square&&"rounded",e.expanded&&"expanded",e.disabled&&"disabled",!e.disableGutters&&"gutters"],region:["region"]};return(0,L.Z)(n,YV,t)}(O);return(0,u.jsxs)(JV,(0,i.Z)({className:(0,C.Z)(F.root,o),ref:n,ownerState:O,square:y},_,{children:[(0,u.jsx)(qV.Provider,{value:P,children:N}),(0,u.jsx)(b,(0,i.Z)({in:T,timeout:"auto"},w,{children:(0,u.jsx)("div",{"aria-labelledby":N.props.id,id:N.props["aria-controls"],role:"region",className:F.region,children:R})}))]}))}));function ej(e){return(0,se.Z)("MuiAccordionSummary",e)}var tj=(0,oe.Z)("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),nj=["children","className","expandIcon","focusVisibleClassName","onClick"],rj=(0,b.ZP)(In,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t,n=e.theme,r=e.ownerState,a={duration:n.transitions.duration.shortest};return(0,i.Z)((t={display:"flex",minHeight:48,padding:n.spacing(0,2),transition:n.transitions.create(["min-height","background-color"],a)},(0,v.Z)(t,"&.".concat(tj.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),(0,v.Z)(t,"&.".concat(tj.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),(0,v.Z)(t,"&:hover:not(.".concat(tj.disabled,")"),{cursor:"pointer"}),t),!r.disableGutters&&(0,v.Z)({},"&.".concat(tj.expanded),{minHeight:64}))})),ij=(0,b.ZP)("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:function(e,t){return t.content}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({display:"flex",flexGrow:1,margin:"12px 0"},!n.disableGutters&&(0,v.Z)({transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest})},"&.".concat(tj.expanded),{margin:"20px 0"}))})),aj=(0,b.ZP)("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:function(e,t){return t.expandIconWrapper}})((function(e){var t=e.theme;return(0,v.Z)({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})},"&.".concat(tj.expanded),{transform:"rotate(180deg)"})})),oj=e.forwardRef((function(t,n){var r=(0,fe.Z)({props:t,name:"MuiAccordionSummary"}),a=r.children,o=r.className,s=r.expandIcon,l=r.focusVisibleClassName,c=r.onClick,d=(0,S.Z)(r,nj),f=e.useContext(qV),h=f.disabled,p=void 0!==h&&h,m=f.disableGutters,g=f.expanded,v=f.toggle,y=(0,i.Z)({},r,{expanded:g,disabled:p,disableGutters:m}),x=function(e){var t=e.classes,n=e.expanded,r=e.disabled,i=e.disableGutters,a={root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]};return(0,L.Z)(a,ej,t)}(y);return(0,u.jsxs)(rj,(0,i.Z)({focusRipple:!1,disableRipple:!0,disabled:p,component:"div","aria-expanded":g,className:(0,C.Z)(x.root,o),focusVisibleClassName:(0,C.Z)(x.focusVisible,l),onClick:function(e){v&&v(e),c&&c(e)},ref:n,ownerState:y},d,{children:[(0,u.jsx)(ij,{className:x.content,ownerState:y,children:a}),s&&(0,u.jsx)(aj,{className:x.expandIconWrapper,ownerState:y,children:s})]}))}));function sj(e){return(0,se.Z)("MuiAccordionDetails",e)}(0,oe.Z)("MuiAccordionDetails",["root"]);var uj=["className"],lj=(0,b.ZP)("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){return{padding:e.theme.spacing(1,2,2)}})),cj=e.forwardRef((function(e,t){var n=(0,fe.Z)({props:e,name:"MuiAccordionDetails"}),r=n.className,a=(0,S.Z)(n,uj),o=n,s=function(e){var t=e.classes;return(0,L.Z)({root:["root"]},sj,t)}(o);return(0,u.jsx)(lj,(0,i.Z)({className:(0,C.Z)(s.root,r),ref:t,ownerState:o},a))})),dj=n(81131);function fj(e){var t=e.cols,n=e.data,r=e.uniqueIndexs,i=e.type;if("no sampling"!==i){for(var a=[],o=function(e){var o=r[e],s=r[e+1],u=void 0;u=e!==r.length-1?n.slice(o,s):n.slice(o);var l={};t.forEach((function(e){var t;if("TimeStamp"===e)t=new Date(u[0][e]);else{for(var n=[],r=0;r<u.length;r++)n.push(Number(u[r][e]));t=function(e){var t,n,r=e.values,i=e.type,a=r.filter((function(e){return!1===isNaN(e)}));return a.length>1?"mean"===i?t=(n=a).reduce((function(e,t){return e+t}))/n.length:"max"===i?t=Math.max.apply(Math,(0,T.Z)(a)):"min"===i?t=Math.min.apply(Math,(0,T.Z)(a)):"first"===i?t=a[0]:"last"===i&&(t=a[(null===a||void 0===a?void 0:a.length)-1]):1===a.length?t=a[0]:a.length<1&&(t=NaN),t}({values:n,type:i})}!1===isNaN(t)&&(l[e]=t)})),a.push(l)},s=0;s<r.length;s++)o(s);return a}return console.error("samplingData function => calculation type is not defined"),n}function hj(e){for(var t=e.data,n=e.specialSensor,r=[],i=function(e){var i=t[e],a=void 0;switch(n.calType){case"ADD":var o;void 0===n.constant?(n.derivedFrom.map((function(n,r){return 0===r?o=t[e][n]:o+=t[e][n],o})),a=o):void 0!==n.constant&&(a=o=t[e][n.derivedFrom[0]]+n.constant);break;case"ABSDIFF":void 0===n.constant?a=Math.abs(t[e][n.derivedFrom[0]]-t[e][n.derivedFrom[1]]):void 0!==n.constant&&(a=Math.abs(t[e][n.derivedFrom[0]]-n.constant));break;case"DIV":void 0===n.constant?a=t[e][n.derivedFrom[0]]/t[e][n.derivedFrom[1]]:void 0!==n.constant&&(a=t[e][n.derivedFrom[0]]/n.constant);break;case"MUL":var s;void 0===n.constant?(n.derivedFrom.map((function(n,r){return 0===r?s=t[e][n]:s*=t[e][n],s})),a=s):void 0!==n.constant&&(a=s=t[e][n.derivedFrom[0]]*n.constant);break;case"AVG":var u;void 0===n.constant&&(n.derivedFrom.map((function(n,r){return 0===r?u=t[e][n]:u+=t[e][n],u})),a=u/n.derivedFrom.length);break;case"WHERE >":a=t[e][n.derivedFrom[0]]>t[e][n.derivedFrom[1]]?t[e][n.derivedFrom[0]]:t[e][n.derivedFrom[1]];break;default:a=0}i[n.tag]=Number(a),r.push(i)},a=0;a<t.length;a++)i(a);return r}function pj(e){var t,n=e.calType,r=e.constant;switch(n){case"ADD":case"MUL":case"AVG":t=10;break;case"ABSDIFF":t=2;break;case"DIV":t=!1===r?2:1;break;default:t=0}return t}function mj(e){var t,n=e.derivedFrom;switch(e.calType){case"ADD":t="ADD";break;case"ABSDIFF":t="ABSDIFF";break;case"MUL":t="MUL";break;case"DIV":t="DIV";break;case"AVG":t="AVG";break;default:t=""}var r=t;if(n.length>0)for(var i=0;i<(null===n||void 0===n?void 0:n.length);i++)r+="_".concat(n[i]);return r}var gj=Lo;function vj(t){for(var n=gj(),r=t.cols,i=t.sensors,a=t.specialSensors,o=t.series,s=t.data,l=t.processingData,c=t.handleProcessData,d=t.handleSampleData,f=t.kde,h=void 0!==f&&f,p=(0,e.useState)("no sampling"),m=(0,g.Z)(p,2),v=m[0],y=m[1],x=(0,e.useState)(!1),b=(0,g.Z)(x,2),w=b[0],_=b[1],S=(0,e.useState)(!1),C=(0,g.Z)(S,2),k=C[0],D=C[1],I=(0,e.useState)(""),A=(0,g.Z)(I,2),M=A[0],E=A[1],N=(0,e.useState)(""),R=(0,g.Z)(N,2),P=R[0],O=R[1],L=(0,e.useState)(0),F=(0,g.Z)(L,2),Z=F[0],B=F[1],z=(0,e.useState)(1),V=(0,g.Z)(z,2),j=V[0],W=V[1],U=(0,e.useMemo)((function(){return i.map((function(e){return{id:e.tag,value:e.tag}}))}),[i]),H=[o.TimeStamp[0]],G=o.TimeStamp[0],X=[0],q=0;q<o.TimeStamp.length;q++)o.TimeStamp[q]>G&&(G=o.TimeStamp[q],H.push(o.TimeStamp[q]),X.push(q));var Y=function(){var e;(e=fj({cols:r,data:s,uniqueIndexs:X,type:v}))&&(a.length>0&&a.map((function(t){return e=hj({data:e,specialSensor:t})})),d("sampling",e),_(!0))},K=function(){var e=[],t=function(e){var t=e.tag,n=e.operator,r=e.value1,i=e.value2,a=e.data;if(""!==t&&""!==n&&""!==r||""!==i){for(var o=[],s=0;s<a.length;s++)switch(n){case"inRange":a[s][t]>=Number(r)&&a[s][t]<=Number(i)&&o.push(s);break;case"equal":a[s][t]===Number(r)&&o.push(s);break;case"moreThan":a[s][t]>Number(r)&&o.push(s);break;case"moreThanEqual":a[s][t]>=Number(r)&&o.push(s);break;case"lessThan":a[s][t]<Number(r)&&o.push(s);break;case"lessThanEqual":a[s][t]<=Number(r)&&o.push(s);break;default:o=[]}if(o.length>0)return o;console.error("filterDataIndex function => no result from this condition")}else console.error("filterDataIndex function => tag, operator and value must be defined")}({tag:M,operator:P,value1:Z,value2:j,data:l});(null===t||void 0===t?void 0:t.length)>0&&(t.forEach((function(t){return e.push(l[t])})),a.length>0&&a.map((function(t){return e=hj({data:e,specialSensor:t})})),c("indicator filter",e),D(!0))};(0,e.useEffect)((function(){Y(),K()}),[s,o]);var Q=function(){Z<0?B(0):Z>Math.max.apply(Math,(0,T.Z)(o[M])).toFixed(2)&&B(Math.max.apply(Math,(0,T.Z)(o[M])).toFixed(2))};return(0,u.jsxs)($V,{className:n.accordion,children:[(0,u.jsx)(oj,{expandIcon:(0,u.jsx)(dj.Z,{className:n.accordionIconBackground}),"aria-controls":"panel1a-content",id:"panel1a-header",className:n.accordionSummary,children:(0,u.jsx)(Bt,{children:"Sampling & Filtering"})}),(0,u.jsx)(cj,{className:n.accordionDetail,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"left",children:(0,u.jsx)(Bt,{style:{color:"#51b4ec"},children:"Sampling Data"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"left",children:(0,u.jsx)(sl,{label:"sampling type",items:_r.filter((function(e){return e.value!==v})),value:v,onChange:function(e){e!==v&&_(!1),y(e)},kde:h})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:6,lg:12,align:"left",children:(0,u.jsx)(yl,{variant:w?"contained":"outlined",color:w?"success":"primary",className:n.button,fullWidth:!0,onClick:Y,disabled:!!h,children:w?"Submited by "+v:"Submit"})})]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(Gt,{orientation:"vertical",flexItem:!0})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"left",children:(0,u.jsx)(Bt,{style:{color:"#51b4ec"},children:"Filtering Data"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"left",children:(0,u.jsx)(sl,{label:"sensor tag",items:U.filter((function(e){return e.value!==M})),value:M,onChange:function(e){e!==M&&D(!1),E(e)}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"left",children:(0,u.jsx)(sl,{label:"operator",items:wr.filter((function(e){return e.value!==P})),value:P,onChange:function(e){e!==P&&D(!1),O(e)}})}),""!==P&&(0,u.jsx)(u.Fragment,{children:"inRange"!==P?(0,u.jsxs)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"left",children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:"Value :"}),(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:0,children:[(0,u.jsx)(Go,{item:!0,xs:10,sm:10,md:10,lg:10,style:{paddingRight:"10px"},children:(0,u.jsx)(gT,{min:0,max:Math.max.apply(Math,(0,T.Z)(o[M])).toFixed(2),value:Z,step:.01,"aria-label":"Default",valueLabelDisplay:"auto",onChange:function(e,t){B(t)}})}),(0,u.jsx)(Go,{xs:2,sm:2,md:2,lg:2,align:"right",children:(0,u.jsx)(ku,{value:Z,size:"small",onChange:function(e){return B(""===e.target.value?"":Number(e.target.value))},onBlur:Q,inputProps:{step:.01,min:0,max:Math.max.apply(Math,(0,T.Z)(o[M])).toFixed(2),type:"number","aria-labelledby":"input-slider"}})})]})]}):(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,container:!0,children:[(0,u.jsx)(Go,{item:!0,xs:6,sm:6,md:6,lg:6,align:"left",children:"Value 1"}),(0,u.jsx)("br",{}),(0,u.jsx)(Go,{item:!0,xs:6,sm:6,md:6,lg:6,align:"right",children:"Value 2"}),(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,children:[(0,u.jsx)(Go,{item:!0,xs:2,sm:2,md:2,lg:2,align:"left",children:(0,u.jsx)(ku,{value:Z,size:"small",onChange:function(e){return B(""===e.target.value?"":Number(e.target.value))},onBlur:Q,inputProps:{step:.01,min:0,max:Math.max.apply(Math,(0,T.Z)(o[M])).toFixed(2),type:"number","aria-labelledby":"input-slider"}})}),(0,u.jsx)(Go,{item:!0,xs:8,sm:8,md:8,lg:8,align:"center",style:{paddingLeft:"20px",paddingRight:"20px"},children:(0,u.jsx)(gT,{getAriaLabel:function(){return"Minimum distance"},value:[Z,j],min:0,max:Math.max.apply(Math,(0,T.Z)(o[M])).toFixed(2),step:.01,onChange:function(e,t,n){Array.isArray(t)&&(0===n?B(Math.min(t[0],j-1)):W(Math.max(t[1],Z+1)))},valueLabelDisplay:"auto",disableSwap:!0})}),(0,u.jsx)(Go,{item:!0,xs:2,sm:2,md:2,lg:2,align:"right",children:(0,u.jsx)(ku,{value:j,size:"small",onChange:function(e){return W(""===e.target.value?"":Number(e.target.value))},onBlur:Q,inputProps:{step:.01,min:0,max:Math.max.apply(Math,(0,T.Z)(o[M])).toFixed(2),type:"number","aria-labelledby":"input-slider"}})})]})]})})}),(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:6,lg:12,spacing:2,children:[(0,u.jsx)(Go,{item:!0,xs:6,sm:6,md:6,lg:6,children:(0,u.jsx)(yl,{disabled:void 0===l,variant:"contained",color:k?"success":"primary",className:n.button,onClick:K,style:{width:"100%"},children:k?"Submited":"Submit"})}),(0,u.jsx)(Go,{item:!0,xs:6,sm:6,md:6,lg:6,children:(0,u.jsx)(yl,{variant:"outlined",className:n.button,onClick:function(){B(0),W(1),E(""),O(""),Y(),D(!1)},fullWidth:!0,children:"Reset"})})]})]})})]})})]})}var yj=Lo;function xj(t){var n=yj(),r=t.sensors,i=t.processedData,a=t.handleProcessData,o=t.handleSpecialSensors,s=(0,e.useState)([]),l=(0,g.Z)(s,2),c=l[0],d=l[1],f=(0,e.useState)(0),h=(0,g.Z)(f,2),p=h[0],m=h[1],v=(0,e.useState)(!1),y=(0,g.Z)(v,2),b=y[0],w=y[1],_=(0,e.useState)({derivedFrom:[],calType:"",constant:void 0,tag:"",name:"",description:"",component:"",unit:"",type:""}),S=(0,g.Z)(_,2),C=S[0],k=S[1],D=[{field:"tag",headerName:"SENSOR_TAG",width:180,renderCell:function(e){return(0,u.jsx)(u.Fragment,{children:"-"!==e.value?"".concat(e.value):e.value})}}],T=(0,e.useCallback)((function(e){if(e!==C.calType){var t=mj({derivedFrom:C.derivedFrom,calType:e}),n=pj({calType:e,constant:!1});m(n),k(x(x({},C),{},{derivedFrom:[],calType:e,constant:"",tag:t,name:""})),d([])}}),[C,k,m,d]),I=(0,e.useCallback)((function(e){var t=C.derivedFrom.filter((function(t){return t!==e})),n=mj({derivedFrom:t,calType:C.calType});k(x(x({},C),{},{derivedFrom:t,tag:n})),d(t)}),[C,k,d]),A=(0,e.useCallback)((function(){w(!0);var e=pj({calType:C.calType,constant:!0});m(e),k(x(x({},C),{},{constant:void 0}))}),[C,w,k,m]),M=(0,e.useCallback)((function(){w(!1);var e=pj({calType:C.calType,constant:!1});m(e),k(x(x({},C),{},{constant:""}))}),[C,w,k,m]),E=(0,e.useCallback)((function(){if(C.derivedFrom&&C.tag&&C.calType){var e={derivedFrom:C.derivedFrom,tag:C.tag,name:C.name,calType:C.calType,constant:C.constant?C.constant:void 0};w(!1),k({derivedFrom:[],calType:"",constant:void 0,tag:"",name:"",description:"",component:"",unit:"",type:""}),d([]);var t=hj({data:i,specialSensor:e});a("add special sensor",t),o(e)}}),[C,i,a,o,w,k,d]),N=(0,e.useState)(!1),R=(0,g.Z)(N,2),P=R[0],O=R[1],L=function(){O(!1)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(yl,{variant:"outlined",className:n.defaultButton,onClick:function(){O(!0)},fullWidth:!0,children:(0,u.jsx)(Bt,{className:n.contentTextBlack,children:"Add Special Sensor"})}),(0,u.jsxs)(Jk,{keepMounted:!0,open:P,onClose:L,PaperProps:{style:{border:"1px solid white",borderRadius:4}},fullWidth:!0,maxWidth:"xl",children:[(0,u.jsx)(rD,{className:n.dialog,children:"Add special sensor"}),(0,u.jsx)(sD,{className:n.dialog,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:6,lg:6,padding:3,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(sl,{label:"CALCULATION",value:C.calType,items:br.filter((function(e){return e.value!==(null===C||void 0===C?void 0:C.calType)})),onChange:function(e){return T(e)}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(vC,{columns:D,rows:r,selectionModel:c,checkboxSelection:!0,handleSelected:function(e){if(e.length<=p){var t=mj({derivedFrom:e,calType:C.calType});k(x(x({},C),{},{derivedFrom:e,tag:t})),d(e)}}})})]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:6,lg:6,padding:3,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,children:[(0,u.jsx)(Go,{item:!0,xs:4,sm:4,md:4,lg:4,children:(0,u.jsxs)(Bt,{className:n.blueText,children:["FORMULA :"," "]})}),(0,u.jsx)(Go,{item:!0,container:!0,xs:8,sm:8,md:8,lg:8,style:{backgroundColor:"#454c54",borderRadius:15,minHeight:"5vh"},children:C.derivedFrom.map((function(e,t){return(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,style:{paddingLeft:10,width:"5vw"},children:(0,u.jsx)(nd,{title:e||"-",placement:"top",children:(0,u.jsxs)(Bt,{className:n.whiteText,children:[0!==t?"".concat(br.find((function(e){return e.value===C.calType})).symbol," "):" ",e.length>40?"".concat(e.substring(0,40),"..."):"".concat(e),t===C.derivedFrom.length-1&&"AVG"===C.calType?" / ".concat(C.derivedFrom.length):"",t===C.derivedFrom.length-1&&"DIV"===C.calType&&""!==C.constant?" / ".concat(C.constant):"",(0,u.jsx)(Pn,{onClick:function(){return I(e)},children:(0,u.jsx)(PD.Z,{style:{fontSize:"1rem",color:"#f04461",borderRadius:5}})})]})})},e)}))})]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"right",children:(0,u.jsxs)(Bt,{className:n.whiteText,children:[c.length,"/",p]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:"DIV"===C.calType&&2!==C.derivedFrom.length&&(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[!1===b&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Go,{item:!0,xs:4,sm:4,md:4,lg:4,children:(0,u.jsxs)(Bt,{className:n.blueText,children:["CONSTANT :"," "]})}),(0,u.jsx)(Go,{item:!0,xs:8,sm:8,md:8,lg:8,alignContent:"right",alignItems:"right",alignSelf:"right",children:(0,u.jsx)(yl,{variant:"outlined",className:n.button,onClick:function(){return A()},children:(0,u.jsxs)(Bt,{className:n.contentTextBlack,children:[" ","Add Constant"]})})})]}),!0===b&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Go,{item:!0,xs:8,sm:8,md:8,lg:8,children:(0,u.jsx)($z,{type:"number",label:"CONSTANT",value:C.constant?C.constant:0,onChange:function(e){return k(x(x({},C),{},{constant:e}))}})}),(0,u.jsx)(Go,{item:!0,xs:4,sm:4,md:4,lg:4,children:(0,u.jsx)(Pn,{onClick:function(){return M()},children:(0,u.jsx)(PD.Z,{style:{fontSize:"1rem",color:"#f04461",borderRadius:5}})})})]})]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)($z,{label:"TAG",value:C.tag,onChange:function(e){return k(x(x({},C),{},{tag:e}))}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)($z,{label:"NAME",value:C.name,onChange:function(e){return k(x(x({},C),{},{name:e}))}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)($z,{label:"DESCRIPTION",value:C.description,onChange:function(e){return k(x(x({},C),{},{description:e}))}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(sl,{label:"TYPE",items:gr,value:C.type,onChange:function(e){return k(x(x({},C),{},{type:e}))}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(sl,{label:"UNIT",items:Sr,value:C.unit,onChange:function(e){return k(x(x({},C),{},{unit:e}))}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(sl,{label:"COMPONENT",items:xr,value:C.component,onChange:function(e){return k(x(x({},C),{},{component:e}))}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"right",children:(0,u.jsx)(yl,{variant:"outlined",onClick:function(){return E()},className:n.button,fullWidth:!0,children:"Add Special Sensor"})})]})})]})}),(0,u.jsx)(dD,{className:n.dialog,children:(0,u.jsx)(yl,{variant:"contained",className:n.button,onClick:L,children:"Close"})})]})]})}var bj=Lo;function wj(t){var n,r,i,a=t.series,o=t.data,s=void 0===o?[]:o,l=t.cols,c=void 0===l?[]:l,d=t.mode,f=t.master;a&&(n=new Date(a.TimeStamp[0]),r=new Date(a.TimeStamp[(null===(i=a.TimeStamp)||void 0===i?void 0:i.length)-2]));var h=bj(),p=(0,e.useState)(0),m=(0,g.Z)(p,2),v=m[0],y=(m[1],(0,e.useState)(n)),b=(0,g.Z)(y,2),w=b[0],_=b[1],S=(0,e.useState)(r),C=(0,g.Z)(S,2),k=C[0],D=C[1],I=(0,e.useState)(n),A=(0,g.Z)(I,2),M=(A[0],A[1]),E=(0,e.useState)(r),N=(0,g.Z)(E,2),R=(N[0],N[1]),P=(0,e.useState)([]),O=(0,g.Z)(P,2),L=O[0],F=O[1],Z=(0,e.useState)([]),B=(0,g.Z)(Z,2),z=B[0],V=B[1],j=(0,e.useState)("pairplot"),W=(0,g.Z)(j,2),U=W[0],H=W[1],G=(0,e.useState)(!1),X=(0,g.Z)(G,2),q=X[0],Y=X[1],K=(0,e.useState)([]),Q=(0,g.Z)(K,2),J=Q[0],$=Q[1],ee=(0,e.useState)([]),te=(0,g.Z)(ee,2),ne=te[0],re=te[1],ie=(0,e.useState)([]),ae=(0,g.Z)(ie,2),oe=ae[0],se=ae[1],ue=(0,e.useState)([]),le=(0,g.Z)(ue,2),ce=le[0],de=le[1],fe=(0,e.useState)([]),he=(0,g.Z)(fe,2),pe=he[0],me=he[1],ge=(0,e.useState)([]),ve=(0,g.Z)(ge,2),ye=(ve[0],ve[1]),xe=(0,e.useState)([]),be=(0,g.Z)(xe,2),we=be[0],_e=be[1],Se=(0,e.useState)(c.map((function(e){return{tag:e,autoScale:!0,min:void 0,max:void 0}}))),Ce=(0,g.Z)(Se,2),ke=Ce[0],De=Ce[1],Te=(0,e.useState)(s),Ie=(0,g.Z)(Te,2),Ae=Ie[0],Me=Ie[1],Ee=(0,e.useState)(s),Ne=(0,g.Z)(Ee,2),Re=Ne[0],Pe=Ne[1],Oe=(0,e.useMemo)((function(){var e=[],t={};s.forEach((function(t,n){if(w.getTime()<=new Date(t.TimeStamp).getTime()&&new Date(t.TimeStamp).getTime()<=new Date(k).getTime())return e.push(n),!0}));for(var n=e.map((function(e){return s[e]})),r=function(){var n=(0,g.Z)(o[i],2),r=n[0],a=n[1];t[r]=e.map((function(e){return a[e]}))},i=0,o=Object.entries(a);i<o.length;i++)r();return n&&t?[n,t]:[]}),[w,k,s,a]),Le=(0,g.Z)(Oe,2),Fe=Le[0],Ze=Le[1],Be=(0,e.useMemo)((function(){return function(e,t,n,r){var i=ke.findIndex((function(t){return t.tag===e}));-1!==i&&De([].concat((0,T.Z)(ke.slice(0,i)),[x(x({},ke[i]),{},{autoScale:t,min:n,max:r})],(0,T.Z)(ke.slice(i+1))))}}),[ke,De]),ze=(0,e.useMemo)((function(){return[{field:"tag",headerName:"SENSOR_TAG",flex:1,renderCell:function(e){return(0,u.jsx)(u.Fragment,{children:"-"!==e.value?"".concat(e.value):e.value})}},{field:"description",headerName:"Description",flex:1},{field:"status",headerName:"STATUS",flex:1,hide:!(oe.length>0),renderCell:function(e){return(0,u.jsx)(u.Fragment,{children:!0===e.value?(0,u.jsx)(hh,{variant:"outlined",color:"success",size:"small",label:"Recommend",icon:(0,u.jsx)(Mh.Z,{})}):(0,u.jsx)(u.Fragment,{})})}},{field:"scale",headerName:"Scale",flex:1,hide:U!==yr[1].value,renderCell:function(e){return!0===e.value?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(Qz,{color:"white",width:20,height:20,changeLineScale:Be,tag:e.row.id,scaleLine:ke})}):(0,u.jsx)(u.Fragment,{})}}]}),[Be,oe,U,ke]);(0,e.useEffect)((function(){var e=function(){De(c.map((function(e){return{tag:e,autoScale:!0,min:void 0,max:void 0}})))};if(c){var t=[],n=[],r={};if(c)for(var i=0;i<c.length-1;i++)"TimeStamp"!==c[i]&&(r[r]={id:c[i],tag:c[i],description:f&&f.length===c.length?f[i].DESCRIPTION:"",unit:f&&f.length===c.length?f[i].UNIT:"",component:f&&f.length===c.length?f[i].COMPONENT:"",status:!1,checked:!1,scale:!1},t.push(r[r]));if(J.length>0)for(var a=0;a<J.length;a++)r[r]={id:J[a].name,tag:J[a].name,description:"",unit:"",component:"",status:"",checked:!1,scale:!1},n.push(r[r]);ce.length>0&&ce.forEach((function(e){var n=t.findIndex((function(t){return t.id===e}));-1!==n&&(t[n].status=!0)})),U===yr[1].value&&(L.length>0&&L.forEach((function(e){var n=t.findIndex((function(t){return t.id===e}));-1!==n&&(t[n].checked=!0,t[n].scale=!0)})),z.length>0&&z.forEach((function(e){var n=t.findIndex((function(t){return t.id===e}));-1!==n&&(t[n].checked=!0,t[n].scale=!0)}))),0===L.length&&0===ne.length&&e(),0===z.length&&ne.length>0&&e(),_e([].concat(t,n))}}),[c,f,ce,L,z,U,ne,J,_e]);var Ve=(0,e.useCallback)((function(e){U===yr[2].value?e.length<3&&F(e):F(e)}),[U,F]),je=(0,e.useCallback)((function(e){V(e)}),[V]),We=(0,e.useCallback)((function(e,t){Me(t)}),[Me]),Ue=(0,e.useCallback)((function(e,t){Pe(t),Me(t)}),[Pe,Me]),He=(0,e.useCallback)((function(e){$([].concat((0,T.Z)(J),[e]))}),[we,J,$]),Ge=(0,e.useCallback)((function(e){me([].concat((0,T.Z)(pe),[e]))}),[pe,me]),Xe=(0,e.useCallback)((function(e){console.log("handleExploringWatchList",e),ye(e)}),[ye]),qe=(0,e.useCallback)((function(e){re(e)}),[re]),Ye=(0,e.useMemo)((function(){return Ek()((function(e){de(e)}),500)}),[de]),Ke=(0,e.useCallback)((function(e){Ye(e)}),[Ye]),Qe=(0,e.useCallback)((function(){de([])}),[]),Je=(0,e.useCallback)((function(e,t,n){!0===n?(M(e),R(t)):(_(e),D(t))}),[_,D,M,R]);return(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,className:h.mainBackground,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:3,lg:3,style:{padding:10},children:(0,u.jsx)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:0===v&&(0,u.jsx)("div",{style:{height:"100%",overflow:"auto"},children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsxs)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:[!0===q&&oe.length>0&&(0,u.jsx)(Ah,{severity:"success",action:(0,u.jsx)(yl,{color:"inherit",size:"small",onClick:function(){return Y(!1),se([]),re([]),de([]),V([]),_(n),D(r),M(n),void R(r)},children:"UNDO"}),children:"Data have been filter by KDE"}),(0,u.jsx)(vj,{cols:c,sensors:we,specialSensors:J,series:U===yr[2].value?a:Ze,data:U===yr[2].value?s:Fe,processingData:Re,handleProcessData:We,handleSampleData:Ue,kde:oe.length>0})]}),(0,u.jsxs)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:[U&&!1===q&&(0,u.jsx)(vC,{columns:ze,rows:we,handleSelected:Ve,selectionModel:L,checkboxSelection:!0}),U&&!0===q&&oe.length>0&&(0,u.jsx)(vC,{columns:ze,rows:we,handleSelected:je,selectionModel:z,checkboxSelection:!0})]}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:Ae&&(0,u.jsx)(xj,{sensors:we,specialSensors:J,processedData:Ae,handleSpecialSensors:He,handleProcessData:We})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:"1"===d&&(0,u.jsx)(tV,{handleWatchList:Ge})})]})})})})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:9,lg:9,style:{padding:10},children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:4,lg:4,align:"left",children:(0,u.jsx)(Ik,{startSeries:n,endSeries:r,onPickedDate:Je,kde:oe.length>0})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:4,lg:4,align:"left",children:(0,u.jsx)(sl,{label:"",items:yr.filter((function(e){return e.value!==U})),value:U,onChange:function(e){return H(e)}})}),"1"===d&&(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:2,lg:2,align:"right",children:(0,u.jsx)(GV,{watchList:pe,handleExploringWatchList:Xe})})]})}),(0,u.jsxs)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,style:{padding:10,height:"80vh",backgroundColor:"#000a14",borderRadius:10,marginTop:"15px"},children:[Ae&&(0,u.jsxs)(u.Fragment,{children:[U===yr[0].value&&L.length>0&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(ST,{data:Ae,selectedTags:L})}),U===yr[1].value&&L.length>0&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(UT,{selectedTags:L,data:Ae,scale:ke})}),U===yr[2].value&&L.length>0&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(Xz,{series:a,data:Ae,selectedTags:L,mode:d,getIndexKDE:qe})})]}),oe.length>0&&(0,u.jsxs)(u.Fragment,{children:[U===yr[0].value&&z.length>0&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(ST,{data:oe,selectedTags:z})}),U===yr[1].value&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(UT,{selectedTags:z,data:oe,rawdata:Ae,indexSeries:ne,getFilteredSensor:Ke,bar:!0,reset:Qe,scale:ke})})]})]}),U===yr[2].value&&L.length>0&&Ae&&(0,u.jsx)("div",{style:{display:"flex",flex:1,justifyContent:"flex-end",marginTop:"20px"},children:(0,u.jsx)(yl,{onClick:function(){if(ne.length>0){Y(!0),F([]);var e=ne.map((function(e){return Ae[e]}));se(e),H("timeseries")}},disabled:!(ne.length>0),children:"Apply Data"})})]})})]})}var _j=Lo;function Sj(t){var n=t.editMode,r=void 0!==n&&n,i=_j(),a=(0,e.useState)(),o=(0,g.Z)(a,2),s=o[0],l=o[1];function c(e){var t=e.model,n=e.editable;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:["RELATIONSHIP"===t.type&&(0,u.jsx)(Go,{item:!0,xs:12,sm:6,md:8,lg:8,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:6,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:6,md:6,lg:6,children:(0,u.jsx)(hh,{label:"TARGET",color:"primary",variant:"outlined"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:6,md:6,lg:6,children:(0,u.jsx)($z,{label:"",value:t.target.tag,editable:n})})]})}),t.predictor.map((function(e,r){return(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:6,md:6,lg:6,children:(0,u.jsx)(hh,{label:1===t.predictor.length?"PREDICTOR":"PREDICTOR ".concat(r+1),color:"primary",variant:"outlined"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:6,md:6,lg:6,children:(0,u.jsx)($z,{label:"",value:e.tag,editable:n})})]})})}))]})}),"INDIVIDUAL"===t.type&&(0,u.jsx)(Go,{item:!0,xs:12,sm:6,md:8,lg:8,children:(0,u.jsx)(Go,{item:!0,container:!0,xs:12,sm:6,md:12,lg:12,spacing:1,children:(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:6,md:6,lg:6,children:(0,u.jsx)(hh,{label:"INDIVIDUAL",color:"primary",variant:"outlined"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:6,md:6,lg:6,children:(0,u.jsx)($z,{label:"",value:t.individual.tag,editable:n})})]})})})}),"CLASSIFICATION"===t.type&&(0,u.jsx)(Go,{item:!0,xs:12,sm:6,md:8,lg:8,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:6,sm:6,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:6,md:6,lg:6,children:(0,u.jsx)(hh,{label:"X SENSOR",color:"primary",variant:"outlined"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:6,md:6,lg:6,children:(0,u.jsx)($z,{label:"",value:t.x.tag,editable:n})})]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:6,sm:6,md:6,lg:6,children:(0,u.jsx)(hh,{label:"Y SENSOR",color:"primary",variant:"outlined"})}),(0,u.jsx)(Go,{item:!0,xs:6,sm:6,md:6,lg:6,children:(0,u.jsx)($z,{label:"",value:t.y.tag,editable:n})})]})})]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:3,children:(0,u.jsx)(hh,{label:"TRAINING PERIOD",color:"primary",variant:"outlined"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:9,children:(0,u.jsx)(Ik,{startSeries:new Date(t.training.start),endSeries:new Date(t.training.end),filter:!1})})]})})]})})}function d(t){var n=t.row,a=e.useState(!1),o=(0,g.Z)(a,2),s=o[0],d=o[1];return(0,u.jsxs)(e.Fragment,{children:[(0,u.jsxs)(LV,{sx:{"& > *":{borderBottom:"unset"}},children:[(0,u.jsx)(f_,{children:(0,u.jsx)(Pn,{"aria-label":"expand row",size:"small",onClick:function(){return d(!s)},children:s?(0,u.jsx)(ZV.Z,{}):(0,u.jsx)(FV.Z,{})})}),!0===r&&(0,u.jsx)(f_,{component:"th",scope:"row",children:(0,u.jsx)(yl,{variant:"outlined",className:i.button,onClick:function(){l(n)},children:"EDIT"})}),(0,u.jsx)(f_,{component:"th",scope:"row",children:n.name}),(0,u.jsx)(f_,{component:"th",scope:"row",children:n.type}),(0,u.jsx)(f_,{component:"th",scope:"row",children:n.component.value})]}),(0,u.jsx)(LV,{children:(0,u.jsx)(f_,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:(0,u.jsx)(lV,{in:s,timeout:"auto",unmountOnExit:!0,children:(0,u.jsxs)(O,{sx:{margin:1},children:[(0,u.jsx)(Bt,{variant:"h6",gutterBottom:!0,component:"div",children:"Model Detail"}),(0,u.jsx)(c,{model:n,editable:!1})]})})})})]})}function f(e){var t=e.model;return(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)($z,{label:"COMPONENT",value:t.component.value})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)($z,{label:"MODEL TYPE",value:t.type})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)($z,{label:"NAME",value:t.name,onChange:function(e){return t=e,void(-1!==Cr.findIndex((function(e){return e.id===s.id}))&&l(x(x({},s),{},{name:t})));var t}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(c,{model:s})})]})}return(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,direction:"row",children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:s?6:12,align:"left",children:(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(CV,{className:i.tableContainer,children:(0,u.jsxs)(pV,{"aria-label":"collapsible table",className:i.table,stickyHeader:!0,size:"small",children:[(0,u.jsx)(MV,{children:(0,u.jsxs)(LV,{children:[(0,u.jsx)(f_,{className:i.table}),!0===r&&(0,u.jsx)(f_,{className:i.table,children:"Edit"}),(0,u.jsx)(f_,{className:i.table,children:"Model"}),(0,u.jsx)(f_,{className:i.table,children:"Type"}),(0,u.jsx)(f_,{className:i.table,children:"Component"})]})}),(0,u.jsx)(bV,{children:Cr.map((function(e){return(0,u.jsx)(d,{row:e},e.name)}))})]})})})}),s&&(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:6,align:"left",style:{paddingLeft:20},children:(0,u.jsx)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"left",children:(0,u.jsx)(f,{model:s})})})})]})}var Cj=Lo;function kj(){var e=Cj();return(0,u.jsxs)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,className:e.mainBackground,style:{padding:10,minHeight:"65vh"},children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"left",children:(0,u.jsx)(Bt,{variant:"h4",children:"Models Table"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(Sj,{editMode:!0})})]})}var Dj=Lo,Tj=["Exploring Data","Preparing Model","Building Model"],Ij=[{index:0,name:"process"}];function Aj(t){var n=t.mode,r=t.series,i=t.data,a=t.cols,o=t.master,s=(Dj(),(0,e.useState)(0)),l=(0,g.Z)(s,2),c=l[0],d=l[1],f=(0,e.useState)(0),h=(0,g.Z)(f,2),p=h[0],m=h[1],v=(0,e.useState)({}),y=(0,g.Z)(v,2),x=y[0],b=y[1],w=function(){return Tj.length},_=function(){return Object.keys(x).length},S=function(){return _()===w()},C=function(){var e=p!==w()-1||S()?p+1:Tj.findIndex((function(e,t){return!(t in x)}));m(e)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(ih,{items:Ij,value:c,onChange:function(e){return d(e)}})}),r&&(0,u.jsxs)(u.Fragment,{children:[0===c&&1===n&&(0,u.jsx)(wj,{series:r,data:i,cols:a,mode:n,master:o}),0===c&&2===n&&(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:2,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(Ud,{nonLinear:!0,activeStep:p,children:Tj.map((function(e,t){return(0,u.jsx)(Yd,{completed:x[t],children:(0,u.jsx)(wf,{color:"inherit",onClick:(n=t,function(){m(n)}),children:e})},e);var n}))})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:S()?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Bt,{sx:{mt:2,mb:1},children:"All steps completed - you're finished"}),(0,u.jsxs)(O,{sx:{display:"flex",flexDirection:"row",pt:2},children:[(0,u.jsx)(O,{sx:{flex:"1 1 auto"}}),(0,u.jsx)(yl,{onClick:function(){m(0),b({})},children:"Reset"})]})]}):(0,u.jsxs)(u.Fragment,{children:[0===p&&(0,u.jsx)(wj,{series:r,data:i,cols:a,mode:n,master:o}),1===p&&(0,u.jsx)(kj,{}),(0,u.jsxs)(O,{sx:{display:"flex",flexDirection:"row",pt:2},children:[(0,u.jsx)(yl,{color:"inherit",disabled:0===p,onClick:function(){m((function(e){return e-1}))},sx:{mr:1},children:"Back"}),(0,u.jsx)(O,{sx:{flex:"1 1 auto"}}),(0,u.jsx)(yl,{onClick:C,sx:{mr:1},children:"Next"}),p!==Tj.length&&(x[p]?(0,u.jsxs)(Bt,{variant:"caption",sx:{display:"inline-block"},children:["Step ",p+1," already completed"]}):(0,u.jsx)(yl,{onClick:function(){var e=x;e[p]=!0,b(e),C()},children:_()===w()-1?"Finish":"Complete Step"}))]})]})})]})})]})]})}var Mj=Lo;function Ej(t){var n=t.projectData,r=(t.handleInputData,Mj()),i=(0,e.useState)(!1),a=(0,g.Z)(i,2),o=a[0],s=a[1],l=(0,e.useState)(),c=(0,g.Z)(l,2),d=c[0],f=c[1],h=(0,e.useState)(),p=(0,g.Z)(h,2),m=p[0],v=p[1],y=(0,e.useState)(),x=(0,g.Z)(y,2),b=x[0],w=x[1],_=(0,e.useState)(1),S=(0,g.Z)(_,2),C=S[0],k=S[1],D=(0,e.useState)([]),T=(0,g.Z)(D,2),I=T[0],A=T[1],M=(0,e.useCallback)((function(e,t,n,r){void 0!==t?(f(e),w(t),v(n),console.log("onRawDataHandler => ",t,n)):console.error("onRawDataHandler => ",t)}),[w,v,f]),E=(0,e.useCallback)((function(e){A(e)}),[]);return(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,style:{minHeight:"65vh"},spacing:1,children:[n&&(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,padding:2,children:(0,u.jsx)(wl,{text:n.name})}),!1===o&&(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,className:r.mainBackground,style:{minHeight:"85vh",padding:10},spacing:1,children:(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,style:{padding:10},children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,children:[(0,u.jsxs)(Go,{item:!0,lg:12,md:12,sm:12,xs:12,padding:3,align:"center",children:[(0,u.jsx)(Bt,{variant:"h4",children:"Wizard Feature Demo"}),(0,u.jsx)("br",{}),(0,u.jsx)(Gt,{})]}),(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,paddingX:3,spacing:2,children:[(0,u.jsxs)(Go,{item:!0,xs:12,sm:12,md:6,lg:6,paddingY:5,children:[(0,u.jsx)(Ad,{onRawDataHandler:M,version:2}),(0,u.jsx)("br",{}),(0,u.jsx)(Gt,{})]}),(0,u.jsxs)(Go,{item:!0,xs:12,sm:12,md:6,lg:6,paddingY:5,children:[(0,u.jsx)(Ad,{onRawDataHandler:E,title:"MASTER DATA",file:"master",version:2}),(0,u.jsx)("br",{}),(0,u.jsx)(Gt,{})]}),(0,u.jsxs)(Go,{container:!0,item:!0,xs:12,sm:12,md:12,lg:12,style:{marginTop:"-40px"},children:[(0,u.jsx)(Go,{item:!0,lg:12,md:12,sm:12,xs:12,padding:1,align:"left",children:(0,u.jsx)(Bt,{children:"Choose mode"})}),(0,u.jsxs)(Go,{container:!0,item:!0,xs:12,sm:12,md:12,lg:12,spacing:2,paddingY:1,align:"left",children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:6,lg:6,children:(0,u.jsx)(yl,{component:"label",sx:{width:"100%",height:120,border:"1px solid",borderColor:"primary.main",borderRadius:"5px",backgroundColor:1===C?"primary.main":"transparent","&:hover":{backgroundColor:1===C&&"primary.main"}},onClick:function(){return k(1)},children:(0,u.jsxs)(Go,{container:!0,item:!0,xs:12,sm:12,md:12,lg:12,align:!0,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:4,md:4,lg:4,align:"center",children:(0,u.jsx)(bl.Z,{sx:{fontSize:50,color:1===C?"#242f39":"primary.main"}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:8,md:8,lg:8,align:"left",marginY:"auto",children:(0,u.jsx)(Bt,{variant:"h5",sx:{color:1===C?"#242f39":"primary.main"},children:"Root Cause Analysis"})})]})})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:6,lg:6,children:(0,u.jsx)(yl,{component:"label",disabled:!0,sx:{width:"100%",height:120,border:"1px solid",borderColor:"gray",borderRadius:"5px"},onClick:function(){return k(2)},children:(0,u.jsxs)(Go,{container:!0,item:!0,xs:12,sm:12,md:12,lg:12,align:!0,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:4,md:4,lg:4,align:"center",children:(0,u.jsx)(xl.Z,{sx:{fontSize:50,color:"gray"}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:8,md:8,lg:8,align:"left",marginY:"auto",children:(0,u.jsx)(Bt,{variant:"h5",sx:{color:"gray"},children:"Explore & Build Model"})})]})})})]}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"right",children:b&&0!==C&&(0,u.jsx)(yl,{variant:"contained",className:r.button,onClick:function(){return s(!0)},children:"Next"})})]})]})]})})})}),!0===o&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(Aj,{mode:C,series:b,data:m,cols:d,master:I})})]})}var Nj=[{id:1,value:"A"},{id:2,value:"B"},{id:3,value:"C"}],Rj=(Nj[0],xr[0],Nj[1],xr[1],Nj[1],xr[0],[{id:1,name:"Problem A",problemDetail:"Detail A",component:xr[0],problemType:Nj[0],type:"RELATIONSHIP",target:{type:"flow"},predictor:[{type:"speed"},{type:"speed"},{type:"pressure"}]},{id:2,name:"Problem B",problemDetail:"Detail B",component:xr[1],problemType:Nj[1],type:"INDIVIDUAL",individual:{type:"flow"}},{id:3,name:"Problem C",problemDetail:"Detail C",component:xr[2],problemType:Nj[2],type:"CLASSIFICATION",x:{type:"speed"},y:{type:"flow"},criteria:{type:"speed",clusters:[{name:"A",operator:"Equal",value:"5000"},{name:"B",operator:"More than equal",value:"5000"}]}},{id:4,name:"Problem D",problemDetail:"Detail D",component:xr[2],problemType:Nj[0],type:"CLASSIFICATION",x:{type:"speed"},y:{type:"flow"}},{id:5,name:"Problem E",problemDetail:"Detail E",component:xr[1],problemType:Nj[1],type:"INDIVIDUAL",individual:{type:"flow"}},{id:6,name:"Problem F",problemDetail:"Detail F",component:xr[1],problemType:Nj[1],type:"INDIVIDUAL",individual:{type:"flow"}},{id:7,name:"Problem G",problemDetail:"Detail G",component:xr[0],problemType:Nj[2],type:"CLASSIFICATION",x:{type:""},y:{type:"flow"}},{id:8,name:"Problem H",problemDetail:"Detail H",component:xr[1],problemType:Nj[2],type:"RELATIONSHIP",target:{type:"flow"},predictor:[{type:"speed"}]},{id:9,name:"Problem I",problemDetail:"Detail I",component:xr[0],problemType:Nj[1],type:"RELATIONSHIP",target:{type:"flow"},predictor:[{type:"speed"},{type:"speed"}]},{id:10,name:"Problem J",problemDetail:"Detail J",component:xr[2],problemType:Nj[0],type:"RELATIONSHIP",target:{type:"flow"},predictor:[{type:"speed"},{type:"speed"},{type:"pressure"}]}]),Pj=Lo;function Oj(e){var t=e.open,n=e.handleClose,r=e.handleDelete,i=e.handleSubmit,a=e.data,o=e.onChangeProblemName,s=e.onChangeComponent,l=e.onChangeProblemType,c=e.onChangeModelType,d=e.onChangeProblemDetail,f=e.onChangeCriteriaName,h=e.onChangeCriteriaOperator,p=e.onChangeCriteriaValue,m=Pj(),g=a.name,v=a.component,y=a.type,x=a.problemDetail,b=a.problemType,w=a.target,_=a.predictor,S=a.individual,C=a.x,k=a.y,D=a.criteria;return(0,u.jsx)("div",{children:(0,u.jsxs)(Jk,{open:t,onClose:n,PaperProps:{style:{border:"1px solid white",borderRadius:4}},fullWidth:!0,maxWidth:"xl",children:[(0,u.jsx)(rD,{className:m.dialog,children:"EDIT PROBLEM"}),(0,u.jsx)(sD,{className:m.dialog,children:(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{container:!0,spacing:2,xs:12,sm:12,md:12,lg:12,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)($z,{id:"name",label:"PROBLEM NAME",value:g,onChange:o})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(sl,{id:"component",label:"COMPONENT",items:xr,value:v.value,onChange:s,children:" "})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(sl,{id:"problemType",label:"PROBLEM TYPE",items:Nj,value:b.value,onChange:l,children:" "})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)($z,{id:"problemDetail",label:"PROBLEM DETAIL",value:x,onChange:d})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)($z,{id:"type",label:"MODEL TYPE",value:y,onChange:c})}),"CLASSIFICATION"===y&&(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,style:{padding:20,height:"full",backgroundColor:"#000a14",borderRadius:10,marginTop:"15px",marginLeft:"40px"},children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:2,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:void 0!==D&&(0,u.jsxs)(Go,{container:!0,item:!0,spacing:1,xs:12,sm:12,md:12,lg:12,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:4,children:(0,u.jsx)(hh,{label:"CRITERIA TYPE",color:"primary",variant:"outlined"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:8,children:(0,u.jsx)($z,{label:"",value:D.type})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,style:{maxHeight:"25vh",overflowY:"auto"},children:(0,u.jsx)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:D.clusters.map((function(e,t){return(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:2,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:4,children:(0,u.jsx)(hh,{label:1===e.length?"CLUSTER":"CLUSTER ".concat(t+1),color:"primary",variant:"outlined"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:2,children:(0,u.jsx)($z,{label:"Name",value:e.name,onChange:function(e){return f(e,t)}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:3,children:(0,u.jsx)(sl,{items:wr,label:"Operator",value:e.operator,onChange:function(e){return h(e,t)}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:3,children:(0,u.jsx)($z,{label:"Value",type:"number",value:e.value,onChange:function(e){return p(e,t)}})})]})})}))})})]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:4,children:(0,u.jsx)(hh,{label:"X SENSOR",color:"primary",variant:"outlined"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:8,children:(0,u.jsx)($z,{label:"",value:C.type})})]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:4,children:(0,u.jsx)(hh,{label:"Y SENSOR",color:"primary",variant:"outlined"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:8,children:(0,u.jsx)($z,{label:"",value:k.type})})]})})]})}),"INDIVIDUAL"===y&&(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,style:{padding:20,height:"full",backgroundColor:"#000a14",borderRadius:10,marginTop:"15px",marginLeft:"40px"},children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:2,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:4,children:(0,u.jsx)(hh,{label:"INDIVIDUAL",color:"primary",variant:"outlined"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:8,children:(0,u.jsx)($z,{label:"",value:S.type})})]})}),"RELATIONSHIP"===y&&(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,style:{padding:20,height:"full",backgroundColor:"#000a14",borderRadius:10,marginTop:"15px",marginLeft:"40px"},children:(0,u.jsxs)(Go,{container:!0,item:!0,spacing:2,xs:12,sm:12,md:12,lg:12,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:4,children:(0,u.jsx)(hh,{label:"TARGET",color:"primary",variant:"outlined"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:8,children:(0,u.jsx)($z,{label:"",value:w.type})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,style:{maxHeight:"25vh",overflowY:"auto"},children:(0,u.jsx)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:_.map((function(e,t){return(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:2,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:4,children:(0,u.jsx)(hh,{label:1===e.length?"PREDICTOR":"PREDICTOR ".concat(t+1),color:"primary",variant:"outlined"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:8,children:(0,u.jsx)($z,{label:"",value:e.type})})]})})}))})})]})})]})})}),(0,u.jsxs)(dD,{className:m.dialog,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"left",children:(0,u.jsx)(yl,{style:{marginLeft:"35px"},variant:"contained",color:"error",onClick:function(){return r(a.id)},children:"Delete"})}),(0,u.jsx)(yl,{style:{marginRight:"50px"},variant:"contained",onClick:i,children:"SAVE"})]})]})})}var Lj=Lo;function Fj(t){var n,r,i,a,o,s,l,c,d,f,h,p,m,v,y,b,w,_=t.handleAddData,S=Lj(),C=(0,e.useState)(Rj),k=(0,g.Z)(C,2),D=(k[0],k[1],(0,e.useState)("")),I=(0,g.Z)(D,2),A=(I[0],I[1]),M=(0,e.useState)(""),E=(0,g.Z)(M,2),N=E[0],R=E[1],P=(0,e.useState)(""),O=(0,g.Z)(P,2),L=(O[0],O[1]),F=(0,e.useState)(""),Z=(0,g.Z)(F,2),B=(Z[0],Z[1]),z=(0,e.useState)(1),V=(0,g.Z)(z,2),j=V[0],W=V[1],U=(0,e.useState)(1),H=(0,g.Z)(U,2),G=H[0],X=H[1],q=(0,e.useState)(),Y=(0,g.Z)(q,2),K=Y[0],Q=Y[1],J=(0,e.useState)(),$=(0,g.Z)(J,2),ee=$[0],te=$[1],ne=function(e,t,n){if(console.log("index, value",n,t),"name"===e)te(x(x({},ee),{},{name:t}));else if("modelType"===e)te(x(x({},ee),{},{type:t})),R(t),X(1),W(1);else if("component"===e){var r=xr.filter((function(e){return e.value===t})),i=(0,g.Z)(r,1)[0];console.log("test destruct",i),te(x(x({},ee),{},{component:i})),A(t)}else if("problemType"===e){var a=Nj.filter((function(e){return e.value===t})),o=(0,g.Z)(a,1)[0];console.log("test destruct",o),te(x(x({},ee),{},{problemType:o})),L(t)}else if("problemDetail"===e)te(x(x({},ee),{},{problemDetail:t})),B(t);else if("RELATIONSHIP"===N&&"numPredictor"===e){var s=[{type:""}];if(t>j){for(var u=t-ee.predictor.filter((function(e){return""!==e})).length,l=1;l<u;l++)s=[].concat((0,T.Z)(s),[{type:""}]);console.log("predictor",ee.predictor),console.log("arrayPredictor",s),te(x(x({},ee),{},{predictor:[].concat((0,T.Z)(ee.predictor),(0,T.Z)(s))}))}else{for(var c=1;c<t;c++)s=[].concat((0,T.Z)(s),[{type:""}]);te(x(x({},ee),{},{predictor:s}))}X(0),W(t),Q("0")}else if(1===G&&"predictor"===e){var d=[{type:t}];te(x(x({},ee),{},{predictor:d})),X(0),W("1")}else if("predictor"===e)te(x(x({},ee),{},{predictor:[].concat((0,T.Z)(ee.predictor.slice(0,n)),[x(x({},ee.predictor[n]),{},{type:t})],(0,T.Z)(ee.predictor.slice(n+1)))}));else if("target"===e){var f={type:t};te(x(x({},ee),{},{target:f})),Q("0")}else if("INDIVIDUAL"===N){var h={type:t};te(x(x({},ee),{},{individual:h})),Q("0")}else if("CLASSIFICATION"===N&&"x"===e){var p={type:t};te(x(x({},ee),{},{x:p}))}else if("CLASSIFICATION"===N&&"y"===e){var m={type:t};te(x(x({},ee),{},{y:m}))}else if("CLASSIFICATION"===N&&"criteriatype"===e){var v=x(x({},ee.criteria),{},{type:t});console.log("newproblem ",v),te(x(x({},ee),{},{criteria:x({},v)}))}else if("CLASSIFICATION"===N&&"numClusters"===e){var y=[{name:"",operator:"",value:""}];if(t>j){for(var b=t-ee.criteria.clusters.filter((function(e){return""!==e})).length,w=1;w<b;w++)y=[].concat((0,T.Z)(y),[{name:"",operator:"",value:""}]);console.log("Clusters",ee.criteria.clusters),console.log("arrayClusters",y),te(x(x({},ee),{},{criteria:x(x({},ee.criteria),{},{clusters:[].concat((0,T.Z)(ee.criteria.clusters),(0,T.Z)(y))})}))}else{for(var _=1;_<t;_++)y=[].concat((0,T.Z)(y),[{name:"",operator:"",value:""}]);te(x(x({},ee),{},{criteria:x(x({},ee.criteria),{},{clusters:y})}))}X(0),W(t)}else if("criteriaName"===e){var S=x(x({},ee),{},{criteria:x(x({},ee.criteria),{},{clusters:[].concat((0,T.Z)(ee.criteria.clusters.slice(0,n)),[x(x({},ee.criteria.clusters[n]),{},{name:t})],(0,T.Z)(ee.criteria.clusters.slice(n+1)))})});te(S)}else if("criteriaOperator"===e){var C=x(x({},ee),{},{criteria:x(x({},ee.criteria),{},{clusters:[].concat((0,T.Z)(ee.criteria.clusters.slice(0,n)),[x(x({},ee.criteria.clusters[n]),{},{operator:t})],(0,T.Z)(ee.criteria.clusters.slice(n+1)))})});te(C)}else if("criteriaValue"===e){var k=x(x({},ee),{},{criteria:x(x({},ee.criteria),{},{clusters:[].concat((0,T.Z)(ee.criteria.clusters.slice(0,n)),[x(x({},ee.criteria.clusters[n]),{},{value:t})],(0,T.Z)(ee.criteria.clusters.slice(n+1)))})});te(k)}else if(1===G&&"criteriaName1"===e){var D=[{name:t}];te(x(x({},ee),{},{criteria:x(x({},ee.criteria),{},{clusters:D})})),X(0),W("1")}else if(1===G&&"criteriaOperator1"===e){var I=[{operator:t}];te(x(x({},ee),{},{criteria:x(x({},ee.criteria),{},{clusters:I})})),X(0),W("1")}else if(1===G&&"criteriaValue1"===e){var M=[{value:t}];te(x(x({},ee),{},{criteria:x(x({},ee.criteria),{},{clusters:M})})),X(0),W("1")}};console.log("newProblem",ee);var re=(0,e.useCallback)((function(e){var t=[].concat((0,T.Z)(ee.predictor.slice(0,e)),(0,T.Z)(ee.predictor.slice(e+1)));console.log("delete data",t),te(x(x({},ee),{},{predictor:t})),W(t.length)}),[ee,te,W,j]),ie=(0,e.useCallback)((function(e){var t=[].concat((0,T.Z)(ee.criteria.clusters.slice(0,e)),(0,T.Z)(ee.criteria.clusters.slice(e+1)));console.log("delete data",t),te(x(x({},ee),{},{criteria:x(x({},ee.criteria),{},{clusters:t})})),W(t.length)}),[ee,te,W,j]);return(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,className:S.mainBackground,style:{padding:10,maxHeight:"65vh",overflowY:"auto"},children:(0,u.jsxs)(Go,{container:!0,spacing:2,xs:12,sm:12,md:12,lg:12,align:"left",children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)($z,{id:"name",label:"PROBLEM NAME",value:null===ee||void 0===ee?void 0:ee.name,onChange:function(e){return ne("name",e)}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(sl,{id:"component",label:"COMPONENT",items:xr,value:null===ee||void 0===ee||null===(n=ee.component)||void 0===n?void 0:n.value,onChange:function(e){return ne("component",e)},children:" "})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(sl,{id:"problemType",label:"PROBLEM TYPE",items:Nj,value:null===ee||void 0===ee||null===(r=ee.problemType)||void 0===r?void 0:r.value,onChange:function(e){return ne("problemType",e)}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)($z,{id:"problemDetail",label:"PROBLEM DETAIL",value:null===ee||void 0===ee?void 0:ee.problemDetail,onChange:function(e){return ne("problemDetail",e)}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(sl,{id:"type",label:"MODEL TYPE",items:vr,value:null===ee||void 0===ee?void 0:ee.type,onChange:function(e){return ne("modelType",e.toUpperCase())}})}),(0,u.jsx)(Go,{container:!0,item:!0,spacing:2,xs:12,sm:12,md:12,lg:12,children:"INDIVIDUAL"===N&&(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(sl,{label:"INDIVIDUAL SENSOR",items:gr,value:null===ee||void 0===ee||null===(i=ee.individual)||void 0===i?void 0:i.type,onChange:function(e){return ne("individual",e)}})})}),(0,u.jsx)(Go,{container:!0,item:!0,spacing:2,xs:12,sm:12,md:12,lg:12,children:"CLASSIFICATION"===N&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"center",children:(0,u.jsx)(xv,{onChange:function(e){return Q(e.target.value)},children:(0,u.jsx)(yD,{"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",children:(0,u.jsx)(aS,{value:1,control:(0,u.jsx)(RD,{}),label:"Criteria"})})})}),"1"===K&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(sl,{label:"TYPE",items:gr,value:null===ee||void 0===ee||null===(a=ee.criteria)||void 0===a?void 0:a.type,onChange:function(e){return ne("criteriatype",e)}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)($z,{label:"CLUSTER",type:"number",value:j,onChange:function(e){return ne("numClusters",e)}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:null===ee||void 0===ee||null===(o=ee.criteria)||void 0===o||null===(s=o.clusters)||void 0===s?void 0:s.map((function(e,t){return(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{container:!0,item:!0,spacing:1,xs:12,sm:12,md:12,lg:12,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:4,children:(0,u.jsx)(Bt,{children:2===e.length?"CLUSTER":"CLUSTER : ".concat(t+1)})}),(0,u.jsxs)(Go,{item:!0,xs:12,sm:12,md:12,lg:8,children:[(0,u.jsxs)(Go,{container:!0,item:!0,spacing:2,xs:12,sm:12,md:12,lg:12,style:{padding:5},children:[(0,u.jsx)($z,{label:"NAME",value:null===e||void 0===e?void 0:e.name,onChange:function(e){return ne("criteriaName",e,t)}}),(0,u.jsx)(sl,{label:"OPERATOR",items:wr,value:null===e||void 0===e?void 0:e.operator,onChange:function(e){return ne("criteriaOperator",e,t)}}),(0,u.jsx)($z,{label:"VALUE",type:"number",value:null===e||void 0===e?void 0:e.value,onChange:function(e){return ne("criteriaValue",e,t)}})]}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"right",children:(0,u.jsx)(Pn,{onClick:function(){return ie(t)},children:(0,u.jsx)(PD.Z,{style:{fontSize:"1rem",color:"#f04461",borderRadius:5}})})})]})]})})}))}),1===G&&(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{container:!0,item:!0,spacing:1,xs:12,sm:12,md:12,lg:12,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:4,children:(0,u.jsx)(Bt,{children:"CLUSTER : 1"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:8,children:(0,u.jsxs)(Go,{container:!0,item:!0,spacing:2,xs:12,sm:12,md:12,lg:12,style:{padding:5},children:[(0,u.jsx)($z,{label:"NAME",value:null===ee||void 0===ee||null===(l=ee.criteria)||void 0===l||null===(c=l.clusters)||void 0===c?void 0:c.name,onChange:function(e){return ne("criteriaName1",e)}}),(0,u.jsx)(sl,{label:"OPERATOR",items:wr,value:null===ee||void 0===ee||null===(d=ee.criteria)||void 0===d||null===(f=d.clusters)||void 0===f?void 0:f.operator,onChange:function(e){return ne("criteriaOperator1",e)}}),(0,u.jsx)($z,{label:"VALUE",type:"number",value:null===ee||void 0===ee||null===(h=ee.criteria)||void 0===h||null===(p=h.clusters)||void 0===p?void 0:p.value,onChange:function(e){return ne("criteriaValue1",e)}})]})})]})})]}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(sl,{label:"X SENSOR",items:gr,value:null===ee||void 0===ee||null===(m=ee.x)||void 0===m?void 0:m.type,onChange:function(e){return ne("x",e)}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(sl,{label:"Y SENSOR",items:gr,value:null===ee||void 0===ee||null===(v=ee.y)||void 0===v?void 0:v.type,onChange:function(e){return ne("y",e)}})})]})}),"RELATIONSHIP"===N&&(0,u.jsxs)(Go,{container:!0,item:!0,spacing:2,xs:12,sm:12,md:12,lg:12,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(sl,{label:"TARGET SENSOR",items:gr,value:null===ee||void 0===ee||null===(y=ee.target)||void 0===y?void 0:y.type,onChange:function(e){return ne("target",e)}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)($z,{label:"PREDICTOR SENSOR",type:"number",value:j,onChange:function(e){return ne("numPredictor",e)}})}),(0,u.jsxs)(Go,{container:!0,item:!0,spacing:2,xs:12,sm:12,md:12,lg:12,children:[null===ee||void 0===ee||null===(b=ee.predictor)||void 0===b?void 0:b.map((function(e,t){return(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(Go,{container:!0,item:!0,spacing:2,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:[(0,u.jsx)(sl,{label:e.length>2?"PREDICTOR":"PREDICTOR ".concat(t+1),items:gr,value:null===e||void 0===e?void 0:e.type,onChange:function(e){return ne("predictor",e,t)}}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"right",children:(0,u.jsx)(Pn,{onClick:function(){return re(t)},children:(0,u.jsx)(PD.Z,{style:{fontSize:"1rem",color:"#f04461",borderRadius:5}})})})]})})})})),1===G&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(sl,{label:"PREDICTOR 1",items:gr,value:null===ee||void 0===ee||null===(w=ee.predictor)||void 0===w?void 0:w.type,onChange:function(e){return ne("predictor",e)}})})})]})]}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"center",children:(0,u.jsx)(yl,{variant:"contained",onClick:function(){return _(ee,te)},children:"ADD PROBLEM"})})]})})}var Zj=Lo;function Bj(){Zj();var t=(0,e.useState)({id:"",name:"",component:"",problemType:"",problemDetail:"",type:"",target:"",predictor:"",individual:"",x:"",y:"",criteria:void 0,clusters:"",sensor:gr}),n=(0,g.Z)(t,2),r=n[0],i=n[1],a=(0,e.useState)(Rj),o=(0,g.Z)(a,2),s=o[0],l=o[1],c=(0,e.useState)(10),d=(0,g.Z)(c,2),f=d[0],h=d[1],p=[{field:"name",headerName:"PROBLEM",width:180},{field:"type",headerName:"MODEL",width:180},{field:"component",headerName:"COMPONENT",width:180,renderCell:function(e){return(0,u.jsx)(Bt,{variant:"subtitle2",children:e.row.component.value})},sortComparator:function(e,t){return e.value.localeCompare(t.value)}},{headerName:"ACTION",field:"edit",renderCell:function(e){return(0,u.jsx)(yl,{variant:"outlined",color:"primary",onClick:function(){return w(e.row)},children:"Edit"})}}],m=e.useState(!1),v=(0,g.Z)(m,2),y=v[0],b=v[1],w=function(e){console.log("Click Edit: ",e),i(e),b(!0)},_=(0,e.useCallback)((function(e){e.preventDefault();var t=s.findIndex((function(e){return e.id===r.id}));s.filter((function(e){return e.id===r.id}));if(-1!==t){var n=[].concat((0,T.Z)(s.slice(0,t)),[x(x({},s[t]),{},{name:r.name,component:r.component,problemType:r.problemType,problemDetail:r.problemDetail,criteria:r.criteria})],(0,T.Z)(s.slice(t+1)));l(n),console.log("update data",n),b(!1)}}),[s,r,l]),S=(0,e.useCallback)((function(e){if(window.confirm("Are you sure, you want to delete this row",e)){var t=s.filter((function(t){return t.id!==e}));l(t),console.log("delete data",t),b(!1)}}),[s,l]),C=(0,e.useCallback)((function(e){var t=x(x({},r),{},{name:e});console.log("Value:",e),console.log("update",t),i(t)}),[r,i]),k=(0,e.useCallback)((function(e){var t=xr.filter((function(t){return t.value===e})),n=(0,g.Z)(t,1)[0];console.log("test destruct",n),console.log("component value: ",e);var a=x(x({},r),{},{component:n});console.log("update component",a),i(a)}),[r,i]),D=(0,e.useCallback)((function(e){var t=x(x({},r),{},{problemDetail:e});console.log("Value:",e),console.log("update",t),i(t)}),[r,i]),I=(0,e.useCallback)((function(e){var t=Nj.filter((function(t){return t.value===e})),n=(0,g.Z)(t,1)[0];console.log("test destruct",n),console.log("problemType value: ",e);var a=x(x({},r),{},{problemType:n});console.log("update component",a),i(a)}),[r,i]),A=(0,e.useCallback)((function(e){var t=vr.filter((function(t){return t.value===e})),n=(0,g.Z)(t,1)[0];console.log("test destruct",n.value.toUpperCase());var a=x(x({},r),{},{type:n.value.toUpperCase()});console.log("update modeltype"),i(a)}),[r,i]),M=(0,e.useCallback)((function(e,t){var n=x(x({},r),{},{criteria:x(x({},r.criteria),{},{clusters:[].concat((0,T.Z)(r.criteria.clusters.slice(0,t)),[x(x({},r.criteria.clusters[t]),{},{name:e})],(0,T.Z)(r.criteria.clusters.slice(t+1)))})});console.log("Value:",e),console.log("update",n),i(n)})),E=(0,e.useCallback)((function(e,t){var n=x(x({},r),{},{criteria:x(x({},r.criteria),{},{clusters:[].concat((0,T.Z)(r.criteria.clusters.slice(0,t)),[x(x({},r.criteria.clusters[t]),{},{operator:e})],(0,T.Z)(r.criteria.clusters.slice(t+1)))})});console.log("Value:",e),console.log("update",n),i(n)})),N=(0,e.useCallback)((function(e,t){var n=x(x({},r),{},{criteria:x(x({},r.criteria),{},{clusters:[].concat((0,T.Z)(r.criteria.clusters.slice(0,t)),[x(x({},r.criteria.clusters[t]),{},{value:e})],(0,T.Z)(r.criteria.clusters.slice(t+1)))})});console.log("Value:",e),console.log("update",n),i(n)})),R=(0,e.useCallback)((function(e,t){if("INDIVIDUAL"===e.type&&void 0!==e.individual.type&&void 0!==e.name&&void 0!==e.component&&void 0!==e.problemType){var n=[].concat((0,T.Z)(s),[{id:s.length+1,name:e.name,problemDetail:e.problemDetail,component:e.component,type:e.type,individual:e.individual,problemType:e.problemType}]);console.log("add data => ",n),l(n),t(x(x({},e),{},{name:""}))}else if("RELATIONSHIP"===e.type&&void 0!==e.predictor&&void 0!==e.name&&void 0!==e.component&&void 0!==e.problemType){var r=[].concat((0,T.Z)(s),[{id:s.length+1,name:e.name,problemDetail:e.problemDetail,component:e.component,type:e.type,predictor:e.predictor,problemType:e.problemType,target:e.target}]);console.log("add data => ",r),l(r),t(void 0)}else if("CLASSIFICATION"===e.type&&void 0!==e.x&&void 0!==e.y&&void 0!==e.name&&void 0!==e.component&&void 0!==e.problemType&&void 0===e.criteria){var i=[].concat((0,T.Z)(s),[{id:s.length+1,name:e.name,problemDetail:e.problemDetail,component:e.component,type:e.type,x:e.x,y:e.y,problemType:e.problemType}]);console.log("add data => ",i),l(i),t(void 0)}else if("CLASSIFICATION"===e.type&&void 0!==e.x&&void 0!==e.y&&void 0!==e.name&&void 0!==e.component&&void 0!==e.problemType&&void 0!==e.criteria&&void 0!==e.criteria){var a=[].concat((0,T.Z)(s),[{id:s.length+1,name:e.name,problemDetail:e.problemDetail,component:e.component,type:e.type,x:e.x,y:e.y,problemType:e.problemType,criteria:e.criteria}]);console.log("add data => ",a),l(a),t(void 0)}h(f+1)}));return(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{container:!0,spacing:2,xs:12,sm:12,md:12,lg:12,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:7,lg:7,children:(0,u.jsx)(Fj,{handleAddData:R},f)}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:5,lg:5,children:(0,u.jsx)(vC,{rows:s,columns:p})}),(0,u.jsx)(Oj,{open:y,data:r,handleClose:function(){b(!1)},handleDelete:S,handleSubmit:_,onChangeProblemName:C,onChangeComponent:k,onChangeProblemType:I,onChangeModelType:A,onChangeProblemDetail:D,onChangeCriteriaName:M,onChangeCriteriaOperator:E,onChangeCriteriaValue:N})]})})}var zj=Lo;function Vj(t){var n=t.models;t.exploreModel;console.log("models:",n);var r=zj(),i=(0,e.useState)(),a=(0,g.Z)(i,2),o=a[0],s=a[1],l=(0,e.useState)("no select"),c=(0,g.Z)(l,2),d=(c[0],c[1],(0,e.useState)("")),f=(0,g.Z)(d,2);f[0],f[1];function h(e){var t=e.model,n=e.editable;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:["RELATIONSHIP"===t.type&&(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:7,lg:7,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:6,children:(0,u.jsx)(hh,{label:"TARGET",color:"primary",variant:"outlined"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:6,children:(0,u.jsx)($z,{label:"",value:t.target.type,editable:n})})]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,style:{maxHeight:"25vh",overflowY:"auto"},children:(0,u.jsx)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:t.predictor.map((function(e,r){return(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:6,children:(0,u.jsx)(hh,{label:1===t.predictor.length?"PREDICTOR":"PREDICTOR ".concat(r+1),color:"primary",variant:"outlined"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:6,children:(0,u.jsx)($z,{label:"",value:e.type,editable:n})})]})})}))})})]})}),"INDIVIDUAL"===t.type&&(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:7,lg:7,children:(0,u.jsx)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:6,children:(0,u.jsx)(hh,{label:"INDIVIDUAL",color:"primary",variant:"outlined"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:6,children:(0,u.jsx)($z,{label:"",value:t.individual.type,editable:n})})]})})})}),"CLASSIFICATION"===t.type&&(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:7,lg:7,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:6,children:(0,u.jsx)(hh,{label:"X SENSOR",color:"primary",variant:"outlined"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:6,children:(0,u.jsx)($z,{label:"",value:t.x.type,editable:n})})]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:6,children:(0,u.jsx)(hh,{label:"Y SENSOR",color:"primary",variant:"outlined"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:6,children:(0,u.jsx)($z,{label:"",value:t.y.type,editable:n})})]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,style:{maxHeight:"25vh",overflowY:"auto"},children:(0,u.jsx)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:void 0!==t.criteria&&(0,u.jsx)(u.Fragment,{children:t.criteria.clusters.map((function(e,t){return(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:3,lg:2,children:(0,u.jsx)(hh,{label:1===e.length?"CLUSTER":"CLUSTER ".concat(t+1),color:"primary",variant:"outlined"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:3,lg:2,children:(0,u.jsx)($z,{label:"",value:e.name,editable:n})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:3,lg:5,children:(0,u.jsx)($z,{label:"",value:e.operator,editable:n})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:3,lg:3,children:(0,u.jsx)($z,{label:"",value:e.value,editable:n})})]})})})})}))})})})]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:5,lg:5,children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:6,children:(0,u.jsx)(hh,{label:"Detail",color:"primary",variant:"outlined"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:6,children:(0,u.jsx)($z,{label:"",value:t.problemDetail,editable:n})})]})})]})})}function p(t){var n=t.row,r=e.useState(!1),i=(0,g.Z)(r,2),a=i[0],o=i[1];return(0,u.jsxs)(e.Fragment,{children:[(0,u.jsxs)(LV,{sx:{"& > *":{borderBottom:"unset"}},children:[(0,u.jsx)(f_,{children:(0,u.jsx)(Pn,{"aria-label":"expand row",size:"small",onClick:function(){return o(!a)},children:a?(0,u.jsx)(ZV.Z,{}):(0,u.jsx)(FV.Z,{})})}),(0,u.jsx)(f_,{component:"th",scope:"row",children:n.name}),(0,u.jsx)(f_,{component:"th",scope:"row",children:n.type}),(0,u.jsx)(f_,{component:"th",scope:"row",children:n.component.value})]}),(0,u.jsx)(LV,{children:(0,u.jsx)(f_,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:(0,u.jsx)(lV,{in:a,timeout:"auto",unmountOnExit:!0,children:(0,u.jsxs)(O,{sx:{margin:1},children:[(0,u.jsx)(Bt,{variant:"h6",gutterBottom:!0,component:"div",children:"Problem Detail"}),(0,u.jsx)(h,{model:n,editable:!1})]})})})})]})}function m(e){var t=e.model;return(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)($z,{label:"COMPONENT",value:t.component.value})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)($z,{label:"MODEL TYPE",value:t.type})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)($z,{label:"NAME",value:t.name,onChange:function(e){return t=e,console.log("name",t),void(-1!==n.findIndex((function(e){return e.id===o.id}))&&s(x(x({},o),{},{name:t})));var t}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(h,{model:o})})]})}return(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,direction:"row",children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:o?6:12,align:"left",children:(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(CV,{className:r.tableContainer,children:(0,u.jsxs)(pV,{"aria-label":"collapsible table",className:r.table,stickyHeader:!0,size:"small",children:[(0,u.jsx)(MV,{children:(0,u.jsxs)(LV,{children:[(0,u.jsx)(f_,{className:r.table}),(0,u.jsx)(f_,{className:r.table,children:"NAME"}),(0,u.jsx)(f_,{className:r.table,children:"Type"}),(0,u.jsx)(f_,{className:r.table,children:"Component"})]})}),(0,u.jsx)(bV,{children:n.map((function(e){return(0,u.jsx)(p,{row:e},e.name)}))})]})})})}),o&&(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:6,align:"left",style:{paddingLeft:20},children:(0,u.jsx)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:1,children:(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"left",children:(0,u.jsx)(m,{model:o})})})})]})}var jj=Lo;function Wj(){var t=jj(),n=(0,e.useState)(Rj),r=(0,g.Z)(n,2),i=r[0],a=r[1],o=(0,e.useState)("COMPONENT"),s=(0,g.Z)(o,2),l=s[0],c=s[1],d=(0,e.useState)("TYPE"),f=(0,g.Z)(d,2),h=f[0],p=f[1];console.log("Search Component: ",l),console.log("Search Type: ",h);return(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,className:t.mainBackground,style:{padding:10,minHeight:"65vh"},children:(0,u.jsxs)(Go,{container:!0,spacing:1,xs:12,sm:12,md:12,lg:12,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,align:"left",children:(0,u.jsx)(Bt,{variant:"h4",children:"View Guideline"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,style:{padding:10},children:(0,u.jsxs)(Go,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,spacing:2,children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:4,md:4,lg:4,align:"left",children:(0,u.jsx)(sl,{label:"",items:xr,value:l,onChange:function(e){return c(e)}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:4,md:4,lg:4,align:"left",children:(0,u.jsx)(sl,{label:"",items:vr,value:h,onChange:function(e){return p(e.toUpperCase())}})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:2,md:2,lg:2,align:"left",children:(0,u.jsx)(yl,{fullWidth:!0,className:t.button,onClick:function(){var e;void 0!==l&&"TYPE"===h?(e=Rj.filter((function(e){return e.component.value===l})),console.log("result 1: ",e)):"COMPONENT"===l&&void 0!==h?(e=Rj.filter((function(e){return e.type===h})),console.log("result 2: ",e)):(e=Rj.filter((function(e){return e.component.value===l&&e.type===h})),console.log("result 3: ",e)),a(e)},variant:"outlined",children:"Search"})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:2,md:2,lg:2,align:"left",children:(0,u.jsx)(yl,{fullWidth:!0,className:t.button,onClick:function(){c("COMPONENT"),p("TYPE"),a(Rj)},variant:"outlined",children:"Clear"})})]})}),(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(Vj,{models:i})})]})})}var Uj=[{index:0,name:"Add Guideline"},{index:1,name:"View Guideline"}];function Hj(){var t=(0,e.useState)(0),n=(0,g.Z)(t,2),r=n[0],i=n[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(ih,{items:Uj,value:r,onChange:function(e){return i(e)}})}),0===r&&(0,u.jsx)(Bj,{}),1===r&&(0,u.jsx)(Wj,{})]})}function Gj(){return(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(Go,{container:!0,spacing:2,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(Go,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(Hj,{})})})})}var Xj=15,qj=Po((function(e){var t;return t={mainBackground:{backgroundColor:"#121c26",borderRadius:10,padding:10,minHeight:"65vh"},subBackground:{backgroundColor:"#121c26",borderRadius:10},componentBackground:{backgroundColor:"#121c26",borderRadius:10},content:(0,v.Z)({transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),display:"block",flexGrow:1,padding:e.spacing(3),marginLeft:e.spacing(7)+1},e.breakpoints.up("sm"),{marginLeft:e.spacing(9)+1}),contentOffset:{transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),display:"block",flexGrow:1,padding:e.spacing(3),marginLeft:240},button:{"&.MuiButton-root":{borderRadius:4,fontSize:15,height:25,minWidth:"6vw"}},textField:{color:"#ffffff",height:30,borderColor:"#51b4ec","&.MuiFormControl-root ":{borderColor:"#51b4ec"},"&.MuiOutlinedInput-root":{color:"#ffffff",backgroundColor:"#242f39",fontSize:Xj,paddingLeft:20,minWidth:"5vw",borderColor:"#51b4ec",borderRadius:10,"& fieldset":{borderColor:"#51b4ec",color:"#ffffff"},"&:hover fieldset":{borderColor:"#ffffff",color:"#ffffff"},"&:disabled":{backgroundColor:"#454c54",color:"#ffffff"},"&.Mui-disabled":{borderColor:"#51b4ec",color:"#ffffff"}},"&.Mui-focused fieldset":{borderColor:"#51b4ec",color:"#ffffff"},"&.Mui-disabled fieldset":{borderColor:"#51b4ec",color:"#ffffff"}},selector:{"&.MuiOutlinedInput-root":{display:"flex",height:30,color:"#ffffff",backgroundColor:"#242f39",fontSize:Xj,paddingLeft:20,minWidth:"6vw",borderColor:"#51b4ec",borderRadius:10,"&:before":{borderColor:"#51b4ec"},"&:after":{borderColor:"#51b4ec"}},"&.MuiInputBase-root":{borderColor:"#51b4ec"},"&.MuiSvgIcon-root":{fill:"#ffffff",fontSize:15,paddingRight:5}},selectorIcon:{fill:"#ffffff",fontSize:15,paddingRight:5},menuItem:{"&.MuiMenuItem-root":{backgroundColor:"#242f39",color:"#ffffff",paddingRight:10,"&:hover":{backgroundColor:"#454c54",color:"#ffffff"},"&.Mui-selected":{backgroundColor:"#51b4ec",color:"#ffffff","&:hover":{backgroundColor:"#454c54",color:"#ffffff"}}},"&.MuiList-padding ":{paddingTop:0,paddingBottom:0,borderRadius:5}},tableContainer:{"&.MuiTableContainer-root":{overflowY:"auto",overflowX:"auto",maxHeight:"50vh",minWidth:"20vw",borderRadius:10}},tableHead:{"&.MuiTableCell-root":{borderBottomColor:"#242f39",backgroundColor:"#242f39",fontSize:15,color:"#51b4ec"}},tableBody:{"&.MuiTableBody-root":{fontSize:Xj}},tableCell:{"&.MuiTableCell-root":{borderBottomColor:"#242f39",backgroundColor:"#242f39",color:"#ffffff",fontSize:Xj,minWidth:"1vw"},"&.MuiFormControlLabel-root":{color:"#ffffff",fontSize:Xj,minWidth:"1vw"},"&.MuiFormControlLabel-label":{color:"#ffffff",fontSize:Xj,minWidth:"1vw"}},datePicker:{"& .MuiInputBase-input":{color:"white",fontSize:Xj,padding:"6px 10px"},"&.MuiFormControl-root ":{minWidth:"-webkit-fill-available",borderColor:"#51b4ec"},"&.MuiTextField-root":{color:"white",fontSize:Xj,borderColor:"#51b4ec","& fieldset":{borderColor:"#51b4ec"},"&:hover fieldset":{borderColor:"#51b4ec"},"&.Mui-focused fieldset":{borderColor:"#51b4ec"},"&.Mui-disabled fieldset":{borderColor:"#51b4ec"}},"&.MuiInputLabel-root ":{color:"#51b4ec"},"& label.Mui-focused":{color:"#51b4ec"}},dialog:{backgroundColor:"#242f39",color:"#ffffff"}},(0,v.Z)(t,"dialog",{"&.MuiDialog-root":{background:"#121c26",width:"100%"},"&.MuiDialogTitle-root":{background:"#121c26",width:"100%"},"&.MuiDialogActions-root":{background:"#121c26",width:"100%"},"&.MuiDialogContent-root":{background:"#121c26",width:"100%"},"&.MuiDialogContentText-root":{color:"#ffffff"}}),(0,v.Z)(t,"table",{"&.MuiTable-root":{backgroundColor:"#121c26"},"&.MuiTable-stickyHeader":{backgroundColor:"#121c26"},"&.MuiTableBody-root":{backgroundColor:"#121c26"},"&.MuiTableRow-root":{backgroundColor:"#121c26"},"&.MuiTableCell-root":{backgroundColor:"#121c26"}}),(0,v.Z)(t,"tableContainer",{"&.MuiTableContainer-root":{overflowY:"auto",overflowX:"auto",borderRadius:4,border:"1px solid gray",minHeight:"50vh",minWidth:"100%"}}),(0,v.Z)(t,"accordion",{"&.MuiAccordion-root":{backgroundColor:"#454c54",color:"#ffffff",borderTopLeftRadius:20,borderTopRightRadius:20,borderBottomLeftRadius:20,borderBottomRightRadius:20,"&.MuiPaper-root":{borderTopLeftRadius:20,borderTopRightRadius:20,borderBottomLeftRadius:20,borderBottomRightRadius:20}},"&.MuiAccordion-rounded":{}}),(0,v.Z)(t,"accordionSummary",{"&.MuiAccordionSummary-root":{backgroundColor:"#121c26",color:"#ffffff"}}),(0,v.Z)(t,"accordionSummaryExpanded",{"&.MuiAccordionSummary-root":{backgroundColor:"#121c26",color:"#51b4ec"}}),(0,v.Z)(t,"accordionDetail",{"&.MuiAccordionDetails-root":{backgroundColor:"#121c26",color:"#ffffff",borderRadius:4,border:"1px solid gray"}}),(0,v.Z)(t,"accordionIcon",{color:"#51b4ec",fontSize:15}),(0,v.Z)(t,"accordionIconExpanded",{color:"#51b4ec",fontSize:15}),(0,v.Z)(t,"accordionIconBackground",{backgroundColor:"gray",color:"#ffffff",borderRadius:20}),t})),Yj=240,Kj=function(e){return{width:Yj,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"}},Qj=function(e){return(0,v.Z)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(7)," + 1px)")},e.breakpoints.up("sm"),{width:"calc(".concat(e.spacing(8)," + 1px)")})},Jj=(0,b.ZP)("div")((function(e){var t=e.theme;return x({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:t.spacing(0,1)},t.mixins.toolbar)})),$j=(0,b.ZP)(ft,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return x({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:Yj,width:"calc(100% - ".concat(Yj,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),eW=(0,b.ZP)(st,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return x(x({width:Yj,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},n&&x(x({},Kj(t)),{},{"& .MuiDrawer-paper":Kj(t)})),!n&&x(x({},Qj(t)),{},{"& .MuiDrawer-paper":Qj(t)}))}));function tW(){var t=_(),n=(qj(),e.useState(!1)),r=(0,g.Z)(n,2),i=r[0],a=r[1],o=(0,e.useState)("Wizard Feature"),s=(0,g.Z)(o,2),l=s[0],c=s[1];return(0,u.jsxs)(O,{sx:{display:"flex"},children:[(0,u.jsx)(Nt,{}),(0,u.jsx)($j,{position:"fixed",open:i,children:(0,u.jsxs)(gt,{children:[(0,u.jsx)(Pn,{color:"inherit","aria-label":"open drawer",onClick:function(){a(!0)},edge:"start",sx:x({marginRight:5},i&&{display:"none"}),children:(0,u.jsx)(On.Z,{})}),(0,u.jsx)(Bt,{variant:"h6",noWrap:!0,component:"div",children:"Mini variant drawer"})]})}),(0,u.jsxs)(eW,{variant:"permanent",open:i,children:[(0,u.jsx)(Jj,{children:(0,u.jsx)(Pn,{onClick:function(){a(!1)},children:"rtl"===t.direction?(0,u.jsx)(Fn.Z,{}):(0,u.jsx)(Ln.Z,{})})}),(0,u.jsx)(Gt,{}),(0,u.jsx)(wt,{children:["Guideline","Wizard Feature"].map((function(e,t){return(0,u.jsx)($n,{button:!0,disablePadding:!0,sx:{display:"block"},to:"/dashboard",onClick:function(){return c(e)},children:(0,u.jsxs)(nr,{sx:{minHeight:48,justifyContent:i?"initial":"center",px:2.5},children:[(0,u.jsx)(sr,{sx:{minWidth:0,mr:i?3:"auto",justifyContent:"center"},children:t%2===0?(0,u.jsx)(hr.Z,{}):(0,u.jsx)(pr.Z,{})}),(0,u.jsx)(fr,{primary:e,sx:{opacity:i?1:0}})]})},e)}))})]}),(0,u.jsxs)(O,{component:"main",sx:{flexGrow:1,p:2,paddingTop:10},children:["Wizard Feature"===l&&(0,u.jsx)(Ej,{}),"Guideline"===l&&(0,u.jsx)(Gj,{})]})]})}var nW=function(){return(0,u.jsx)("div",{className:"App",children:(0,u.jsx)(h,{theme:m,children:(0,u.jsx)(tW,{})})})},rW=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,u.jsx)(e.StrictMode,{children:(0,u.jsx)(nW,{})})),rW()}()}();
//# sourceMappingURL=main.14dd74f8.js.map